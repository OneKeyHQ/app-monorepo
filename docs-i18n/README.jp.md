
## 🌍 環境設定

1. [node.js LTS バージョン (>= 16)] をインストールする(https://nodejs.org/en/)
2. [yarnパッケージ管理ツール](https://yarnpkg.com/)をインストールします。
3. インストール [git lfs](https://git-lfs.github.com/) (いくつかのバイナリのプルおよびアップデートに必要)

git コマンドラインツールで最新のコードを取得した後、プロジェクトの依存関係を ``yarn`` コマンドでルートディレクトリにインストールします。

```
# すべてのJS依存とサブモジュールの依存をインストールします。

糸

# expo コマンドラインツールをグローバルにインストールする

npm install -g expo-cli
```

## 😎 開発

ルートディレクトリで以下のコマンドを実行し、異なるビジネスコードを開発します。

- `yarn web`: ウェブモードを開発し、ポート 3000 の静的サーバをローカルに起動します。
- yarn ios`: USB接続でiphoneデバイスの開発をデバッグする。
- `yarn android`: Androidのデバッグ
- `yarn desktop`: デスクトップモードでの開発

### Androidプロジェクトの構成

#### 第一の方法：コミュニティ開発者向け

パッケージ/アプリ/アンドロイド/lib-keys-secret/src/main/cpp/keys.c`で関連するキーを設定するか、デフォルトのオプションを使用します。 一部のAPIには制限がある場合があります。

#### 第二の方法：公式開発者向け

1.暗号化リポジトリから `debug.keystore` ファイルを取得し、 `packages/app/android/keystores` ディレクトリに配置します（ない場合は自分で作成してください）。
2.暗号化リポジトリで `keys.secret` ファイルを取得し、`packages/app/android` ディレクトリに配置します。

## 🗂 複数のリポジトリディレクトリ構造

リポジトリはmonorepoモデルで構成され、異なるエンドのコードを一元化して影響を受けないようにするとともに、パッケージングとコンパイルの過程で可能な限りコードの再利用を可能にします。

- UI コンポーネントのための `packages/components` 。
- packages/kit` は、再利用可能なページレベルのUIコンテンツを保持します。
- パッケージ/アプリ` APPコード
- packages/desktop` デスクトップ電子コード
- パッケージ/web` ウェブサイドのコード
- パッケージ/拡張機能` プラグイン側のコード

## 🧲 依存関係をインストールする

packages/` ディレクトリの下のサブディレクトリはそれぞれ別のプロジェクトで、その名前は monorepo の **package.json** ディレクトリにある `name` フィールドの値になります。

サブディレクトリの依存関係をインストールする必要があるときは、`yarn workspace @onekeyhq/web add axios`とすればよいでしょう。 yarn workspace @onekeyhq/web` のような接頭辞をつけると、最終的に axios モジュールは web サブプロジェクトのルートディレクトリにインストールされるようになります。

依存関係の中にはネイティブな部分もあるので、JSの依存関係をインストールした後に、`packages/app/ios`ディレクトリに移動して、`pod install`を実行する必要があります。

## 😷 よくある質問

1.アプリが起動しない

ルートディレクトリの `yarn native` にある `--reset-cache` コマンドで、パッケージングツールのキャッシュをクリアします。 また、ルートディレクトリで `-yarn clean` コマンドを使用して、すべての依存関係と生成されたファイルをクリアしてから、 `-yarn` を再実行すると依存関係がインストールされます。
