(self.webpackChunkweb=self.webpackChunkweb||[]).push([[59055],{793437:(e,t,r)=>{"use strict";r.d(t,{X:()=>OpenInAppButton});var n=r(586330),i=r(514041),o=r(908867),a=r(17617),s=r(490343),u=r(889949),l=r(726130),c=r(334439),d=r(663522),h=r(117746),f=r(911998),g=r(831085);function OpenInAppButton({buildDeepLinkUrl:e,buildFullUrl:t}){var r=(0,o.A)(),{result:p}=(0,f.yk)((0,n.A)((function*(){var t=e();return(yield h.Ay.linkingCanOpenURL(t))?t:""})),[e]),b=((0,i.useMemo)((function(){return d.Ay.isWebMobile?d.Ay.isWebMobileAndroid?"Open by OneKey Android":d.Ay.isWebMobileIOS?"Open by OneKey iOS":void 0:"Open by OneKey Desktop"}),[]),(0,i.useCallback)((0,n.A)((function*(){var e=yield t();s.Dialog.show({title:r.formatMessage({id:c.ETranslations.open_in_mobile_app}),floatingPanelProps:{overflow:"hidden"},renderContent:(0,g.jsxs)(s.Stack,{children:[(0,g.jsx)(s.Stack,{alignItems:"center",justifyContent:"center",overflow:"hidden",children:(0,g.jsx)(s.Stack,{p:"$4",borderRadius:"$6",borderCurve:"continuous",borderWidth:a.A.hairlineWidth,borderColor:"$borderSubdued",children:(0,g.jsx)(s.QRCode,{value:e,logo:u,logoSize:40,size:224})})}),(0,g.jsxs)(s.XStack,{m:"$-5",mt:"$5",py:"$4",px:"$5",backgroundColor:"$bgSubdued",alignItems:"center",children:[(0,g.jsx)(s.SizableText,{size:"$bodyMd",color:"$textSubdued",flex:1,children:r.formatMessage({id:c.ETranslations.dont_have_mobile_app_yet})}),(0,g.jsx)(s.Button,{size:"small",onPress:function(){(0,h.Dr)(l.A8)},children:r.formatMessage({id:c.ETranslations.global_download})})]})]}),showFooter:!1})})),[t,r]));return(0,g.jsx)(s.Button,{size:"small",onPress:b,children:r.formatMessage({id:c.ETranslations.open_in_mobile_app})})}},660823:(e,t,r)=>{"use strict";r.d(t,{i:()=>TabPageHeader});var n=r(514041),i=r(490343),o=r(901976),a=r(162616),s=r(208257),u=r(325809),l=r(586330),c=r(908867),d=r(334439),h=r(392097),f=r(595346),g=r(714191),p=r(317522),b=r(812979),m=r(831085);function HeaderLeft({sceneName:e}){var t,r=(0,c.A)(),{tourTimes:o,tourVisited:a}=(0,b.c1)(f.A.switchDappAccount),[s,x]=(0,n.useState)(!1);(0,p.A)(h.V4.Home,(t=(0,l.A)((function*(e,t){x(!t&&e)})),function(e,r){return t.apply(this,arguments)}));var y=(0,n.useMemo)((function(){return 1===o&&s}),[s,o]),v=(0,n.useMemo)((function(){return e===g.Zs.homeUrlAccount?(0,m.jsx)(i.Page.Close,{children:(0,m.jsx)(i.NavBackButton,{})}):(0,m.jsx)(u.Qt,{num:0,spotlightProps:{visible:y,content:(0,m.jsx)(i.SizableText,{size:"$bodyMd",children:r.formatMessage({id:d.ETranslations.spotlight_account_alignment_desc})}),onConfirm:function(){a(2)},childrenPaddingVertical:0}},"accountSelectorTrigger")}),[r,e,y,a]);return(0,m.jsx)(u.b8,{enabledNum:[0],config:{sceneName:e,sceneUrl:""},children:v})}var x=r(896666),y=r(384013),v=r(259227),_=r(948675),S=r(663522),j=r(251039),w=r(596020),A=r(610421),$=r(498356),k=r(793437),M=r(211129),T=r(491180),I=r(796151),C=r(826339);function OpenInAppButtonContainer(){var{activeAccount:{account:e,network:t}}=(0,a.LH)({num:0}),r=(0,n.useCallback)((function(){return e&&t?I.Ay.buildDeepLinkUrl({path:M.oO.url_account,query:{networkCode:t.code,address:e.address}}):""}),[e,t]),i=(0,n.useCallback)((0,l.A)((function*(){return e&&t?(0,C.Hw)({account:e,network:t}):"n"})),[e,t]);return e?.address&&t?.id?(0,m.jsx)(k.X,{buildDeepLinkUrl:r,buildFullUrl:i}):null}function ShareButton(){var{activeAccount:{account:e,network:t}}=(0,a.LH)({num:0}),{shareText:r}=(0,i.useShare)();return e?.address&&t?.id?(0,m.jsx)(i.HeaderIconButton,{onPress:(0,l.A)((function*(){var n=yield(0,C.Hw)({account:e,network:t});yield r(n)})),icon:"ShareOutline"}):null}var O={Address:function Address(){var{activeAccount:{account:e}}=(0,a.LH)({num:0});return(0,i.useMedia)(),(0,m.jsxs)(i.XStack,{alignItems:"center",children:[(0,m.jsx)(i.SizableText,{size:"$headingLg",children:T.A.shortenAddress({address:e?.address})}),null]})},OpenInApp:function OpenInApp(){return(0,m.jsx)(u.b8,{config:{sceneName:g.Zs.homeUrlAccount,sceneUrl:""},enabledNum:[0],children:(0,m.jsx)(OpenInAppButtonContainer,{})})},Share:function Share(){return(0,m.jsx)(u.b8,{config:{sceneName:g.Zs.homeUrlAccount,sceneUrl:""},enabledNum:[0],children:(0,m.jsx)(ShareButton,{})})}},L=r(834015),P=r(390574),D=r(506851);function UniversalSearchInput(){var e=(0,c.A)(),t=(0,$.A)(),r=(0,n.useCallback)((function(){t.pushModal(h.ry.UniversalSearchModal,{screen:P.j.UniversalSearch,params:{filterType:D.j.Address}})}),[t]);return(0,m.jsxs)(i.XStack,{w:280,children:[(0,m.jsx)(i.Input,{leftIconName:"SearchOutline",containerProps:{w:"100%"},size:"small",placeholder:e.formatMessage({id:d.ETranslations.global_search_address})},"searchInput"),(0,m.jsx)(i.View,{position:"absolute",top:0,left:0,right:0,bottom:0,onPress:r})]})}function HeaderRight({sceneName:e}){var t=(0,c.A)(),r=(0,$.A)(),o=(0,L.A)(),[{firstTimeGuideOpened:s,badge:u}]=(0,v.useNotificationsAtom)(),{activeAccount:{account:f}}=(0,a.LH)({num:0}),[p]=(0,y.RI)(),[b]=(0,y.D4)(),k=(0,n.useCallback)((function(){r.pushModal(h.ry.SettingModal,{screen:h.Pj.SettingListModal})}),[r]),M=(0,n.useCallback)((function(){return o.start({handlers:o.PARSE_HANDLER_NAMES.all,autoHandleResult:!0,account:f,tokens:{data:p.tokens,keys:p.keys,map:b}})}),[o,f,p,b]),T=(0,i.useMedia)(),I=(0,n.useCallback)((0,l.A)((function*(){r.pushModal(h.ry.NotificationsModal,{screen:j.f.NotificationList})})),[r]),C=(0,n.useMemo)((function(){var r,n,o,a=(0,m.jsx)(x.v$,{title:t.formatMessage({id:d.ETranslations.settings_settings}),icon:"SettingsOutline",testID:"setting",onPress:k},"setting"),c={routes:""},h=(0,m.jsx)(i.ActionList,{title:t.formatMessage({id:d.ETranslations.global_layout}),items:[S.Ay.isExtensionUiPopup?{label:t.formatMessage({id:d.ETranslations.open_as_sidebar}),icon:"LayoutRightOutline",onPress:(o=(0,l.A)((function*(){_.U.account.wallet.openSidePanel(),yield w.Ay.openPanelOnActionClick(!0),yield w.Ay.openSidePanel(c),window.close()})),function onPress(){return o.apply(this,arguments)})}:{label:t.formatMessage({id:d.ETranslations.open_as_popup}),icon:"LayoutTopOutline",onPress:(n=(0,l.A)((function*(){yield w.Ay.openPanelOnActionClick(!1),window.close()})),function onPress(){return n.apply(this,arguments)})},{label:t.formatMessage({id:d.ETranslations.global_expand_view}),icon:"ExpandOutline",onPress:(r=(0,l.A)((function*(){_.U.account.wallet.openExpandView(),window.close(),yield A.A.serviceApp.openExtensionExpandTab(c)})),function onPress(){return r.apply(this,arguments)})}],renderTrigger:(0,m.jsx)(x.v$,{title:t.formatMessage({id:d.ETranslations.global_layout}),icon:"LayoutRightOutline"},"layoutRightView")},"layoutExtView"),f=(0,m.jsx)(x.v$,{title:t.formatMessage({id:d.ETranslations.scan_scan_qr_code}),icon:"ScanOutline",onPress:M},"scan"),p=(0,m.jsxs)(i.Stack,{children:[(0,m.jsx)(x.v$,{title:t.formatMessage({id:d.ETranslations.global_notifications}),icon:"BellOutline",onPress:I}),!s||u?(0,m.jsx)(i.Stack,{position:"absolute",right:"$-2.5",top:"$-2",alignItems:"flex-end",w:"$10",pointerEvents:"none",children:(0,m.jsx)(i.Stack,{bg:"$bgApp",borderRadius:"$full",borderWidth:2,borderColor:"$transparent",children:(0,m.jsx)(i.Stack,{px:"$1",borderRadius:"$full",bg:"$bgCriticalStrong",minWidth:"$4",height:"$4",alignItems:"center",justifyContent:"center",children:s?(0,m.jsx)(i.SizableText,{color:"$textOnColor",size:"$bodySm",children:u&&u>99?"99+":u}):(0,m.jsx)(i.Stack,{width:"$1",height:"$1",backgroundColor:"white",borderRadius:"$full"})})})}):null]},"notifications"),b=T.gtMd?(0,m.jsx)(UniversalSearchInput,{},"searchInput"):null;return e===g.Zs.homeUrlAccount?[(0,m.jsx)(O.OpenInApp,{},"urlAccountOpenInApp"),(0,m.jsx)(O.Share,{},"urlAccountShare")].filter(Boolean):S.Ay.isExtensionUiPopup||S.Ay.isExtensionUiSidePanel?[h,p,a].filter(Boolean):[f,p=null,a,b].filter(Boolean)}),[t,k,M,I,u,s,T.gtMd,e]);return(0,m.jsx)(x.bE,{testID:"Wallet-Page-Header-Right",className:"app-region-no-drag",children:C})}function HeaderTitle({sceneName:e}){var t=(0,n.useMemo)((function(){if(e===g.Zs.homeUrlAccount)return(0,m.jsx)(O.Address,{},"urlAccountNavHeaderAddress")}),[e]);return(0,m.jsx)(u.b8,{enabledNum:[0],config:{sceneName:e,sceneUrl:""},children:t})}function TabPageHeader({sceneName:e,showHeaderRight:t}){(0,o.e)({name:`web TabPageHeader:${e}:${String(t)}`});var r=(0,n.useCallback)((function(){return(0,m.jsx)(HeaderLeft,{sceneName:e})}),[e]),{config:l}=(0,a.H9)(),c=(0,n.useCallback)((function(){return t&&l?(0,m.jsx)(s.p,{children:(0,m.jsx)(u.b8,{enabledNum:[0],config:l,children:(0,m.jsx)(HeaderRight,{sceneName:e})})}):null}),[l,e,t]),d=(0,n.useCallback)((function(){return(0,m.jsx)(HeaderTitle,{sceneName:e})}),[e]);return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(i.Page.Header,{headerTitle:d,headerLeft:r,headerRight:c})})}},859055:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>EarnHome});var n=r(839850),i=r(324586),o=r(186207),a=r(586330),s=r(514041),u=r(241440),l=r(908867),c=r(17617),d=r(490343),h=r(259227),f=r(334439),g=r(948675),p=r(432104),b={},m={getItem:function(e){return b[e]},setItem:function(e,t){b[e]=t},removeItem:function(e){return delete b[e]},clear:function(){return b={},!0}},x=r(826029),y=r.n(x),getQuality=function(e){switch(e){case"lowest":return 10;case"low":return 5;case"high":return 1.333;case"highest":return 1;default:return getQuality("low")}},getDominantSwatch=function(e){for(var t=e[0],r=Object.keys(e),n=0;n<r.length;n++){var i=e[r[n]];i&&i?.population>-1&&(t=i)}return t};const v={getColors:(_=(0,a.A)((function*(e,t){var r,n,i,o,a,s,u,{fallback:l}=t,c=new Image;c.src=e,c.crossOrigin="Anonymous";var d=new(y())(c,{useWorker:!0,quality:getQuality(t.quality)}),h=yield d.getPalette();return{dominant:null!=(r=getDominantSwatch(h)?.hex)?r:l,vibrant:null!=(n=h.Vibrant?.hex)?n:l,darkVibrant:null!=(i=h.DarkVibrant?.hex)?i:l,lightVibrant:null!=(o=h.LightVibrant?.hex)?o:l,darkMuted:null!=(a=h.DarkMuted?.hex)?a:l,lightMuted:null!=(s=h.LightMuted?.hex)?s:l,muted:null!=(u=h.Muted?.hex)?u:l,platform:"web"}})),function getColors(e,t){return _.apply(this,arguments)})};var _,S=function(){var e=(0,a.A)((function*(e,t={}){var r,n="string"==typeof(r=e)?r:p.A.resolveAssetSource(r).uri;if(t?.cache){var i=t.key?m.getItem(t.key):m.getItem(n);if(i)return i}var o=yield v.getColors(n,t);if(t?.cache){var a;if(!t.key&&n.length>500)throw new Error("You enabled caching, but you didn't pass a key. We fallback to using the image URI as the key. However the URI is longer than 500. Please pass a short unique key.");m.setItem(null!=(a=t.key)?a:n,o)}return o}));return function getColors(t){return e.apply(this,arguments)}}();var j=r(663522),parseHexColor=function(e){return`rgba(${Number.parseInt(e.slice(1,3),16)}, ${Number.parseInt(e.slice(3,5),16)}, ${Number.parseInt(e.slice(5,7),16)}, 0.075)`},w=function(){var e=(0,a.A)((function*(e,t){try{return function(e,t){if(j.Ay.isNativeIOS){if("background"in e)return parseHexColor(e.background)}else if("vibrant"in e)return parseHexColor(e.vibrant);return t}(yield S(e,{cache:!0,key:e}),t)}catch(e){return t}}));return function getPrimaryColor(t,r){return e.apply(this,arguments)}}(),A=r(392097),$=r(584186),k=r(714191),M=r(610421),T=r(325809),I=r(791088),C=r(660823),O=r(498356),L=r(911998),P=r(162616),D=r(405730),E=1280,V=288,B=r(768417),z=r(831085),R=["token"];function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){(0,i.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var buildAprText=function(e){return e.endsWith("%")?`${e} APR`:e},getNumberColor=function(e,t="$textSuccess"){return 0===("string"==typeof e?Number(e):e)?"$textDisabled":t},H=function(){var e=(0,a.A)((function*(e,{networkId:t,accountId:r,indexedAccountId:n,symbol:i}){g.U.staking.page.selectAsset({tokenSymbol:i}),e.pushModal(A.ry.StakingModal,{screen:A.Ax.AssetProtocolList,params:{networkId:t,accountId:r,indexedAccountId:n,symbol:i}})}));return function toTokenProviderListPage(t,r){return e.apply(this,arguments)}}();function RecommendedSkeletonItem(e){var t=Object.assign({},((0,o.A)(e),e));return(0,z.jsxs)(d.YStack,_objectSpread(_objectSpread({gap:"$4",px:"$4",py:"$3.5",borderRadius:"$3",bg:"$bg",borderWidth:c.A.hairlineWidth,borderColor:"$borderSubdued",borderCurve:"continuous"},t),{},{children:[(0,z.jsxs)(d.XStack,{gap:"$3",alignItems:"center",children:[(0,z.jsx)(d.Skeleton,{width:"$8",height:"$8",radius:"round"}),(0,z.jsx)(d.YStack,{py:"$1",children:(0,z.jsx)(d.Skeleton,{w:56,h:16,borderRadius:"$2"})})]}),(0,z.jsxs)(d.YStack,{gap:"$1",children:[(0,z.jsx)(d.YStack,{py:"$1",children:(0,z.jsx)(d.Skeleton,{w:80,h:20,borderRadius:"$2"})}),(0,z.jsx)(d.YStack,{py:"$1",children:(0,z.jsx)(d.Skeleton,{w:120,h:12,borderRadius:"$2"})})]})]}))}function RecommendedItem(e){var{token:t}=e,r=(0,n.A)(e,R),i=(0,l.A)(),o=(0,P.LH)({num:0}),u=(0,O.A)(),[h,g]=(0,s.useState)(null);(0,s.useEffect)((function(){var e=t?.logoURI;e&&w(e,"$bgSubdued").then(g)}),[t?.logoURI]);var p=(0,s.useCallback)((0,a.A)((function*(){var e,{activeAccount:{account:r,indexedAccount:n}}=o;r&&t&&(yield H(u,{indexedAccountId:n?.id,accountId:null!=(e=r?.id)?e:"",networkId:t.account.networkId,symbol:t.symbol}))})),[o,u,t]);return t?(0,z.jsxs)(d.YStack,_objectSpread(_objectSpread({role:"button",flex:1,px:"$4",py:"$3.5",borderRadius:"$3",borderCurve:"continuous",bg:h,borderWidth:c.A.hairlineWidth,borderColor:"$borderSubdued",animation:"quick",hoverStyle:{scale:1.05},pressStyle:{scale:.95},onPress:p,userSelect:"none"},r),{},{children:[(0,z.jsxs)(d.XStack,{gap:"$3",alignItems:"center",children:[(0,z.jsx)(d.YStack,{children:(0,z.jsxs)(d.Image,{size:"$8",children:[(0,z.jsx)(d.Image.Source,{source:{uri:t.logoURI}}),(0,z.jsx)(d.Image.Fallback,{alignItems:"center",justifyContent:"center",bg:"$bgStrong",delayMs:1e3,children:(0,z.jsx)(d.Icon,{size:"$5",name:"CoinOutline",color:"$iconDisabled"})})]})}),(0,z.jsx)(d.SizableText,{size:"$bodyLgMedium",children:t.symbol.toUpperCase()})]}),(0,z.jsx)(d.SizableText,{size:"$headingXl",pt:"$4",pb:"$1",children:buildAprText(t.apr)}),(0,z.jsxs)(d.SizableText,{size:"$bodyMd",color:"$textSubdued",children:[`${i.formatMessage({id:f.ETranslations.global_available})}: `,(0,z.jsx)(d.NumberSizeableText,{size:"$bodyMd",color:"$textSubdued",formatter:"balance",formatterOptions:{tokenSymbol:t.symbol.toUpperCase()},children:t.balanceParsed})]})]})):(0,z.jsx)(d.YStack,{width:"$40",flexGrow:1})}function RecommendedContainer({profit:e,children:t}){var[r]=(0,h.useSettingsPersistAtom)(),n=(0,l.A)();return(0,z.jsxs)(d.YStack,{gap:"$3",children:[(0,z.jsxs)(d.YStack,{gap:"$1",zIndex:10,children:[(0,z.jsx)(d.SizableText,{size:"$headingLg",children:n.formatMessage({id:f.ETranslations.earn_recommended})}),(0,z.jsxs)(d.XStack,{gap:"$1.5",children:[(0,z.jsxs)(d.SizableText,{size:"$bodyMd",color:"$textSubdued",children:[`${n.formatMessage({id:f.ETranslations.earn_missing_rewards})}: `,(0,z.jsx)(d.NumberSizeableText,{size:"$bodyMdMedium",color:"$textSuccess",formatter:"balance",formatterOptions:{currency:r.currencyInfo.symbol},children:e.toFixed()})]}),(0,z.jsx)(d.Popover,{placement:"bottom-start",title:n.formatMessage({id:f.ETranslations.earn_missing_rewards}),renderContent:(0,z.jsx)(d.SizableText,{px:"$5",py:"$4",children:n.formatMessage({id:f.ETranslations.earn_missing_rewards_tooltip})}),renderTrigger:(0,z.jsx)(d.IconButton,{variant:"tertiary",size:"small",icon:"InfoCircleOutline"})})]})]}),t]})}function Recommended({isFetchingAccounts:e=!1}){var{activeAccount:{account:t,network:r}}=(0,P.LH)({num:0}),n=(0,D.Vm)(),i=(0,s.useMemo)((function(){return n.current.buildEarnAccountsKey(t?.id,r?.id)}),[t?.id,n,r?.id]),[{earnAccount:o}]=(0,D.vQ)(),{tokens:a,profit:l}=(0,s.useMemo)((function(){var e=[],t=new u.A(0),r=o?.[i]?.accounts||[];return r?.forEach((function(r){r.tokens.forEach((function(n){t=t.plus(n.profit||0),e.push(_objectSpread(_objectSpread({},n),{},{account:r}))}))})),{tokens:e,profit:t}}),[o,i]);return e&&a.length<1?(0,z.jsx)(RecommendedContainer,{profit:l,children:(0,z.jsx)(d.XStack,{m:"$-5",p:"$3.5",children:Array.from({length:2}).map((function(e,t){return(0,z.jsx)(d.YStack,{p:"$1.5",flexBasis:"50%",$gtLg:{flexBasis:"33.33%"},children:(0,z.jsx)(RecommendedSkeletonItem,{})},t)}))})}):a.length?(0,z.jsx)(RecommendedContainer,{profit:l,children:(0,z.jsx)(d.XStack,{m:"$-5",p:"$3.5",flexWrap:"wrap",children:a.map((function(e){return(0,z.jsx)(d.YStack,{p:"$1.5",flexBasis:"50%",$gtLg:{flexBasis:"33.33%"},children:(0,z.jsx)(RecommendedItem,{token:e})},e.symbol)}))})}):null}function Overview({isFetchingAccounts:e}){var{activeAccount:{account:t,network:r}}=(0,P.LH)({num:0}),n=(0,D.Vm)(),i=(0,s.useMemo)((function(){return n.current.buildEarnAccountsKey(t?.id,r?.id)}),[t?.id,n,r?.id]),[{earnAccount:o}]=(0,D.vQ)(),[a]=(0,h.useSettingsPersistAtom)(),u=(0,s.useMemo)((function(){return o?.[i]?.totalFiatValue||"0"}),[o,i]),g=(0,s.useMemo)((function(){return o?.[i]?.earnings24h||"0"}),[o,i]),p=(0,O.A)(),b=(0,s.useCallback)((function(){p.pushModal(A.ry.StakingModal,{screen:A.Ax.InvestmentDetails})}),[p]),m=(0,l.A)();return(0,z.jsxs)(d.YStack,{gap:"$1",$gtLg:{flexDirection:"row",alignItems:"center",flex:1,gap:"$8",p:"$8",bg:"$bg",borderWidth:c.A.hairlineWidth,borderColor:"$borderSubdued",borderRadius:"$3",borderCurve:"continuous",elevation:.5},children:[(0,z.jsxs)(d.YStack,{gap:"$1.5",flexShrink:1,children:[(0,z.jsx)(d.SizableText,{size:"$bodyLgMedium",$gtLg:{pl:"$0.5"},children:m.formatMessage({id:f.ETranslations.earn_total_staked_value})}),(0,z.jsx)(d.NumberSizeableText,{size:"$heading5xl",formatter:"price",color:getNumberColor(u,"$text"),formatterOptions:{currency:a.currencyInfo.symbol},numberOfLines:1,children:u})]}),(0,z.jsxs)(d.XStack,{gap:"$1.5",flexShrink:1,$gtLg:{flexDirection:"column-reverse"},children:[(0,z.jsx)(d.NumberSizeableText,{formatter:"price",formatterOptions:{currency:a.currencyInfo.symbol,showPlusMinusSigns:0!==Number(g)},size:"$bodyLgMedium",color:getNumberColor(g),numberOfLines:1,$gtLg:{size:"$heading5xl"},children:g}),(0,z.jsxs)(d.XStack,{gap:"$1.5",alignItems:"center",children:[(0,z.jsx)(d.SizableText,{size:"$bodyLg",color:"$textSubdued",$gtLg:{pl:"$0.5",color:"$text",size:"$bodyLgMedium"},children:m.formatMessage({id:f.ETranslations.earn_24h_earnings})}),(0,z.jsx)(d.Popover,{placement:"bottom-start",renderTrigger:(0,z.jsx)(d.IconButton,{variant:"tertiary",size:"small",icon:"InfoCircleOutline"}),title:m.formatMessage({id:f.ETranslations.earn_24h_earnings}),renderContent:(0,z.jsx)(d.SizableText,{px:"$5",py:"$4",children:m.formatMessage({id:f.ETranslations.earn_24h_earnings_tooltip})})})]})]}),e?null:(0,z.jsx)(d.Button,{onPress:b,variant:"tertiary",iconAfter:"ChevronRightOutline",position:"absolute",top:0,right:0,$gtLg:{right:"$8",top:"$8"},children:m.formatMessage({id:f.ETranslations.global_details})})]})}function AvailableAssets(){var{activeAccount:{account:e,indexedAccount:t}}=(0,P.LH)({num:0}),[{availableAssets:r=[]}]=(0,D.vQ)(),n=(0,O.A)(),i=(0,l.A)(),o=(0,d.useMedia)();return r.length?(0,z.jsxs)(d.YStack,{gap:"$3",children:[(0,z.jsxs)(d.YStack,{gap:"$1",children:[(0,z.jsx)(d.SizableText,{size:"$headingLg",children:i.formatMessage({id:f.ETranslations.earn_available_assets})}),(0,z.jsx)(d.SizableText,{size:"$bodyMd",color:"$textSubdued",children:i.formatMessage({id:f.ETranslations.earn_available_assets_desc})})]}),(0,z.jsx)(d.YStack,{mx:"$-5",$gtLg:{mx:0,overflow:"hidden",bg:"$bg",borderRadius:"$3",borderWidth:c.A.hairlineWidth,borderColor:"$borderSubdued",borderCurve:"continuous"},children:r.map((function({name:r,logoURI:i,apr:s,networkId:u,symbol:l,tags:h=[]},f){return(0,z.jsxs)(I.c,_objectSpread(_objectSpread(_objectSpread({userSelect:"none",onPress:(0,a.A)((function*(){var r;yield H(n,{networkId:u,accountId:null!=(r=e?.id)?r:"",indexedAccountId:t?.id,symbol:l})})),avatarProps:_objectSpread({src:i,fallbackProps:{borderRadius:"$full"}},o.gtLg?{size:"$8"}:{})},o.gtLg?{drillIn:!0,mx:"$0",px:"$4",borderRadius:"$0"}:{}),0!==f&&o.gtLg?{borderTopWidth:c.A.hairlineWidth,borderTopColor:"$borderSubdued"}:{}),{},{children:[(0,z.jsx)(I.c.Text,{flexGrow:1,flexBasis:0,primary:(0,z.jsxs)(d.XStack,{gap:"$2",alignItems:"center",children:[(0,z.jsx)(d.SizableText,{size:"$bodyLgMedium",children:r}),(0,z.jsx)(d.XStack,{gap:"$1",children:h.map((function(e){return(0,z.jsx)(d.Badge,{badgeType:"critical",badgeSize:"sm",userSelect:"none",children:(0,z.jsx)(d.Badge.Text,{children:e})},e)}))})]})}),(0,z.jsx)(I.c.Text,{$gtLg:{flexGrow:1,flexBasis:0},primary:buildAprText(s)})]}),r)}))})]}):null}function BasicEarnHome(){var{activeAccount:{account:e,network:t,indexedAccount:n}}=(0,P.LH)({num:0}),i=(0,l.A)(),o=(0,d.useMedia)(),u=(0,D.Vm)(),{isLoading:h,result:g}=(0,L.yk)((0,a.A)((function*(){var r=u.current.buildEarnAccountsKey(e?.id,t?.id),n=u.current.getAvailableAssets();0===n.length?(n=yield M.A.serviceStaking.getAvailableAssets(),u.current.updateAvailableAssets(n)):setTimeout((function(){M.A.serviceStaking.getAvailableAssets().then(u.current.updateAvailableAssets)}));var i,o=u.current.getEarnAccount(r),s=(i=(0,a.A)((function*(){var i,o,a=yield M.A.serviceStaking.fetchAllNetworkAssets({assets:n,accountId:null!=(i=e?.id)?i:"",networkId:null!=(o=t?.id)?o:""});u.current.updateEarnAccounts({key:r,earnAccount:a})})),function fetchAndUpdateAction(){return i.apply(this,arguments)});return o?setTimeout((function(){s()})):yield s(),{loaded:!0}})),[u,e?.id,t?.id],{watchLoading:!0,pollingInterval:$.A.getTimeDurationMs({minute:3})}),p=[{icon:"HandCoinsOutline",title:i.formatMessage({id:f.ETranslations.earn_feature_1_title}),description:i.formatMessage({id:f.ETranslations.earn_feature_1_desc})},{icon:"LockOutline",title:i.formatMessage({id:f.ETranslations.earn_feature_2_title}),description:i.formatMessage({id:f.ETranslations.earn_feature_2_desc})},{icon:"ChartColumnar3Outline",title:i.formatMessage({id:f.ETranslations.earn_feature_3_title}),description:i.formatMessage({id:f.ETranslations.earn_feature_3_desc})}],b=(0,O.A)(),m=(0,s.useCallback)((0,a.A)((function*(){var t;e&&b.pushModal(A.ry.StakingModal,{screen:A.Ax.ProtocolDetails,params:{accountId:null!=(t=e?.id)?t:"",networkId:"btc--0",indexedAccountId:n?.id,symbol:"BTC",provider:"babylon"}})})),[e,n?.id,b]),x=(0,s.useMemo)((function(){return[{title:i.formatMessage({id:f.ETranslations.earn_banner_stake_in_babylon_ecosystem}),bannerId:"6f6ffc0e-8c7a-4d86-ad83-fe5629975916",imgSource:r(995635),titleTextProps:{color:"$textInverseLight",size:"$headingMd",numberOfLines:2,maxWidth:140},$gtLg:{imgSource:r(488393),imgResizeMode:"contain"}}]}),[i]);return(0,z.jsxs)(d.Page,{fullPage:!0,children:[(0,z.jsx)(C.i,{sceneName:k.Zs.home,showHeaderRight:!1}),(0,z.jsx)(d.Page.Body,{children:(0,z.jsx)(d.ScrollView,{contentContainerStyle:{py:"$5"},children:(0,z.jsxs)(d.YStack,{w:"100%",maxWidth:E,mx:"auto",gap:"$4",children:[(0,z.jsxs)(d.YStack,{px:"$5",gap:"$8",$gtLg:{flexDirection:"row"},children:[(0,z.jsx)(Overview,{isFetchingAccounts:Boolean(void 0===g||!!h)}),(0,z.jsx)(d.YStack,{minHeight:"$36",$md:{minHeight:"$28"},borderRadius:"$3",width:"100%",borderCurve:"continuous",$gtLg:{w:V},children:(0,z.jsx)(d.Banner,{height:"$36",$md:{height:"$28"},data:x,onItemPress:m,isLoading:!1,itemTitleContainerStyle:{top:0,bottom:0,right:0,left:20,justifyContent:"center"}})})]}),(0,z.jsxs)(d.YStack,{px:"$5",gap:"$8",$gtLg:{flexDirection:"row",alignItems:"flex-start"},children:[(0,z.jsxs)(d.YStack,{pt:"$3.5",gap:"$8",$gtLg:{flex:1},children:[(0,z.jsx)(Recommended,{isFetchingAccounts:!!h}),(0,z.jsx)(AvailableAssets,{})]}),o.gtLg?(0,z.jsxs)(d.YStack,{gap:"$6",p:"$4",borderWidth:c.A.hairlineWidth,borderColor:"$transparent",borderRadius:"$3",borderCurve:"continuous",bg:"$bgSubdued",$gtMd:{w:V},children:[(0,z.jsx)(d.SizableText,{size:"$headingSm",children:i.formatMessage({id:f.ETranslations.earn_feature_list_title})}),p.map((function(e,t){return(0,z.jsxs)(d.YStack,{gap:"$3",alignItems:"flex-start",children:[(0,z.jsx)(d.YStack,{p:"$2",bg:"$bgStrong",borderRadius:"$3",borderCurve:"continuous",children:(0,z.jsx)(d.Icon,{name:e.icon,color:"$iconSubdued"})}),(0,z.jsxs)(d.YStack,{gap:"$1.5",children:[(0,z.jsx)(d.SizableText,{size:"$bodyMdMedium",children:e.title}),(0,z.jsx)(d.SizableText,{size:"$bodyMd",color:"$textSubdued",children:e.description})]})]},t)}))]}):null]})]})})})]})}function EarnHome(){return(0,z.jsx)(T.b8,{config:{sceneName:k.Zs.home,sceneUrl:""},enabledNum:[0],children:(0,z.jsx)(B.r,{storeName:h.EJotaiContextStoreNames.earn,children:(0,z.jsx)(BasicEarnHome,{})})})}},768417:(e,t,r)=>{"use strict";r.d(t,{r:()=>c});var n=r(324586),i=r(514041),o=r(2577),a=r(597102),s=r(405730),u=r(812452),l=r(831085);function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){(0,n.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var c=(0,i.memo)((function(e){var{children:t,storeName:r}=e,n=(0,u.Y)(r),i=o.A.getOrCreateStore(n);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(a.H,_objectSpread({},n)),(0,l.jsx)(s.o1,{store:i,children:t})]})}));c.displayName="EarnProviderMirror"},672846:(e,t,r)=>{var n=r(169334);e.exports=function clone(e){return n(e,4)}},632293:(e,t,r)=>{var n=r(623945),i=r(446285),o=r(674535),a=r(25288),s=Object.prototype,u=s.hasOwnProperty,l=n((function(e,t){e=Object(e);var r=-1,n=t.length,l=n>2?t[2]:void 0;for(l&&o(t[0],t[1],l)&&(n=1);++r<n;)for(var c=t[r],d=a(c),h=-1,f=d.length;++h<f;){var g=d[h],p=e[g];(void 0===p||i(p,s[g])&&!u.call(e,g))&&(e[g]=c[g])}return e}));e.exports=l},826029:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},i=n(r(662435)),o=n(r(952587));i.default.DefaultOpts.ImageClass=o.default,e.exports=i.default},634826:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(r(662435)),o=r(672846),a=function(){function Builder(e,t){void 0===t&&(t={}),this._src=e,this._opts=t,this._opts.filters=o(i.default.DefaultOpts.filters)}return Builder.prototype.maxColorCount=function(e){return this._opts.colorCount=e,this},Builder.prototype.maxDimension=function(e){return this._opts.maxDimension=e,this},Builder.prototype.addFilter=function(e){return this._opts.filters.push(e),this},Builder.prototype.removeFilter=function(e){var t=this._opts.filters.indexOf(e);return t>0&&this._opts.filters.splice(t),this},Builder.prototype.clearFilters=function(){return this._opts.filters=[],this},Builder.prototype.quality=function(e){return this._opts.quality=e,this},Builder.prototype.useImageClass=function(e){return this._opts.ImageClass=e,this},Builder.prototype.useGenerator=function(e){return this._opts.generator=e,this},Builder.prototype.useQuantizer=function(e){return this._opts.quantizer=e,this},Builder.prototype.build=function(){return new i.default(this._src,this._opts)},Builder.prototype.getPalette=function(e){return this.build().getPalette(e)},Builder.prototype.getSwatches=function(e){return this.build().getPalette(e)},Builder}();t.default=a},289298:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Swatch=void 0;var n=r(719501),i=r(757581),o=function(){function Swatch(e,t){this._rgb=e,this._population=t}return Swatch.applyFilter=function(e,t){return"function"==typeof t?i(e,(function(e){var r=e.r,n=e.g,i=e.b;return t(r,n,i,255)})):e},Object.defineProperty(Swatch.prototype,"r",{get:function(){return this._rgb[0]},enumerable:!1,configurable:!0}),Object.defineProperty(Swatch.prototype,"g",{get:function(){return this._rgb[1]},enumerable:!1,configurable:!0}),Object.defineProperty(Swatch.prototype,"b",{get:function(){return this._rgb[2]},enumerable:!1,configurable:!0}),Object.defineProperty(Swatch.prototype,"rgb",{get:function(){return this._rgb},enumerable:!1,configurable:!0}),Object.defineProperty(Swatch.prototype,"hsl",{get:function(){if(!this._hsl){var e=this._rgb,t=e[0],r=e[1],i=e[2];this._hsl=n.rgbToHsl(t,r,i)}return this._hsl},enumerable:!1,configurable:!0}),Object.defineProperty(Swatch.prototype,"hex",{get:function(){if(!this._hex){var e=this._rgb,t=e[0],r=e[1],i=e[2];this._hex=n.rgbToHex(t,r,i)}return this._hex},enumerable:!1,configurable:!0}),Object.defineProperty(Swatch.prototype,"population",{get:function(){return this._population},enumerable:!1,configurable:!0}),Swatch.prototype.toJSON=function(){return{rgb:this.rgb,population:this.population}},Swatch.prototype.getRgb=function(){return this._rgb},Swatch.prototype.getHsl=function(){return this.hsl},Swatch.prototype.getPopulation=function(){return this._population},Swatch.prototype.getHex=function(){return this.hex},Swatch.prototype.getYiq=function(){if(!this._yiq){var e=this._rgb;this._yiq=(299*e[0]+587*e[1]+114*e[2])/1e3}return this._yiq},Object.defineProperty(Swatch.prototype,"titleTextColor",{get:function(){return this._titleTextColor||(this._titleTextColor=this.getYiq()<200?"#fff":"#000"),this._titleTextColor},enumerable:!1,configurable:!0}),Object.defineProperty(Swatch.prototype,"bodyTextColor",{get:function(){return this._bodyTextColor||(this._bodyTextColor=this.getYiq()<150?"#fff":"#000"),this._bodyTextColor},enumerable:!1,configurable:!0}),Swatch.prototype.getTitleTextColor=function(){return this.titleTextColor},Swatch.prototype.getBodyTextColor=function(){return this.bodyTextColor},Swatch}();t.Swatch=o},939737:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function defaultFilter(e,t,r,n){return n>=125&&!(e>250&&t>250&&r>250)}},83960:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.combineFilters=void 0;var n=r(939737);Object.defineProperty(t,"Default",{enumerable:!0,get:function(){return n.default}}),t.combineFilters=function combineFilters(e){return Array.isArray(e)&&0!==e.length?function(t,r,n,i){if(0===i)return!1;for(var o=0;o<e.length;o++)if(!e[o](t,r,n,i))return!1;return!0}:null}},168394:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(289298),i=r(719501),o=r(632293),a={targetDarkLuma:.26,maxDarkLuma:.45,minLightLuma:.55,targetLightLuma:.74,minNormalLuma:.3,targetNormalLuma:.5,maxNormalLuma:.7,targetMutesSaturation:.3,maxMutesSaturation:.4,targetVibrantSaturation:1,minVibrantSaturation:.35,weightSaturation:3,weightLuma:6.5,weightPopulation:.5};function _findColorVariation(e,t,r,n,i,o,a,s,u,l){var c=null,d=0;return t.forEach((function(t){var h=t.getHsl(),f=h[1],g=h[2];if(f>=s&&f<=u&&g>=i&&g<=o&&!function _isAlreadySelected(e,t){return e.Vibrant===t||e.DarkVibrant===t||e.LightVibrant===t||e.Muted===t||e.DarkMuted===t||e.LightMuted===t}(e,t)){var p=function _createComparisonValue(e,t,r,n,i,o,a){function invertDiff(e,t){return 1-Math.abs(e-t)}return function weightedMean(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=0,n=0,i=0;i<e.length;i+=2){var o=e[i],a=e[i+1];r+=o*a,n+=a}return r/n}(invertDiff(e,t),a.weightSaturation,invertDiff(r,n),a.weightLuma,i/o,a.weightPopulation)}(f,a,g,n,t.getPopulation(),r,l);(null===c||p>d)&&(c=t,d=p)}})),c}t.default=function(e,t){t=o({},t,a);var r=function _findMaxPopulation(e){var t=0;return e.forEach((function(e){t=Math.max(t,e.getPopulation())})),t}(e),s=function _generateVariationColors(e,t,r){var n={};return n.Vibrant=_findColorVariation(n,e,t,r.targetNormalLuma,r.minNormalLuma,r.maxNormalLuma,r.targetVibrantSaturation,r.minVibrantSaturation,1,r),n.LightVibrant=_findColorVariation(n,e,t,r.targetLightLuma,r.minLightLuma,1,r.targetVibrantSaturation,r.minVibrantSaturation,1,r),n.DarkVibrant=_findColorVariation(n,e,t,r.targetDarkLuma,0,r.maxDarkLuma,r.targetVibrantSaturation,r.minVibrantSaturation,1,r),n.Muted=_findColorVariation(n,e,t,r.targetNormalLuma,r.minNormalLuma,r.maxNormalLuma,r.targetMutesSaturation,0,r.maxMutesSaturation,r),n.LightMuted=_findColorVariation(n,e,t,r.targetLightLuma,r.minLightLuma,1,r.targetMutesSaturation,0,r.maxMutesSaturation,r),n.DarkMuted=_findColorVariation(n,e,t,r.targetDarkLuma,0,r.maxDarkLuma,r.targetMutesSaturation,0,r.maxMutesSaturation,r),n}(e,r,t);return function _generateEmptySwatches(e,t,r){if(null===e.Vibrant&&null===e.DarkVibrant&&null===e.LightVibrant){if(null===e.DarkVibrant&&null!==e.DarkMuted){var o=e.DarkMuted.getHsl(),a=o[0],s=o[1],u=o[2];u=r.targetDarkLuma,e.DarkVibrant=new n.Swatch(i.hslToRgb(a,s,u),0)}if(null===e.LightVibrant&&null!==e.LightMuted){var l=e.LightMuted.getHsl();a=l[0],s=l[1],u=l[2],u=r.targetDarkLuma,e.DarkVibrant=new n.Swatch(i.hslToRgb(a,s,u),0)}}if(null===e.Vibrant&&null!==e.DarkVibrant){var c=e.DarkVibrant.getHsl();a=c[0],s=c[1],u=c[2],u=r.targetNormalLuma,e.Vibrant=new n.Swatch(i.hslToRgb(a,s,u),0)}else if(null===e.Vibrant&&null!==e.LightVibrant){var d=e.LightVibrant.getHsl();a=d[0],s=d[1],u=d[2],u=r.targetNormalLuma,e.Vibrant=new n.Swatch(i.hslToRgb(a,s,u),0)}if(null===e.DarkVibrant&&null!==e.Vibrant){var h=e.Vibrant.getHsl();a=h[0],s=h[1],u=h[2],u=r.targetDarkLuma,e.DarkVibrant=new n.Swatch(i.hslToRgb(a,s,u),0)}if(null===e.LightVibrant&&null!==e.Vibrant){var f=e.Vibrant.getHsl();a=f[0],s=f[1],u=f[2],u=r.targetLightLuma,e.LightVibrant=new n.Swatch(i.hslToRgb(a,s,u),0)}if(null===e.Muted&&null!==e.Vibrant){var g=e.Vibrant.getHsl();a=g[0],s=g[1],u=g[2],u=r.targetMutesSaturation,e.Muted=new n.Swatch(i.hslToRgb(a,s,u),0)}if(null===e.DarkMuted&&null!==e.DarkVibrant){var p=e.DarkVibrant.getHsl();a=p[0],s=p[1],u=p[2],u=r.targetMutesSaturation,e.DarkMuted=new n.Swatch(i.hslToRgb(a,s,u),0)}if(null===e.LightMuted&&null!==e.LightVibrant){var b=e.LightVibrant.getHsl();a=b[0],s=b[1],u=b[2],u=r.targetMutesSaturation,e.LightMuted=new n.Swatch(i.hslToRgb(a,s,u),0)}}(s,0,t),s}},582639:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(168394);Object.defineProperty(t,"Default",{enumerable:!0,get:function(){return n.default}})},532058:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImageBase=void 0;var r=function(){function ImageBase(){}return ImageBase.prototype.scaleDown=function(e){var t=this.getWidth(),r=this.getHeight(),n=1;if(e.maxDimension>0){var i=Math.max(t,r);i>e.maxDimension&&(n=e.maxDimension/i)}else n=1/e.quality;n<1&&this.resize(t*n,r*n,n)},ImageBase.prototype.applyFilter=function(e){var t=this.getImageData();if("function"==typeof e)for(var r=t.data,n=r.length/4,i=void 0,o=0;o<n;o++)e(r[(i=4*o)+0],r[i+1],r[i+2],r[i+3])||(r[i+3]=0);return Promise.resolve(t)},ImageBase}();t.ImageBase=r},952587:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},n(e,t)},function(e,t){function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&o(t,e,r);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var u=r(532058),l=s(r(775442));var c=function(e){function BrowserImage(){return null!==e&&e.apply(this,arguments)||this}return i(BrowserImage,e),BrowserImage.prototype._initCanvas=function(){var e=this.image,t=this._canvas=document.createElement("canvas"),r=this._context=t.getContext("2d");t.className="vibrant-canvas",t.style.display="none",this._width=t.width=e.width,this._height=t.height=e.height,r.drawImage(e,0,0),document.body.appendChild(t)},BrowserImage.prototype.load=function(e){var t=this,r=null,n=null;if("string"==typeof e)r=document.createElement("img"),function isRelativeUrl(e){var t=l.parse(e);return null===t.protocol&&null===t.host&&null===t.port}(e)||function isSameOrigin(e,t){var r=l.parse(e),n=l.parse(t);return r.protocol===n.protocol&&r.hostname===n.hostname&&r.port===n.port}(window.location.href,e)||(r.crossOrigin="anonymous"),n=r.src=e;else{if(!(e instanceof HTMLImageElement))return Promise.reject(new Error("Cannot load buffer as an image in browser"));r=e,n=e.src}return this.image=r,new Promise((function(e,i){var onImageLoad=function(){t._initCanvas(),e(t)};r.complete?onImageLoad():(r.onload=onImageLoad,r.onerror=function(e){return i(new Error("Fail to load image: "+n))})}))},BrowserImage.prototype.clear=function(){this._context.clearRect(0,0,this._width,this._height)},BrowserImage.prototype.update=function(e){this._context.putImageData(e,0,0)},BrowserImage.prototype.getWidth=function(){return this._width},BrowserImage.prototype.getHeight=function(){return this._height},BrowserImage.prototype.resize=function(e,t,r){var n=this,i=n._canvas,o=n._context,a=n.image;this._width=i.width=e,this._height=i.height=t,o.scale(r,r),o.drawImage(a,0,0)},BrowserImage.prototype.getPixelCount=function(){return this._width*this._height},BrowserImage.prototype.getImageData=function(){return this._context.getImageData(0,0,this._width,this._height)},BrowserImage.prototype.remove=function(){this._canvas&&this._canvas.parentNode&&this._canvas.parentNode.removeChild(this._canvas)},BrowserImage}(u.ImageBase);t.default=c},348009:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebWorker=void 0;var n=r(997039);Object.defineProperty(t,"MMCQ",{enumerable:!0,get:function(){return n.default}}),t.WebWorker=null},997039:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(289298),o=n(r(113518)),a=n(r(441666));function _splitBoxes(e,t){for(var r=e.size();e.size()<t;){var n=e.pop();if(!(n&&n.count()>0))break;var i=n.split(),o=i[0],a=i[1];if(e.push(o),a&&a.count()>0&&e.push(a),e.size()===r)break;r=e.size()}}t.default=function(e,t){if(0===e.length||t.colorCount<2||t.colorCount>256)throw new Error("Wrong MMCQ parameters");var r=o.default.build(e),n=r.hist,s=(Object.keys(n).length,new a.default((function(e,t){return e.count()-t.count()})));s.push(r),_splitBoxes(s,.75*t.colorCount);var u=new a.default((function(e,t){return e.count()*e.volume()-t.count()*t.volume()}));return u.contents=s.contents,_splitBoxes(u,t.colorCount-u.size()),function generateSwatches(e){var t=[];for(;e.size();){var r=e.pop(),n=r.avg();n[0],n[1],n[2];t.push(new i.Swatch(n,r.count()))}return t}(u)}},441666:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function PQueue(e){this._comparator=e,this.contents=[],this._sorted=!1}return PQueue.prototype._sort=function(){this._sorted||(this.contents.sort(this._comparator),this._sorted=!0)},PQueue.prototype.push=function(e){this.contents.push(e),this._sorted=!1},PQueue.prototype.peek=function(e){return this._sort(),e="number"==typeof e?e:this.contents.length-1,this.contents[e]},PQueue.prototype.pop=function(){return this._sort(),this.contents.pop()},PQueue.prototype.size=function(){return this.contents.length},PQueue.prototype.map=function(e){return this._sort(),this.contents.map(e)},PQueue}();t.default=r},113518:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(719501),i=function(){function VBox(e,t,r,n,i,o,a){this._volume=-1,this._count=-1,this.dimension={r1:e,r2:t,g1:r,g2:n,b1:i,b2:o},this.hist=a}return VBox.build=function(e,t){var r,i,o,a,s,u,l,c,d,h=1<<3*n.SIGBITS,f=new Uint32Array(h);r=o=s=0,i=a=u=Number.MAX_VALUE;for(var g=e.length/4,p=0;p<g;){var b=4*p;if(p++,l=e[b+0],c=e[b+1],d=e[b+2],0!==e[b+3])l>>=n.RSHIFT,c>>=n.RSHIFT,d>>=n.RSHIFT,f[n.getColorIndex(l,c,d)]+=1,l>r&&(r=l),l<i&&(i=l),c>o&&(o=c),c<a&&(a=c),d>s&&(s=d),d<u&&(u=d)}return new VBox(i,r,a,o,u,s,f)},VBox.prototype.invalidate=function(){this._volume=this._count=-1,this._avg=null},VBox.prototype.volume=function(){if(this._volume<0){var e=this.dimension,t=e.r1,r=e.r2,n=e.g1,i=e.g2,o=e.b1,a=e.b2;this._volume=(r-t+1)*(i-n+1)*(a-o+1)}return this._volume},VBox.prototype.count=function(){if(this._count<0){for(var e=this.hist,t=this.dimension,r=t.r1,i=t.r2,o=t.g1,a=t.g2,s=t.b1,u=t.b2,l=0,c=r;c<=i;c++)for(var d=o;d<=a;d++)for(var h=s;h<=u;h++){l+=e[n.getColorIndex(c,d,h)]}this._count=l}return this._count},VBox.prototype.clone=function(){var e=this.hist,t=this.dimension;return new VBox(t.r1,t.r2,t.g1,t.g2,t.b1,t.b2,e)},VBox.prototype.avg=function(){if(!this._avg){var e=this.hist,t=this.dimension,r=t.r1,i=t.r2,o=t.g1,a=t.g2,s=t.b1,u=t.b2,l=0,c=1<<8-n.SIGBITS,d=void 0,h=void 0,f=void 0;d=h=f=0;for(var g=r;g<=i;g++)for(var p=o;p<=a;p++)for(var b=s;b<=u;b++){var m=e[n.getColorIndex(g,p,b)];l+=m,d+=m*(g+.5)*c,h+=m*(p+.5)*c,f+=m*(b+.5)*c}this._avg=l?[~~(d/l),~~(h/l),~~(f/l)]:[~~(c*(r+i+1)/2),~~(c*(o+a+1)/2),~~(c*(s+u+1)/2)]}return this._avg},VBox.prototype.contains=function(e){var t=e[0],r=e[1],i=e[2],o=this.dimension,a=o.r1,s=o.r2,u=o.g1,l=o.g2,c=o.b1,d=o.b2;return t>>=n.RSHIFT,r>>=n.RSHIFT,i>>=n.RSHIFT,t>=a&&t<=s&&r>=u&&r<=l&&i>=c&&i<=d},VBox.prototype.split=function(){var e=this.hist,t=this.dimension,r=t.r1,i=t.r2,o=t.g1,a=t.g2,s=t.b1,u=t.b2,l=this.count();if(!l)return[];if(1===l)return[this.clone()];var c,d,h=i-r+1,f=a-o+1,g=u-s+1,p=Math.max(h,f,g),b=null;c=d=0;var m=null;if(p===h){m="r",b=new Uint32Array(i+1);for(var x=r;x<=i;x++){c=0;for(var y=o;y<=a;y++)for(var v=s;v<=u;v++){c+=e[n.getColorIndex(x,y,v)]}d+=c,b[x]=d}}else if(p===f){m="g",b=new Uint32Array(a+1);for(y=o;y<=a;y++){c=0;for(x=r;x<=i;x++)for(v=s;v<=u;v++){c+=e[n.getColorIndex(x,y,v)]}d+=c,b[y]=d}}else{m="b",b=new Uint32Array(u+1);for(v=s;v<=u;v++){c=0;for(x=r;x<=i;x++)for(y=o;y<=a;y++){c+=e[n.getColorIndex(x,y,v)]}d+=c,b[v]=d}}for(var _=-1,S=new Uint32Array(b.length),j=0;j<b.length;j++){var w=b[j];_<0&&w>d/2&&(_=j),S[j]=d-w}var A=this;return function doCut(e){var t=e+"1",r=e+"2",n=A.dimension[t],i=A.dimension[r],o=A.clone(),a=A.clone(),s=_-n,u=i-_;for(s<=u?(i=Math.min(i-1,~~(_+u/2)),i=Math.max(0,i)):(i=Math.max(n,~~(_-1-s/2)),i=Math.min(A.dimension[r],i));!b[i];)i++;for(var l=S[i];!l&&b[i-1];)l=S[--i];return o.dimension[r]=i,a.dimension[t]=i+1,[o,a]}(m)},VBox}();t.default=i},719501:(e,t)=>{"use strict";function hexToRgb(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return null===t?null:[t[1],t[2],t[3]].map((function(e){return parseInt(e,16)}))}function rgbToXyz(e,t,r){return t/=255,r/=255,e=(e/=255)>.04045?Math.pow((e+.005)/1.055,2.4):e/12.92,t=t>.04045?Math.pow((t+.005)/1.055,2.4):t/12.92,r=r>.04045?Math.pow((r+.005)/1.055,2.4):r/12.92,[.4124*(e*=100)+.3576*(t*=100)+.1805*(r*=100),.2126*e+.7152*t+.0722*r,.0193*e+.1192*t+.9505*r]}function xyzToCIELab(e,t,r){return t/=100,r/=108.883,e=(e/=95.047)>.008856?Math.pow(e,1/3):7.787*e+16/116,[116*(t=t>.008856?Math.pow(t,1/3):7.787*t+16/116)-16,500*(e-t),200*(t-(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116))]}function rgbToCIELab(e,t,r){var n=rgbToXyz(e,t,r);return xyzToCIELab(n[0],n[1],n[2])}function deltaE94(e,t){var r=e[0],n=e[1],i=e[2],o=t[0],a=t[1],s=t[2],u=r-o,l=n-a,c=i-s,d=Math.sqrt(n*n+i*i),h=o-r,f=Math.sqrt(a*a+s*s)-d,g=Math.sqrt(u*u+l*l+c*c),p=Math.sqrt(g)>Math.sqrt(Math.abs(h))+Math.sqrt(Math.abs(f))?Math.sqrt(g*g-h*h-f*f):0;return h/=1,f/=1*(1+.045*d),p/=1*(1+.015*d),Math.sqrt(h*h+f*f+p*p)}function rgbDiff(e,t){return deltaE94(rgbToCIELab.apply(void 0,e),rgbToCIELab.apply(void 0,t))}Object.defineProperty(t,"__esModule",{value:!0}),t.getColorIndex=t.getColorDiffStatus=t.hexDiff=t.rgbDiff=t.deltaE94=t.rgbToCIELab=t.xyzToCIELab=t.rgbToXyz=t.hslToRgb=t.rgbToHsl=t.rgbToHex=t.hexToRgb=t.defer=t.RSHIFT=t.SIGBITS=t.DELTAE94_DIFF_STATUS=void 0,t.DELTAE94_DIFF_STATUS={NA:0,PERFECT:1,CLOSE:2,GOOD:10,SIMILAR:50},t.SIGBITS=5,t.RSHIFT=8-t.SIGBITS,t.defer=function defer(){var e,t,r=new Promise((function(r,n){e=r,t=n}));return{resolve:e,reject:t,promise:r}},t.hexToRgb=hexToRgb,t.rgbToHex=function rgbToHex(e,t,r){return"#"+((1<<24)+(e<<16)+(t<<8)+r).toString(16).slice(1,7)},t.rgbToHsl=function rgbToHsl(e,t,r){e/=255,t/=255,r/=255;var n,i,o=Math.max(e,t,r),a=Math.min(e,t,r),s=(o+a)/2;if(o===a)n=i=0;else{var u=o-a;switch(i=s>.5?u/(2-o-a):u/(o+a),o){case e:n=(t-r)/u+(t<r?6:0);break;case t:n=(r-e)/u+2;break;case r:n=(e-t)/u+4}n/=6}return[n,i,s]},t.hslToRgb=function hslToRgb(e,t,r){var n,i,o;function hue2rgb(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}if(0===t)n=i=o=r;else{var a=r<.5?r*(1+t):r+t-r*t,s=2*r-a;n=hue2rgb(s,a,e+1/3),i=hue2rgb(s,a,e),o=hue2rgb(s,a,e-1/3)}return[255*n,255*i,255*o]},t.rgbToXyz=rgbToXyz,t.xyzToCIELab=xyzToCIELab,t.rgbToCIELab=rgbToCIELab,t.deltaE94=deltaE94,t.rgbDiff=rgbDiff,t.hexDiff=function hexDiff(e,t){return rgbDiff(hexToRgb(e),hexToRgb(t))},t.getColorDiffStatus=function getColorDiffStatus(e){return e<t.DELTAE94_DIFF_STATUS.NA?"N/A":e<=t.DELTAE94_DIFF_STATUS.PERFECT?"Perfect":e<=t.DELTAE94_DIFF_STATUS.CLOSE?"Close":e<=t.DELTAE94_DIFF_STATUS.GOOD?"Good":e<t.DELTAE94_DIFF_STATUS.SIMILAR?"Similar":"Wrong"},t.getColorIndex=function getColorIndex(e,r,n){return(e<<2*t.SIGBITS)+(r<<t.SIGBITS)+n}},662435:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=r(289298),u=a(r(634826)),l=o(r(719501)),c=o(r(348009)),d=o(r(582639)),h=o(r(83960)),f=r(632293),g=function(){function Vibrant(e,t){this._src=e,this.opts=f({},t,Vibrant.DefaultOpts),this.opts.combinedFilter=h.combineFilters(this.opts.filters)}return Vibrant.from=function(e){return new u.default(e)},Vibrant.prototype._process=function(e,t){var r=t.quantizer,n=t.generator;return e.scaleDown(t),e.applyFilter(t.combinedFilter).then((function(e){return r(e.data,t)})).then((function(e){return s.Swatch.applyFilter(e,t.combinedFilter)})).then((function(e){return Promise.resolve(n(e))}))},Vibrant.prototype.palette=function(){return this.swatches()},Vibrant.prototype.swatches=function(){return this._palette},Vibrant.prototype.getPalette=function(e){var t=this,r=new this.opts.ImageClass,n=r.load(this._src).then((function(e){return t._process(e,t.opts)})).then((function(e){return t._palette=e,r.remove(),e}),(function(e){throw r.remove(),e}));return e&&n.then((function(t){return e(null,t)}),(function(t){return e(t)})),n},Vibrant.Builder=u.default,Vibrant.Quantizer=c,Vibrant.Generator=d,Vibrant.Filter=h,Vibrant.Util=l,Vibrant.Swatch=s.Swatch,Vibrant.DefaultOpts={colorCount:64,quality:5,generator:d.Default,ImageClass:null,quantizer:c.MMCQ,filters:[h.Default]},Vibrant}();t.default=g},488393:(e,t,r)=>{"use strict";e.exports=r.p+"static/media/bg-desktop.7e53523fc353a98ea090.png"},995635:(e,t,r)=>{"use strict";e.exports=r.p+"static/media/bg-mobile.6a7332f0ad86138c0f6c.png"}}]);