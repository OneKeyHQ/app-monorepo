"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[44073],{844073:(t,e,o)=>{o.r(e),o.d(e,{default:()=>x});var n=o(324586),i=o(586330),r=o(514041),a=o(908867),s=o(490343),c=o(334439),l=o(663522),d=o(276360),u=o(610421),f=o(498356),b=o(153763),p=o(839850),g=(o(864612),o(215920),o(831085)),j=["children"];function ownKeys(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(o),!0).forEach((function(e){(0,n.A)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):ownKeys(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function SharedWrapper(t){var{children:e}=t,o=(0,p.A)(t,j);return(0,g.jsx)(s.YStack,_objectSpread(_objectSpread({gap:"$2",w:"100%",maxWidth:"$96",mx:"auto",p:"$2",bg:"$bgInfoSubdued",borderRadius:"$3",outlineColor:"$borderInfoSubdued",outlineWidth:1,outlineStyle:"solid",elevation:.5},o),{},{children:e}))}function PlatformNotification({icon:t,titleId:e,descriptionId:o}){var n=(0,a.A)();return(0,g.jsxs)(SharedWrapper,{children:[(0,g.jsxs)(s.XStack,{alignItems:"center",gap:"$2",p:"$2",bg:"$bg",outlineColor:"$neutral3",outlineWidth:1,outlineStyle:"solid",borderRadius:"$2",elevation:10,children:[t,(0,g.jsxs)(s.Stack,{flex:1,children:[(0,g.jsx)(s.Heading,{size:"$bodyMd",children:n.formatMessage({id:e})}),(0,g.jsx)(s.SizableText,{size:"$bodySm",color:"$textSubdued",children:"OneKey"})]}),(0,g.jsx)(s.Switch,{value:!0,size:"small",bg:"$bgInfoStrong"})]}),(0,g.jsx)(s.SizableText,{size:"$bodySm",color:"$textInfo",textAlign:"center",children:n.formatMessage({id:o})}),(0,g.jsx)(s.Icon,{name:"HandDrawRightDownArrowIllus",color:"$bgInfoStrong",position:"absolute",bottom:"$-10",right:-56,w:"$10",h:"$24"})]})}const y=function EnablePushNotificationsTutorial(){return l.Ay.isDesktopMac?(0,g.jsx)(PlatformNotification,{icon:(0,g.jsx)(s.Image,{source:o(161386),w:"$8",h:"$8"}),titleId:c.ETranslations.notifications_mac_permission_title,descriptionId:c.ETranslations.notifications_intro_mac_desc}):l.Ay.isDesktopWin?(0,g.jsx)(PlatformNotification,{icon:(0,g.jsx)(s.Icon,{name:"BellOutline"}),titleId:c.ETranslations.global_notifications,descriptionId:c.ETranslations.notifications_windows_notifications_permission_desc}):null};var m=o(186207);function NotificationIntroIllustration_ownKeys(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function NotificationIntroIllustration_objectSpread(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?NotificationIntroIllustration_ownKeys(Object(o),!0).forEach((function(e){(0,n.A)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):NotificationIntroIllustration_ownKeys(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var h=[{title:"Sent",description:"Account 1 sent 10 MATIC",time:"now",stacked:!0},{title:"Received",description:"Account 2 received 10 MATIC",time:"10m ago"},{title:"Approved USDC",description:"Account 3 â€¢ Polygon",time:"1h ago"}];function Item({title:t,description:e,time:n,stacked:i}){return(0,g.jsxs)(s.YStack,NotificationIntroIllustration_objectSpread(NotificationIntroIllustration_objectSpread({},i?{pb:"$2.5"}:{}),{},{children:[i?(0,g.jsx)(s.Stack,{position:"absolute",bottom:"$0",left:"$2.5",right:"$2.5",top:"$2.5",bg:"$gray3",borderRadius:"$6",borderCurve:"continuous",overflow:"hidden",$gtMd:{borderRadius:"$4"},children:(0,g.jsx)(s.LinearGradient,{h:"$2.5",mt:"auto",colors:["$gray5","$gray3"],start:[0,0],end:[0,1]})}):null,(0,g.jsxs)(s.XStack,{alignItems:"center",gap:"$2.5",p:"$3",bg:"$gray3",borderRadius:"$4",borderCurve:"continuous","$platform-native":{p:"$4",borderRadius:"$6"},children:[(0,g.jsx)(s.Image,{source:o(161386),w:"$10",h:"$10"}),(0,g.jsxs)(s.Stack,{flex:1,children:[(0,g.jsxs)(s.XStack,{gap:"$2.5",alignItems:"baseline",children:[(0,g.jsx)(s.Heading,{size:"$headingSm","$platform-native":{size:"$headingMd"},flex:1,children:t}),(0,g.jsx)(s.SizableText,{size:"$bodySm","$platform-native":{size:"$bodyMd"},color:"$textSubdued",children:n})]}),(0,g.jsx)(s.SizableText,{size:"$bodyMd","$platform-native":{size:"$bodyLg"},children:e})]})]})]}))}const O=function NotificationIntroIllustration(t){var e=Object.assign({},((0,m.A)(t),t));return(0,g.jsx)(s.Stack,NotificationIntroIllustration_objectSpread(NotificationIntroIllustration_objectSpread({gap:"$2.5",w:"100%",maxWidth:"$96",mx:"auto"},e),{},{children:h.map((function(t){return(0,g.jsx)(Item,NotificationIntroIllustration_objectSpread({},t),t.title)}))}))};function NotificationIntroduction_ownKeys(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function NotificationIntroduction_objectSpread(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?NotificationIntroduction_ownKeys(Object(o),!0).forEach((function(e){(0,n.A)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):NotificationIntroduction_ownKeys(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}const x=function NotificationIntroduction(){var t,e=(0,a.A)(),[o,n]=(0,r.useState)(!1),p=(0,r.useRef)(!1),j=((0,b.E)(),(0,f.A)()),m=(0,r.useMemo)((function(){return!(!l.Ay.isNativeIOS&&!l.Ay.isNativeAndroid)}),[]),h=!m||l.Ay.isNativeAndroid||!1,x=(0,r.useCallback)((function(t){return m&&t.isSupported&&t.permission===d.cf.granted}),[m]);return(0,r.useEffect)((function(){var t=setInterval((0,i.A)((function*(){if(p.current&&m){var t=yield u.A.serviceNotification.getPermissionWithoutLog();x(t)&&j.pop()}})),1e3);return function(){clearInterval(t)}}),[j,m,x]),(0,g.jsxs)(s.Page,{children:[(0,g.jsx)(s.Page.Header,{}),(0,g.jsxs)(s.Page.Body,{flex:1,gap:"$8",px:"$5",justifyContent:"center",children:[(0,g.jsxs)(s.Stack,{gap:"$2",w:"100%",maxWidth:"$96",mx:"auto",children:[(0,g.jsx)(s.Heading,{size:"$heading2xl",textAlign:"center",children:e.formatMessage({id:c.ETranslations.notifications_intro_title})}),(0,g.jsx)(s.SizableText,{color:"$textSubdued",textAlign:"center",children:e.formatMessage({id:c.ETranslations.notifications_intro_desc})})]}),(0,g.jsx)(O,{}),(0,g.jsx)(y,{})]}),(0,g.jsx)(s.Page.Footer,NotificationIntroduction_objectSpread(NotificationIntroduction_objectSpread({},{confirmButtonProps:{loading:o},onConfirmText:e.formatMessage({id:c.ETranslations.global_enable}),onConfirm:(t=(0,i.A)((function*(t){try{n(!0),yield u.A.serviceNotification.enableNotificationPermissions()}finally{n(!1),p.current=!0}})),function onConfirm(e){return t.apply(this,arguments)})}),h&&{onCancelText:e.formatMessage({id:c.ETranslations.global_done}),onCancel:function(t){t()}}))]})}},864612:(t,e,o)=>{o.d(e,{A:()=>l});var n=o(514041),i=o(908867),r=o(490343),a=o(726130),s=o(334439),c=o(831085);const l=function NotificationsHelpCenterInstruction(){var t=(0,i.A)(),e=(0,n.useCallback)((function(t){return(0,c.jsx)(r.Anchor,{cursor:"default",size:"$bodyMd",color:"$textInteractive",href:a.DS,target:"_blank",hoverStyle:{color:"$textInteractiveHover"},children:t})}),[]);return(0,c.jsx)(r.SizableText,{maxWidth:"$96",size:"$bodyMd",color:"$textSubdued",children:t.formatMessage({id:s.ETranslations.notifications_test_action_desc},{tag:e})})}},215920:(t,e,o)=>{o.d(e,{A:()=>d});var n=o(324586),i=o(186207),r=o(908867),a=o(490343),s=o(610421),c=o(334439),l=o(831085);function ownKeys(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(o),!0).forEach((function(e){(0,n.A)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):ownKeys(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}const d=function NotificationsTestButton(t){var e=Object.assign({},((0,i.A)(t),t)),o=(0,r.A)();return(0,l.jsx)(a.Button,_objectSpread(_objectSpread({onPress:function(){s.A.serviceNotification.showNotification({title:o.formatMessage({id:c.ETranslations.notifications_test_message_title}),description:o.formatMessage({id:c.ETranslations.notifications_test_message_desc})})}},e),{},{children:o.formatMessage({id:c.ETranslations.global_test})}))}},161386:(t,e,o)=>{t.exports=o.p+"static/media/logo-decorated.7a016775525329861402.png"}}]);