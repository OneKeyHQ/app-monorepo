(self.webpackChunkweb=self.webpackChunkweb||[]).push([[60400],{186069:(e,t,n)=>{"use strict";n.d(t,{Y:()=>useCopyAccountAddress});var r=n(586330),o=n(514041),c=n(490343),a=n(392097),s=n(491180),d=n(610421),i=n(498356),useCopyAccountAddress=function(){var e,t=(0,i.A)(),{copyText:n}=(0,c.useClipboard)();return(0,o.useCallback)((e=(0,r.A)((function*({accountId:e,networkId:r}){if(s.A.isHwAccount({accountId:e})||s.A.isQrAccount({accountId:e})){var o=s.A.getWalletIdFromAccountId({accountId:e});t.pushModal(a.ry.ReceiveModal,{screen:a.MD.ReceiveToken,params:{networkId:r,accountId:e,walletId:o}})}else{var c=yield d.A.serviceAccount.getAccount({accountId:e,networkId:r});n(c.address)}})),function(t){return e.apply(this,arguments)}),[t,n])}},960400:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>DeriveTypesAddressPage});var r=n(586330),o=n(781936),c=n.n(o),a=n(514041),s=n(908867),d=n(490343),i=n(610421),u=n(325809),l=n(353203),I=n(791088),f=n(880590),m=n(186069),p=n(911998),v=n(259227),x=n(334439),k=n(491180),A=n(714191),y=n(359395),b=n(831085),w=(0,a.createContext)({indexedAccountId:"",actionType:y.rI.Copy,tokenMap:{}}),DeriveTypesAddressItem=function({item:e}){var t,n,o,i,u=(0,s.A)(),p=(0,m.Y)(),[A,g]=(0,a.useState)(!1),{network:h,refreshLocalData:T,indexedAccountId:j,actionType:S,onSelected:C,token:M,tokenMap:P}=(0,a.useContext)(w),{createAddress:N}=(0,l.m)(),[D]=(0,v.useSettingsPersistAtom)();P&&(i=c()(P,(function(t,n){return!(!e.account?.xpub||!n.includes(e.account?.xpub))})));var _=e.account?k.A.shortenAddress({address:e.account.address}):u.formatMessage({id:x.ETranslations.wallet_no_address}),z=(0,a.useCallback)((0,r.A)((function*(){if(!h)throw new Error("network is empty");if(e.account)S===y.rI.Copy?yield p({accountId:e.account.id,networkId:h.id}):S===y.rI.Select&&C?.({account:e.account,deriveInfo:e.deriveInfo,deriveType:e.deriveType});else try{g(!0);var t=k.A.getWalletIdFromAccountId({accountId:j});(yield N({selectAfterCreate:!1,num:0,account:{walletId:t,indexedAccountId:j,deriveType:e.deriveType,networkId:h.id}}))&&d.Toast.success({title:u.formatMessage({id:x.ETranslations.swap_page_toast_address_generated})}),T?.()}finally{g(!1)}})),[e.account,e.deriveType,e.deriveInfo,h,S,p,C,j,u,T,N]);return(0,b.jsxs)(I.c,{title:e.deriveInfo.label,subtitle:_,renderAvatar:(0,b.jsx)(f.vD,{logoURI:null!=(t=h?.logoURI)?t:"",isCustomNetwork:h?.isCustomNetwork,networkName:h?.name,size:"$8"}),onPress:z,disabled:A,children:[A?(0,b.jsx)(d.Stack,{p:"$0.5",children:(0,b.jsx)(d.Spinner,{})}):null,A||S!==y.rI.Copy?null:(0,b.jsx)(d.Icon,{name:e.account?"Copy3Outline":"PlusLargeOutline",color:"$iconSubdued"}),!A&&S===y.rI.Select&&e.account?(0,b.jsxs)(d.YStack,{children:[(0,b.jsx)(d.NumberSizeableText,{formatter:"balance",formatterOptions:{tokenSymbol:M?.symbol},numberOfLines:1,textAlign:"right",size:"$bodyLgMedium",children:null!=(n=i?.balanceParsed)?n:0}),(0,b.jsx)(d.NumberSizeableText,{formatter:"value",formatterOptions:{currency:D.currencyInfo.symbol},size:"$bodyMd",color:"$textSubdued",textAlign:"right",children:null!=(o=i?.fiatValue)?o:0})]}):null]})},DeriveTypesAddress=function({items:e}){var t=(0,a.useCallback)((function({item:e}){return(0,b.jsx)(DeriveTypesAddressItem,{item:e})}),[]);return(0,b.jsx)(d.Stack,{flex:1,children:(0,b.jsx)(d.ListView,{data:e,estimatedItemSize:60,renderItem:t})})};function DeriveTypesAddressPage({route:e}){var t,n=(0,s.A)(),{indexedAccountId:r,networkId:o,actionType:c,onUnmounted:l,onSelected:I,token:f,tokenMap:m}=e.params,{result:v,run:k}=(0,p.yk)((function(){return i.A.serviceAccount.getNetworkAccountsInSameIndexedAccountIdWithDeriveTypes({networkId:o,indexedAccountId:r})}),[o,r]),y=(0,a.useMemo)((function(){return{network:v?.network,refreshLocalData:k,indexedAccountId:r,actionType:c,onSelected:I,tokenMap:m,token:f}}),[v?.network,k,r,c,I,m,f]);return(0,b.jsx)(u.b8,{config:{sceneName:A.Zs.home,sceneUrl:""},enabledNum:[0],children:(0,b.jsx)(w.Provider,{value:y,children:(0,b.jsxs)(d.Page,{onUnmounted:l,children:[(0,b.jsx)(d.Page.Header,{title:n.formatMessage({id:x.ETranslations.address_type})}),(0,b.jsx)(d.Page.Body,{children:(0,b.jsx)(DeriveTypesAddress,{items:null!=(t=v?.networkAccounts)?t:[]})})]})})})}},277317:(e,t,n)=>{var r=n(103334),o=n(736529),c=n(781211);e.exports=function createFind(e){return function(t,n,a){var s=Object(t);if(!o(t)){var d=r(n,3);t=c(t),n=function(e){return d(s[e],e,s)}}var i=e(t,n,a);return i>-1?s[d?t[i]:i]:void 0}}},781936:(e,t,n)=>{var r=n(277317)(n(392154));e.exports=r},392154:(e,t,n)=>{var r=n(837250),o=n(103334),c=n(667642),a=Math.max;e.exports=function findIndex(e,t,n){var s=null==e?0:e.length;if(!s)return-1;var d=null==n?0:c(n);return d<0&&(d=a(s+d,0)),r(e,o(t,3),d)}}}]);