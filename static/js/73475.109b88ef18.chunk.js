"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[73475],{57140:(e,u,t)=>{t.d(u,{S:()=>s});var D=t(324586),n=t(839850),o=t(514041),r=t(241440),a=t(259227),l=t(827037),i=t(831085),c=["sourceCurrency","targetCurrency","children"];function ownKeys(e,u){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(e);u&&(D=D.filter((function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable}))),t.push.apply(t,D)}return t}function _objectSpread(e){for(var u=1;u<arguments.length;u++){var t=null!=arguments[u]?arguments[u]:{};u%2?ownKeys(Object(t),!0).forEach((function(u){(0,D.A)(e,u,t[u])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(u){Object.defineProperty(e,u,Object.getOwnPropertyDescriptor(t,u))}))}return e}var s=(0,o.memo)((function BasicCurrency(e){var{sourceCurrency:u,targetCurrency:t,children:D}=e,s=(0,n.A)(e,c),[{currencyItems:d}]=(0,a.useCurrencyPersistAtom)(),[{currencyInfo:F}]=(0,a.useSettingsPersistAtom)(),C=(0,o.useMemo)((function(){return d.find((function(e){return e.id===u}))}),[d,u]),E=(0,o.useMemo)((function(){var e=null!=t?t:F.id;return d.find((function(u){return u.id===e}))}),[F.id,d,t]),f=(0,o.useMemo)((function(){return C&&E?new r.A(String(D)).div(new r.A(C.value)).times(new r.A(E.value)).toFixed():D}),[D,C,E]);return(0,i.jsx)(l.A,_objectSpread(_objectSpread({formatter:"price",formatterOptions:{currency:E?.unit}},s),{},{children:f}))}))},389587:(e,u,t)=>{t.d(u,{K:()=>D});var D=80},593827:(e,u,t)=>{t.d(u,{L:()=>WalletAvatar});var D=t(503668),n=t.n(D),o=t(490343),r=t(491180),a=t(258988),l=t(831085);function WalletAvatarBase({size:e,img:u,wallet:t}){var D,n,i=u||t?.avatarInfo?.img;return i?r.A.isHwHiddenWallet({wallet:t})?(0,l.jsx)(o.Icon,{size:"$10",name:"LockSolid",color:"$iconSubdued"}):(0,l.jsxs)(o.Image,{size:e,children:[(0,l.jsx)(o.Image.Source,{source:null!=(D=a.UO[i])?D:a.UO.bear}),(0,l.jsx)(o.Image.Fallback,{delayMs:300,justifyContent:"center",alignItems:"center",children:(0,l.jsx)(o.SizableText,{children:null!=(n=t?.avatarInfo?.emoji)?n:""})})]}):null}function WalletAvatar({size:e="$10",status:u,badge:t,img:D,wallet:r}){return(0,l.jsxs)(o.Stack,{w:e,h:e,justifyContent:"center",alignItems:"center",children:[(0,l.jsx)(WalletAvatarBase,{size:e,img:D,wallet:r}),"connected"===u?(0,l.jsx)(o.Stack,{position:"absolute",bottom:-2,right:-2,bg:"$bgSidebar",p:"$0.5",borderRadius:"$full",zIndex:"$1",children:(0,l.jsx)(o.Stack,{borderRadius:"$full",w:"$2.5",h:"$2.5",bg:"$bgSuccessStrong"})}):null,n()(t)?null:(0,l.jsx)(o.Stack,{position:"absolute",h:"$4",px:"$0.5",justifyContent:"center",bottom:-2,right:-1,bg:"$bgSubdued",borderRadius:"$full",zIndex:"$1",children:(0,l.jsx)(o.SizableText,{size:"$bodySm",textAlign:"center",children:t})})]})}},973475:(e,u,t)=>{t.r(u),t.d(u,{AccountSelectorStack:()=>AccountSelectorStack,default:()=>AccountSelectorStackPage});var D=t(490343),n=t(325809),o=t(948675),r=t(579071),a=t.n(r),l=t(946343),i=t.n(l),c=t(324586),s=t(839850),d=t(586330),F=t(514041),C=t(908867),E=t(578104),f=t(610421),A=t(498356),m=t(911998),p=t(162616),b=t(259227),g=t(855287),h=t(318822),w=t(334439),v=t(491180),x=t(654266);function useAccountSelectorRoute(){return(0,x.lq)()}var y=t(287121),B=t(525603),j=t(791088),S=t(663522),I=t(553083),O=t(401349),k=t(392097),_=t(831085);function AccountExportPrivateKeyButton({testID:e,accountName:u,indexedAccount:t,account:n,onClose:o,icon:r,label:a,exportType:l}){var i=(0,A.A)();return(0,_.jsx)(D.ActionList.Item,{testID:e,icon:r,label:a,onClose:o,onPress:(0,d.A)((function*(){if("mnemonic"===l){var e;o?.();var{mnemonic:D}=yield f.A.serviceAccount.getTonImportedAccountMnemonic({accountId:null!=(e=n?.id)?e:""});return D&&(0,O.KE)(D),void i.pushModal(k.ry.OnboardingModal,{screen:k.xl.BeforeShowRecoveryPhrase,params:{mnemonic:D,isBackup:!0}})}i.pushModal(k.ry.AccountManagerStacks,{screen:k.v3.ExportPrivateKeysPage,params:{indexedAccount:t,account:n,accountName:u,title:a,exportType:l}})}))})}function AccountMoveToTopButton({indexedAccount:e,firstIndexedAccount:u,account:t,firstAccount:n,onClose:o}){var r=(0,C.A)();return e?.id&&u?.id===e?.id||t?.id&&n?.id===t?.id?null:(0,_.jsx)(D.ActionList.Item,{icon:"AlignTopOutline",label:r.formatMessage({id:w.ETranslations.market_move_to_top}),onClose:o,onPress:(0,d.A)((function*(){e?yield f.A.serviceAccount.insertIndexedAccountOrder({targetIndexedAccountId:e?.id,startIndexedAccountId:void 0,endIndexedAccountId:u?.id,emitEvent:!0}):t&&(yield f.A.serviceAccount.insertAccountOrder({targetAccountId:t?.id,startAccountId:void 0,endAccountId:n?.id,emitEvent:!0}))}))})}function AccountRemoveDialog({indexedAccount:e,account:u,accountsCount:t}){(0,C.A)();var n,o=(0,p.z$)(),[r,a]=(0,F.useState)(!1);return(0,_.jsx)(D.Dialog.Footer,{confirmButtonProps:{variant:"destructive",loading:r},onConfirm:(n=(0,d.A)((function*({close:D}){try{a(!0),yield o.current.removeAccount({indexedAccount:e,account:u,isRemoveLastOthersAccount:t<=1})}finally{a(!1),yield D()}})),function(e){return n.apply(this,arguments)})})}function AccountRemoveButton({name:e,accountsCount:u,indexedAccount:t,account:o,onClose:r}){var a=(0,C.A)(),{config:l}=(0,p.H9)(),i=(0,F.useMemo)((function(){if(t)return a.formatMessage({id:w.ETranslations.global_remove_account_desc});if(o){var e=v.A.getWalletIdFromAccountId({accountId:o.id});if(e&&v.A.isImportedWallet({walletId:e}))return a.formatMessage({id:w.ETranslations.remove_private_key_account_desc})}return a.formatMessage({id:w.ETranslations.remove_account_desc})}),[o,t,a]);return(0,_.jsx)(D.ActionList.Item,{icon:"DeleteOutline",label:a.formatMessage({id:w.ETranslations.global_remove}),destructive:!0,onClose:r,onPress:(0,d.A)((function*(){!function showAccountRemoveDialog({title:e,accountsCount:u,description:t,config:o,indexedAccount:r,account:a}){return D.Dialog.show({icon:"ErrorOutline",tone:"destructive",title:e,description:t,renderContent:o?(0,_.jsx)(n.b8,{enabledNum:[0],config:o,children:(0,_.jsx)(AccountRemoveDialog,{accountsCount:u,account:a,indexedAccount:r})}):null})}({accountsCount:u,config:l,title:a.formatMessage({id:w.ETranslations.global_remove_account_name},{account:e}),description:i,account:o,indexedAccount:t})}))})}var W=t(892145),P=t(658591),$=t(849726),M=t(880590),T=t(389587),L=["onSubmit","maxLength","indexedAccount","disabledMaxLengthLabel"];function ownKeys(e,u){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(e);u&&(D=D.filter((function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable}))),t.push.apply(t,D)}return t}function V4AccountNameSelector({onChange:e,indexedAccount:u}){var t=(0,C.A)(),[n]=(0,F.useState)(""),{result:o=[]}=(0,m.yk)((0,d.A)((function*(){return(yield f.A.serviceAccount.getAccountsInSameIndexedAccountId({indexedAccountId:u.id})).map((function(e){var u=P.S[e.coinType];return{label:e.name,value:e.name,leading:(0,_.jsx)(M.um,{networkId:u}),networkId:u}})).sort((function(e,u){return(0,W.A)({insensitive:!0})(e.networkId||"",u.networkId||"")}))})),[u.id]);return(0,_.jsx)(D.Stack,{pt:"$2",children:(0,_.jsx)(D.Select,{sheetProps:{snapPoints:[80],snapPointsMode:"percent"},floatingPanelProps:{maxHeight:272},renderTrigger:function({value:e,label:u,placeholder:n}){return(0,_.jsx)(D.Button,{size:"small",alignSelf:"flex-start",variant:"tertiary",iconAfter:"ChevronDownSmallOutline",children:t.formatMessage({id:w.ETranslations.v4_select_account_name_label})})},items:o,value:n,onChange:e,title:t.formatMessage({id:w.ETranslations.v4_select_account_name_label})})})}function RenameInputWithNameSelector({value:e,onChange:u,maxLength:t=T.K,indexedAccount:n,disabledMaxLengthLabel:o=!1}){var{result:r}=(0,m.yk)((0,d.A)((function*(){return!!n&&f.A.serviceV4Migration.canRenameFromV4AccountName({indexedAccount:n})})),[n]);return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)(D.Stack,{children:[(0,_.jsx)(D.Input,{size:"large",$gtMd:{size:"medium"},maxLength:t,autoFocus:!0,value:e,onChangeText:u}),r&&n?(0,_.jsx)(V4AccountNameSelector,{indexedAccount:n,onChange:u}):null]}),o?null:(0,_.jsx)(D.Form.FieldDescription,{textAlign:"right",children:`${e?.length||0}/${t}`})]})}var showRenameDialog=function(e,u){var t,{onSubmit:n,maxLength:o=80,indexedAccount:r,disabledMaxLengthLabel:a=!1}=u,l=(0,s.A)(u,L);return D.Dialog.show(function _objectSpread(e){for(var u=1;u<arguments.length;u++){var t=null!=arguments[u]?arguments[u]:{};u%2?ownKeys(Object(t),!0).forEach((function(u){(0,c.A)(e,u,t[u])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(u){Object.defineProperty(e,u,Object.getOwnPropertyDescriptor(t,u))}))}return e}({title:$.a.intl.formatMessage({id:w.ETranslations.global_rename}),renderContent:(0,_.jsx)(D.Dialog.Form,{formProps:{values:{name:e}},children:(0,_.jsx)(D.Dialog.FormField,{name:"name",rules:{required:{value:!0,message:$.a.intl.formatMessage({id:w.ETranslations.form_rename_error_empty})}},children:(0,_.jsx)(RenameInputWithNameSelector,{maxLength:o,indexedAccount:r,disabledMaxLengthLabel:a})})}),onConfirm:(t=(0,d.A)((function*({getForm:e,close:u}){var t=e();yield n(t?.getValues().name),yield u(),D.Toast.success({title:$.a.intl.formatMessage({id:w.ETranslations.feedback_change_saved})})})),function onConfirm(e){return t.apply(this,arguments)})},l))};function AccountRenameButton({name:e,indexedAccount:u,account:t,onClose:n}){var o=(0,C.A)(),{serviceAccount:r}=f.A;return(0,_.jsx)(D.ActionList.Item,{icon:"PencilOutline",label:o.formatMessage({id:w.ETranslations.global_rename}),onClose:n,onPress:(0,d.A)((function*(){var D;showRenameDialog(e,{indexedAccount:u,onSubmit:(D=(0,d.A)((function*(e){u?.id&&e?yield r.setAccountName({indexedAccountId:u?.id,name:e,shouldCheckDuplicate:!0}):t?.id&&e&&(yield r.setAccountName({accountId:t.id,name:e,shouldCheckDuplicate:!0}))})),function onSubmit(e){return D.apply(this,arguments)})})}))})}var H=(0,F.memo)((function AccountEditButtonView({accountsCount:e,indexedAccount:u,firstIndexedAccount:t,account:r,firstAccount:a,wallet:l}){var i,c=(0,C.A)(),{config:s}=(0,p.H9)(),E=u?.name||r?.name||"--",A=(0,F.useMemo)((function(){return!(u&&e<=1)}),[e,u]),m=(0,F.useMemo)((function(){return Boolean(r&&!u&&r?.id&&v.A.isImportedAccount({accountId:r?.id}))}),[r,u]),b=(0,F.useMemo)((function(){return Boolean(r&&!u&&r?.id&&v.A.isWatchingAccount({accountId:r?.id}))}),[r,u]),g=(0,F.useMemo)((function(){return u&&!r&&l?.id&&v.A.isHdWallet({walletId:l?.id})}),[r,u,l?.id]),h=(0,F.useMemo)((function(){return u&&!r&&l?.id&&v.A.isHwOrQrWallet({walletId:l?.id})}),[r,u,l?.id]),x=(0,F.useCallback)((0,d.A)((function*(){if(m&&r?.createAtNetwork||b&&r?.createAtNetwork&&(r?.pub||r?.xpub)){var e=yield f.A.serviceAccount.getNetworkSupportedExportKeyTypes({networkId:r?.createAtNetwork,exportType:"privateKey"}),u=yield f.A.serviceAccount.getNetworkSupportedExportKeyTypes({networkId:r?.createAtNetwork,exportType:"publicKey"}),t=yield f.A.serviceAccount.getNetworkSupportedExportKeyTypes({accountId:r?.id,networkId:r?.createAtNetwork,exportType:"mnemonic"});return{showExportPrivateKey:!b&&Boolean(e?.length),showExportPublicKey:Boolean(u?.length),showExportMnemonic:Boolean(t?.length)}}if(g)return{showExportPrivateKey:!0,showExportPublicKey:!0};if(h){var D=!0;return v.A.isQrWallet({walletId:l?.id})&&(D=!1),{showExportPrivateKey:!1,showExportPublicKey:D}}return{showExportPrivateKey:!1,showExportPublicKey:!1}})),[r,g,h,m,b,l?.id]),y=(0,F.useCallback)((0,d.A)((function*(){var e=56,D=yield x();return D?.showExportPrivateKey&&(e+=44),D?.showExportPublicKey&&(e+=44),D?.showExportMnemonic&&(e+=44),t?.id===u?.id&&a?.id===r?.id||(e+=44),A&&(e+=54),e})),[r?.id,a?.id,t?.id,x,u?.id,A]),B=(0,F.useCallback)((i=(0,d.A)((function*({handleActionListClose:i}){if(!s)return null;var d=yield x();return(0,_.jsxs)(n.b8,{enabledNum:[0],config:s,children:[(o.U.accountSelector.perf.renderAccountEditOptions({wallet:l,indexedAccount:u,account:r}),null),(0,_.jsx)(AccountRenameButton,{name:E,indexedAccount:u,account:r,onClose:i}),d?.showExportPrivateKey?(0,_.jsx)(AccountExportPrivateKeyButton,{testID:`popover-export-private-key-${E}`,icon:"KeyOutline",accountName:E,indexedAccount:u,account:r,onClose:i,label:c.formatMessage({id:w.ETranslations.global_export_private_key}),exportType:"privateKey"}):null,d?.showExportPublicKey?(0,_.jsx)(AccountExportPrivateKeyButton,{testID:`popover-export-public-key-${E}`,icon:"PasswordOutline",accountName:E,indexedAccount:u,account:r,onClose:i,label:c.formatMessage({id:w.ETranslations.global_public_key_export}),exportType:"publicKey"}):null,d?.showExportMnemonic?(0,_.jsx)(AccountExportPrivateKeyButton,{testID:`popover-export-mnemonic-key-${E}`,icon:"Shield2CheckOutline",accountName:E,indexedAccount:u,account:r,onClose:i,label:c.formatMessage({id:w.ETranslations.global_backup_recovery_phrase}),exportType:"mnemonic"}):null,(0,_.jsx)(AccountMoveToTopButton,{indexedAccount:u,firstIndexedAccount:t,account:r,firstAccount:a,onClose:i}),A?(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(D.Divider,{mx:"$2",my:"$1"}),(0,_.jsx)(AccountRemoveButton,{accountsCount:e,name:E,indexedAccount:u,account:r,onClose:i})]}):null]})})),function(e){return i.apply(this,arguments)}),[e,r,s,a,t,x,u,c,E,A,l]);return(0,_.jsx)(D.ActionList,{title:E,renderTrigger:(0,_.jsx)(j.c.IconButton,{testID:`account-item-edit-button-${E}`,icon:"DotHorOutline"}),renderItemsAsync:B,estimatedContentHeight:y})}));function AccountAddress({num:e,address:u,linkedNetworkId:t,isEmptyAddress:n}){var{activeAccount:o}=(0,p.LH)({num:e}),r=(0,C.A)().formatMessage({id:w.ETranslations.wallet_no_address});return u||n?(0,_.jsx)(D.SizableText,{size:"$bodyMd",color:n?"$textCaution":"$textSubdued",children:n&&t?r:u}):null}var N=t(241440),K=t(57140),z=t(827037),R=t(812979),V=t(595346);function AccountValue(e){var[u]=(0,b.useActiveAccountValueAtom)(),t=u?.accountId===e?.accountId,{currency:D,value:n}=(0,F.useMemo)((function(){return u&&t?u:e}),[e,u,t]),o=(0,F.useMemo)((function(){if("string"==typeof n)return n;var{linkedAccountId:u,linkedNetworkId:t}=e;return u&&t&&!I.Ay.isAllNetwork({networkId:t})?n[v.A.buildAccountValueKey({accountId:u,networkId:t})]:Object.values(n).reduce((function(e,u){return new N.A(null!=e?e:"0").plus(null!=u?u:"0").toFixed()}),"0")}),[n,e]);return o?(0,_.jsx)(K.S,{hideValue:!0,numberOfLines:1,flexShrink:1,size:"$bodyMd",color:"$textSubdued",sourceCurrency:D,children:o}):(0,_.jsx)(z.A,{formatter:"value",hideValue:!0,size:"$bodyMd",color:"$textDisabled",children:"--"})}function AccountValueWithSpotlight({accountValue:e,isOthersUniversal:u,index:t,linkedAccountId:D,linkedNetworkId:n}){var o,r=(0,x.jH)()&&!u&&0===t,a=(0,C.A)();return(0,_.jsx)(R.Li,{delayMs:300,containerProps:{flexShrink:1},isVisible:r,message:a.formatMessage({id:w.ETranslations.spotlight_enable_account_asset_message}),tourName:V.A.allNetworkAccountValue,children:e&&e.currency?(0,_.jsx)(AccountValue,{accountId:e.accountId,currency:e.currency,value:null!=(o=e.value)?o:"",linkedAccountId:D,linkedNetworkId:n}):(0,_.jsx)(z.A,{formatter:"value",hideValue:!0,size:"$bodyMd",color:"$textDisabled",children:"--"})})}function AccountSelectorAccountListItem_ownKeys(e,u){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(e);u&&(D=D.filter((function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable}))),t.push.apply(t,D)}return t}function AccountSelectorAccountListItem_objectSpread(e){for(var u=1;u<arguments.length;u++){var t=null!=arguments[u]?arguments[u]:{};u%2?AccountSelectorAccountListItem_ownKeys(Object(t),!0).forEach((function(u){(0,c.A)(e,u,t[u])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):AccountSelectorAccountListItem_ownKeys(Object(t)).forEach((function(u){Object.defineProperty(e,u,Object.getOwnPropertyDescriptor(t,u))}))}return e}function PlusButton({onPress:e,loading:u}){return(0,_.jsx)(D.IconButton,{borderWidth:0,borderRadius:"$2",variant:"tertiary",size:"medium",loading:u,onPress:e,icon:"PlusSmallOutline"})}function AccountSelectorAccountListItem({num:e,linkedNetworkId:u,item:t,section:n,index:o,isOthersUniversal:r,selectedAccount:a,accountsValue:l,linkNetwork:i,editMode:c,accountsCount:s,focusedWalletInfo:C}){var E=(0,p.z$)(),f=(0,A.A)(),[m]=(0,b.useIndexedAccountAddressCreationStateAtom)(),g=(0,F.useMemo)((function(){return r?t:void 0}),[r,t]),h=(0,F.useMemo)((function(){return r?void 0:t}),[r,t]),w=(0,F.useMemo)((function(){return Boolean(m?.indexedAccountId===h?.id&&m?.walletId===C?.wallet?.id)}),[m?.indexedAccountId,m?.walletId,C?.wallet?.id,h?.id]),x=(0,F.useCallback)((function(){var e,t=!1;if(r)e=g?.address;else{var D=h?.associateAccount;e=D?.address,D?.addressDetail?.isValid&&D?.addressDetail?.normalizedAddress&&(t=!0)}return e||r||!u||t?{linkedNetworkId:void 0,address:e?v.A.shortenAddress({address:e}):"",isEmptyAddress:!1}:{linkedNetworkId:u,address:"",isEmptyAddress:!0}}),[g?.address,h?.associateAccount,r,u]),S=(0,F.useMemo)((function(){return x()}),[x]),O=(0,F.useMemo)((function(){return l?.find((function(e){return e.accountId===t.id}))}),[l,t.id]),k=(0,F.useMemo)((function(){return!(!i||!S.isEmptyAddress)}),[i,S.isEmptyAddress]),W=(0,F.useMemo)((function(){return c?(0,_.jsx)(_.Fragment,{children:(0,_.jsx)(H,{accountsCount:s,indexedAccount:h,firstIndexedAccount:r?void 0:n?.firstAccount,account:g,firstAccount:r?n?.firstAccount:void 0,wallet:C?.wallet})}):k?(0,_.jsx)(B.J,{num:e,selectAfterCreate:!0,account:{walletId:C?.wallet?.id,networkId:u,indexedAccountId:h?.id,deriveType:a.deriveType},buttonRender:PlusButton}):null}),[c,s,h,r,n?.firstAccount,g,C?.wallet,k,e,u,a.deriveType]),P=(0,F.useMemo)((function(){var e;return r&&g&&(e=v.A.getAccountCompatibleNetwork({account:g,networkId:i?a?.networkId:g.createAtNetwork})),!e&&h&&i&&(e=a?.networkId),e}),[g,h,r,i,a?.networkId]),$=(0,F.useMemo)((function(){return!c&&!k}),[c,k]),M=(0,F.useCallback)((function(){return i&&!S.address?null:(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(AccountValueWithSpotlight,{isOthersUniversal:r,index:o,accountValue:O,linkedAccountId:h?.associateAccount?.id,linkedNetworkId:P}),S.address?(0,_.jsx)(D.Stack,{mx:"$1.5",w:"$1",h:"$1",bg:"$iconSubdued",borderRadius:"$full"}):null]})}),[i,S.address,r,o,O,h?.associateAccount?.id,P]);return(0,_.jsx)(j.c,AccountSelectorAccountListItem_objectSpread(AccountSelectorAccountListItem_objectSpread({testID:`account-item-index-${o}`,renderAvatar:(0,_.jsx)(y.h,{loading:(0,_.jsx)(y.h.Loading,{w:"$10",h:"$10"}),indexedAccount:h,account:g,networkId:P}),renderItemText:function(u){return(0,_.jsx)(j.c.Text,AccountSelectorAccountListItem_objectSpread(AccountSelectorAccountListItem_objectSpread({},u),{},{flex:1,primary:(0,_.jsx)(D.SizableText,{size:"$bodyLgMedium",numberOfLines:1,children:t.name}),secondary:(0,_.jsxs)(D.XStack,{alignItems:"center",children:[M(),(0,_.jsx)(AccountAddress,{num:e,linkedNetworkId:S.linkedNetworkId,address:S.address,isEmptyAddress:S.isEmptyAddress})]})}))}},!c&&{onPress:$?(0,d.A)((function*(){if(!k){if(r){var u=P;a?.networkId&&I.Ay.isAllNetwork({networkId:a?.networkId})&&(u=a?.networkId),yield E.current.confirmAccountSelect({num:e,indexedAccount:void 0,othersWalletAccount:g,autoChangeToAccountMatchedNetworkId:u})}else C&&(yield E.current.confirmAccountSelect({num:e,indexedAccount:h,othersWalletAccount:void 0,autoChangeToAccountMatchedNetworkId:void 0}));f.popStack()}})):void 0,isLoading:w,checkMark:function(){if(!w&&!k)return r?a.othersWalletAccountId===t.id:a.indexedAccountId===t.id}(),userSelect:"none"}),{},{children:W}),t.id)}var U=t(181447);function AccountSelectorAddAccountButton({num:e,isOthersUniversal:u,section:t,focusedWalletInfo:n}){var o=(0,p.z$)(),r=(0,A.A)(),a=(0,C.A)(),{serviceAccount:l}=f.A,i=(0,F.useCallback)((function(){r.pushModal(k.ry.OnboardingModal,{screen:k.xl.ImportAddress})}),[r]),c=(0,F.useCallback)((function(){r.pushModal(k.ry.OnboardingModal,{screen:k.xl.ImportPrivateKey})}),[r]),s=(0,F.useCallback)((function(){r.pushModal(k.ry.OnboardingModal,{screen:k.xl.ConnectWalletSelectNetworks})}),[r]),m=(0,E.YQ)((0,d.A)((function*(){if(u)return t.walletId===U.Hk&&i(),t.walletId===U.C5&&c(),void(t.walletId===U.lS&&s());if(n)try{var D=n?.wallet,a=yield l.addHDNextIndexedAccount({walletId:t.walletId});yield o.current.updateSelectedAccountForHdOrHwAccount({num:e,walletId:D?.id,indexedAccountId:a.indexedAccountId});var d=yield l.getIndexedAccountSafe({id:a.indexedAccountId});if(d&&D)v.A.getWalletIdFromAccountId({accountId:d?.id})===D?.id&&(yield b.indexedAccountAddressCreationStateAtom.set({walletId:D?.id,indexedAccountId:d?.id}),yield o.current.addDefaultNetworkAccounts({wallet:D,indexedAccount:d}))}finally{yield b.indexedAccountAddressCreationStateAtom.set(void 0),r.popStack()}})),300,{leading:!0,trailing:!1});return(0,_.jsxs)(j.c,{testID:"account-add-account",onPress:m,children:[(0,_.jsx)(D.Stack,{bg:"$bgStrong",borderRadius:"$2",p:"$2",borderCurve:"continuous",children:(0,_.jsx)(D.Icon,{name:"PlusSmallOutline"})}),(0,_.jsx)(j.c.Text,{userSelect:"none",primary:a.formatMessage({id:w.ETranslations.global_add_account}),primaryTextProps:{color:"$textSubdued"}})]})}var Q=t(131397);function EmptyNoAccountsView({section:e}){return 0===e.data.length&&e.emptyText?(0,_.jsx)(j.c,{title:e.emptyText,titleProps:{size:"$bodyLg",textAlign:"left",py:"$2"}}):null}function LoadingSkeletonView(){return(0,_.jsx)(D.Stack,{children:[1,2,3].map((function(e){return(0,_.jsxs)(j.c,{children:[(0,_.jsx)(D.Stack,{children:(0,_.jsx)(D.Skeleton,{w:"$10",h:"$10"})}),(0,_.jsxs)(D.Stack,{children:[(0,_.jsx)(D.Stack,{py:"$1",children:(0,_.jsx)(D.Skeleton,{h:"$4",w:"$32"})}),(0,_.jsx)(D.Stack,{py:"$1",children:(0,_.jsx)(D.Skeleton,{h:"$3",w:"$24"})})]})]},e)}))})}function EmptyNoWalletView(){var e=(0,Q.t1)(),u=(0,C.A)();return(0,_.jsx)(D.Empty,{mt:"$24",icon:"WalletOutline",title:u.formatMessage({id:w.ETranslations.global_no_wallet}),description:u.formatMessage({id:w.ETranslations.global_no_wallet_desc}),buttonProps:{children:u.formatMessage({id:w.ETranslations.global_create_wallet}),onPress:function(){e({params:{showCloseButton:!0}})}}})}function EmptyView(){var[e]=(0,b.useAccountSelectorAccountsListIsLoadingAtom)();return e?(0,_.jsx)(LoadingSkeletonView,{}):(0,_.jsx)(EmptyNoWalletView,{})}var X=t(503668),q=t.n(X),Z=t(17617),J=t(575995);function WalletRemoveDialog({defaultValue:e,wallet:u,showCheckBox:t}){var n=(0,C.A)(),[r,a]=(0,F.useState)(e),l=(0,F.useCallback)((function(e){a(!!e)}),[]),i=(0,p.z$)();return(0,_.jsxs)(_.Fragment,{children:[t?(0,_.jsx)(D.Checkbox,{value:r,onChange:l,label:n.formatMessage({id:w.ETranslations.remove_wallet_double_confirm_message})}):null,(0,_.jsx)(D.Dialog.Footer,{onConfirmText:n.formatMessage({id:w.ETranslations.global_remove}),confirmButtonProps:{disabled:t&&!r,variant:"destructive"},onConfirm:(0,d.A)((function*(){yield i.current.removeWallet({walletId:u?.id||""}),o.U.account.wallet.deleteWallet(),D.Toast.success({title:n.formatMessage({id:w.ETranslations.feedback_change_saved})})}))})]})}function WalletRemoveButton({wallet:e}){var{config:u}=(0,p.H9)(),t=(0,C.A)(),o=v.A.isHwWallet({walletId:e?.id})||v.A.isQrWallet({walletId:e?.id});var{title:r,description:a}=function getTitleAndDescription(){return o?v.A.isHwHiddenWallet({wallet:e})?{title:t.formatMessage({id:w.ETranslations.remove_device}),description:t.formatMessage({id:w.ETranslations.remove_hidden_wallet_desc})}:{title:t.formatMessage({id:w.ETranslations.remove_device}),description:t.formatMessage({id:w.ETranslations.remove_device_desc})}:{title:t.formatMessage({id:w.ETranslations.remove_wallet}),description:t.formatMessage({id:w.ETranslations.remove_wallet_desc})}}();return(0,_.jsx)(D.IconButton,{title:t.formatMessage({id:w.ETranslations.global_remove}),icon:"DeleteOutline",variant:"tertiary",onPress:function(){!function showWalletRemoveDialog({title:e,description:u,defaultChecked:t,wallet:o,config:r,showCheckBox:a}){return D.Dialog.show({icon:"ErrorOutline",tone:"destructive",title:e,description:u,renderContent:r?(0,_.jsx)(n.b8,{enabledNum:[0],config:r,children:(0,_.jsx)(WalletRemoveDialog,{wallet:o,defaultValue:t,showCheckBox:a})}):null})}({config:u,title:r,description:a,showCheckBox:!o,defaultChecked:!1,wallet:e})}})}var Y=t(714191),G=t(284908),ee=t(584186);function DescriptionList({label:e,description:u}){return(0,_.jsxs)(D.XStack,{justifyContent:"space-between",alignItems:"center",minHeight:"$9",children:[(0,_.jsx)(D.SizableText,{textAlign:"right",color:"$textSubdued",size:"$bodyMd",children:e}),(0,_.jsx)(D.SizableText,{size:"$bodyMdMedium",children:u})]})}var ue=0;function AboutDeviceInfo({device:e}){var u,t=(0,C.A)(),[D,n]=(0,F.useState)([]),o=(0,F.useCallback)((function(e){return[{label:t.formatMessage({id:w.ETranslations.global_serial_number}),description:e.uuid||"--"},{label:t.formatMessage({id:w.ETranslations.global_bluetooth}),description:e.bleName||"--"},{label:t.formatMessage({id:w.ETranslations.global_firmware}),description:e.firmwareVersion||"--"},{label:t.formatMessage({id:w.ETranslations.global_bluetooth_firmware}),description:e.bleVersion||"--"}]}),[t]),r=(0,F.useCallback)((u=(0,d.A)((function*(e,u){var{bleVersion:t,firmwareVersion:D}=yield G.A.getDeviceVersion({device:e,features:u});return o({uuid:e?.uuid,bleName:u?.ble_name,firmwareVersion:D,bleVersion:t})})),function(e,t){return u.apply(this,arguments)}),[o]),a=(0,F.useCallback)((function(e){var u=Date.now(),t=ee.A.getTimeDurationMs({seconds:5});return u-ue<t?null:(ue=u,f.A.serviceHardware.getFeaturesWithoutCache({connectId:e.connectId,params:{retryCount:1}}))}),[]);return(0,F.useEffect)((function(){var u,t=!1,D=(u=(0,d.A)((function*(){if(e?.featuresInfo&&e?.connectId){var u=yield f.A.serviceAccount.getDevice({dbDeviceId:e.id}),D=yield r(u,u?.featuresInfo);n(D);try{t=!0;var o=yield a({connectId:e.connectId});if(!o)return void(t=!1);var l=yield r(u,o);JSON.stringify(l)!==JSON.stringify(D)&&n(l)}catch(e){}finally{t=!1}}})),function fetchUpdatedInfo(){return u.apply(this,arguments)});return D(),function(){t&&e?.connectId&&f.A.serviceHardware.cancel(e.connectId)}}),[e,a,r]),(0,_.jsx)(_.Fragment,{children:D.map((function(e){return(0,_.jsx)(DescriptionList,{label:e.label,description:e.description},e.label)}))})}function AboutDevice({device:e}){var u=(0,C.A)();return(0,_.jsx)(D.IconButton,{title:u.formatMessage({id:w.ETranslations.global_about}),icon:"InfoCircleOutline",variant:"tertiary",onPress:function(){return D.Dialog.show({title:u.formatMessage({id:w.ETranslations.global_about}),showFooter:!1,renderContent:(0,_.jsx)(AboutDeviceInfo,{device:e})})}})}var te=["wallet","device","editable","editMode","onEditButtonPress","linkedNetworkId","num"];function WalletDetailsHeader_ownKeys(e,u){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(e);u&&(D=D.filter((function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable}))),t.push.apply(t,D)}return t}function WalletDetailsHeader_objectSpread(e){for(var u=1;u<arguments.length;u++){var t=null!=arguments[u]?arguments[u]:{};u%2?WalletDetailsHeader_ownKeys(Object(t),!0).forEach((function(u){(0,c.A)(e,u,t[u])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):WalletDetailsHeader_ownKeys(Object(t)).forEach((function(u){Object.defineProperty(e,u,Object.getOwnPropertyDescriptor(t,u))}))}return e}function WalletDetailsHeader(e){var{wallet:u,device:t,editable:n,editMode:o,onEditButtonPress:r,linkedNetworkId:a,num:l}=e,i=(0,s.A)(e,te),[c]=(0,p.iG)(),d=(0,C.A)(),F=v.A.isHwWallet({walletId:u?.id})&&!v.A.isHwHiddenWallet({wallet:u}),E=!!u?.id&&!v.A.isOthersWallet({walletId:u?.id}),{selectedAccount:f}=(0,p.wz)({num:null!=l?l:0});return(0,_.jsxs)(j.c,WalletDetailsHeader_objectSpread(WalletDetailsHeader_objectSpread({testID:"account-selector-header",mt:"$1.5",justifyContent:"flex-end"},i),{},{children:[o&&n?(0,_.jsxs)(D.XStack,{pr:"$5",mr:"$2",gap:"$5",borderRightWidth:Z.A.hairlineWidth,borderRightColor:"$borderSubdued",children:[F?(0,_.jsx)(AboutDevice,{device:t}):null,E?(0,_.jsx)(WalletRemoveButton,{wallet:u}):null]}):null,n?(0,_.jsx)(D.Button,WalletDetailsHeader_objectSpread(WalletDetailsHeader_objectSpread({testID:"account-edit-button",variant:"tertiary",alignSelf:"flex-start",$gtMd:{top:"$0.5"},onPress:r},o&&{color:"$textInteractive",icon:"CheckLargeOutline",iconColor:"$iconSuccess"}),{},{children:o?d.formatMessage({id:w.ETranslations.global_done}):d.formatMessage({id:w.ETranslations.global_edit})})):null,a&&!q()(l)&&c?.sceneName===Y.Zs.discover?(0,_.jsx)(J.pz,{num:l,focusedWalletId:q()(l)?void 0:f.focusedWallet}):null]}))}var De=t(961767),ne=t(961974),oe=["label","description","icon","iconColor","isLoading","children","drillIn","testID"];function WalletOptionItem_ownKeys(e,u){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(e);u&&(D=D.filter((function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable}))),t.push.apply(t,D)}return t}function WalletOptionItem_objectSpread(e){for(var u=1;u<arguments.length;u++){var t=null!=arguments[u]?arguments[u]:{};u%2?WalletOptionItem_ownKeys(Object(t),!0).forEach((function(u){(0,c.A)(e,u,t[u])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):WalletOptionItem_ownKeys(Object(t)).forEach((function(u){Object.defineProperty(e,u,Object.getOwnPropertyDescriptor(t,u))}))}return e}function WalletOptionItem(e){var{label:u,description:t,icon:n,iconColor:o="$iconSubdued",isLoading:r,children:a,drillIn:l,testID:i}=e,c=(0,s.A)(e,oe);return(0,_.jsxs)(j.c,WalletOptionItem_objectSpread(WalletOptionItem_objectSpread({userSelect:"none",testID:i},c),{},{children:[n?(0,_.jsx)(D.Stack,{px:"$2",children:(0,_.jsx)(D.Icon,{name:n,color:o})}):null,(0,_.jsx)(j.c.Text,{primary:u,secondary:t,flex:1}),a,r?(0,_.jsx)(D.Spinner,{}):null]}))}function HiddenWalletAddButton({wallet:e}){var u=(0,C.A)(),t=(0,p.z$)(),[n,o]=(0,F.useState)(!1),{createQrWallet:r}=(0,De.g)(),a=(0,F.useCallback)((0,d.A)((function*(){try{o(!0),yield t.current.createHWHiddenWallet({walletId:e?.id||""},{addDefaultNetworkAccounts:!0,showAddAccountsLoading:!0}),D.Toast.success({title:u.formatMessage({id:w.ETranslations.global_success})})}finally{o(!1)}})),[t,u,e?.id]),l=(0,F.useCallback)((0,d.A)((function*(){try{yield r({isOnboarding:!0,onFinalizeWalletSetupError:function(){}})}catch(e){throw ne.A.toastIfError(e),e}})),[r]);return e&&v.A.isHwOrQrWallet({walletId:e.id})&&!v.A.isHwHiddenWallet({wallet:e})?(0,_.jsx)(WalletOptionItem,{icon:"LockOutline",label:u.formatMessage({id:w.ETranslations.global_add_hidden_wallet}),isLoading:n,onPress:(0,d.A)((function*(){v.A.isHwWallet({walletId:e?.id})&&(yield a()),v.A.isQrWallet({walletId:e?.id})&&(yield l())}))}):null}function Advance_ownKeys(e,u){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(e);u&&(D=D.filter((function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable}))),t.push.apply(t,D)}return t}function Advance_objectSpread(e){for(var u=1;u<arguments.length;u++){var t=null!=arguments[u]?arguments[u]:{};u%2?Advance_ownKeys(Object(t),!0).forEach((function(u){(0,c.A)(e,u,t[u])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Advance_ownKeys(Object(t)).forEach((function(u){Object.defineProperty(e,u,Object.getOwnPropertyDescriptor(t,u))}))}return e}function EnterPinOnSoftwareSwitch(e){var u,{defaultValue:t}=e,[n,o]=(0,F.useState)(t);return(0,_.jsx)(D.Switch,{size:D.ESwitchSize.small,value:n,onChange:(u=(0,d.A)((function*(u){try{o(u),yield f.A.serviceHardware.setInputPinOnSoftware({walletId:e?.wallet?.id||"",inputPinOnSoftware:u})}catch(e){o(!u)}})),function(e){return u.apply(this,arguments)})})}function EnablePassphraseSwitch(e){var u,{defaultValue:t}=e,[n,o]=(0,F.useState)(t);return(0,_.jsx)(D.Switch,{size:D.ESwitchSize.small,value:n,onChange:(u=(0,d.A)((function*(u){try{yield f.A.serviceHardware.setPassphraseEnabled({walletId:e?.wallet?.id||"",passphraseEnabled:u}),o(u)}catch(e){}})),function(e){return u.apply(this,arguments)})})}function AdvanceDialogContent(e){var u=(0,C.A)(),{onFail:t}=e,{result:n}=(0,m.yk)((0,d.A)((function*(){try{return yield f.A.serviceHardware.getDeviceAdvanceSettings({walletId:e?.wallet?.id||""})}catch(e){throw t?.(e),e}})),[t,e?.wallet?.id]);return n?(0,_.jsxs)(D.Stack,{mx:"$-5",children:[n.inputPinOnSoftwareSupport?(0,_.jsx)(j.c,{title:u.formatMessage({id:w.ETranslations.enter_pin_on_app}),pt:"$0",children:(0,_.jsx)(EnterPinOnSoftwareSwitch,Advance_objectSpread(Advance_objectSpread({},e),{},{defaultValue:n.inputPinOnSoftware}))}):null,(0,_.jsx)(j.c,{title:u.formatMessage({id:w.ETranslations.global_passphrase}),children:(0,_.jsx)(EnablePassphraseSwitch,Advance_objectSpread(Advance_objectSpread({},e),{},{defaultValue:n.passphraseEnabled}))}),(0,_.jsx)(D.SizableText,{px:"$5",size:"$bodyMd",children:u.formatMessage({id:w.ETranslations.global_passphrase_desc})})]}):(0,_.jsx)(D.Stack,{borderRadius:"$3",p:"$5",bg:"$bgSubdued",borderCurve:"continuous",children:(0,_.jsx)(D.Spinner,{size:"large"})})}function Advance(e){var u=(0,C.A)();return(0,_.jsx)(WalletOptionItem,{icon:"SwitchOutline",label:u.formatMessage({id:w.ETranslations.global_advance}),onPress:function(){var t=D.Dialog.show({title:u.formatMessage({id:w.ETranslations.global_advance}),renderContent:(0,_.jsx)(AdvanceDialogContent,Advance_objectSpread(Advance_objectSpread({},e),{},{onFail:function(){t.close()}})),showFooter:!1})}})}function BatchCreateAccountButtonView({wallet:e}){var u=(0,C.A)(),t=(0,A.A)(),{activeAccount:D}=(0,p.LH)({num:0});return(0,_.jsx)(WalletOptionItem,{testID:"account-batch-add-account",icon:"Back10Outline",label:u.formatMessage({id:w.ETranslations.global_bulk_add_accounts}),onPress:(0,d.A)((function*(){yield f.A.serviceBatchCreateAccount.prepareBatchCreate(),t.pushModal(k.ry.AccountManagerStacks,{screen:k.v3.BatchCreateAccountPreview,params:{walletId:e?.id||"",networkId:I.Ay.toNetworkIdFallback({networkId:D?.network?.id})}})}))})}function BatchCreateAccountButton({wallet:e}){return(0,_.jsx)(n.b8,{config:{sceneName:Y.Zs.home},enabledNum:[0],children:(0,_.jsx)(BatchCreateAccountButtonView,{wallet:e})})}var re=t(773831);function CheckFirmwareUpdateButton({device:e}){var u=(0,C.A)(),t=(0,re.B)();return(0,_.jsx)(WalletOptionItem,{testID:"AccountSelector-WalletOption-CheckFirmwareUpdate",icon:"RefreshCcwOutline",label:u.formatMessage({id:w.ETranslations.global_check_for_updates}),onPress:function(){t.openChangeLogModal({connectId:e?.connectId})}})}function HardwareHomeScreenButton({device:e}){var u=(0,C.A)(),t=(0,A.A)();return(0,_.jsx)(WalletOptionItem,{icon:"AiImagesOutline",label:u.formatMessage({id:w.ETranslations.global_homescreen}),onPress:function(){e&&t.pushModal(k.ry.AccountManagerStacks,{screen:k.v3.HardwareHomeScreenModal,params:{device:e}})}})}var ae=t(483295),le=t(15159);function HdWalletBackupButton({wallet:e}){var u=(0,A.A)(),t=(0,C.A)(),n=(0,ae.A)(),r=(0,F.useCallback)((0,d.A)((function*(){if(e?.id){var{mnemonic:t}=yield f.A.serviceAccount.getHDAccountMnemonic({walletId:e?.id,reason:le.a.Security});t&&(0,O.KE)(t),u.pushModal(k.ry.OnboardingModal,{screen:k.xl.BeforeShowRecoveryPhrase,params:{mnemonic:t,isBackup:!0}}),o.U.account.wallet.backupWallet("manualBackup")}})),[u,e?.id]),a=((0,F.useCallback)((function(){n.backupWallet(e?.id),o.U.account.wallet.backupWallet("liteCard")}),[n,e?.id]),(0,F.useCallback)((0,d.A)((function*(){if(e){var{mnemonic:t}=yield f.A.serviceAccount.getHDAccountMnemonic({walletId:e.id,reason:le.a.Security});t&&(0,O.KE)(t),u.pushModal(k.ry.KeyTagModal,{screen:k.ex.BackupDotMap,params:{encodedText:t,title:e.name}}),o.U.account.wallet.backupWallet("keyTag")}})),[u,e]));return(0,_.jsx)(D.ActionList,{offset:{mainAxis:0,crossAxis:18},placement:"bottom-start",title:t.formatMessage({id:w.ETranslations.global_backup}),items:[{label:t.formatMessage({id:w.ETranslations.manual_backup}),icon:"PenOutline",onPress:function(){r()}},!1,{label:t.formatMessage({id:w.ETranslations.global_onekey_keytag}),icon:"OnekeyKeytagOutline",onPress:function(){a()}}].filter(Boolean),renderTrigger:(0,_.jsx)(WalletOptionItem,{testID:"AccountSelector-WalletOption-Backup",icon:"Shield2CheckOutline",label:t.formatMessage({id:w.ETranslations.global_backup})})})}function HiddenWalletRememberSwitch({wallet:e}){var[u,t]=(0,F.useState)(!e?.isTemp),n=(0,C.A)();return(0,_.jsx)(WalletOptionItem,{label:n.formatMessage({id:w.ETranslations.form_keep_hidden_wallet_label}),description:n.formatMessage({id:w.ETranslations.form_keep_hidden_wallet_label_desc}),drillIn:!1,children:(0,_.jsx)(D.Switch,{size:D.ESwitchSize.small,value:u,onChange:(0,d.A)((function*(){if(e?.id){var D=!u;try{yield f.A.serviceAccount.setWalletTempStatus({walletId:e?.id,isTemp:!D}),t(D)}catch(e){throw t(u),e}}}))})},e?.id)}var ie=t(282029);function Verification({device:e}){var u=(0,C.A)(),{iconColor:t,iconName:D}=e?.verifiedAtVersion?{iconName:"BadgeVerifiedSolid",iconColor:"$iconSuccess"}:""===e?.verifiedAtVersion?{iconName:"ErrorSolid",iconColor:"$iconCritical"}:{iconName:"DocumentSearch2Outline",iconColor:"$iconSubdued"},{showFirmwareVerifyDialog:n}=(0,ie.It)();return(0,_.jsx)(WalletOptionItem,{icon:D,iconColor:t,label:u.formatMessage({id:w.ETranslations.device_auth_request_title}),onPress:(0,d.A)((function*(){var u;e&&(yield n({device:e,onContinue:(u=(0,d.A)((function*({checked:e}){})),function onContinue(e){return u.apply(this,arguments)})}))}))})}var ce=t(593827),se=t(258988);function WalletAvatarEditDialog({wallet:e}){var u=(0,C.A)(),{serviceAccount:t}=f.A,[n,o]=(0,F.useState)(e?.avatarInfo?.img);return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(D.XStack,{flexWrap:"wrap",children:se.mx.map((function(e,u){return(0,_.jsxs)(D.Stack,{justifyContent:"center",alignItems:"center",flexBasis:"25%",py:"$2",animation:"quick",hoverStyle:{scale:1.1},pressStyle:{scale:.9},onPress:function(){o(e)},children:[(0,_.jsx)(ce.L,{size:"$12",img:e,wallet:void 0}),(0,_.jsx)(D.AnimatePresence,{children:n===e?(0,_.jsx)(D.Stack,{position:"absolute",zIndex:"$1",right:"$4",bottom:"$1",p:"$px",bg:"$bg",borderRadius:"$full",enterStyle:S.Ay.isNativeAndroid?void 0:{opacity:0,scale:0},exitStyle:S.Ay.isNativeAndroid?void 0:{opacity:0,scale:0},children:(0,_.jsx)(D.Icon,{size:"$5",color:"$iconActive",name:"CheckRadioSolid"})}):null})]},u)}))}),(0,_.jsx)(D.Dialog.Footer,{onConfirm:(0,d.A)((function*(){e?.id&&n&&(yield t.setWalletNameAndAvatar({walletId:e?.id,avatar:{img:n}}),D.Toast.success({title:u.formatMessage({id:w.ETranslations.feedback_change_saved})}))}))})]})}var de=t(381354),Fe=t.n(de),Ce=["onSubmit"];function HardwareLabelSetDialog_ownKeys(e,u){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(e);u&&(D=D.filter((function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable}))),t.push.apply(t,D)}return t}function HardwareLabelSetDialog_RenameInputWithNameSelector({value:e,onChange:u,maxLength:t}){var n=(0,C.A)();return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(D.Stack,{children:(0,_.jsx)(D.Input,{size:"large",$gtMd:{size:"medium"},maxLength:t,autoFocus:!0,value:e,onChangeText:u})}),(0,_.jsx)(D.Form.FieldDescription,{children:n.formatMessage({id:w.ETranslations.global_hardware_label_desc})})]})}function DeviceLabelDialogContent(e){var u=(0,C.A)(),[t,n]=(0,F.useState)(!1),{onFail:o,wallet:r,onSubmit:a}=e,{result:l}=(0,m.yk)((0,d.A)((function*(){try{return yield f.A.serviceHardware.getDeviceLabel({walletId:r?.id||""})}catch(e){throw o?.(e),e}})),[o,r?.id],{debounced:600});if(!l)return(0,_.jsx)(D.Stack,{borderRadius:"$3",p:"$5",bg:"$bgSubdued",borderCurve:"continuous",children:(0,_.jsx)(D.Spinner,{size:"large"})});var i;return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(D.Dialog.Form,{formProps:{values:{name:l||""}},children:(0,_.jsx)(D.Dialog.FormField,{name:"name",label:u.formatMessage({id:w.ETranslations.global_hardware_label_title}),rules:{maxLength:{value:32,message:"Label is too long"},validate:function(e){return!e.length||(Fe()().test(e)?u.formatMessage({id:w.ETranslations.global_hardware_label_input_error}):void 0)},required:{value:!0,message:$.a.intl.formatMessage({id:w.ETranslations.form_rename_error_empty})}},children:(0,_.jsx)(HardwareLabelSetDialog_RenameInputWithNameSelector,{maxLength:32})})}),(0,_.jsx)(D.Dialog.Footer,{confirmButtonProps:{loading:t},onConfirm:(i=(0,d.A)((function*({getForm:e,close:u}){try{n(!0);var t=e();if(!t)return;yield a(t?.getValues().name),yield u(),D.Toast.success({title:$.a.intl.formatMessage({id:w.ETranslations.feedback_change_saved})})}finally{n(!1)}})),function(e){return i.apply(this,arguments)})})]})}var showLabelSetDialog=function({wallet:e},u){var{onSubmit:t}=u,n=(0,s.A)(u,Ce),o=D.Dialog.show(function HardwareLabelSetDialog_objectSpread(e){for(var u=1;u<arguments.length;u++){var t=null!=arguments[u]?arguments[u]:{};u%2?HardwareLabelSetDialog_ownKeys(Object(t),!0).forEach((function(u){(0,c.A)(e,u,t[u])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):HardwareLabelSetDialog_ownKeys(Object(t)).forEach((function(u){Object.defineProperty(e,u,Object.getOwnPropertyDescriptor(t,u))}))}return e}({title:$.a.intl.formatMessage({id:w.ETranslations.global_rename}),renderContent:(0,_.jsx)(DeviceLabelDialogContent,{wallet:e,onFail:function(){o.close()},onSubmit:t}),showFooter:!1},n))};function WalletRenameButton({wallet:e}){var{serviceAccount:u}=f.A;return(0,_.jsxs)(D.XStack,{flex:1,py:"$1",px:"$1.5",alignItems:"center",userSelect:"none",borderRadius:"$2",hoverStyle:{bg:"$bgHover"},pressStyle:{bg:"$bgActive"},focusable:!0,focusVisibleStyle:{outlineOffset:2,outlineWidth:2,outlineColor:"$focusRing",outlineStyle:"solid"},onPress:(0,d.A)((function*(){var t,D;e&&e?.id&&v.A.isHwWallet({walletId:e?.id})&&!v.A.isHwHiddenWallet({wallet:e})?showLabelSetDialog({wallet:e},{onSubmit:(D=(0,d.A)((function*(u){yield f.A.serviceHardware.setDeviceLabel({walletId:e?.id||"",label:u})})),function onSubmit(e){return D.apply(this,arguments)})}):showRenameDialog(e.name,{disabledMaxLengthLabel:!0,onSubmit:(t=(0,d.A)((function*(t){e?.id&&t&&(yield u.setWalletNameAndAvatar({walletId:e?.id,name:t,shouldCheckDuplicate:!0}))})),function onSubmit(e){return t.apply(this,arguments)})})})),children:[(0,_.jsx)(D.SizableText,{size:"$bodyLgMedium",pr:"$1.5",numberOfLines:1,children:e?.name}),(0,_.jsx)(D.Icon,{flexShrink:0,name:"PencilSolid",size:"$4",color:"$iconSubdued"})]})}function WalletProfile_ownKeys(e,u){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(e);u&&(D=D.filter((function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable}))),t.push.apply(t,D)}return t}function WalletProfile_objectSpread(e){for(var u=1;u<arguments.length;u++){var t=null!=arguments[u]?arguments[u]:{};u%2?WalletProfile_ownKeys(Object(t),!0).forEach((function(u){(0,c.A)(e,u,t[u])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):WalletProfile_ownKeys(Object(t)).forEach((function(u){Object.defineProperty(e,u,Object.getOwnPropertyDescriptor(t,u))}))}return e}function WalletProfile({wallet:e}){return(0,_.jsx)(j.c,{gap:"$1.5",renderAvatar:(0,_.jsx)(D.Stack,WalletProfile_objectSpread(WalletProfile_objectSpread({role:"button",borderRadius:"$2"},v.A.isHdWallet({walletId:e.id})&&{onPress:function(){return function showWalletAvatarEditDialog({wallet:e}){D.Dialog.show({title:$.a.intl.formatMessage({id:w.ETranslations.global_edit_avatar}),estimatedContentHeight:276,renderContent:(0,_.jsx)(WalletAvatarEditDialog,{wallet:e})})}({wallet:e})},hoverStyle:{bg:"$bgHover"},pressStyle:{bg:"$bgActive"},focusable:!0,focusVisibleStyle:{outlineOffset:2,outlineWidth:2,outlineColor:"$focusRing",outlineStyle:"solid"}}),{},{children:(0,_.jsxs)(D.Stack,{children:[(0,_.jsx)(ce.L,{size:"$10",wallet:e}),v.A.isHdWallet({walletId:e.id})?(0,_.jsx)(j.c.Avatar.CornerIcon,{name:"MenuCircleHorSolid",color:"$iconSubdued"}):null]})})),children:(0,_.jsx)(WalletRenameButton,{wallet:e})})}var Ee=(0,F.memo)((function WalletOptionsView({wallet:e,device:u}){var[t]=(0,p.UZ)(),n=(0,F.useMemo)((function(){return v.A.isHdWallet({walletId:e?.id})?(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(HdWalletBackupButton,{wallet:e}),(0,_.jsx)(BatchCreateAccountButton,{wallet:e})]}):v.A.isHwWallet({walletId:e?.id})?v.A.isHwHiddenWallet({wallet:e})?(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(BatchCreateAccountButton,{wallet:e}),(0,_.jsx)(HiddenWalletRememberSwitch,{wallet:e},e?.id)]}):(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(CheckFirmwareUpdateButton,{device:u}),(0,_.jsx)(Verification,{device:u}),(0,_.jsx)(HardwareHomeScreenButton,{device:u}),(0,_.jsx)(Advance,{wallet:e}),(0,_.jsx)(BatchCreateAccountButton,{wallet:e}),(0,_.jsx)(HiddenWalletAddButton,{wallet:e})]}):v.A.isQrWallet({walletId:e?.id})?v.A.isHwHiddenWallet({wallet:e})?(0,_.jsx)(_.Fragment,{children:(0,_.jsx)(HiddenWalletRememberSwitch,{wallet:e},e?.id)}):(0,_.jsx)(_.Fragment,{children:(0,_.jsx)(HiddenWalletAddButton,{wallet:e})}):null}),[u,e]);return(0,_.jsx)(D.Stack,{children:t?(0,_.jsxs)(D.Stack,{testID:"wallet-edit-options",children:[(o.U.accountSelector.perf.renderWalletOptions({wallet:e}),null),e?(0,_.jsx)(WalletProfile,{wallet:e}):null,n,(0,_.jsx)(D.Stack,{py:"$2.5",children:(0,_.jsx)(D.Divider,{mt:"auto"})})]}):null})})),fe=["data"];function WalletDetails_ownKeys(e,u){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(e);u&&(D=D.filter((function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable}))),t.push.apply(t,D)}return t}function WalletDetails_objectSpread(e){for(var u=1;u<arguments.length;u++){var t=null!=arguments[u]?arguments[u]:{};u%2?WalletDetails_ownKeys(Object(t),!0).forEach((function(u){(0,c.A)(e,u,t[u])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):WalletDetails_ownKeys(Object(t)).forEach((function(u){Object.defineProperty(e,u,Object.getOwnPropertyDescriptor(t,u))}))}return e}var Ae=(0,F.memo)((function WalletDetailsView({num:e}){var u=(0,C.A)(),[t,n]=(0,p.UZ)(),{serviceAccount:r,serviceAccountSelector:l,serviceNetwork:c}=f.A,{selectedAccount:x}=(0,p.wz)({num:e}),y=(0,p.z$)(),B=(0,F.useRef)(null),j=useAccountSelectorRoute(),S=j.params?.linkNetwork,I=j.params?.editable,O=S?x?.networkId:void 0,[k,W]=(0,F.useState)("");o.U.accountSelector.perf.renderAccountsList({editMode:t,selectedAccount:x}),(0,A.A)();var P="$$others"===x?.focusedWallet,$=Boolean(x?.focusedWallet&&v.A.isOthersWallet({walletId:x?.focusedWallet})),M=P||$,T=(0,E.YQ)((function(e){W(e?.trim()||"")}),300),{result:L,run:H,setResult:N}=(0,m.yk)((0,d.A)((function*(){return x?.focusedWallet?l.buildAccountSelectorAccountsListData({focusedWallet:x?.focusedWallet,linkedNetworkId:O,deriveType:x.deriveType,othersNetworkId:x?.networkId}):Promise.resolve(void 0)})),[O,x.deriveType,x?.focusedWallet,x?.networkId,l],{checkIsFocused:!1,watchLoading:!1,onIsLoadingChange(e){b.accountSelectorAccountsListIsLoadingAtom.set(e)}}),K=(0,F.useMemo)((function(){return L?.sectionData||[]}),[L?.sectionData]),z=(0,F.useMemo)((function(){if(!k)return K;var e=[];return K.forEach((function(u){var t,{data:D}=u,n=(0,s.A)(u,fe);e.push(WalletDetails_objectSpread(WalletDetails_objectSpread({},n),{},{data:null!=(t=D?.filter((function(e){return e?.name?.toLowerCase()?.includes(k?.toLowerCase())})))?t:[]}))})),e}),[K,k]),R=(0,F.useRef)(z);R.current=z;var V=(0,F.useMemo)((function(){return L?.accountsValue||[]}),[L?.accountsValue]),U=(0,F.useMemo)((function(){var e;return null!=(e=L?.accountsCount)?e:0}),[L?.accountsCount]),Q=(0,F.useMemo)((function(){return L?.focusedWalletInfo}),[L?.focusedWalletInfo]);(0,F.useEffect)((function(){var e,u=(e=(0,d.A)((function*(){yield H()})),function fn(){return e.apply(this,arguments)});return h.iL.on(h.Tu.AccountUpdate,u),h.iL.on(h.Tu.WalletUpdate,u),function(){h.iL.off(h.Tu.AccountUpdate,u),h.iL.off(h.Tu.WalletUpdate,u)}}),[H]);var X=(0,F.useRef)(0),q=(0,F.useCallback)((function(e,u){var t,D,n;return-1===u?{index:u,offset:0,length:0}:(D=0,n=[],D+=null!=(t=X?.current)?t:0,R?.current?.forEach?.((function(e,u){0!==u&&(n.push({offset:D,length:0,index:n.length}),D+=0),n.push({offset:D,length:0,index:n.length}),D+=0,e.data.forEach((function(){n.push({offset:D,length:60,index:n.length}),D+=60})),n.push({offset:D,length:60,index:n.length}),D+=60})),n)[u]}),[]),[Z,J]=(0,F.useState)({x:0,y:0,height:400,width:200}),Y=(0,F.useRef)(Z);Y.current=Z;var{scrollToLocation:G,onLayout:ee}=(0,D.useSafelyScrollToLocation)(B),ue=(0,F.useCallback)((function(e){i()(Y.current,e.nativeEvent.layout)||J(e.nativeEvent.layout)}),[]),te=(0,F.useCallback)((function(e){X.current!==e.nativeEvent.layout.height&&(X.current=e.nativeEvent.layout.height)}),[]),De=(0,F.useRef)({}),ne=(0,E.YQ)((function(){Object.values(De.current).forEach((function(e){e()})),De.current={}}),200,{leading:!1,trailing:!0}),oe=(0,F.useCallback)((function(e,u){De.current[e]=u,ne()}),[ne]);(0,F.useEffect)((function(){B?.current?._listRef?._hasDoneInitialScroll&&(B.current._listRef._hasDoneInitialScroll=!1)}),[Q,k]);var re=(0,F.useMemo)((function(){if(!(k.length>0)&&z?.[0]?.data){var e=z[0].data?.findIndex((function({id:e}){return M?x.othersWalletAccountId===e:x.indexedAccountId===e}));if(Z.height>0&&60*e<=Z.height)return;return Math.max(e+1,0)}}),[k,M,Z.height,z,x.indexedAccountId,x.othersWalletAccountId]),{bottom:ae}=(0,D.useSafeAreaInsets)(),le=(0,F.useMemo)((function(){return!!I&&!(!z||0===z.length)}),[z,I]),ie=(0,F.useMemo)((function(){return P?"Others":Q?.wallet?.name||""}),[Q,P]),ce=(0,F.useMemo)((function(){return(0,_.jsxs)(D.Stack,{flex:1,onLayout:function(e){e?.persist?.(),oe("container",(function(){return ue(e)}))},children:[(o.U.accountSelector.perf.renderAccountsSectionList({accountsCount:U,walletName:Q?.wallet?.name}),null),Z.height?(0,_.jsx)(D.SectionList,{ref:B,onLayout:function(e){e?.persist?.(),oe("list",(function(){return ee(e)}))},estimatedItemSize:60,initialScrollIndex:re,getItemLayout:q,keyExtractor:function(e){return`${le?"1":"0"}_${e.id}`},ListEmptyComponent:(0,_.jsx)(EmptyView,{}),contentContainerStyle:{pb:"$3"},extraData:[x.indexedAccountId,t],ListHeaderComponent:(0,_.jsxs)(D.Stack,{children:[M?null:(0,_.jsx)(D.Stack,{onLayout:function(e){e?.persist?.(),oe("header",(function(){return te(e)}))},children:(0,_.jsx)(Ee,{wallet:Q?.wallet,device:Q?.device})}),U&&U>0?(0,_.jsx)(D.Stack,{px:"$5",py:"$2",children:(0,_.jsx)(D.InputUnControlled,{leftIconName:"SearchOutline",size:"small",allowClear:!0,placeholder:u.formatMessage({id:w.ETranslations.global_search_account_selector}),defaultValue:k,onChangeText:T})}):null]}),sections:null!=z?z:g.tR,renderSectionHeader:function({section:e}){return(0,_.jsx)(_.Fragment,{children:(0,_.jsx)(EmptyNoAccountsView,{section:e})})},renderItem:function({item:u,section:D,index:n}){return(0,_.jsx)(AccountSelectorAccountListItem,{num:e,linkedNetworkId:O,item:u,section:D,index:n,isOthersUniversal:M,selectedAccount:x,accountsValue:V,linkNetwork:S,editMode:t,accountsCount:U,focusedWalletInfo:Q})},renderSectionFooter:function({section:u}){return I&&!k?(0,_.jsx)(AccountSelectorAddAccountButton,{num:e,isOthersUniversal:M,section:u,focusedWalletInfo:Q}):null}}):null]})}),[U,V,t,le,Q,q,oe,ue,te,ee,T,re,u,I,M,S,O,Z.height,e,k,z,x]),se=(0,F.useMemo)((function(){return a()([U,V,y,t,le,Q,te,ue,ee,oe,re,u,I,M]),o.U.accountSelector.perf.render_Accounts_SectionList_Mock(),null}),[U,V,y,t,le,Q,te,ue,ee,oe,re,u,I,M]);return(0,_.jsxs)(D.Stack,{flex:1,pb:ae,testID:"account-selector-accountList",children:[(0,_.jsx)(WalletDetailsHeader,WalletDetails_objectSpread({wallet:Q?.wallet,device:Q?.device,titleProps:{opacity:t&&le?0:1},editMode:t,editable:le,linkedNetworkId:O,num:e,onEditButtonPress:function(){n((function(e){return!e}))}},!t&&{title:ie})),ce,se]})})),me=t(896666),pe=t(676353);function AccountSelectorCreateWalletButton(){var e=(0,C.A)(),u=useAccountSelectorRoute(),t=(0,Q.t1)(),n=u.params?.editable;if(!n)return null;(0,_.jsx)(D.IconButton,{onPress:function(){t({params:{showCloseButton:!0}})},icon:"PlusSmallOutline",testID:"account-add-wallet"});return(0,_.jsxs)(D.Stack,{p:"$1",alignItems:"center",children:[(0,_.jsx)(D.IconButton,{onPress:function(){t({params:{showCloseButton:!0}})},icon:"PlusSmallOutline",testID:"add-wallet"}),(0,_.jsx)(D.SizableText,{textAlign:"center",size:"$bodySm",color:"$textSubdued",mt:"$1",children:e.formatMessage({id:w.ETranslations.global_add_wallet})})]})}var be=["wallet","focusedWallet","onWalletPress","onWalletLongPress","isOthers","badge"];function WalletListItem_ownKeys(e,u){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(e);u&&(D=D.filter((function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable}))),t.push.apply(t,D)}return t}function WalletListItem_objectSpread(e){for(var u=1;u<arguments.length;u++){var t=null!=arguments[u]?arguments[u]:{};u%2?WalletListItem_ownKeys(Object(t),!0).forEach((function(u){(0,c.A)(e,u,t[u])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):WalletListItem_ownKeys(Object(t)).forEach((function(u){Object.defineProperty(e,u,Object.getOwnPropertyDescriptor(t,u))}))}return e}function WalletListItem_WalletListItem(e){var{wallet:u,focusedWallet:t,onWalletPress:n,onWalletLongPress:o,isOthers:r,badge:a}=e,l=(0,s.A)(e,be),i=((0,C.A)(),(0,D.useMedia)()),c={wallet:u,status:"default",badge:a},d=u?.name,F=t===u?.id,onPress=function(){return u?.id&&n(u?.id)};r&&(d="Others",F="$$others"===t,c={img:"cardDividers",wallet:void 0},onPress=function(){return n("$$others")});var E=u?.hiddenWallets,f=d,A=(0,_.jsxs)(D.Stack,WalletListItem_objectSpread(WalletListItem_objectSpread(WalletListItem_objectSpread(WalletListItem_objectSpread({role:"button",alignItems:"center",p:"$1",borderRadius:"$3",borderCurve:"continuous",userSelect:"none"},F?{bg:"$bgActive"}:{hoverStyle:{bg:"$bgHover"},pressStyle:{bg:"$bgActive"}}),{},{focusable:!0,focusVisibleStyle:{outlineWidth:2,outlineColor:"$focusRing",outlineStyle:"solid"}},{onPress}),l),{},{children:[c?(0,_.jsx)(ce.L,WalletListItem_objectSpread({},c)):null,(0,_.jsx)(D.SizableText,{flex:1,width:"100%",numberOfLines:1,mt:"$1",size:"$bodySm",color:F?"$text":"$textSubdued",textAlign:"center",children:f})]})),m=i.md?(0,_.jsx)(D.Tooltip,{placement:"right",renderContent:f,renderTrigger:A}):A;return E&&E.length>0?(0,_.jsxs)(D.Stack,{borderRadius:"$3",borderWidth:1,borderColor:"$borderSubdued",gap:"$3",borderCurve:"continuous",children:[m,E.map((function(e,u){return(0,_.jsx)(WalletListItem_WalletListItem,WalletListItem_objectSpread({wallet:e,focusedWallet:t,onWalletPress:n,onWalletLongPress:o},i.md&&{badge:Number(u)+1}),u)}))]}):m}function AccountSelectorWalletListSideBar_ownKeys(e,u){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(e);u&&(D=D.filter((function(u){return Object.getOwnPropertyDescriptor(e,u).enumerable}))),t.push.apply(t,D)}return t}function AccountSelectorWalletListSideBar({num:e}){var u,t,{serviceAccount:n}=f.A,{bottom:r}=(0,D.useSafeAreaInsets)(),a=(0,p.z$)(),l=useAccountSelectorRoute(),i=l.params?.editable,{selectedAccount:s}=(0,p.wz)({num:e}),{result:C,setResult:E,run:A}=(0,m.yk)((0,d.A)((function*(){return o.U.accountSelector.perf.buildWalletListSideBarData(),yield n.getWallets({nestedHiddenWallets:!0,ignoreEmptySingletonWalletAccounts:!0})})),[n],{checkIsFocused:!1}),b=null!=(u=C?.wallets)?u:g.tR;o.U.accountSelector.perf.renderWalletListSideBar({selectedAccount:s,walletsCount:null!=(t=b?.length)?t:0}),(0,F.useEffect)((function(){var e=b.length;if(e>0){var u=b.filter((function(e){return"hw"===e.type})).length,t=e-u;pe.zS.updateUserProfile({walletCount:e,hwWalletCount:u,appWalletCount:t})}}),[b]),(0,F.useEffect)((function(){var e,u=(e=(0,d.A)((function*(){yield A()})),function fn(){return e.apply(this,arguments)});return h.iL.on(h.Tu.WalletUpdate,u),h.iL.on(h.Tu.AccountUpdate,u),function(){h.iL.off(h.Tu.WalletUpdate,u),h.iL.off(h.Tu.AccountUpdate,u)}}),[A]);var w,x=(0,F.useCallback)((function(u){a.current.updateSelectedAccountFocusedWallet({num:e,focusedWallet:u})}),[a,e]),y=(0,F.useMemo)((function(){var e=0,u=[];return b?.forEach?.((function(t){var D,n=null!=(D=t?.hiddenWallets?.length)?D:0,o=80*(1+n);u.push({offset:e,length:o,index:u.length}),e+=o,n>0&&(e+=2)})),u}),[b,68]),{md:B}=(0,D.useMedia)(),j=B&&!S.Ay.isNativeIOS;return(0,_.jsxs)(D.Stack,{testID:"account-selector-wallet-list",w:"$24",$gtMd:{w:"$32"},bg:"$bgSubdued",borderRightWidth:Z.A.hairlineWidth,borderRightColor:"$neutral3",children:[j?(0,_.jsx)(D.XStack,{py:"$4",justifyContent:"center",borderBottomWidth:Z.A.hairlineWidth,borderBottomColor:"$neutral3",children:(0,_.jsx)(D.Page.Close,{children:(0,_.jsx)(me.v$,{icon:"CrossedLargeOutline"})})}):null,(0,_.jsx)(D.SortableListView,{px:"$2",contentContainerStyle:{py:"$2"},showsVerticalScrollIndicator:!1,getItemLayout:function(e,u){return y[u]},renderPlaceholder:function({item:e}){var u,t;return(0,_.jsx)(D.Stack,{h:68*(1+(null!=(u=e?.hiddenWallets?.length)?u:0))+12*(null!=(t=e?.hiddenWallets?.length)?t:0),mx:"$2",bg:"$bgActive",p:"$1",borderRadius:"$3",borderCurve:"continuous"})},keyExtractor:function(e){return`${e.id}`},data:b,onDragEnd:(w=(0,d.A)((function*(e){if(C){C.wallets=e.data,E(function AccountSelectorWalletListSideBar_objectSpread(e){for(var u=1;u<arguments.length;u++){var t=null!=arguments[u]?arguments[u]:{};u%2?AccountSelectorWalletListSideBar_ownKeys(Object(t),!0).forEach((function(u){(0,c.A)(e,u,t[u])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):AccountSelectorWalletListSideBar_ownKeys(Object(t)).forEach((function(u){Object.defineProperty(e,u,Object.getOwnPropertyDescriptor(t,u))}))}return e}({},C));var u=e.to+(e.to>e.from?1:0);yield n.insertWalletOrder({targetWalletId:b[e.from].id,startWalletId:b[u-1]?.id,endWalletId:b[u]?.id,emitEvent:!0})}})),function(e){return w.apply(this,arguments)}),extraData:s.focusedWallet,renderItem:function({item:e,drag:u,dragProps:t}){var n;return v.A.isQrWallet({walletId:e.id})&&(n="QR"),(0,_.jsx)(D.Stack,{pb:"$3",dataSet:t,children:(0,_.jsx)(WalletListItem_WalletListItem,{wallet:e,focusedWallet:s.focusedWallet,onWalletPress:x,onWalletLongPress:u,testID:`wallet-${e.id}`,badge:n},e.id)})}}),i?(0,_.jsx)(D.Stack,{p:"$2",borderTopWidth:Z.A.hairlineWidth,borderTopColor:"$borderSubdued",mb:r,children:(0,_.jsx)(AccountSelectorCreateWalletButton,{})}):null]})}function AccountSelectorStack({num:e}){return(0,_.jsxs)(D.Page,{safeAreaEnabled:!1,children:[(0,_.jsx)(D.Page.Header,{headerShown:!1}),(0,_.jsxs)(D.Page.Body,{flexDirection:"row",children:[(0,_.jsx)(AccountSelectorWalletListSideBar,{num:e}),(0,_.jsx)(Ae,{num:e})]})]})}function AccountSelectorStackPage({route:e}){var{num:u,sceneName:t,sceneUrl:D}=e.params;return o.U.accountSelector.perf.renderAccountSelectorModal({num:u,sceneName:t,sceneUrl:D}),(0,_.jsx)(n.b8,{enabledNum:[u],config:{sceneName:t,sceneUrl:D},children:(0,_.jsx)(AccountSelectorStack,{num:u})})}},381354:e=>{e.exports=function(){return/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|(?:\uD83E\uDDD1\uD83C\uDFFF\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFC-\uDFFF])|\uD83D\uDC68(?:\uD83C\uDFFB(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|[\u2695\u2696\u2708]\uFE0F|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))?|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])\uFE0F|\u200D(?:(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D[\uDC66\uDC67])|\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC)?|(?:\uD83D\uDC69(?:\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC69(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83E\uDDD1(?:\u200D(?:\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDE36\u200D\uD83C\uDF2B|\uD83C\uDFF3\uFE0F\u200D\u26A7|\uD83D\uDC3B\u200D\u2744|(?:(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\uD83C\uDFF4\u200D\u2620|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])\u200D[\u2640\u2642]|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u2600-\u2604\u260E\u2611\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26B0\u26B1\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0\u26F1\u26F4\u26F7\u26F8\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u3030\u303D\u3297\u3299]|\uD83C[\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]|\uD83D[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3])\uFE0F|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDE35\u200D\uD83D\uDCAB|\uD83D\uDE2E\u200D\uD83D\uDCA8|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83E\uDDD1(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83D\uDC69(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83D\uDC08\u200D\u2B1B|\u2764\uFE0F\u200D(?:\uD83D\uDD25|\uD83E\uDE79)|\uD83D\uDC41\uFE0F|\uD83C\uDFF3\uFE0F|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|[#\*0-9]\uFE0F\u20E3|\u2764\uFE0F|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|\uD83C\uDFF4|(?:[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270C\u270D]|\uD83D[\uDD74\uDD90])(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC08\uDC15\uDC3B\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE2E\uDE35\uDE36\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5]|\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD]|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF]|[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0D\uDD0E\uDD10-\uDD17\uDD1D\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78\uDD7A-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCB\uDDD0\uDDE0-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6]|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDD77\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g}}}]);