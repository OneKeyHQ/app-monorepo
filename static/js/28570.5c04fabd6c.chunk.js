/*! For license information please see 28570.5c04fabd6c.chunk.js.LICENSE.txt */
(self.webpackChunkweb=self.webpackChunkweb||[]).push([[28570],{418964:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.mintStateBeet=r.MintState=r.mintStateDiscriminator=void 0;const k=a(n(228598)),w=a(n(666808)),I=a(n(618886));r.mintStateDiscriminator=[81,17,143,120,23,57,22,117];class MintState{constructor(e,r,n,i,s,a,k,w){this.version=e,this.bump=r,this.mint=n,this.policy=i,this.lockedBy=s,this.lastApprovedAt=a,this.lastTransferredAt=k,this.transferredCount=w}static fromArgs(e){return new MintState(e.version,e.bump,e.mint,e.policy,e.lockedBy,e.lastApprovedAt,e.lastTransferredAt,e.transferredCount)}static fromAccountInfo(e,r=0){return MintState.deserialize(e.data,r)}static async fromAccountAddress(e,r){const n=await e.getAccountInfo(r);if(null==n)throw new Error(`Unable to find MintState account at ${r}`);return MintState.fromAccountInfo(n,0)[0]}static gpaBuilder(e=new k.PublicKey("ocp4vWUzA2z2XMYJ3QhM9vWdyoyoQwAFJhRdVTbvo9E")){return I.GpaBuilder.fromStruct(e,r.mintStateBeet)}static deserialize(e,n=0){return r.mintStateBeet.deserialize(e,n)}serialize(){return r.mintStateBeet.serialize({accountDiscriminator:r.mintStateDiscriminator,...this})}static byteSize(e){const n=MintState.fromArgs(e);return r.mintStateBeet.toFixedFromValue({accountDiscriminator:r.mintStateDiscriminator,...n}).byteSize}static async getMinimumBalanceForRentExemption(e,r,n){return r.getMinimumBalanceForRentExemption(MintState.byteSize(e),n)}pretty(){return{version:this.version,bump:this.bump,mint:this.mint.toBase58(),policy:this.policy.toBase58(),lockedBy:this.lockedBy,lastApprovedAt:(()=>{const e=this.lastApprovedAt;if("function"==typeof e.toNumber)try{return e.toNumber()}catch(r){return e}return e})(),lastTransferredAt:(()=>{const e=this.lastTransferredAt;if("function"==typeof e.toNumber)try{return e.toNumber()}catch(r){return e}return e})(),transferredCount:this.transferredCount}}}r.MintState=MintState,r.mintStateBeet=new w.FixableBeetStruct([["accountDiscriminator",w.uniformFixedSizeArray(w.u8,8)],["version",w.u8],["bump",w.uniformFixedSizeArray(w.u8,1)],["mint",I.publicKey],["policy",I.publicKey],["lockedBy",w.coption(I.publicKey)],["lastApprovedAt",w.i64],["lastTransferredAt",w.i64],["transferredCount",w.u32]],MintState.fromArgs,"MintState")},311919:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.policyBeet=r.Policy=r.policyDiscriminator=void 0;const k=a(n(228598)),w=a(n(666808)),I=a(n(618886)),we=n(631487);r.policyDiscriminator=[222,135,7,163,235,177,33,68];class Policy{constructor(e,r,n,i,s,a){this.version=e,this.bump=r,this.uuid=n,this.authority=i,this.dynamicRoyalty=s,this.jsonRule=a}static fromArgs(e){return new Policy(e.version,e.bump,e.uuid,e.authority,e.dynamicRoyalty,e.jsonRule)}static fromAccountInfo(e,r=0){return Policy.deserialize(e.data,r)}static async fromAccountAddress(e,r){const n=await e.getAccountInfo(r);if(null==n)throw new Error(`Unable to find Policy account at ${r}`);return Policy.fromAccountInfo(n,0)[0]}static gpaBuilder(e=new k.PublicKey("ocp4vWUzA2z2XMYJ3QhM9vWdyoyoQwAFJhRdVTbvo9E")){return I.GpaBuilder.fromStruct(e,r.policyBeet)}static deserialize(e,n=0){return r.policyBeet.deserialize(e,n)}serialize(){return r.policyBeet.serialize({accountDiscriminator:r.policyDiscriminator,...this})}static byteSize(e){const n=Policy.fromArgs(e);return r.policyBeet.toFixedFromValue({accountDiscriminator:r.policyDiscriminator,...n}).byteSize}static async getMinimumBalanceForRentExemption(e,r,n){return r.getMinimumBalanceForRentExemption(Policy.byteSize(e),n)}pretty(){return{version:this.version,bump:this.bump,uuid:this.uuid.toBase58(),authority:this.authority.toBase58(),dynamicRoyalty:this.dynamicRoyalty,jsonRule:this.jsonRule}}}r.Policy=Policy,r.policyBeet=new w.FixableBeetStruct([["accountDiscriminator",w.uniformFixedSizeArray(w.u8,8)],["version",w.u8],["bump",w.uniformFixedSizeArray(w.u8,1)],["uuid",I.publicKey],["authority",I.publicKey],["dynamicRoyalty",w.coption(we.dynamicRoyaltyBeet)],["jsonRule",w.coption(w.utf8String)]],Policy.fromArgs,"Policy")},96549:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__exportStar||function(e,r){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||i(r,e,n)};Object.defineProperty(r,"__esModule",{value:!0}),r.accountProviders=void 0,s(n(418964),r),s(n(311919),r);const a=n(418964),k=n(311919);r.accountProviders={MintState:a.MintState,Policy:k.Policy}},373698:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.errorFromName=r.errorFromCode=r.InvalidMetadataUpdateAuthorityError=r.NotImplementedError=r.NumericalOverflowError=r.InvalidDynamicRoyaltyError=r.AccountNotFoundError=r.UnknownAccountError=r.MintStateLockedError=r.InvalidLockedByError=r.InvalidPolicyMintAssociationError=r.InvalidPolicyEvaluationError=r.InvalidPolicyCreationError=r.InvalidAuthorityError=r.InvalidTokenAccountError=r.InvalidMetadataError=r.InvalidMintError=void 0;const n=new Map,i=new Map;class InvalidMintError extends Error{constructor(){super("Invalid mint"),this.code=6e3,this.name="InvalidMint","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,InvalidMintError)}}r.InvalidMintError=InvalidMintError,n.set(6e3,(()=>new InvalidMintError)),i.set("InvalidMint",(()=>new InvalidMintError));class InvalidMetadataError extends Error{constructor(){super("Invalid metadata"),this.code=6001,this.name="InvalidMetadata","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,InvalidMetadataError)}}r.InvalidMetadataError=InvalidMetadataError,n.set(6001,(()=>new InvalidMetadataError)),i.set("InvalidMetadata",(()=>new InvalidMetadataError));class InvalidTokenAccountError extends Error{constructor(){super("Invalid token account"),this.code=6002,this.name="InvalidTokenAccount","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,InvalidTokenAccountError)}}r.InvalidTokenAccountError=InvalidTokenAccountError,n.set(6002,(()=>new InvalidTokenAccountError)),i.set("InvalidTokenAccount",(()=>new InvalidTokenAccountError));class InvalidAuthorityError extends Error{constructor(){super("Invalid authority address"),this.code=6003,this.name="InvalidAuthority","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,InvalidAuthorityError)}}r.InvalidAuthorityError=InvalidAuthorityError,n.set(6003,(()=>new InvalidAuthorityError)),i.set("InvalidAuthority",(()=>new InvalidAuthorityError));class InvalidPolicyCreationError extends Error{constructor(){super("Invalid policy creation"),this.code=6004,this.name="InvalidPolicyCreation","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,InvalidPolicyCreationError)}}r.InvalidPolicyCreationError=InvalidPolicyCreationError,n.set(6004,(()=>new InvalidPolicyCreationError)),i.set("InvalidPolicyCreation",(()=>new InvalidPolicyCreationError));class InvalidPolicyEvaluationError extends Error{constructor(){super("Invalid policy evaluation"),this.code=6005,this.name="InvalidPolicyEvaluation","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,InvalidPolicyEvaluationError)}}r.InvalidPolicyEvaluationError=InvalidPolicyEvaluationError,n.set(6005,(()=>new InvalidPolicyEvaluationError)),i.set("InvalidPolicyEvaluation",(()=>new InvalidPolicyEvaluationError));class InvalidPolicyMintAssociationError extends Error{constructor(){super("Invalid policy mint association"),this.code=6006,this.name="InvalidPolicyMintAssociation","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,InvalidPolicyMintAssociationError)}}r.InvalidPolicyMintAssociationError=InvalidPolicyMintAssociationError,n.set(6006,(()=>new InvalidPolicyMintAssociationError)),i.set("InvalidPolicyMintAssociation",(()=>new InvalidPolicyMintAssociationError));class InvalidLockedByError extends Error{constructor(){super("Invalid locked by"),this.code=6007,this.name="InvalidLockedBy","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,InvalidLockedByError)}}r.InvalidLockedByError=InvalidLockedByError,n.set(6007,(()=>new InvalidLockedByError)),i.set("InvalidLockedBy",(()=>new InvalidLockedByError));class MintStateLockedError extends Error{constructor(){super("Mint state is locked"),this.code=6008,this.name="MintStateLocked","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,MintStateLockedError)}}r.MintStateLockedError=MintStateLockedError,n.set(6008,(()=>new MintStateLockedError)),i.set("MintStateLocked",(()=>new MintStateLockedError));class UnknownAccountError extends Error{constructor(){super("Unknown account found in instruction"),this.code=6009,this.name="UnknownAccount","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,UnknownAccountError)}}r.UnknownAccountError=UnknownAccountError,n.set(6009,(()=>new UnknownAccountError)),i.set("UnknownAccount",(()=>new UnknownAccountError));class AccountNotFoundError extends Error{constructor(){super("Account not found in instruction"),this.code=6010,this.name="AccountNotFound","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,AccountNotFoundError)}}r.AccountNotFoundError=AccountNotFoundError,n.set(6010,(()=>new AccountNotFoundError)),i.set("AccountNotFound",(()=>new AccountNotFoundError));class InvalidDynamicRoyaltyError extends Error{constructor(){super("Invalid dynamic royalty"),this.code=6011,this.name="InvalidDynamicRoyalty","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,InvalidDynamicRoyaltyError)}}r.InvalidDynamicRoyaltyError=InvalidDynamicRoyaltyError,n.set(6011,(()=>new InvalidDynamicRoyaltyError)),i.set("InvalidDynamicRoyalty",(()=>new InvalidDynamicRoyaltyError));class NumericalOverflowError extends Error{constructor(){super("Numerical overflow"),this.code=6012,this.name="NumericalOverflow","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,NumericalOverflowError)}}r.NumericalOverflowError=NumericalOverflowError,n.set(6012,(()=>new NumericalOverflowError)),i.set("NumericalOverflow",(()=>new NumericalOverflowError));class NotImplementedError extends Error{constructor(){super("Not Implemented"),this.code=6013,this.name="NotImplemented","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,NotImplementedError)}}r.NotImplementedError=NotImplementedError,n.set(6013,(()=>new NotImplementedError)),i.set("NotImplemented",(()=>new NotImplementedError));class InvalidMetadataUpdateAuthorityError extends Error{constructor(){super("Invalid metadata update_authority"),this.code=6014,this.name="InvalidMetadataUpdateAuthority","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,InvalidMetadataUpdateAuthorityError)}}r.InvalidMetadataUpdateAuthorityError=InvalidMetadataUpdateAuthorityError,n.set(6014,(()=>new InvalidMetadataUpdateAuthorityError)),i.set("InvalidMetadataUpdateAuthority",(()=>new InvalidMetadataUpdateAuthorityError)),r.errorFromCode=function errorFromCode(e){const r=n.get(e);return null!=r?r():null},r.errorFromName=function errorFromName(e){const r=i.get(e);return null!=r?r():null}},202536:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__exportStar||function(e,r){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||i(r,e,n)};Object.defineProperty(r,"__esModule",{value:!0}),r.PROGRAM_ID=r.PROGRAM_ADDRESS=void 0;const a=n(228598);s(n(96549),r),s(n(373698),r),s(n(978316),r),s(n(186806),r),r.PROGRAM_ADDRESS="ocp4vWUzA2z2XMYJ3QhM9vWdyoyoQwAFJhRdVTbvo9E",r.PROGRAM_ID=new a.PublicKey(r.PROGRAM_ADDRESS)},930601:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.createApproveInstruction=r.approveInstructionDiscriminator=r.approveStruct=void 0;const k=a(n(853152)),w=a(n(666808)),I=a(n(228598));r.approveStruct=new w.BeetArgsStruct([["instructionDiscriminator",w.uniformFixedSizeArray(w.u8,8)]],"ApproveInstructionArgs"),r.approveInstructionDiscriminator=[69,74,217,36,115,117,97,76],r.createApproveInstruction=function createApproveInstruction(e,n=new I.PublicKey("ocp4vWUzA2z2XMYJ3QhM9vWdyoyoQwAFJhRdVTbvo9E")){const[i]=r.approveStruct.serialize({instructionDiscriminator:r.approveInstructionDiscriminator}),s=[{pubkey:e.policy,isWritable:!1,isSigner:!1},{pubkey:e.freezeAuthority,isWritable:!1,isSigner:!1},{pubkey:e.mint,isWritable:!1,isSigner:!1},{pubkey:e.metadata,isWritable:!1,isSigner:!1},{pubkey:e.mintState,isWritable:!0,isSigner:!1},{pubkey:e.from,isWritable:!1,isSigner:!0},{pubkey:e.fromAccount,isWritable:!0,isSigner:!1},{pubkey:e.to,isWritable:!1,isSigner:!1},{pubkey:e.tokenProgram??k.TOKEN_PROGRAM_ID,isWritable:!1,isSigner:!1},{pubkey:e.cmtProgram,isWritable:!1,isSigner:!1},{pubkey:e.instructions,isWritable:!1,isSigner:!1}];return new I.TransactionInstruction({programId:n,keys:s,data:i})}},431571:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.createBurnInstruction=r.burnInstructionDiscriminator=r.burnStruct=void 0;const k=a(n(853152)),w=a(n(666808)),I=a(n(228598));r.burnStruct=new w.BeetArgsStruct([["instructionDiscriminator",w.uniformFixedSizeArray(w.u8,8)]],"BurnInstructionArgs"),r.burnInstructionDiscriminator=[116,110,29,56,107,219,42,93],r.createBurnInstruction=function createBurnInstruction(e,n=new I.PublicKey("ocp4vWUzA2z2XMYJ3QhM9vWdyoyoQwAFJhRdVTbvo9E")){const[i]=r.burnStruct.serialize({instructionDiscriminator:r.burnInstructionDiscriminator}),s=[{pubkey:e.policy,isWritable:!1,isSigner:!1},{pubkey:e.freezeAuthority,isWritable:!1,isSigner:!1},{pubkey:e.mint,isWritable:!0,isSigner:!1},{pubkey:e.metadata,isWritable:!1,isSigner:!1},{pubkey:e.mintState,isWritable:!0,isSigner:!1},{pubkey:e.from,isWritable:!0,isSigner:!0},{pubkey:e.fromAccount,isWritable:!0,isSigner:!1},{pubkey:e.tokenProgram??k.TOKEN_PROGRAM_ID,isWritable:!1,isSigner:!1},{pubkey:e.cmtProgram,isWritable:!1,isSigner:!1},{pubkey:e.instructions,isWritable:!1,isSigner:!1}];return new I.TransactionInstruction({programId:n,keys:s,data:i})}},112324:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.createCloseInstruction=r.closeInstructionDiscriminator=r.closeStruct=void 0;const k=a(n(853152)),w=a(n(666808)),I=a(n(228598));r.closeStruct=new w.BeetArgsStruct([["instructionDiscriminator",w.uniformFixedSizeArray(w.u8,8)]],"CloseInstructionArgs"),r.closeInstructionDiscriminator=[98,165,201,177,108,65,206,96],r.createCloseInstruction=function createCloseInstruction(e,n=new I.PublicKey("ocp4vWUzA2z2XMYJ3QhM9vWdyoyoQwAFJhRdVTbvo9E")){const[i]=r.closeStruct.serialize({instructionDiscriminator:r.closeInstructionDiscriminator}),s=[{pubkey:e.policy,isWritable:!1,isSigner:!1},{pubkey:e.freezeAuthority,isWritable:!1,isSigner:!1},{pubkey:e.mint,isWritable:!1,isSigner:!1},{pubkey:e.metadata,isWritable:!1,isSigner:!1},{pubkey:e.mintState,isWritable:!0,isSigner:!1},{pubkey:e.from,isWritable:!0,isSigner:!0},{pubkey:e.fromAccount,isWritable:!0,isSigner:!1},{pubkey:e.destination,isWritable:!0,isSigner:!1},{pubkey:e.tokenProgram??k.TOKEN_PROGRAM_ID,isWritable:!1,isSigner:!1},{pubkey:e.cmtProgram,isWritable:!1,isSigner:!1},{pubkey:e.instructions,isWritable:!1,isSigner:!1}];return new I.TransactionInstruction({programId:n,keys:s,data:i})}},978316:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__exportStar||function(e,r){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||i(r,e,n)};Object.defineProperty(r,"__esModule",{value:!0}),s(n(930601),r),s(n(431571),r),s(n(112324),r),s(n(365293),r),s(n(417538),r),s(n(963345),r),s(n(602461),r),s(n(260931),r),s(n(294164),r),s(n(77757),r),s(n(375970),r),s(n(304389),r),s(n(942642),r)},365293:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.createInitAccountInstruction=r.initAccountInstructionDiscriminator=r.initAccountStruct=void 0;const k=a(n(853152)),w=a(n(666808)),I=a(n(228598));r.initAccountStruct=new w.BeetArgsStruct([["instructionDiscriminator",w.uniformFixedSizeArray(w.u8,8)]],"InitAccountInstructionArgs"),r.initAccountInstructionDiscriminator=[169,188,158,199,9,151,101,125],r.createInitAccountInstruction=function createInitAccountInstruction(e,n=new I.PublicKey("ocp4vWUzA2z2XMYJ3QhM9vWdyoyoQwAFJhRdVTbvo9E")){const[i]=r.initAccountStruct.serialize({instructionDiscriminator:r.initAccountInstructionDiscriminator}),s=[{pubkey:e.policy,isWritable:!1,isSigner:!1},{pubkey:e.freezeAuthority,isWritable:!1,isSigner:!1},{pubkey:e.mint,isWritable:!1,isSigner:!1},{pubkey:e.metadata,isWritable:!1,isSigner:!1},{pubkey:e.mintState,isWritable:!0,isSigner:!1},{pubkey:e.payer,isWritable:!0,isSigner:!0},{pubkey:e.from,isWritable:!1,isSigner:!1},{pubkey:e.fromAccount,isWritable:!0,isSigner:!1},{pubkey:e.tokenProgram??k.TOKEN_PROGRAM_ID,isWritable:!1,isSigner:!1},{pubkey:e.systemProgram??I.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:e.associatedTokenProgram,isWritable:!1,isSigner:!1},{pubkey:e.cmtProgram,isWritable:!1,isSigner:!1},{pubkey:e.instructions,isWritable:!1,isSigner:!1}];return new I.TransactionInstruction({programId:n,keys:s,data:i})}},417538:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.createInitPolicyInstruction=r.initPolicyInstructionDiscriminator=r.initPolicyStruct=void 0;const k=a(n(666808)),w=a(n(228598)),I=n(598938);r.initPolicyStruct=new k.FixableBeetArgsStruct([["instructionDiscriminator",k.uniformFixedSizeArray(k.u8,8)],["arg",I.initPolicyArgBeet]],"InitPolicyInstructionArgs"),r.initPolicyInstructionDiscriminator=[45,234,110,100,209,146,191,86],r.createInitPolicyInstruction=function createInitPolicyInstruction(e,n,i=new w.PublicKey("ocp4vWUzA2z2XMYJ3QhM9vWdyoyoQwAFJhRdVTbvo9E")){const[s]=r.initPolicyStruct.serialize({instructionDiscriminator:r.initPolicyInstructionDiscriminator,...n}),a=[{pubkey:e.policy,isWritable:!0,isSigner:!1},{pubkey:e.uuid,isWritable:!1,isSigner:!1},{pubkey:e.authority,isWritable:!0,isSigner:!0},{pubkey:e.systemProgram??w.SystemProgram.programId,isWritable:!1,isSigner:!1}];return new w.TransactionInstruction({programId:i,keys:a,data:s})}},963345:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.createLockInstruction=r.lockInstructionDiscriminator=r.lockStruct=void 0;const k=a(n(666808)),w=a(n(228598));r.lockStruct=new k.BeetArgsStruct([["instructionDiscriminator",k.uniformFixedSizeArray(k.u8,8)]],"LockInstructionArgs"),r.lockInstructionDiscriminator=[21,19,208,43,237,62,255,87],r.createLockInstruction=function createLockInstruction(e,n=new w.PublicKey("ocp4vWUzA2z2XMYJ3QhM9vWdyoyoQwAFJhRdVTbvo9E")){const[i]=r.lockStruct.serialize({instructionDiscriminator:r.lockInstructionDiscriminator}),s=[{pubkey:e.policy,isWritable:!1,isSigner:!1},{pubkey:e.mint,isWritable:!1,isSigner:!1},{pubkey:e.metadata,isWritable:!1,isSigner:!1},{pubkey:e.mintState,isWritable:!0,isSigner:!1},{pubkey:e.from,isWritable:!1,isSigner:!0},{pubkey:e.fromAccount,isWritable:!1,isSigner:!1},{pubkey:e.to,isWritable:!1,isSigner:!1},{pubkey:e.cmtProgram,isWritable:!1,isSigner:!1},{pubkey:e.instructions,isWritable:!1,isSigner:!1}];return new w.TransactionInstruction({programId:n,keys:s,data:i})}},602461:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.createMigrateToMplInstruction=r.migrateToMplInstructionDiscriminator=r.migrateToMplStruct=void 0;const k=a(n(853152)),w=a(n(666808)),I=a(n(228598));r.migrateToMplStruct=new w.BeetArgsStruct([["instructionDiscriminator",w.uniformFixedSizeArray(w.u8,8)]],"MigrateToMplInstructionArgs"),r.migrateToMplInstructionDiscriminator=[111,238,79,93,215,148,36,242],r.createMigrateToMplInstruction=function createMigrateToMplInstruction(e,n=new I.PublicKey("ocp4vWUzA2z2XMYJ3QhM9vWdyoyoQwAFJhRdVTbvo9E")){const[i]=r.migrateToMplStruct.serialize({instructionDiscriminator:r.migrateToMplInstructionDiscriminator}),s=[{pubkey:e.policy,isWritable:!1,isSigner:!1},{pubkey:e.freezeAuthority,isWritable:!1,isSigner:!1},{pubkey:e.mint,isWritable:!0,isSigner:!1},{pubkey:e.metadata,isWritable:!0,isSigner:!1},{pubkey:e.mintState,isWritable:!0,isSigner:!1},{pubkey:e.from,isWritable:!0,isSigner:!0},{pubkey:e.fromAccount,isWritable:!0,isSigner:!1},{pubkey:e.edition,isWritable:!0,isSigner:!1},{pubkey:e.tokenProgram??k.TOKEN_PROGRAM_ID,isWritable:!1,isSigner:!1},{pubkey:e.systemProgram??I.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:e.cmtProgram,isWritable:!1,isSigner:!1},{pubkey:e.instructions,isWritable:!1,isSigner:!1},{pubkey:e.metadataProgram,isWritable:!1,isSigner:!1},{pubkey:e.payer,isWritable:!0,isSigner:!0}];return new I.TransactionInstruction({programId:n,keys:s,data:i})}},260931:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.createMintToInstruction=r.mintToInstructionDiscriminator=r.mintToStruct=void 0;const k=a(n(853152)),w=a(n(666808)),I=a(n(228598));r.mintToStruct=new w.BeetArgsStruct([["instructionDiscriminator",w.uniformFixedSizeArray(w.u8,8)]],"MintToInstructionArgs"),r.mintToInstructionDiscriminator=[241,34,48,186,37,179,123,192],r.createMintToInstruction=function createMintToInstruction(e,n=new I.PublicKey("ocp4vWUzA2z2XMYJ3QhM9vWdyoyoQwAFJhRdVTbvo9E")){const[i]=r.mintToStruct.serialize({instructionDiscriminator:r.mintToInstructionDiscriminator}),s=[{pubkey:e.policy,isWritable:!1,isSigner:!1},{pubkey:e.freezeAuthority,isWritable:!1,isSigner:!1},{pubkey:e.mint,isWritable:!0,isSigner:!1},{pubkey:e.metadata,isWritable:!1,isSigner:!1},{pubkey:e.mintState,isWritable:!0,isSigner:!1},{pubkey:e.payer,isWritable:!0,isSigner:!0},{pubkey:e.from,isWritable:!1,isSigner:!1},{pubkey:e.fromAccount,isWritable:!0,isSigner:!1},{pubkey:e.tokenProgram??k.TOKEN_PROGRAM_ID,isWritable:!1,isSigner:!1},{pubkey:e.systemProgram??I.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:e.cmtProgram,isWritable:!1,isSigner:!1},{pubkey:e.instructions,isWritable:!1,isSigner:!1}];return new I.TransactionInstruction({programId:n,keys:s,data:i})}},294164:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.createRevokeInstruction=r.revokeInstructionDiscriminator=r.revokeStruct=void 0;const k=a(n(853152)),w=a(n(666808)),I=a(n(228598));r.revokeStruct=new w.BeetArgsStruct([["instructionDiscriminator",w.uniformFixedSizeArray(w.u8,8)]],"RevokeInstructionArgs"),r.revokeInstructionDiscriminator=[170,23,31,34,133,173,93,242],r.createRevokeInstruction=function createRevokeInstruction(e,n=new I.PublicKey("ocp4vWUzA2z2XMYJ3QhM9vWdyoyoQwAFJhRdVTbvo9E")){const[i]=r.revokeStruct.serialize({instructionDiscriminator:r.revokeInstructionDiscriminator}),s=[{pubkey:e.policy,isWritable:!1,isSigner:!1},{pubkey:e.freezeAuthority,isWritable:!1,isSigner:!1},{pubkey:e.mint,isWritable:!1,isSigner:!1},{pubkey:e.metadata,isWritable:!1,isSigner:!1},{pubkey:e.mintState,isWritable:!0,isSigner:!1},{pubkey:e.from,isWritable:!1,isSigner:!0},{pubkey:e.fromAccount,isWritable:!0,isSigner:!1},{pubkey:e.tokenProgram??k.TOKEN_PROGRAM_ID,isWritable:!1,isSigner:!1},{pubkey:e.cmtProgram,isWritable:!1,isSigner:!1},{pubkey:e.instructions,isWritable:!1,isSigner:!1}];return new I.TransactionInstruction({programId:n,keys:s,data:i})}},77757:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.createTransferInstruction=r.transferInstructionDiscriminator=r.transferStruct=void 0;const k=a(n(853152)),w=a(n(666808)),I=a(n(228598));r.transferStruct=new w.BeetArgsStruct([["instructionDiscriminator",w.uniformFixedSizeArray(w.u8,8)]],"TransferInstructionArgs"),r.transferInstructionDiscriminator=[163,52,200,231,140,3,69,186],r.createTransferInstruction=function createTransferInstruction(e,n=new I.PublicKey("ocp4vWUzA2z2XMYJ3QhM9vWdyoyoQwAFJhRdVTbvo9E")){const[i]=r.transferStruct.serialize({instructionDiscriminator:r.transferInstructionDiscriminator}),s=[{pubkey:e.policy,isWritable:!1,isSigner:!1},{pubkey:e.freezeAuthority,isWritable:!1,isSigner:!1},{pubkey:e.mint,isWritable:!1,isSigner:!1},{pubkey:e.metadata,isWritable:!1,isSigner:!1},{pubkey:e.mintState,isWritable:!0,isSigner:!1},{pubkey:e.from,isWritable:!1,isSigner:!0},{pubkey:e.fromAccount,isWritable:!0,isSigner:!1},{pubkey:e.to,isWritable:!1,isSigner:!1},{pubkey:e.toAccount,isWritable:!0,isSigner:!1},{pubkey:e.tokenProgram??k.TOKEN_PROGRAM_ID,isWritable:!1,isSigner:!1},{pubkey:e.cmtProgram,isWritable:!1,isSigner:!1},{pubkey:e.instructions,isWritable:!1,isSigner:!1}];return new I.TransactionInstruction({programId:n,keys:s,data:i})}},375970:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.createUnlockInstruction=r.unlockInstructionDiscriminator=r.unlockStruct=void 0;const k=a(n(666808)),w=a(n(228598));r.unlockStruct=new k.BeetArgsStruct([["instructionDiscriminator",k.uniformFixedSizeArray(k.u8,8)]],"UnlockInstructionArgs"),r.unlockInstructionDiscriminator=[101,155,40,21,158,189,56,203],r.createUnlockInstruction=function createUnlockInstruction(e,n=new w.PublicKey("ocp4vWUzA2z2XMYJ3QhM9vWdyoyoQwAFJhRdVTbvo9E")){const[i]=r.unlockStruct.serialize({instructionDiscriminator:r.unlockInstructionDiscriminator}),s=[{pubkey:e.policy,isWritable:!1,isSigner:!1},{pubkey:e.mint,isWritable:!1,isSigner:!1},{pubkey:e.metadata,isWritable:!1,isSigner:!1},{pubkey:e.mintState,isWritable:!0,isSigner:!1},{pubkey:e.from,isWritable:!1,isSigner:!0},{pubkey:e.cmtProgram,isWritable:!1,isSigner:!1},{pubkey:e.instructions,isWritable:!1,isSigner:!1}];return new w.TransactionInstruction({programId:n,keys:s,data:i})}},304389:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.createUpdatePolicyInstruction=r.updatePolicyInstructionDiscriminator=r.updatePolicyStruct=void 0;const k=a(n(666808)),w=a(n(228598)),I=n(203283);r.updatePolicyStruct=new k.FixableBeetArgsStruct([["instructionDiscriminator",k.uniformFixedSizeArray(k.u8,8)],["arg",I.updatePolicyArgBeet]],"UpdatePolicyInstructionArgs"),r.updatePolicyInstructionDiscriminator=[212,245,246,7,163,151,18,57],r.createUpdatePolicyInstruction=function createUpdatePolicyInstruction(e,n,i=new w.PublicKey("ocp4vWUzA2z2XMYJ3QhM9vWdyoyoQwAFJhRdVTbvo9E")){const[s]=r.updatePolicyStruct.serialize({instructionDiscriminator:r.updatePolicyInstructionDiscriminator,...n}),a=[{pubkey:e.policy,isWritable:!0,isSigner:!1},{pubkey:e.authority,isWritable:!1,isSigner:!0},{pubkey:e.systemProgram??w.SystemProgram.programId,isWritable:!1,isSigner:!1}];return new w.TransactionInstruction({programId:i,keys:a,data:s})}},942642:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.createWrapInstruction=r.wrapInstructionDiscriminator=r.wrapStruct=void 0;const k=a(n(853152)),w=a(n(666808)),I=a(n(228598));r.wrapStruct=new w.BeetArgsStruct([["instructionDiscriminator",w.uniformFixedSizeArray(w.u8,8)]],"WrapInstructionArgs"),r.wrapInstructionDiscriminator=[178,40,10,189,228,129,186,140],r.createWrapInstruction=function createWrapInstruction(e,n=new I.PublicKey("ocp4vWUzA2z2XMYJ3QhM9vWdyoyoQwAFJhRdVTbvo9E")){const[i]=r.wrapStruct.serialize({instructionDiscriminator:r.wrapInstructionDiscriminator}),s=[{pubkey:e.policy,isWritable:!1,isSigner:!1},{pubkey:e.freezeAuthority,isWritable:!1,isSigner:!0},{pubkey:e.mintAuthority,isWritable:!1,isSigner:!0},{pubkey:e.mint,isWritable:!0,isSigner:!1},{pubkey:e.metadata,isWritable:!1,isSigner:!1},{pubkey:e.mintState,isWritable:!0,isSigner:!1},{pubkey:e.from,isWritable:!0,isSigner:!0},{pubkey:e.tokenProgram??k.TOKEN_PROGRAM_ID,isWritable:!1,isSigner:!1},{pubkey:e.systemProgram??I.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:e.cmtProgram,isWritable:!1,isSigner:!1},{pubkey:e.instructions,isWritable:!1,isSigner:!1}];return new I.TransactionInstruction({programId:n,keys:s,data:i})}},631487:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.dynamicRoyaltyBeet=void 0;const k=a(n(666808)),w=n(162863);r.dynamicRoyaltyBeet=new k.FixableBeetArgsStruct([["version",k.u8],["kind",k.u8],["overrideRoyaltyBp",k.coption(k.u16)],["kindPriceLinear",k.coption(w.dynamicRoyaltyPriceLinearBeet)],["reserved0",k.uniformFixedSizeArray(k.u8,32)],["reserved1",k.uniformFixedSizeArray(k.u8,32)],["reserved2",k.uniformFixedSizeArray(k.u8,32)],["reserved3",k.uniformFixedSizeArray(k.u8,32)]],"DynamicRoyalty")},162863:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.dynamicRoyaltyPriceLinearBeet=void 0;const k=a(n(666808)),w=a(n(618886));r.dynamicRoyaltyPriceLinearBeet=new k.FixableBeetArgsStruct([["priceMint",k.coption(w.publicKey)],["startPrice",k.u64],["endPrice",k.u64],["startMultiplierBp",k.u16],["endMultiplierBp",k.u16]],"DynamicRoyaltyPriceLinear")},598938:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.initPolicyArgBeet=void 0;const k=a(n(666808)),w=n(631487);r.initPolicyArgBeet=new k.FixableBeetArgsStruct([["jsonRule",k.coption(k.utf8String)],["dynamicRoyalty",k.coption(w.dynamicRoyaltyBeet)]],"InitPolicyArg")},203283:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.updatePolicyArgBeet=void 0;const k=a(n(666808)),w=a(n(618886)),I=n(631487);r.updatePolicyArgBeet=new k.FixableBeetArgsStruct([["authority",w.publicKey],["jsonRule",k.coption(k.utf8String)],["dynamicRoyalty",k.coption(I.dynamicRoyaltyBeet)]],"UpdatePolicyArg")},186806:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__exportStar||function(e,r){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||i(r,e,n)};Object.defineProperty(r,"__esModule",{value:!0}),s(n(631487),r),s(n(162863),r),s(n(598938),r),s(n(203283),r)},638186:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__exportStar||function(e,r){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||i(r,e,n)};Object.defineProperty(r,"__esModule",{value:!0}),s(n(202536),r),s(n(918861),r)},918861:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.process_tx=r.parsePriceLinearDynamicRoyaltyStruct=r.createDynamicRoyaltyStruct=r.findFreezeAuthorityPk=r.findMintStatePk=r.findPolicyPk=r.CMT_PROGRAM=r.computeBudgetIx=r.LARGER_COMPUTE_UNIT=void 0;const k=n(408636),w=n(228598),I=n(202536),we=a(n(408636));r.LARGER_COMPUTE_UNIT=14e5,r.computeBudgetIx=w.ComputeBudgetProgram.setComputeUnitLimit({units:r.LARGER_COMPUTE_UNIT}),r.CMT_PROGRAM=new w.PublicKey("CMTQqjzH6Anr9XcPVt73EFDTjWkJWPzH7H6DtvhHcyzV");r.findPolicyPk=e=>w.PublicKey.findProgramAddressSync([k.utils.bytes.utf8.encode("policy"),e.toBuffer()],I.PROGRAM_ID)[0];r.findMintStatePk=e=>w.PublicKey.findProgramAddressSync([k.utils.bytes.utf8.encode("mint_state"),e.toBuffer()],I.PROGRAM_ID)[0];r.findFreezeAuthorityPk=e=>w.PublicKey.findProgramAddressSync([e.toBuffer()],r.CMT_PROGRAM)[0];r.createDynamicRoyaltyStruct=({startPrice:e,endPrice:r,startMultiplierBp:n,endMultiplierBp:i})=>({version:0,kind:0,overrideRoyaltyBp:null,kindPriceLinear:{priceMint:null,startPrice:e,endPrice:r,startMultiplierBp:n,endMultiplierBp:i},reserved0:new Array(32).fill(0),reserved1:new Array(32).fill(0),reserved2:new Array(32).fill(0),reserved3:new Array(32).fill(0)});r.parsePriceLinearDynamicRoyaltyStruct=e=>{if(""===e||"null"===e)return null;const{startPrice:n,endPrice:i,startMultiplierBp:s,endMultiplierBp:a}=JSON.parse(e);return(0,r.createDynamicRoyaltyStruct)({startPrice:new we.BN(n),endPrice:new we.BN(i),startMultiplierBp:Number(s),endMultiplierBp:Number(a)})};r.process_tx=async(e,r,n)=>{const i=new w.Transaction;i.feePayer=n[0].publicKey,i.recentBlockhash=(await e.getLatestBlockhash()).blockhash,i.add(...r),i.partialSign(...n);try{const r=await e.sendRawTransaction(i.serialize());return await e.confirmTransaction(r),r}catch(e){throw console.error(e),e}}},228598:(e,r,n)=>{"use strict";n.r(r),n.d(r,{Account:()=>Account,AddressLookupTableAccount:()=>AddressLookupTableAccount,AddressLookupTableInstruction:()=>AddressLookupTableInstruction,AddressLookupTableProgram:()=>AddressLookupTableProgram,Authorized:()=>Authorized,BLOCKHASH_CACHE_TIMEOUT_MS:()=>Si,BPF_LOADER_DEPRECATED_PROGRAM_ID:()=>yn,BPF_LOADER_PROGRAM_ID:()=>hi,BpfLoader:()=>BpfLoader,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:()=>cs,ComputeBudgetInstruction:()=>ComputeBudgetInstruction,ComputeBudgetProgram:()=>ComputeBudgetProgram,Connection:()=>Connection,Ed25519Program:()=>Ed25519Program,Enum:()=>Enum,EpochSchedule:()=>EpochSchedule,FeeCalculatorLayout:()=>oi,Keypair:()=>Keypair,LAMPORTS_PER_SOL:()=>Ss,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:()=>as,Loader:()=>Loader,Lockup:()=>Lockup,MAX_SEED_LENGTH:()=>ln,Message:()=>Message,MessageAccountKeys:()=>MessageAccountKeys,MessageV0:()=>MessageV0,NONCE_ACCOUNT_LENGTH:()=>ai,NonceAccount:()=>NonceAccount,PACKET_DATA_SIZE:()=>mn,PUBLIC_KEY_LENGTH:()=>pn,PublicKey:()=>PublicKey,SIGNATURE_LENGTH_IN_BYTES:()=>kn,SOLANA_SCHEMA:()=>un,STAKE_CONFIG_ID:()=>fs,STAKE_INSTRUCTION_LAYOUTS:()=>ps,SYSTEM_INSTRUCTION_LAYOUTS:()=>di,SYSVAR_CLOCK_PUBKEY:()=>Wn,SYSVAR_EPOCH_SCHEDULE_PUBKEY:()=>Hn,SYSVAR_INSTRUCTIONS_PUBKEY:()=>Zn,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:()=>Qn,SYSVAR_RENT_PUBKEY:()=>ei,SYSVAR_REWARDS_PUBKEY:()=>ti,SYSVAR_SLOT_HASHES_PUBKEY:()=>ri,SYSVAR_SLOT_HISTORY_PUBKEY:()=>ni,SYSVAR_STAKE_HISTORY_PUBKEY:()=>ii,Secp256k1Program:()=>Secp256k1Program,SendTransactionError:()=>SendTransactionError,SolanaJSONRPCError:()=>SolanaJSONRPCError,SolanaJSONRPCErrorCode:()=>yi,StakeAuthorizationLayout:()=>gs,StakeInstruction:()=>StakeInstruction,StakeProgram:()=>StakeProgram,Struct:()=>Struct,SystemInstruction:()=>SystemInstruction,SystemProgram:()=>SystemProgram,Transaction:()=>Transaction,TransactionExpiredBlockheightExceededError:()=>TransactionExpiredBlockheightExceededError,TransactionExpiredNonceInvalidError:()=>TransactionExpiredNonceInvalidError,TransactionExpiredTimeoutError:()=>TransactionExpiredTimeoutError,TransactionInstruction:()=>TransactionInstruction,TransactionMessage:()=>TransactionMessage,TransactionStatus:()=>Bn,VALIDATOR_INFO_KEY:()=>bs,VERSION_PREFIX_MASK:()=>bn,VOTE_PROGRAM_ID:()=>ws,ValidatorInfo:()=>ValidatorInfo,VersionedMessage:()=>Mn,VersionedTransaction:()=>VersionedTransaction,VoteAccount:()=>VoteAccount,VoteAuthorizationLayout:()=>ms,VoteInit:()=>VoteInit,VoteInstruction:()=>VoteInstruction,VoteProgram:()=>VoteProgram,clusterApiUrl:()=>clusterApiUrl,sendAndConfirmRawTransaction:()=>sendAndConfirmRawTransaction,sendAndConfirmTransaction:()=>sendAndConfirmTransaction});var i={};n.r(i),n.d(i,{DO:()=>utils_abytes,OG:()=>bitMask,My:()=>abstract_utils_bytesToHex,bytesToNumberBE:()=>utils_bytesToNumberBE,lX:()=>utils_bytesToNumberLE,Id:()=>abstract_utils_concatBytes,fg:()=>createHmacDrbg,qj:()=>utils_ensureBytes,hexToBytes:()=>utils_hexToBytes,aY:()=>abstract_utils_isBytes,lq:()=>utils_numberToBytesBE,z:()=>utils_numberToBytesLE,Q5:()=>validateObject});var s=n(901048);function number(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function bytes(e,...r){if(!function isBytes(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}(e))throw new Error("Uint8Array expected");if(r.length>0&&!r.includes(e.length))throw new Error(`Uint8Array expected of length ${r}, not of length=${e.length}`)}function _assert_hash(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");number(e.outputLen),number(e.blockLen)}function exists(e,r=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(r&&e.finished)throw new Error("Hash#digest() has already been called")}function output(e,r){bytes(e);const n=r.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const a="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;const createView=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),rotr=(e,r)=>e<<32-r|e>>>r,k=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],byteSwap=e=>e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255;function byteSwap32(e){for(let r=0;r<e.length;r++)e[r]=byteSwap(e[r])}function utils_utf8ToBytes(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function toBytes(e){return"string"==typeof e&&(e=utils_utf8ToBytes(e)),bytes(e),e}function utils_concatBytes(...e){let r=0;for(let n=0;n<e.length;n++){const i=e[n];bytes(i),r+=i.length}const n=new Uint8Array(r);for(let r=0,i=0;r<e.length;r++){const s=e[r];n.set(s,i),i+=s.length}return n}class Hash{clone(){return this._cloneInto()}}function utils_wrapConstructor(e){const hashC=r=>e().update(toBytes(r)).digest(),r=e();return hashC.outputLen=r.outputLen,hashC.blockLen=r.blockLen,hashC.create=()=>e(),hashC}function utils_randomBytes(e=32){if(a&&"function"==typeof a.getRandomValues)return a.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}const Maj=(e,r,n)=>e&r^e&n^r&n;class HashMD extends Hash{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=createView(this.buffer)}update(e){exists(this);const{view:r,buffer:n,blockLen:i}=this,s=(e=toBytes(e)).length;for(let a=0;a<s;){const k=Math.min(i-this.pos,s-a);if(k!==i)n.set(e.subarray(a,a+k),this.pos),this.pos+=k,a+=k,this.pos===i&&(this.process(r,0),this.pos=0);else{const r=createView(e);for(;i<=s-a;a+=i)this.process(r,a)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){exists(this),output(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:a}=this;r[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(n,0),a=0);for(let e=a;e<i;e++)r[e]=0;!function setBigUint64(e,r,n,i){if("function"==typeof e.setBigUint64)return e.setBigUint64(r,n,i);const s=BigInt(32),a=BigInt(4294967295),k=Number(n>>s&a),w=Number(n&a),I=i?4:0,we=i?0:4;e.setUint32(r+I,k,i),e.setUint32(r+we,w,i)}(n,i-8,BigInt(8*this.length),s),this.process(n,0);const k=createView(e),w=this.outputLen;if(w%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const I=w/4,we=this.get();if(I>we.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<I;e++)k.setUint32(4*e,we[e],s)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:a,pos:k}=this;return e.length=i,e.pos=k,e.finished=s,e.destroyed=a,i%r&&e.buffer.set(n),e}}const w=BigInt(2**32-1),I=BigInt(32);function fromBig(e,r=!1){return r?{h:Number(e&w),l:Number(e>>I&w)}:{h:0|Number(e>>I&w),l:0|Number(e&w)}}function split(e,r=!1){let n=new Uint32Array(e.length),i=new Uint32Array(e.length);for(let s=0;s<e.length;s++){const{h:a,l:k}=fromBig(e[s],r);[n[s],i[s]]=[a,k]}return[n,i]}const rotlSH=(e,r,n)=>e<<n|r>>>32-n,rotlSL=(e,r,n)=>r<<n|e>>>32-n,rotlBH=(e,r,n)=>r<<n-32|e>>>64-n,rotlBL=(e,r,n)=>e<<n-32|r>>>64-n;const we={fromBig,split,toBig:(e,r)=>BigInt(e>>>0)<<I|BigInt(r>>>0),shrSH:(e,r,n)=>e>>>n,shrSL:(e,r,n)=>e<<32-n|r>>>n,rotrSH:(e,r,n)=>e>>>n|r<<32-n,rotrSL:(e,r,n)=>e<<32-n|r>>>n,rotrBH:(e,r,n)=>e<<64-n|r>>>n-32,rotrBL:(e,r,n)=>e>>>n-32|r<<64-n,rotr32H:(e,r)=>r,rotr32L:(e,r)=>e,rotlSH,rotlSL,rotlBH,rotlBL,add:function add(e,r,n,i){const s=(r>>>0)+(i>>>0);return{h:e+n+(s/2**32|0)|0,l:0|s}},add3L:(e,r,n)=>(e>>>0)+(r>>>0)+(n>>>0),add3H:(e,r,n,i)=>r+n+i+(e/2**32|0)|0,add4L:(e,r,n,i)=>(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),add4H:(e,r,n,i,s)=>r+n+i+s+(e/2**32|0)|0,add5H:(e,r,n,i,s,a)=>r+n+i+s+a+(e/2**32|0)|0,add5L:(e,r,n,i,s)=>(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0)+(s>>>0)},[Ae,Be]=(()=>we.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))))(),Ce=new Uint32Array(80),ze=new Uint32Array(80);class SHA512 extends HashMD{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:a,Dh:k,Dl:w,Eh:I,El:we,Fh:Ae,Fl:Be,Gh:Ce,Gl:ze,Hh:qe,Hl:$e}=this;return[e,r,n,i,s,a,k,w,I,we,Ae,Be,Ce,ze,qe,$e]}set(e,r,n,i,s,a,k,w,I,we,Ae,Be,Ce,ze,qe,$e){this.Ah=0|e,this.Al=0|r,this.Bh=0|n,this.Bl=0|i,this.Ch=0|s,this.Cl=0|a,this.Dh=0|k,this.Dl=0|w,this.Eh=0|I,this.El=0|we,this.Fh=0|Ae,this.Fl=0|Be,this.Gh=0|Ce,this.Gl=0|ze,this.Hh=0|qe,this.Hl=0|$e}process(e,r){for(let n=0;n<16;n++,r+=4)Ce[n]=e.getUint32(r),ze[n]=e.getUint32(r+=4);for(let e=16;e<80;e++){const r=0|Ce[e-15],n=0|ze[e-15],i=we.rotrSH(r,n,1)^we.rotrSH(r,n,8)^we.shrSH(r,n,7),s=we.rotrSL(r,n,1)^we.rotrSL(r,n,8)^we.shrSL(r,n,7),a=0|Ce[e-2],k=0|ze[e-2],w=we.rotrSH(a,k,19)^we.rotrBH(a,k,61)^we.shrSH(a,k,6),I=we.rotrSL(a,k,19)^we.rotrBL(a,k,61)^we.shrSL(a,k,6),Ae=we.add4L(s,I,ze[e-7],ze[e-16]),Be=we.add4H(Ae,i,w,Ce[e-7],Ce[e-16]);Ce[e]=0|Be,ze[e]=0|Ae}let{Ah:n,Al:i,Bh:s,Bl:a,Ch:k,Cl:w,Dh:I,Dl:qe,Eh:$e,El:Ye,Fh:Je,Fl:et,Gh:rt,Gl:it,Hh:ot,Hl:ht}=this;for(let e=0;e<80;e++){const r=we.rotrSH($e,Ye,14)^we.rotrSH($e,Ye,18)^we.rotrBH($e,Ye,41),ft=we.rotrSL($e,Ye,14)^we.rotrSL($e,Ye,18)^we.rotrBL($e,Ye,41),pt=$e&Je^~$e&rt,yt=Ye&et^~Ye&it,kt=we.add5L(ht,ft,yt,Be[e],ze[e]),_t=we.add5H(kt,ot,r,pt,Ae[e],Ce[e]),St=0|kt,Mt=we.rotrSH(n,i,28)^we.rotrBH(n,i,34)^we.rotrBH(n,i,39),Dt=we.rotrSL(n,i,28)^we.rotrBL(n,i,34)^we.rotrBL(n,i,39),qt=n&s^n&k^s&k,Gt=i&a^i&w^a&w;ot=0|rt,ht=0|it,rt=0|Je,it=0|et,Je=0|$e,et=0|Ye,({h:$e,l:Ye}=we.add(0|I,0|qe,0|_t,0|St)),I=0|k,qe=0|w,k=0|s,w=0|a,s=0|n,a=0|i;const Qt=we.add3L(St,Dt,Gt);n=we.add3H(Qt,_t,Mt,qt),i=0|Qt}({h:n,l:i}=we.add(0|this.Ah,0|this.Al,0|n,0|i)),({h:s,l:a}=we.add(0|this.Bh,0|this.Bl,0|s,0|a)),({h:k,l:w}=we.add(0|this.Ch,0|this.Cl,0|k,0|w)),({h:I,l:qe}=we.add(0|this.Dh,0|this.Dl,0|I,0|qe)),({h:$e,l:Ye}=we.add(0|this.Eh,0|this.El,0|$e,0|Ye)),({h:Je,l:et}=we.add(0|this.Fh,0|this.Fl,0|Je,0|et)),({h:rt,l:it}=we.add(0|this.Gh,0|this.Gl,0|rt,0|it)),({h:ot,l:ht}=we.add(0|this.Hh,0|this.Hl,0|ot,0|ht)),this.set(n,i,s,a,k,w,I,qe,$e,Ye,Je,et,rt,it,ot,ht)}roundClean(){Ce.fill(0),ze.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const qe=utils_wrapConstructor((()=>new SHA512)),$e=(BigInt(0),BigInt(1)),Ye=BigInt(2);function abstract_utils_isBytes(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}function utils_abytes(e){if(!abstract_utils_isBytes(e))throw new Error("Uint8Array expected")}const Je=Array.from({length:256},((e,r)=>r.toString(16).padStart(2,"0")));function abstract_utils_bytesToHex(e){utils_abytes(e);let r="";for(let n=0;n<e.length;n++)r+=Je[e[n]];return r}function hexToNumber(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}const et={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function utils_asciiToBase16(e){return e>=et._0&&e<=et._9?e-et._0:e>=et._A&&e<=et._F?e-(et._A-10):e>=et._a&&e<=et._f?e-(et._a-10):void 0}function utils_hexToBytes(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const r=e.length,n=r/2;if(r%2)throw new Error("padded hex string expected, got unpadded hex of length "+r);const i=new Uint8Array(n);for(let r=0,s=0;r<n;r++,s+=2){const n=utils_asciiToBase16(e.charCodeAt(s)),a=utils_asciiToBase16(e.charCodeAt(s+1));if(void 0===n||void 0===a){const r=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+r+'" at index '+s)}i[r]=16*n+a}return i}function utils_bytesToNumberBE(e){return hexToNumber(abstract_utils_bytesToHex(e))}function utils_bytesToNumberLE(e){return utils_abytes(e),hexToNumber(abstract_utils_bytesToHex(Uint8Array.from(e).reverse()))}function utils_numberToBytesBE(e,r){return utils_hexToBytes(e.toString(16).padStart(2*r,"0"))}function utils_numberToBytesLE(e,r){return utils_numberToBytesBE(e,r).reverse()}function utils_ensureBytes(e,r,n){let i;if("string"==typeof r)try{i=utils_hexToBytes(r)}catch(n){throw new Error(`${e} must be valid hex string, got "${r}". Cause: ${n}`)}else{if(!abstract_utils_isBytes(r))throw new Error(`${e} must be hex string or Uint8Array`);i=Uint8Array.from(r)}const s=i.length;if("number"==typeof n&&s!==n)throw new Error(`${e} expected ${n} bytes, got ${s}`);return i}function abstract_utils_concatBytes(...e){let r=0;for(let n=0;n<e.length;n++){const i=e[n];utils_abytes(i),r+=i.length}const n=new Uint8Array(r);for(let r=0,i=0;r<e.length;r++){const s=e[r];n.set(s,i),i+=s.length}return n}const bitMask=e=>(Ye<<BigInt(e-1))-$e,u8n=e=>new Uint8Array(e),u8fr=e=>Uint8Array.from(e);function createHmacDrbg(e,r,n){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof r||r<2)throw new Error("qByteLen must be a number");if("function"!=typeof n)throw new Error("hmacFn must be a function");let i=u8n(e),s=u8n(e),a=0;const reset=()=>{i.fill(1),s.fill(0),a=0},h=(...e)=>n(s,i,...e),reseed=(e=u8n())=>{s=h(u8fr([0]),e),i=h(),0!==e.length&&(s=h(u8fr([1]),e),i=h())},gen=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const n=[];for(;e<r;){i=h();const r=i.slice();n.push(r),e+=i.length}return abstract_utils_concatBytes(...n)};return(e,r)=>{let n;for(reset(),reseed(e);!(n=r(gen()));)reseed();return reset(),n}}const rt={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||abstract_utils_isBytes(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,r)=>r.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function validateObject(e,r,n={}){const checkField=(r,n,i)=>{const s=rt[n];if("function"!=typeof s)throw new Error(`Invalid validator "${n}", expected function`);const a=e[r];if(!(i&&void 0===a||s(a,e)))throw new Error(`Invalid param ${String(r)}=${a} (${typeof a}), expected ${n}`)};for(const[e,n]of Object.entries(r))checkField(e,n,!1);for(const[e,r]of Object.entries(n))checkField(e,r,!0);return e}const it=BigInt(0),ot=BigInt(1),ht=BigInt(2),ft=BigInt(3),pt=BigInt(4),yt=BigInt(5),kt=BigInt(8);BigInt(9),BigInt(16);function modular_mod(e,r){const n=e%r;return n>=it?n:r+n}function pow(e,r,n){if(n<=it||r<it)throw new Error("Expected power/modulo > 0");if(n===ot)return it;let i=ot;for(;r>it;)r&ot&&(i=i*e%n),e=e*e%n,r>>=ot;return i}function modular_pow2(e,r,n){let i=e;for(;r-- >it;)i*=i,i%=n;return i}function invert(e,r){if(e===it||r<=it)throw new Error(`invert: expected positive integers, got n=${e} mod=${r}`);let n=modular_mod(e,r),i=r,s=it,a=ot,k=ot,w=it;for(;n!==it;){const e=i/n,r=i%n,I=s-k*e,we=a-w*e;i=n,n=r,s=k,a=w,k=I,w=we}if(i!==ot)throw new Error("invert: does not exist");return modular_mod(s,r)}function FpSqrt(e){if(e%pt===ft){const r=(e+ot)/pt;return function sqrt3mod4(e,n){const i=e.pow(n,r);if(!e.eql(e.sqr(i),n))throw new Error("Cannot find square root");return i}}if(e%kt===yt){const r=(e-yt)/kt;return function sqrt5mod8(e,n){const i=e.mul(n,ht),s=e.pow(i,r),a=e.mul(n,s),k=e.mul(e.mul(a,ht),s),w=e.mul(a,e.sub(k,e.ONE));if(!e.eql(e.sqr(w),n))throw new Error("Cannot find square root");return w}}return function tonelliShanks(e){const r=(e-ot)/ht;let n,i,s;for(n=e-ot,i=0;n%ht===it;n/=ht,i++);for(s=ht;s<e&&pow(s,r,e)!==e-ot;s++);if(1===i){const r=(e+ot)/pt;return function tonelliFast(e,n){const i=e.pow(n,r);if(!e.eql(e.sqr(i),n))throw new Error("Cannot find square root");return i}}const a=(n+ot)/ht;return function tonelliSlow(e,k){if(e.pow(k,r)===e.neg(e.ONE))throw new Error("Cannot find square root");let w=i,I=e.pow(e.mul(e.ONE,s),n),we=e.pow(k,a),Ae=e.pow(k,n);for(;!e.eql(Ae,e.ONE);){if(e.eql(Ae,e.ZERO))return e.ZERO;let r=1;for(let n=e.sqr(Ae);r<w&&!e.eql(n,e.ONE);r++)n=e.sqr(n);const n=e.pow(I,ot<<BigInt(w-r-1));I=e.sqr(n),we=e.mul(we,n),Ae=e.mul(Ae,I),w=r}return we}}(e)}const modular_isNegativeLE=(e,r)=>(modular_mod(e,r)&ot)===ot,_t=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function nLength(e,r){const n=void 0!==r?r:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function Field(e,r,n=!1,i={}){if(e<=it)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:s,nByteLength:a}=nLength(e,r);if(a>2048)throw new Error("Field lengths over 2048 bytes are not supported");const k=FpSqrt(e),w=Object.freeze({ORDER:e,BITS:s,BYTES:a,MASK:bitMask(s),ZERO:it,ONE:ot,create:r=>modular_mod(r,e),isValid:r=>{if("bigint"!=typeof r)throw new Error("Invalid field element: expected bigint, got "+typeof r);return it<=r&&r<e},is0:e=>e===it,isOdd:e=>(e&ot)===ot,neg:r=>modular_mod(-r,e),eql:(e,r)=>e===r,sqr:r=>modular_mod(r*r,e),add:(r,n)=>modular_mod(r+n,e),sub:(r,n)=>modular_mod(r-n,e),mul:(r,n)=>modular_mod(r*n,e),pow:(e,r)=>function FpPow(e,r,n){if(n<it)throw new Error("Expected power > 0");if(n===it)return e.ONE;if(n===ot)return r;let i=e.ONE,s=r;for(;n>it;)n&ot&&(i=e.mul(i,s)),s=e.sqr(s),n>>=ot;return i}(w,e,r),div:(r,n)=>modular_mod(r*invert(n,e),e),sqrN:e=>e*e,addN:(e,r)=>e+r,subN:(e,r)=>e-r,mulN:(e,r)=>e*r,inv:r=>invert(r,e),sqrt:i.sqrt||(e=>k(w,e)),invertBatch:e=>function FpInvertBatch(e,r){const n=new Array(r.length),i=r.reduce(((r,i,s)=>e.is0(i)?r:(n[s]=r,e.mul(r,i))),e.ONE),s=e.inv(i);return r.reduceRight(((r,i,s)=>e.is0(i)?r:(n[s]=e.mul(r,n[s]),e.mul(r,i))),s),n}(w,e),cmov:(e,r,n)=>n?r:e,toBytes:e=>n?utils_numberToBytesLE(e,a):utils_numberToBytesBE(e,a),fromBytes:e=>{if(e.length!==a)throw new Error(`Fp.fromBytes: expected ${a}, got ${e.length}`);return n?utils_bytesToNumberLE(e):utils_bytesToNumberBE(e)}});return Object.freeze(w)}function getFieldBytesLength(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");const r=e.toString(2).length;return Math.ceil(r/8)}function getMinHashLength(e){const r=getFieldBytesLength(e);return r+Math.ceil(r/2)}const St=BigInt(0),Mt=BigInt(1);function wNAF(e,r){const constTimeNegate=(e,r)=>{const n=r.negate();return e?n:r},opts=e=>({windows:Math.ceil(r/e)+1,windowSize:2**(e-1)});return{constTimeNegate,unsafeLadder(r,n){let i=e.ZERO,s=r;for(;n>St;)n&Mt&&(i=i.add(s)),s=s.double(),n>>=Mt;return i},precomputeWindow(e,r){const{windows:n,windowSize:i}=opts(r),s=[];let a=e,k=a;for(let e=0;e<n;e++){k=a,s.push(k);for(let e=1;e<i;e++)k=k.add(a),s.push(k);a=k.double()}return s},wNAF(r,n,i){const{windows:s,windowSize:a}=opts(r);let k=e.ZERO,w=e.BASE;const I=BigInt(2**r-1),we=2**r,Ae=BigInt(r);for(let e=0;e<s;e++){const r=e*a;let s=Number(i&I);i>>=Ae,s>a&&(s-=we,i+=Mt);const Be=r,Ce=r+Math.abs(s)-1,ze=e%2!=0,qe=s<0;0===s?w=w.add(constTimeNegate(ze,n[Be])):k=k.add(constTimeNegate(qe,n[Ce]))}return{p:k,f:w}},wNAFCached(e,r,n,i){const s=e._WINDOW_SIZE||1;let a=r.get(e);return a||(a=this.precomputeWindow(e,s),1!==s&&r.set(e,i(a))),this.wNAF(s,a,n)}}}function validateBasic(e){return function validateField(e){return validateObject(e,_t.reduce(((e,r)=>(e[r]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"}))}(e.Fp),validateObject(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...nLength(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}const Dt=BigInt(0),qt=BigInt(1),Gt=BigInt(2),Qt=BigInt(8),er={zip215:!0};function twistedEdwards(e){const r=function validateOpts(e){const r=validateBasic(e);return validateObject(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...r})}(e),{Fp:n,n:i,prehash:s,hash:a,randomBytes:k,nByteLength:w,h:I}=r,we=Gt<<BigInt(8*w)-qt,Ae=n.create,Be=r.uvRatio||((e,r)=>{try{return{isValid:!0,value:n.sqrt(e*n.inv(r))}}catch(e){return{isValid:!1,value:Dt}}}),Ce=r.adjustScalarBytes||(e=>e),ze=r.domain||((e,r,n)=>{if(r.length||n)throw new Error("Contexts/pre-hash are not supported");return e}),inBig=e=>"bigint"==typeof e&&Dt<e,inRange=(e,r)=>inBig(e)&&inBig(r)&&e<r,in0MaskRange=e=>e===Dt||inRange(e,we);function assertInRange(e,r){if(inRange(e,r))return e;throw new Error(`Expected valid scalar < ${r}, got ${typeof e} ${e}`)}function assertGE0(e){return e===Dt?e:assertInRange(e,i)}const qe=new Map;function isPoint(e){if(!(e instanceof Point))throw new Error("ExtendedPoint expected")}class Point{constructor(e,r,n,i){if(this.ex=e,this.ey=r,this.ez=n,this.et=i,!in0MaskRange(e))throw new Error("x required");if(!in0MaskRange(r))throw new Error("y required");if(!in0MaskRange(n))throw new Error("z required");if(!in0MaskRange(i))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(e){if(e instanceof Point)throw new Error("extended point not allowed");const{x:r,y:n}=e||{};if(!in0MaskRange(r)||!in0MaskRange(n))throw new Error("invalid affine point");return new Point(r,n,qt,Ae(r*n))}static normalizeZ(e){const r=n.invertBatch(e.map((e=>e.ez)));return e.map(((e,n)=>e.toAffine(r[n]))).map(Point.fromAffine)}_setWindowSize(e){this._WINDOW_SIZE=e,qe.delete(this)}assertValidity(){const{a:e,d:n}=r;if(this.is0())throw new Error("bad point: ZERO");const{ex:i,ey:s,ez:a,et:k}=this,w=Ae(i*i),I=Ae(s*s),we=Ae(a*a),Be=Ae(we*we),Ce=Ae(w*e);if(Ae(we*Ae(Ce+I))!==Ae(Be+Ae(n*Ae(w*I))))throw new Error("bad point: equation left != right (1)");if(Ae(i*s)!==Ae(a*k))throw new Error("bad point: equation left != right (2)")}equals(e){isPoint(e);const{ex:r,ey:n,ez:i}=this,{ex:s,ey:a,ez:k}=e,w=Ae(r*k),I=Ae(s*i),we=Ae(n*k),Be=Ae(a*i);return w===I&&we===Be}is0(){return this.equals(Point.ZERO)}negate(){return new Point(Ae(-this.ex),this.ey,this.ez,Ae(-this.et))}double(){const{a:e}=r,{ex:n,ey:i,ez:s}=this,a=Ae(n*n),k=Ae(i*i),w=Ae(Gt*Ae(s*s)),I=Ae(e*a),we=n+i,Be=Ae(Ae(we*we)-a-k),Ce=I+k,ze=Ce-w,qe=I-k,$e=Ae(Be*ze),Ye=Ae(Ce*qe),Je=Ae(Be*qe),et=Ae(ze*Ce);return new Point($e,Ye,et,Je)}add(e){isPoint(e);const{a:n,d:i}=r,{ex:s,ey:a,ez:k,et:w}=this,{ex:I,ey:we,ez:Be,et:Ce}=e;if(n===BigInt(-1)){const e=Ae((a-s)*(we+I)),r=Ae((a+s)*(we-I)),n=Ae(r-e);if(n===Dt)return this.double();const i=Ae(k*Gt*Ce),ze=Ae(w*Gt*Be),qe=ze+i,$e=r+e,Ye=ze-i,Je=Ae(qe*n),et=Ae($e*Ye),rt=Ae(qe*Ye),it=Ae(n*$e);return new Point(Je,et,it,rt)}const ze=Ae(s*I),qe=Ae(a*we),$e=Ae(w*i*Ce),Ye=Ae(k*Be),Je=Ae((s+a)*(I+we)-ze-qe),et=Ye-$e,rt=Ye+$e,it=Ae(qe-n*ze),ot=Ae(Je*et),ht=Ae(rt*it),ft=Ae(Je*it),pt=Ae(et*rt);return new Point(ot,ht,pt,ft)}subtract(e){return this.add(e.negate())}wNAF(e){return Je.wNAFCached(this,qe,e,Point.normalizeZ)}multiply(e){const{p:r,f:n}=this.wNAF(assertInRange(e,i));return Point.normalizeZ([r,n])[0]}multiplyUnsafe(e){let r=assertGE0(e);return r===Dt?Ye:this.equals(Ye)||r===qt?this:this.equals($e)?this.wNAF(r).p:Je.unsafeLadder(this,r)}isSmallOrder(){return this.multiplyUnsafe(I).is0()}isTorsionFree(){return Je.unsafeLadder(this,i).is0()}toAffine(e){const{ex:r,ey:i,ez:s}=this,a=this.is0();null==e&&(e=a?Qt:n.inv(s));const k=Ae(r*e),w=Ae(i*e),I=Ae(s*e);if(a)return{x:Dt,y:qt};if(I!==qt)throw new Error("invZ was invalid");return{x:k,y:w}}clearCofactor(){const{h:e}=r;return e===qt?this:this.multiplyUnsafe(e)}static fromHex(e,i=!1){const{d:s,a}=r,k=n.BYTES,w=(e=utils_ensureBytes("pointHex",e,k)).slice(),I=e[k-1];w[k-1]=-129&I;const Ce=utils_bytesToNumberLE(w);Ce===Dt||assertInRange(Ce,i?we:n.ORDER);const ze=Ae(Ce*Ce),qe=Ae(ze-qt),$e=Ae(s*ze-a);let{isValid:Ye,value:Je}=Be(qe,$e);if(!Ye)throw new Error("Point.fromHex: invalid y coordinate");const et=(Je&qt)===qt,rt=!!(128&I);if(!i&&Je===Dt&&rt)throw new Error("Point.fromHex: x=0 and x_0=1");return rt!==et&&(Je=Ae(-Je)),Point.fromAffine({x:Je,y:Ce})}static fromPrivateKey(e){return getExtendedPublicKey(e).point}toRawBytes(){const{x:e,y:r}=this.toAffine(),i=utils_numberToBytesLE(r,n.BYTES);return i[i.length-1]|=e&qt?128:0,i}toHex(){return abstract_utils_bytesToHex(this.toRawBytes())}}Point.BASE=new Point(r.Gx,r.Gy,qt,Ae(r.Gx*r.Gy)),Point.ZERO=new Point(Dt,qt,qt,Dt);const{BASE:$e,ZERO:Ye}=Point,Je=wNAF(Point,8*w);function modN(e){return modular_mod(e,i)}function modN_LE(e){return modN(utils_bytesToNumberLE(e))}function getExtendedPublicKey(e){const r=w;e=utils_ensureBytes("private key",e,r);const n=utils_ensureBytes("hashed private key",a(e),2*r),i=Ce(n.slice(0,r)),s=n.slice(r,2*r),k=modN_LE(i),I=$e.multiply(k),we=I.toRawBytes();return{head:i,prefix:s,scalar:k,point:I,pointBytes:we}}function hashDomainToScalar(e=new Uint8Array,...r){const n=abstract_utils_concatBytes(...r);return modN_LE(a(ze(n,utils_ensureBytes("context",e),!!s)))}const et=er;$e._setWindowSize(8);return{CURVE:r,getPublicKey:function getPublicKey(e){return getExtendedPublicKey(e).pointBytes},sign:function sign(e,r,i={}){e=utils_ensureBytes("message",e),s&&(e=s(e));const{prefix:a,scalar:k,pointBytes:I}=getExtendedPublicKey(r),we=hashDomainToScalar(i.context,a,e),Ae=$e.multiply(we).toRawBytes(),Be=modN(we+hashDomainToScalar(i.context,Ae,I,e)*k);return assertGE0(Be),utils_ensureBytes("result",abstract_utils_concatBytes(Ae,utils_numberToBytesLE(Be,n.BYTES)),2*w)},verify:function verify(e,r,i,a=et){const{context:k,zip215:w}=a,I=n.BYTES;e=utils_ensureBytes("signature",e,2*I),r=utils_ensureBytes("message",r),s&&(r=s(r));const we=utils_bytesToNumberLE(e.slice(I,2*I));let Ae,Be,Ce;try{Ae=Point.fromHex(i,w),Be=Point.fromHex(e.slice(0,I),w),Ce=$e.multiplyUnsafe(we)}catch(e){return!1}if(!w&&Ae.isSmallOrder())return!1;const ze=hashDomainToScalar(k,Be.toRawBytes(),Ae.toRawBytes(),r);return Be.add(Ae.multiplyUnsafe(ze)).subtract(Ce).clearCofactor().equals(Point.ZERO)},ExtendedPoint:Point,utils:{getExtendedPublicKey,randomPrivateKey:()=>k(n.BYTES),precompute:(e=8,r=Point.BASE)=>(r._setWindowSize(e),r.multiply(BigInt(3)),r)}}}const tr=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),rr=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),nr=(BigInt(0),BigInt(1)),ir=BigInt(2),or=BigInt(5),sr=BigInt(10),ar=BigInt(20),cr=BigInt(40),ur=BigInt(80);function ed25519_pow_2_252_3(e){const r=tr,n=e*e%r*e%r,i=modular_pow2(n,ir,r)*n%r,s=modular_pow2(i,nr,r)*e%r,a=modular_pow2(s,or,r)*s%r,k=modular_pow2(a,sr,r)*a%r,w=modular_pow2(k,ar,r)*k%r,I=modular_pow2(w,cr,r)*w%r,we=modular_pow2(I,ur,r)*I%r,Ae=modular_pow2(we,ur,r)*I%r,Be=modular_pow2(Ae,sr,r)*a%r;return{pow_p_5_8:modular_pow2(Be,ir,r)*e%r,b2:n}}function adjustScalarBytes(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function uvRatio(e,r){const n=tr,i=modular_mod(r*r*r,n),s=modular_mod(i*i*r,n);let a=modular_mod(e*i*ed25519_pow_2_252_3(e*s).pow_p_5_8,n);const k=modular_mod(r*a*a,n),w=a,I=modular_mod(a*rr,n),we=k===e,Ae=k===modular_mod(-e,n),Be=k===modular_mod(-e*rr,n);return we&&(a=w),(Ae||Be)&&(a=I),modular_isNegativeLE(a,n)&&(a=modular_mod(-a,n)),{isValid:we||Ae,value:a}}const dr=Field(tr,void 0,!0),lr={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:dr,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:qe,randomBytes:utils_randomBytes,adjustScalarBytes,uvRatio},hr=twistedEdwards(lr);function ed25519_domain(e,r,n){if(r.length>255)throw new Error("Context is too big");return utils_concatBytes(utils_utf8ToBytes("SigEd25519 no Ed25519 collisions"),new Uint8Array([n?1:0,r.length]),r,e)}const fr=(dr.ORDER+BigInt(3))/BigInt(8);dr.pow(ir,fr),dr.sqrt(dr.neg(dr.ONE)),dr.ORDER,BigInt(5),BigInt(8),BigInt(486662);(function FpSqrtEven(e,r){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const n=e.sqrt(r);return e.isOdd(n)?e.neg(n):n})(dr,dr.neg(BigInt(486664)));BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var pr=n(682823),gr=n.n(pr),yr=n(939216),mr=n.n(yr);const br=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),kr=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),wr=new Uint32Array(64);class SHA256 extends HashMD{constructor(){super(64,32,8,!1),this.A=0|kr[0],this.B=0|kr[1],this.C=0|kr[2],this.D=0|kr[3],this.E=0|kr[4],this.F=0|kr[5],this.G=0|kr[6],this.H=0|kr[7]}get(){const{A:e,B:r,C:n,D:i,E:s,F:a,G:k,H:w}=this;return[e,r,n,i,s,a,k,w]}set(e,r,n,i,s,a,k,w){this.A=0|e,this.B=0|r,this.C=0|n,this.D=0|i,this.E=0|s,this.F=0|a,this.G=0|k,this.H=0|w}process(e,r){for(let n=0;n<16;n++,r+=4)wr[n]=e.getUint32(r,!1);for(let e=16;e<64;e++){const r=wr[e-15],n=wr[e-2],i=rotr(r,7)^rotr(r,18)^r>>>3,s=rotr(n,17)^rotr(n,19)^n>>>10;wr[e]=s+wr[e-7]+i+wr[e-16]|0}let{A:n,B:i,C:s,D:a,E:k,F:w,G:I,H:we}=this;for(let e=0;e<64;e++){const r=we+(rotr(k,6)^rotr(k,11)^rotr(k,25))+((Ae=k)&w^~Ae&I)+br[e]+wr[e]|0,Be=(rotr(n,2)^rotr(n,13)^rotr(n,22))+Maj(n,i,s)|0;we=I,I=w,w=k,k=a+r|0,a=s,s=i,i=n,n=r+Be|0}var Ae;n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,k=k+this.E|0,w=w+this.F|0,I=I+this.G|0,we=we+this.H|0,this.set(n,i,s,a,k,w,I,we)}roundClean(){wr.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Ir=utils_wrapConstructor((()=>new SHA256));var _r=n(881818),Sr=n(878918),Er=n(856115),vr=n(727801),Ar=n(759499),Tr=n.n(Ar),Pr=n(651890),Or=n(859696);const Mr=[],xr=[],Br=[],Rr=BigInt(0),Cr=BigInt(1),Dr=BigInt(2),Nr=BigInt(7),zr=BigInt(256),Wr=BigInt(113);for(let e=0,r=Cr,n=1,i=0;e<24;e++){[n,i]=[i,(2*n+3*i)%5],Mr.push(2*(5*i+n)),xr.push((e+1)*(e+2)/2%64);let s=Rr;for(let e=0;e<7;e++)r=(r<<Cr^(r>>Nr)*Wr)%zr,r&Dr&&(s^=Cr<<(Cr<<BigInt(e))-Cr);Br.push(s)}const[jr,Lr]=split(Br,!0),rotlH=(e,r,n)=>n>32?rotlBH(e,r,n):rotlSH(e,r,n),rotlL=(e,r,n)=>n>32?rotlBL(e,r,n):rotlSL(e,r,n);class Keccak extends Hash{constructor(e,r,n,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,number(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");var a;this.state=new Uint8Array(200),this.state32=(a=this.state,new Uint32Array(a.buffer,a.byteOffset,Math.floor(a.byteLength/4)))}keccak(){k||byteSwap32(this.state32),function keccakP(e,r=24){const n=new Uint32Array(10);for(let i=24-r;i<24;i++){for(let r=0;r<10;r++)n[r]=e[r]^e[r+10]^e[r+20]^e[r+30]^e[r+40];for(let r=0;r<10;r+=2){const i=(r+8)%10,s=(r+2)%10,a=n[s],k=n[s+1],w=rotlH(a,k,1)^n[i],I=rotlL(a,k,1)^n[i+1];for(let n=0;n<50;n+=10)e[r+n]^=w,e[r+n+1]^=I}let r=e[2],s=e[3];for(let n=0;n<24;n++){const i=xr[n],a=rotlH(r,s,i),k=rotlL(r,s,i),w=Mr[n];r=e[w],s=e[w+1],e[w]=a,e[w+1]=k}for(let r=0;r<50;r+=10){for(let i=0;i<10;i++)n[i]=e[r+i];for(let i=0;i<10;i++)e[r+i]^=~n[(i+2)%10]&n[(i+4)%10]}e[0]^=jr[i],e[1]^=Lr[i]}n.fill(0)}(this.state32,this.rounds),k||byteSwap32(this.state32),this.posOut=0,this.pos=0}update(e){exists(this);const{blockLen:r,state:n}=this,i=(e=toBytes(e)).length;for(let s=0;s<i;){const a=Math.min(r-this.pos,i-s);for(let r=0;r<a;r++)n[this.pos++]^=e[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,128&r&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){exists(this,!1),bytes(e),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();const a=Math.min(n-this.posOut,s-i);e.set(r.subarray(this.posOut,this.posOut+a),i),this.posOut+=a,i+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:a}=this;return e||(e=new Keccak(r,n,i,a,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=a,e.destroyed=this.destroyed,e}}const gen=(e,r,n)=>utils_wrapConstructor((()=>new Keccak(r,e,n))),Kr=gen(1,136,32);class HMAC extends Hash{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,_assert_hash(e);const n=toBytes(r);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let e=0;e<s.length;e++)s[e]^=54;this.iHash.update(s),this.oHash=e.create();for(let e=0;e<s.length;e++)s[e]^=106;this.oHash.update(s),s.fill(0)}update(e){return exists(this),this.iHash.update(e),this}digestInto(e){exists(this),bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:a,outputLen:k}=this;return e.finished=i,e.destroyed=s,e.blockLen=a,e.outputLen=k,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const hmac=(e,r,n)=>new HMAC(e,r).update(n).digest();hmac.create=(e,r)=>new HMAC(e,r);const{bytesToNumberBE:Fr,hexToBytes:Ur}=i,Vr={Err:class DERErr extends Error{constructor(e=""){super(e)}},_parseInt(e){const{Err:r}=Vr;if(e.length<2||2!==e[0])throw new r("Invalid signature integer tag");const n=e[1],i=e.subarray(2,n+2);if(!n||i.length!==n)throw new r("Invalid signature integer: wrong length");if(128&i[0])throw new r("Invalid signature integer: negative");if(0===i[0]&&!(128&i[1]))throw new r("Invalid signature integer: unnecessary leading zero");return{d:Fr(i),l:e.subarray(n+2)}},toSig(e){const{Err:r}=Vr,n="string"==typeof e?Ur(e):e;utils_abytes(n);let i=n.length;if(i<2||48!=n[0])throw new r("Invalid signature tag");if(n[1]!==i-2)throw new r("Invalid signature: incorrect length");const{d:s,l:a}=Vr._parseInt(n.subarray(2)),{d:k,l:w}=Vr._parseInt(a);if(w.length)throw new r("Invalid signature: left bytes after parsing");return{r:s,s:k}},hexFromSig(e){const slice=e=>8&Number.parseInt(e[0],16)?"00"+e:e,h=e=>{const r=e.toString(16);return 1&r.length?`0${r}`:r},r=slice(h(e.s)),n=slice(h(e.r)),i=r.length/2,s=n.length/2,a=h(i),k=h(s);return`30${h(s+i+4)}02${k}${n}02${a}${r}`}},qr=BigInt(0),Hr=BigInt(1),Gr=(BigInt(2),BigInt(3));BigInt(4);function weierstrassPoints(e){const r=function validatePointOpts(e){const r=validateBasic(e);validateObject(r,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:i,a:s}=r;if(n){if(!i.eql(s,i.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof n||"bigint"!=typeof n.beta||"function"!=typeof n.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...r})}(e),{Fp:n}=r,i=r.toBytes||((e,r,i)=>{const s=r.toAffine();return abstract_utils_concatBytes(Uint8Array.from([4]),n.toBytes(s.x),n.toBytes(s.y))}),s=r.fromBytes||(e=>{const r=e.subarray(1);return{x:n.fromBytes(r.subarray(0,n.BYTES)),y:n.fromBytes(r.subarray(n.BYTES,2*n.BYTES))}});function weierstrassEquation(e){const{a:i,b:s}=r,a=n.sqr(e),k=n.mul(a,e);return n.add(n.add(k,n.mul(e,i)),s)}if(!n.eql(n.sqr(r.Gy),weierstrassEquation(r.Gx)))throw new Error("bad generator point: equation left != right");function isWithinCurveOrder(e){return"bigint"==typeof e&&qr<e&&e<r.n}function assertGE(e){if(!isWithinCurveOrder(e))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function normPrivateKeyToScalar(e){const{allowedPrivateKeyLengths:n,nByteLength:i,wrapPrivateKey:s,n:a}=r;if(n&&"bigint"!=typeof e){if(abstract_utils_isBytes(e)&&(e=abstract_utils_bytesToHex(e)),"string"!=typeof e||!n.includes(e.length))throw new Error("Invalid key");e=e.padStart(2*i,"0")}let k;try{k="bigint"==typeof e?e:utils_bytesToNumberBE(utils_ensureBytes("private key",e,i))}catch(r){throw new Error(`private key must be ${i} bytes, hex or bigint, not ${typeof e}`)}return s&&(k=modular_mod(k,a)),assertGE(k),k}const a=new Map;function assertPrjPoint(e){if(!(e instanceof Point))throw new Error("ProjectivePoint expected")}class Point{constructor(e,r,i){if(this.px=e,this.py=r,this.pz=i,null==e||!n.isValid(e))throw new Error("x required");if(null==r||!n.isValid(r))throw new Error("y required");if(null==i||!n.isValid(i))throw new Error("z required")}static fromAffine(e){const{x:r,y:i}=e||{};if(!e||!n.isValid(r)||!n.isValid(i))throw new Error("invalid affine point");if(e instanceof Point)throw new Error("projective point not allowed");const is0=e=>n.eql(e,n.ZERO);return is0(r)&&is0(i)?Point.ZERO:new Point(r,i,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const r=n.invertBatch(e.map((e=>e.pz)));return e.map(((e,n)=>e.toAffine(r[n]))).map(Point.fromAffine)}static fromHex(e){const r=Point.fromAffine(s(utils_ensureBytes("pointHex",e)));return r.assertValidity(),r}static fromPrivateKey(e){return Point.BASE.multiply(normPrivateKeyToScalar(e))}_setWindowSize(e){this._WINDOW_SIZE=e,a.delete(this)}assertValidity(){if(this.is0()){if(r.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:e,y:i}=this.toAffine();if(!n.isValid(e)||!n.isValid(i))throw new Error("bad point: x or y not FE");const s=n.sqr(i),a=weierstrassEquation(e);if(!n.eql(s,a))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:e}=this.toAffine();if(n.isOdd)return!n.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){assertPrjPoint(e);const{px:r,py:i,pz:s}=this,{px:a,py:k,pz:w}=e,I=n.eql(n.mul(r,w),n.mul(a,s)),we=n.eql(n.mul(i,w),n.mul(k,s));return I&&we}negate(){return new Point(this.px,n.neg(this.py),this.pz)}double(){const{a:e,b:i}=r,s=n.mul(i,Gr),{px:a,py:k,pz:w}=this;let I=n.ZERO,we=n.ZERO,Ae=n.ZERO,Be=n.mul(a,a),Ce=n.mul(k,k),ze=n.mul(w,w),qe=n.mul(a,k);return qe=n.add(qe,qe),Ae=n.mul(a,w),Ae=n.add(Ae,Ae),I=n.mul(e,Ae),we=n.mul(s,ze),we=n.add(I,we),I=n.sub(Ce,we),we=n.add(Ce,we),we=n.mul(I,we),I=n.mul(qe,I),Ae=n.mul(s,Ae),ze=n.mul(e,ze),qe=n.sub(Be,ze),qe=n.mul(e,qe),qe=n.add(qe,Ae),Ae=n.add(Be,Be),Be=n.add(Ae,Be),Be=n.add(Be,ze),Be=n.mul(Be,qe),we=n.add(we,Be),ze=n.mul(k,w),ze=n.add(ze,ze),Be=n.mul(ze,qe),I=n.sub(I,Be),Ae=n.mul(ze,Ce),Ae=n.add(Ae,Ae),Ae=n.add(Ae,Ae),new Point(I,we,Ae)}add(e){assertPrjPoint(e);const{px:i,py:s,pz:a}=this,{px:k,py:w,pz:I}=e;let we=n.ZERO,Ae=n.ZERO,Be=n.ZERO;const Ce=r.a,ze=n.mul(r.b,Gr);let qe=n.mul(i,k),$e=n.mul(s,w),Ye=n.mul(a,I),Je=n.add(i,s),et=n.add(k,w);Je=n.mul(Je,et),et=n.add(qe,$e),Je=n.sub(Je,et),et=n.add(i,a);let rt=n.add(k,I);return et=n.mul(et,rt),rt=n.add(qe,Ye),et=n.sub(et,rt),rt=n.add(s,a),we=n.add(w,I),rt=n.mul(rt,we),we=n.add($e,Ye),rt=n.sub(rt,we),Be=n.mul(Ce,et),we=n.mul(ze,Ye),Be=n.add(we,Be),we=n.sub($e,Be),Be=n.add($e,Be),Ae=n.mul(we,Be),$e=n.add(qe,qe),$e=n.add($e,qe),Ye=n.mul(Ce,Ye),et=n.mul(ze,et),$e=n.add($e,Ye),Ye=n.sub(qe,Ye),Ye=n.mul(Ce,Ye),et=n.add(et,Ye),qe=n.mul($e,et),Ae=n.add(Ae,qe),qe=n.mul(rt,et),we=n.mul(Je,we),we=n.sub(we,qe),qe=n.mul(Je,$e),Be=n.mul(rt,Be),Be=n.add(Be,qe),new Point(we,Ae,Be)}subtract(e){return this.add(e.negate())}is0(){return this.equals(Point.ZERO)}wNAF(e){return w.wNAFCached(this,a,e,(e=>{const r=n.invertBatch(e.map((e=>e.pz)));return e.map(((e,n)=>e.toAffine(r[n]))).map(Point.fromAffine)}))}multiplyUnsafe(e){const i=Point.ZERO;if(e===qr)return i;if(assertGE(e),e===Hr)return this;const{endo:s}=r;if(!s)return w.unsafeLadder(this,e);let{k1neg:a,k1:k,k2neg:I,k2:we}=s.splitScalar(e),Ae=i,Be=i,Ce=this;for(;k>qr||we>qr;)k&Hr&&(Ae=Ae.add(Ce)),we&Hr&&(Be=Be.add(Ce)),Ce=Ce.double(),k>>=Hr,we>>=Hr;return a&&(Ae=Ae.negate()),I&&(Be=Be.negate()),Be=new Point(n.mul(Be.px,s.beta),Be.py,Be.pz),Ae.add(Be)}multiply(e){assertGE(e);let i,s,a=e;const{endo:k}=r;if(k){const{k1neg:e,k1:r,k2neg:I,k2:we}=k.splitScalar(a);let{p:Ae,f:Be}=this.wNAF(r),{p:Ce,f:ze}=this.wNAF(we);Ae=w.constTimeNegate(e,Ae),Ce=w.constTimeNegate(I,Ce),Ce=new Point(n.mul(Ce.px,k.beta),Ce.py,Ce.pz),i=Ae.add(Ce),s=Be.add(ze)}else{const{p:e,f:r}=this.wNAF(a);i=e,s=r}return Point.normalizeZ([i,s])[0]}multiplyAndAddUnsafe(e,r,n){const i=Point.BASE,mul=(e,r)=>r!==qr&&r!==Hr&&e.equals(i)?e.multiply(r):e.multiplyUnsafe(r),s=mul(this,r).add(mul(e,n));return s.is0()?void 0:s}toAffine(e){const{px:r,py:i,pz:s}=this,a=this.is0();null==e&&(e=a?n.ONE:n.inv(s));const k=n.mul(r,e),w=n.mul(i,e),I=n.mul(s,e);if(a)return{x:n.ZERO,y:n.ZERO};if(!n.eql(I,n.ONE))throw new Error("invZ was invalid");return{x:k,y:w}}isTorsionFree(){const{h:e,isTorsionFree:n}=r;if(e===Hr)return!0;if(n)return n(Point,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:n}=r;return e===Hr?this:n?n(Point,this):this.multiplyUnsafe(r.h)}toRawBytes(e=!0){return this.assertValidity(),i(Point,this,e)}toHex(e=!0){return abstract_utils_bytesToHex(this.toRawBytes(e))}}Point.BASE=new Point(r.Gx,r.Gy,n.ONE),Point.ZERO=new Point(n.ZERO,n.ONE,n.ZERO);const k=r.nBitLength,w=wNAF(Point,r.endo?Math.ceil(k/2):k);return{CURVE:r,ProjectivePoint:Point,normPrivateKeyToScalar,weierstrassEquation,isWithinCurveOrder}}function weierstrass(e){const r=function weierstrass_validateOpts(e){const r=validateBasic(e);return validateObject(r,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...r})}(e),{Fp:n,n:i}=r,s=n.BYTES+1,a=2*n.BYTES+1;function modN(e){return modular_mod(e,i)}function invN(e){return invert(e,i)}const{ProjectivePoint:k,normPrivateKeyToScalar:w,weierstrassEquation:I,isWithinCurveOrder:we}=weierstrassPoints({...r,toBytes(e,r,i){const s=r.toAffine(),a=n.toBytes(s.x),k=abstract_utils_concatBytes;return i?k(Uint8Array.from([r.hasEvenY()?2:3]),a):k(Uint8Array.from([4]),a,n.toBytes(s.y))},fromBytes(e){const r=e.length,i=e[0],k=e.subarray(1);if(r!==s||2!==i&&3!==i){if(r===a&&4===i){return{x:n.fromBytes(k.subarray(0,n.BYTES)),y:n.fromBytes(k.subarray(n.BYTES,2*n.BYTES))}}throw new Error(`Point of length ${r} was invalid. Expected ${s} compressed bytes or ${a} uncompressed bytes`)}{const e=utils_bytesToNumberBE(k);if(!function isValidFieldElement(e){return qr<e&&e<n.ORDER}(e))throw new Error("Point is not on curve");const r=I(e);let s;try{s=n.sqrt(r)}catch(e){const r=e instanceof Error?": "+e.message:"";throw new Error("Point is not on curve"+r)}return!(1&~i)!==((s&Hr)===Hr)&&(s=n.neg(s)),{x:e,y:s}}}}),numToNByteStr=e=>abstract_utils_bytesToHex(utils_numberToBytesBE(e,r.nByteLength));function isBiggerThanHalfOrder(e){return e>i>>Hr}const slcNum=(e,r,n)=>utils_bytesToNumberBE(e.slice(r,n));class Signature{constructor(e,r,n){this.r=e,this.s=r,this.recovery=n,this.assertValidity()}static fromCompact(e){const n=r.nByteLength;return e=utils_ensureBytes("compactSignature",e,2*n),new Signature(slcNum(e,0,n),slcNum(e,n,2*n))}static fromDER(e){const{r,s:n}=Vr.toSig(utils_ensureBytes("DER",e));return new Signature(r,n)}assertValidity(){if(!we(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!we(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new Signature(this.r,this.s,e)}recoverPublicKey(e){const{r:i,s,recovery:a}=this,w=Ce(utils_ensureBytes("msgHash",e));if(null==a||![0,1,2,3].includes(a))throw new Error("recovery id invalid");const I=2===a||3===a?i+r.n:i;if(I>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const we=1&a?"03":"02",Ae=k.fromHex(we+numToNByteStr(I)),Be=invN(I),ze=modN(-w*Be),qe=modN(s*Be),$e=k.BASE.multiplyAndAddUnsafe(Ae,ze,qe);if(!$e)throw new Error("point at infinify");return $e.assertValidity(),$e}hasHighS(){return isBiggerThanHalfOrder(this.s)}normalizeS(){return this.hasHighS()?new Signature(this.r,modN(-this.s),this.recovery):this}toDERRawBytes(){return utils_hexToBytes(this.toDERHex())}toDERHex(){return Vr.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return utils_hexToBytes(this.toCompactHex())}toCompactHex(){return numToNByteStr(this.r)+numToNByteStr(this.s)}}const Ae={isValidPrivateKey(e){try{return w(e),!0}catch(e){return!1}},normPrivateKeyToScalar:w,randomPrivateKey:()=>{const e=getMinHashLength(r.n);return function mapHashToField(e,r,n=!1){const i=e.length,s=getFieldBytesLength(r),a=getMinHashLength(r);if(i<16||i<a||i>1024)throw new Error(`expected ${a}-1024 bytes of input, got ${i}`);const k=modular_mod(n?utils_bytesToNumberBE(e):utils_bytesToNumberLE(e),r-ot)+ot;return n?utils_numberToBytesLE(k,s):utils_numberToBytesBE(k,s)}(r.randomBytes(e),r.n)},precompute:(e=8,r=k.BASE)=>(r._setWindowSize(e),r.multiply(BigInt(3)),r)};function isProbPub(e){const r=abstract_utils_isBytes(e),n="string"==typeof e,i=(r||n)&&e.length;return r?i===s||i===a:n?i===2*s||i===2*a:e instanceof k}const Be=r.bits2int||function(e){const n=utils_bytesToNumberBE(e),i=8*e.length-r.nBitLength;return i>0?n>>BigInt(i):n},Ce=r.bits2int_modN||function(e){return modN(Be(e))},ze=bitMask(r.nBitLength);function int2octets(e){if("bigint"!=typeof e)throw new Error("bigint expected");if(!(qr<=e&&e<ze))throw new Error(`bigint expected < 2^${r.nBitLength}`);return utils_numberToBytesBE(e,r.nByteLength)}function prepSig(e,i,s=qe){if(["recovered","canonical"].some((e=>e in s)))throw new Error("sign() legacy options not supported");const{hash:a,randomBytes:I}=r;let{lowS:Ae,prehash:ze,extraEntropy:$e}=s;null==Ae&&(Ae=!0),e=utils_ensureBytes("msgHash",e),ze&&(e=utils_ensureBytes("prehashed msgHash",a(e)));const Ye=Ce(e),Je=w(i),et=[int2octets(Je),int2octets(Ye)];if(null!=$e&&!1!==$e){const e=!0===$e?I(n.BYTES):$e;et.push(utils_ensureBytes("extraEntropy",e))}const rt=abstract_utils_concatBytes(...et),it=Ye;return{seed:rt,k2sig:function k2sig(e){const r=Be(e);if(!we(r))return;const n=invN(r),i=k.BASE.multiply(r).toAffine(),s=modN(i.x);if(s===qr)return;const a=modN(n*modN(it+s*Je));if(a===qr)return;let w=(i.x===s?0:2)|Number(i.y&Hr),I=a;return Ae&&isBiggerThanHalfOrder(a)&&(I=function normalizeS(e){return isBiggerThanHalfOrder(e)?modN(-e):e}(a),w^=1),new Signature(s,I,w)}}}const qe={lowS:r.lowS,prehash:!1},$e={lowS:r.lowS,prehash:!1};return k.BASE._setWindowSize(8),{CURVE:r,getPublicKey:function getPublicKey(e,r=!0){return k.fromPrivateKey(e).toRawBytes(r)},getSharedSecret:function getSharedSecret(e,r,n=!0){if(isProbPub(e))throw new Error("first arg must be private key");if(!isProbPub(r))throw new Error("second arg must be public key");return k.fromHex(r).multiply(w(e)).toRawBytes(n)},sign:function sign(e,n,i=qe){const{seed:s,k2sig:a}=prepSig(e,n,i),k=r;return createHmacDrbg(k.hash.outputLen,k.nByteLength,k.hmac)(s,a)},verify:function verify(e,n,i,s=$e){const a=e;if(n=utils_ensureBytes("msgHash",n),i=utils_ensureBytes("publicKey",i),"strict"in s)throw new Error("options.strict was renamed to lowS");const{lowS:w,prehash:I}=s;let we,Ae;try{if("string"==typeof a||abstract_utils_isBytes(a))try{we=Signature.fromDER(a)}catch(e){if(!(e instanceof Vr.Err))throw e;we=Signature.fromCompact(a)}else{if("object"!=typeof a||"bigint"!=typeof a.r||"bigint"!=typeof a.s)throw new Error("PARSE");{const{r:e,s:r}=a;we=new Signature(e,r)}}Ae=k.fromHex(i)}catch(e){if("PARSE"===e.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(w&&we.hasHighS())return!1;I&&(n=r.hash(n));const{r:Be,s:ze}=we,qe=Ce(n),Ye=invN(ze),Je=modN(qe*Ye),et=modN(Be*Ye),rt=k.BASE.multiplyAndAddUnsafe(Ae,Je,et)?.toAffine();return!!rt&&modN(rt.x)===Be},ProjectivePoint:k,Signature,utils:Ae}}function getHash(e){return{hash:e,hmac:(r,...n)=>hmac(e,r,utils_concatBytes(...n)),randomBytes:utils_randomBytes}}const $r=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Yr=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Zr=BigInt(1),Jr=BigInt(2),divNearest=(e,r)=>(e+r/Jr)/r;function sqrtMod(e){const r=$r,n=BigInt(3),i=BigInt(6),s=BigInt(11),a=BigInt(22),k=BigInt(23),w=BigInt(44),I=BigInt(88),we=e*e*e%r,Ae=we*we*e%r,Be=modular_pow2(Ae,n,r)*Ae%r,Ce=modular_pow2(Be,n,r)*Ae%r,ze=modular_pow2(Ce,Jr,r)*we%r,qe=modular_pow2(ze,s,r)*ze%r,$e=modular_pow2(qe,a,r)*qe%r,Ye=modular_pow2($e,w,r)*$e%r,Je=modular_pow2(Ye,I,r)*Ye%r,et=modular_pow2(Je,w,r)*$e%r,rt=modular_pow2(et,n,r)*Ae%r,it=modular_pow2(rt,k,r)*qe%r,ot=modular_pow2(it,i,r)*we%r,ht=modular_pow2(ot,Jr,r);if(!Qr.eql(Qr.sqr(ht),e))throw new Error("Cannot find square root");return ht}const Qr=Field($r,void 0,void 0,{sqrt:sqrtMod}),Xr=function createCurve(e,r){const create=r=>weierstrass({...e,...getHash(r)});return Object.freeze({...create(r),create})}({a:BigInt(0),b:BigInt(7),Fp:Qr,n:Yr,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const r=Yr,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),i=-Zr*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),a=n,k=BigInt("0x100000000000000000000000000000000"),w=divNearest(a*e,r),I=divNearest(-i*e,r);let we=modular_mod(e-w*n-I*s,r),Ae=modular_mod(-w*i-I*a,r);const Be=we>k,Ce=Ae>k;if(Be&&(we=r-we),Ce&&(Ae=r-Ae),we>k||Ae>k)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:Be,k1:we,k2neg:Ce,k2:Ae}}}},Ir);BigInt(0);Xr.ProjectivePoint;const sn=hr.utils.randomPrivateKey,generateKeypair=()=>{const e=hr.utils.randomPrivateKey(),r=an(e),n=new Uint8Array(64);return n.set(e),n.set(r,32),{publicKey:r,secretKey:n}},an=hr.getPublicKey;function isOnCurve(e){try{return hr.ExtendedPoint.fromHex(e),!0}catch{return!1}}const sign=(e,r)=>hr.sign(e,r.slice(0,32)),cn=hr.verify,toBuffer=e=>s.Buffer.isBuffer(e)?e:e instanceof Uint8Array?s.Buffer.from(e.buffer,e.byteOffset,e.byteLength):s.Buffer.from(e);class Struct{constructor(e){Object.assign(this,e)}encode(){return s.Buffer.from((0,_r.serialize)(un,this))}static decode(e){return(0,_r.deserialize)(un,this,e)}static decodeUnchecked(e){return(0,_r.deserializeUnchecked)(un,this,e)}}class Enum extends Struct{constructor(e){if(super(e),this.enum="",1!==Object.keys(e).length)throw new Error("Enum can only take single value");Object.keys(e).map((e=>{this.enum=e}))}}const un=new Map;var dn;const ln=32,pn=32;let gn=1;class PublicKey extends Struct{constructor(e){if(super({}),this._bn=void 0,function isPublicKeyData(e){return void 0!==e._bn}(e))this._bn=e._bn;else{if("string"==typeof e){const r=mr().decode(e);if(r.length!=pn)throw new Error("Invalid public key input");this._bn=new(gr())(r)}else this._bn=new(gr())(e);if(this._bn.byteLength()>pn)throw new Error("Invalid public key input")}}static unique(){const e=new PublicKey(gn);return gn+=1,new PublicKey(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return mr().encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(s.Buffer);if(e.length===pn)return e;const r=s.Buffer.alloc(32);return e.copy(r,32-e.length),r}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,r,n){const i=s.Buffer.concat([e.toBuffer(),s.Buffer.from(r),n.toBuffer()]),a=Ir(i);return new PublicKey(a)}static createProgramAddressSync(e,r){let n=s.Buffer.alloc(0);e.forEach((function(e){if(e.length>ln)throw new TypeError("Max seed length exceeded");n=s.Buffer.concat([n,toBuffer(e)])})),n=s.Buffer.concat([n,r.toBuffer(),s.Buffer.from("ProgramDerivedAddress")]);const i=Ir(n);if(isOnCurve(i))throw new Error("Invalid seeds, address must fall off the curve");return new PublicKey(i)}static async createProgramAddress(e,r){return this.createProgramAddressSync(e,r)}static findProgramAddressSync(e,r){let n,i=255;for(;0!=i;){try{const a=e.concat(s.Buffer.from([i]));n=this.createProgramAddressSync(a,r)}catch(e){if(e instanceof TypeError)throw e;i--;continue}return[n,i]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,r){return this.findProgramAddressSync(e,r)}static isOnCurve(e){return isOnCurve(new PublicKey(e).toBytes())}}dn=PublicKey,PublicKey.default=new dn("11111111111111111111111111111111"),un.set(PublicKey,{kind:"struct",fields:[["_bn","u256"]]});class Account{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const r=toBuffer(e);if(64!==e.length)throw new Error("bad secret key size");this._publicKey=r.slice(32,64),this._secretKey=r.slice(0,32)}else this._secretKey=toBuffer(sn()),this._publicKey=toBuffer(an(this._secretKey))}get publicKey(){return new PublicKey(this._publicKey)}get secretKey(){return s.Buffer.concat([this._secretKey,this._publicKey],64)}}const yn=new PublicKey("BPFLoader1111111111111111111111111111111111"),mn=1232,bn=127,kn=64;class TransactionExpiredBlockheightExceededError extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(TransactionExpiredBlockheightExceededError.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class TransactionExpiredTimeoutError extends Error{constructor(e,r){super(`Transaction was not confirmed in ${r.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(TransactionExpiredTimeoutError.prototype,"name",{value:"TransactionExpiredTimeoutError"});class TransactionExpiredNonceInvalidError extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(TransactionExpiredNonceInvalidError.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class MessageAccountKeys{constructor(e,r){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=r}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const r of this.keySegments()){if(e<r.length)return r[e];e-=r.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach(((e,n)=>{r.set(e.toBase58(),n)}));const findKeyIndex=e=>{const n=r.get(e.toBase58());if(void 0===n)throw new Error("Encountered an unknown instruction account key during compilation");return n};return e.map((e=>({programIdIndex:findKeyIndex(e.programId),accountKeyIndexes:e.keys.map((e=>findKeyIndex(e.pubkey))),data:e.data})))}}const publicKey=(e="publicKey")=>Sr.blob(32,e),signature=(e="signature")=>Sr.blob(64,e),rustString=(e="string")=>{const r=Sr.struct([Sr.u32("length"),Sr.u32("lengthPadding"),Sr.blob(Sr.offset(Sr.u32(),-8),"chars")],e),n=r.decode.bind(r),i=r.encode.bind(r),a=r;return a.decode=(e,r)=>n(e,r).chars.toString(),a.encode=(e,r,n)=>{const a={chars:s.Buffer.from(e,"utf8")};return i(a,r,n)},a.alloc=e=>Sr.u32().span+Sr.u32().span+s.Buffer.from(e,"utf8").length,a};function getAlloc(e,r){const getItemAlloc=e=>{if(e.span>=0)return e.span;if("function"==typeof e.alloc)return e.alloc(r[e.property]);if("count"in e&&"elementLayout"in e){const n=r[e.property];if(Array.isArray(n))return n.length*getItemAlloc(e.elementLayout)}else if("fields"in e)return getAlloc({layout:e},r[e.property]);return 0};let n=0;return e.layout.fields.forEach((e=>{n+=getItemAlloc(e)})),n}function decodeLength(e){let r=0,n=0;for(;;){let i=e.shift();if(r|=(127&i)<<7*n,n+=1,!(128&i))break}return r}function encodeLength(e,r){let n=r;for(;;){let r=127&n;if(n>>=7,0==n){e.push(r);break}r|=128,e.push(r)}}function index_browser_esm_assert(e,r){if(!e)throw new Error(r||"Assertion failed")}class CompiledKeys{constructor(e,r){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=r}static compile(e,r){const n=new Map,getOrInsertDefault=e=>{const r=e.toBase58();let i=n.get(r);return void 0===i&&(i={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(r,i)),i},i=getOrInsertDefault(r);i.isSigner=!0,i.isWritable=!0;for(const r of e){getOrInsertDefault(r.programId).isInvoked=!0;for(const e of r.keys){const r=getOrInsertDefault(e.pubkey);r.isSigner||=e.isSigner,r.isWritable||=e.isWritable}}return new CompiledKeys(r,n)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];index_browser_esm_assert(e.length<=256,"Max static account keys length exceeded");const r=e.filter((([,e])=>e.isSigner&&e.isWritable)),n=e.filter((([,e])=>e.isSigner&&!e.isWritable)),i=e.filter((([,e])=>!e.isSigner&&e.isWritable)),s=e.filter((([,e])=>!e.isSigner&&!e.isWritable)),a={numRequiredSignatures:r.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:s.length};{index_browser_esm_assert(r.length>0,"Expected at least one writable signer key");const[e]=r[0];index_browser_esm_assert(e===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}return[a,[...r.map((([e])=>new PublicKey(e))),...n.map((([e])=>new PublicKey(e))),...i.map((([e])=>new PublicKey(e))),...s.map((([e])=>new PublicKey(e)))]]}extractTableLookup(e){const[r,n]=this.drainKeysFoundInLookupTable(e.state.addresses,(e=>!e.isSigner&&!e.isInvoked&&e.isWritable)),[i,s]=this.drainKeysFoundInLookupTable(e.state.addresses,(e=>!e.isSigner&&!e.isInvoked&&!e.isWritable));if(0!==r.length||0!==i.length)return[{accountKey:e.key,writableIndexes:r,readonlyIndexes:i},{writable:n,readonly:s}]}drainKeysFoundInLookupTable(e,r){const n=new Array,i=new Array;for(const[s,a]of this.keyMetaMap.entries())if(r(a)){const r=new PublicKey(s),a=e.findIndex((e=>e.equals(r)));a>=0&&(index_browser_esm_assert(a<256,"Max lookup table index exceeded"),n.push(a),i.push(r),this.keyMetaMap.delete(s))}return[n,i]}}const In="Reached end of buffer unexpectedly";function guardedShift(e){if(0===e.length)throw new Error(In);return e.shift()}function guardedSplice(e,...r){const[n]=r;if(2===r.length?n+(r[1]??0)>e.length:n>=e.length)throw new Error(In);return e.splice(...r)}class Message{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map((e=>new PublicKey(e))),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach((e=>this.indexToProgramIds.set(e.programIdIndex,this.accountKeys[e.programIdIndex])))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map((e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:mr().decode(e.data)})))}get addressTableLookups(){return[]}getAccountKeys(){return new MessageAccountKeys(this.staticAccountKeys)}static compile(e){const r=CompiledKeys.compile(e.instructions,e.payerKey),[n,i]=r.getMessageComponents(),s=new MessageAccountKeys(i).compileInstructions(e.instructions).map((e=>({programIdIndex:e.programIdIndex,accounts:e.accountKeyIndexes,data:mr().encode(e.data)})));return new Message({header:n,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:s})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const r=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){return e-r<this.accountKeys.length-r-this.header.numReadonlyUnsignedAccounts}return e<r-this.header.numReadonlySignedAccounts}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter(((e,r)=>!this.isProgramId(r)))}serialize(){const e=this.accountKeys.length;let r=[];encodeLength(r,e);const n=this.instructions.map((e=>{const{accounts:r,programIdIndex:n}=e,i=Array.from(mr().decode(e.data));let a=[];encodeLength(a,r.length);let k=[];return encodeLength(k,i.length),{programIdIndex:n,keyIndicesCount:s.Buffer.from(a),keyIndices:r,dataLength:s.Buffer.from(k),data:i}}));let i=[];encodeLength(i,n.length);let a=s.Buffer.alloc(mn);s.Buffer.from(i).copy(a);let k=i.length;n.forEach((e=>{const r=Sr.struct([Sr.u8("programIdIndex"),Sr.blob(e.keyIndicesCount.length,"keyIndicesCount"),Sr.seq(Sr.u8("keyIndex"),e.keyIndices.length,"keyIndices"),Sr.blob(e.dataLength.length,"dataLength"),Sr.seq(Sr.u8("userdatum"),e.data.length,"data")]).encode(e,a,k);k+=r})),a=a.slice(0,k);const w=Sr.struct([Sr.blob(1,"numRequiredSignatures"),Sr.blob(1,"numReadonlySignedAccounts"),Sr.blob(1,"numReadonlyUnsignedAccounts"),Sr.blob(r.length,"keyCount"),Sr.seq(publicKey("key"),e,"keys"),publicKey("recentBlockhash")]),I={numRequiredSignatures:s.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:s.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:s.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:s.Buffer.from(r),keys:this.accountKeys.map((e=>toBuffer(e.toBytes()))),recentBlockhash:mr().decode(this.recentBlockhash)};let we=s.Buffer.alloc(2048);const Ae=w.encode(I,we);return a.copy(we,Ae),we.slice(0,Ae+a.length)}static from(e){let r=[...e];const n=guardedShift(r);if(n!==(n&bn))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=guardedShift(r),a=guardedShift(r),k=decodeLength(r);let w=[];for(let e=0;e<k;e++){const e=guardedSplice(r,0,pn);w.push(new PublicKey(s.Buffer.from(e)))}const I=guardedSplice(r,0,pn),we=decodeLength(r);let Ae=[];for(let e=0;e<we;e++){const e=guardedShift(r),n=guardedSplice(r,0,decodeLength(r)),i=guardedSplice(r,0,decodeLength(r)),a=mr().encode(s.Buffer.from(i));Ae.push({programIdIndex:e,accounts:n,data:a})}const Be={header:{numRequiredSignatures:n,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:a},recentBlockhash:mr().encode(s.Buffer.from(I)),accountKeys:w,instructions:Ae};return new Message(Be)}}class MessageV0{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const r of this.addressTableLookups)e+=r.readonlyIndexes.length+r.writableIndexes.length;return e}getAccountKeys(e){let r;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");r=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)r=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new MessageAccountKeys(this.staticAccountKeys,r)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const r=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(e>=n){return e-n<this.addressTableLookups.reduce(((e,r)=>e+r.writableIndexes.length),0)}if(e>=this.header.numRequiredSignatures){return e-r<n-r-this.header.numReadonlyUnsignedAccounts}return e<r-this.header.numReadonlySignedAccounts}resolveAddressTableLookups(e){const r={writable:[],readonly:[]};for(const n of this.addressTableLookups){const i=e.find((e=>e.key.equals(n.accountKey)));if(!i)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(const e of n.writableIndexes){if(!(e<i.state.addresses.length))throw new Error(`Failed to find address for index ${e} in address lookup table ${n.accountKey.toBase58()}`);r.writable.push(i.state.addresses[e])}for(const e of n.readonlyIndexes){if(!(e<i.state.addresses.length))throw new Error(`Failed to find address for index ${e} in address lookup table ${n.accountKey.toBase58()}`);r.readonly.push(i.state.addresses[e])}}return r}static compile(e){const r=CompiledKeys.compile(e.instructions,e.payerKey),n=new Array,i={writable:new Array,readonly:new Array},s=e.addressLookupTableAccounts||[];for(const e of s){const s=r.extractTableLookup(e);if(void 0!==s){const[e,{writable:r,readonly:a}]=s;n.push(e),i.writable.push(...r),i.readonly.push(...a)}}const[a,k]=r.getMessageComponents(),w=new MessageAccountKeys(k,i).compileInstructions(e.instructions);return new MessageV0({header:a,staticAccountKeys:k,recentBlockhash:e.recentBlockhash,compiledInstructions:w,addressTableLookups:n})}serialize(){const e=Array();encodeLength(e,this.staticAccountKeys.length);const r=this.serializeInstructions(),n=Array();encodeLength(n,this.compiledInstructions.length);const i=this.serializeAddressTableLookups(),s=Array();encodeLength(s,this.addressTableLookups.length);const a=Sr.struct([Sr.u8("prefix"),Sr.struct([Sr.u8("numRequiredSignatures"),Sr.u8("numReadonlySignedAccounts"),Sr.u8("numReadonlyUnsignedAccounts")],"header"),Sr.blob(e.length,"staticAccountKeysLength"),Sr.seq(publicKey(),this.staticAccountKeys.length,"staticAccountKeys"),publicKey("recentBlockhash"),Sr.blob(n.length,"instructionsLength"),Sr.blob(r.length,"serializedInstructions"),Sr.blob(s.length,"addressTableLookupsLength"),Sr.blob(i.length,"serializedAddressTableLookups")]),k=new Uint8Array(mn),w=a.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map((e=>e.toBytes())),recentBlockhash:mr().decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:r,addressTableLookupsLength:new Uint8Array(s),serializedAddressTableLookups:i},k);return k.slice(0,w)}serializeInstructions(){let e=0;const r=new Uint8Array(mn);for(const n of this.compiledInstructions){const i=Array();encodeLength(i,n.accountKeyIndexes.length);const s=Array();encodeLength(s,n.data.length);e+=Sr.struct([Sr.u8("programIdIndex"),Sr.blob(i.length,"encodedAccountKeyIndexesLength"),Sr.seq(Sr.u8(),n.accountKeyIndexes.length,"accountKeyIndexes"),Sr.blob(s.length,"encodedDataLength"),Sr.blob(n.data.length,"data")]).encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(s),data:n.data},r,e)}return r.slice(0,e)}serializeAddressTableLookups(){let e=0;const r=new Uint8Array(mn);for(const n of this.addressTableLookups){const i=Array();encodeLength(i,n.writableIndexes.length);const s=Array();encodeLength(s,n.readonlyIndexes.length);e+=Sr.struct([publicKey("accountKey"),Sr.blob(i.length,"encodedWritableIndexesLength"),Sr.seq(Sr.u8(),n.writableIndexes.length,"writableIndexes"),Sr.blob(s.length,"encodedReadonlyIndexesLength"),Sr.seq(Sr.u8(),n.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(s),readonlyIndexes:n.readonlyIndexes},r,e)}return r.slice(0,e)}static deserialize(e){let r=[...e];const n=guardedShift(r),i=n&bn;index_browser_esm_assert(n!==i,"Expected versioned message but received legacy message");index_browser_esm_assert(0===i,`Expected versioned message with version 0 but found version ${i}`);const s={numRequiredSignatures:guardedShift(r),numReadonlySignedAccounts:guardedShift(r),numReadonlyUnsignedAccounts:guardedShift(r)},a=[],k=decodeLength(r);for(let e=0;e<k;e++)a.push(new PublicKey(guardedSplice(r,0,pn)));const w=mr().encode(guardedSplice(r,0,pn)),I=decodeLength(r),we=[];for(let e=0;e<I;e++){const e=guardedShift(r),n=guardedSplice(r,0,decodeLength(r)),i=decodeLength(r),s=new Uint8Array(guardedSplice(r,0,i));we.push({programIdIndex:e,accountKeyIndexes:n,data:s})}const Ae=decodeLength(r),Be=[];for(let e=0;e<Ae;e++){const e=new PublicKey(guardedSplice(r,0,pn)),n=guardedSplice(r,0,decodeLength(r)),i=guardedSplice(r,0,decodeLength(r));Be.push({accountKey:e,writableIndexes:n,readonlyIndexes:i})}return new MessageV0({header:s,staticAccountKeys:a,recentBlockhash:w,compiledInstructions:we,addressTableLookups:Be})}}const Mn={deserializeMessageVersion(e){const r=e[0],n=r&bn;return n===r?"legacy":n},deserialize:e=>{const r=Mn.deserializeMessageVersion(e);if("legacy"===r)return Message.from(e);if(0===r)return MessageV0.deserialize(e);throw new Error(`Transaction message version ${r} deserialization is not supported`)}};let Bn=function(e){return e[e.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",e[e.PROCESSED=1]="PROCESSED",e[e.TIMED_OUT=2]="TIMED_OUT",e[e.NONCE_INVALID=3]="NONCE_INVALID",e}({});const Cn=s.Buffer.alloc(kn).fill(0);class TransactionInstruction{constructor(e){this.keys=void 0,this.programId=void 0,this.data=s.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map((({pubkey:e,isSigner:r,isWritable:n})=>({pubkey:e.toJSON(),isSigner:r,isWritable:n}))),programId:this.programId.toJSON(),data:[...this.data]}}}class Transaction{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:r,nonceInfo:n}=e;this.minNonceContextSlot=r,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:r,lastValidBlockHeight:n}=e;this.recentBlockhash=r,this.lastValidBlockHeight=n}else{const{recentBlockhash:r,nonceInfo:n}=e;n&&(this.nonceInfo=n),this.recentBlockhash=r}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map((e=>e.toJSON())),signers:this.signatures.map((({publicKey:e})=>e.toJSON()))}}add(...e){if(0===e.length)throw new Error("No instructions");return e.forEach((e=>{"instructions"in e?this.instructions=this.instructions.concat(e.instructions):"data"in e&&"programId"in e&&"keys"in e?this.instructions.push(e):this.instructions.push(new TransactionInstruction(e))})),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,r,n;if(this.nonceInfo?(e=this.nonceInfo.nonce,r=this.instructions[0]!=this.nonceInfo.nonceInstruction?[this.nonceInfo.nonceInstruction,...this.instructions]:this.instructions):(e=this.recentBlockhash,r=this.instructions),!e)throw new Error("Transaction recentBlockhash required");if(r.length<1&&console.warn("No instructions provided"),this.feePayer)n=this.feePayer;else{if(!(this.signatures.length>0&&this.signatures[0].publicKey))throw new Error("Transaction fee payer required");n=this.signatures[0].publicKey}for(let e=0;e<r.length;e++)if(void 0===r[e].programId)throw new Error(`Transaction instruction index ${e} has undefined program id`);const i=[],s=[];r.forEach((e=>{e.keys.forEach((e=>{s.push({...e})}));const r=e.programId.toString();i.includes(r)||i.push(r)})),i.forEach((e=>{s.push({pubkey:new PublicKey(e),isSigner:!1,isWritable:!1})}));const a=[];s.forEach((e=>{const r=e.pubkey.toString(),n=a.findIndex((e=>e.pubkey.toString()===r));n>-1?(a[n].isWritable=a[n].isWritable||e.isWritable,a[n].isSigner=a[n].isSigner||e.isSigner):a.push(e)})),a.sort((function(e,r){if(e.isSigner!==r.isSigner)return e.isSigner?-1:1;if(e.isWritable!==r.isWritable)return e.isWritable?-1:1;return e.pubkey.toBase58().localeCompare(r.pubkey.toBase58(),"en",{localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"})}));const k=a.findIndex((e=>e.pubkey.equals(n)));if(k>-1){const[e]=a.splice(k,1);e.isSigner=!0,e.isWritable=!0,a.unshift(e)}else a.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(const e of this.signatures){const r=a.findIndex((r=>r.pubkey.equals(e.publicKey)));if(!(r>-1))throw new Error(`unknown signer: ${e.publicKey.toString()}`);a[r].isSigner||(a[r].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."))}let w=0,I=0,we=0;const Ae=[],Be=[];a.forEach((({pubkey:e,isSigner:r,isWritable:n})=>{r?(Ae.push(e.toString()),w+=1,n||(I+=1)):(Be.push(e.toString()),n||(we+=1))}));const Ce=Ae.concat(Be),ze=r.map((e=>{const{data:r,programId:n}=e;return{programIdIndex:Ce.indexOf(n.toString()),accounts:e.keys.map((e=>Ce.indexOf(e.pubkey.toString()))),data:mr().encode(r)}}));return ze.forEach((e=>{index_browser_esm_assert(e.programIdIndex>=0),e.accounts.forEach((e=>index_browser_esm_assert(e>=0)))})),new Message({header:{numRequiredSignatures:w,numReadonlySignedAccounts:I,numReadonlyUnsignedAccounts:we},accountKeys:Ce,recentBlockhash:e,instructions:ze})}_compile(){const e=this.compileMessage(),r=e.accountKeys.slice(0,e.header.numRequiredSignatures);if(this.signatures.length===r.length){if(this.signatures.every(((e,n)=>r[n].equals(e.publicKey))))return e}return this.signatures=r.map((e=>({signature:null,publicKey:e}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(0===e.length)throw new Error("No signers");const r=new Set;this.signatures=e.filter((e=>{const n=e.toString();return!r.has(n)&&(r.add(n),!0)})).map((e=>({signature:null,publicKey:e})))}sign(...e){if(0===e.length)throw new Error("No signers");const r=new Set,n=[];for(const i of e){const e=i.publicKey.toString();r.has(e)||(r.add(e),n.push(i))}this.signatures=n.map((e=>({signature:null,publicKey:e.publicKey})));const i=this._compile();this._partialSign(i,...n)}partialSign(...e){if(0===e.length)throw new Error("No signers");const r=new Set,n=[];for(const i of e){const e=i.publicKey.toString();r.has(e)||(r.add(e),n.push(i))}const i=this._compile();this._partialSign(i,...n)}_partialSign(e,...r){const n=e.serialize();r.forEach((e=>{const r=sign(n,e.secretKey);this._addSignature(e.publicKey,toBuffer(r))}))}addSignature(e,r){this._compile(),this._addSignature(e,r)}_addSignature(e,r){index_browser_esm_assert(64===r.length);const n=this.signatures.findIndex((r=>e.equals(r.publicKey)));if(n<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[n].signature=s.Buffer.from(r)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,r){const n={};for(const{signature:i,publicKey:s}of this.signatures)null===i?r&&(n.missing||=[]).push(s):cn(i,e,s.toBytes())||(n.invalid||=[]).push(s);return n.invalid||n.missing?n:void 0}serialize(e){const{requireAllSignatures:r,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(n){const e=this._getMessageSignednessErrors(i,r);if(e){let r="Signature verification failed.";throw e.invalid&&(r+=`\nInvalid signature for public key${1===e.invalid.length?"":"(s)"} [\`${e.invalid.map((e=>e.toBase58())).join("`, `")}\`].`),e.missing&&(r+=`\nMissing signature for public key${1===e.missing.length?"":"(s)"} [\`${e.missing.map((e=>e.toBase58())).join("`, `")}\`].`),new Error(r)}}return this._serialize(i)}_serialize(e){const{signatures:r}=this,n=[];encodeLength(n,r.length);const i=n.length+64*r.length+e.length,a=s.Buffer.alloc(i);return index_browser_esm_assert(r.length<256),s.Buffer.from(n).copy(a,0),r.forEach((({signature:e},r)=>{null!==e&&(index_browser_esm_assert(64===e.length,"signature has invalid length"),s.Buffer.from(e).copy(a,n.length+64*r))})),e.copy(a,n.length+64*r.length),index_browser_esm_assert(a.length<=mn,`Transaction too large: ${a.length} > ${mn}`),a}get keys(){return index_browser_esm_assert(1===this.instructions.length),this.instructions[0].keys.map((e=>e.pubkey))}get programId(){return index_browser_esm_assert(1===this.instructions.length),this.instructions[0].programId}get data(){return index_browser_esm_assert(1===this.instructions.length),this.instructions[0].data}static from(e){let r=[...e];const n=decodeLength(r);let i=[];for(let e=0;e<n;e++){const e=guardedSplice(r,0,kn);i.push(mr().encode(s.Buffer.from(e)))}return Transaction.populate(Message.from(r),i)}static populate(e,r=[]){const n=new Transaction;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),r.forEach(((r,i)=>{const s={signature:r==mr().encode(Cn)?null:mr().decode(r),publicKey:e.accountKeys[i]};n.signatures.push(s)})),e.instructions.forEach((r=>{const i=r.accounts.map((r=>{const i=e.accountKeys[r];return{pubkey:i,isSigner:n.signatures.some((e=>e.publicKey.toString()===i.toString()))||e.isAccountSigner(r),isWritable:e.isAccountWritable(r)}}));n.instructions.push(new TransactionInstruction({keys:i,programId:e.accountKeys[r.programIdIndex],data:mr().decode(r.data)}))})),n._message=e,n._json=n.toJSON(),n}}class TransactionMessage{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,r){const{header:n,compiledInstructions:i,recentBlockhash:s}=e,{numRequiredSignatures:a,numReadonlySignedAccounts:k,numReadonlyUnsignedAccounts:w}=n,I=a-k;index_browser_esm_assert(I>0,"Message header is invalid");const we=e.staticAccountKeys.length-a-w;index_browser_esm_assert(we>=0,"Message header is invalid");const Ae=e.getAccountKeys(r),Be=Ae.get(0);if(void 0===Be)throw new Error("Failed to decompile message because no account keys were found");const Ce=[];for(const e of i){const r=[];for(const i of e.accountKeyIndexes){const e=Ae.get(i);if(void 0===e)throw new Error(`Failed to find key for account key index ${i}`);let s;s=i<a?i<I:i<Ae.staticAccountKeys.length?i-a<we:i-Ae.staticAccountKeys.length<Ae.accountKeysFromLookups.writable.length,r.push({pubkey:e,isSigner:i<n.numRequiredSignatures,isWritable:s})}const i=Ae.get(e.programIdIndex);if(void 0===i)throw new Error(`Failed to find program id for program id index ${e.programIdIndex}`);Ce.push(new TransactionInstruction({programId:i,data:toBuffer(e.data),keys:r}))}return new TransactionMessage({payerKey:Be,instructions:Ce,recentBlockhash:s})}compileToLegacyMessage(){return Message.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return MessageV0.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class VersionedTransaction{get version(){return this.message.version}constructor(e,r){if(this.signatures=void 0,this.message=void 0,void 0!==r)index_browser_esm_assert(r.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=r;else{const r=[];for(let n=0;n<e.header.numRequiredSignatures;n++)r.push(new Uint8Array(kn));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),r=Array();encodeLength(r,this.signatures.length);const n=Sr.struct([Sr.blob(r.length,"encodedSignaturesLength"),Sr.seq(signature(),this.signatures.length,"signatures"),Sr.blob(e.length,"serializedMessage")]),i=new Uint8Array(2048),s=n.encode({encodedSignaturesLength:new Uint8Array(r),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,s)}static deserialize(e){let r=[...e];const n=[],i=decodeLength(r);for(let e=0;e<i;e++)n.push(new Uint8Array(guardedSplice(r,0,kn)));const s=Mn.deserialize(new Uint8Array(r));return new VersionedTransaction(s,n)}sign(e){const r=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const i of e){const e=n.findIndex((e=>e.equals(i.publicKey)));index_browser_esm_assert(e>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[e]=sign(r,i.secretKey)}}addSignature(e,r){index_browser_esm_assert(64===r.byteLength,"Signature must be 64 bytes long");const n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex((r=>r.equals(e)));index_browser_esm_assert(n>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[n]=r}}const Wn=new PublicKey("SysvarC1ock11111111111111111111111111111111"),Hn=new PublicKey("SysvarEpochSchedu1e111111111111111111111111"),Zn=new PublicKey("Sysvar1nstructions1111111111111111111111111"),Qn=new PublicKey("SysvarRecentB1ockHashes11111111111111111111"),ei=new PublicKey("SysvarRent111111111111111111111111111111111"),ti=new PublicKey("SysvarRewards111111111111111111111111111111"),ri=new PublicKey("SysvarS1otHashes111111111111111111111111111"),ni=new PublicKey("SysvarS1otHistory11111111111111111111111111"),ii=new PublicKey("SysvarStakeHistory1111111111111111111111111");async function sendAndConfirmTransaction(e,r,n,i){const s=i&&{skipPreflight:i.skipPreflight,preflightCommitment:i.preflightCommitment||i.commitment,maxRetries:i.maxRetries,minContextSlot:i.minContextSlot},a=await e.sendTransaction(r,n,s);let k;if(null!=r.recentBlockhash&&null!=r.lastValidBlockHeight)k=(await e.confirmTransaction({abortSignal:i?.abortSignal,signature:a,blockhash:r.recentBlockhash,lastValidBlockHeight:r.lastValidBlockHeight},i&&i.commitment)).value;else if(null!=r.minNonceContextSlot&&null!=r.nonceInfo){const{nonceInstruction:n}=r.nonceInfo,s=n.keys[0].pubkey;k=(await e.confirmTransaction({abortSignal:i?.abortSignal,minContextSlot:r.minNonceContextSlot,nonceAccountPubkey:s,nonceValue:r.nonceInfo.nonce,signature:a},i&&i.commitment)).value}else null!=i?.abortSignal&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),k=(await e.confirmTransaction(a,i&&i.commitment)).value;if(k.err)throw new Error(`Transaction ${a} failed (${JSON.stringify(k)})`);return a}function sleep(e){return new Promise((r=>setTimeout(r,e)))}function encodeData(e,r){const n=e.layout.span>=0?e.layout.span:getAlloc(e,r),i=s.Buffer.alloc(n),a=Object.assign({instruction:e.index},r);return e.layout.encode(a,i),i}function decodeData$1(e,r){let n;try{n=e.layout.decode(r)}catch(e){throw new Error("invalid instruction; "+e)}if(n.instruction!==e.index)throw new Error(`invalid instruction; instruction index mismatch ${n.instruction} != ${e.index}`);return n}const oi=Sr.nu64("lamportsPerSignature"),si=Sr.struct([Sr.u32("version"),Sr.u32("state"),publicKey("authorizedPubkey"),publicKey("nonce"),Sr.struct([oi],"feeCalculator")]),ai=si.span;class NonceAccount{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const r=si.decode(toBuffer(e),0);return new NonceAccount({authorizedPubkey:new PublicKey(r.authorizedPubkey),nonce:new PublicKey(r.nonce).toString(),feeCalculator:r.feeCalculator})}}const ci=(ui=8,e=>{const r=(0,Sr.blob)(ui,e),{encode:n,decode:i}=(e=>({decode:e.decode.bind(e),encode:e.encode.bind(e)}))(r),a=r;return a.decode=(e,r)=>{const n=i(e,r);return(0,Er.toBigIntLE)(s.Buffer.from(n))},a.encode=(e,r,i)=>{const s=(0,Er.toBufferLE)(e,ui);return n(s,r,i)},a});var ui;class SystemInstruction{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=Sr.u32("instruction").decode(e.data);let n;for(const[e,i]of Object.entries(di))if(i.index==r){n=e;break}if(!n)throw new Error("Instruction type incorrect; not a SystemInstruction");return n}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:r,space:n,programId:i}=decodeData$1(di.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:r,space:n,programId:new PublicKey(i)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:r}=decodeData$1(di.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:r}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:r,seed:n,programId:i}=decodeData$1(di.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:r,seed:n,programId:new PublicKey(i)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:r}=decodeData$1(di.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:r}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:r,seed:n,space:i,programId:s}=decodeData$1(di.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new PublicKey(r),seed:n,space:i,programId:new PublicKey(s)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:r}=decodeData$1(di.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new PublicKey(r)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:r,seed:n,programId:i}=decodeData$1(di.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new PublicKey(r),seed:n,programId:new PublicKey(i)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:r,seed:n,lamports:i,space:s,programId:a}=decodeData$1(di.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new PublicKey(r),seed:n,lamports:i,space:s,programId:new PublicKey(a)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:r}=decodeData$1(di.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new PublicKey(r)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),decodeData$1(di.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:r}=decodeData$1(di.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:r}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:r}=decodeData$1(di.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new PublicKey(r)}}static checkProgramId(e){if(!e.equals(SystemProgram.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}}const di=Object.freeze({Create:{index:0,layout:Sr.struct([Sr.u32("instruction"),Sr.ns64("lamports"),Sr.ns64("space"),publicKey("programId")])},Assign:{index:1,layout:Sr.struct([Sr.u32("instruction"),publicKey("programId")])},Transfer:{index:2,layout:Sr.struct([Sr.u32("instruction"),ci("lamports")])},CreateWithSeed:{index:3,layout:Sr.struct([Sr.u32("instruction"),publicKey("base"),rustString("seed"),Sr.ns64("lamports"),Sr.ns64("space"),publicKey("programId")])},AdvanceNonceAccount:{index:4,layout:Sr.struct([Sr.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:Sr.struct([Sr.u32("instruction"),Sr.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:Sr.struct([Sr.u32("instruction"),publicKey("authorized")])},AuthorizeNonceAccount:{index:7,layout:Sr.struct([Sr.u32("instruction"),publicKey("authorized")])},Allocate:{index:8,layout:Sr.struct([Sr.u32("instruction"),Sr.ns64("space")])},AllocateWithSeed:{index:9,layout:Sr.struct([Sr.u32("instruction"),publicKey("base"),rustString("seed"),Sr.ns64("space"),publicKey("programId")])},AssignWithSeed:{index:10,layout:Sr.struct([Sr.u32("instruction"),publicKey("base"),rustString("seed"),publicKey("programId")])},TransferWithSeed:{index:11,layout:Sr.struct([Sr.u32("instruction"),ci("lamports"),rustString("seed"),publicKey("programId")])},UpgradeNonceAccount:{index:12,layout:Sr.struct([Sr.u32("instruction")])}});class SystemProgram{constructor(){}static createAccount(e){const r=encodeData(di.Create,{lamports:e.lamports,space:e.space,programId:toBuffer(e.programId.toBuffer())});return new TransactionInstruction({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let r,n;if("basePubkey"in e){r=encodeData(di.TransferWithSeed,{lamports:BigInt(e.lamports),seed:e.seed,programId:toBuffer(e.programId.toBuffer())}),n=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{r=encodeData(di.Transfer,{lamports:BigInt(e.lamports)}),n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new TransactionInstruction({keys:n,programId:this.programId,data:r})}static assign(e){let r,n;if("basePubkey"in e){r=encodeData(di.AssignWithSeed,{base:toBuffer(e.basePubkey.toBuffer()),seed:e.seed,programId:toBuffer(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{r=encodeData(di.Assign,{programId:toBuffer(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new TransactionInstruction({keys:n,programId:this.programId,data:r})}static createAccountWithSeed(e){const r=encodeData(di.CreateWithSeed,{base:toBuffer(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:toBuffer(e.programId.toBuffer())});let n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&n.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new TransactionInstruction({keys:n,programId:this.programId,data:r})}static createNonceAccount(e){const r=new Transaction;"basePubkey"in e&&"seed"in e?r.add(SystemProgram.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:ai,programId:this.programId})):r.add(SystemProgram.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:ai,programId:this.programId}));const n={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return r.add(this.nonceInitialize(n)),r}static nonceInitialize(e){const r=encodeData(di.InitializeNonceAccount,{authorized:toBuffer(e.authorizedPubkey.toBuffer())}),n={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Qn,isSigner:!1,isWritable:!1},{pubkey:ei,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new TransactionInstruction(n)}static nonceAdvance(e){const r=encodeData(di.AdvanceNonceAccount),n={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Qn,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new TransactionInstruction(n)}static nonceWithdraw(e){const r=encodeData(di.WithdrawNonceAccount,{lamports:e.lamports});return new TransactionInstruction({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:Qn,isSigner:!1,isWritable:!1},{pubkey:ei,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const r=encodeData(di.AuthorizeNonceAccount,{authorized:toBuffer(e.newAuthorizedPubkey.toBuffer())});return new TransactionInstruction({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let r,n;if("basePubkey"in e){r=encodeData(di.AllocateWithSeed,{base:toBuffer(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:toBuffer(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{r=encodeData(di.Allocate,{space:e.space}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new TransactionInstruction({keys:n,programId:this.programId,data:r})}}SystemProgram.programId=new PublicKey("11111111111111111111111111111111");const li=mn-300;class Loader{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/Loader.chunkSize)+1+1)}static async load(e,r,n,i,a){{const s=await e.getMinimumBalanceForRentExemption(a.length),k=await e.getAccountInfo(n.publicKey,"confirmed");let w=null;if(null!==k){if(k.executable)return console.error("Program load failed, account is already executable"),!1;k.data.length!==a.length&&(w=w||new Transaction,w.add(SystemProgram.allocate({accountPubkey:n.publicKey,space:a.length}))),k.owner.equals(i)||(w=w||new Transaction,w.add(SystemProgram.assign({accountPubkey:n.publicKey,programId:i}))),k.lamports<s&&(w=w||new Transaction,w.add(SystemProgram.transfer({fromPubkey:r.publicKey,toPubkey:n.publicKey,lamports:s-k.lamports})))}else w=(new Transaction).add(SystemProgram.createAccount({fromPubkey:r.publicKey,newAccountPubkey:n.publicKey,lamports:s>0?s:1,space:a.length,programId:i}));null!==w&&await sendAndConfirmTransaction(e,w,[r,n],{commitment:"confirmed"})}const k=Sr.struct([Sr.u32("instruction"),Sr.u32("offset"),Sr.u32("bytesLength"),Sr.u32("bytesLengthPadding"),Sr.seq(Sr.u8("byte"),Sr.offset(Sr.u32(),-8),"bytes")]),w=Loader.chunkSize;let I=0,we=a,Ae=[];for(;we.length>0;){const a=we.slice(0,w),Be=s.Buffer.alloc(w+16);k.encode({instruction:0,offset:I,bytes:a,bytesLength:0,bytesLengthPadding:0},Be);const Ce=(new Transaction).add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0}],programId:i,data:Be});if(Ae.push(sendAndConfirmTransaction(e,Ce,[r,n],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")){const e=4;await sleep(1e3/e)}I+=w,we=we.slice(w)}await Promise.all(Ae);{const a=Sr.struct([Sr.u32("instruction")]),k=s.Buffer.alloc(a.span);a.encode({instruction:1},k);const w=(new Transaction).add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0},{pubkey:ei,isSigner:!1,isWritable:!1}],programId:i,data:k}),I="processed",we=await e.sendTransaction(w,[r,n],{preflightCommitment:I}),{context:Ae,value:Be}=await e.confirmTransaction({signature:we,lastValidBlockHeight:w.lastValidBlockHeight,blockhash:w.recentBlockhash},I);if(Be.err)throw new Error(`Transaction ${we} failed (${JSON.stringify(Be)})`);for(;;){try{if(await e.getSlot({commitment:I})>Ae.slot)break}catch{}await new Promise((e=>setTimeout(e,Math.round(200))))}}return!0}}Loader.chunkSize=li;const hi=new PublicKey("BPFLoader2111111111111111111111111111111111");class BpfLoader{static getMinNumSignatures(e){return Loader.getMinNumSignatures(e)}static load(e,r,n,i,s){return Loader.load(e,r,n,s,i)}}function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var fi=Object.prototype.toString,pi=Object.keys||function(e){var r=[];for(var n in e)r.push(n);return r};function stringify(e,r){var n,i,s,a,k,w,I;if(!0===e)return"true";if(!1===e)return"false";switch(typeof e){case"object":if(null===e)return null;if(e.toJSON&&"function"==typeof e.toJSON)return stringify(e.toJSON(),r);if("[object Array]"===(I=fi.call(e))){for(s="[",i=e.length-1,n=0;n<i;n++)s+=stringify(e[n],!0)+",";return i>-1&&(s+=stringify(e[n],!0)),s+"]"}if("[object Object]"===I){for(i=(a=pi(e).sort()).length,s="",n=0;n<i;)void 0!==(w=stringify(e[k=a[n]],!1))&&(s&&(s+=","),s+=JSON.stringify(k)+":"+w),n++;return"{"+s+"}"}return JSON.stringify(e);case"function":case"undefined":return r?null:void 0;case"string":return JSON.stringify(e);default:return isFinite(e)?e:null}}var gi=getDefaultExportFromCjs((function(e){var r=stringify(e,!1);if(void 0!==r)return""+r}));function trailingZeros(e){let r=0;for(;e>1;)e/=2,r++;return r}class EpochSchedule{constructor(e,r,n,i,s){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=r,this.warmup=n,this.firstNormalEpoch=i,this.firstNormalSlot=s}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const r=trailingZeros(function nextPowerOfTwo(e){return 0===e?1:(e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,1+(e|=e>>32))}(e+32+1))-trailingZeros(32)-1;return[r,e-(this.getSlotsInEpoch(r)-32)]}{const r=e-this.firstNormalSlot,n=Math.floor(r/this.slotsPerEpoch);return[this.firstNormalEpoch+n,r%this.slotsPerEpoch]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?32*(Math.pow(2,e)-1):(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+trailingZeros(32)):this.slotsPerEpoch}}class SendTransactionError extends Error{constructor(e,r){super(e),this.logs=void 0,this.logs=r}}const yi={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class SolanaJSONRPCError extends Error{constructor({code:e,message:r,data:n},i){super(null!=i?`${i}: ${r}`:r),this.code=void 0,this.data=void 0,this.code=e,this.data=n,this.name="SolanaJSONRPCError"}}var mi=globalThis.fetch;class RpcWebSocketClient extends Pr.A{constructor(e,r,n){super((e=>{const n=(0,Or.A)(e,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...r});return this.underlyingSocket="socket"in n?n.socket:n,n}),e,r,n),this.underlyingSocket=void 0}call(...e){const r=this.underlyingSocket?.readyState;return 1===r?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}notify(...e){const r=this.underlyingSocket?.readyState;return 1===r?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}}class AddressLookupTableAccount{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const r=function decodeData(e,r){let n;try{n=e.layout.decode(r)}catch(e){throw new Error("invalid instruction; "+e)}if(n.typeIndex!==e.index)throw new Error(`invalid account data; account type mismatch ${n.typeIndex} != ${e.index}`);return n}(bi,e),n=e.length-56;index_browser_esm_assert(n>=0,"lookup table is invalid"),index_browser_esm_assert(n%32==0,"lookup table is invalid");const i=n/32,{addresses:s}=Sr.struct([Sr.seq(publicKey(),i,"addresses")]).decode(e.slice(56));return{deactivationSlot:r.deactivationSlot,lastExtendedSlot:r.lastExtendedSlot,lastExtendedSlotStartIndex:r.lastExtendedStartIndex,authority:0!==r.authority.length?new PublicKey(r.authority[0]):void 0,addresses:s.map((e=>new PublicKey(e)))}}}const bi={index:1,layout:Sr.struct([Sr.u32("typeIndex"),ci("deactivationSlot"),Sr.nu64("lastExtendedSlot"),Sr.u8("lastExtendedStartIndex"),Sr.u8(),Sr.seq(publicKey(),Sr.offset(Sr.u8(),-1),"authority")])},ki=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;const wi=(0,vr.au)((0,vr.KJ)(PublicKey),(0,vr.Yj)(),(e=>new PublicKey(e))),Ii=(0,vr.PV)([(0,vr.Yj)(),(0,vr.eu)("base64")]),_i=(0,vr.au)((0,vr.KJ)(s.Buffer),Ii,(e=>s.Buffer.from(e[0],"base64"))),Si=3e4;function extractCommitmentFromConfig(e){let r,n;if("string"==typeof e)r=e;else if(e){const{commitment:i,...s}=e;r=i,n=s}return{commitment:r,config:n}}function createRpcResult(e){return(0,vr.KC)([(0,vr.NW)({jsonrpc:(0,vr.eu)("2.0"),id:(0,vr.Yj)(),result:e}),(0,vr.NW)({jsonrpc:(0,vr.eu)("2.0"),id:(0,vr.Yj)(),error:(0,vr.NW)({code:(0,vr.L5)(),message:(0,vr.Yj)(),data:(0,vr.lq)((0,vr.bz)())})})])}const Ei=createRpcResult((0,vr.L5)());function jsonRpcResult(e){return(0,vr.au)(createRpcResult(e),Ei,(r=>"error"in r?r:{...r,result:(0,vr.vt)(r.result,e)}))}function jsonRpcResultAndContext(e){return jsonRpcResult((0,vr.NW)({context:(0,vr.NW)({slot:(0,vr.ai)()}),value:e}))}function notificationResultAndContext(e){return(0,vr.NW)({context:(0,vr.NW)({slot:(0,vr.ai)()}),value:e})}function versionedMessageFromResponse(e,r){return 0===e?new MessageV0({header:r.header,staticAccountKeys:r.accountKeys.map((e=>new PublicKey(e))),recentBlockhash:r.recentBlockhash,compiledInstructions:r.instructions.map((e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:mr().decode(e.data)}))),addressTableLookups:r.addressTableLookups}):new Message(r)}const vi=(0,vr.NW)({foundation:(0,vr.ai)(),foundationTerm:(0,vr.ai)(),initial:(0,vr.ai)(),taper:(0,vr.ai)(),terminal:(0,vr.ai)()}),Ai=jsonRpcResult((0,vr.YO)((0,vr.me)((0,vr.NW)({epoch:(0,vr.ai)(),effectiveSlot:(0,vr.ai)(),amount:(0,vr.ai)(),postBalance:(0,vr.ai)(),commission:(0,vr.lq)((0,vr.me)((0,vr.ai)()))})))),Ti=(0,vr.YO)((0,vr.NW)({slot:(0,vr.ai)(),prioritizationFee:(0,vr.ai)()})),Pi=(0,vr.NW)({total:(0,vr.ai)(),validator:(0,vr.ai)(),foundation:(0,vr.ai)(),epoch:(0,vr.ai)()}),Oi=(0,vr.NW)({epoch:(0,vr.ai)(),slotIndex:(0,vr.ai)(),slotsInEpoch:(0,vr.ai)(),absoluteSlot:(0,vr.ai)(),blockHeight:(0,vr.lq)((0,vr.ai)()),transactionCount:(0,vr.lq)((0,vr.ai)())}),Mi=(0,vr.NW)({slotsPerEpoch:(0,vr.ai)(),leaderScheduleSlotOffset:(0,vr.ai)(),warmup:(0,vr.zM)(),firstNormalEpoch:(0,vr.ai)(),firstNormalSlot:(0,vr.ai)()}),xi=(0,vr.g1)((0,vr.Yj)(),(0,vr.YO)((0,vr.ai)())),Bi=(0,vr.me)((0,vr.KC)([(0,vr.NW)({}),(0,vr.Yj)()])),Ri=(0,vr.NW)({err:Bi}),Ci=(0,vr.eu)("receivedSignature"),Di=(0,vr.NW)({"solana-core":(0,vr.Yj)(),"feature-set":(0,vr.lq)((0,vr.ai)())}),Ni=jsonRpcResultAndContext((0,vr.NW)({err:(0,vr.me)((0,vr.KC)([(0,vr.NW)({}),(0,vr.Yj)()])),logs:(0,vr.me)((0,vr.YO)((0,vr.Yj)())),accounts:(0,vr.lq)((0,vr.me)((0,vr.YO)((0,vr.me)((0,vr.NW)({executable:(0,vr.zM)(),owner:(0,vr.Yj)(),lamports:(0,vr.ai)(),data:(0,vr.YO)((0,vr.Yj)()),rentEpoch:(0,vr.lq)((0,vr.ai)())}))))),unitsConsumed:(0,vr.lq)((0,vr.ai)()),returnData:(0,vr.lq)((0,vr.me)((0,vr.NW)({programId:(0,vr.Yj)(),data:(0,vr.PV)([(0,vr.Yj)(),(0,vr.eu)("base64")])})))})),zi=jsonRpcResultAndContext((0,vr.NW)({byIdentity:(0,vr.g1)((0,vr.Yj)(),(0,vr.YO)((0,vr.ai)())),range:(0,vr.NW)({firstSlot:(0,vr.ai)(),lastSlot:(0,vr.ai)()})}));const Wi=jsonRpcResult(vi),ji=jsonRpcResult(Pi),Li=jsonRpcResult(Ti),Ki=jsonRpcResult(Oi),Fi=jsonRpcResult(Mi),Ui=jsonRpcResult(xi),Vi=jsonRpcResult((0,vr.ai)()),qi=jsonRpcResultAndContext((0,vr.NW)({total:(0,vr.ai)(),circulating:(0,vr.ai)(),nonCirculating:(0,vr.ai)(),nonCirculatingAccounts:(0,vr.YO)(wi)})),Hi=(0,vr.NW)({amount:(0,vr.Yj)(),uiAmount:(0,vr.me)((0,vr.ai)()),decimals:(0,vr.ai)(),uiAmountString:(0,vr.lq)((0,vr.Yj)())}),Gi=jsonRpcResultAndContext((0,vr.YO)((0,vr.NW)({address:wi,amount:(0,vr.Yj)(),uiAmount:(0,vr.me)((0,vr.ai)()),decimals:(0,vr.ai)(),uiAmountString:(0,vr.lq)((0,vr.Yj)())}))),$i=jsonRpcResultAndContext((0,vr.YO)((0,vr.NW)({pubkey:wi,account:(0,vr.NW)({executable:(0,vr.zM)(),owner:wi,lamports:(0,vr.ai)(),data:_i,rentEpoch:(0,vr.ai)()})}))),Yi=(0,vr.NW)({program:(0,vr.Yj)(),parsed:(0,vr.L5)(),space:(0,vr.ai)()}),Zi=jsonRpcResultAndContext((0,vr.YO)((0,vr.NW)({pubkey:wi,account:(0,vr.NW)({executable:(0,vr.zM)(),owner:wi,lamports:(0,vr.ai)(),data:Yi,rentEpoch:(0,vr.ai)()})}))),Ji=jsonRpcResultAndContext((0,vr.YO)((0,vr.NW)({lamports:(0,vr.ai)(),address:wi}))),Qi=(0,vr.NW)({executable:(0,vr.zM)(),owner:wi,lamports:(0,vr.ai)(),data:_i,rentEpoch:(0,vr.ai)()}),Xi=(0,vr.NW)({pubkey:wi,account:Qi}),eo=(0,vr.au)((0,vr.KC)([(0,vr.KJ)(s.Buffer),Yi]),(0,vr.KC)([Ii,Yi]),(e=>Array.isArray(e)?(0,vr.vt)(e,_i):e)),to=(0,vr.NW)({executable:(0,vr.zM)(),owner:wi,lamports:(0,vr.ai)(),data:eo,rentEpoch:(0,vr.ai)()}),ro=(0,vr.NW)({pubkey:wi,account:to}),no=(0,vr.NW)({state:(0,vr.KC)([(0,vr.eu)("active"),(0,vr.eu)("inactive"),(0,vr.eu)("activating"),(0,vr.eu)("deactivating")]),active:(0,vr.ai)(),inactive:(0,vr.ai)()}),io=jsonRpcResult((0,vr.YO)((0,vr.NW)({signature:(0,vr.Yj)(),slot:(0,vr.ai)(),err:Bi,memo:(0,vr.me)((0,vr.Yj)()),blockTime:(0,vr.lq)((0,vr.me)((0,vr.ai)()))}))),oo=jsonRpcResult((0,vr.YO)((0,vr.NW)({signature:(0,vr.Yj)(),slot:(0,vr.ai)(),err:Bi,memo:(0,vr.me)((0,vr.Yj)()),blockTime:(0,vr.lq)((0,vr.me)((0,vr.ai)()))}))),so=(0,vr.NW)({subscription:(0,vr.ai)(),result:notificationResultAndContext(Qi)}),ao=(0,vr.NW)({pubkey:wi,account:Qi}),co=(0,vr.NW)({subscription:(0,vr.ai)(),result:notificationResultAndContext(ao)}),uo=(0,vr.NW)({parent:(0,vr.ai)(),slot:(0,vr.ai)(),root:(0,vr.ai)()}),lo=(0,vr.NW)({subscription:(0,vr.ai)(),result:uo}),ho=(0,vr.KC)([(0,vr.NW)({type:(0,vr.KC)([(0,vr.eu)("firstShredReceived"),(0,vr.eu)("completed"),(0,vr.eu)("optimisticConfirmation"),(0,vr.eu)("root")]),slot:(0,vr.ai)(),timestamp:(0,vr.ai)()}),(0,vr.NW)({type:(0,vr.eu)("createdBank"),parent:(0,vr.ai)(),slot:(0,vr.ai)(),timestamp:(0,vr.ai)()}),(0,vr.NW)({type:(0,vr.eu)("frozen"),slot:(0,vr.ai)(),timestamp:(0,vr.ai)(),stats:(0,vr.NW)({numTransactionEntries:(0,vr.ai)(),numSuccessfulTransactions:(0,vr.ai)(),numFailedTransactions:(0,vr.ai)(),maxTransactionsPerEntry:(0,vr.ai)()})}),(0,vr.NW)({type:(0,vr.eu)("dead"),slot:(0,vr.ai)(),timestamp:(0,vr.ai)(),err:(0,vr.Yj)()})]),fo=(0,vr.NW)({subscription:(0,vr.ai)(),result:ho}),po=(0,vr.NW)({subscription:(0,vr.ai)(),result:notificationResultAndContext((0,vr.KC)([Ri,Ci]))}),go=(0,vr.NW)({subscription:(0,vr.ai)(),result:(0,vr.ai)()}),yo=(0,vr.NW)({pubkey:(0,vr.Yj)(),gossip:(0,vr.me)((0,vr.Yj)()),tpu:(0,vr.me)((0,vr.Yj)()),rpc:(0,vr.me)((0,vr.Yj)()),version:(0,vr.me)((0,vr.Yj)())}),mo=(0,vr.NW)({votePubkey:(0,vr.Yj)(),nodePubkey:(0,vr.Yj)(),activatedStake:(0,vr.ai)(),epochVoteAccount:(0,vr.zM)(),epochCredits:(0,vr.YO)((0,vr.PV)([(0,vr.ai)(),(0,vr.ai)(),(0,vr.ai)()])),commission:(0,vr.ai)(),lastVote:(0,vr.ai)(),rootSlot:(0,vr.me)((0,vr.ai)())}),bo=jsonRpcResult((0,vr.NW)({current:(0,vr.YO)(mo),delinquent:(0,vr.YO)(mo)})),ko=(0,vr.KC)([(0,vr.eu)("processed"),(0,vr.eu)("confirmed"),(0,vr.eu)("finalized")]),wo=(0,vr.NW)({slot:(0,vr.ai)(),confirmations:(0,vr.me)((0,vr.ai)()),err:Bi,confirmationStatus:(0,vr.lq)(ko)}),Io=jsonRpcResultAndContext((0,vr.YO)((0,vr.me)(wo))),_o=jsonRpcResult((0,vr.ai)()),So=(0,vr.NW)({accountKey:wi,writableIndexes:(0,vr.YO)((0,vr.ai)()),readonlyIndexes:(0,vr.YO)((0,vr.ai)())}),Eo=(0,vr.NW)({signatures:(0,vr.YO)((0,vr.Yj)()),message:(0,vr.NW)({accountKeys:(0,vr.YO)((0,vr.Yj)()),header:(0,vr.NW)({numRequiredSignatures:(0,vr.ai)(),numReadonlySignedAccounts:(0,vr.ai)(),numReadonlyUnsignedAccounts:(0,vr.ai)()}),instructions:(0,vr.YO)((0,vr.NW)({accounts:(0,vr.YO)((0,vr.ai)()),data:(0,vr.Yj)(),programIdIndex:(0,vr.ai)()})),recentBlockhash:(0,vr.Yj)(),addressTableLookups:(0,vr.lq)((0,vr.YO)(So))})}),vo=(0,vr.NW)({pubkey:wi,signer:(0,vr.zM)(),writable:(0,vr.zM)(),source:(0,vr.lq)((0,vr.KC)([(0,vr.eu)("transaction"),(0,vr.eu)("lookupTable")]))}),Ao=(0,vr.NW)({accountKeys:(0,vr.YO)(vo),signatures:(0,vr.YO)((0,vr.Yj)())}),To=(0,vr.NW)({parsed:(0,vr.L5)(),program:(0,vr.Yj)(),programId:wi}),Po=(0,vr.NW)({accounts:(0,vr.YO)(wi),data:(0,vr.Yj)(),programId:wi}),Oo=(0,vr.KC)([Po,To]),Mo=(0,vr.KC)([(0,vr.NW)({parsed:(0,vr.L5)(),program:(0,vr.Yj)(),programId:(0,vr.Yj)()}),(0,vr.NW)({accounts:(0,vr.YO)((0,vr.Yj)()),data:(0,vr.Yj)(),programId:(0,vr.Yj)()})]),xo=(0,vr.au)(Oo,Mo,(e=>"accounts"in e?(0,vr.vt)(e,Po):(0,vr.vt)(e,To))),Bo=(0,vr.NW)({signatures:(0,vr.YO)((0,vr.Yj)()),message:(0,vr.NW)({accountKeys:(0,vr.YO)(vo),instructions:(0,vr.YO)(xo),recentBlockhash:(0,vr.Yj)(),addressTableLookups:(0,vr.lq)((0,vr.me)((0,vr.YO)(So)))})}),Ro=(0,vr.NW)({accountIndex:(0,vr.ai)(),mint:(0,vr.Yj)(),owner:(0,vr.lq)((0,vr.Yj)()),uiTokenAmount:Hi}),Co=(0,vr.NW)({writable:(0,vr.YO)(wi),readonly:(0,vr.YO)(wi)}),Do=(0,vr.NW)({err:Bi,fee:(0,vr.ai)(),innerInstructions:(0,vr.lq)((0,vr.me)((0,vr.YO)((0,vr.NW)({index:(0,vr.ai)(),instructions:(0,vr.YO)((0,vr.NW)({accounts:(0,vr.YO)((0,vr.ai)()),data:(0,vr.Yj)(),programIdIndex:(0,vr.ai)()}))})))),preBalances:(0,vr.YO)((0,vr.ai)()),postBalances:(0,vr.YO)((0,vr.ai)()),logMessages:(0,vr.lq)((0,vr.me)((0,vr.YO)((0,vr.Yj)()))),preTokenBalances:(0,vr.lq)((0,vr.me)((0,vr.YO)(Ro))),postTokenBalances:(0,vr.lq)((0,vr.me)((0,vr.YO)(Ro))),loadedAddresses:(0,vr.lq)(Co),computeUnitsConsumed:(0,vr.lq)((0,vr.ai)())}),No=(0,vr.NW)({err:Bi,fee:(0,vr.ai)(),innerInstructions:(0,vr.lq)((0,vr.me)((0,vr.YO)((0,vr.NW)({index:(0,vr.ai)(),instructions:(0,vr.YO)(xo)})))),preBalances:(0,vr.YO)((0,vr.ai)()),postBalances:(0,vr.YO)((0,vr.ai)()),logMessages:(0,vr.lq)((0,vr.me)((0,vr.YO)((0,vr.Yj)()))),preTokenBalances:(0,vr.lq)((0,vr.me)((0,vr.YO)(Ro))),postTokenBalances:(0,vr.lq)((0,vr.me)((0,vr.YO)(Ro))),loadedAddresses:(0,vr.lq)(Co),computeUnitsConsumed:(0,vr.lq)((0,vr.ai)())}),zo=(0,vr.KC)([(0,vr.eu)(0),(0,vr.eu)("legacy")]),Wo=(0,vr.NW)({pubkey:(0,vr.Yj)(),lamports:(0,vr.ai)(),postBalance:(0,vr.me)((0,vr.ai)()),rewardType:(0,vr.me)((0,vr.Yj)()),commission:(0,vr.lq)((0,vr.me)((0,vr.ai)()))}),jo=jsonRpcResult((0,vr.me)((0,vr.NW)({blockhash:(0,vr.Yj)(),previousBlockhash:(0,vr.Yj)(),parentSlot:(0,vr.ai)(),transactions:(0,vr.YO)((0,vr.NW)({transaction:Eo,meta:(0,vr.me)(Do),version:(0,vr.lq)(zo)})),rewards:(0,vr.lq)((0,vr.YO)(Wo)),blockTime:(0,vr.me)((0,vr.ai)()),blockHeight:(0,vr.me)((0,vr.ai)())}))),Lo=jsonRpcResult((0,vr.me)((0,vr.NW)({blockhash:(0,vr.Yj)(),previousBlockhash:(0,vr.Yj)(),parentSlot:(0,vr.ai)(),rewards:(0,vr.lq)((0,vr.YO)(Wo)),blockTime:(0,vr.me)((0,vr.ai)()),blockHeight:(0,vr.me)((0,vr.ai)())}))),Ko=jsonRpcResult((0,vr.me)((0,vr.NW)({blockhash:(0,vr.Yj)(),previousBlockhash:(0,vr.Yj)(),parentSlot:(0,vr.ai)(),transactions:(0,vr.YO)((0,vr.NW)({transaction:Ao,meta:(0,vr.me)(Do),version:(0,vr.lq)(zo)})),rewards:(0,vr.lq)((0,vr.YO)(Wo)),blockTime:(0,vr.me)((0,vr.ai)()),blockHeight:(0,vr.me)((0,vr.ai)())}))),Fo=jsonRpcResult((0,vr.me)((0,vr.NW)({blockhash:(0,vr.Yj)(),previousBlockhash:(0,vr.Yj)(),parentSlot:(0,vr.ai)(),transactions:(0,vr.YO)((0,vr.NW)({transaction:Bo,meta:(0,vr.me)(No),version:(0,vr.lq)(zo)})),rewards:(0,vr.lq)((0,vr.YO)(Wo)),blockTime:(0,vr.me)((0,vr.ai)()),blockHeight:(0,vr.me)((0,vr.ai)())}))),Uo=jsonRpcResult((0,vr.me)((0,vr.NW)({blockhash:(0,vr.Yj)(),previousBlockhash:(0,vr.Yj)(),parentSlot:(0,vr.ai)(),transactions:(0,vr.YO)((0,vr.NW)({transaction:Ao,meta:(0,vr.me)(No),version:(0,vr.lq)(zo)})),rewards:(0,vr.lq)((0,vr.YO)(Wo)),blockTime:(0,vr.me)((0,vr.ai)()),blockHeight:(0,vr.me)((0,vr.ai)())}))),Vo=jsonRpcResult((0,vr.me)((0,vr.NW)({blockhash:(0,vr.Yj)(),previousBlockhash:(0,vr.Yj)(),parentSlot:(0,vr.ai)(),rewards:(0,vr.lq)((0,vr.YO)(Wo)),blockTime:(0,vr.me)((0,vr.ai)()),blockHeight:(0,vr.me)((0,vr.ai)())}))),qo=jsonRpcResult((0,vr.me)((0,vr.NW)({blockhash:(0,vr.Yj)(),previousBlockhash:(0,vr.Yj)(),parentSlot:(0,vr.ai)(),transactions:(0,vr.YO)((0,vr.NW)({transaction:Eo,meta:(0,vr.me)(Do)})),rewards:(0,vr.lq)((0,vr.YO)(Wo)),blockTime:(0,vr.me)((0,vr.ai)())}))),Ho=jsonRpcResult((0,vr.me)((0,vr.NW)({blockhash:(0,vr.Yj)(),previousBlockhash:(0,vr.Yj)(),parentSlot:(0,vr.ai)(),signatures:(0,vr.YO)((0,vr.Yj)()),blockTime:(0,vr.me)((0,vr.ai)())}))),Go=jsonRpcResult((0,vr.me)((0,vr.NW)({slot:(0,vr.ai)(),meta:(0,vr.me)(Do),blockTime:(0,vr.lq)((0,vr.me)((0,vr.ai)())),transaction:Eo,version:(0,vr.lq)(zo)}))),$o=jsonRpcResult((0,vr.me)((0,vr.NW)({slot:(0,vr.ai)(),transaction:Bo,meta:(0,vr.me)(No),blockTime:(0,vr.lq)((0,vr.me)((0,vr.ai)())),version:(0,vr.lq)(zo)}))),Yo=jsonRpcResultAndContext((0,vr.NW)({blockhash:(0,vr.Yj)(),feeCalculator:(0,vr.NW)({lamportsPerSignature:(0,vr.ai)()})})),Zo=jsonRpcResultAndContext((0,vr.NW)({blockhash:(0,vr.Yj)(),lastValidBlockHeight:(0,vr.ai)()})),Jo=jsonRpcResultAndContext((0,vr.zM)()),Qo=(0,vr.NW)({slot:(0,vr.ai)(),numTransactions:(0,vr.ai)(),numSlots:(0,vr.ai)(),samplePeriodSecs:(0,vr.ai)()}),Xo=jsonRpcResult((0,vr.YO)(Qo)),es=jsonRpcResultAndContext((0,vr.me)((0,vr.NW)({feeCalculator:(0,vr.NW)({lamportsPerSignature:(0,vr.ai)()})}))),ts=jsonRpcResult((0,vr.Yj)()),rs=jsonRpcResult((0,vr.Yj)()),ns=(0,vr.NW)({err:Bi,logs:(0,vr.YO)((0,vr.Yj)()),signature:(0,vr.Yj)()}),os=(0,vr.NW)({result:notificationResultAndContext(ns),subscription:(0,vr.ai)()}),ss={"solana-client":"js/0.0.0-development"};class Connection{constructor(e,r){let n,i,s,a,k,w;this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const e={};return async r=>{const{commitment:n,config:i}=extractCommitmentFromConfig(r),s=this._buildArgs([],n,void 0,i),a=gi(s);return e[a]=e[a]??(async()=>{try{const e=await this._rpcRequest("getBlockHeight",s),r=(0,vr.vt)(e,jsonRpcResult((0,vr.ai)()));if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get block height information");return r.result}finally{delete e[a]}})(),await e[a]}})(),r&&"string"==typeof r?this._commitment=r:r&&(this._commitment=r.commitment,this._confirmTransactionInitialTimeout=r.confirmTransactionInitialTimeout,n=r.wsEndpoint,i=r.httpHeaders,s=r.fetch,a=r.fetchMiddleware,k=r.disableRetryOnRateLimit,w=r.httpAgent),this._rpcEndpoint=function assertEndpointUrl(e){if(!1===/^https?:/.test(e))throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return e}(e),this._rpcWsEndpoint=n||function makeWebsocketUrl(e){const r=e.match(ki);if(null==r)throw TypeError(`Failed to validate endpoint URL \`${e}\``);const[n,i,s,a]=r,k=e.startsWith("https:")?"wss:":"ws:",w=null==s?null:parseInt(s.slice(1),10);return`${k}//${i}${null==w?"":`:${w+1}`}${a}`}(e),this._rpcClient=function createRpcClient(e,r,n,i,s,a){const k=n||mi;let w;return null!=a&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments."),i&&(w=async(e,r)=>{const n=await new Promise(((n,s)=>{try{i(e,r,((e,r)=>n([e,r])))}catch(e){s(e)}}));return await k(...n)}),new(Tr())((async(n,i)=>{const a={method:"POST",body:n,agent:void 0,headers:Object.assign({"Content-Type":"application/json"},r||{},ss)};try{let r,n=5,I=500;for(;r=w?await w(e,a):await k(e,a),429===r.status&&!0!==s&&(n-=1,0!==n);)console.error(`Server responded with ${r.status} ${r.statusText}.  Retrying after ${I}ms delay...`),await sleep(I),I*=2;const we=await r.text();r.ok?i(null,we):i(new Error(`${r.status} ${r.statusText}: ${we}`))}catch(e){e instanceof Error&&i(e)}}),{})}(e,i,s,a,k,w),this._rpcRequest=function createRpcRequest(e){return(r,n)=>new Promise(((i,s)=>{e.request(r,n,((e,r)=>{e?s(e):i(r)}))}))}(this._rpcClient),this._rpcBatchRequest=function createRpcBatchRequest(e){return r=>new Promise(((n,i)=>{0===r.length&&n([]);const s=r.map((r=>e.request(r.methodName,r.args)));e.request(s,((e,r)=>{e?i(e):n(r)}))}))}(this._rpcClient),this._rpcWebSocket=new RpcWebSocketClient(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,r){const{commitment:n,config:i}=extractCommitmentFromConfig(r),s=this._buildArgs([e.toBase58()],n,void 0,i),a=await this._rpcRequest("getBalance",s),k=(0,vr.vt)(a,jsonRpcResultAndContext((0,vr.ai)()));if("error"in k)throw new SolanaJSONRPCError(k.error,`failed to get balance for ${e.toBase58()}`);return k.result}async getBalance(e,r){return await this.getBalanceAndContext(e,r).then((e=>e.value)).catch((r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)}))}async getBlockTime(e){const r=await this._rpcRequest("getBlockTime",[e]),n=(0,vr.vt)(r,jsonRpcResult((0,vr.me)((0,vr.ai)())));if("error"in n)throw new SolanaJSONRPCError(n.error,`failed to get block time for slot ${e}`);return n.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),r=(0,vr.vt)(e,jsonRpcResult((0,vr.ai)()));if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get minimum ledger slot");return r.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),r=(0,vr.vt)(e,Vi);if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get first available block");return r.result}async getSupply(e){let r={};r="string"==typeof e?{commitment:e}:e?{...e,commitment:e&&e.commitment||this.commitment}:{commitment:this.commitment};const n=await this._rpcRequest("getSupply",[r]),i=(0,vr.vt)(n,qi);if("error"in i)throw new SolanaJSONRPCError(i.error,"failed to get supply");return i.result}async getTokenSupply(e,r){const n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenSupply",n),s=(0,vr.vt)(i,jsonRpcResultAndContext(Hi));if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get token supply");return s.result}async getTokenAccountBalance(e,r){const n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenAccountBalance",n),s=(0,vr.vt)(i,jsonRpcResultAndContext(Hi));if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get token account balance");return s.result}async getTokenAccountsByOwner(e,r,n){const{commitment:i,config:s}=extractCommitmentFromConfig(n);let a=[e.toBase58()];"mint"in r?a.push({mint:r.mint.toBase58()}):a.push({programId:r.programId.toBase58()});const k=this._buildArgs(a,i,"base64",s),w=await this._rpcRequest("getTokenAccountsByOwner",k),I=(0,vr.vt)(w,$i);if("error"in I)throw new SolanaJSONRPCError(I.error,`failed to get token accounts owned by account ${e.toBase58()}`);return I.result}async getParsedTokenAccountsByOwner(e,r,n){let i=[e.toBase58()];"mint"in r?i.push({mint:r.mint.toBase58()}):i.push({programId:r.programId.toBase58()});const s=this._buildArgs(i,n,"jsonParsed"),a=await this._rpcRequest("getTokenAccountsByOwner",s),k=(0,vr.vt)(a,Zi);if("error"in k)throw new SolanaJSONRPCError(k.error,`failed to get token accounts owned by account ${e.toBase58()}`);return k.result}async getLargestAccounts(e){const r={...e,commitment:e&&e.commitment||this.commitment},n=r.filter||r.commitment?[r]:[],i=await this._rpcRequest("getLargestAccounts",n),s=(0,vr.vt)(i,Ji);if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get largest accounts");return s.result}async getTokenLargestAccounts(e,r){const n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenLargestAccounts",n),s=(0,vr.vt)(i,Gi);if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get token largest accounts");return s.result}async getAccountInfoAndContext(e,r){const{commitment:n,config:i}=extractCommitmentFromConfig(r),s=this._buildArgs([e.toBase58()],n,"base64",i),a=await this._rpcRequest("getAccountInfo",s),k=(0,vr.vt)(a,jsonRpcResultAndContext((0,vr.me)(Qi)));if("error"in k)throw new SolanaJSONRPCError(k.error,`failed to get info about account ${e.toBase58()}`);return k.result}async getParsedAccountInfo(e,r){const{commitment:n,config:i}=extractCommitmentFromConfig(r),s=this._buildArgs([e.toBase58()],n,"jsonParsed",i),a=await this._rpcRequest("getAccountInfo",s),k=(0,vr.vt)(a,jsonRpcResultAndContext((0,vr.me)(to)));if("error"in k)throw new SolanaJSONRPCError(k.error,`failed to get info about account ${e.toBase58()}`);return k.result}async getAccountInfo(e,r){try{return(await this.getAccountInfoAndContext(e,r)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,r){const{commitment:n,config:i}=extractCommitmentFromConfig(r),s=e.map((e=>e.toBase58())),a=this._buildArgs([s],n,"jsonParsed",i),k=await this._rpcRequest("getMultipleAccounts",a),w=(0,vr.vt)(k,jsonRpcResultAndContext((0,vr.YO)((0,vr.me)(to))));if("error"in w)throw new SolanaJSONRPCError(w.error,`failed to get info for accounts ${s}`);return w.result}async getMultipleAccountsInfoAndContext(e,r){const{commitment:n,config:i}=extractCommitmentFromConfig(r),s=e.map((e=>e.toBase58())),a=this._buildArgs([s],n,"base64",i),k=await this._rpcRequest("getMultipleAccounts",a),w=(0,vr.vt)(k,jsonRpcResultAndContext((0,vr.YO)((0,vr.me)(Qi))));if("error"in w)throw new SolanaJSONRPCError(w.error,`failed to get info for accounts ${s}`);return w.result}async getMultipleAccountsInfo(e,r){return(await this.getMultipleAccountsInfoAndContext(e,r)).value}async getStakeActivation(e,r,n){const{commitment:i,config:s}=extractCommitmentFromConfig(r),a=this._buildArgs([e.toBase58()],i,void 0,{...s,epoch:null!=n?n:s?.epoch}),k=await this._rpcRequest("getStakeActivation",a),w=(0,vr.vt)(k,jsonRpcResult(no));if("error"in w)throw new SolanaJSONRPCError(w.error,`failed to get Stake Activation ${e.toBase58()}`);return w.result}async getProgramAccounts(e,r){const{commitment:n,config:i}=extractCommitmentFromConfig(r),{encoding:s,...a}=i||{},k=this._buildArgs([e.toBase58()],n,s||"base64",a),w=await this._rpcRequest("getProgramAccounts",k),I=(0,vr.YO)(Xi),we=!0===a.withContext?(0,vr.vt)(w,jsonRpcResultAndContext(I)):(0,vr.vt)(w,jsonRpcResult(I));if("error"in we)throw new SolanaJSONRPCError(we.error,`failed to get accounts owned by program ${e.toBase58()}`);return we.result}async getParsedProgramAccounts(e,r){const{commitment:n,config:i}=extractCommitmentFromConfig(r),s=this._buildArgs([e.toBase58()],n,"jsonParsed",i),a=await this._rpcRequest("getProgramAccounts",s),k=(0,vr.vt)(a,jsonRpcResult((0,vr.YO)(ro)));if("error"in k)throw new SolanaJSONRPCError(k.error,`failed to get accounts owned by program ${e.toBase58()}`);return k.result}async confirmTransaction(e,r){let n,i;if("string"==typeof e)n=e;else{const r=e;if(r.abortSignal?.aborted)return Promise.reject(r.abortSignal.reason);n=r.signature}try{i=mr().decode(n)}catch(e){throw new Error("signature must be base58 encoded: "+n)}return index_browser_esm_assert(64===i.length,"signature has invalid length"),"string"==typeof e?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:r||this.commitment,signature:n}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:r||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:r||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise(((r,n)=>{null!=e&&(e.aborted?n(e.reason):e.addEventListener("abort",(()=>{n(e.reason)})))}))}getTransactionConfirmationPromise({commitment:e,signature:r}){let n,i,s=!1;return{abortConfirmation:()=>{i&&(i(),i=void 0),null!=n&&(this.removeSignatureListener(n),n=void 0)},confirmationPromise:new Promise(((a,k)=>{try{n=this.onSignature(r,((e,r)=>{n=void 0;const i={context:r,value:e};a({__type:Bn.PROCESSED,response:i})}),e);const w=new Promise((e=>{null==n?e():i=this._onSubscriptionStateChange(n,(r=>{"subscribed"===r&&e()}))}));(async()=>{if(await w,s)return;const n=await this.getSignatureStatus(r);if(s)return;if(null==n)return;const{context:i,value:I}=n;if(null!=I)if(I?.err)k(I.err);else{switch(e){case"confirmed":case"single":case"singleGossip":if("processed"===I.confirmationStatus)return;break;case"finalized":case"max":case"root":if("processed"===I.confirmationStatus||"confirmed"===I.confirmationStatus)return}s=!0,a({__type:Bn.PROCESSED,response:{context:i,value:I}})}})()}catch(e){k(e)}}))}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:r,lastValidBlockHeight:n,signature:i}}){let s=!1;const a=new Promise((r=>{const checkBlockHeight=async()=>{try{return await this.getBlockHeight(e)}catch(e){return-1}};(async()=>{let e=await checkBlockHeight();if(!s){for(;e<=n;){if(await sleep(1e3),s)return;if(e=await checkBlockHeight(),s)return}r({__type:Bn.BLOCKHEIGHT_EXCEEDED})}})()})),{abortConfirmation:k,confirmationPromise:w}=this.getTransactionConfirmationPromise({commitment:e,signature:i}),I=this.getCancellationPromise(r);let we;try{const e=await Promise.race([I,w,a]);if(e.__type!==Bn.PROCESSED)throw new TransactionExpiredBlockheightExceededError(i);we=e.response}finally{s=!0,k()}return we}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:r,minContextSlot:n,nonceAccountPubkey:i,nonceValue:s,signature:a}}){let k=!1;const w=new Promise((r=>{let a=s,w=null;const getCurrentNonceValue=async()=>{try{const{context:r,value:s}=await this.getNonceAndContext(i,{commitment:e,minContextSlot:n});return w=r.slot,s?.nonce}catch(e){return a}};(async()=>{if(a=await getCurrentNonceValue(),!k)for(;;){if(s!==a)return void r({__type:Bn.NONCE_INVALID,slotInWhichNonceDidAdvance:w});if(await sleep(2e3),k)return;if(a=await getCurrentNonceValue(),k)return}})()})),{abortConfirmation:I,confirmationPromise:we}=this.getTransactionConfirmationPromise({commitment:e,signature:a}),Ae=this.getCancellationPromise(r);let Be;try{const r=await Promise.race([Ae,we,w]);if(r.__type===Bn.PROCESSED)Be=r.response;else{let i;for(;;){const e=await this.getSignatureStatus(a);if(null==e)break;if(!(e.context.slot<(r.slotInWhichNonceDidAdvance??n))){i=e;break}await sleep(400)}if(!i?.value)throw new TransactionExpiredNonceInvalidError(a);{const r=e||"finalized",{confirmationStatus:n}=i.value;switch(r){case"processed":case"recent":if("processed"!==n&&"confirmed"!==n&&"finalized"!==n)throw new TransactionExpiredNonceInvalidError(a);break;case"confirmed":case"single":case"singleGossip":if("confirmed"!==n&&"finalized"!==n)throw new TransactionExpiredNonceInvalidError(a);break;case"finalized":case"max":case"root":if("finalized"!==n)throw new TransactionExpiredNonceInvalidError(a)}Be={context:i.context,value:{err:i.value.err}}}}}finally{k=!0,I()}return Be}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:r}){let n;const i=new Promise((r=>{let i=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":i=this._confirmTransactionInitialTimeout||3e4}n=setTimeout((()=>r({__type:Bn.TIMED_OUT,timeoutMs:i})),i)})),{abortConfirmation:s,confirmationPromise:a}=this.getTransactionConfirmationPromise({commitment:e,signature:r});let k;try{const e=await Promise.race([a,i]);if(e.__type!==Bn.PROCESSED)throw new TransactionExpiredTimeoutError(r,e.timeoutMs/1e3);k=e.response}finally{clearTimeout(n),s()}return k}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),r=(0,vr.vt)(e,jsonRpcResult((0,vr.YO)(yo)));if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get cluster nodes");return r.result}async getVoteAccounts(e){const r=this._buildArgs([],e),n=await this._rpcRequest("getVoteAccounts",r),i=(0,vr.vt)(n,bo);if("error"in i)throw new SolanaJSONRPCError(i.error,"failed to get vote accounts");return i.result}async getSlot(e){const{commitment:r,config:n}=extractCommitmentFromConfig(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getSlot",i),a=(0,vr.vt)(s,jsonRpcResult((0,vr.ai)()));if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get slot");return a.result}async getSlotLeader(e){const{commitment:r,config:n}=extractCommitmentFromConfig(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getSlotLeader",i),a=(0,vr.vt)(s,jsonRpcResult((0,vr.Yj)()));if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get slot leader");return a.result}async getSlotLeaders(e,r){const n=[e,r],i=await this._rpcRequest("getSlotLeaders",n),s=(0,vr.vt)(i,jsonRpcResult((0,vr.YO)(wi)));if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get slot leaders");return s.result}async getSignatureStatus(e,r){const{context:n,value:i}=await this.getSignatureStatuses([e],r);index_browser_esm_assert(1===i.length);return{context:n,value:i[0]}}async getSignatureStatuses(e,r){const n=[e];r&&n.push(r);const i=await this._rpcRequest("getSignatureStatuses",n),s=(0,vr.vt)(i,Io);if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get signature status");return s.result}async getTransactionCount(e){const{commitment:r,config:n}=extractCommitmentFromConfig(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getTransactionCount",i),a=(0,vr.vt)(s,jsonRpcResult((0,vr.ai)()));if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get transaction count");return a.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const r=this._buildArgs([],e),n=await this._rpcRequest("getInflationGovernor",r),i=(0,vr.vt)(n,Wi);if("error"in i)throw new SolanaJSONRPCError(i.error,"failed to get inflation");return i.result}async getInflationReward(e,r,n){const{commitment:i,config:s}=extractCommitmentFromConfig(n),a=this._buildArgs([e.map((e=>e.toBase58()))],i,void 0,{...s,epoch:null!=r?r:s?.epoch}),k=await this._rpcRequest("getInflationReward",a),w=(0,vr.vt)(k,Ai);if("error"in w)throw new SolanaJSONRPCError(w.error,"failed to get inflation reward");return w.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),r=(0,vr.vt)(e,ji);if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get inflation rate");return r.result}async getEpochInfo(e){const{commitment:r,config:n}=extractCommitmentFromConfig(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getEpochInfo",i),a=(0,vr.vt)(s,Ki);if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get epoch info");return a.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),r=(0,vr.vt)(e,Fi);if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get epoch schedule");const n=r.result;return new EpochSchedule(n.slotsPerEpoch,n.leaderScheduleSlotOffset,n.warmup,n.firstNormalEpoch,n.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),r=(0,vr.vt)(e,Ui);if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get leader schedule");return r.result}async getMinimumBalanceForRentExemption(e,r){const n=this._buildArgs([e],r),i=await this._rpcRequest("getMinimumBalanceForRentExemption",n),s=(0,vr.vt)(i,_o);return"error"in s?(console.warn("Unable to fetch minimum balance for rent exemption"),0):s.result}async getRecentBlockhashAndContext(e){const r=this._buildArgs([],e),n=await this._rpcRequest("getRecentBlockhash",r),i=(0,vr.vt)(n,Yo);if("error"in i)throw new SolanaJSONRPCError(i.error,"failed to get recent blockhash");return i.result}async getRecentPerformanceSamples(e){const r=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),n=(0,vr.vt)(r,Xo);if("error"in n)throw new SolanaJSONRPCError(n.error,"failed to get recent performance samples");return n.result}async getFeeCalculatorForBlockhash(e,r){const n=this._buildArgs([e],r),i=await this._rpcRequest("getFeeCalculatorForBlockhash",n),s=(0,vr.vt)(i,es);if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get fee calculator");const{context:a,value:k}=s.result;return{context:a,value:null!==k?k.feeCalculator:null}}async getFeeForMessage(e,r){const n=toBuffer(e.serialize()).toString("base64"),i=this._buildArgs([n],r),s=await this._rpcRequest("getFeeForMessage",i),a=(0,vr.vt)(s,jsonRpcResultAndContext((0,vr.me)((0,vr.ai)())));if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get fee for message");if(null===a.result)throw new Error("invalid blockhash");return a.result}async getRecentPrioritizationFees(e){const r=e?.lockedWritableAccounts?.map((e=>e.toBase58())),n=r?.length?[r]:[],i=await this._rpcRequest("getRecentPrioritizationFees",n),s=(0,vr.vt)(i,Li);if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get recent prioritization fees");return s.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(e){throw new Error("failed to get recent blockhash: "+e)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(e){throw new Error("failed to get recent blockhash: "+e)}}async getLatestBlockhashAndContext(e){const{commitment:r,config:n}=extractCommitmentFromConfig(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getLatestBlockhash",i),a=(0,vr.vt)(s,Zo);if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get latest blockhash");return a.result}async isBlockhashValid(e,r){const{commitment:n,config:i}=extractCommitmentFromConfig(r),s=this._buildArgs([e],n,void 0,i),a=await this._rpcRequest("isBlockhashValid",s),k=(0,vr.vt)(a,Jo);if("error"in k)throw new SolanaJSONRPCError(k.error,"failed to determine if the blockhash `"+e+"`is valid");return k.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),r=(0,vr.vt)(e,jsonRpcResult(Di));if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get version");return r.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),r=(0,vr.vt)(e,jsonRpcResult((0,vr.Yj)()));if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get genesis hash");return r.result}async getBlock(e,r){const{commitment:n,config:i}=extractCommitmentFromConfig(r),s=this._buildArgsAtLeastConfirmed([e],n,void 0,i),a=await this._rpcRequest("getBlock",s);try{switch(i?.transactionDetails){case"accounts":{const e=(0,vr.vt)(a,Ko);if("error"in e)throw e.error;return e.result}case"none":{const e=(0,vr.vt)(a,Lo);if("error"in e)throw e.error;return e.result}default:{const e=(0,vr.vt)(a,jo);if("error"in e)throw e.error;const{result:r}=e;return r?{...r,transactions:r.transactions.map((({transaction:e,meta:r,version:n})=>({meta:r,transaction:{...e,message:versionedMessageFromResponse(n,e.message)},version:n})))}:null}}}catch(e){throw new SolanaJSONRPCError(e,"failed to get confirmed block")}}async getParsedBlock(e,r){const{commitment:n,config:i}=extractCommitmentFromConfig(r),s=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",i),a=await this._rpcRequest("getBlock",s);try{switch(i?.transactionDetails){case"accounts":{const e=(0,vr.vt)(a,Uo);if("error"in e)throw e.error;return e.result}case"none":{const e=(0,vr.vt)(a,Vo);if("error"in e)throw e.error;return e.result}default:{const e=(0,vr.vt)(a,Fo);if("error"in e)throw e.error;return e.result}}}catch(e){throw new SolanaJSONRPCError(e,"failed to get block")}}async getBlockProduction(e){let r,n;if("string"==typeof e)n=e;else if(e){const{commitment:i,...s}=e;n=i,r=s}const i=this._buildArgs([],n,"base64",r),s=await this._rpcRequest("getBlockProduction",i),a=(0,vr.vt)(s,zi);if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get block production information");return a.result}async getTransaction(e,r){const{commitment:n,config:i}=extractCommitmentFromConfig(r),s=this._buildArgsAtLeastConfirmed([e],n,void 0,i),a=await this._rpcRequest("getTransaction",s),k=(0,vr.vt)(a,Go);if("error"in k)throw new SolanaJSONRPCError(k.error,"failed to get transaction");const w=k.result;return w?{...w,transaction:{...w.transaction,message:versionedMessageFromResponse(w.version,w.transaction.message)}}:w}async getParsedTransaction(e,r){const{commitment:n,config:i}=extractCommitmentFromConfig(r),s=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",i),a=await this._rpcRequest("getTransaction",s),k=(0,vr.vt)(a,$o);if("error"in k)throw new SolanaJSONRPCError(k.error,"failed to get transaction");return k.result}async getParsedTransactions(e,r){const{commitment:n,config:i}=extractCommitmentFromConfig(r),s=e.map((e=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",i)})));return(await this._rpcBatchRequest(s)).map((e=>{const r=(0,vr.vt)(e,$o);if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get transactions");return r.result}))}async getTransactions(e,r){const{commitment:n,config:i}=extractCommitmentFromConfig(r),s=e.map((e=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([e],n,void 0,i)})));return(await this._rpcBatchRequest(s)).map((e=>{const r=(0,vr.vt)(e,Go);if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get transactions");const n=r.result;return n?{...n,transaction:{...n.transaction,message:versionedMessageFromResponse(n.version,n.transaction.message)}}:n}))}async getConfirmedBlock(e,r){const n=this._buildArgsAtLeastConfirmed([e],r),i=await this._rpcRequest("getConfirmedBlock",n),s=(0,vr.vt)(i,qo);if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get confirmed block");const a=s.result;if(!a)throw new Error("Confirmed block "+e+" not found");const k={...a,transactions:a.transactions.map((({transaction:e,meta:r})=>{const n=new Message(e.message);return{meta:r,transaction:{...e,message:n}}}))};return{...k,transactions:k.transactions.map((({transaction:e,meta:r})=>({meta:r,transaction:Transaction.populate(e.message,e.signatures)})))}}async getBlocks(e,r,n){const i=this._buildArgsAtLeastConfirmed(void 0!==r?[e,r]:[e],n),s=await this._rpcRequest("getBlocks",i),a=(0,vr.vt)(s,jsonRpcResult((0,vr.YO)((0,vr.ai)())));if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get blocks");return a.result}async getBlockSignatures(e,r){const n=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",n),s=(0,vr.vt)(i,Ho);if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get block");const a=s.result;if(!a)throw new Error("Block "+e+" not found");return a}async getConfirmedBlockSignatures(e,r){const n=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getConfirmedBlock",n),s=(0,vr.vt)(i,Ho);if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get confirmed block");const a=s.result;if(!a)throw new Error("Confirmed block "+e+" not found");return a}async getConfirmedTransaction(e,r){const n=this._buildArgsAtLeastConfirmed([e],r),i=await this._rpcRequest("getConfirmedTransaction",n),s=(0,vr.vt)(i,Go);if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get transaction");const a=s.result;if(!a)return a;const k=new Message(a.transaction.message),w=a.transaction.signatures;return{...a,transaction:Transaction.populate(k,w)}}async getParsedConfirmedTransaction(e,r){const n=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed"),i=await this._rpcRequest("getConfirmedTransaction",n),s=(0,vr.vt)(i,$o);if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get confirmed transaction");return s.result}async getParsedConfirmedTransactions(e,r){const n=e.map((e=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([e],r,"jsonParsed")})));return(await this._rpcBatchRequest(n)).map((e=>{const r=(0,vr.vt)(e,$o);if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get confirmed transactions");return r.result}))}async getConfirmedSignaturesForAddress(e,r,n){let i={},s=await this.getFirstAvailableBlock();for(;!("until"in i)&&!(--r<=0||r<s);)try{const e=await this.getConfirmedBlockSignatures(r,"finalized");e.signatures.length>0&&(i.until=e.signatures[e.signatures.length-1].toString())}catch(e){if(e instanceof Error&&e.message.includes("skipped"))continue;throw e}let a=await this.getSlot("finalized");for(;!("before"in i||++n>a);)try{const e=await this.getConfirmedBlockSignatures(n);e.signatures.length>0&&(i.before=e.signatures[e.signatures.length-1].toString())}catch(e){if(e instanceof Error&&e.message.includes("skipped"))continue;throw e}return(await this.getConfirmedSignaturesForAddress2(e,i)).map((e=>e.signature))}async getConfirmedSignaturesForAddress2(e,r,n){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,r),s=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),a=(0,vr.vt)(s,io);if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get confirmed signatures for address");return a.result}async getSignaturesForAddress(e,r,n){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,r),s=await this._rpcRequest("getSignaturesForAddress",i),a=(0,vr.vt)(s,oo);if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get signatures for address");return a.result}async getAddressLookupTable(e,r){const{context:n,value:i}=await this.getAccountInfoAndContext(e,r);let s=null;return null!==i&&(s=new AddressLookupTableAccount({key:e,state:AddressLookupTableAccount.deserialize(i.data)})),{context:n,value:s}}async getNonceAndContext(e,r){const{context:n,value:i}=await this.getAccountInfoAndContext(e,r);let s=null;return null!==i&&(s=NonceAccount.fromAccountData(i.data)),{context:n,value:s}}async getNonce(e,r){return await this.getNonceAndContext(e,r).then((e=>e.value)).catch((r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)}))}async requestAirdrop(e,r){const n=await this._rpcRequest("requestAirdrop",[e.toBase58(),r]),i=(0,vr.vt)(n,ts);if("error"in i)throw new SolanaJSONRPCError(i.error,`airdrop to ${e.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await sleep(100);const e=Date.now()-this._blockhashInfo.lastFetch>=Si;if(null!==this._blockhashInfo.latestBlockhash&&!e)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),r=this._blockhashInfo.latestBlockhash,n=r?r.blockhash:null;for(let e=0;e<50;e++){const e=await this.getLatestBlockhash("finalized");if(n!==e.blockhash)return this._blockhashInfo={latestBlockhash:e,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},e;await sleep(200)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:r,config:n}=extractCommitmentFromConfig(e),i=this._buildArgs([],r,"base64",n),s=await this._rpcRequest("getStakeMinimumDelegation",i),a=(0,vr.vt)(s,jsonRpcResultAndContext((0,vr.ai)()));if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get stake minimum delegation");return a.result}async simulateTransaction(e,r,n){if("message"in e){const i=e.serialize(),a=s.Buffer.from(i).toString("base64");if(Array.isArray(r)||void 0!==n)throw new Error("Invalid arguments");const k=r||{};k.encoding="base64","commitment"in k||(k.commitment=this.commitment);const w=[a,k],I=await this._rpcRequest("simulateTransaction",w),we=(0,vr.vt)(I,Ni);if("error"in we)throw new Error("failed to simulate transaction: "+we.error.message);return we.result}let i;if(e instanceof Transaction){let r=e;i=new Transaction,i.feePayer=r.feePayer,i.instructions=e.instructions,i.nonceInfo=r.nonceInfo,i.signatures=r.signatures}else i=Transaction.populate(e),i._message=i._json=void 0;if(void 0!==r&&!Array.isArray(r))throw new Error("Invalid arguments");const a=r;if(i.nonceInfo&&a)i.sign(...a);else{let e=this._disableBlockhashCaching;for(;;){const r=await this._blockhashWithExpiryBlockHeight(e);if(i.lastValidBlockHeight=r.lastValidBlockHeight,i.recentBlockhash=r.blockhash,!a)break;if(i.sign(...a),!i.signature)throw new Error("!signature");const n=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(n)&&!this._blockhashInfo.transactionSignatures.includes(n)){this._blockhashInfo.simulatedSignatures.push(n);break}e=!0}}const k=i._compile(),w=k.serialize(),I=i._serialize(w).toString("base64"),we={encoding:"base64",commitment:this.commitment};if(n){const e=(Array.isArray(n)?n:k.nonProgramIds()).map((e=>e.toBase58()));we.accounts={encoding:"base64",addresses:e}}a&&(we.sigVerify=!0);const Ae=[I,we],Be=await this._rpcRequest("simulateTransaction",Ae),Ce=(0,vr.vt)(Be,Ni);if("error"in Ce){let e;if("data"in Ce.error&&(e=Ce.error.data.logs,e&&Array.isArray(e))){const r="\n    ",n=r+e.join(r);console.error(Ce.error.message,n)}throw new SendTransactionError("failed to simulate transaction: "+Ce.error.message,e)}return Ce.result}async sendTransaction(e,r,n){if("version"in e){if(r&&Array.isArray(r))throw new Error("Invalid arguments");const n=e.serialize();return await this.sendRawTransaction(n,r)}if(void 0===r||!Array.isArray(r))throw new Error("Invalid arguments");const i=r;if(e.nonceInfo)e.sign(...i);else{let r=this._disableBlockhashCaching;for(;;){const n=await this._blockhashWithExpiryBlockHeight(r);if(e.lastValidBlockHeight=n.lastValidBlockHeight,e.recentBlockhash=n.blockhash,e.sign(...i),!e.signature)throw new Error("!signature");const s=e.signature.toString("base64");if(!this._blockhashInfo.transactionSignatures.includes(s)){this._blockhashInfo.transactionSignatures.push(s);break}r=!0}}const s=e.serialize();return await this.sendRawTransaction(s,n)}async sendRawTransaction(e,r){const n=toBuffer(e).toString("base64");return await this.sendEncodedTransaction(n,r)}async sendEncodedTransaction(e,r){const n={encoding:"base64"},i=r&&r.skipPreflight,s=!0===i?"processed":r&&r.preflightCommitment||this.commitment;r&&null!=r.maxRetries&&(n.maxRetries=r.maxRetries),r&&null!=r.minContextSlot&&(n.minContextSlot=r.minContextSlot),i&&(n.skipPreflight=i),s&&(n.preflightCommitment=s);const a=[e,n],k=await this._rpcRequest("sendTransaction",a),w=(0,vr.vt)(k,rs);if("error"in w){let e;throw"data"in w.error&&(e=w.error.data.logs),new SendTransactionError("failed to send transaction: "+w.error.message,e)}return w.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval((()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()}),5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),1e3!==e?(this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach((([e,r])=>{this._setSubscription(e,{...r,state:"pending"})}))):this._updateSubscriptions()}_setSubscription(e,r){const n=this._subscriptionsByHash[e]?.state;if(this._subscriptionsByHash[e]=r,n!==r.state){const n=this._subscriptionStateChangeCallbacksByHash[e];n&&n.forEach((e=>{try{e(r.state)}catch{}}))}}_onSubscriptionStateChange(e,r){const n=this._subscriptionHashByClientSubscriptionId[e];if(null==n)return()=>{};const i=this._subscriptionStateChangeCallbacksByHash[n]||=new Set;return i.add(r),()=>{i.delete(r),0===i.size&&delete this._subscriptionStateChangeCallbacksByHash[n]}}async _updateSubscriptions(){if(0===Object.keys(this._subscriptionsByHash).length)return void(this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout((()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(e){e instanceof Error&&console.log(`Error when closing socket connection: ${e.message}`)}}),500)));if(null!==this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected)return void this._rpcWebSocket.connect();const e=this._rpcWebSocketGeneration,isCurrentConnectionStillActive=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map((async e=>{const r=this._subscriptionsByHash[e];if(void 0!==r)switch(r.state){case"pending":case"unsubscribed":if(0===r.callbacks.size)return delete this._subscriptionsByHash[e],"unsubscribed"===r.state&&delete this._subscriptionCallbacksByServerSubscriptionId[r.serverSubscriptionId],void await this._updateSubscriptions();await(async()=>{const{args:n,method:i}=r;try{this._setSubscription(e,{...r,state:"subscribing"});const s=await this._rpcWebSocket.call(i,n);this._setSubscription(e,{...r,serverSubscriptionId:s,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[s]=r.callbacks,await this._updateSubscriptions()}catch(s){if(s instanceof Error&&console.error(`${i} error for argument`,n,s.message),!isCurrentConnectionStillActive())return;this._setSubscription(e,{...r,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":0===r.callbacks.size&&await(async()=>{const{serverSubscriptionId:n,unsubscribeMethod:i}=r;if(this._subscriptionsAutoDisposedByRpc.has(n))this._subscriptionsAutoDisposedByRpc.delete(n);else{this._setSubscription(e,{...r,state:"unsubscribing"}),this._setSubscription(e,{...r,state:"unsubscribing"});try{await this._rpcWebSocket.call(i,[n])}catch(n){if(n instanceof Error&&console.error(`${i} error:`,n.message),!isCurrentConnectionStillActive())return;return this._setSubscription(e,{...r,state:"subscribed"}),void await this._updateSubscriptions()}}this._setSubscription(e,{...r,state:"unsubscribed"}),await this._updateSubscriptions()})()}})))}_handleServerNotification(e,r){const n=this._subscriptionCallbacksByServerSubscriptionId[e];void 0!==n&&n.forEach((e=>{try{e(...r)}catch(e){console.error(e)}}))}_wsOnAccountNotification(e){const{result:r,subscription:n}=(0,vr.vt)(e,so);this._handleServerNotification(n,[r.value,r.context])}_makeSubscription(e,r){const n=this._nextClientSubscriptionId++,i=gi([e.method,r]),s=this._subscriptionsByHash[i];return void 0===s?this._subscriptionsByHash[i]={...e,args:r,callbacks:new Set([e.callback]),state:"pending"}:s.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[n]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[n],delete this._subscriptionHashByClientSubscriptionId[n];const r=this._subscriptionsByHash[i];index_browser_esm_assert(void 0!==r,`Could not find a \`Subscription\` when tearing down client subscription #${n}`),r.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),n}onAccountChange(e,r,n){const i=this._buildArgs([e.toBase58()],n||this._commitment||"finalized","base64");return this._makeSubscription({callback:r,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},i)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:r,subscription:n}=(0,vr.vt)(e,co);this._handleServerNotification(n,[{accountId:r.value.pubkey,accountInfo:r.value.account},r.context])}onProgramAccountChange(e,r,n,i){const s=this._buildArgs([e.toBase58()],n||this._commitment||"finalized","base64",i?{filters:i}:void 0);return this._makeSubscription({callback:r,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},s)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,r,n){const i=this._buildArgs(["object"==typeof e?{mentions:[e.toString()]}:e],n||this._commitment||"finalized");return this._makeSubscription({callback:r,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:r,subscription:n}=(0,vr.vt)(e,os);this._handleServerNotification(n,[r.value,r.context])}_wsOnSlotNotification(e){const{result:r,subscription:n}=(0,vr.vt)(e,lo);this._handleServerNotification(n,[r])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:r,subscription:n}=(0,vr.vt)(e,fo);this._handleServerNotification(n,[r])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,r){const n=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];n?await n():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${r}' events could not be found.`)}_buildArgs(e,r,n,i){const s=r||this._commitment;if(s||n||i){let r={};n&&(r.encoding=n),s&&(r.commitment=s),i&&(r=Object.assign(r,i)),e.push(r)}return e}_buildArgsAtLeastConfirmed(e,r,n,i){const s=r||this._commitment;if(s&&!["confirmed","finalized"].includes(s))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,r,n,i)}_wsOnSignatureNotification(e){const{result:r,subscription:n}=(0,vr.vt)(e,po);"receivedSignature"!==r.value&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,"receivedSignature"===r.value?[{type:"received"},r.context]:[{type:"status",result:r.value},r.context])}onSignature(e,r,n){const i=this._buildArgs([e],n||this._commitment||"finalized"),s=this._makeSubscription({callback:(e,n)=>{if("status"===e.type){r(e.result,n);try{this.removeSignatureListener(s)}catch(e){}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return s}onSignatureWithOptions(e,r,n){const{commitment:i,...s}={...n,commitment:n&&n.commitment||this._commitment||"finalized"},a=this._buildArgs([e],i,void 0,s),k=this._makeSubscription({callback:(e,n)=>{r(e,n);try{this.removeSignatureListener(k)}catch(e){}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},a);return k}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:r,subscription:n}=(0,vr.vt)(e,go);this._handleServerNotification(n,[r])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class Keypair{constructor(e){this._keypair=void 0,this._keypair=e??generateKeypair()}static generate(){return new Keypair(generateKeypair())}static fromSecretKey(e,r){if(64!==e.byteLength)throw new Error("bad secret key size");const n=e.slice(32,64);if(!r||!r.skipValidation){const r=e.slice(0,32),i=an(r);for(let e=0;e<32;e++)if(n[e]!==i[e])throw new Error("provided secretKey is invalid")}return new Keypair({publicKey:n,secretKey:e})}static fromSeed(e){const r=an(e),n=new Uint8Array(64);return n.set(e),n.set(r,32),new Keypair({publicKey:r,secretKey:n})}get publicKey(){return new PublicKey(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const as=Object.freeze({CreateLookupTable:{index:0,layout:Sr.struct([Sr.u32("instruction"),ci("recentSlot"),Sr.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:Sr.struct([Sr.u32("instruction")])},ExtendLookupTable:{index:2,layout:Sr.struct([Sr.u32("instruction"),ci(),Sr.seq(publicKey(),Sr.offset(Sr.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:Sr.struct([Sr.u32("instruction")])},CloseLookupTable:{index:4,layout:Sr.struct([Sr.u32("instruction")])}});class AddressLookupTableInstruction{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=Sr.u32("instruction").decode(e.data);let n;for(const[e,i]of Object.entries(as))if(i.index==r){n=e;break}if(!n)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return n}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:r}=decodeData$1(as.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(r)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:r}=decodeData$1(as.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:r.map((e=>new PublicKey(e)))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(AddressLookupTableProgram.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}}class AddressLookupTableProgram{constructor(){}static createLookupTable(e){const[r,n]=PublicKey.findProgramAddressSync([e.authority.toBuffer(),(0,Er.toBufferLE)(BigInt(e.recentSlot),8)],this.programId),i=encodeData(as.CreateLookupTable,{recentSlot:BigInt(e.recentSlot),bumpSeed:n}),s=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:SystemProgram.programId,isSigner:!1,isWritable:!1}];return[new TransactionInstruction({programId:this.programId,keys:s,data:i}),r]}static freezeLookupTable(e){const r=encodeData(as.FreezeLookupTable),n=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new TransactionInstruction({programId:this.programId,keys:n,data:r})}static extendLookupTable(e){const r=encodeData(as.ExtendLookupTable,{addresses:e.addresses.map((e=>e.toBytes()))}),n=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&n.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:SystemProgram.programId,isSigner:!1,isWritable:!1}),new TransactionInstruction({programId:this.programId,keys:n,data:r})}static deactivateLookupTable(e){const r=encodeData(as.DeactivateLookupTable),n=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new TransactionInstruction({programId:this.programId,keys:n,data:r})}static closeLookupTable(e){const r=encodeData(as.CloseLookupTable),n=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new TransactionInstruction({programId:this.programId,keys:n,data:r})}}AddressLookupTableProgram.programId=new PublicKey("AddressLookupTab1e1111111111111111111111111");class ComputeBudgetInstruction{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=Sr.u8("instruction").decode(e.data);let n;for(const[e,i]of Object.entries(cs))if(i.index==r){n=e;break}if(!n)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return n}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:r,additionalFee:n}=decodeData$1(cs.RequestUnits,e.data);return{units:r,additionalFee:n}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:r}=decodeData$1(cs.RequestHeapFrame,e.data);return{bytes:r}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:r}=decodeData$1(cs.SetComputeUnitLimit,e.data);return{units:r}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:r}=decodeData$1(cs.SetComputeUnitPrice,e.data);return{microLamports:r}}static checkProgramId(e){if(!e.equals(ComputeBudgetProgram.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const cs=Object.freeze({RequestUnits:{index:0,layout:Sr.struct([Sr.u8("instruction"),Sr.u32("units"),Sr.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:Sr.struct([Sr.u8("instruction"),Sr.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:Sr.struct([Sr.u8("instruction"),Sr.u32("units")])},SetComputeUnitPrice:{index:3,layout:Sr.struct([Sr.u8("instruction"),ci("microLamports")])}});class ComputeBudgetProgram{constructor(){}static requestUnits(e){const r=encodeData(cs.RequestUnits,e);return new TransactionInstruction({keys:[],programId:this.programId,data:r})}static requestHeapFrame(e){const r=encodeData(cs.RequestHeapFrame,e);return new TransactionInstruction({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(e){const r=encodeData(cs.SetComputeUnitLimit,e);return new TransactionInstruction({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(e){const r=encodeData(cs.SetComputeUnitPrice,{microLamports:BigInt(e.microLamports)});return new TransactionInstruction({keys:[],programId:this.programId,data:r})}}ComputeBudgetProgram.programId=new PublicKey("ComputeBudget111111111111111111111111111111");const us=Sr.struct([Sr.u8("numSignatures"),Sr.u8("padding"),Sr.u16("signatureOffset"),Sr.u16("signatureInstructionIndex"),Sr.u16("publicKeyOffset"),Sr.u16("publicKeyInstructionIndex"),Sr.u16("messageDataOffset"),Sr.u16("messageDataSize"),Sr.u16("messageInstructionIndex")]);class Ed25519Program{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:r,message:n,signature:i,instructionIndex:a}=e;index_browser_esm_assert(32===r.length,`Public Key must be 32 bytes but received ${r.length} bytes`),index_browser_esm_assert(64===i.length,`Signature must be 64 bytes but received ${i.length} bytes`);const k=us.span,w=k+r.length,I=w+i.length,we=s.Buffer.alloc(I+n.length),Ae=null==a?65535:a;return us.encode({numSignatures:1,padding:0,signatureOffset:w,signatureInstructionIndex:Ae,publicKeyOffset:k,publicKeyInstructionIndex:Ae,messageDataOffset:I,messageDataSize:n.length,messageInstructionIndex:Ae},we),we.fill(r,k),we.fill(i,w),we.fill(n,I),new TransactionInstruction({keys:[],programId:Ed25519Program.programId,data:we})}static createInstructionWithPrivateKey(e){const{privateKey:r,message:n,instructionIndex:i}=e;index_browser_esm_assert(64===r.length,`Private key must be 64 bytes but received ${r.length} bytes`);try{const e=Keypair.fromSecretKey(r),s=e.publicKey.toBytes(),a=sign(n,e.secretKey);return this.createInstructionWithPublicKey({publicKey:s,message:n,signature:a,instructionIndex:i})}catch(e){throw new Error(`Error creating instruction; ${e}`)}}}Ed25519Program.programId=new PublicKey("Ed25519SigVerify111111111111111111111111111");Xr.utils.isValidPrivateKey;const ds=Xr.getPublicKey,ls=Sr.struct([Sr.u8("numSignatures"),Sr.u16("signatureOffset"),Sr.u8("signatureInstructionIndex"),Sr.u16("ethAddressOffset"),Sr.u8("ethAddressInstructionIndex"),Sr.u16("messageDataOffset"),Sr.u16("messageDataSize"),Sr.u8("messageInstructionIndex"),Sr.blob(20,"ethAddress"),Sr.blob(64,"signature"),Sr.u8("recoveryId")]);class Secp256k1Program{constructor(){}static publicKeyToEthAddress(e){index_browser_esm_assert(64===e.length,`Public key must be 64 bytes but received ${e.length} bytes`);try{return s.Buffer.from(Kr(toBuffer(e))).slice(-20)}catch(e){throw new Error(`Error constructing Ethereum address: ${e}`)}}static createInstructionWithPublicKey(e){const{publicKey:r,message:n,signature:i,recoveryId:s,instructionIndex:a}=e;return Secp256k1Program.createInstructionWithEthAddress({ethAddress:Secp256k1Program.publicKeyToEthAddress(r),message:n,signature:i,recoveryId:s,instructionIndex:a})}static createInstructionWithEthAddress(e){const{ethAddress:r,message:n,signature:i,recoveryId:a,instructionIndex:k=0}=e;let w;w="string"==typeof r?r.startsWith("0x")?s.Buffer.from(r.substr(2),"hex"):s.Buffer.from(r,"hex"):r,index_browser_esm_assert(20===w.length,`Address must be 20 bytes but received ${w.length} bytes`);const I=12+w.length,we=I+i.length+1,Ae=s.Buffer.alloc(ls.span+n.length);return ls.encode({numSignatures:1,signatureOffset:I,signatureInstructionIndex:k,ethAddressOffset:12,ethAddressInstructionIndex:k,messageDataOffset:we,messageDataSize:n.length,messageInstructionIndex:k,signature:toBuffer(i),ethAddress:toBuffer(w),recoveryId:a},Ae),Ae.fill(toBuffer(n),ls.span),new TransactionInstruction({keys:[],programId:Secp256k1Program.programId,data:Ae})}static createInstructionWithPrivateKey(e){const{privateKey:r,message:n,instructionIndex:i}=e;index_browser_esm_assert(32===r.length,`Private key must be 32 bytes but received ${r.length} bytes`);try{const e=toBuffer(r),a=ds(e,!1).slice(1),k=s.Buffer.from(Kr(toBuffer(n))),[w,I]=((e,r)=>{const n=Xr.sign(e,r);return[n.toCompactRawBytes(),n.recovery]})(k,e);return this.createInstructionWithPublicKey({publicKey:a,message:n,signature:w,recoveryId:I,instructionIndex:i})}catch(e){throw new Error(`Error creating instruction; ${e}`)}}}var hs;Secp256k1Program.programId=new PublicKey("KeccakSecp256k11111111111111111111111111111");const fs=new PublicKey("StakeConfig11111111111111111111111111111111");class Authorized{constructor(e,r){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=r}}class Lockup{constructor(e,r,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=r,this.custodian=n}}hs=Lockup,Lockup.default=new hs(0,0,PublicKey.default);class StakeInstruction{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=Sr.u32("instruction").decode(e.data);let n;for(const[e,i]of Object.entries(ps))if(i.index==r){n=e;break}if(!n)throw new Error("Instruction type incorrect; not a StakeInstruction");return n}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:r,lockup:n}=decodeData$1(ps.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new Authorized(new PublicKey(r.staker),new PublicKey(r.withdrawer)),lockup:new Lockup(n.unixTimestamp,n.epoch,new PublicKey(n.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),decodeData$1(ps.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:r,stakeAuthorizationType:n}=decodeData$1(ps.Authorize,e.data),i={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new PublicKey(r),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(i.custodianPubkey=e.keys[3].pubkey),i}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:r,stakeAuthorizationType:n,authoritySeed:i,authorityOwner:s}=decodeData$1(ps.AuthorizeWithSeed,e.data),a={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:i,authorityOwner:new PublicKey(s),newAuthorizedPubkey:new PublicKey(r),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(a.custodianPubkey=e.keys[3].pubkey),a}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:r}=decodeData$1(ps.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:r}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),decodeData$1(ps.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:r}=decodeData$1(ps.Withdraw,e.data),n={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:r};return e.keys.length>5&&(n.custodianPubkey=e.keys[5].pubkey),n}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),decodeData$1(ps.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(StakeProgram.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}}const ps=Object.freeze({Initialize:{index:0,layout:Sr.struct([Sr.u32("instruction"),((e="authorized")=>Sr.struct([publicKey("staker"),publicKey("withdrawer")],e))(),((e="lockup")=>Sr.struct([Sr.ns64("unixTimestamp"),Sr.ns64("epoch"),publicKey("custodian")],e))()])},Authorize:{index:1,layout:Sr.struct([Sr.u32("instruction"),publicKey("newAuthorized"),Sr.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:Sr.struct([Sr.u32("instruction")])},Split:{index:3,layout:Sr.struct([Sr.u32("instruction"),Sr.ns64("lamports")])},Withdraw:{index:4,layout:Sr.struct([Sr.u32("instruction"),Sr.ns64("lamports")])},Deactivate:{index:5,layout:Sr.struct([Sr.u32("instruction")])},Merge:{index:7,layout:Sr.struct([Sr.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:Sr.struct([Sr.u32("instruction"),publicKey("newAuthorized"),Sr.u32("stakeAuthorizationType"),rustString("authoritySeed"),publicKey("authorityOwner")])}}),gs=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class StakeProgram{constructor(){}static initialize(e){const{stakePubkey:r,authorized:n,lockup:i}=e,s=i||Lockup.default,a=encodeData(ps.Initialize,{authorized:{staker:toBuffer(n.staker.toBuffer()),withdrawer:toBuffer(n.withdrawer.toBuffer())},lockup:{unixTimestamp:s.unixTimestamp,epoch:s.epoch,custodian:toBuffer(s.custodian.toBuffer())}}),k={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:ei,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new TransactionInstruction(k)}static createAccountWithSeed(e){const r=new Transaction;r.add(SystemProgram.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:n,authorized:i,lockup:s}=e;return r.add(this.initialize({stakePubkey:n,authorized:i,lockup:s}))}static createAccount(e){const r=new Transaction;r.add(SystemProgram.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:n,authorized:i,lockup:s}=e;return r.add(this.initialize({stakePubkey:n,authorized:i,lockup:s}))}static delegate(e){const{stakePubkey:r,authorizedPubkey:n,votePubkey:i}=e,s=encodeData(ps.Delegate);return(new Transaction).add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:Wn,isSigner:!1,isWritable:!1},{pubkey:ii,isSigner:!1,isWritable:!1},{pubkey:fs,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static authorize(e){const{stakePubkey:r,authorizedPubkey:n,newAuthorizedPubkey:i,stakeAuthorizationType:s,custodianPubkey:a}=e,k=encodeData(ps.Authorize,{newAuthorized:toBuffer(i.toBuffer()),stakeAuthorizationType:s.index}),w=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Wn,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return a&&w.push({pubkey:a,isSigner:!0,isWritable:!1}),(new Transaction).add({keys:w,programId:this.programId,data:k})}static authorizeWithSeed(e){const{stakePubkey:r,authorityBase:n,authoritySeed:i,authorityOwner:s,newAuthorizedPubkey:a,stakeAuthorizationType:k,custodianPubkey:w}=e,I=encodeData(ps.AuthorizeWithSeed,{newAuthorized:toBuffer(a.toBuffer()),stakeAuthorizationType:k.index,authoritySeed:i,authorityOwner:toBuffer(s.toBuffer())}),we=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:Wn,isSigner:!1,isWritable:!1}];return w&&we.push({pubkey:w,isSigner:!0,isWritable:!1}),(new Transaction).add({keys:we,programId:this.programId,data:I})}static splitInstruction(e){const{stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,lamports:s}=e,a=encodeData(ps.Split,{lamports:s});return new TransactionInstruction({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e,r){const n=new Transaction;return n.add(SystemProgram.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:r,space:this.space,programId:this.programId})),n.add(this.splitInstruction(e))}static splitWithSeed(e,r){const{stakePubkey:n,authorizedPubkey:i,splitStakePubkey:s,basePubkey:a,seed:k,lamports:w}=e,I=new Transaction;return I.add(SystemProgram.allocate({accountPubkey:s,basePubkey:a,seed:k,space:this.space,programId:this.programId})),r&&r>0&&I.add(SystemProgram.transfer({fromPubkey:e.authorizedPubkey,toPubkey:s,lamports:r})),I.add(this.splitInstruction({stakePubkey:n,authorizedPubkey:i,splitStakePubkey:s,lamports:w}))}static merge(e){const{stakePubkey:r,sourceStakePubKey:n,authorizedPubkey:i}=e,s=encodeData(ps.Merge);return(new Transaction).add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Wn,isSigner:!1,isWritable:!1},{pubkey:ii,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static withdraw(e){const{stakePubkey:r,authorizedPubkey:n,toPubkey:i,lamports:s,custodianPubkey:a}=e,k=encodeData(ps.Withdraw,{lamports:s}),w=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:Wn,isSigner:!1,isWritable:!1},{pubkey:ii,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return a&&w.push({pubkey:a,isSigner:!0,isWritable:!1}),(new Transaction).add({keys:w,programId:this.programId,data:k})}static deactivate(e){const{stakePubkey:r,authorizedPubkey:n}=e,i=encodeData(ps.Deactivate);return(new Transaction).add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Wn,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}}StakeProgram.programId=new PublicKey("Stake11111111111111111111111111111111111111"),StakeProgram.space=200;class VoteInit{constructor(e,r,n,i){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=r,this.authorizedWithdrawer=n,this.commission=i}}class VoteInstruction{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=Sr.u32("instruction").decode(e.data);let n;for(const[e,i]of Object.entries(ys))if(i.index==r){n=e;break}if(!n)throw new Error("Instruction type incorrect; not a VoteInstruction");return n}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:r}=decodeData$1(ys.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new VoteInit(new PublicKey(r.nodePubkey),new PublicKey(r.authorizedVoter),new PublicKey(r.authorizedWithdrawer),r.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:r,voteAuthorizationType:n}=decodeData$1(ys.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new PublicKey(r),voteAuthorizationType:{index:n}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:n,newAuthorized:i,voteAuthorizationType:s}}=decodeData$1(ys.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new PublicKey(r),currentAuthorityDerivedKeySeed:n,newAuthorizedPubkey:new PublicKey(i),voteAuthorizationType:{index:s},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:r}=decodeData$1(ys.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:r,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(VoteProgram.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}}const ys=Object.freeze({InitializeAccount:{index:0,layout:Sr.struct([Sr.u32("instruction"),((e="voteInit")=>Sr.struct([publicKey("nodePubkey"),publicKey("authorizedVoter"),publicKey("authorizedWithdrawer"),Sr.u8("commission")],e))()])},Authorize:{index:1,layout:Sr.struct([Sr.u32("instruction"),publicKey("newAuthorized"),Sr.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:Sr.struct([Sr.u32("instruction"),Sr.ns64("lamports")])},UpdateValidatorIdentity:{index:4,layout:Sr.struct([Sr.u32("instruction")])},AuthorizeWithSeed:{index:10,layout:Sr.struct([Sr.u32("instruction"),((e="voteAuthorizeWithSeedArgs")=>Sr.struct([Sr.u32("voteAuthorizationType"),publicKey("currentAuthorityDerivedKeyOwnerPubkey"),rustString("currentAuthorityDerivedKeySeed"),publicKey("newAuthorized")],e))()])}}),ms=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class VoteProgram{constructor(){}static initializeAccount(e){const{votePubkey:r,nodePubkey:n,voteInit:i}=e,s=encodeData(ys.InitializeAccount,{voteInit:{nodePubkey:toBuffer(i.nodePubkey.toBuffer()),authorizedVoter:toBuffer(i.authorizedVoter.toBuffer()),authorizedWithdrawer:toBuffer(i.authorizedWithdrawer.toBuffer()),commission:i.commission}}),a={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:ei,isSigner:!1,isWritable:!1},{pubkey:Wn,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:s};return new TransactionInstruction(a)}static createAccount(e){const r=new Transaction;return r.add(SystemProgram.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),r.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:r,authorizedPubkey:n,newAuthorizedPubkey:i,voteAuthorizationType:s}=e,a=encodeData(ys.Authorize,{newAuthorized:toBuffer(i.toBuffer()),voteAuthorizationType:s.index}),k=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Wn,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return(new Transaction).add({keys:k,programId:this.programId,data:a})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:r,currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:i,newAuthorizedPubkey:s,voteAuthorizationType:a,votePubkey:k}=e,w=encodeData(ys.AuthorizeWithSeed,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:toBuffer(n.toBuffer()),currentAuthorityDerivedKeySeed:i,newAuthorized:toBuffer(s.toBuffer()),voteAuthorizationType:a.index}}),I=[{pubkey:k,isSigner:!1,isWritable:!0},{pubkey:Wn,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return(new Transaction).add({keys:I,programId:this.programId,data:w})}static withdraw(e){const{votePubkey:r,authorizedWithdrawerPubkey:n,lamports:i,toPubkey:s}=e,a=encodeData(ys.Withdraw,{lamports:i}),k=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return(new Transaction).add({keys:k,programId:this.programId,data:a})}static safeWithdraw(e,r,n){if(e.lamports>r-n)throw new Error("Withdraw will leave vote account with insufficient funds.");return VoteProgram.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:r,authorizedWithdrawerPubkey:n,nodePubkey:i}=e,s=encodeData(ys.UpdateValidatorIdentity),a=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return(new Transaction).add({keys:a,programId:this.programId,data:s})}}VoteProgram.programId=new PublicKey("Vote111111111111111111111111111111111111111"),VoteProgram.space=3762;const bs=new PublicKey("Va1idator1nfo111111111111111111111111111111"),ks=(0,vr.NW)({name:(0,vr.Yj)(),website:(0,vr.lq)((0,vr.Yj)()),details:(0,vr.lq)((0,vr.Yj)()),keybaseUsername:(0,vr.lq)((0,vr.Yj)())});class ValidatorInfo{constructor(e,r){this.key=void 0,this.info=void 0,this.key=e,this.info=r}static fromConfigData(e){let r=[...e];if(2!==decodeLength(r))return null;const n=[];for(let e=0;e<2;e++){const e=new PublicKey(guardedSplice(r,0,pn)),i=1===guardedShift(r);n.push({publicKey:e,isSigner:i})}if(n[0].publicKey.equals(bs)&&n[1].isSigner){const e=rustString().decode(s.Buffer.from(r)),i=JSON.parse(e);return(0,vr.vA)(i,ks),new ValidatorInfo(n[1].publicKey,i)}return null}}const ws=new PublicKey("Vote111111111111111111111111111111111111111"),Is=Sr.struct([publicKey("nodePubkey"),publicKey("authorizedWithdrawer"),Sr.u8("commission"),Sr.nu64(),Sr.seq(Sr.struct([Sr.nu64("slot"),Sr.u32("confirmationCount")]),Sr.offset(Sr.u32(),-8),"votes"),Sr.u8("rootSlotValid"),Sr.nu64("rootSlot"),Sr.nu64(),Sr.seq(Sr.struct([Sr.nu64("epoch"),publicKey("authorizedVoter")]),Sr.offset(Sr.u32(),-8),"authorizedVoters"),Sr.struct([Sr.seq(Sr.struct([publicKey("authorizedPubkey"),Sr.nu64("epochOfLastAuthorizedSwitch"),Sr.nu64("targetEpoch")]),32,"buf"),Sr.nu64("idx"),Sr.u8("isEmpty")],"priorVoters"),Sr.nu64(),Sr.seq(Sr.struct([Sr.nu64("epoch"),Sr.nu64("credits"),Sr.nu64("prevCredits")]),Sr.offset(Sr.u32(),-8),"epochCredits"),Sr.struct([Sr.nu64("slot"),Sr.nu64("timestamp")],"lastTimestamp")]);class VoteAccount{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const r=Is.decode(toBuffer(e),4);let n=r.rootSlot;return r.rootSlotValid||(n=null),new VoteAccount({nodePubkey:new PublicKey(r.nodePubkey),authorizedWithdrawer:new PublicKey(r.authorizedWithdrawer),commission:r.commission,votes:r.votes,rootSlot:n,authorizedVoters:r.authorizedVoters.map(parseAuthorizedVoter),priorVoters:getPriorVoters(r.priorVoters),epochCredits:r.epochCredits,lastTimestamp:r.lastTimestamp})}}function parseAuthorizedVoter({authorizedVoter:e,epoch:r}){return{epoch:r,authorizedVoter:new PublicKey(e)}}function parsePriorVoters({authorizedPubkey:e,epochOfLastAuthorizedSwitch:r,targetEpoch:n}){return{authorizedPubkey:new PublicKey(e),epochOfLastAuthorizedSwitch:r,targetEpoch:n}}function getPriorVoters({buf:e,idx:r,isEmpty:n}){return n?[]:[...e.slice(r+1).map(parsePriorVoters),...e.slice(0,r).map(parsePriorVoters)]}const _s={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function clusterApiUrl(e,r){const n=!1===r?"http":"https";if(!e)return _s[n].devnet;const i=_s[n][e];if(!i)throw new Error(`Unknown ${n} cluster: ${e}`);return i}async function sendAndConfirmRawTransaction(e,r,n,i){let s,a;n&&Object.prototype.hasOwnProperty.call(n,"lastValidBlockHeight")||n&&Object.prototype.hasOwnProperty.call(n,"nonceValue")?(s=n,a=i):a=n;const k=a&&{skipPreflight:a.skipPreflight,preflightCommitment:a.preflightCommitment||a.commitment,minContextSlot:a.minContextSlot},w=await e.sendRawTransaction(r,k),I=a&&a.commitment,we=s?e.confirmTransaction(s,I):e.confirmTransaction(w,I),Ae=(await we).value;if(Ae.err)throw new Error(`Raw transaction ${w} failed (${JSON.stringify(Ae)})`);return w}const Ss=1e9},651890:(e,r,n)=>{"use strict";var i=n(901048).Buffer;const s=n(828985),a=n(123108);class CommonClient extends s.EventEmitter{address;rpc_id;queue;options;autoconnect;ready;reconnect;reconnect_timer_id;reconnect_interval;max_reconnects;rest_options;current_reconnects;generate_request_id;socket;webSocketFactory;dataPack;constructor(e,r="ws://localhost:8080",{autoconnect:n=!0,reconnect:i=!0,reconnect_interval:s=1e3,max_reconnects:k=5,...w}={},I,we){super(),this.webSocketFactory=e,this.queue={},this.rpc_id=0,this.address=r,this.autoconnect=n,this.ready=!1,this.reconnect=i,this.reconnect_timer_id=void 0,this.reconnect_interval=s,this.max_reconnects=k,this.rest_options=w,this.current_reconnects=0,this.generate_request_id=I||(()=>++this.rpc_id),this.dataPack=we||new a.DefaultDataPack,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(e,r,n,i){return i||"object"!=typeof n||(i=n,n=null),new Promise(((s,a)=>{if(!this.ready)return a(new Error("socket not ready"));const k=this.generate_request_id(e,r),w={jsonrpc:"2.0",method:e,params:r||void 0,id:k};this.socket.send(this.dataPack.encode(w),i,(e=>{if(e)return a(e);this.queue[k]={promise:[s,a]},n&&(this.queue[k].timeout=setTimeout((()=>{delete this.queue[k],a(new Error("reply timeout"))}),n))}))}))}async login(e){const r=await this.call("rpc.login",e);if(!r)throw new Error("authentication failed");return r}async listMethods(){return await this.call("__listMethods")}notify(e,r){return new Promise(((n,i)=>{if(!this.ready)return i(new Error("socket not ready"));const s={jsonrpc:"2.0",method:e,params:r};this.socket.send(this.dataPack.encode(s),(e=>{if(e)return i(e);n()}))}))}async subscribe(e){"string"==typeof e&&(e=[e]);const r=await this.call("rpc.on",e);if("string"==typeof e&&"ok"!==r[e])throw new Error("Failed subscribing to an event '"+e+"' with: "+r[e]);return r}async unsubscribe(e){"string"==typeof e&&(e=[e]);const r=await this.call("rpc.off",e);if("string"==typeof e&&"ok"!==r[e])throw new Error("Failed unsubscribing from an event with: "+r);return r}close(e,r){this.socket.close(e||1e3,r)}setAutoReconnect(e){this.reconnect=e}setReconnectInterval(e){this.reconnect_interval=e}setMaxReconnects(e){this.max_reconnects=e}_connect(e,r){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(e,r),this.socket.addEventListener("open",(()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0})),this.socket.addEventListener("message",(({data:e})=>{e instanceof ArrayBuffer&&(e=i.from(e).toString());try{e=this.dataPack.decode(e)}catch(e){return}if(e.notification&&this.listeners(e.notification).length){if(!Object.keys(e.params).length)return this.emit(e.notification);const r=[e.notification];if(e.params.constructor===Object)r.push(e.params);else for(let n=0;n<e.params.length;n++)r.push(e.params[n]);return Promise.resolve().then((()=>{this.emit.apply(this,r)}))}if(!this.queue[e.id])return e.method?Promise.resolve().then((()=>{this.emit(e.method,e?.params)})):void 0;"error"in e=="result"in e&&this.queue[e.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[e.id].timeout&&clearTimeout(this.queue[e.id].timeout),e.error?this.queue[e.id].promise[1](e.error):this.queue[e.id].promise[0](e.result),delete this.queue[e.id]})),this.socket.addEventListener("error",(e=>this.emit("error",e))),this.socket.addEventListener("close",(({code:n,reason:i})=>{this.ready&&setTimeout((()=>this.emit("close",n,i)),0),this.ready=!1,this.socket=void 0,1e3!==n&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||0===this.max_reconnects)&&(this.reconnect_timer_id=setTimeout((()=>this._connect(e,r)),this.reconnect_interval)))}))}}r.A=CommonClient},859696:(e,r,n)=>{"use strict";const i=n(828985);class WebSocketBrowserImpl extends i.EventEmitter{socket;constructor(e,r,n){super(),this.socket=new window.WebSocket(e,n),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=e=>this.emit("message",e.data),this.socket.onerror=e=>this.emit("error",e),this.socket.onclose=e=>{this.emit("close",e.code,e.reason)}}send(e,r,n){const i=n||r;try{this.socket.send(e),i()}catch(e){i(e)}}close(e,r){this.socket.close(e,r)}addEventListener(e,r,n){this.socket.addEventListener(e,r,n)}}r.A=function default_1(e,r){return new WebSocketBrowserImpl(e,r)}},123108:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.createError=r.DefaultDataPack=void 0;const n=new Map([[-32e3,"Event not provided"],[-32600,"Invalid Request"],[-32601,"Method not found"],[-32602,"Invalid params"],[-32603,"Internal error"],[-32604,"Params not found"],[-32605,"Method forbidden"],[-32606,"Event forbidden"],[-32700,"Parse error"]]);r.DefaultDataPack=class DefaultDataPack{encode(e){return JSON.stringify(e)}decode(e){return JSON.parse(e)}},r.createError=function createError(e,r){const i={code:e,message:n.get(e)||"Internal Server Error"};return r&&(i.data=r),i}},618886:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__exportStar||function(e,r){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||i(r,e,n)};Object.defineProperty(r,"__esModule",{value:!0}),r.supportedTypeMap=void 0;const a=n(372185);s(n(372185),r),s(n(686956),r),r.supportedTypeMap=a.keysTypeMap},686956:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.GpaBuilder=void 0;const i=n(666808),s=n(626093),a=n(615924),k=n(697838);class GpaBuilder{constructor(e,r,n){this.programId=e,this.beets=r,this.accountSize=n,this.config={}}_addFilter(e){return null==this.config.filters&&(this.config.filters=[]),this.config.filters.push(e),this}_addInnerFilter(e,r,n){(0,a.logTrace)(`gpa.addInnerFilter: ${e}.${r}`);const w=this.beets.get(e);(0,s.strict)(null!=w,"Outer filter key needs to be an existing field name");const I=w.beet;let we=w.offset;const Ae=(0,i.isFixedSizeBeet)(I)?I:I.toFixedFromValue(n);let Be;for(const[e,n]of Ae.fields){if(e===r){Be=n;break}we+=n.byteSize}(0,s.strict)(null!=Be,`${r} is not a field of the ${e} struct`);const Ce=(0,k.encodeFixedBeet)(Be,n);return this._addFilter({memcmp:{offset:we,bytes:Ce}}),this}addInnerFilter(e,r){const n=e.split(".");s.strict.equal(n.length,2,"inner filters can go only one level deep, i.e. 'outer.inner' is ok, but 'outer.inner.deep' is not");const[i,a]=n;return this._addInnerFilter(i,a,r)}addFilter(e,r){const n=this.beets.get(e);(0,s.strict)(null!=n,"Filter key needs to be an existing field name");const a=(0,i.isFixedSizeBeet)(n.beet)?n.beet:n.beet.toFixedFromValue(r),w=(0,k.encodeFixedBeet)(a,r);return this._addFilter({memcmp:{offset:n.offset,bytes:w}}),this}dataSize(e){return e=null!=e?e:this.accountSize,(0,s.strict)(null!=e,"for accounts of dynamic size the dataSize arg needs to be provided"),this._addFilter({dataSize:e})}run(e){return e.getProgramAccounts(this.programId,this.config)}static fromBeetFields(e,r){const n=new Map;let s=0,a=!1;for(const[e,k]of r){if(n.set(e,{beet:k,offset:s}),!(0,i.isFixedSizeBeet)(k)){a=!0;break}s+=k.byteSize}return new GpaBuilder(e,n,a?void 0:s)}static fromStruct(e,r){return GpaBuilder.fromBeetFields(e,r.fields)}}r.GpaBuilder=GpaBuilder},697838:function(e,r,n){"use strict";var i=n(901048).Buffer,s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.encodeFixedBeet=void 0;const a=s(n(79114));r.encodeFixedBeet=function encodeFixedBeet(e,r){const n=i.alloc(e.byteSize);return e.write(n,0,r),a.default.encode(n)}},372185:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.keysTypeMap=r.publicKey=void 0;const i=n(131600),s=(0,n(666808).fixedSizeUint8Array)(32);r.publicKey={write:function(e,r,n){const i=n.toBytes();s.write(e,r,i)},read:function(e,r){const n=s.read(e,r);return new i.PublicKey(n)},byteSize:s.byteSize,description:"PublicKey"},r.keysTypeMap={publicKey:{beet:"publicKey",isFixable:!1,sourcePack:"@metaplex-foundation/beet-solana",ts:"PublicKey",pack:"@solana/web3.js"}}},615924:function(e,r,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.logTrace=r.logDebug=r.logInfo=r.logError=void 0;const s=i(n(720124));r.logError=(0,s.default)("beet:error"),r.logInfo=(0,s.default)("beet:info"),r.logDebug=(0,s.default)("beet:debug"),r.logTrace=(0,s.default)("beet:trace")},131600:(e,r,n)=>{"use strict";n.r(r),n.d(r,{Account:()=>Account,AddressLookupTableAccount:()=>AddressLookupTableAccount,AddressLookupTableInstruction:()=>AddressLookupTableInstruction,AddressLookupTableProgram:()=>AddressLookupTableProgram,Authorized:()=>Authorized,BLOCKHASH_CACHE_TIMEOUT_MS:()=>Si,BPF_LOADER_DEPRECATED_PROGRAM_ID:()=>yn,BPF_LOADER_PROGRAM_ID:()=>hi,BpfLoader:()=>BpfLoader,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:()=>cs,ComputeBudgetInstruction:()=>ComputeBudgetInstruction,ComputeBudgetProgram:()=>ComputeBudgetProgram,Connection:()=>Connection,Ed25519Program:()=>Ed25519Program,Enum:()=>Enum,EpochSchedule:()=>EpochSchedule,FeeCalculatorLayout:()=>oi,Keypair:()=>Keypair,LAMPORTS_PER_SOL:()=>Ss,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:()=>as,Loader:()=>Loader,Lockup:()=>Lockup,MAX_SEED_LENGTH:()=>ln,Message:()=>Message,MessageAccountKeys:()=>MessageAccountKeys,MessageV0:()=>MessageV0,NONCE_ACCOUNT_LENGTH:()=>ai,NonceAccount:()=>NonceAccount,PACKET_DATA_SIZE:()=>mn,PUBLIC_KEY_LENGTH:()=>pn,PublicKey:()=>PublicKey,SIGNATURE_LENGTH_IN_BYTES:()=>kn,SOLANA_SCHEMA:()=>un,STAKE_CONFIG_ID:()=>fs,STAKE_INSTRUCTION_LAYOUTS:()=>ps,SYSTEM_INSTRUCTION_LAYOUTS:()=>di,SYSVAR_CLOCK_PUBKEY:()=>Wn,SYSVAR_EPOCH_SCHEDULE_PUBKEY:()=>Hn,SYSVAR_INSTRUCTIONS_PUBKEY:()=>Zn,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:()=>Qn,SYSVAR_RENT_PUBKEY:()=>ei,SYSVAR_REWARDS_PUBKEY:()=>ti,SYSVAR_SLOT_HASHES_PUBKEY:()=>ri,SYSVAR_SLOT_HISTORY_PUBKEY:()=>ni,SYSVAR_STAKE_HISTORY_PUBKEY:()=>ii,Secp256k1Program:()=>Secp256k1Program,SendTransactionError:()=>SendTransactionError,SolanaJSONRPCError:()=>SolanaJSONRPCError,SolanaJSONRPCErrorCode:()=>yi,StakeAuthorizationLayout:()=>gs,StakeInstruction:()=>StakeInstruction,StakeProgram:()=>StakeProgram,Struct:()=>Struct,SystemInstruction:()=>SystemInstruction,SystemProgram:()=>SystemProgram,Transaction:()=>Transaction,TransactionExpiredBlockheightExceededError:()=>TransactionExpiredBlockheightExceededError,TransactionExpiredNonceInvalidError:()=>TransactionExpiredNonceInvalidError,TransactionExpiredTimeoutError:()=>TransactionExpiredTimeoutError,TransactionInstruction:()=>TransactionInstruction,TransactionMessage:()=>TransactionMessage,TransactionStatus:()=>Bn,VALIDATOR_INFO_KEY:()=>bs,VERSION_PREFIX_MASK:()=>bn,VOTE_PROGRAM_ID:()=>ws,ValidatorInfo:()=>ValidatorInfo,VersionedMessage:()=>Mn,VersionedTransaction:()=>VersionedTransaction,VoteAccount:()=>VoteAccount,VoteAuthorizationLayout:()=>ms,VoteInit:()=>VoteInit,VoteInstruction:()=>VoteInstruction,VoteProgram:()=>VoteProgram,clusterApiUrl:()=>clusterApiUrl,sendAndConfirmRawTransaction:()=>sendAndConfirmRawTransaction,sendAndConfirmTransaction:()=>sendAndConfirmTransaction});var i={};n.r(i),n.d(i,{DO:()=>utils_abytes,OG:()=>bitMask,My:()=>abstract_utils_bytesToHex,bytesToNumberBE:()=>utils_bytesToNumberBE,lX:()=>utils_bytesToNumberLE,Id:()=>abstract_utils_concatBytes,fg:()=>createHmacDrbg,qj:()=>utils_ensureBytes,hexToBytes:()=>utils_hexToBytes,aY:()=>abstract_utils_isBytes,lq:()=>utils_numberToBytesBE,z:()=>utils_numberToBytesLE,Q5:()=>validateObject});var s=n(901048);function number(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function bytes(e,...r){if(!function isBytes(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}(e))throw new Error("Uint8Array expected");if(r.length>0&&!r.includes(e.length))throw new Error(`Uint8Array expected of length ${r}, not of length=${e.length}`)}function _assert_hash(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");number(e.outputLen),number(e.blockLen)}function exists(e,r=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(r&&e.finished)throw new Error("Hash#digest() has already been called")}function output(e,r){bytes(e);const n=r.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const a="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;const createView=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),rotr=(e,r)=>e<<32-r|e>>>r,k=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],byteSwap=e=>e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255;function byteSwap32(e){for(let r=0;r<e.length;r++)e[r]=byteSwap(e[r])}function utils_utf8ToBytes(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function toBytes(e){return"string"==typeof e&&(e=utils_utf8ToBytes(e)),bytes(e),e}function utils_concatBytes(...e){let r=0;for(let n=0;n<e.length;n++){const i=e[n];bytes(i),r+=i.length}const n=new Uint8Array(r);for(let r=0,i=0;r<e.length;r++){const s=e[r];n.set(s,i),i+=s.length}return n}class Hash{clone(){return this._cloneInto()}}function utils_wrapConstructor(e){const hashC=r=>e().update(toBytes(r)).digest(),r=e();return hashC.outputLen=r.outputLen,hashC.blockLen=r.blockLen,hashC.create=()=>e(),hashC}function utils_randomBytes(e=32){if(a&&"function"==typeof a.getRandomValues)return a.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}const Maj=(e,r,n)=>e&r^e&n^r&n;class HashMD extends Hash{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=createView(this.buffer)}update(e){exists(this);const{view:r,buffer:n,blockLen:i}=this,s=(e=toBytes(e)).length;for(let a=0;a<s;){const k=Math.min(i-this.pos,s-a);if(k!==i)n.set(e.subarray(a,a+k),this.pos),this.pos+=k,a+=k,this.pos===i&&(this.process(r,0),this.pos=0);else{const r=createView(e);for(;i<=s-a;a+=i)this.process(r,a)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){exists(this),output(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:a}=this;r[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(n,0),a=0);for(let e=a;e<i;e++)r[e]=0;!function setBigUint64(e,r,n,i){if("function"==typeof e.setBigUint64)return e.setBigUint64(r,n,i);const s=BigInt(32),a=BigInt(4294967295),k=Number(n>>s&a),w=Number(n&a),I=i?4:0,we=i?0:4;e.setUint32(r+I,k,i),e.setUint32(r+we,w,i)}(n,i-8,BigInt(8*this.length),s),this.process(n,0);const k=createView(e),w=this.outputLen;if(w%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const I=w/4,we=this.get();if(I>we.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<I;e++)k.setUint32(4*e,we[e],s)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:a,pos:k}=this;return e.length=i,e.pos=k,e.finished=s,e.destroyed=a,i%r&&e.buffer.set(n),e}}const w=BigInt(2**32-1),I=BigInt(32);function fromBig(e,r=!1){return r?{h:Number(e&w),l:Number(e>>I&w)}:{h:0|Number(e>>I&w),l:0|Number(e&w)}}function split(e,r=!1){let n=new Uint32Array(e.length),i=new Uint32Array(e.length);for(let s=0;s<e.length;s++){const{h:a,l:k}=fromBig(e[s],r);[n[s],i[s]]=[a,k]}return[n,i]}const rotlSH=(e,r,n)=>e<<n|r>>>32-n,rotlSL=(e,r,n)=>r<<n|e>>>32-n,rotlBH=(e,r,n)=>r<<n-32|e>>>64-n,rotlBL=(e,r,n)=>e<<n-32|r>>>64-n;const we={fromBig,split,toBig:(e,r)=>BigInt(e>>>0)<<I|BigInt(r>>>0),shrSH:(e,r,n)=>e>>>n,shrSL:(e,r,n)=>e<<32-n|r>>>n,rotrSH:(e,r,n)=>e>>>n|r<<32-n,rotrSL:(e,r,n)=>e<<32-n|r>>>n,rotrBH:(e,r,n)=>e<<64-n|r>>>n-32,rotrBL:(e,r,n)=>e>>>n-32|r<<64-n,rotr32H:(e,r)=>r,rotr32L:(e,r)=>e,rotlSH,rotlSL,rotlBH,rotlBL,add:function add(e,r,n,i){const s=(r>>>0)+(i>>>0);return{h:e+n+(s/2**32|0)|0,l:0|s}},add3L:(e,r,n)=>(e>>>0)+(r>>>0)+(n>>>0),add3H:(e,r,n,i)=>r+n+i+(e/2**32|0)|0,add4L:(e,r,n,i)=>(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),add4H:(e,r,n,i,s)=>r+n+i+s+(e/2**32|0)|0,add5H:(e,r,n,i,s,a)=>r+n+i+s+a+(e/2**32|0)|0,add5L:(e,r,n,i,s)=>(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0)+(s>>>0)},[Ae,Be]=(()=>we.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))))(),Ce=new Uint32Array(80),ze=new Uint32Array(80);class SHA512 extends HashMD{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:a,Dh:k,Dl:w,Eh:I,El:we,Fh:Ae,Fl:Be,Gh:Ce,Gl:ze,Hh:qe,Hl:$e}=this;return[e,r,n,i,s,a,k,w,I,we,Ae,Be,Ce,ze,qe,$e]}set(e,r,n,i,s,a,k,w,I,we,Ae,Be,Ce,ze,qe,$e){this.Ah=0|e,this.Al=0|r,this.Bh=0|n,this.Bl=0|i,this.Ch=0|s,this.Cl=0|a,this.Dh=0|k,this.Dl=0|w,this.Eh=0|I,this.El=0|we,this.Fh=0|Ae,this.Fl=0|Be,this.Gh=0|Ce,this.Gl=0|ze,this.Hh=0|qe,this.Hl=0|$e}process(e,r){for(let n=0;n<16;n++,r+=4)Ce[n]=e.getUint32(r),ze[n]=e.getUint32(r+=4);for(let e=16;e<80;e++){const r=0|Ce[e-15],n=0|ze[e-15],i=we.rotrSH(r,n,1)^we.rotrSH(r,n,8)^we.shrSH(r,n,7),s=we.rotrSL(r,n,1)^we.rotrSL(r,n,8)^we.shrSL(r,n,7),a=0|Ce[e-2],k=0|ze[e-2],w=we.rotrSH(a,k,19)^we.rotrBH(a,k,61)^we.shrSH(a,k,6),I=we.rotrSL(a,k,19)^we.rotrBL(a,k,61)^we.shrSL(a,k,6),Ae=we.add4L(s,I,ze[e-7],ze[e-16]),Be=we.add4H(Ae,i,w,Ce[e-7],Ce[e-16]);Ce[e]=0|Be,ze[e]=0|Ae}let{Ah:n,Al:i,Bh:s,Bl:a,Ch:k,Cl:w,Dh:I,Dl:qe,Eh:$e,El:Ye,Fh:Je,Fl:et,Gh:rt,Gl:it,Hh:ot,Hl:ht}=this;for(let e=0;e<80;e++){const r=we.rotrSH($e,Ye,14)^we.rotrSH($e,Ye,18)^we.rotrBH($e,Ye,41),ft=we.rotrSL($e,Ye,14)^we.rotrSL($e,Ye,18)^we.rotrBL($e,Ye,41),pt=$e&Je^~$e&rt,yt=Ye&et^~Ye&it,kt=we.add5L(ht,ft,yt,Be[e],ze[e]),_t=we.add5H(kt,ot,r,pt,Ae[e],Ce[e]),St=0|kt,Mt=we.rotrSH(n,i,28)^we.rotrBH(n,i,34)^we.rotrBH(n,i,39),Dt=we.rotrSL(n,i,28)^we.rotrBL(n,i,34)^we.rotrBL(n,i,39),qt=n&s^n&k^s&k,Gt=i&a^i&w^a&w;ot=0|rt,ht=0|it,rt=0|Je,it=0|et,Je=0|$e,et=0|Ye,({h:$e,l:Ye}=we.add(0|I,0|qe,0|_t,0|St)),I=0|k,qe=0|w,k=0|s,w=0|a,s=0|n,a=0|i;const Qt=we.add3L(St,Dt,Gt);n=we.add3H(Qt,_t,Mt,qt),i=0|Qt}({h:n,l:i}=we.add(0|this.Ah,0|this.Al,0|n,0|i)),({h:s,l:a}=we.add(0|this.Bh,0|this.Bl,0|s,0|a)),({h:k,l:w}=we.add(0|this.Ch,0|this.Cl,0|k,0|w)),({h:I,l:qe}=we.add(0|this.Dh,0|this.Dl,0|I,0|qe)),({h:$e,l:Ye}=we.add(0|this.Eh,0|this.El,0|$e,0|Ye)),({h:Je,l:et}=we.add(0|this.Fh,0|this.Fl,0|Je,0|et)),({h:rt,l:it}=we.add(0|this.Gh,0|this.Gl,0|rt,0|it)),({h:ot,l:ht}=we.add(0|this.Hh,0|this.Hl,0|ot,0|ht)),this.set(n,i,s,a,k,w,I,qe,$e,Ye,Je,et,rt,it,ot,ht)}roundClean(){Ce.fill(0),ze.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const qe=utils_wrapConstructor((()=>new SHA512)),$e=(BigInt(0),BigInt(1)),Ye=BigInt(2);function abstract_utils_isBytes(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}function utils_abytes(e){if(!abstract_utils_isBytes(e))throw new Error("Uint8Array expected")}const Je=Array.from({length:256},((e,r)=>r.toString(16).padStart(2,"0")));function abstract_utils_bytesToHex(e){utils_abytes(e);let r="";for(let n=0;n<e.length;n++)r+=Je[e[n]];return r}function hexToNumber(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}const et={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function utils_asciiToBase16(e){return e>=et._0&&e<=et._9?e-et._0:e>=et._A&&e<=et._F?e-(et._A-10):e>=et._a&&e<=et._f?e-(et._a-10):void 0}function utils_hexToBytes(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const r=e.length,n=r/2;if(r%2)throw new Error("padded hex string expected, got unpadded hex of length "+r);const i=new Uint8Array(n);for(let r=0,s=0;r<n;r++,s+=2){const n=utils_asciiToBase16(e.charCodeAt(s)),a=utils_asciiToBase16(e.charCodeAt(s+1));if(void 0===n||void 0===a){const r=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+r+'" at index '+s)}i[r]=16*n+a}return i}function utils_bytesToNumberBE(e){return hexToNumber(abstract_utils_bytesToHex(e))}function utils_bytesToNumberLE(e){return utils_abytes(e),hexToNumber(abstract_utils_bytesToHex(Uint8Array.from(e).reverse()))}function utils_numberToBytesBE(e,r){return utils_hexToBytes(e.toString(16).padStart(2*r,"0"))}function utils_numberToBytesLE(e,r){return utils_numberToBytesBE(e,r).reverse()}function utils_ensureBytes(e,r,n){let i;if("string"==typeof r)try{i=utils_hexToBytes(r)}catch(n){throw new Error(`${e} must be valid hex string, got "${r}". Cause: ${n}`)}else{if(!abstract_utils_isBytes(r))throw new Error(`${e} must be hex string or Uint8Array`);i=Uint8Array.from(r)}const s=i.length;if("number"==typeof n&&s!==n)throw new Error(`${e} expected ${n} bytes, got ${s}`);return i}function abstract_utils_concatBytes(...e){let r=0;for(let n=0;n<e.length;n++){const i=e[n];utils_abytes(i),r+=i.length}const n=new Uint8Array(r);for(let r=0,i=0;r<e.length;r++){const s=e[r];n.set(s,i),i+=s.length}return n}const bitMask=e=>(Ye<<BigInt(e-1))-$e,u8n=e=>new Uint8Array(e),u8fr=e=>Uint8Array.from(e);function createHmacDrbg(e,r,n){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof r||r<2)throw new Error("qByteLen must be a number");if("function"!=typeof n)throw new Error("hmacFn must be a function");let i=u8n(e),s=u8n(e),a=0;const reset=()=>{i.fill(1),s.fill(0),a=0},h=(...e)=>n(s,i,...e),reseed=(e=u8n())=>{s=h(u8fr([0]),e),i=h(),0!==e.length&&(s=h(u8fr([1]),e),i=h())},gen=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const n=[];for(;e<r;){i=h();const r=i.slice();n.push(r),e+=i.length}return abstract_utils_concatBytes(...n)};return(e,r)=>{let n;for(reset(),reseed(e);!(n=r(gen()));)reseed();return reset(),n}}const rt={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||abstract_utils_isBytes(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,r)=>r.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function validateObject(e,r,n={}){const checkField=(r,n,i)=>{const s=rt[n];if("function"!=typeof s)throw new Error(`Invalid validator "${n}", expected function`);const a=e[r];if(!(i&&void 0===a||s(a,e)))throw new Error(`Invalid param ${String(r)}=${a} (${typeof a}), expected ${n}`)};for(const[e,n]of Object.entries(r))checkField(e,n,!1);for(const[e,r]of Object.entries(n))checkField(e,r,!0);return e}const it=BigInt(0),ot=BigInt(1),ht=BigInt(2),ft=BigInt(3),pt=BigInt(4),yt=BigInt(5),kt=BigInt(8);BigInt(9),BigInt(16);function modular_mod(e,r){const n=e%r;return n>=it?n:r+n}function pow(e,r,n){if(n<=it||r<it)throw new Error("Expected power/modulo > 0");if(n===ot)return it;let i=ot;for(;r>it;)r&ot&&(i=i*e%n),e=e*e%n,r>>=ot;return i}function modular_pow2(e,r,n){let i=e;for(;r-- >it;)i*=i,i%=n;return i}function invert(e,r){if(e===it||r<=it)throw new Error(`invert: expected positive integers, got n=${e} mod=${r}`);let n=modular_mod(e,r),i=r,s=it,a=ot,k=ot,w=it;for(;n!==it;){const e=i/n,r=i%n,I=s-k*e,we=a-w*e;i=n,n=r,s=k,a=w,k=I,w=we}if(i!==ot)throw new Error("invert: does not exist");return modular_mod(s,r)}function FpSqrt(e){if(e%pt===ft){const r=(e+ot)/pt;return function sqrt3mod4(e,n){const i=e.pow(n,r);if(!e.eql(e.sqr(i),n))throw new Error("Cannot find square root");return i}}if(e%kt===yt){const r=(e-yt)/kt;return function sqrt5mod8(e,n){const i=e.mul(n,ht),s=e.pow(i,r),a=e.mul(n,s),k=e.mul(e.mul(a,ht),s),w=e.mul(a,e.sub(k,e.ONE));if(!e.eql(e.sqr(w),n))throw new Error("Cannot find square root");return w}}return function tonelliShanks(e){const r=(e-ot)/ht;let n,i,s;for(n=e-ot,i=0;n%ht===it;n/=ht,i++);for(s=ht;s<e&&pow(s,r,e)!==e-ot;s++);if(1===i){const r=(e+ot)/pt;return function tonelliFast(e,n){const i=e.pow(n,r);if(!e.eql(e.sqr(i),n))throw new Error("Cannot find square root");return i}}const a=(n+ot)/ht;return function tonelliSlow(e,k){if(e.pow(k,r)===e.neg(e.ONE))throw new Error("Cannot find square root");let w=i,I=e.pow(e.mul(e.ONE,s),n),we=e.pow(k,a),Ae=e.pow(k,n);for(;!e.eql(Ae,e.ONE);){if(e.eql(Ae,e.ZERO))return e.ZERO;let r=1;for(let n=e.sqr(Ae);r<w&&!e.eql(n,e.ONE);r++)n=e.sqr(n);const n=e.pow(I,ot<<BigInt(w-r-1));I=e.sqr(n),we=e.mul(we,n),Ae=e.mul(Ae,I),w=r}return we}}(e)}const modular_isNegativeLE=(e,r)=>(modular_mod(e,r)&ot)===ot,_t=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function nLength(e,r){const n=void 0!==r?r:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function Field(e,r,n=!1,i={}){if(e<=it)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:s,nByteLength:a}=nLength(e,r);if(a>2048)throw new Error("Field lengths over 2048 bytes are not supported");const k=FpSqrt(e),w=Object.freeze({ORDER:e,BITS:s,BYTES:a,MASK:bitMask(s),ZERO:it,ONE:ot,create:r=>modular_mod(r,e),isValid:r=>{if("bigint"!=typeof r)throw new Error("Invalid field element: expected bigint, got "+typeof r);return it<=r&&r<e},is0:e=>e===it,isOdd:e=>(e&ot)===ot,neg:r=>modular_mod(-r,e),eql:(e,r)=>e===r,sqr:r=>modular_mod(r*r,e),add:(r,n)=>modular_mod(r+n,e),sub:(r,n)=>modular_mod(r-n,e),mul:(r,n)=>modular_mod(r*n,e),pow:(e,r)=>function FpPow(e,r,n){if(n<it)throw new Error("Expected power > 0");if(n===it)return e.ONE;if(n===ot)return r;let i=e.ONE,s=r;for(;n>it;)n&ot&&(i=e.mul(i,s)),s=e.sqr(s),n>>=ot;return i}(w,e,r),div:(r,n)=>modular_mod(r*invert(n,e),e),sqrN:e=>e*e,addN:(e,r)=>e+r,subN:(e,r)=>e-r,mulN:(e,r)=>e*r,inv:r=>invert(r,e),sqrt:i.sqrt||(e=>k(w,e)),invertBatch:e=>function FpInvertBatch(e,r){const n=new Array(r.length),i=r.reduce(((r,i,s)=>e.is0(i)?r:(n[s]=r,e.mul(r,i))),e.ONE),s=e.inv(i);return r.reduceRight(((r,i,s)=>e.is0(i)?r:(n[s]=e.mul(r,n[s]),e.mul(r,i))),s),n}(w,e),cmov:(e,r,n)=>n?r:e,toBytes:e=>n?utils_numberToBytesLE(e,a):utils_numberToBytesBE(e,a),fromBytes:e=>{if(e.length!==a)throw new Error(`Fp.fromBytes: expected ${a}, got ${e.length}`);return n?utils_bytesToNumberLE(e):utils_bytesToNumberBE(e)}});return Object.freeze(w)}function getFieldBytesLength(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");const r=e.toString(2).length;return Math.ceil(r/8)}function getMinHashLength(e){const r=getFieldBytesLength(e);return r+Math.ceil(r/2)}const St=BigInt(0),Mt=BigInt(1);function wNAF(e,r){const constTimeNegate=(e,r)=>{const n=r.negate();return e?n:r},opts=e=>({windows:Math.ceil(r/e)+1,windowSize:2**(e-1)});return{constTimeNegate,unsafeLadder(r,n){let i=e.ZERO,s=r;for(;n>St;)n&Mt&&(i=i.add(s)),s=s.double(),n>>=Mt;return i},precomputeWindow(e,r){const{windows:n,windowSize:i}=opts(r),s=[];let a=e,k=a;for(let e=0;e<n;e++){k=a,s.push(k);for(let e=1;e<i;e++)k=k.add(a),s.push(k);a=k.double()}return s},wNAF(r,n,i){const{windows:s,windowSize:a}=opts(r);let k=e.ZERO,w=e.BASE;const I=BigInt(2**r-1),we=2**r,Ae=BigInt(r);for(let e=0;e<s;e++){const r=e*a;let s=Number(i&I);i>>=Ae,s>a&&(s-=we,i+=Mt);const Be=r,Ce=r+Math.abs(s)-1,ze=e%2!=0,qe=s<0;0===s?w=w.add(constTimeNegate(ze,n[Be])):k=k.add(constTimeNegate(qe,n[Ce]))}return{p:k,f:w}},wNAFCached(e,r,n,i){const s=e._WINDOW_SIZE||1;let a=r.get(e);return a||(a=this.precomputeWindow(e,s),1!==s&&r.set(e,i(a))),this.wNAF(s,a,n)}}}function validateBasic(e){return function validateField(e){return validateObject(e,_t.reduce(((e,r)=>(e[r]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"}))}(e.Fp),validateObject(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...nLength(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}const Dt=BigInt(0),qt=BigInt(1),Gt=BigInt(2),Qt=BigInt(8),er={zip215:!0};function twistedEdwards(e){const r=function validateOpts(e){const r=validateBasic(e);return validateObject(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...r})}(e),{Fp:n,n:i,prehash:s,hash:a,randomBytes:k,nByteLength:w,h:I}=r,we=Gt<<BigInt(8*w)-qt,Ae=n.create,Be=r.uvRatio||((e,r)=>{try{return{isValid:!0,value:n.sqrt(e*n.inv(r))}}catch(e){return{isValid:!1,value:Dt}}}),Ce=r.adjustScalarBytes||(e=>e),ze=r.domain||((e,r,n)=>{if(r.length||n)throw new Error("Contexts/pre-hash are not supported");return e}),inBig=e=>"bigint"==typeof e&&Dt<e,inRange=(e,r)=>inBig(e)&&inBig(r)&&e<r,in0MaskRange=e=>e===Dt||inRange(e,we);function assertInRange(e,r){if(inRange(e,r))return e;throw new Error(`Expected valid scalar < ${r}, got ${typeof e} ${e}`)}function assertGE0(e){return e===Dt?e:assertInRange(e,i)}const qe=new Map;function isPoint(e){if(!(e instanceof Point))throw new Error("ExtendedPoint expected")}class Point{constructor(e,r,n,i){if(this.ex=e,this.ey=r,this.ez=n,this.et=i,!in0MaskRange(e))throw new Error("x required");if(!in0MaskRange(r))throw new Error("y required");if(!in0MaskRange(n))throw new Error("z required");if(!in0MaskRange(i))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(e){if(e instanceof Point)throw new Error("extended point not allowed");const{x:r,y:n}=e||{};if(!in0MaskRange(r)||!in0MaskRange(n))throw new Error("invalid affine point");return new Point(r,n,qt,Ae(r*n))}static normalizeZ(e){const r=n.invertBatch(e.map((e=>e.ez)));return e.map(((e,n)=>e.toAffine(r[n]))).map(Point.fromAffine)}_setWindowSize(e){this._WINDOW_SIZE=e,qe.delete(this)}assertValidity(){const{a:e,d:n}=r;if(this.is0())throw new Error("bad point: ZERO");const{ex:i,ey:s,ez:a,et:k}=this,w=Ae(i*i),I=Ae(s*s),we=Ae(a*a),Be=Ae(we*we),Ce=Ae(w*e);if(Ae(we*Ae(Ce+I))!==Ae(Be+Ae(n*Ae(w*I))))throw new Error("bad point: equation left != right (1)");if(Ae(i*s)!==Ae(a*k))throw new Error("bad point: equation left != right (2)")}equals(e){isPoint(e);const{ex:r,ey:n,ez:i}=this,{ex:s,ey:a,ez:k}=e,w=Ae(r*k),I=Ae(s*i),we=Ae(n*k),Be=Ae(a*i);return w===I&&we===Be}is0(){return this.equals(Point.ZERO)}negate(){return new Point(Ae(-this.ex),this.ey,this.ez,Ae(-this.et))}double(){const{a:e}=r,{ex:n,ey:i,ez:s}=this,a=Ae(n*n),k=Ae(i*i),w=Ae(Gt*Ae(s*s)),I=Ae(e*a),we=n+i,Be=Ae(Ae(we*we)-a-k),Ce=I+k,ze=Ce-w,qe=I-k,$e=Ae(Be*ze),Ye=Ae(Ce*qe),Je=Ae(Be*qe),et=Ae(ze*Ce);return new Point($e,Ye,et,Je)}add(e){isPoint(e);const{a:n,d:i}=r,{ex:s,ey:a,ez:k,et:w}=this,{ex:I,ey:we,ez:Be,et:Ce}=e;if(n===BigInt(-1)){const e=Ae((a-s)*(we+I)),r=Ae((a+s)*(we-I)),n=Ae(r-e);if(n===Dt)return this.double();const i=Ae(k*Gt*Ce),ze=Ae(w*Gt*Be),qe=ze+i,$e=r+e,Ye=ze-i,Je=Ae(qe*n),et=Ae($e*Ye),rt=Ae(qe*Ye),it=Ae(n*$e);return new Point(Je,et,it,rt)}const ze=Ae(s*I),qe=Ae(a*we),$e=Ae(w*i*Ce),Ye=Ae(k*Be),Je=Ae((s+a)*(I+we)-ze-qe),et=Ye-$e,rt=Ye+$e,it=Ae(qe-n*ze),ot=Ae(Je*et),ht=Ae(rt*it),ft=Ae(Je*it),pt=Ae(et*rt);return new Point(ot,ht,pt,ft)}subtract(e){return this.add(e.negate())}wNAF(e){return Je.wNAFCached(this,qe,e,Point.normalizeZ)}multiply(e){const{p:r,f:n}=this.wNAF(assertInRange(e,i));return Point.normalizeZ([r,n])[0]}multiplyUnsafe(e){let r=assertGE0(e);return r===Dt?Ye:this.equals(Ye)||r===qt?this:this.equals($e)?this.wNAF(r).p:Je.unsafeLadder(this,r)}isSmallOrder(){return this.multiplyUnsafe(I).is0()}isTorsionFree(){return Je.unsafeLadder(this,i).is0()}toAffine(e){const{ex:r,ey:i,ez:s}=this,a=this.is0();null==e&&(e=a?Qt:n.inv(s));const k=Ae(r*e),w=Ae(i*e),I=Ae(s*e);if(a)return{x:Dt,y:qt};if(I!==qt)throw new Error("invZ was invalid");return{x:k,y:w}}clearCofactor(){const{h:e}=r;return e===qt?this:this.multiplyUnsafe(e)}static fromHex(e,i=!1){const{d:s,a}=r,k=n.BYTES,w=(e=utils_ensureBytes("pointHex",e,k)).slice(),I=e[k-1];w[k-1]=-129&I;const Ce=utils_bytesToNumberLE(w);Ce===Dt||assertInRange(Ce,i?we:n.ORDER);const ze=Ae(Ce*Ce),qe=Ae(ze-qt),$e=Ae(s*ze-a);let{isValid:Ye,value:Je}=Be(qe,$e);if(!Ye)throw new Error("Point.fromHex: invalid y coordinate");const et=(Je&qt)===qt,rt=!!(128&I);if(!i&&Je===Dt&&rt)throw new Error("Point.fromHex: x=0 and x_0=1");return rt!==et&&(Je=Ae(-Je)),Point.fromAffine({x:Je,y:Ce})}static fromPrivateKey(e){return getExtendedPublicKey(e).point}toRawBytes(){const{x:e,y:r}=this.toAffine(),i=utils_numberToBytesLE(r,n.BYTES);return i[i.length-1]|=e&qt?128:0,i}toHex(){return abstract_utils_bytesToHex(this.toRawBytes())}}Point.BASE=new Point(r.Gx,r.Gy,qt,Ae(r.Gx*r.Gy)),Point.ZERO=new Point(Dt,qt,qt,Dt);const{BASE:$e,ZERO:Ye}=Point,Je=wNAF(Point,8*w);function modN(e){return modular_mod(e,i)}function modN_LE(e){return modN(utils_bytesToNumberLE(e))}function getExtendedPublicKey(e){const r=w;e=utils_ensureBytes("private key",e,r);const n=utils_ensureBytes("hashed private key",a(e),2*r),i=Ce(n.slice(0,r)),s=n.slice(r,2*r),k=modN_LE(i),I=$e.multiply(k),we=I.toRawBytes();return{head:i,prefix:s,scalar:k,point:I,pointBytes:we}}function hashDomainToScalar(e=new Uint8Array,...r){const n=abstract_utils_concatBytes(...r);return modN_LE(a(ze(n,utils_ensureBytes("context",e),!!s)))}const et=er;$e._setWindowSize(8);return{CURVE:r,getPublicKey:function getPublicKey(e){return getExtendedPublicKey(e).pointBytes},sign:function sign(e,r,i={}){e=utils_ensureBytes("message",e),s&&(e=s(e));const{prefix:a,scalar:k,pointBytes:I}=getExtendedPublicKey(r),we=hashDomainToScalar(i.context,a,e),Ae=$e.multiply(we).toRawBytes(),Be=modN(we+hashDomainToScalar(i.context,Ae,I,e)*k);return assertGE0(Be),utils_ensureBytes("result",abstract_utils_concatBytes(Ae,utils_numberToBytesLE(Be,n.BYTES)),2*w)},verify:function verify(e,r,i,a=et){const{context:k,zip215:w}=a,I=n.BYTES;e=utils_ensureBytes("signature",e,2*I),r=utils_ensureBytes("message",r),s&&(r=s(r));const we=utils_bytesToNumberLE(e.slice(I,2*I));let Ae,Be,Ce;try{Ae=Point.fromHex(i,w),Be=Point.fromHex(e.slice(0,I),w),Ce=$e.multiplyUnsafe(we)}catch(e){return!1}if(!w&&Ae.isSmallOrder())return!1;const ze=hashDomainToScalar(k,Be.toRawBytes(),Ae.toRawBytes(),r);return Be.add(Ae.multiplyUnsafe(ze)).subtract(Ce).clearCofactor().equals(Point.ZERO)},ExtendedPoint:Point,utils:{getExtendedPublicKey,randomPrivateKey:()=>k(n.BYTES),precompute:(e=8,r=Point.BASE)=>(r._setWindowSize(e),r.multiply(BigInt(3)),r)}}}const tr=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),rr=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),nr=(BigInt(0),BigInt(1)),ir=BigInt(2),or=BigInt(5),sr=BigInt(10),ar=BigInt(20),cr=BigInt(40),ur=BigInt(80);function ed25519_pow_2_252_3(e){const r=tr,n=e*e%r*e%r,i=modular_pow2(n,ir,r)*n%r,s=modular_pow2(i,nr,r)*e%r,a=modular_pow2(s,or,r)*s%r,k=modular_pow2(a,sr,r)*a%r,w=modular_pow2(k,ar,r)*k%r,I=modular_pow2(w,cr,r)*w%r,we=modular_pow2(I,ur,r)*I%r,Ae=modular_pow2(we,ur,r)*I%r,Be=modular_pow2(Ae,sr,r)*a%r;return{pow_p_5_8:modular_pow2(Be,ir,r)*e%r,b2:n}}function adjustScalarBytes(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function uvRatio(e,r){const n=tr,i=modular_mod(r*r*r,n),s=modular_mod(i*i*r,n);let a=modular_mod(e*i*ed25519_pow_2_252_3(e*s).pow_p_5_8,n);const k=modular_mod(r*a*a,n),w=a,I=modular_mod(a*rr,n),we=k===e,Ae=k===modular_mod(-e,n),Be=k===modular_mod(-e*rr,n);return we&&(a=w),(Ae||Be)&&(a=I),modular_isNegativeLE(a,n)&&(a=modular_mod(-a,n)),{isValid:we||Ae,value:a}}const dr=Field(tr,void 0,!0),lr={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:dr,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:qe,randomBytes:utils_randomBytes,adjustScalarBytes,uvRatio},hr=twistedEdwards(lr);function ed25519_domain(e,r,n){if(r.length>255)throw new Error("Context is too big");return utils_concatBytes(utils_utf8ToBytes("SigEd25519 no Ed25519 collisions"),new Uint8Array([n?1:0,r.length]),r,e)}const fr=(dr.ORDER+BigInt(3))/BigInt(8);dr.pow(ir,fr),dr.sqrt(dr.neg(dr.ONE)),dr.ORDER,BigInt(5),BigInt(8),BigInt(486662);(function FpSqrtEven(e,r){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const n=e.sqrt(r);return e.isOdd(n)?e.neg(n):n})(dr,dr.neg(BigInt(486664)));BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var pr=n(682823),gr=n.n(pr),yr=n(299709),mr=n.n(yr);const br=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),kr=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),wr=new Uint32Array(64);class SHA256 extends HashMD{constructor(){super(64,32,8,!1),this.A=0|kr[0],this.B=0|kr[1],this.C=0|kr[2],this.D=0|kr[3],this.E=0|kr[4],this.F=0|kr[5],this.G=0|kr[6],this.H=0|kr[7]}get(){const{A:e,B:r,C:n,D:i,E:s,F:a,G:k,H:w}=this;return[e,r,n,i,s,a,k,w]}set(e,r,n,i,s,a,k,w){this.A=0|e,this.B=0|r,this.C=0|n,this.D=0|i,this.E=0|s,this.F=0|a,this.G=0|k,this.H=0|w}process(e,r){for(let n=0;n<16;n++,r+=4)wr[n]=e.getUint32(r,!1);for(let e=16;e<64;e++){const r=wr[e-15],n=wr[e-2],i=rotr(r,7)^rotr(r,18)^r>>>3,s=rotr(n,17)^rotr(n,19)^n>>>10;wr[e]=s+wr[e-7]+i+wr[e-16]|0}let{A:n,B:i,C:s,D:a,E:k,F:w,G:I,H:we}=this;for(let e=0;e<64;e++){const r=we+(rotr(k,6)^rotr(k,11)^rotr(k,25))+((Ae=k)&w^~Ae&I)+br[e]+wr[e]|0,Be=(rotr(n,2)^rotr(n,13)^rotr(n,22))+Maj(n,i,s)|0;we=I,I=w,w=k,k=a+r|0,a=s,s=i,i=n,n=r+Be|0}var Ae;n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,k=k+this.E|0,w=w+this.F|0,I=I+this.G|0,we=we+this.H|0,this.set(n,i,s,a,k,w,I,we)}roundClean(){wr.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Ir=utils_wrapConstructor((()=>new SHA256));var _r=n(881818),Sr=n(878918),Er=n(856115),vr=n(727801),Ar=n(759499),Tr=n.n(Ar),Pr=n(840360),Or=n(134902);const Mr=[],xr=[],Br=[],Rr=BigInt(0),Cr=BigInt(1),Dr=BigInt(2),Nr=BigInt(7),zr=BigInt(256),Wr=BigInt(113);for(let e=0,r=Cr,n=1,i=0;e<24;e++){[n,i]=[i,(2*n+3*i)%5],Mr.push(2*(5*i+n)),xr.push((e+1)*(e+2)/2%64);let s=Rr;for(let e=0;e<7;e++)r=(r<<Cr^(r>>Nr)*Wr)%zr,r&Dr&&(s^=Cr<<(Cr<<BigInt(e))-Cr);Br.push(s)}const[jr,Lr]=split(Br,!0),rotlH=(e,r,n)=>n>32?rotlBH(e,r,n):rotlSH(e,r,n),rotlL=(e,r,n)=>n>32?rotlBL(e,r,n):rotlSL(e,r,n);class Keccak extends Hash{constructor(e,r,n,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,number(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");var a;this.state=new Uint8Array(200),this.state32=(a=this.state,new Uint32Array(a.buffer,a.byteOffset,Math.floor(a.byteLength/4)))}keccak(){k||byteSwap32(this.state32),function keccakP(e,r=24){const n=new Uint32Array(10);for(let i=24-r;i<24;i++){for(let r=0;r<10;r++)n[r]=e[r]^e[r+10]^e[r+20]^e[r+30]^e[r+40];for(let r=0;r<10;r+=2){const i=(r+8)%10,s=(r+2)%10,a=n[s],k=n[s+1],w=rotlH(a,k,1)^n[i],I=rotlL(a,k,1)^n[i+1];for(let n=0;n<50;n+=10)e[r+n]^=w,e[r+n+1]^=I}let r=e[2],s=e[3];for(let n=0;n<24;n++){const i=xr[n],a=rotlH(r,s,i),k=rotlL(r,s,i),w=Mr[n];r=e[w],s=e[w+1],e[w]=a,e[w+1]=k}for(let r=0;r<50;r+=10){for(let i=0;i<10;i++)n[i]=e[r+i];for(let i=0;i<10;i++)e[r+i]^=~n[(i+2)%10]&n[(i+4)%10]}e[0]^=jr[i],e[1]^=Lr[i]}n.fill(0)}(this.state32,this.rounds),k||byteSwap32(this.state32),this.posOut=0,this.pos=0}update(e){exists(this);const{blockLen:r,state:n}=this,i=(e=toBytes(e)).length;for(let s=0;s<i;){const a=Math.min(r-this.pos,i-s);for(let r=0;r<a;r++)n[this.pos++]^=e[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,128&r&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){exists(this,!1),bytes(e),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();const a=Math.min(n-this.posOut,s-i);e.set(r.subarray(this.posOut,this.posOut+a),i),this.posOut+=a,i+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:a}=this;return e||(e=new Keccak(r,n,i,a,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=a,e.destroyed=this.destroyed,e}}const gen=(e,r,n)=>utils_wrapConstructor((()=>new Keccak(r,e,n))),Kr=gen(1,136,32);class HMAC extends Hash{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,_assert_hash(e);const n=toBytes(r);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let e=0;e<s.length;e++)s[e]^=54;this.iHash.update(s),this.oHash=e.create();for(let e=0;e<s.length;e++)s[e]^=106;this.oHash.update(s),s.fill(0)}update(e){return exists(this),this.iHash.update(e),this}digestInto(e){exists(this),bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:a,outputLen:k}=this;return e.finished=i,e.destroyed=s,e.blockLen=a,e.outputLen=k,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const hmac=(e,r,n)=>new HMAC(e,r).update(n).digest();hmac.create=(e,r)=>new HMAC(e,r);const{bytesToNumberBE:Fr,hexToBytes:Ur}=i,Vr={Err:class DERErr extends Error{constructor(e=""){super(e)}},_parseInt(e){const{Err:r}=Vr;if(e.length<2||2!==e[0])throw new r("Invalid signature integer tag");const n=e[1],i=e.subarray(2,n+2);if(!n||i.length!==n)throw new r("Invalid signature integer: wrong length");if(128&i[0])throw new r("Invalid signature integer: negative");if(0===i[0]&&!(128&i[1]))throw new r("Invalid signature integer: unnecessary leading zero");return{d:Fr(i),l:e.subarray(n+2)}},toSig(e){const{Err:r}=Vr,n="string"==typeof e?Ur(e):e;utils_abytes(n);let i=n.length;if(i<2||48!=n[0])throw new r("Invalid signature tag");if(n[1]!==i-2)throw new r("Invalid signature: incorrect length");const{d:s,l:a}=Vr._parseInt(n.subarray(2)),{d:k,l:w}=Vr._parseInt(a);if(w.length)throw new r("Invalid signature: left bytes after parsing");return{r:s,s:k}},hexFromSig(e){const slice=e=>8&Number.parseInt(e[0],16)?"00"+e:e,h=e=>{const r=e.toString(16);return 1&r.length?`0${r}`:r},r=slice(h(e.s)),n=slice(h(e.r)),i=r.length/2,s=n.length/2,a=h(i),k=h(s);return`30${h(s+i+4)}02${k}${n}02${a}${r}`}},qr=BigInt(0),Hr=BigInt(1),Gr=(BigInt(2),BigInt(3));BigInt(4);function weierstrassPoints(e){const r=function validatePointOpts(e){const r=validateBasic(e);validateObject(r,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:i,a:s}=r;if(n){if(!i.eql(s,i.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof n||"bigint"!=typeof n.beta||"function"!=typeof n.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...r})}(e),{Fp:n}=r,i=r.toBytes||((e,r,i)=>{const s=r.toAffine();return abstract_utils_concatBytes(Uint8Array.from([4]),n.toBytes(s.x),n.toBytes(s.y))}),s=r.fromBytes||(e=>{const r=e.subarray(1);return{x:n.fromBytes(r.subarray(0,n.BYTES)),y:n.fromBytes(r.subarray(n.BYTES,2*n.BYTES))}});function weierstrassEquation(e){const{a:i,b:s}=r,a=n.sqr(e),k=n.mul(a,e);return n.add(n.add(k,n.mul(e,i)),s)}if(!n.eql(n.sqr(r.Gy),weierstrassEquation(r.Gx)))throw new Error("bad generator point: equation left != right");function isWithinCurveOrder(e){return"bigint"==typeof e&&qr<e&&e<r.n}function assertGE(e){if(!isWithinCurveOrder(e))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function normPrivateKeyToScalar(e){const{allowedPrivateKeyLengths:n,nByteLength:i,wrapPrivateKey:s,n:a}=r;if(n&&"bigint"!=typeof e){if(abstract_utils_isBytes(e)&&(e=abstract_utils_bytesToHex(e)),"string"!=typeof e||!n.includes(e.length))throw new Error("Invalid key");e=e.padStart(2*i,"0")}let k;try{k="bigint"==typeof e?e:utils_bytesToNumberBE(utils_ensureBytes("private key",e,i))}catch(r){throw new Error(`private key must be ${i} bytes, hex or bigint, not ${typeof e}`)}return s&&(k=modular_mod(k,a)),assertGE(k),k}const a=new Map;function assertPrjPoint(e){if(!(e instanceof Point))throw new Error("ProjectivePoint expected")}class Point{constructor(e,r,i){if(this.px=e,this.py=r,this.pz=i,null==e||!n.isValid(e))throw new Error("x required");if(null==r||!n.isValid(r))throw new Error("y required");if(null==i||!n.isValid(i))throw new Error("z required")}static fromAffine(e){const{x:r,y:i}=e||{};if(!e||!n.isValid(r)||!n.isValid(i))throw new Error("invalid affine point");if(e instanceof Point)throw new Error("projective point not allowed");const is0=e=>n.eql(e,n.ZERO);return is0(r)&&is0(i)?Point.ZERO:new Point(r,i,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const r=n.invertBatch(e.map((e=>e.pz)));return e.map(((e,n)=>e.toAffine(r[n]))).map(Point.fromAffine)}static fromHex(e){const r=Point.fromAffine(s(utils_ensureBytes("pointHex",e)));return r.assertValidity(),r}static fromPrivateKey(e){return Point.BASE.multiply(normPrivateKeyToScalar(e))}_setWindowSize(e){this._WINDOW_SIZE=e,a.delete(this)}assertValidity(){if(this.is0()){if(r.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:e,y:i}=this.toAffine();if(!n.isValid(e)||!n.isValid(i))throw new Error("bad point: x or y not FE");const s=n.sqr(i),a=weierstrassEquation(e);if(!n.eql(s,a))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:e}=this.toAffine();if(n.isOdd)return!n.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){assertPrjPoint(e);const{px:r,py:i,pz:s}=this,{px:a,py:k,pz:w}=e,I=n.eql(n.mul(r,w),n.mul(a,s)),we=n.eql(n.mul(i,w),n.mul(k,s));return I&&we}negate(){return new Point(this.px,n.neg(this.py),this.pz)}double(){const{a:e,b:i}=r,s=n.mul(i,Gr),{px:a,py:k,pz:w}=this;let I=n.ZERO,we=n.ZERO,Ae=n.ZERO,Be=n.mul(a,a),Ce=n.mul(k,k),ze=n.mul(w,w),qe=n.mul(a,k);return qe=n.add(qe,qe),Ae=n.mul(a,w),Ae=n.add(Ae,Ae),I=n.mul(e,Ae),we=n.mul(s,ze),we=n.add(I,we),I=n.sub(Ce,we),we=n.add(Ce,we),we=n.mul(I,we),I=n.mul(qe,I),Ae=n.mul(s,Ae),ze=n.mul(e,ze),qe=n.sub(Be,ze),qe=n.mul(e,qe),qe=n.add(qe,Ae),Ae=n.add(Be,Be),Be=n.add(Ae,Be),Be=n.add(Be,ze),Be=n.mul(Be,qe),we=n.add(we,Be),ze=n.mul(k,w),ze=n.add(ze,ze),Be=n.mul(ze,qe),I=n.sub(I,Be),Ae=n.mul(ze,Ce),Ae=n.add(Ae,Ae),Ae=n.add(Ae,Ae),new Point(I,we,Ae)}add(e){assertPrjPoint(e);const{px:i,py:s,pz:a}=this,{px:k,py:w,pz:I}=e;let we=n.ZERO,Ae=n.ZERO,Be=n.ZERO;const Ce=r.a,ze=n.mul(r.b,Gr);let qe=n.mul(i,k),$e=n.mul(s,w),Ye=n.mul(a,I),Je=n.add(i,s),et=n.add(k,w);Je=n.mul(Je,et),et=n.add(qe,$e),Je=n.sub(Je,et),et=n.add(i,a);let rt=n.add(k,I);return et=n.mul(et,rt),rt=n.add(qe,Ye),et=n.sub(et,rt),rt=n.add(s,a),we=n.add(w,I),rt=n.mul(rt,we),we=n.add($e,Ye),rt=n.sub(rt,we),Be=n.mul(Ce,et),we=n.mul(ze,Ye),Be=n.add(we,Be),we=n.sub($e,Be),Be=n.add($e,Be),Ae=n.mul(we,Be),$e=n.add(qe,qe),$e=n.add($e,qe),Ye=n.mul(Ce,Ye),et=n.mul(ze,et),$e=n.add($e,Ye),Ye=n.sub(qe,Ye),Ye=n.mul(Ce,Ye),et=n.add(et,Ye),qe=n.mul($e,et),Ae=n.add(Ae,qe),qe=n.mul(rt,et),we=n.mul(Je,we),we=n.sub(we,qe),qe=n.mul(Je,$e),Be=n.mul(rt,Be),Be=n.add(Be,qe),new Point(we,Ae,Be)}subtract(e){return this.add(e.negate())}is0(){return this.equals(Point.ZERO)}wNAF(e){return w.wNAFCached(this,a,e,(e=>{const r=n.invertBatch(e.map((e=>e.pz)));return e.map(((e,n)=>e.toAffine(r[n]))).map(Point.fromAffine)}))}multiplyUnsafe(e){const i=Point.ZERO;if(e===qr)return i;if(assertGE(e),e===Hr)return this;const{endo:s}=r;if(!s)return w.unsafeLadder(this,e);let{k1neg:a,k1:k,k2neg:I,k2:we}=s.splitScalar(e),Ae=i,Be=i,Ce=this;for(;k>qr||we>qr;)k&Hr&&(Ae=Ae.add(Ce)),we&Hr&&(Be=Be.add(Ce)),Ce=Ce.double(),k>>=Hr,we>>=Hr;return a&&(Ae=Ae.negate()),I&&(Be=Be.negate()),Be=new Point(n.mul(Be.px,s.beta),Be.py,Be.pz),Ae.add(Be)}multiply(e){assertGE(e);let i,s,a=e;const{endo:k}=r;if(k){const{k1neg:e,k1:r,k2neg:I,k2:we}=k.splitScalar(a);let{p:Ae,f:Be}=this.wNAF(r),{p:Ce,f:ze}=this.wNAF(we);Ae=w.constTimeNegate(e,Ae),Ce=w.constTimeNegate(I,Ce),Ce=new Point(n.mul(Ce.px,k.beta),Ce.py,Ce.pz),i=Ae.add(Ce),s=Be.add(ze)}else{const{p:e,f:r}=this.wNAF(a);i=e,s=r}return Point.normalizeZ([i,s])[0]}multiplyAndAddUnsafe(e,r,n){const i=Point.BASE,mul=(e,r)=>r!==qr&&r!==Hr&&e.equals(i)?e.multiply(r):e.multiplyUnsafe(r),s=mul(this,r).add(mul(e,n));return s.is0()?void 0:s}toAffine(e){const{px:r,py:i,pz:s}=this,a=this.is0();null==e&&(e=a?n.ONE:n.inv(s));const k=n.mul(r,e),w=n.mul(i,e),I=n.mul(s,e);if(a)return{x:n.ZERO,y:n.ZERO};if(!n.eql(I,n.ONE))throw new Error("invZ was invalid");return{x:k,y:w}}isTorsionFree(){const{h:e,isTorsionFree:n}=r;if(e===Hr)return!0;if(n)return n(Point,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:n}=r;return e===Hr?this:n?n(Point,this):this.multiplyUnsafe(r.h)}toRawBytes(e=!0){return this.assertValidity(),i(Point,this,e)}toHex(e=!0){return abstract_utils_bytesToHex(this.toRawBytes(e))}}Point.BASE=new Point(r.Gx,r.Gy,n.ONE),Point.ZERO=new Point(n.ZERO,n.ONE,n.ZERO);const k=r.nBitLength,w=wNAF(Point,r.endo?Math.ceil(k/2):k);return{CURVE:r,ProjectivePoint:Point,normPrivateKeyToScalar,weierstrassEquation,isWithinCurveOrder}}function weierstrass(e){const r=function weierstrass_validateOpts(e){const r=validateBasic(e);return validateObject(r,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...r})}(e),{Fp:n,n:i}=r,s=n.BYTES+1,a=2*n.BYTES+1;function modN(e){return modular_mod(e,i)}function invN(e){return invert(e,i)}const{ProjectivePoint:k,normPrivateKeyToScalar:w,weierstrassEquation:I,isWithinCurveOrder:we}=weierstrassPoints({...r,toBytes(e,r,i){const s=r.toAffine(),a=n.toBytes(s.x),k=abstract_utils_concatBytes;return i?k(Uint8Array.from([r.hasEvenY()?2:3]),a):k(Uint8Array.from([4]),a,n.toBytes(s.y))},fromBytes(e){const r=e.length,i=e[0],k=e.subarray(1);if(r!==s||2!==i&&3!==i){if(r===a&&4===i){return{x:n.fromBytes(k.subarray(0,n.BYTES)),y:n.fromBytes(k.subarray(n.BYTES,2*n.BYTES))}}throw new Error(`Point of length ${r} was invalid. Expected ${s} compressed bytes or ${a} uncompressed bytes`)}{const e=utils_bytesToNumberBE(k);if(!function isValidFieldElement(e){return qr<e&&e<n.ORDER}(e))throw new Error("Point is not on curve");const r=I(e);let s;try{s=n.sqrt(r)}catch(e){const r=e instanceof Error?": "+e.message:"";throw new Error("Point is not on curve"+r)}return!(1&~i)!==((s&Hr)===Hr)&&(s=n.neg(s)),{x:e,y:s}}}}),numToNByteStr=e=>abstract_utils_bytesToHex(utils_numberToBytesBE(e,r.nByteLength));function isBiggerThanHalfOrder(e){return e>i>>Hr}const slcNum=(e,r,n)=>utils_bytesToNumberBE(e.slice(r,n));class Signature{constructor(e,r,n){this.r=e,this.s=r,this.recovery=n,this.assertValidity()}static fromCompact(e){const n=r.nByteLength;return e=utils_ensureBytes("compactSignature",e,2*n),new Signature(slcNum(e,0,n),slcNum(e,n,2*n))}static fromDER(e){const{r,s:n}=Vr.toSig(utils_ensureBytes("DER",e));return new Signature(r,n)}assertValidity(){if(!we(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!we(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new Signature(this.r,this.s,e)}recoverPublicKey(e){const{r:i,s,recovery:a}=this,w=Ce(utils_ensureBytes("msgHash",e));if(null==a||![0,1,2,3].includes(a))throw new Error("recovery id invalid");const I=2===a||3===a?i+r.n:i;if(I>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const we=1&a?"03":"02",Ae=k.fromHex(we+numToNByteStr(I)),Be=invN(I),ze=modN(-w*Be),qe=modN(s*Be),$e=k.BASE.multiplyAndAddUnsafe(Ae,ze,qe);if(!$e)throw new Error("point at infinify");return $e.assertValidity(),$e}hasHighS(){return isBiggerThanHalfOrder(this.s)}normalizeS(){return this.hasHighS()?new Signature(this.r,modN(-this.s),this.recovery):this}toDERRawBytes(){return utils_hexToBytes(this.toDERHex())}toDERHex(){return Vr.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return utils_hexToBytes(this.toCompactHex())}toCompactHex(){return numToNByteStr(this.r)+numToNByteStr(this.s)}}const Ae={isValidPrivateKey(e){try{return w(e),!0}catch(e){return!1}},normPrivateKeyToScalar:w,randomPrivateKey:()=>{const e=getMinHashLength(r.n);return function mapHashToField(e,r,n=!1){const i=e.length,s=getFieldBytesLength(r),a=getMinHashLength(r);if(i<16||i<a||i>1024)throw new Error(`expected ${a}-1024 bytes of input, got ${i}`);const k=modular_mod(n?utils_bytesToNumberBE(e):utils_bytesToNumberLE(e),r-ot)+ot;return n?utils_numberToBytesLE(k,s):utils_numberToBytesBE(k,s)}(r.randomBytes(e),r.n)},precompute:(e=8,r=k.BASE)=>(r._setWindowSize(e),r.multiply(BigInt(3)),r)};function isProbPub(e){const r=abstract_utils_isBytes(e),n="string"==typeof e,i=(r||n)&&e.length;return r?i===s||i===a:n?i===2*s||i===2*a:e instanceof k}const Be=r.bits2int||function(e){const n=utils_bytesToNumberBE(e),i=8*e.length-r.nBitLength;return i>0?n>>BigInt(i):n},Ce=r.bits2int_modN||function(e){return modN(Be(e))},ze=bitMask(r.nBitLength);function int2octets(e){if("bigint"!=typeof e)throw new Error("bigint expected");if(!(qr<=e&&e<ze))throw new Error(`bigint expected < 2^${r.nBitLength}`);return utils_numberToBytesBE(e,r.nByteLength)}function prepSig(e,i,s=qe){if(["recovered","canonical"].some((e=>e in s)))throw new Error("sign() legacy options not supported");const{hash:a,randomBytes:I}=r;let{lowS:Ae,prehash:ze,extraEntropy:$e}=s;null==Ae&&(Ae=!0),e=utils_ensureBytes("msgHash",e),ze&&(e=utils_ensureBytes("prehashed msgHash",a(e)));const Ye=Ce(e),Je=w(i),et=[int2octets(Je),int2octets(Ye)];if(null!=$e&&!1!==$e){const e=!0===$e?I(n.BYTES):$e;et.push(utils_ensureBytes("extraEntropy",e))}const rt=abstract_utils_concatBytes(...et),it=Ye;return{seed:rt,k2sig:function k2sig(e){const r=Be(e);if(!we(r))return;const n=invN(r),i=k.BASE.multiply(r).toAffine(),s=modN(i.x);if(s===qr)return;const a=modN(n*modN(it+s*Je));if(a===qr)return;let w=(i.x===s?0:2)|Number(i.y&Hr),I=a;return Ae&&isBiggerThanHalfOrder(a)&&(I=function normalizeS(e){return isBiggerThanHalfOrder(e)?modN(-e):e}(a),w^=1),new Signature(s,I,w)}}}const qe={lowS:r.lowS,prehash:!1},$e={lowS:r.lowS,prehash:!1};return k.BASE._setWindowSize(8),{CURVE:r,getPublicKey:function getPublicKey(e,r=!0){return k.fromPrivateKey(e).toRawBytes(r)},getSharedSecret:function getSharedSecret(e,r,n=!0){if(isProbPub(e))throw new Error("first arg must be private key");if(!isProbPub(r))throw new Error("second arg must be public key");return k.fromHex(r).multiply(w(e)).toRawBytes(n)},sign:function sign(e,n,i=qe){const{seed:s,k2sig:a}=prepSig(e,n,i),k=r;return createHmacDrbg(k.hash.outputLen,k.nByteLength,k.hmac)(s,a)},verify:function verify(e,n,i,s=$e){const a=e;if(n=utils_ensureBytes("msgHash",n),i=utils_ensureBytes("publicKey",i),"strict"in s)throw new Error("options.strict was renamed to lowS");const{lowS:w,prehash:I}=s;let we,Ae;try{if("string"==typeof a||abstract_utils_isBytes(a))try{we=Signature.fromDER(a)}catch(e){if(!(e instanceof Vr.Err))throw e;we=Signature.fromCompact(a)}else{if("object"!=typeof a||"bigint"!=typeof a.r||"bigint"!=typeof a.s)throw new Error("PARSE");{const{r:e,s:r}=a;we=new Signature(e,r)}}Ae=k.fromHex(i)}catch(e){if("PARSE"===e.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(w&&we.hasHighS())return!1;I&&(n=r.hash(n));const{r:Be,s:ze}=we,qe=Ce(n),Ye=invN(ze),Je=modN(qe*Ye),et=modN(Be*Ye),rt=k.BASE.multiplyAndAddUnsafe(Ae,Je,et)?.toAffine();return!!rt&&modN(rt.x)===Be},ProjectivePoint:k,Signature,utils:Ae}}function getHash(e){return{hash:e,hmac:(r,...n)=>hmac(e,r,utils_concatBytes(...n)),randomBytes:utils_randomBytes}}const $r=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Yr=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Zr=BigInt(1),Jr=BigInt(2),divNearest=(e,r)=>(e+r/Jr)/r;function sqrtMod(e){const r=$r,n=BigInt(3),i=BigInt(6),s=BigInt(11),a=BigInt(22),k=BigInt(23),w=BigInt(44),I=BigInt(88),we=e*e*e%r,Ae=we*we*e%r,Be=modular_pow2(Ae,n,r)*Ae%r,Ce=modular_pow2(Be,n,r)*Ae%r,ze=modular_pow2(Ce,Jr,r)*we%r,qe=modular_pow2(ze,s,r)*ze%r,$e=modular_pow2(qe,a,r)*qe%r,Ye=modular_pow2($e,w,r)*$e%r,Je=modular_pow2(Ye,I,r)*Ye%r,et=modular_pow2(Je,w,r)*$e%r,rt=modular_pow2(et,n,r)*Ae%r,it=modular_pow2(rt,k,r)*qe%r,ot=modular_pow2(it,i,r)*we%r,ht=modular_pow2(ot,Jr,r);if(!Qr.eql(Qr.sqr(ht),e))throw new Error("Cannot find square root");return ht}const Qr=Field($r,void 0,void 0,{sqrt:sqrtMod}),Xr=function createCurve(e,r){const create=r=>weierstrass({...e,...getHash(r)});return Object.freeze({...create(r),create})}({a:BigInt(0),b:BigInt(7),Fp:Qr,n:Yr,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const r=Yr,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),i=-Zr*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),a=n,k=BigInt("0x100000000000000000000000000000000"),w=divNearest(a*e,r),I=divNearest(-i*e,r);let we=modular_mod(e-w*n-I*s,r),Ae=modular_mod(-w*i-I*a,r);const Be=we>k,Ce=Ae>k;if(Be&&(we=r-we),Ce&&(Ae=r-Ae),we>k||Ae>k)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:Be,k1:we,k2neg:Ce,k2:Ae}}}},Ir);BigInt(0);Xr.ProjectivePoint;const sn=hr.utils.randomPrivateKey,generateKeypair=()=>{const e=hr.utils.randomPrivateKey(),r=an(e),n=new Uint8Array(64);return n.set(e),n.set(r,32),{publicKey:r,secretKey:n}},an=hr.getPublicKey;function isOnCurve(e){try{return hr.ExtendedPoint.fromHex(e),!0}catch{return!1}}const sign=(e,r)=>hr.sign(e,r.slice(0,32)),cn=hr.verify,toBuffer=e=>s.Buffer.isBuffer(e)?e:e instanceof Uint8Array?s.Buffer.from(e.buffer,e.byteOffset,e.byteLength):s.Buffer.from(e);class Struct{constructor(e){Object.assign(this,e)}encode(){return s.Buffer.from((0,_r.serialize)(un,this))}static decode(e){return(0,_r.deserialize)(un,this,e)}static decodeUnchecked(e){return(0,_r.deserializeUnchecked)(un,this,e)}}class Enum extends Struct{constructor(e){if(super(e),this.enum="",1!==Object.keys(e).length)throw new Error("Enum can only take single value");Object.keys(e).map((e=>{this.enum=e}))}}const un=new Map;var dn;const ln=32,pn=32;let gn=1;class PublicKey extends Struct{constructor(e){if(super({}),this._bn=void 0,function isPublicKeyData(e){return void 0!==e._bn}(e))this._bn=e._bn;else{if("string"==typeof e){const r=mr().decode(e);if(r.length!=pn)throw new Error("Invalid public key input");this._bn=new(gr())(r)}else this._bn=new(gr())(e);if(this._bn.byteLength()>pn)throw new Error("Invalid public key input")}}static unique(){const e=new PublicKey(gn);return gn+=1,new PublicKey(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return mr().encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(s.Buffer);if(e.length===pn)return e;const r=s.Buffer.alloc(32);return e.copy(r,32-e.length),r}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,r,n){const i=s.Buffer.concat([e.toBuffer(),s.Buffer.from(r),n.toBuffer()]),a=Ir(i);return new PublicKey(a)}static createProgramAddressSync(e,r){let n=s.Buffer.alloc(0);e.forEach((function(e){if(e.length>ln)throw new TypeError("Max seed length exceeded");n=s.Buffer.concat([n,toBuffer(e)])})),n=s.Buffer.concat([n,r.toBuffer(),s.Buffer.from("ProgramDerivedAddress")]);const i=Ir(n);if(isOnCurve(i))throw new Error("Invalid seeds, address must fall off the curve");return new PublicKey(i)}static async createProgramAddress(e,r){return this.createProgramAddressSync(e,r)}static findProgramAddressSync(e,r){let n,i=255;for(;0!=i;){try{const a=e.concat(s.Buffer.from([i]));n=this.createProgramAddressSync(a,r)}catch(e){if(e instanceof TypeError)throw e;i--;continue}return[n,i]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,r){return this.findProgramAddressSync(e,r)}static isOnCurve(e){return isOnCurve(new PublicKey(e).toBytes())}}dn=PublicKey,PublicKey.default=new dn("11111111111111111111111111111111"),un.set(PublicKey,{kind:"struct",fields:[["_bn","u256"]]});class Account{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const r=toBuffer(e);if(64!==e.length)throw new Error("bad secret key size");this._publicKey=r.slice(32,64),this._secretKey=r.slice(0,32)}else this._secretKey=toBuffer(sn()),this._publicKey=toBuffer(an(this._secretKey))}get publicKey(){return new PublicKey(this._publicKey)}get secretKey(){return s.Buffer.concat([this._secretKey,this._publicKey],64)}}const yn=new PublicKey("BPFLoader1111111111111111111111111111111111"),mn=1232,bn=127,kn=64;class TransactionExpiredBlockheightExceededError extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(TransactionExpiredBlockheightExceededError.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class TransactionExpiredTimeoutError extends Error{constructor(e,r){super(`Transaction was not confirmed in ${r.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(TransactionExpiredTimeoutError.prototype,"name",{value:"TransactionExpiredTimeoutError"});class TransactionExpiredNonceInvalidError extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(TransactionExpiredNonceInvalidError.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class MessageAccountKeys{constructor(e,r){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=r}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const r of this.keySegments()){if(e<r.length)return r[e];e-=r.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach(((e,n)=>{r.set(e.toBase58(),n)}));const findKeyIndex=e=>{const n=r.get(e.toBase58());if(void 0===n)throw new Error("Encountered an unknown instruction account key during compilation");return n};return e.map((e=>({programIdIndex:findKeyIndex(e.programId),accountKeyIndexes:e.keys.map((e=>findKeyIndex(e.pubkey))),data:e.data})))}}const publicKey=(e="publicKey")=>Sr.blob(32,e),signature=(e="signature")=>Sr.blob(64,e),rustString=(e="string")=>{const r=Sr.struct([Sr.u32("length"),Sr.u32("lengthPadding"),Sr.blob(Sr.offset(Sr.u32(),-8),"chars")],e),n=r.decode.bind(r),i=r.encode.bind(r),a=r;return a.decode=(e,r)=>n(e,r).chars.toString(),a.encode=(e,r,n)=>{const a={chars:s.Buffer.from(e,"utf8")};return i(a,r,n)},a.alloc=e=>Sr.u32().span+Sr.u32().span+s.Buffer.from(e,"utf8").length,a};function getAlloc(e,r){const getItemAlloc=e=>{if(e.span>=0)return e.span;if("function"==typeof e.alloc)return e.alloc(r[e.property]);if("count"in e&&"elementLayout"in e){const n=r[e.property];if(Array.isArray(n))return n.length*getItemAlloc(e.elementLayout)}else if("fields"in e)return getAlloc({layout:e},r[e.property]);return 0};let n=0;return e.layout.fields.forEach((e=>{n+=getItemAlloc(e)})),n}function decodeLength(e){let r=0,n=0;for(;;){let i=e.shift();if(r|=(127&i)<<7*n,n+=1,!(128&i))break}return r}function encodeLength(e,r){let n=r;for(;;){let r=127&n;if(n>>=7,0==n){e.push(r);break}r|=128,e.push(r)}}function index_browser_esm_assert(e,r){if(!e)throw new Error(r||"Assertion failed")}class CompiledKeys{constructor(e,r){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=r}static compile(e,r){const n=new Map,getOrInsertDefault=e=>{const r=e.toBase58();let i=n.get(r);return void 0===i&&(i={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(r,i)),i},i=getOrInsertDefault(r);i.isSigner=!0,i.isWritable=!0;for(const r of e){getOrInsertDefault(r.programId).isInvoked=!0;for(const e of r.keys){const r=getOrInsertDefault(e.pubkey);r.isSigner||=e.isSigner,r.isWritable||=e.isWritable}}return new CompiledKeys(r,n)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];index_browser_esm_assert(e.length<=256,"Max static account keys length exceeded");const r=e.filter((([,e])=>e.isSigner&&e.isWritable)),n=e.filter((([,e])=>e.isSigner&&!e.isWritable)),i=e.filter((([,e])=>!e.isSigner&&e.isWritable)),s=e.filter((([,e])=>!e.isSigner&&!e.isWritable)),a={numRequiredSignatures:r.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:s.length};{index_browser_esm_assert(r.length>0,"Expected at least one writable signer key");const[e]=r[0];index_browser_esm_assert(e===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}return[a,[...r.map((([e])=>new PublicKey(e))),...n.map((([e])=>new PublicKey(e))),...i.map((([e])=>new PublicKey(e))),...s.map((([e])=>new PublicKey(e)))]]}extractTableLookup(e){const[r,n]=this.drainKeysFoundInLookupTable(e.state.addresses,(e=>!e.isSigner&&!e.isInvoked&&e.isWritable)),[i,s]=this.drainKeysFoundInLookupTable(e.state.addresses,(e=>!e.isSigner&&!e.isInvoked&&!e.isWritable));if(0!==r.length||0!==i.length)return[{accountKey:e.key,writableIndexes:r,readonlyIndexes:i},{writable:n,readonly:s}]}drainKeysFoundInLookupTable(e,r){const n=new Array,i=new Array;for(const[s,a]of this.keyMetaMap.entries())if(r(a)){const r=new PublicKey(s),a=e.findIndex((e=>e.equals(r)));a>=0&&(index_browser_esm_assert(a<256,"Max lookup table index exceeded"),n.push(a),i.push(r),this.keyMetaMap.delete(s))}return[n,i]}}const In="Reached end of buffer unexpectedly";function guardedShift(e){if(0===e.length)throw new Error(In);return e.shift()}function guardedSplice(e,...r){const[n]=r;if(2===r.length?n+(r[1]??0)>e.length:n>=e.length)throw new Error(In);return e.splice(...r)}class Message{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map((e=>new PublicKey(e))),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach((e=>this.indexToProgramIds.set(e.programIdIndex,this.accountKeys[e.programIdIndex])))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map((e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:mr().decode(e.data)})))}get addressTableLookups(){return[]}getAccountKeys(){return new MessageAccountKeys(this.staticAccountKeys)}static compile(e){const r=CompiledKeys.compile(e.instructions,e.payerKey),[n,i]=r.getMessageComponents(),s=new MessageAccountKeys(i).compileInstructions(e.instructions).map((e=>({programIdIndex:e.programIdIndex,accounts:e.accountKeyIndexes,data:mr().encode(e.data)})));return new Message({header:n,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:s})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const r=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){return e-r<this.accountKeys.length-r-this.header.numReadonlyUnsignedAccounts}return e<r-this.header.numReadonlySignedAccounts}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter(((e,r)=>!this.isProgramId(r)))}serialize(){const e=this.accountKeys.length;let r=[];encodeLength(r,e);const n=this.instructions.map((e=>{const{accounts:r,programIdIndex:n}=e,i=Array.from(mr().decode(e.data));let a=[];encodeLength(a,r.length);let k=[];return encodeLength(k,i.length),{programIdIndex:n,keyIndicesCount:s.Buffer.from(a),keyIndices:r,dataLength:s.Buffer.from(k),data:i}}));let i=[];encodeLength(i,n.length);let a=s.Buffer.alloc(mn);s.Buffer.from(i).copy(a);let k=i.length;n.forEach((e=>{const r=Sr.struct([Sr.u8("programIdIndex"),Sr.blob(e.keyIndicesCount.length,"keyIndicesCount"),Sr.seq(Sr.u8("keyIndex"),e.keyIndices.length,"keyIndices"),Sr.blob(e.dataLength.length,"dataLength"),Sr.seq(Sr.u8("userdatum"),e.data.length,"data")]).encode(e,a,k);k+=r})),a=a.slice(0,k);const w=Sr.struct([Sr.blob(1,"numRequiredSignatures"),Sr.blob(1,"numReadonlySignedAccounts"),Sr.blob(1,"numReadonlyUnsignedAccounts"),Sr.blob(r.length,"keyCount"),Sr.seq(publicKey("key"),e,"keys"),publicKey("recentBlockhash")]),I={numRequiredSignatures:s.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:s.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:s.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:s.Buffer.from(r),keys:this.accountKeys.map((e=>toBuffer(e.toBytes()))),recentBlockhash:mr().decode(this.recentBlockhash)};let we=s.Buffer.alloc(2048);const Ae=w.encode(I,we);return a.copy(we,Ae),we.slice(0,Ae+a.length)}static from(e){let r=[...e];const n=guardedShift(r);if(n!==(n&bn))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=guardedShift(r),a=guardedShift(r),k=decodeLength(r);let w=[];for(let e=0;e<k;e++){const e=guardedSplice(r,0,pn);w.push(new PublicKey(s.Buffer.from(e)))}const I=guardedSplice(r,0,pn),we=decodeLength(r);let Ae=[];for(let e=0;e<we;e++){const e=guardedShift(r),n=guardedSplice(r,0,decodeLength(r)),i=guardedSplice(r,0,decodeLength(r)),a=mr().encode(s.Buffer.from(i));Ae.push({programIdIndex:e,accounts:n,data:a})}const Be={header:{numRequiredSignatures:n,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:a},recentBlockhash:mr().encode(s.Buffer.from(I)),accountKeys:w,instructions:Ae};return new Message(Be)}}class MessageV0{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const r of this.addressTableLookups)e+=r.readonlyIndexes.length+r.writableIndexes.length;return e}getAccountKeys(e){let r;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");r=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)r=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new MessageAccountKeys(this.staticAccountKeys,r)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const r=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(e>=n){return e-n<this.addressTableLookups.reduce(((e,r)=>e+r.writableIndexes.length),0)}if(e>=this.header.numRequiredSignatures){return e-r<n-r-this.header.numReadonlyUnsignedAccounts}return e<r-this.header.numReadonlySignedAccounts}resolveAddressTableLookups(e){const r={writable:[],readonly:[]};for(const n of this.addressTableLookups){const i=e.find((e=>e.key.equals(n.accountKey)));if(!i)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(const e of n.writableIndexes){if(!(e<i.state.addresses.length))throw new Error(`Failed to find address for index ${e} in address lookup table ${n.accountKey.toBase58()}`);r.writable.push(i.state.addresses[e])}for(const e of n.readonlyIndexes){if(!(e<i.state.addresses.length))throw new Error(`Failed to find address for index ${e} in address lookup table ${n.accountKey.toBase58()}`);r.readonly.push(i.state.addresses[e])}}return r}static compile(e){const r=CompiledKeys.compile(e.instructions,e.payerKey),n=new Array,i={writable:new Array,readonly:new Array},s=e.addressLookupTableAccounts||[];for(const e of s){const s=r.extractTableLookup(e);if(void 0!==s){const[e,{writable:r,readonly:a}]=s;n.push(e),i.writable.push(...r),i.readonly.push(...a)}}const[a,k]=r.getMessageComponents(),w=new MessageAccountKeys(k,i).compileInstructions(e.instructions);return new MessageV0({header:a,staticAccountKeys:k,recentBlockhash:e.recentBlockhash,compiledInstructions:w,addressTableLookups:n})}serialize(){const e=Array();encodeLength(e,this.staticAccountKeys.length);const r=this.serializeInstructions(),n=Array();encodeLength(n,this.compiledInstructions.length);const i=this.serializeAddressTableLookups(),s=Array();encodeLength(s,this.addressTableLookups.length);const a=Sr.struct([Sr.u8("prefix"),Sr.struct([Sr.u8("numRequiredSignatures"),Sr.u8("numReadonlySignedAccounts"),Sr.u8("numReadonlyUnsignedAccounts")],"header"),Sr.blob(e.length,"staticAccountKeysLength"),Sr.seq(publicKey(),this.staticAccountKeys.length,"staticAccountKeys"),publicKey("recentBlockhash"),Sr.blob(n.length,"instructionsLength"),Sr.blob(r.length,"serializedInstructions"),Sr.blob(s.length,"addressTableLookupsLength"),Sr.blob(i.length,"serializedAddressTableLookups")]),k=new Uint8Array(mn),w=a.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map((e=>e.toBytes())),recentBlockhash:mr().decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:r,addressTableLookupsLength:new Uint8Array(s),serializedAddressTableLookups:i},k);return k.slice(0,w)}serializeInstructions(){let e=0;const r=new Uint8Array(mn);for(const n of this.compiledInstructions){const i=Array();encodeLength(i,n.accountKeyIndexes.length);const s=Array();encodeLength(s,n.data.length);e+=Sr.struct([Sr.u8("programIdIndex"),Sr.blob(i.length,"encodedAccountKeyIndexesLength"),Sr.seq(Sr.u8(),n.accountKeyIndexes.length,"accountKeyIndexes"),Sr.blob(s.length,"encodedDataLength"),Sr.blob(n.data.length,"data")]).encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(s),data:n.data},r,e)}return r.slice(0,e)}serializeAddressTableLookups(){let e=0;const r=new Uint8Array(mn);for(const n of this.addressTableLookups){const i=Array();encodeLength(i,n.writableIndexes.length);const s=Array();encodeLength(s,n.readonlyIndexes.length);e+=Sr.struct([publicKey("accountKey"),Sr.blob(i.length,"encodedWritableIndexesLength"),Sr.seq(Sr.u8(),n.writableIndexes.length,"writableIndexes"),Sr.blob(s.length,"encodedReadonlyIndexesLength"),Sr.seq(Sr.u8(),n.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(s),readonlyIndexes:n.readonlyIndexes},r,e)}return r.slice(0,e)}static deserialize(e){let r=[...e];const n=guardedShift(r),i=n&bn;index_browser_esm_assert(n!==i,"Expected versioned message but received legacy message");index_browser_esm_assert(0===i,`Expected versioned message with version 0 but found version ${i}`);const s={numRequiredSignatures:guardedShift(r),numReadonlySignedAccounts:guardedShift(r),numReadonlyUnsignedAccounts:guardedShift(r)},a=[],k=decodeLength(r);for(let e=0;e<k;e++)a.push(new PublicKey(guardedSplice(r,0,pn)));const w=mr().encode(guardedSplice(r,0,pn)),I=decodeLength(r),we=[];for(let e=0;e<I;e++){const e=guardedShift(r),n=guardedSplice(r,0,decodeLength(r)),i=decodeLength(r),s=new Uint8Array(guardedSplice(r,0,i));we.push({programIdIndex:e,accountKeyIndexes:n,data:s})}const Ae=decodeLength(r),Be=[];for(let e=0;e<Ae;e++){const e=new PublicKey(guardedSplice(r,0,pn)),n=guardedSplice(r,0,decodeLength(r)),i=guardedSplice(r,0,decodeLength(r));Be.push({accountKey:e,writableIndexes:n,readonlyIndexes:i})}return new MessageV0({header:s,staticAccountKeys:a,recentBlockhash:w,compiledInstructions:we,addressTableLookups:Be})}}const Mn={deserializeMessageVersion(e){const r=e[0],n=r&bn;return n===r?"legacy":n},deserialize:e=>{const r=Mn.deserializeMessageVersion(e);if("legacy"===r)return Message.from(e);if(0===r)return MessageV0.deserialize(e);throw new Error(`Transaction message version ${r} deserialization is not supported`)}};let Bn=function(e){return e[e.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",e[e.PROCESSED=1]="PROCESSED",e[e.TIMED_OUT=2]="TIMED_OUT",e[e.NONCE_INVALID=3]="NONCE_INVALID",e}({});const Cn=s.Buffer.alloc(kn).fill(0);class TransactionInstruction{constructor(e){this.keys=void 0,this.programId=void 0,this.data=s.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map((({pubkey:e,isSigner:r,isWritable:n})=>({pubkey:e.toJSON(),isSigner:r,isWritable:n}))),programId:this.programId.toJSON(),data:[...this.data]}}}class Transaction{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:r,nonceInfo:n}=e;this.minNonceContextSlot=r,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:r,lastValidBlockHeight:n}=e;this.recentBlockhash=r,this.lastValidBlockHeight=n}else{const{recentBlockhash:r,nonceInfo:n}=e;n&&(this.nonceInfo=n),this.recentBlockhash=r}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map((e=>e.toJSON())),signers:this.signatures.map((({publicKey:e})=>e.toJSON()))}}add(...e){if(0===e.length)throw new Error("No instructions");return e.forEach((e=>{"instructions"in e?this.instructions=this.instructions.concat(e.instructions):"data"in e&&"programId"in e&&"keys"in e?this.instructions.push(e):this.instructions.push(new TransactionInstruction(e))})),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,r,n;if(this.nonceInfo?(e=this.nonceInfo.nonce,r=this.instructions[0]!=this.nonceInfo.nonceInstruction?[this.nonceInfo.nonceInstruction,...this.instructions]:this.instructions):(e=this.recentBlockhash,r=this.instructions),!e)throw new Error("Transaction recentBlockhash required");if(r.length<1&&console.warn("No instructions provided"),this.feePayer)n=this.feePayer;else{if(!(this.signatures.length>0&&this.signatures[0].publicKey))throw new Error("Transaction fee payer required");n=this.signatures[0].publicKey}for(let e=0;e<r.length;e++)if(void 0===r[e].programId)throw new Error(`Transaction instruction index ${e} has undefined program id`);const i=[],s=[];r.forEach((e=>{e.keys.forEach((e=>{s.push({...e})}));const r=e.programId.toString();i.includes(r)||i.push(r)})),i.forEach((e=>{s.push({pubkey:new PublicKey(e),isSigner:!1,isWritable:!1})}));const a=[];s.forEach((e=>{const r=e.pubkey.toString(),n=a.findIndex((e=>e.pubkey.toString()===r));n>-1?(a[n].isWritable=a[n].isWritable||e.isWritable,a[n].isSigner=a[n].isSigner||e.isSigner):a.push(e)})),a.sort((function(e,r){if(e.isSigner!==r.isSigner)return e.isSigner?-1:1;if(e.isWritable!==r.isWritable)return e.isWritable?-1:1;return e.pubkey.toBase58().localeCompare(r.pubkey.toBase58(),"en",{localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"})}));const k=a.findIndex((e=>e.pubkey.equals(n)));if(k>-1){const[e]=a.splice(k,1);e.isSigner=!0,e.isWritable=!0,a.unshift(e)}else a.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(const e of this.signatures){const r=a.findIndex((r=>r.pubkey.equals(e.publicKey)));if(!(r>-1))throw new Error(`unknown signer: ${e.publicKey.toString()}`);a[r].isSigner||(a[r].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."))}let w=0,I=0,we=0;const Ae=[],Be=[];a.forEach((({pubkey:e,isSigner:r,isWritable:n})=>{r?(Ae.push(e.toString()),w+=1,n||(I+=1)):(Be.push(e.toString()),n||(we+=1))}));const Ce=Ae.concat(Be),ze=r.map((e=>{const{data:r,programId:n}=e;return{programIdIndex:Ce.indexOf(n.toString()),accounts:e.keys.map((e=>Ce.indexOf(e.pubkey.toString()))),data:mr().encode(r)}}));return ze.forEach((e=>{index_browser_esm_assert(e.programIdIndex>=0),e.accounts.forEach((e=>index_browser_esm_assert(e>=0)))})),new Message({header:{numRequiredSignatures:w,numReadonlySignedAccounts:I,numReadonlyUnsignedAccounts:we},accountKeys:Ce,recentBlockhash:e,instructions:ze})}_compile(){const e=this.compileMessage(),r=e.accountKeys.slice(0,e.header.numRequiredSignatures);if(this.signatures.length===r.length){if(this.signatures.every(((e,n)=>r[n].equals(e.publicKey))))return e}return this.signatures=r.map((e=>({signature:null,publicKey:e}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(0===e.length)throw new Error("No signers");const r=new Set;this.signatures=e.filter((e=>{const n=e.toString();return!r.has(n)&&(r.add(n),!0)})).map((e=>({signature:null,publicKey:e})))}sign(...e){if(0===e.length)throw new Error("No signers");const r=new Set,n=[];for(const i of e){const e=i.publicKey.toString();r.has(e)||(r.add(e),n.push(i))}this.signatures=n.map((e=>({signature:null,publicKey:e.publicKey})));const i=this._compile();this._partialSign(i,...n)}partialSign(...e){if(0===e.length)throw new Error("No signers");const r=new Set,n=[];for(const i of e){const e=i.publicKey.toString();r.has(e)||(r.add(e),n.push(i))}const i=this._compile();this._partialSign(i,...n)}_partialSign(e,...r){const n=e.serialize();r.forEach((e=>{const r=sign(n,e.secretKey);this._addSignature(e.publicKey,toBuffer(r))}))}addSignature(e,r){this._compile(),this._addSignature(e,r)}_addSignature(e,r){index_browser_esm_assert(64===r.length);const n=this.signatures.findIndex((r=>e.equals(r.publicKey)));if(n<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[n].signature=s.Buffer.from(r)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,r){const n={};for(const{signature:i,publicKey:s}of this.signatures)null===i?r&&(n.missing||=[]).push(s):cn(i,e,s.toBytes())||(n.invalid||=[]).push(s);return n.invalid||n.missing?n:void 0}serialize(e){const{requireAllSignatures:r,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(n){const e=this._getMessageSignednessErrors(i,r);if(e){let r="Signature verification failed.";throw e.invalid&&(r+=`\nInvalid signature for public key${1===e.invalid.length?"":"(s)"} [\`${e.invalid.map((e=>e.toBase58())).join("`, `")}\`].`),e.missing&&(r+=`\nMissing signature for public key${1===e.missing.length?"":"(s)"} [\`${e.missing.map((e=>e.toBase58())).join("`, `")}\`].`),new Error(r)}}return this._serialize(i)}_serialize(e){const{signatures:r}=this,n=[];encodeLength(n,r.length);const i=n.length+64*r.length+e.length,a=s.Buffer.alloc(i);return index_browser_esm_assert(r.length<256),s.Buffer.from(n).copy(a,0),r.forEach((({signature:e},r)=>{null!==e&&(index_browser_esm_assert(64===e.length,"signature has invalid length"),s.Buffer.from(e).copy(a,n.length+64*r))})),e.copy(a,n.length+64*r.length),index_browser_esm_assert(a.length<=mn,`Transaction too large: ${a.length} > ${mn}`),a}get keys(){return index_browser_esm_assert(1===this.instructions.length),this.instructions[0].keys.map((e=>e.pubkey))}get programId(){return index_browser_esm_assert(1===this.instructions.length),this.instructions[0].programId}get data(){return index_browser_esm_assert(1===this.instructions.length),this.instructions[0].data}static from(e){let r=[...e];const n=decodeLength(r);let i=[];for(let e=0;e<n;e++){const e=guardedSplice(r,0,kn);i.push(mr().encode(s.Buffer.from(e)))}return Transaction.populate(Message.from(r),i)}static populate(e,r=[]){const n=new Transaction;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),r.forEach(((r,i)=>{const s={signature:r==mr().encode(Cn)?null:mr().decode(r),publicKey:e.accountKeys[i]};n.signatures.push(s)})),e.instructions.forEach((r=>{const i=r.accounts.map((r=>{const i=e.accountKeys[r];return{pubkey:i,isSigner:n.signatures.some((e=>e.publicKey.toString()===i.toString()))||e.isAccountSigner(r),isWritable:e.isAccountWritable(r)}}));n.instructions.push(new TransactionInstruction({keys:i,programId:e.accountKeys[r.programIdIndex],data:mr().decode(r.data)}))})),n._message=e,n._json=n.toJSON(),n}}class TransactionMessage{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,r){const{header:n,compiledInstructions:i,recentBlockhash:s}=e,{numRequiredSignatures:a,numReadonlySignedAccounts:k,numReadonlyUnsignedAccounts:w}=n,I=a-k;index_browser_esm_assert(I>0,"Message header is invalid");const we=e.staticAccountKeys.length-a-w;index_browser_esm_assert(we>=0,"Message header is invalid");const Ae=e.getAccountKeys(r),Be=Ae.get(0);if(void 0===Be)throw new Error("Failed to decompile message because no account keys were found");const Ce=[];for(const e of i){const r=[];for(const i of e.accountKeyIndexes){const e=Ae.get(i);if(void 0===e)throw new Error(`Failed to find key for account key index ${i}`);let s;s=i<a?i<I:i<Ae.staticAccountKeys.length?i-a<we:i-Ae.staticAccountKeys.length<Ae.accountKeysFromLookups.writable.length,r.push({pubkey:e,isSigner:i<n.numRequiredSignatures,isWritable:s})}const i=Ae.get(e.programIdIndex);if(void 0===i)throw new Error(`Failed to find program id for program id index ${e.programIdIndex}`);Ce.push(new TransactionInstruction({programId:i,data:toBuffer(e.data),keys:r}))}return new TransactionMessage({payerKey:Be,instructions:Ce,recentBlockhash:s})}compileToLegacyMessage(){return Message.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return MessageV0.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class VersionedTransaction{get version(){return this.message.version}constructor(e,r){if(this.signatures=void 0,this.message=void 0,void 0!==r)index_browser_esm_assert(r.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=r;else{const r=[];for(let n=0;n<e.header.numRequiredSignatures;n++)r.push(new Uint8Array(kn));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),r=Array();encodeLength(r,this.signatures.length);const n=Sr.struct([Sr.blob(r.length,"encodedSignaturesLength"),Sr.seq(signature(),this.signatures.length,"signatures"),Sr.blob(e.length,"serializedMessage")]),i=new Uint8Array(2048),s=n.encode({encodedSignaturesLength:new Uint8Array(r),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,s)}static deserialize(e){let r=[...e];const n=[],i=decodeLength(r);for(let e=0;e<i;e++)n.push(new Uint8Array(guardedSplice(r,0,kn)));const s=Mn.deserialize(new Uint8Array(r));return new VersionedTransaction(s,n)}sign(e){const r=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const i of e){const e=n.findIndex((e=>e.equals(i.publicKey)));index_browser_esm_assert(e>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[e]=sign(r,i.secretKey)}}addSignature(e,r){index_browser_esm_assert(64===r.byteLength,"Signature must be 64 bytes long");const n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex((r=>r.equals(e)));index_browser_esm_assert(n>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[n]=r}}const Wn=new PublicKey("SysvarC1ock11111111111111111111111111111111"),Hn=new PublicKey("SysvarEpochSchedu1e111111111111111111111111"),Zn=new PublicKey("Sysvar1nstructions1111111111111111111111111"),Qn=new PublicKey("SysvarRecentB1ockHashes11111111111111111111"),ei=new PublicKey("SysvarRent111111111111111111111111111111111"),ti=new PublicKey("SysvarRewards111111111111111111111111111111"),ri=new PublicKey("SysvarS1otHashes111111111111111111111111111"),ni=new PublicKey("SysvarS1otHistory11111111111111111111111111"),ii=new PublicKey("SysvarStakeHistory1111111111111111111111111");async function sendAndConfirmTransaction(e,r,n,i){const s=i&&{skipPreflight:i.skipPreflight,preflightCommitment:i.preflightCommitment||i.commitment,maxRetries:i.maxRetries,minContextSlot:i.minContextSlot},a=await e.sendTransaction(r,n,s);let k;if(null!=r.recentBlockhash&&null!=r.lastValidBlockHeight)k=(await e.confirmTransaction({abortSignal:i?.abortSignal,signature:a,blockhash:r.recentBlockhash,lastValidBlockHeight:r.lastValidBlockHeight},i&&i.commitment)).value;else if(null!=r.minNonceContextSlot&&null!=r.nonceInfo){const{nonceInstruction:n}=r.nonceInfo,s=n.keys[0].pubkey;k=(await e.confirmTransaction({abortSignal:i?.abortSignal,minContextSlot:r.minNonceContextSlot,nonceAccountPubkey:s,nonceValue:r.nonceInfo.nonce,signature:a},i&&i.commitment)).value}else null!=i?.abortSignal&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),k=(await e.confirmTransaction(a,i&&i.commitment)).value;if(k.err)throw new Error(`Transaction ${a} failed (${JSON.stringify(k)})`);return a}function sleep(e){return new Promise((r=>setTimeout(r,e)))}function encodeData(e,r){const n=e.layout.span>=0?e.layout.span:getAlloc(e,r),i=s.Buffer.alloc(n),a=Object.assign({instruction:e.index},r);return e.layout.encode(a,i),i}function decodeData$1(e,r){let n;try{n=e.layout.decode(r)}catch(e){throw new Error("invalid instruction; "+e)}if(n.instruction!==e.index)throw new Error(`invalid instruction; instruction index mismatch ${n.instruction} != ${e.index}`);return n}const oi=Sr.nu64("lamportsPerSignature"),si=Sr.struct([Sr.u32("version"),Sr.u32("state"),publicKey("authorizedPubkey"),publicKey("nonce"),Sr.struct([oi],"feeCalculator")]),ai=si.span;class NonceAccount{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const r=si.decode(toBuffer(e),0);return new NonceAccount({authorizedPubkey:new PublicKey(r.authorizedPubkey),nonce:new PublicKey(r.nonce).toString(),feeCalculator:r.feeCalculator})}}const ci=(ui=8,e=>{const r=(0,Sr.blob)(ui,e),{encode:n,decode:i}=(e=>({decode:e.decode.bind(e),encode:e.encode.bind(e)}))(r),a=r;return a.decode=(e,r)=>{const n=i(e,r);return(0,Er.toBigIntLE)(s.Buffer.from(n))},a.encode=(e,r,i)=>{const s=(0,Er.toBufferLE)(e,ui);return n(s,r,i)},a});var ui;class SystemInstruction{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=Sr.u32("instruction").decode(e.data);let n;for(const[e,i]of Object.entries(di))if(i.index==r){n=e;break}if(!n)throw new Error("Instruction type incorrect; not a SystemInstruction");return n}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:r,space:n,programId:i}=decodeData$1(di.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:r,space:n,programId:new PublicKey(i)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:r}=decodeData$1(di.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:r}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:r,seed:n,programId:i}=decodeData$1(di.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:r,seed:n,programId:new PublicKey(i)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:r}=decodeData$1(di.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:r}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:r,seed:n,space:i,programId:s}=decodeData$1(di.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new PublicKey(r),seed:n,space:i,programId:new PublicKey(s)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:r}=decodeData$1(di.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new PublicKey(r)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:r,seed:n,programId:i}=decodeData$1(di.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new PublicKey(r),seed:n,programId:new PublicKey(i)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:r,seed:n,lamports:i,space:s,programId:a}=decodeData$1(di.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new PublicKey(r),seed:n,lamports:i,space:s,programId:new PublicKey(a)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:r}=decodeData$1(di.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new PublicKey(r)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),decodeData$1(di.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:r}=decodeData$1(di.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:r}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:r}=decodeData$1(di.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new PublicKey(r)}}static checkProgramId(e){if(!e.equals(SystemProgram.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}}const di=Object.freeze({Create:{index:0,layout:Sr.struct([Sr.u32("instruction"),Sr.ns64("lamports"),Sr.ns64("space"),publicKey("programId")])},Assign:{index:1,layout:Sr.struct([Sr.u32("instruction"),publicKey("programId")])},Transfer:{index:2,layout:Sr.struct([Sr.u32("instruction"),ci("lamports")])},CreateWithSeed:{index:3,layout:Sr.struct([Sr.u32("instruction"),publicKey("base"),rustString("seed"),Sr.ns64("lamports"),Sr.ns64("space"),publicKey("programId")])},AdvanceNonceAccount:{index:4,layout:Sr.struct([Sr.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:Sr.struct([Sr.u32("instruction"),Sr.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:Sr.struct([Sr.u32("instruction"),publicKey("authorized")])},AuthorizeNonceAccount:{index:7,layout:Sr.struct([Sr.u32("instruction"),publicKey("authorized")])},Allocate:{index:8,layout:Sr.struct([Sr.u32("instruction"),Sr.ns64("space")])},AllocateWithSeed:{index:9,layout:Sr.struct([Sr.u32("instruction"),publicKey("base"),rustString("seed"),Sr.ns64("space"),publicKey("programId")])},AssignWithSeed:{index:10,layout:Sr.struct([Sr.u32("instruction"),publicKey("base"),rustString("seed"),publicKey("programId")])},TransferWithSeed:{index:11,layout:Sr.struct([Sr.u32("instruction"),ci("lamports"),rustString("seed"),publicKey("programId")])},UpgradeNonceAccount:{index:12,layout:Sr.struct([Sr.u32("instruction")])}});class SystemProgram{constructor(){}static createAccount(e){const r=encodeData(di.Create,{lamports:e.lamports,space:e.space,programId:toBuffer(e.programId.toBuffer())});return new TransactionInstruction({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let r,n;if("basePubkey"in e){r=encodeData(di.TransferWithSeed,{lamports:BigInt(e.lamports),seed:e.seed,programId:toBuffer(e.programId.toBuffer())}),n=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{r=encodeData(di.Transfer,{lamports:BigInt(e.lamports)}),n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new TransactionInstruction({keys:n,programId:this.programId,data:r})}static assign(e){let r,n;if("basePubkey"in e){r=encodeData(di.AssignWithSeed,{base:toBuffer(e.basePubkey.toBuffer()),seed:e.seed,programId:toBuffer(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{r=encodeData(di.Assign,{programId:toBuffer(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new TransactionInstruction({keys:n,programId:this.programId,data:r})}static createAccountWithSeed(e){const r=encodeData(di.CreateWithSeed,{base:toBuffer(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:toBuffer(e.programId.toBuffer())});let n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&n.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new TransactionInstruction({keys:n,programId:this.programId,data:r})}static createNonceAccount(e){const r=new Transaction;"basePubkey"in e&&"seed"in e?r.add(SystemProgram.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:ai,programId:this.programId})):r.add(SystemProgram.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:ai,programId:this.programId}));const n={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return r.add(this.nonceInitialize(n)),r}static nonceInitialize(e){const r=encodeData(di.InitializeNonceAccount,{authorized:toBuffer(e.authorizedPubkey.toBuffer())}),n={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Qn,isSigner:!1,isWritable:!1},{pubkey:ei,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new TransactionInstruction(n)}static nonceAdvance(e){const r=encodeData(di.AdvanceNonceAccount),n={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Qn,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new TransactionInstruction(n)}static nonceWithdraw(e){const r=encodeData(di.WithdrawNonceAccount,{lamports:e.lamports});return new TransactionInstruction({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:Qn,isSigner:!1,isWritable:!1},{pubkey:ei,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const r=encodeData(di.AuthorizeNonceAccount,{authorized:toBuffer(e.newAuthorizedPubkey.toBuffer())});return new TransactionInstruction({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let r,n;if("basePubkey"in e){r=encodeData(di.AllocateWithSeed,{base:toBuffer(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:toBuffer(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{r=encodeData(di.Allocate,{space:e.space}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new TransactionInstruction({keys:n,programId:this.programId,data:r})}}SystemProgram.programId=new PublicKey("11111111111111111111111111111111");const li=mn-300;class Loader{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/Loader.chunkSize)+1+1)}static async load(e,r,n,i,a){{const s=await e.getMinimumBalanceForRentExemption(a.length),k=await e.getAccountInfo(n.publicKey,"confirmed");let w=null;if(null!==k){if(k.executable)return console.error("Program load failed, account is already executable"),!1;k.data.length!==a.length&&(w=w||new Transaction,w.add(SystemProgram.allocate({accountPubkey:n.publicKey,space:a.length}))),k.owner.equals(i)||(w=w||new Transaction,w.add(SystemProgram.assign({accountPubkey:n.publicKey,programId:i}))),k.lamports<s&&(w=w||new Transaction,w.add(SystemProgram.transfer({fromPubkey:r.publicKey,toPubkey:n.publicKey,lamports:s-k.lamports})))}else w=(new Transaction).add(SystemProgram.createAccount({fromPubkey:r.publicKey,newAccountPubkey:n.publicKey,lamports:s>0?s:1,space:a.length,programId:i}));null!==w&&await sendAndConfirmTransaction(e,w,[r,n],{commitment:"confirmed"})}const k=Sr.struct([Sr.u32("instruction"),Sr.u32("offset"),Sr.u32("bytesLength"),Sr.u32("bytesLengthPadding"),Sr.seq(Sr.u8("byte"),Sr.offset(Sr.u32(),-8),"bytes")]),w=Loader.chunkSize;let I=0,we=a,Ae=[];for(;we.length>0;){const a=we.slice(0,w),Be=s.Buffer.alloc(w+16);k.encode({instruction:0,offset:I,bytes:a,bytesLength:0,bytesLengthPadding:0},Be);const Ce=(new Transaction).add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0}],programId:i,data:Be});if(Ae.push(sendAndConfirmTransaction(e,Ce,[r,n],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")){const e=4;await sleep(1e3/e)}I+=w,we=we.slice(w)}await Promise.all(Ae);{const a=Sr.struct([Sr.u32("instruction")]),k=s.Buffer.alloc(a.span);a.encode({instruction:1},k);const w=(new Transaction).add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0},{pubkey:ei,isSigner:!1,isWritable:!1}],programId:i,data:k}),I="processed",we=await e.sendTransaction(w,[r,n],{preflightCommitment:I}),{context:Ae,value:Be}=await e.confirmTransaction({signature:we,lastValidBlockHeight:w.lastValidBlockHeight,blockhash:w.recentBlockhash},I);if(Be.err)throw new Error(`Transaction ${we} failed (${JSON.stringify(Be)})`);for(;;){try{if(await e.getSlot({commitment:I})>Ae.slot)break}catch{}await new Promise((e=>setTimeout(e,Math.round(200))))}}return!0}}Loader.chunkSize=li;const hi=new PublicKey("BPFLoader2111111111111111111111111111111111");class BpfLoader{static getMinNumSignatures(e){return Loader.getMinNumSignatures(e)}static load(e,r,n,i,s){return Loader.load(e,r,n,s,i)}}function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var fi=Object.prototype.toString,pi=Object.keys||function(e){var r=[];for(var n in e)r.push(n);return r};function stringify(e,r){var n,i,s,a,k,w,I;if(!0===e)return"true";if(!1===e)return"false";switch(typeof e){case"object":if(null===e)return null;if(e.toJSON&&"function"==typeof e.toJSON)return stringify(e.toJSON(),r);if("[object Array]"===(I=fi.call(e))){for(s="[",i=e.length-1,n=0;n<i;n++)s+=stringify(e[n],!0)+",";return i>-1&&(s+=stringify(e[n],!0)),s+"]"}if("[object Object]"===I){for(i=(a=pi(e).sort()).length,s="",n=0;n<i;)void 0!==(w=stringify(e[k=a[n]],!1))&&(s&&(s+=","),s+=JSON.stringify(k)+":"+w),n++;return"{"+s+"}"}return JSON.stringify(e);case"function":case"undefined":return r?null:void 0;case"string":return JSON.stringify(e);default:return isFinite(e)?e:null}}var gi=getDefaultExportFromCjs((function(e){var r=stringify(e,!1);if(void 0!==r)return""+r}));function trailingZeros(e){let r=0;for(;e>1;)e/=2,r++;return r}class EpochSchedule{constructor(e,r,n,i,s){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=r,this.warmup=n,this.firstNormalEpoch=i,this.firstNormalSlot=s}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const r=trailingZeros(function nextPowerOfTwo(e){return 0===e?1:(e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,1+(e|=e>>32))}(e+32+1))-trailingZeros(32)-1;return[r,e-(this.getSlotsInEpoch(r)-32)]}{const r=e-this.firstNormalSlot,n=Math.floor(r/this.slotsPerEpoch);return[this.firstNormalEpoch+n,r%this.slotsPerEpoch]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?32*(Math.pow(2,e)-1):(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+trailingZeros(32)):this.slotsPerEpoch}}class SendTransactionError extends Error{constructor(e,r){super(e),this.logs=void 0,this.logs=r}}const yi={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class SolanaJSONRPCError extends Error{constructor({code:e,message:r,data:n},i){super(null!=i?`${i}: ${r}`:r),this.code=void 0,this.data=void 0,this.code=e,this.data=n,this.name="SolanaJSONRPCError"}}var mi=globalThis.fetch;class RpcWebSocketClient extends Pr.A{constructor(e,r,n){super((e=>{const n=(0,Or.A)(e,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...r});return this.underlyingSocket="socket"in n?n.socket:n,n}),e,r,n),this.underlyingSocket=void 0}call(...e){const r=this.underlyingSocket?.readyState;return 1===r?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}notify(...e){const r=this.underlyingSocket?.readyState;return 1===r?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}}class AddressLookupTableAccount{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const r=function decodeData(e,r){let n;try{n=e.layout.decode(r)}catch(e){throw new Error("invalid instruction; "+e)}if(n.typeIndex!==e.index)throw new Error(`invalid account data; account type mismatch ${n.typeIndex} != ${e.index}`);return n}(bi,e),n=e.length-56;index_browser_esm_assert(n>=0,"lookup table is invalid"),index_browser_esm_assert(n%32==0,"lookup table is invalid");const i=n/32,{addresses:s}=Sr.struct([Sr.seq(publicKey(),i,"addresses")]).decode(e.slice(56));return{deactivationSlot:r.deactivationSlot,lastExtendedSlot:r.lastExtendedSlot,lastExtendedSlotStartIndex:r.lastExtendedStartIndex,authority:0!==r.authority.length?new PublicKey(r.authority[0]):void 0,addresses:s.map((e=>new PublicKey(e)))}}}const bi={index:1,layout:Sr.struct([Sr.u32("typeIndex"),ci("deactivationSlot"),Sr.nu64("lastExtendedSlot"),Sr.u8("lastExtendedStartIndex"),Sr.u8(),Sr.seq(publicKey(),Sr.offset(Sr.u8(),-1),"authority")])},ki=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;const wi=(0,vr.au)((0,vr.KJ)(PublicKey),(0,vr.Yj)(),(e=>new PublicKey(e))),Ii=(0,vr.PV)([(0,vr.Yj)(),(0,vr.eu)("base64")]),_i=(0,vr.au)((0,vr.KJ)(s.Buffer),Ii,(e=>s.Buffer.from(e[0],"base64"))),Si=3e4;function extractCommitmentFromConfig(e){let r,n;if("string"==typeof e)r=e;else if(e){const{commitment:i,...s}=e;r=i,n=s}return{commitment:r,config:n}}function createRpcResult(e){return(0,vr.KC)([(0,vr.NW)({jsonrpc:(0,vr.eu)("2.0"),id:(0,vr.Yj)(),result:e}),(0,vr.NW)({jsonrpc:(0,vr.eu)("2.0"),id:(0,vr.Yj)(),error:(0,vr.NW)({code:(0,vr.L5)(),message:(0,vr.Yj)(),data:(0,vr.lq)((0,vr.bz)())})})])}const Ei=createRpcResult((0,vr.L5)());function jsonRpcResult(e){return(0,vr.au)(createRpcResult(e),Ei,(r=>"error"in r?r:{...r,result:(0,vr.vt)(r.result,e)}))}function jsonRpcResultAndContext(e){return jsonRpcResult((0,vr.NW)({context:(0,vr.NW)({slot:(0,vr.ai)()}),value:e}))}function notificationResultAndContext(e){return(0,vr.NW)({context:(0,vr.NW)({slot:(0,vr.ai)()}),value:e})}function versionedMessageFromResponse(e,r){return 0===e?new MessageV0({header:r.header,staticAccountKeys:r.accountKeys.map((e=>new PublicKey(e))),recentBlockhash:r.recentBlockhash,compiledInstructions:r.instructions.map((e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:mr().decode(e.data)}))),addressTableLookups:r.addressTableLookups}):new Message(r)}const vi=(0,vr.NW)({foundation:(0,vr.ai)(),foundationTerm:(0,vr.ai)(),initial:(0,vr.ai)(),taper:(0,vr.ai)(),terminal:(0,vr.ai)()}),Ai=jsonRpcResult((0,vr.YO)((0,vr.me)((0,vr.NW)({epoch:(0,vr.ai)(),effectiveSlot:(0,vr.ai)(),amount:(0,vr.ai)(),postBalance:(0,vr.ai)(),commission:(0,vr.lq)((0,vr.me)((0,vr.ai)()))})))),Ti=(0,vr.YO)((0,vr.NW)({slot:(0,vr.ai)(),prioritizationFee:(0,vr.ai)()})),Pi=(0,vr.NW)({total:(0,vr.ai)(),validator:(0,vr.ai)(),foundation:(0,vr.ai)(),epoch:(0,vr.ai)()}),Oi=(0,vr.NW)({epoch:(0,vr.ai)(),slotIndex:(0,vr.ai)(),slotsInEpoch:(0,vr.ai)(),absoluteSlot:(0,vr.ai)(),blockHeight:(0,vr.lq)((0,vr.ai)()),transactionCount:(0,vr.lq)((0,vr.ai)())}),Mi=(0,vr.NW)({slotsPerEpoch:(0,vr.ai)(),leaderScheduleSlotOffset:(0,vr.ai)(),warmup:(0,vr.zM)(),firstNormalEpoch:(0,vr.ai)(),firstNormalSlot:(0,vr.ai)()}),xi=(0,vr.g1)((0,vr.Yj)(),(0,vr.YO)((0,vr.ai)())),Bi=(0,vr.me)((0,vr.KC)([(0,vr.NW)({}),(0,vr.Yj)()])),Ri=(0,vr.NW)({err:Bi}),Ci=(0,vr.eu)("receivedSignature"),Di=(0,vr.NW)({"solana-core":(0,vr.Yj)(),"feature-set":(0,vr.lq)((0,vr.ai)())}),Ni=jsonRpcResultAndContext((0,vr.NW)({err:(0,vr.me)((0,vr.KC)([(0,vr.NW)({}),(0,vr.Yj)()])),logs:(0,vr.me)((0,vr.YO)((0,vr.Yj)())),accounts:(0,vr.lq)((0,vr.me)((0,vr.YO)((0,vr.me)((0,vr.NW)({executable:(0,vr.zM)(),owner:(0,vr.Yj)(),lamports:(0,vr.ai)(),data:(0,vr.YO)((0,vr.Yj)()),rentEpoch:(0,vr.lq)((0,vr.ai)())}))))),unitsConsumed:(0,vr.lq)((0,vr.ai)()),returnData:(0,vr.lq)((0,vr.me)((0,vr.NW)({programId:(0,vr.Yj)(),data:(0,vr.PV)([(0,vr.Yj)(),(0,vr.eu)("base64")])})))})),zi=jsonRpcResultAndContext((0,vr.NW)({byIdentity:(0,vr.g1)((0,vr.Yj)(),(0,vr.YO)((0,vr.ai)())),range:(0,vr.NW)({firstSlot:(0,vr.ai)(),lastSlot:(0,vr.ai)()})}));const Wi=jsonRpcResult(vi),ji=jsonRpcResult(Pi),Li=jsonRpcResult(Ti),Ki=jsonRpcResult(Oi),Fi=jsonRpcResult(Mi),Ui=jsonRpcResult(xi),Vi=jsonRpcResult((0,vr.ai)()),qi=jsonRpcResultAndContext((0,vr.NW)({total:(0,vr.ai)(),circulating:(0,vr.ai)(),nonCirculating:(0,vr.ai)(),nonCirculatingAccounts:(0,vr.YO)(wi)})),Hi=(0,vr.NW)({amount:(0,vr.Yj)(),uiAmount:(0,vr.me)((0,vr.ai)()),decimals:(0,vr.ai)(),uiAmountString:(0,vr.lq)((0,vr.Yj)())}),Gi=jsonRpcResultAndContext((0,vr.YO)((0,vr.NW)({address:wi,amount:(0,vr.Yj)(),uiAmount:(0,vr.me)((0,vr.ai)()),decimals:(0,vr.ai)(),uiAmountString:(0,vr.lq)((0,vr.Yj)())}))),$i=jsonRpcResultAndContext((0,vr.YO)((0,vr.NW)({pubkey:wi,account:(0,vr.NW)({executable:(0,vr.zM)(),owner:wi,lamports:(0,vr.ai)(),data:_i,rentEpoch:(0,vr.ai)()})}))),Yi=(0,vr.NW)({program:(0,vr.Yj)(),parsed:(0,vr.L5)(),space:(0,vr.ai)()}),Zi=jsonRpcResultAndContext((0,vr.YO)((0,vr.NW)({pubkey:wi,account:(0,vr.NW)({executable:(0,vr.zM)(),owner:wi,lamports:(0,vr.ai)(),data:Yi,rentEpoch:(0,vr.ai)()})}))),Ji=jsonRpcResultAndContext((0,vr.YO)((0,vr.NW)({lamports:(0,vr.ai)(),address:wi}))),Qi=(0,vr.NW)({executable:(0,vr.zM)(),owner:wi,lamports:(0,vr.ai)(),data:_i,rentEpoch:(0,vr.ai)()}),Xi=(0,vr.NW)({pubkey:wi,account:Qi}),eo=(0,vr.au)((0,vr.KC)([(0,vr.KJ)(s.Buffer),Yi]),(0,vr.KC)([Ii,Yi]),(e=>Array.isArray(e)?(0,vr.vt)(e,_i):e)),to=(0,vr.NW)({executable:(0,vr.zM)(),owner:wi,lamports:(0,vr.ai)(),data:eo,rentEpoch:(0,vr.ai)()}),ro=(0,vr.NW)({pubkey:wi,account:to}),no=(0,vr.NW)({state:(0,vr.KC)([(0,vr.eu)("active"),(0,vr.eu)("inactive"),(0,vr.eu)("activating"),(0,vr.eu)("deactivating")]),active:(0,vr.ai)(),inactive:(0,vr.ai)()}),io=jsonRpcResult((0,vr.YO)((0,vr.NW)({signature:(0,vr.Yj)(),slot:(0,vr.ai)(),err:Bi,memo:(0,vr.me)((0,vr.Yj)()),blockTime:(0,vr.lq)((0,vr.me)((0,vr.ai)()))}))),oo=jsonRpcResult((0,vr.YO)((0,vr.NW)({signature:(0,vr.Yj)(),slot:(0,vr.ai)(),err:Bi,memo:(0,vr.me)((0,vr.Yj)()),blockTime:(0,vr.lq)((0,vr.me)((0,vr.ai)()))}))),so=(0,vr.NW)({subscription:(0,vr.ai)(),result:notificationResultAndContext(Qi)}),ao=(0,vr.NW)({pubkey:wi,account:Qi}),co=(0,vr.NW)({subscription:(0,vr.ai)(),result:notificationResultAndContext(ao)}),uo=(0,vr.NW)({parent:(0,vr.ai)(),slot:(0,vr.ai)(),root:(0,vr.ai)()}),lo=(0,vr.NW)({subscription:(0,vr.ai)(),result:uo}),ho=(0,vr.KC)([(0,vr.NW)({type:(0,vr.KC)([(0,vr.eu)("firstShredReceived"),(0,vr.eu)("completed"),(0,vr.eu)("optimisticConfirmation"),(0,vr.eu)("root")]),slot:(0,vr.ai)(),timestamp:(0,vr.ai)()}),(0,vr.NW)({type:(0,vr.eu)("createdBank"),parent:(0,vr.ai)(),slot:(0,vr.ai)(),timestamp:(0,vr.ai)()}),(0,vr.NW)({type:(0,vr.eu)("frozen"),slot:(0,vr.ai)(),timestamp:(0,vr.ai)(),stats:(0,vr.NW)({numTransactionEntries:(0,vr.ai)(),numSuccessfulTransactions:(0,vr.ai)(),numFailedTransactions:(0,vr.ai)(),maxTransactionsPerEntry:(0,vr.ai)()})}),(0,vr.NW)({type:(0,vr.eu)("dead"),slot:(0,vr.ai)(),timestamp:(0,vr.ai)(),err:(0,vr.Yj)()})]),fo=(0,vr.NW)({subscription:(0,vr.ai)(),result:ho}),po=(0,vr.NW)({subscription:(0,vr.ai)(),result:notificationResultAndContext((0,vr.KC)([Ri,Ci]))}),go=(0,vr.NW)({subscription:(0,vr.ai)(),result:(0,vr.ai)()}),yo=(0,vr.NW)({pubkey:(0,vr.Yj)(),gossip:(0,vr.me)((0,vr.Yj)()),tpu:(0,vr.me)((0,vr.Yj)()),rpc:(0,vr.me)((0,vr.Yj)()),version:(0,vr.me)((0,vr.Yj)())}),mo=(0,vr.NW)({votePubkey:(0,vr.Yj)(),nodePubkey:(0,vr.Yj)(),activatedStake:(0,vr.ai)(),epochVoteAccount:(0,vr.zM)(),epochCredits:(0,vr.YO)((0,vr.PV)([(0,vr.ai)(),(0,vr.ai)(),(0,vr.ai)()])),commission:(0,vr.ai)(),lastVote:(0,vr.ai)(),rootSlot:(0,vr.me)((0,vr.ai)())}),bo=jsonRpcResult((0,vr.NW)({current:(0,vr.YO)(mo),delinquent:(0,vr.YO)(mo)})),ko=(0,vr.KC)([(0,vr.eu)("processed"),(0,vr.eu)("confirmed"),(0,vr.eu)("finalized")]),wo=(0,vr.NW)({slot:(0,vr.ai)(),confirmations:(0,vr.me)((0,vr.ai)()),err:Bi,confirmationStatus:(0,vr.lq)(ko)}),Io=jsonRpcResultAndContext((0,vr.YO)((0,vr.me)(wo))),_o=jsonRpcResult((0,vr.ai)()),So=(0,vr.NW)({accountKey:wi,writableIndexes:(0,vr.YO)((0,vr.ai)()),readonlyIndexes:(0,vr.YO)((0,vr.ai)())}),Eo=(0,vr.NW)({signatures:(0,vr.YO)((0,vr.Yj)()),message:(0,vr.NW)({accountKeys:(0,vr.YO)((0,vr.Yj)()),header:(0,vr.NW)({numRequiredSignatures:(0,vr.ai)(),numReadonlySignedAccounts:(0,vr.ai)(),numReadonlyUnsignedAccounts:(0,vr.ai)()}),instructions:(0,vr.YO)((0,vr.NW)({accounts:(0,vr.YO)((0,vr.ai)()),data:(0,vr.Yj)(),programIdIndex:(0,vr.ai)()})),recentBlockhash:(0,vr.Yj)(),addressTableLookups:(0,vr.lq)((0,vr.YO)(So))})}),vo=(0,vr.NW)({pubkey:wi,signer:(0,vr.zM)(),writable:(0,vr.zM)(),source:(0,vr.lq)((0,vr.KC)([(0,vr.eu)("transaction"),(0,vr.eu)("lookupTable")]))}),Ao=(0,vr.NW)({accountKeys:(0,vr.YO)(vo),signatures:(0,vr.YO)((0,vr.Yj)())}),To=(0,vr.NW)({parsed:(0,vr.L5)(),program:(0,vr.Yj)(),programId:wi}),Po=(0,vr.NW)({accounts:(0,vr.YO)(wi),data:(0,vr.Yj)(),programId:wi}),Oo=(0,vr.KC)([Po,To]),Mo=(0,vr.KC)([(0,vr.NW)({parsed:(0,vr.L5)(),program:(0,vr.Yj)(),programId:(0,vr.Yj)()}),(0,vr.NW)({accounts:(0,vr.YO)((0,vr.Yj)()),data:(0,vr.Yj)(),programId:(0,vr.Yj)()})]),xo=(0,vr.au)(Oo,Mo,(e=>"accounts"in e?(0,vr.vt)(e,Po):(0,vr.vt)(e,To))),Bo=(0,vr.NW)({signatures:(0,vr.YO)((0,vr.Yj)()),message:(0,vr.NW)({accountKeys:(0,vr.YO)(vo),instructions:(0,vr.YO)(xo),recentBlockhash:(0,vr.Yj)(),addressTableLookups:(0,vr.lq)((0,vr.me)((0,vr.YO)(So)))})}),Ro=(0,vr.NW)({accountIndex:(0,vr.ai)(),mint:(0,vr.Yj)(),owner:(0,vr.lq)((0,vr.Yj)()),uiTokenAmount:Hi}),Co=(0,vr.NW)({writable:(0,vr.YO)(wi),readonly:(0,vr.YO)(wi)}),Do=(0,vr.NW)({err:Bi,fee:(0,vr.ai)(),innerInstructions:(0,vr.lq)((0,vr.me)((0,vr.YO)((0,vr.NW)({index:(0,vr.ai)(),instructions:(0,vr.YO)((0,vr.NW)({accounts:(0,vr.YO)((0,vr.ai)()),data:(0,vr.Yj)(),programIdIndex:(0,vr.ai)()}))})))),preBalances:(0,vr.YO)((0,vr.ai)()),postBalances:(0,vr.YO)((0,vr.ai)()),logMessages:(0,vr.lq)((0,vr.me)((0,vr.YO)((0,vr.Yj)()))),preTokenBalances:(0,vr.lq)((0,vr.me)((0,vr.YO)(Ro))),postTokenBalances:(0,vr.lq)((0,vr.me)((0,vr.YO)(Ro))),loadedAddresses:(0,vr.lq)(Co),computeUnitsConsumed:(0,vr.lq)((0,vr.ai)())}),No=(0,vr.NW)({err:Bi,fee:(0,vr.ai)(),innerInstructions:(0,vr.lq)((0,vr.me)((0,vr.YO)((0,vr.NW)({index:(0,vr.ai)(),instructions:(0,vr.YO)(xo)})))),preBalances:(0,vr.YO)((0,vr.ai)()),postBalances:(0,vr.YO)((0,vr.ai)()),logMessages:(0,vr.lq)((0,vr.me)((0,vr.YO)((0,vr.Yj)()))),preTokenBalances:(0,vr.lq)((0,vr.me)((0,vr.YO)(Ro))),postTokenBalances:(0,vr.lq)((0,vr.me)((0,vr.YO)(Ro))),loadedAddresses:(0,vr.lq)(Co),computeUnitsConsumed:(0,vr.lq)((0,vr.ai)())}),zo=(0,vr.KC)([(0,vr.eu)(0),(0,vr.eu)("legacy")]),Wo=(0,vr.NW)({pubkey:(0,vr.Yj)(),lamports:(0,vr.ai)(),postBalance:(0,vr.me)((0,vr.ai)()),rewardType:(0,vr.me)((0,vr.Yj)()),commission:(0,vr.lq)((0,vr.me)((0,vr.ai)()))}),jo=jsonRpcResult((0,vr.me)((0,vr.NW)({blockhash:(0,vr.Yj)(),previousBlockhash:(0,vr.Yj)(),parentSlot:(0,vr.ai)(),transactions:(0,vr.YO)((0,vr.NW)({transaction:Eo,meta:(0,vr.me)(Do),version:(0,vr.lq)(zo)})),rewards:(0,vr.lq)((0,vr.YO)(Wo)),blockTime:(0,vr.me)((0,vr.ai)()),blockHeight:(0,vr.me)((0,vr.ai)())}))),Lo=jsonRpcResult((0,vr.me)((0,vr.NW)({blockhash:(0,vr.Yj)(),previousBlockhash:(0,vr.Yj)(),parentSlot:(0,vr.ai)(),rewards:(0,vr.lq)((0,vr.YO)(Wo)),blockTime:(0,vr.me)((0,vr.ai)()),blockHeight:(0,vr.me)((0,vr.ai)())}))),Ko=jsonRpcResult((0,vr.me)((0,vr.NW)({blockhash:(0,vr.Yj)(),previousBlockhash:(0,vr.Yj)(),parentSlot:(0,vr.ai)(),transactions:(0,vr.YO)((0,vr.NW)({transaction:Ao,meta:(0,vr.me)(Do),version:(0,vr.lq)(zo)})),rewards:(0,vr.lq)((0,vr.YO)(Wo)),blockTime:(0,vr.me)((0,vr.ai)()),blockHeight:(0,vr.me)((0,vr.ai)())}))),Fo=jsonRpcResult((0,vr.me)((0,vr.NW)({blockhash:(0,vr.Yj)(),previousBlockhash:(0,vr.Yj)(),parentSlot:(0,vr.ai)(),transactions:(0,vr.YO)((0,vr.NW)({transaction:Bo,meta:(0,vr.me)(No),version:(0,vr.lq)(zo)})),rewards:(0,vr.lq)((0,vr.YO)(Wo)),blockTime:(0,vr.me)((0,vr.ai)()),blockHeight:(0,vr.me)((0,vr.ai)())}))),Uo=jsonRpcResult((0,vr.me)((0,vr.NW)({blockhash:(0,vr.Yj)(),previousBlockhash:(0,vr.Yj)(),parentSlot:(0,vr.ai)(),transactions:(0,vr.YO)((0,vr.NW)({transaction:Ao,meta:(0,vr.me)(No),version:(0,vr.lq)(zo)})),rewards:(0,vr.lq)((0,vr.YO)(Wo)),blockTime:(0,vr.me)((0,vr.ai)()),blockHeight:(0,vr.me)((0,vr.ai)())}))),Vo=jsonRpcResult((0,vr.me)((0,vr.NW)({blockhash:(0,vr.Yj)(),previousBlockhash:(0,vr.Yj)(),parentSlot:(0,vr.ai)(),rewards:(0,vr.lq)((0,vr.YO)(Wo)),blockTime:(0,vr.me)((0,vr.ai)()),blockHeight:(0,vr.me)((0,vr.ai)())}))),qo=jsonRpcResult((0,vr.me)((0,vr.NW)({blockhash:(0,vr.Yj)(),previousBlockhash:(0,vr.Yj)(),parentSlot:(0,vr.ai)(),transactions:(0,vr.YO)((0,vr.NW)({transaction:Eo,meta:(0,vr.me)(Do)})),rewards:(0,vr.lq)((0,vr.YO)(Wo)),blockTime:(0,vr.me)((0,vr.ai)())}))),Ho=jsonRpcResult((0,vr.me)((0,vr.NW)({blockhash:(0,vr.Yj)(),previousBlockhash:(0,vr.Yj)(),parentSlot:(0,vr.ai)(),signatures:(0,vr.YO)((0,vr.Yj)()),blockTime:(0,vr.me)((0,vr.ai)())}))),Go=jsonRpcResult((0,vr.me)((0,vr.NW)({slot:(0,vr.ai)(),meta:(0,vr.me)(Do),blockTime:(0,vr.lq)((0,vr.me)((0,vr.ai)())),transaction:Eo,version:(0,vr.lq)(zo)}))),$o=jsonRpcResult((0,vr.me)((0,vr.NW)({slot:(0,vr.ai)(),transaction:Bo,meta:(0,vr.me)(No),blockTime:(0,vr.lq)((0,vr.me)((0,vr.ai)())),version:(0,vr.lq)(zo)}))),Yo=jsonRpcResultAndContext((0,vr.NW)({blockhash:(0,vr.Yj)(),feeCalculator:(0,vr.NW)({lamportsPerSignature:(0,vr.ai)()})})),Zo=jsonRpcResultAndContext((0,vr.NW)({blockhash:(0,vr.Yj)(),lastValidBlockHeight:(0,vr.ai)()})),Jo=jsonRpcResultAndContext((0,vr.zM)()),Qo=(0,vr.NW)({slot:(0,vr.ai)(),numTransactions:(0,vr.ai)(),numSlots:(0,vr.ai)(),samplePeriodSecs:(0,vr.ai)()}),Xo=jsonRpcResult((0,vr.YO)(Qo)),es=jsonRpcResultAndContext((0,vr.me)((0,vr.NW)({feeCalculator:(0,vr.NW)({lamportsPerSignature:(0,vr.ai)()})}))),ts=jsonRpcResult((0,vr.Yj)()),rs=jsonRpcResult((0,vr.Yj)()),ns=(0,vr.NW)({err:Bi,logs:(0,vr.YO)((0,vr.Yj)()),signature:(0,vr.Yj)()}),os=(0,vr.NW)({result:notificationResultAndContext(ns),subscription:(0,vr.ai)()}),ss={"solana-client":"js/0.0.0-development"};class Connection{constructor(e,r){let n,i,s,a,k,w;this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const e={};return async r=>{const{commitment:n,config:i}=extractCommitmentFromConfig(r),s=this._buildArgs([],n,void 0,i),a=gi(s);return e[a]=e[a]??(async()=>{try{const e=await this._rpcRequest("getBlockHeight",s),r=(0,vr.vt)(e,jsonRpcResult((0,vr.ai)()));if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get block height information");return r.result}finally{delete e[a]}})(),await e[a]}})(),r&&"string"==typeof r?this._commitment=r:r&&(this._commitment=r.commitment,this._confirmTransactionInitialTimeout=r.confirmTransactionInitialTimeout,n=r.wsEndpoint,i=r.httpHeaders,s=r.fetch,a=r.fetchMiddleware,k=r.disableRetryOnRateLimit,w=r.httpAgent),this._rpcEndpoint=function assertEndpointUrl(e){if(!1===/^https?:/.test(e))throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return e}(e),this._rpcWsEndpoint=n||function makeWebsocketUrl(e){const r=e.match(ki);if(null==r)throw TypeError(`Failed to validate endpoint URL \`${e}\``);const[n,i,s,a]=r,k=e.startsWith("https:")?"wss:":"ws:",w=null==s?null:parseInt(s.slice(1),10);return`${k}//${i}${null==w?"":`:${w+1}`}${a}`}(e),this._rpcClient=function createRpcClient(e,r,n,i,s,a){const k=n||mi;let w;return null!=a&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments."),i&&(w=async(e,r)=>{const n=await new Promise(((n,s)=>{try{i(e,r,((e,r)=>n([e,r])))}catch(e){s(e)}}));return await k(...n)}),new(Tr())((async(n,i)=>{const a={method:"POST",body:n,agent:void 0,headers:Object.assign({"Content-Type":"application/json"},r||{},ss)};try{let r,n=5,I=500;for(;r=w?await w(e,a):await k(e,a),429===r.status&&!0!==s&&(n-=1,0!==n);)console.error(`Server responded with ${r.status} ${r.statusText}.  Retrying after ${I}ms delay...`),await sleep(I),I*=2;const we=await r.text();r.ok?i(null,we):i(new Error(`${r.status} ${r.statusText}: ${we}`))}catch(e){e instanceof Error&&i(e)}}),{})}(e,i,s,a,k,w),this._rpcRequest=function createRpcRequest(e){return(r,n)=>new Promise(((i,s)=>{e.request(r,n,((e,r)=>{e?s(e):i(r)}))}))}(this._rpcClient),this._rpcBatchRequest=function createRpcBatchRequest(e){return r=>new Promise(((n,i)=>{0===r.length&&n([]);const s=r.map((r=>e.request(r.methodName,r.args)));e.request(s,((e,r)=>{e?i(e):n(r)}))}))}(this._rpcClient),this._rpcWebSocket=new RpcWebSocketClient(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,r){const{commitment:n,config:i}=extractCommitmentFromConfig(r),s=this._buildArgs([e.toBase58()],n,void 0,i),a=await this._rpcRequest("getBalance",s),k=(0,vr.vt)(a,jsonRpcResultAndContext((0,vr.ai)()));if("error"in k)throw new SolanaJSONRPCError(k.error,`failed to get balance for ${e.toBase58()}`);return k.result}async getBalance(e,r){return await this.getBalanceAndContext(e,r).then((e=>e.value)).catch((r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)}))}async getBlockTime(e){const r=await this._rpcRequest("getBlockTime",[e]),n=(0,vr.vt)(r,jsonRpcResult((0,vr.me)((0,vr.ai)())));if("error"in n)throw new SolanaJSONRPCError(n.error,`failed to get block time for slot ${e}`);return n.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),r=(0,vr.vt)(e,jsonRpcResult((0,vr.ai)()));if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get minimum ledger slot");return r.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),r=(0,vr.vt)(e,Vi);if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get first available block");return r.result}async getSupply(e){let r={};r="string"==typeof e?{commitment:e}:e?{...e,commitment:e&&e.commitment||this.commitment}:{commitment:this.commitment};const n=await this._rpcRequest("getSupply",[r]),i=(0,vr.vt)(n,qi);if("error"in i)throw new SolanaJSONRPCError(i.error,"failed to get supply");return i.result}async getTokenSupply(e,r){const n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenSupply",n),s=(0,vr.vt)(i,jsonRpcResultAndContext(Hi));if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get token supply");return s.result}async getTokenAccountBalance(e,r){const n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenAccountBalance",n),s=(0,vr.vt)(i,jsonRpcResultAndContext(Hi));if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get token account balance");return s.result}async getTokenAccountsByOwner(e,r,n){const{commitment:i,config:s}=extractCommitmentFromConfig(n);let a=[e.toBase58()];"mint"in r?a.push({mint:r.mint.toBase58()}):a.push({programId:r.programId.toBase58()});const k=this._buildArgs(a,i,"base64",s),w=await this._rpcRequest("getTokenAccountsByOwner",k),I=(0,vr.vt)(w,$i);if("error"in I)throw new SolanaJSONRPCError(I.error,`failed to get token accounts owned by account ${e.toBase58()}`);return I.result}async getParsedTokenAccountsByOwner(e,r,n){let i=[e.toBase58()];"mint"in r?i.push({mint:r.mint.toBase58()}):i.push({programId:r.programId.toBase58()});const s=this._buildArgs(i,n,"jsonParsed"),a=await this._rpcRequest("getTokenAccountsByOwner",s),k=(0,vr.vt)(a,Zi);if("error"in k)throw new SolanaJSONRPCError(k.error,`failed to get token accounts owned by account ${e.toBase58()}`);return k.result}async getLargestAccounts(e){const r={...e,commitment:e&&e.commitment||this.commitment},n=r.filter||r.commitment?[r]:[],i=await this._rpcRequest("getLargestAccounts",n),s=(0,vr.vt)(i,Ji);if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get largest accounts");return s.result}async getTokenLargestAccounts(e,r){const n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenLargestAccounts",n),s=(0,vr.vt)(i,Gi);if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get token largest accounts");return s.result}async getAccountInfoAndContext(e,r){const{commitment:n,config:i}=extractCommitmentFromConfig(r),s=this._buildArgs([e.toBase58()],n,"base64",i),a=await this._rpcRequest("getAccountInfo",s),k=(0,vr.vt)(a,jsonRpcResultAndContext((0,vr.me)(Qi)));if("error"in k)throw new SolanaJSONRPCError(k.error,`failed to get info about account ${e.toBase58()}`);return k.result}async getParsedAccountInfo(e,r){const{commitment:n,config:i}=extractCommitmentFromConfig(r),s=this._buildArgs([e.toBase58()],n,"jsonParsed",i),a=await this._rpcRequest("getAccountInfo",s),k=(0,vr.vt)(a,jsonRpcResultAndContext((0,vr.me)(to)));if("error"in k)throw new SolanaJSONRPCError(k.error,`failed to get info about account ${e.toBase58()}`);return k.result}async getAccountInfo(e,r){try{return(await this.getAccountInfoAndContext(e,r)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,r){const{commitment:n,config:i}=extractCommitmentFromConfig(r),s=e.map((e=>e.toBase58())),a=this._buildArgs([s],n,"jsonParsed",i),k=await this._rpcRequest("getMultipleAccounts",a),w=(0,vr.vt)(k,jsonRpcResultAndContext((0,vr.YO)((0,vr.me)(to))));if("error"in w)throw new SolanaJSONRPCError(w.error,`failed to get info for accounts ${s}`);return w.result}async getMultipleAccountsInfoAndContext(e,r){const{commitment:n,config:i}=extractCommitmentFromConfig(r),s=e.map((e=>e.toBase58())),a=this._buildArgs([s],n,"base64",i),k=await this._rpcRequest("getMultipleAccounts",a),w=(0,vr.vt)(k,jsonRpcResultAndContext((0,vr.YO)((0,vr.me)(Qi))));if("error"in w)throw new SolanaJSONRPCError(w.error,`failed to get info for accounts ${s}`);return w.result}async getMultipleAccountsInfo(e,r){return(await this.getMultipleAccountsInfoAndContext(e,r)).value}async getStakeActivation(e,r,n){const{commitment:i,config:s}=extractCommitmentFromConfig(r),a=this._buildArgs([e.toBase58()],i,void 0,{...s,epoch:null!=n?n:s?.epoch}),k=await this._rpcRequest("getStakeActivation",a),w=(0,vr.vt)(k,jsonRpcResult(no));if("error"in w)throw new SolanaJSONRPCError(w.error,`failed to get Stake Activation ${e.toBase58()}`);return w.result}async getProgramAccounts(e,r){const{commitment:n,config:i}=extractCommitmentFromConfig(r),{encoding:s,...a}=i||{},k=this._buildArgs([e.toBase58()],n,s||"base64",a),w=await this._rpcRequest("getProgramAccounts",k),I=(0,vr.YO)(Xi),we=!0===a.withContext?(0,vr.vt)(w,jsonRpcResultAndContext(I)):(0,vr.vt)(w,jsonRpcResult(I));if("error"in we)throw new SolanaJSONRPCError(we.error,`failed to get accounts owned by program ${e.toBase58()}`);return we.result}async getParsedProgramAccounts(e,r){const{commitment:n,config:i}=extractCommitmentFromConfig(r),s=this._buildArgs([e.toBase58()],n,"jsonParsed",i),a=await this._rpcRequest("getProgramAccounts",s),k=(0,vr.vt)(a,jsonRpcResult((0,vr.YO)(ro)));if("error"in k)throw new SolanaJSONRPCError(k.error,`failed to get accounts owned by program ${e.toBase58()}`);return k.result}async confirmTransaction(e,r){let n,i;if("string"==typeof e)n=e;else{const r=e;if(r.abortSignal?.aborted)return Promise.reject(r.abortSignal.reason);n=r.signature}try{i=mr().decode(n)}catch(e){throw new Error("signature must be base58 encoded: "+n)}return index_browser_esm_assert(64===i.length,"signature has invalid length"),"string"==typeof e?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:r||this.commitment,signature:n}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:r||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:r||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise(((r,n)=>{null!=e&&(e.aborted?n(e.reason):e.addEventListener("abort",(()=>{n(e.reason)})))}))}getTransactionConfirmationPromise({commitment:e,signature:r}){let n,i,s=!1;return{abortConfirmation:()=>{i&&(i(),i=void 0),null!=n&&(this.removeSignatureListener(n),n=void 0)},confirmationPromise:new Promise(((a,k)=>{try{n=this.onSignature(r,((e,r)=>{n=void 0;const i={context:r,value:e};a({__type:Bn.PROCESSED,response:i})}),e);const w=new Promise((e=>{null==n?e():i=this._onSubscriptionStateChange(n,(r=>{"subscribed"===r&&e()}))}));(async()=>{if(await w,s)return;const n=await this.getSignatureStatus(r);if(s)return;if(null==n)return;const{context:i,value:I}=n;if(null!=I)if(I?.err)k(I.err);else{switch(e){case"confirmed":case"single":case"singleGossip":if("processed"===I.confirmationStatus)return;break;case"finalized":case"max":case"root":if("processed"===I.confirmationStatus||"confirmed"===I.confirmationStatus)return}s=!0,a({__type:Bn.PROCESSED,response:{context:i,value:I}})}})()}catch(e){k(e)}}))}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:r,lastValidBlockHeight:n,signature:i}}){let s=!1;const a=new Promise((r=>{const checkBlockHeight=async()=>{try{return await this.getBlockHeight(e)}catch(e){return-1}};(async()=>{let e=await checkBlockHeight();if(!s){for(;e<=n;){if(await sleep(1e3),s)return;if(e=await checkBlockHeight(),s)return}r({__type:Bn.BLOCKHEIGHT_EXCEEDED})}})()})),{abortConfirmation:k,confirmationPromise:w}=this.getTransactionConfirmationPromise({commitment:e,signature:i}),I=this.getCancellationPromise(r);let we;try{const e=await Promise.race([I,w,a]);if(e.__type!==Bn.PROCESSED)throw new TransactionExpiredBlockheightExceededError(i);we=e.response}finally{s=!0,k()}return we}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:r,minContextSlot:n,nonceAccountPubkey:i,nonceValue:s,signature:a}}){let k=!1;const w=new Promise((r=>{let a=s,w=null;const getCurrentNonceValue=async()=>{try{const{context:r,value:s}=await this.getNonceAndContext(i,{commitment:e,minContextSlot:n});return w=r.slot,s?.nonce}catch(e){return a}};(async()=>{if(a=await getCurrentNonceValue(),!k)for(;;){if(s!==a)return void r({__type:Bn.NONCE_INVALID,slotInWhichNonceDidAdvance:w});if(await sleep(2e3),k)return;if(a=await getCurrentNonceValue(),k)return}})()})),{abortConfirmation:I,confirmationPromise:we}=this.getTransactionConfirmationPromise({commitment:e,signature:a}),Ae=this.getCancellationPromise(r);let Be;try{const r=await Promise.race([Ae,we,w]);if(r.__type===Bn.PROCESSED)Be=r.response;else{let i;for(;;){const e=await this.getSignatureStatus(a);if(null==e)break;if(!(e.context.slot<(r.slotInWhichNonceDidAdvance??n))){i=e;break}await sleep(400)}if(!i?.value)throw new TransactionExpiredNonceInvalidError(a);{const r=e||"finalized",{confirmationStatus:n}=i.value;switch(r){case"processed":case"recent":if("processed"!==n&&"confirmed"!==n&&"finalized"!==n)throw new TransactionExpiredNonceInvalidError(a);break;case"confirmed":case"single":case"singleGossip":if("confirmed"!==n&&"finalized"!==n)throw new TransactionExpiredNonceInvalidError(a);break;case"finalized":case"max":case"root":if("finalized"!==n)throw new TransactionExpiredNonceInvalidError(a)}Be={context:i.context,value:{err:i.value.err}}}}}finally{k=!0,I()}return Be}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:r}){let n;const i=new Promise((r=>{let i=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":i=this._confirmTransactionInitialTimeout||3e4}n=setTimeout((()=>r({__type:Bn.TIMED_OUT,timeoutMs:i})),i)})),{abortConfirmation:s,confirmationPromise:a}=this.getTransactionConfirmationPromise({commitment:e,signature:r});let k;try{const e=await Promise.race([a,i]);if(e.__type!==Bn.PROCESSED)throw new TransactionExpiredTimeoutError(r,e.timeoutMs/1e3);k=e.response}finally{clearTimeout(n),s()}return k}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),r=(0,vr.vt)(e,jsonRpcResult((0,vr.YO)(yo)));if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get cluster nodes");return r.result}async getVoteAccounts(e){const r=this._buildArgs([],e),n=await this._rpcRequest("getVoteAccounts",r),i=(0,vr.vt)(n,bo);if("error"in i)throw new SolanaJSONRPCError(i.error,"failed to get vote accounts");return i.result}async getSlot(e){const{commitment:r,config:n}=extractCommitmentFromConfig(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getSlot",i),a=(0,vr.vt)(s,jsonRpcResult((0,vr.ai)()));if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get slot");return a.result}async getSlotLeader(e){const{commitment:r,config:n}=extractCommitmentFromConfig(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getSlotLeader",i),a=(0,vr.vt)(s,jsonRpcResult((0,vr.Yj)()));if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get slot leader");return a.result}async getSlotLeaders(e,r){const n=[e,r],i=await this._rpcRequest("getSlotLeaders",n),s=(0,vr.vt)(i,jsonRpcResult((0,vr.YO)(wi)));if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get slot leaders");return s.result}async getSignatureStatus(e,r){const{context:n,value:i}=await this.getSignatureStatuses([e],r);index_browser_esm_assert(1===i.length);return{context:n,value:i[0]}}async getSignatureStatuses(e,r){const n=[e];r&&n.push(r);const i=await this._rpcRequest("getSignatureStatuses",n),s=(0,vr.vt)(i,Io);if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get signature status");return s.result}async getTransactionCount(e){const{commitment:r,config:n}=extractCommitmentFromConfig(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getTransactionCount",i),a=(0,vr.vt)(s,jsonRpcResult((0,vr.ai)()));if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get transaction count");return a.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const r=this._buildArgs([],e),n=await this._rpcRequest("getInflationGovernor",r),i=(0,vr.vt)(n,Wi);if("error"in i)throw new SolanaJSONRPCError(i.error,"failed to get inflation");return i.result}async getInflationReward(e,r,n){const{commitment:i,config:s}=extractCommitmentFromConfig(n),a=this._buildArgs([e.map((e=>e.toBase58()))],i,void 0,{...s,epoch:null!=r?r:s?.epoch}),k=await this._rpcRequest("getInflationReward",a),w=(0,vr.vt)(k,Ai);if("error"in w)throw new SolanaJSONRPCError(w.error,"failed to get inflation reward");return w.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),r=(0,vr.vt)(e,ji);if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get inflation rate");return r.result}async getEpochInfo(e){const{commitment:r,config:n}=extractCommitmentFromConfig(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getEpochInfo",i),a=(0,vr.vt)(s,Ki);if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get epoch info");return a.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),r=(0,vr.vt)(e,Fi);if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get epoch schedule");const n=r.result;return new EpochSchedule(n.slotsPerEpoch,n.leaderScheduleSlotOffset,n.warmup,n.firstNormalEpoch,n.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),r=(0,vr.vt)(e,Ui);if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get leader schedule");return r.result}async getMinimumBalanceForRentExemption(e,r){const n=this._buildArgs([e],r),i=await this._rpcRequest("getMinimumBalanceForRentExemption",n),s=(0,vr.vt)(i,_o);return"error"in s?(console.warn("Unable to fetch minimum balance for rent exemption"),0):s.result}async getRecentBlockhashAndContext(e){const r=this._buildArgs([],e),n=await this._rpcRequest("getRecentBlockhash",r),i=(0,vr.vt)(n,Yo);if("error"in i)throw new SolanaJSONRPCError(i.error,"failed to get recent blockhash");return i.result}async getRecentPerformanceSamples(e){const r=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),n=(0,vr.vt)(r,Xo);if("error"in n)throw new SolanaJSONRPCError(n.error,"failed to get recent performance samples");return n.result}async getFeeCalculatorForBlockhash(e,r){const n=this._buildArgs([e],r),i=await this._rpcRequest("getFeeCalculatorForBlockhash",n),s=(0,vr.vt)(i,es);if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get fee calculator");const{context:a,value:k}=s.result;return{context:a,value:null!==k?k.feeCalculator:null}}async getFeeForMessage(e,r){const n=toBuffer(e.serialize()).toString("base64"),i=this._buildArgs([n],r),s=await this._rpcRequest("getFeeForMessage",i),a=(0,vr.vt)(s,jsonRpcResultAndContext((0,vr.me)((0,vr.ai)())));if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get fee for message");if(null===a.result)throw new Error("invalid blockhash");return a.result}async getRecentPrioritizationFees(e){const r=e?.lockedWritableAccounts?.map((e=>e.toBase58())),n=r?.length?[r]:[],i=await this._rpcRequest("getRecentPrioritizationFees",n),s=(0,vr.vt)(i,Li);if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get recent prioritization fees");return s.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(e){throw new Error("failed to get recent blockhash: "+e)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(e){throw new Error("failed to get recent blockhash: "+e)}}async getLatestBlockhashAndContext(e){const{commitment:r,config:n}=extractCommitmentFromConfig(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getLatestBlockhash",i),a=(0,vr.vt)(s,Zo);if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get latest blockhash");return a.result}async isBlockhashValid(e,r){const{commitment:n,config:i}=extractCommitmentFromConfig(r),s=this._buildArgs([e],n,void 0,i),a=await this._rpcRequest("isBlockhashValid",s),k=(0,vr.vt)(a,Jo);if("error"in k)throw new SolanaJSONRPCError(k.error,"failed to determine if the blockhash `"+e+"`is valid");return k.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),r=(0,vr.vt)(e,jsonRpcResult(Di));if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get version");return r.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),r=(0,vr.vt)(e,jsonRpcResult((0,vr.Yj)()));if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get genesis hash");return r.result}async getBlock(e,r){const{commitment:n,config:i}=extractCommitmentFromConfig(r),s=this._buildArgsAtLeastConfirmed([e],n,void 0,i),a=await this._rpcRequest("getBlock",s);try{switch(i?.transactionDetails){case"accounts":{const e=(0,vr.vt)(a,Ko);if("error"in e)throw e.error;return e.result}case"none":{const e=(0,vr.vt)(a,Lo);if("error"in e)throw e.error;return e.result}default:{const e=(0,vr.vt)(a,jo);if("error"in e)throw e.error;const{result:r}=e;return r?{...r,transactions:r.transactions.map((({transaction:e,meta:r,version:n})=>({meta:r,transaction:{...e,message:versionedMessageFromResponse(n,e.message)},version:n})))}:null}}}catch(e){throw new SolanaJSONRPCError(e,"failed to get confirmed block")}}async getParsedBlock(e,r){const{commitment:n,config:i}=extractCommitmentFromConfig(r),s=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",i),a=await this._rpcRequest("getBlock",s);try{switch(i?.transactionDetails){case"accounts":{const e=(0,vr.vt)(a,Uo);if("error"in e)throw e.error;return e.result}case"none":{const e=(0,vr.vt)(a,Vo);if("error"in e)throw e.error;return e.result}default:{const e=(0,vr.vt)(a,Fo);if("error"in e)throw e.error;return e.result}}}catch(e){throw new SolanaJSONRPCError(e,"failed to get block")}}async getBlockProduction(e){let r,n;if("string"==typeof e)n=e;else if(e){const{commitment:i,...s}=e;n=i,r=s}const i=this._buildArgs([],n,"base64",r),s=await this._rpcRequest("getBlockProduction",i),a=(0,vr.vt)(s,zi);if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get block production information");return a.result}async getTransaction(e,r){const{commitment:n,config:i}=extractCommitmentFromConfig(r),s=this._buildArgsAtLeastConfirmed([e],n,void 0,i),a=await this._rpcRequest("getTransaction",s),k=(0,vr.vt)(a,Go);if("error"in k)throw new SolanaJSONRPCError(k.error,"failed to get transaction");const w=k.result;return w?{...w,transaction:{...w.transaction,message:versionedMessageFromResponse(w.version,w.transaction.message)}}:w}async getParsedTransaction(e,r){const{commitment:n,config:i}=extractCommitmentFromConfig(r),s=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",i),a=await this._rpcRequest("getTransaction",s),k=(0,vr.vt)(a,$o);if("error"in k)throw new SolanaJSONRPCError(k.error,"failed to get transaction");return k.result}async getParsedTransactions(e,r){const{commitment:n,config:i}=extractCommitmentFromConfig(r),s=e.map((e=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",i)})));return(await this._rpcBatchRequest(s)).map((e=>{const r=(0,vr.vt)(e,$o);if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get transactions");return r.result}))}async getTransactions(e,r){const{commitment:n,config:i}=extractCommitmentFromConfig(r),s=e.map((e=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([e],n,void 0,i)})));return(await this._rpcBatchRequest(s)).map((e=>{const r=(0,vr.vt)(e,Go);if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get transactions");const n=r.result;return n?{...n,transaction:{...n.transaction,message:versionedMessageFromResponse(n.version,n.transaction.message)}}:n}))}async getConfirmedBlock(e,r){const n=this._buildArgsAtLeastConfirmed([e],r),i=await this._rpcRequest("getConfirmedBlock",n),s=(0,vr.vt)(i,qo);if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get confirmed block");const a=s.result;if(!a)throw new Error("Confirmed block "+e+" not found");const k={...a,transactions:a.transactions.map((({transaction:e,meta:r})=>{const n=new Message(e.message);return{meta:r,transaction:{...e,message:n}}}))};return{...k,transactions:k.transactions.map((({transaction:e,meta:r})=>({meta:r,transaction:Transaction.populate(e.message,e.signatures)})))}}async getBlocks(e,r,n){const i=this._buildArgsAtLeastConfirmed(void 0!==r?[e,r]:[e],n),s=await this._rpcRequest("getBlocks",i),a=(0,vr.vt)(s,jsonRpcResult((0,vr.YO)((0,vr.ai)())));if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get blocks");return a.result}async getBlockSignatures(e,r){const n=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",n),s=(0,vr.vt)(i,Ho);if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get block");const a=s.result;if(!a)throw new Error("Block "+e+" not found");return a}async getConfirmedBlockSignatures(e,r){const n=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getConfirmedBlock",n),s=(0,vr.vt)(i,Ho);if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get confirmed block");const a=s.result;if(!a)throw new Error("Confirmed block "+e+" not found");return a}async getConfirmedTransaction(e,r){const n=this._buildArgsAtLeastConfirmed([e],r),i=await this._rpcRequest("getConfirmedTransaction",n),s=(0,vr.vt)(i,Go);if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get transaction");const a=s.result;if(!a)return a;const k=new Message(a.transaction.message),w=a.transaction.signatures;return{...a,transaction:Transaction.populate(k,w)}}async getParsedConfirmedTransaction(e,r){const n=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed"),i=await this._rpcRequest("getConfirmedTransaction",n),s=(0,vr.vt)(i,$o);if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get confirmed transaction");return s.result}async getParsedConfirmedTransactions(e,r){const n=e.map((e=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([e],r,"jsonParsed")})));return(await this._rpcBatchRequest(n)).map((e=>{const r=(0,vr.vt)(e,$o);if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get confirmed transactions");return r.result}))}async getConfirmedSignaturesForAddress(e,r,n){let i={},s=await this.getFirstAvailableBlock();for(;!("until"in i)&&!(--r<=0||r<s);)try{const e=await this.getConfirmedBlockSignatures(r,"finalized");e.signatures.length>0&&(i.until=e.signatures[e.signatures.length-1].toString())}catch(e){if(e instanceof Error&&e.message.includes("skipped"))continue;throw e}let a=await this.getSlot("finalized");for(;!("before"in i||++n>a);)try{const e=await this.getConfirmedBlockSignatures(n);e.signatures.length>0&&(i.before=e.signatures[e.signatures.length-1].toString())}catch(e){if(e instanceof Error&&e.message.includes("skipped"))continue;throw e}return(await this.getConfirmedSignaturesForAddress2(e,i)).map((e=>e.signature))}async getConfirmedSignaturesForAddress2(e,r,n){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,r),s=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),a=(0,vr.vt)(s,io);if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get confirmed signatures for address");return a.result}async getSignaturesForAddress(e,r,n){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,r),s=await this._rpcRequest("getSignaturesForAddress",i),a=(0,vr.vt)(s,oo);if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get signatures for address");return a.result}async getAddressLookupTable(e,r){const{context:n,value:i}=await this.getAccountInfoAndContext(e,r);let s=null;return null!==i&&(s=new AddressLookupTableAccount({key:e,state:AddressLookupTableAccount.deserialize(i.data)})),{context:n,value:s}}async getNonceAndContext(e,r){const{context:n,value:i}=await this.getAccountInfoAndContext(e,r);let s=null;return null!==i&&(s=NonceAccount.fromAccountData(i.data)),{context:n,value:s}}async getNonce(e,r){return await this.getNonceAndContext(e,r).then((e=>e.value)).catch((r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)}))}async requestAirdrop(e,r){const n=await this._rpcRequest("requestAirdrop",[e.toBase58(),r]),i=(0,vr.vt)(n,ts);if("error"in i)throw new SolanaJSONRPCError(i.error,`airdrop to ${e.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await sleep(100);const e=Date.now()-this._blockhashInfo.lastFetch>=Si;if(null!==this._blockhashInfo.latestBlockhash&&!e)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),r=this._blockhashInfo.latestBlockhash,n=r?r.blockhash:null;for(let e=0;e<50;e++){const e=await this.getLatestBlockhash("finalized");if(n!==e.blockhash)return this._blockhashInfo={latestBlockhash:e,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},e;await sleep(200)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:r,config:n}=extractCommitmentFromConfig(e),i=this._buildArgs([],r,"base64",n),s=await this._rpcRequest("getStakeMinimumDelegation",i),a=(0,vr.vt)(s,jsonRpcResultAndContext((0,vr.ai)()));if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get stake minimum delegation");return a.result}async simulateTransaction(e,r,n){if("message"in e){const i=e.serialize(),a=s.Buffer.from(i).toString("base64");if(Array.isArray(r)||void 0!==n)throw new Error("Invalid arguments");const k=r||{};k.encoding="base64","commitment"in k||(k.commitment=this.commitment);const w=[a,k],I=await this._rpcRequest("simulateTransaction",w),we=(0,vr.vt)(I,Ni);if("error"in we)throw new Error("failed to simulate transaction: "+we.error.message);return we.result}let i;if(e instanceof Transaction){let r=e;i=new Transaction,i.feePayer=r.feePayer,i.instructions=e.instructions,i.nonceInfo=r.nonceInfo,i.signatures=r.signatures}else i=Transaction.populate(e),i._message=i._json=void 0;if(void 0!==r&&!Array.isArray(r))throw new Error("Invalid arguments");const a=r;if(i.nonceInfo&&a)i.sign(...a);else{let e=this._disableBlockhashCaching;for(;;){const r=await this._blockhashWithExpiryBlockHeight(e);if(i.lastValidBlockHeight=r.lastValidBlockHeight,i.recentBlockhash=r.blockhash,!a)break;if(i.sign(...a),!i.signature)throw new Error("!signature");const n=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(n)&&!this._blockhashInfo.transactionSignatures.includes(n)){this._blockhashInfo.simulatedSignatures.push(n);break}e=!0}}const k=i._compile(),w=k.serialize(),I=i._serialize(w).toString("base64"),we={encoding:"base64",commitment:this.commitment};if(n){const e=(Array.isArray(n)?n:k.nonProgramIds()).map((e=>e.toBase58()));we.accounts={encoding:"base64",addresses:e}}a&&(we.sigVerify=!0);const Ae=[I,we],Be=await this._rpcRequest("simulateTransaction",Ae),Ce=(0,vr.vt)(Be,Ni);if("error"in Ce){let e;if("data"in Ce.error&&(e=Ce.error.data.logs,e&&Array.isArray(e))){const r="\n    ",n=r+e.join(r);console.error(Ce.error.message,n)}throw new SendTransactionError("failed to simulate transaction: "+Ce.error.message,e)}return Ce.result}async sendTransaction(e,r,n){if("version"in e){if(r&&Array.isArray(r))throw new Error("Invalid arguments");const n=e.serialize();return await this.sendRawTransaction(n,r)}if(void 0===r||!Array.isArray(r))throw new Error("Invalid arguments");const i=r;if(e.nonceInfo)e.sign(...i);else{let r=this._disableBlockhashCaching;for(;;){const n=await this._blockhashWithExpiryBlockHeight(r);if(e.lastValidBlockHeight=n.lastValidBlockHeight,e.recentBlockhash=n.blockhash,e.sign(...i),!e.signature)throw new Error("!signature");const s=e.signature.toString("base64");if(!this._blockhashInfo.transactionSignatures.includes(s)){this._blockhashInfo.transactionSignatures.push(s);break}r=!0}}const s=e.serialize();return await this.sendRawTransaction(s,n)}async sendRawTransaction(e,r){const n=toBuffer(e).toString("base64");return await this.sendEncodedTransaction(n,r)}async sendEncodedTransaction(e,r){const n={encoding:"base64"},i=r&&r.skipPreflight,s=!0===i?"processed":r&&r.preflightCommitment||this.commitment;r&&null!=r.maxRetries&&(n.maxRetries=r.maxRetries),r&&null!=r.minContextSlot&&(n.minContextSlot=r.minContextSlot),i&&(n.skipPreflight=i),s&&(n.preflightCommitment=s);const a=[e,n],k=await this._rpcRequest("sendTransaction",a),w=(0,vr.vt)(k,rs);if("error"in w){let e;throw"data"in w.error&&(e=w.error.data.logs),new SendTransactionError("failed to send transaction: "+w.error.message,e)}return w.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval((()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()}),5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),1e3!==e?(this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach((([e,r])=>{this._setSubscription(e,{...r,state:"pending"})}))):this._updateSubscriptions()}_setSubscription(e,r){const n=this._subscriptionsByHash[e]?.state;if(this._subscriptionsByHash[e]=r,n!==r.state){const n=this._subscriptionStateChangeCallbacksByHash[e];n&&n.forEach((e=>{try{e(r.state)}catch{}}))}}_onSubscriptionStateChange(e,r){const n=this._subscriptionHashByClientSubscriptionId[e];if(null==n)return()=>{};const i=this._subscriptionStateChangeCallbacksByHash[n]||=new Set;return i.add(r),()=>{i.delete(r),0===i.size&&delete this._subscriptionStateChangeCallbacksByHash[n]}}async _updateSubscriptions(){if(0===Object.keys(this._subscriptionsByHash).length)return void(this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout((()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(e){e instanceof Error&&console.log(`Error when closing socket connection: ${e.message}`)}}),500)));if(null!==this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected)return void this._rpcWebSocket.connect();const e=this._rpcWebSocketGeneration,isCurrentConnectionStillActive=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map((async e=>{const r=this._subscriptionsByHash[e];if(void 0!==r)switch(r.state){case"pending":case"unsubscribed":if(0===r.callbacks.size)return delete this._subscriptionsByHash[e],"unsubscribed"===r.state&&delete this._subscriptionCallbacksByServerSubscriptionId[r.serverSubscriptionId],void await this._updateSubscriptions();await(async()=>{const{args:n,method:i}=r;try{this._setSubscription(e,{...r,state:"subscribing"});const s=await this._rpcWebSocket.call(i,n);this._setSubscription(e,{...r,serverSubscriptionId:s,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[s]=r.callbacks,await this._updateSubscriptions()}catch(s){if(s instanceof Error&&console.error(`${i} error for argument`,n,s.message),!isCurrentConnectionStillActive())return;this._setSubscription(e,{...r,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":0===r.callbacks.size&&await(async()=>{const{serverSubscriptionId:n,unsubscribeMethod:i}=r;if(this._subscriptionsAutoDisposedByRpc.has(n))this._subscriptionsAutoDisposedByRpc.delete(n);else{this._setSubscription(e,{...r,state:"unsubscribing"}),this._setSubscription(e,{...r,state:"unsubscribing"});try{await this._rpcWebSocket.call(i,[n])}catch(n){if(n instanceof Error&&console.error(`${i} error:`,n.message),!isCurrentConnectionStillActive())return;return this._setSubscription(e,{...r,state:"subscribed"}),void await this._updateSubscriptions()}}this._setSubscription(e,{...r,state:"unsubscribed"}),await this._updateSubscriptions()})()}})))}_handleServerNotification(e,r){const n=this._subscriptionCallbacksByServerSubscriptionId[e];void 0!==n&&n.forEach((e=>{try{e(...r)}catch(e){console.error(e)}}))}_wsOnAccountNotification(e){const{result:r,subscription:n}=(0,vr.vt)(e,so);this._handleServerNotification(n,[r.value,r.context])}_makeSubscription(e,r){const n=this._nextClientSubscriptionId++,i=gi([e.method,r]),s=this._subscriptionsByHash[i];return void 0===s?this._subscriptionsByHash[i]={...e,args:r,callbacks:new Set([e.callback]),state:"pending"}:s.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[n]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[n],delete this._subscriptionHashByClientSubscriptionId[n];const r=this._subscriptionsByHash[i];index_browser_esm_assert(void 0!==r,`Could not find a \`Subscription\` when tearing down client subscription #${n}`),r.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),n}onAccountChange(e,r,n){const i=this._buildArgs([e.toBase58()],n||this._commitment||"finalized","base64");return this._makeSubscription({callback:r,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},i)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:r,subscription:n}=(0,vr.vt)(e,co);this._handleServerNotification(n,[{accountId:r.value.pubkey,accountInfo:r.value.account},r.context])}onProgramAccountChange(e,r,n,i){const s=this._buildArgs([e.toBase58()],n||this._commitment||"finalized","base64",i?{filters:i}:void 0);return this._makeSubscription({callback:r,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},s)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,r,n){const i=this._buildArgs(["object"==typeof e?{mentions:[e.toString()]}:e],n||this._commitment||"finalized");return this._makeSubscription({callback:r,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:r,subscription:n}=(0,vr.vt)(e,os);this._handleServerNotification(n,[r.value,r.context])}_wsOnSlotNotification(e){const{result:r,subscription:n}=(0,vr.vt)(e,lo);this._handleServerNotification(n,[r])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:r,subscription:n}=(0,vr.vt)(e,fo);this._handleServerNotification(n,[r])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,r){const n=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];n?await n():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${r}' events could not be found.`)}_buildArgs(e,r,n,i){const s=r||this._commitment;if(s||n||i){let r={};n&&(r.encoding=n),s&&(r.commitment=s),i&&(r=Object.assign(r,i)),e.push(r)}return e}_buildArgsAtLeastConfirmed(e,r,n,i){const s=r||this._commitment;if(s&&!["confirmed","finalized"].includes(s))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,r,n,i)}_wsOnSignatureNotification(e){const{result:r,subscription:n}=(0,vr.vt)(e,po);"receivedSignature"!==r.value&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,"receivedSignature"===r.value?[{type:"received"},r.context]:[{type:"status",result:r.value},r.context])}onSignature(e,r,n){const i=this._buildArgs([e],n||this._commitment||"finalized"),s=this._makeSubscription({callback:(e,n)=>{if("status"===e.type){r(e.result,n);try{this.removeSignatureListener(s)}catch(e){}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return s}onSignatureWithOptions(e,r,n){const{commitment:i,...s}={...n,commitment:n&&n.commitment||this._commitment||"finalized"},a=this._buildArgs([e],i,void 0,s),k=this._makeSubscription({callback:(e,n)=>{r(e,n);try{this.removeSignatureListener(k)}catch(e){}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},a);return k}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:r,subscription:n}=(0,vr.vt)(e,go);this._handleServerNotification(n,[r])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class Keypair{constructor(e){this._keypair=void 0,this._keypair=e??generateKeypair()}static generate(){return new Keypair(generateKeypair())}static fromSecretKey(e,r){if(64!==e.byteLength)throw new Error("bad secret key size");const n=e.slice(32,64);if(!r||!r.skipValidation){const r=e.slice(0,32),i=an(r);for(let e=0;e<32;e++)if(n[e]!==i[e])throw new Error("provided secretKey is invalid")}return new Keypair({publicKey:n,secretKey:e})}static fromSeed(e){const r=an(e),n=new Uint8Array(64);return n.set(e),n.set(r,32),new Keypair({publicKey:r,secretKey:n})}get publicKey(){return new PublicKey(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const as=Object.freeze({CreateLookupTable:{index:0,layout:Sr.struct([Sr.u32("instruction"),ci("recentSlot"),Sr.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:Sr.struct([Sr.u32("instruction")])},ExtendLookupTable:{index:2,layout:Sr.struct([Sr.u32("instruction"),ci(),Sr.seq(publicKey(),Sr.offset(Sr.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:Sr.struct([Sr.u32("instruction")])},CloseLookupTable:{index:4,layout:Sr.struct([Sr.u32("instruction")])}});class AddressLookupTableInstruction{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=Sr.u32("instruction").decode(e.data);let n;for(const[e,i]of Object.entries(as))if(i.index==r){n=e;break}if(!n)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return n}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:r}=decodeData$1(as.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(r)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:r}=decodeData$1(as.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:r.map((e=>new PublicKey(e)))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(AddressLookupTableProgram.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}}class AddressLookupTableProgram{constructor(){}static createLookupTable(e){const[r,n]=PublicKey.findProgramAddressSync([e.authority.toBuffer(),(0,Er.toBufferLE)(BigInt(e.recentSlot),8)],this.programId),i=encodeData(as.CreateLookupTable,{recentSlot:BigInt(e.recentSlot),bumpSeed:n}),s=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:SystemProgram.programId,isSigner:!1,isWritable:!1}];return[new TransactionInstruction({programId:this.programId,keys:s,data:i}),r]}static freezeLookupTable(e){const r=encodeData(as.FreezeLookupTable),n=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new TransactionInstruction({programId:this.programId,keys:n,data:r})}static extendLookupTable(e){const r=encodeData(as.ExtendLookupTable,{addresses:e.addresses.map((e=>e.toBytes()))}),n=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&n.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:SystemProgram.programId,isSigner:!1,isWritable:!1}),new TransactionInstruction({programId:this.programId,keys:n,data:r})}static deactivateLookupTable(e){const r=encodeData(as.DeactivateLookupTable),n=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new TransactionInstruction({programId:this.programId,keys:n,data:r})}static closeLookupTable(e){const r=encodeData(as.CloseLookupTable),n=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new TransactionInstruction({programId:this.programId,keys:n,data:r})}}AddressLookupTableProgram.programId=new PublicKey("AddressLookupTab1e1111111111111111111111111");class ComputeBudgetInstruction{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=Sr.u8("instruction").decode(e.data);let n;for(const[e,i]of Object.entries(cs))if(i.index==r){n=e;break}if(!n)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return n}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:r,additionalFee:n}=decodeData$1(cs.RequestUnits,e.data);return{units:r,additionalFee:n}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:r}=decodeData$1(cs.RequestHeapFrame,e.data);return{bytes:r}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:r}=decodeData$1(cs.SetComputeUnitLimit,e.data);return{units:r}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:r}=decodeData$1(cs.SetComputeUnitPrice,e.data);return{microLamports:r}}static checkProgramId(e){if(!e.equals(ComputeBudgetProgram.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const cs=Object.freeze({RequestUnits:{index:0,layout:Sr.struct([Sr.u8("instruction"),Sr.u32("units"),Sr.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:Sr.struct([Sr.u8("instruction"),Sr.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:Sr.struct([Sr.u8("instruction"),Sr.u32("units")])},SetComputeUnitPrice:{index:3,layout:Sr.struct([Sr.u8("instruction"),ci("microLamports")])}});class ComputeBudgetProgram{constructor(){}static requestUnits(e){const r=encodeData(cs.RequestUnits,e);return new TransactionInstruction({keys:[],programId:this.programId,data:r})}static requestHeapFrame(e){const r=encodeData(cs.RequestHeapFrame,e);return new TransactionInstruction({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(e){const r=encodeData(cs.SetComputeUnitLimit,e);return new TransactionInstruction({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(e){const r=encodeData(cs.SetComputeUnitPrice,{microLamports:BigInt(e.microLamports)});return new TransactionInstruction({keys:[],programId:this.programId,data:r})}}ComputeBudgetProgram.programId=new PublicKey("ComputeBudget111111111111111111111111111111");const us=Sr.struct([Sr.u8("numSignatures"),Sr.u8("padding"),Sr.u16("signatureOffset"),Sr.u16("signatureInstructionIndex"),Sr.u16("publicKeyOffset"),Sr.u16("publicKeyInstructionIndex"),Sr.u16("messageDataOffset"),Sr.u16("messageDataSize"),Sr.u16("messageInstructionIndex")]);class Ed25519Program{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:r,message:n,signature:i,instructionIndex:a}=e;index_browser_esm_assert(32===r.length,`Public Key must be 32 bytes but received ${r.length} bytes`),index_browser_esm_assert(64===i.length,`Signature must be 64 bytes but received ${i.length} bytes`);const k=us.span,w=k+r.length,I=w+i.length,we=s.Buffer.alloc(I+n.length),Ae=null==a?65535:a;return us.encode({numSignatures:1,padding:0,signatureOffset:w,signatureInstructionIndex:Ae,publicKeyOffset:k,publicKeyInstructionIndex:Ae,messageDataOffset:I,messageDataSize:n.length,messageInstructionIndex:Ae},we),we.fill(r,k),we.fill(i,w),we.fill(n,I),new TransactionInstruction({keys:[],programId:Ed25519Program.programId,data:we})}static createInstructionWithPrivateKey(e){const{privateKey:r,message:n,instructionIndex:i}=e;index_browser_esm_assert(64===r.length,`Private key must be 64 bytes but received ${r.length} bytes`);try{const e=Keypair.fromSecretKey(r),s=e.publicKey.toBytes(),a=sign(n,e.secretKey);return this.createInstructionWithPublicKey({publicKey:s,message:n,signature:a,instructionIndex:i})}catch(e){throw new Error(`Error creating instruction; ${e}`)}}}Ed25519Program.programId=new PublicKey("Ed25519SigVerify111111111111111111111111111");Xr.utils.isValidPrivateKey;const ds=Xr.getPublicKey,ls=Sr.struct([Sr.u8("numSignatures"),Sr.u16("signatureOffset"),Sr.u8("signatureInstructionIndex"),Sr.u16("ethAddressOffset"),Sr.u8("ethAddressInstructionIndex"),Sr.u16("messageDataOffset"),Sr.u16("messageDataSize"),Sr.u8("messageInstructionIndex"),Sr.blob(20,"ethAddress"),Sr.blob(64,"signature"),Sr.u8("recoveryId")]);class Secp256k1Program{constructor(){}static publicKeyToEthAddress(e){index_browser_esm_assert(64===e.length,`Public key must be 64 bytes but received ${e.length} bytes`);try{return s.Buffer.from(Kr(toBuffer(e))).slice(-20)}catch(e){throw new Error(`Error constructing Ethereum address: ${e}`)}}static createInstructionWithPublicKey(e){const{publicKey:r,message:n,signature:i,recoveryId:s,instructionIndex:a}=e;return Secp256k1Program.createInstructionWithEthAddress({ethAddress:Secp256k1Program.publicKeyToEthAddress(r),message:n,signature:i,recoveryId:s,instructionIndex:a})}static createInstructionWithEthAddress(e){const{ethAddress:r,message:n,signature:i,recoveryId:a,instructionIndex:k=0}=e;let w;w="string"==typeof r?r.startsWith("0x")?s.Buffer.from(r.substr(2),"hex"):s.Buffer.from(r,"hex"):r,index_browser_esm_assert(20===w.length,`Address must be 20 bytes but received ${w.length} bytes`);const I=12+w.length,we=I+i.length+1,Ae=s.Buffer.alloc(ls.span+n.length);return ls.encode({numSignatures:1,signatureOffset:I,signatureInstructionIndex:k,ethAddressOffset:12,ethAddressInstructionIndex:k,messageDataOffset:we,messageDataSize:n.length,messageInstructionIndex:k,signature:toBuffer(i),ethAddress:toBuffer(w),recoveryId:a},Ae),Ae.fill(toBuffer(n),ls.span),new TransactionInstruction({keys:[],programId:Secp256k1Program.programId,data:Ae})}static createInstructionWithPrivateKey(e){const{privateKey:r,message:n,instructionIndex:i}=e;index_browser_esm_assert(32===r.length,`Private key must be 32 bytes but received ${r.length} bytes`);try{const e=toBuffer(r),a=ds(e,!1).slice(1),k=s.Buffer.from(Kr(toBuffer(n))),[w,I]=((e,r)=>{const n=Xr.sign(e,r);return[n.toCompactRawBytes(),n.recovery]})(k,e);return this.createInstructionWithPublicKey({publicKey:a,message:n,signature:w,recoveryId:I,instructionIndex:i})}catch(e){throw new Error(`Error creating instruction; ${e}`)}}}var hs;Secp256k1Program.programId=new PublicKey("KeccakSecp256k11111111111111111111111111111");const fs=new PublicKey("StakeConfig11111111111111111111111111111111");class Authorized{constructor(e,r){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=r}}class Lockup{constructor(e,r,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=r,this.custodian=n}}hs=Lockup,Lockup.default=new hs(0,0,PublicKey.default);class StakeInstruction{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=Sr.u32("instruction").decode(e.data);let n;for(const[e,i]of Object.entries(ps))if(i.index==r){n=e;break}if(!n)throw new Error("Instruction type incorrect; not a StakeInstruction");return n}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:r,lockup:n}=decodeData$1(ps.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new Authorized(new PublicKey(r.staker),new PublicKey(r.withdrawer)),lockup:new Lockup(n.unixTimestamp,n.epoch,new PublicKey(n.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),decodeData$1(ps.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:r,stakeAuthorizationType:n}=decodeData$1(ps.Authorize,e.data),i={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new PublicKey(r),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(i.custodianPubkey=e.keys[3].pubkey),i}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:r,stakeAuthorizationType:n,authoritySeed:i,authorityOwner:s}=decodeData$1(ps.AuthorizeWithSeed,e.data),a={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:i,authorityOwner:new PublicKey(s),newAuthorizedPubkey:new PublicKey(r),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(a.custodianPubkey=e.keys[3].pubkey),a}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:r}=decodeData$1(ps.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:r}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),decodeData$1(ps.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:r}=decodeData$1(ps.Withdraw,e.data),n={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:r};return e.keys.length>5&&(n.custodianPubkey=e.keys[5].pubkey),n}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),decodeData$1(ps.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(StakeProgram.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}}const ps=Object.freeze({Initialize:{index:0,layout:Sr.struct([Sr.u32("instruction"),((e="authorized")=>Sr.struct([publicKey("staker"),publicKey("withdrawer")],e))(),((e="lockup")=>Sr.struct([Sr.ns64("unixTimestamp"),Sr.ns64("epoch"),publicKey("custodian")],e))()])},Authorize:{index:1,layout:Sr.struct([Sr.u32("instruction"),publicKey("newAuthorized"),Sr.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:Sr.struct([Sr.u32("instruction")])},Split:{index:3,layout:Sr.struct([Sr.u32("instruction"),Sr.ns64("lamports")])},Withdraw:{index:4,layout:Sr.struct([Sr.u32("instruction"),Sr.ns64("lamports")])},Deactivate:{index:5,layout:Sr.struct([Sr.u32("instruction")])},Merge:{index:7,layout:Sr.struct([Sr.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:Sr.struct([Sr.u32("instruction"),publicKey("newAuthorized"),Sr.u32("stakeAuthorizationType"),rustString("authoritySeed"),publicKey("authorityOwner")])}}),gs=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class StakeProgram{constructor(){}static initialize(e){const{stakePubkey:r,authorized:n,lockup:i}=e,s=i||Lockup.default,a=encodeData(ps.Initialize,{authorized:{staker:toBuffer(n.staker.toBuffer()),withdrawer:toBuffer(n.withdrawer.toBuffer())},lockup:{unixTimestamp:s.unixTimestamp,epoch:s.epoch,custodian:toBuffer(s.custodian.toBuffer())}}),k={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:ei,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new TransactionInstruction(k)}static createAccountWithSeed(e){const r=new Transaction;r.add(SystemProgram.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:n,authorized:i,lockup:s}=e;return r.add(this.initialize({stakePubkey:n,authorized:i,lockup:s}))}static createAccount(e){const r=new Transaction;r.add(SystemProgram.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:n,authorized:i,lockup:s}=e;return r.add(this.initialize({stakePubkey:n,authorized:i,lockup:s}))}static delegate(e){const{stakePubkey:r,authorizedPubkey:n,votePubkey:i}=e,s=encodeData(ps.Delegate);return(new Transaction).add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:Wn,isSigner:!1,isWritable:!1},{pubkey:ii,isSigner:!1,isWritable:!1},{pubkey:fs,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static authorize(e){const{stakePubkey:r,authorizedPubkey:n,newAuthorizedPubkey:i,stakeAuthorizationType:s,custodianPubkey:a}=e,k=encodeData(ps.Authorize,{newAuthorized:toBuffer(i.toBuffer()),stakeAuthorizationType:s.index}),w=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Wn,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return a&&w.push({pubkey:a,isSigner:!0,isWritable:!1}),(new Transaction).add({keys:w,programId:this.programId,data:k})}static authorizeWithSeed(e){const{stakePubkey:r,authorityBase:n,authoritySeed:i,authorityOwner:s,newAuthorizedPubkey:a,stakeAuthorizationType:k,custodianPubkey:w}=e,I=encodeData(ps.AuthorizeWithSeed,{newAuthorized:toBuffer(a.toBuffer()),stakeAuthorizationType:k.index,authoritySeed:i,authorityOwner:toBuffer(s.toBuffer())}),we=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:Wn,isSigner:!1,isWritable:!1}];return w&&we.push({pubkey:w,isSigner:!0,isWritable:!1}),(new Transaction).add({keys:we,programId:this.programId,data:I})}static splitInstruction(e){const{stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,lamports:s}=e,a=encodeData(ps.Split,{lamports:s});return new TransactionInstruction({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e,r){const n=new Transaction;return n.add(SystemProgram.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:r,space:this.space,programId:this.programId})),n.add(this.splitInstruction(e))}static splitWithSeed(e,r){const{stakePubkey:n,authorizedPubkey:i,splitStakePubkey:s,basePubkey:a,seed:k,lamports:w}=e,I=new Transaction;return I.add(SystemProgram.allocate({accountPubkey:s,basePubkey:a,seed:k,space:this.space,programId:this.programId})),r&&r>0&&I.add(SystemProgram.transfer({fromPubkey:e.authorizedPubkey,toPubkey:s,lamports:r})),I.add(this.splitInstruction({stakePubkey:n,authorizedPubkey:i,splitStakePubkey:s,lamports:w}))}static merge(e){const{stakePubkey:r,sourceStakePubKey:n,authorizedPubkey:i}=e,s=encodeData(ps.Merge);return(new Transaction).add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Wn,isSigner:!1,isWritable:!1},{pubkey:ii,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static withdraw(e){const{stakePubkey:r,authorizedPubkey:n,toPubkey:i,lamports:s,custodianPubkey:a}=e,k=encodeData(ps.Withdraw,{lamports:s}),w=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:Wn,isSigner:!1,isWritable:!1},{pubkey:ii,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return a&&w.push({pubkey:a,isSigner:!0,isWritable:!1}),(new Transaction).add({keys:w,programId:this.programId,data:k})}static deactivate(e){const{stakePubkey:r,authorizedPubkey:n}=e,i=encodeData(ps.Deactivate);return(new Transaction).add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Wn,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}}StakeProgram.programId=new PublicKey("Stake11111111111111111111111111111111111111"),StakeProgram.space=200;class VoteInit{constructor(e,r,n,i){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=r,this.authorizedWithdrawer=n,this.commission=i}}class VoteInstruction{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=Sr.u32("instruction").decode(e.data);let n;for(const[e,i]of Object.entries(ys))if(i.index==r){n=e;break}if(!n)throw new Error("Instruction type incorrect; not a VoteInstruction");return n}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:r}=decodeData$1(ys.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new VoteInit(new PublicKey(r.nodePubkey),new PublicKey(r.authorizedVoter),new PublicKey(r.authorizedWithdrawer),r.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:r,voteAuthorizationType:n}=decodeData$1(ys.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new PublicKey(r),voteAuthorizationType:{index:n}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:n,newAuthorized:i,voteAuthorizationType:s}}=decodeData$1(ys.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new PublicKey(r),currentAuthorityDerivedKeySeed:n,newAuthorizedPubkey:new PublicKey(i),voteAuthorizationType:{index:s},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:r}=decodeData$1(ys.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:r,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(VoteProgram.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}}const ys=Object.freeze({InitializeAccount:{index:0,layout:Sr.struct([Sr.u32("instruction"),((e="voteInit")=>Sr.struct([publicKey("nodePubkey"),publicKey("authorizedVoter"),publicKey("authorizedWithdrawer"),Sr.u8("commission")],e))()])},Authorize:{index:1,layout:Sr.struct([Sr.u32("instruction"),publicKey("newAuthorized"),Sr.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:Sr.struct([Sr.u32("instruction"),Sr.ns64("lamports")])},UpdateValidatorIdentity:{index:4,layout:Sr.struct([Sr.u32("instruction")])},AuthorizeWithSeed:{index:10,layout:Sr.struct([Sr.u32("instruction"),((e="voteAuthorizeWithSeedArgs")=>Sr.struct([Sr.u32("voteAuthorizationType"),publicKey("currentAuthorityDerivedKeyOwnerPubkey"),rustString("currentAuthorityDerivedKeySeed"),publicKey("newAuthorized")],e))()])}}),ms=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class VoteProgram{constructor(){}static initializeAccount(e){const{votePubkey:r,nodePubkey:n,voteInit:i}=e,s=encodeData(ys.InitializeAccount,{voteInit:{nodePubkey:toBuffer(i.nodePubkey.toBuffer()),authorizedVoter:toBuffer(i.authorizedVoter.toBuffer()),authorizedWithdrawer:toBuffer(i.authorizedWithdrawer.toBuffer()),commission:i.commission}}),a={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:ei,isSigner:!1,isWritable:!1},{pubkey:Wn,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:s};return new TransactionInstruction(a)}static createAccount(e){const r=new Transaction;return r.add(SystemProgram.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),r.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:r,authorizedPubkey:n,newAuthorizedPubkey:i,voteAuthorizationType:s}=e,a=encodeData(ys.Authorize,{newAuthorized:toBuffer(i.toBuffer()),voteAuthorizationType:s.index}),k=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Wn,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return(new Transaction).add({keys:k,programId:this.programId,data:a})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:r,currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:i,newAuthorizedPubkey:s,voteAuthorizationType:a,votePubkey:k}=e,w=encodeData(ys.AuthorizeWithSeed,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:toBuffer(n.toBuffer()),currentAuthorityDerivedKeySeed:i,newAuthorized:toBuffer(s.toBuffer()),voteAuthorizationType:a.index}}),I=[{pubkey:k,isSigner:!1,isWritable:!0},{pubkey:Wn,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return(new Transaction).add({keys:I,programId:this.programId,data:w})}static withdraw(e){const{votePubkey:r,authorizedWithdrawerPubkey:n,lamports:i,toPubkey:s}=e,a=encodeData(ys.Withdraw,{lamports:i}),k=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return(new Transaction).add({keys:k,programId:this.programId,data:a})}static safeWithdraw(e,r,n){if(e.lamports>r-n)throw new Error("Withdraw will leave vote account with insufficient funds.");return VoteProgram.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:r,authorizedWithdrawerPubkey:n,nodePubkey:i}=e,s=encodeData(ys.UpdateValidatorIdentity),a=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return(new Transaction).add({keys:a,programId:this.programId,data:s})}}VoteProgram.programId=new PublicKey("Vote111111111111111111111111111111111111111"),VoteProgram.space=3762;const bs=new PublicKey("Va1idator1nfo111111111111111111111111111111"),ks=(0,vr.NW)({name:(0,vr.Yj)(),website:(0,vr.lq)((0,vr.Yj)()),details:(0,vr.lq)((0,vr.Yj)()),keybaseUsername:(0,vr.lq)((0,vr.Yj)())});class ValidatorInfo{constructor(e,r){this.key=void 0,this.info=void 0,this.key=e,this.info=r}static fromConfigData(e){let r=[...e];if(2!==decodeLength(r))return null;const n=[];for(let e=0;e<2;e++){const e=new PublicKey(guardedSplice(r,0,pn)),i=1===guardedShift(r);n.push({publicKey:e,isSigner:i})}if(n[0].publicKey.equals(bs)&&n[1].isSigner){const e=rustString().decode(s.Buffer.from(r)),i=JSON.parse(e);return(0,vr.vA)(i,ks),new ValidatorInfo(n[1].publicKey,i)}return null}}const ws=new PublicKey("Vote111111111111111111111111111111111111111"),Is=Sr.struct([publicKey("nodePubkey"),publicKey("authorizedWithdrawer"),Sr.u8("commission"),Sr.nu64(),Sr.seq(Sr.struct([Sr.nu64("slot"),Sr.u32("confirmationCount")]),Sr.offset(Sr.u32(),-8),"votes"),Sr.u8("rootSlotValid"),Sr.nu64("rootSlot"),Sr.nu64(),Sr.seq(Sr.struct([Sr.nu64("epoch"),publicKey("authorizedVoter")]),Sr.offset(Sr.u32(),-8),"authorizedVoters"),Sr.struct([Sr.seq(Sr.struct([publicKey("authorizedPubkey"),Sr.nu64("epochOfLastAuthorizedSwitch"),Sr.nu64("targetEpoch")]),32,"buf"),Sr.nu64("idx"),Sr.u8("isEmpty")],"priorVoters"),Sr.nu64(),Sr.seq(Sr.struct([Sr.nu64("epoch"),Sr.nu64("credits"),Sr.nu64("prevCredits")]),Sr.offset(Sr.u32(),-8),"epochCredits"),Sr.struct([Sr.nu64("slot"),Sr.nu64("timestamp")],"lastTimestamp")]);class VoteAccount{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const r=Is.decode(toBuffer(e),4);let n=r.rootSlot;return r.rootSlotValid||(n=null),new VoteAccount({nodePubkey:new PublicKey(r.nodePubkey),authorizedWithdrawer:new PublicKey(r.authorizedWithdrawer),commission:r.commission,votes:r.votes,rootSlot:n,authorizedVoters:r.authorizedVoters.map(parseAuthorizedVoter),priorVoters:getPriorVoters(r.priorVoters),epochCredits:r.epochCredits,lastTimestamp:r.lastTimestamp})}}function parseAuthorizedVoter({authorizedVoter:e,epoch:r}){return{epoch:r,authorizedVoter:new PublicKey(e)}}function parsePriorVoters({authorizedPubkey:e,epochOfLastAuthorizedSwitch:r,targetEpoch:n}){return{authorizedPubkey:new PublicKey(e),epochOfLastAuthorizedSwitch:r,targetEpoch:n}}function getPriorVoters({buf:e,idx:r,isEmpty:n}){return n?[]:[...e.slice(r+1).map(parsePriorVoters),...e.slice(0,r).map(parsePriorVoters)]}const _s={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function clusterApiUrl(e,r){const n=!1===r?"http":"https";if(!e)return _s[n].devnet;const i=_s[n][e];if(!i)throw new Error(`Unknown ${n} cluster: ${e}`);return i}async function sendAndConfirmRawTransaction(e,r,n,i){let s,a;n&&Object.prototype.hasOwnProperty.call(n,"lastValidBlockHeight")||n&&Object.prototype.hasOwnProperty.call(n,"nonceValue")?(s=n,a=i):a=n;const k=a&&{skipPreflight:a.skipPreflight,preflightCommitment:a.preflightCommitment||a.commitment,minContextSlot:a.minContextSlot},w=await e.sendRawTransaction(r,k),I=a&&a.commitment,we=s?e.confirmTransaction(s,I):e.confirmTransaction(w,I),Ae=(await we).value;if(Ae.err)throw new Error(`Raw transaction ${w} failed (${JSON.stringify(Ae)})`);return w}const Ss=1e9},299709:(e,r,n)=>{var i=n(347403);e.exports=i("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},79114:(e,r,n)=>{const i=n(620043);e.exports=i("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},620043:e=>{"use strict";e.exports=function base(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),a=s.charCodeAt(0);if(255!==r[a])throw new TypeError(s+" is ambiguous");r[a]=i}var k=e.length,w=e.charAt(0),I=Math.log(k)/Math.log(256),we=Math.log(256)/Math.log(k);function decodeUnsafe(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;for(var n=0,i=0,s=0;e[n]===w;)i++,n++;for(var a=(e.length-n)*I+1>>>0,we=new Uint8Array(a);e[n];){var Ae=r[e.charCodeAt(n)];if(255===Ae)return;for(var Be=0,Ce=a-1;(0!==Ae||Be<s)&&-1!==Ce;Ce--,Be++)Ae+=k*we[Ce]>>>0,we[Ce]=Ae%256>>>0,Ae=Ae/256>>>0;if(0!==Ae)throw new Error("Non-zero carry");s=Be,n++}for(var ze=a-s;ze!==a&&0===we[ze];)ze++;for(var qe=new Uint8Array(i+(a-ze)),$e=i;ze!==a;)qe[$e++]=we[ze++];return qe}return{encode:function encode(r){if(r instanceof Uint8Array||(ArrayBuffer.isView(r)?r=new Uint8Array(r.buffer,r.byteOffset,r.byteLength):Array.isArray(r)&&(r=Uint8Array.from(r))),!(r instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===r.length)return"";for(var n=0,i=0,s=0,a=r.length;s!==a&&0===r[s];)s++,n++;for(var I=(a-s)*we+1>>>0,Ae=new Uint8Array(I);s!==a;){for(var Be=r[s],Ce=0,ze=I-1;(0!==Be||Ce<i)&&-1!==ze;ze--,Ce++)Be+=256*Ae[ze]>>>0,Ae[ze]=Be%k>>>0,Be=Be/k>>>0;if(0!==Be)throw new Error("Non-zero carry");i=Ce,s++}for(var qe=I-i;qe!==I&&0===Ae[qe];)qe++;for(var $e=w.repeat(n);qe<I;++qe)$e+=e.charAt(Ae[qe]);return $e},decodeUnsafe,decode:function decode(e){var r=decodeUnsafe(e);if(r)return r;throw new Error("Non-base"+k+" character")}}}},840360:(e,r,n)=>{"use strict";var i=n(901048).Buffer;const s=n(828985),a=n(139386);class CommonClient extends s.EventEmitter{address;rpc_id;queue;options;autoconnect;ready;reconnect;reconnect_timer_id;reconnect_interval;max_reconnects;rest_options;current_reconnects;generate_request_id;socket;webSocketFactory;dataPack;constructor(e,r="ws://localhost:8080",{autoconnect:n=!0,reconnect:i=!0,reconnect_interval:s=1e3,max_reconnects:k=5,...w}={},I,we){super(),this.webSocketFactory=e,this.queue={},this.rpc_id=0,this.address=r,this.autoconnect=n,this.ready=!1,this.reconnect=i,this.reconnect_timer_id=void 0,this.reconnect_interval=s,this.max_reconnects=k,this.rest_options=w,this.current_reconnects=0,this.generate_request_id=I||(()=>++this.rpc_id),this.dataPack=we||new a.DefaultDataPack,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(e,r,n,i){return i||"object"!=typeof n||(i=n,n=null),new Promise(((s,a)=>{if(!this.ready)return a(new Error("socket not ready"));const k=this.generate_request_id(e,r),w={jsonrpc:"2.0",method:e,params:r||void 0,id:k};this.socket.send(this.dataPack.encode(w),i,(e=>{if(e)return a(e);this.queue[k]={promise:[s,a]},n&&(this.queue[k].timeout=setTimeout((()=>{delete this.queue[k],a(new Error("reply timeout"))}),n))}))}))}async login(e){const r=await this.call("rpc.login",e);if(!r)throw new Error("authentication failed");return r}async listMethods(){return await this.call("__listMethods")}notify(e,r){return new Promise(((n,i)=>{if(!this.ready)return i(new Error("socket not ready"));const s={jsonrpc:"2.0",method:e,params:r};this.socket.send(this.dataPack.encode(s),(e=>{if(e)return i(e);n()}))}))}async subscribe(e){"string"==typeof e&&(e=[e]);const r=await this.call("rpc.on",e);if("string"==typeof e&&"ok"!==r[e])throw new Error("Failed subscribing to an event '"+e+"' with: "+r[e]);return r}async unsubscribe(e){"string"==typeof e&&(e=[e]);const r=await this.call("rpc.off",e);if("string"==typeof e&&"ok"!==r[e])throw new Error("Failed unsubscribing from an event with: "+r);return r}close(e,r){this.socket.close(e||1e3,r)}setAutoReconnect(e){this.reconnect=e}setReconnectInterval(e){this.reconnect_interval=e}setMaxReconnects(e){this.max_reconnects=e}_connect(e,r){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(e,r),this.socket.addEventListener("open",(()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0})),this.socket.addEventListener("message",(({data:e})=>{e instanceof ArrayBuffer&&(e=i.from(e).toString());try{e=this.dataPack.decode(e)}catch(e){return}if(e.notification&&this.listeners(e.notification).length){if(!Object.keys(e.params).length)return this.emit(e.notification);const r=[e.notification];if(e.params.constructor===Object)r.push(e.params);else for(let n=0;n<e.params.length;n++)r.push(e.params[n]);return Promise.resolve().then((()=>{this.emit.apply(this,r)}))}if(!this.queue[e.id])return e.method?Promise.resolve().then((()=>{this.emit(e.method,e?.params)})):void 0;"error"in e=="result"in e&&this.queue[e.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[e.id].timeout&&clearTimeout(this.queue[e.id].timeout),e.error?this.queue[e.id].promise[1](e.error):this.queue[e.id].promise[0](e.result),delete this.queue[e.id]})),this.socket.addEventListener("error",(e=>this.emit("error",e))),this.socket.addEventListener("close",(({code:n,reason:i})=>{this.ready&&setTimeout((()=>this.emit("close",n,i)),0),this.ready=!1,this.socket=void 0,1e3!==n&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||0===this.max_reconnects)&&(this.reconnect_timer_id=setTimeout((()=>this._connect(e,r)),this.reconnect_interval)))}))}}r.A=CommonClient},134902:(e,r,n)=>{"use strict";const i=n(828985);class WebSocketBrowserImpl extends i.EventEmitter{socket;constructor(e,r,n){super(),this.socket=new window.WebSocket(e,n),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=e=>this.emit("message",e.data),this.socket.onerror=e=>this.emit("error",e),this.socket.onclose=e=>{this.emit("close",e.code,e.reason)}}send(e,r,n){const i=n||r;try{this.socket.send(e),i()}catch(e){i(e)}}close(e,r){this.socket.close(e,r)}addEventListener(e,r,n){this.socket.addEventListener(e,r,n)}}r.A=function default_1(e,r){return new WebSocketBrowserImpl(e,r)}},139386:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.createError=r.DefaultDataPack=void 0;const n=new Map([[-32e3,"Event not provided"],[-32600,"Invalid Request"],[-32601,"Method not found"],[-32602,"Invalid params"],[-32603,"Internal error"],[-32604,"Params not found"],[-32605,"Method forbidden"],[-32606,"Event forbidden"],[-32700,"Parse error"]]);r.DefaultDataPack=class DefaultDataPack{encode(e){return JSON.stringify(e)}decode(e){return JSON.parse(e)}},r.createError=function createError(e,r){const i={code:e,message:n.get(e)||"Internal Server Error"};return r&&(i.data=r),i}},826113:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.fixBeetFromValue=r.fixBeetFromData=void 0;const i=n(634919),s=n(18747);r.fixBeetFromData=function fixBeetFromData(e,r,n){if((0,i.isFixedSizeBeet)(e))return e;if((0,i.isFixableBeet)(e))return e.toFixedFromData(r,n);throw new s.UnreachableCaseError(e)},r.fixBeetFromValue=function fixBeetFromValue(e,r){if((0,i.isFixedSizeBeet)(e))return e;if((0,i.isFixableBeet)(e))return e.toFixedFromValue(r);throw new s.UnreachableCaseError(e)}},666808:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__exportStar||function(e,r){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||i(r,e,n)};Object.defineProperty(r,"__esModule",{value:!0}),r.supportedTypeMap=void 0;const a=n(583457),k=n(795470),w=n(305850),I=n(783567),we=n(563418),Ae=n(964052),Be=n(711313),Ce=n(848153),ze=n(684380),qe=n(662991);s(n(964052),r),s(n(583457),r),s(n(795470),r),s(n(563418),r),s(n(848153),r),s(n(305850),r),s(n(662991),r),s(n(783567),r),s(n(711313),r),s(n(684380),r),s(n(826113),r),s(n(182298),r),s(n(250221),r),s(n(170552),r),s(n(634919),r),r.supportedTypeMap={...a.collectionsTypeMap,...I.stringTypeMap,...k.compositesTypeMap,...we.enumsTypeMap,...w.numbersTypeMap,...Ae.aliasesTypeMap,...Be.tuplesTypeMap,...Ce.mapsTypeMap,...qe.setsTypeMap,...ze.unitTypeMap}},964052:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.aliasesTypeMap=r.bytes=void 0;const i=n(583457);r.bytes=i.uint8Array,r.aliasesTypeMap={bytes:i.collectionsTypeMap.Uint8Array}},583457:(e,r,n)=>{"use strict";var i=n(901048).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.collectionsTypeMap=r.uint8Array=r.fixedSizeUint8Array=r.fixedSizeBuffer=r.array=r.fixedSizeArray=r.uniformFixedSizeArray=void 0;const s=n(634919),a=n(626093),k=n(305850),w=n(634919),I=n(18747),we=n(826113);function fixedSizeArray(e,r){const n=e.length,i=0===n?"<EMPTY>":e[0].description;return{write:function(r,i,s){a.strict.equal(s.length,n,`array length ${s.length} should match len ${n}`),k.u32.write(r,i,n);let w=i+4;for(let i=0;i<n;i++){const n=e[i];n.write(r,w,s[i]),w+=n.byteSize}},read:function(r,i){const s=k.u32.read(r,i);a.strict.equal(s,n,"invalid byte size");let w=i+4;const I=new Array(n);for(let i=0;i<n;i++){const n=e[i];I[i]=n.read(r,w),w+=n.byteSize}return I},byteSize:4+r,length:n,description:`Array<${i}>(${n})[ 4 + ${r} ]`}}function fixedSizeBuffer(e){return{write:function(r,n,i){i.copy(r,n,0,e)},read:function(r,n){return r.slice(n,n+e)},byteSize:e,description:`Buffer(${e})`}}function fixedSizeUint8Array(e,r=!1){const n=fixedSizeBuffer(e);return{write:function(s,w,I){a.strict.equal(I.byteLength,e,`Uint8Array length ${I.byteLength} should match len ${e}`),r&&(k.u32.write(s,w,e),w+=4);const we=i.from(I);n.write(s,w,we)},read:function(i,s){if(r){const r=k.u32.read(i,s);a.strict.equal(r,e,"invalid byte size"),s+=4}const w=n.read(i,s);return Uint8Array.from(w)},byteSize:r?e+4:e,description:`Uint8Array(${e})`}}r.uniformFixedSizeArray=function uniformFixedSizeArray(e,r,n=!1){const i=e.byteSize*r;return{write:function(i,s,w){a.strict.equal(w.length,r,`array length ${w.length} should match len ${r}`),n&&(k.u32.write(i,s,r),s+=4);for(let n=0;n<r;n++)e.write(i,s+n*e.byteSize,w[n])},read:function(i,s){if(n){const e=k.u32.read(i,s);a.strict.equal(e,r,"invalid byte size"),s+=4}const w=new Array(r);for(let n=0;n<r;n++)w[n]=e.read(i,s+n*e.byteSize);return w},byteSize:n?4+i:i,length:r,elementByteSize:e.byteSize,lenPrefixByteSize:4,description:`Array<${e.description}>(${r})`}},r.fixedSizeArray=fixedSizeArray,r.array=function array(e){return{toFixedFromData(r,n){const i=k.u32.read(r,n);(0,I.logTrace)(`${this.description}[${i}]`);const s=n+4;let a=s;const w=new Array(i);for(let n=0;n<i;n++){const i=(0,we.fixBeetFromData)(e,r,a);w[n]=i,a+=i.byteSize}return fixedSizeArray(w,a-s)},toFixedFromValue(r){(0,a.strict)(Array.isArray(r),`${r} should be an array`);let n=0;const i=new Array(r.length);for(let s=0;s<r.length;s++){const a=(0,we.fixBeetFromValue)(e,r[s]);i[s]=a,n+=a.byteSize}return fixedSizeArray(i,n)},description:"array"}},r.fixedSizeBuffer=fixedSizeBuffer,r.fixedSizeUint8Array=fixedSizeUint8Array,r.uint8Array={toFixedFromData(e,r){const n=k.u32.read(e,r);return(0,I.logTrace)(`${this.description}[${n}]`),fixedSizeUint8Array(n,!0)},toFixedFromValue:e=>fixedSizeUint8Array(e.byteLength,!0),description:"Uint8Array"},r.collectionsTypeMap={Array:{beet:"array",isFixable:!0,sourcePack:w.BEET_PACKAGE,ts:"Array",arg:s.BEET_TYPE_ARG_LEN},FixedSizeArray:{beet:"fixedSizeArray",isFixable:!1,sourcePack:w.BEET_PACKAGE,ts:"Array",arg:s.BEET_TYPE_ARG_LEN},UniformFixedSizeArray:{beet:"uniformFixedSizeArray",isFixable:!1,sourcePack:w.BEET_PACKAGE,ts:"Array",arg:s.BEET_TYPE_ARG_LEN},Buffer:{beet:"fixedSizeBuffer",isFixable:!1,sourcePack:w.BEET_PACKAGE,ts:"Buffer",arg:s.BEET_TYPE_ARG_LEN},FixedSizeUint8Array:{beet:"fixedSizeUint8Array",isFixable:!1,sourcePack:w.BEET_PACKAGE,ts:"Uint8Array",arg:s.BEET_TYPE_ARG_LEN},Uint8Array:{beet:"uint8Array",isFixable:!0,sourcePack:w.BEET_PACKAGE,ts:"Uint8Array",arg:s.BEET_TYPE_ARG_LEN}}},795470:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.compositesTypeMap=r.coption=r.coptionSome=r.coptionNone=r.isNoneBuffer=r.isSomeBuffer=void 0;const i=n(626093),s=n(634919),a=n(634919),k=n(18747),w=n(826113),I=0,we=1;function isSomeBuffer(e,r){return e[r]===we}function isNoneBuffer(e,r){return e[r]===I}function coptionNone(e){return(0,k.logTrace)(`coptionNone(${e})`),{write:function(e,r,n){(0,i.strict)(null==n,"coptionNone can only handle `null` values"),e[r]=I},read:function(e,r){return(0,i.strict)(isNoneBuffer(e,r),"coptionNone can only handle `NONE` data"),null},byteSize:1,description:`COption<None(${e})>`}}function coptionSome(e){const r=1+e.byteSize,n={write:function(r,n,a){(0,s.assertFixedSizeBeet)(e,`coption inner type ${e.description} needs to be fixed before calling write`),(0,i.strict)(null!=a,"coptionSome cannot handle `null` values"),r[n]=we,e.write(r,n+1,a)},read:function(r,n){return(0,s.assertFixedSizeBeet)(e,`coption inner type ${e.description} needs to be fixed before calling read`),(0,i.strict)(isSomeBuffer(r,n),"coptionSome can only handle `SOME` data"),e.read(r,n+1)},description:`COption<${e.description}>[1 + ${e.byteSize}]`,byteSize:r,inner:e};return(0,k.logTrace)(n.description),n}r.isSomeBuffer=isSomeBuffer,r.isNoneBuffer=isNoneBuffer,r.coptionNone=coptionNone,r.coptionSome=coptionSome,r.coption=function coption(e){return{toFixedFromData(r,n){if(isSomeBuffer(r,n)){return coptionSome((0,w.fixBeetFromData)(e,r,n+1))}return(0,i.strict)(isNoneBuffer(r,n),`Expected ${r} to hold a COption`),coptionNone(e.description)},toFixedFromValue:r=>null==r?coptionNone(e.description):coptionSome((0,w.fixBeetFromValue)(e,r)),description:`COption<${e.description}>`}},r.compositesTypeMap={option:{beet:"coption",isFixable:!0,sourcePack:a.BEET_PACKAGE,ts:"COption<Inner>",arg:s.BEET_TYPE_ARG_INNER,pack:a.BEET_PACKAGE}}},563418:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.enumsTypeMap=r.dataEnum=r.uniformDataEnum=r.fixedScalarEnum=void 0;const i=n(634919),s=n(305850),a=n(626093),k=n(250221),w=n(170552),I=n(684380);function resolveEnumVariant(e,r){return r?`${e}`:e}function enumDataVariantBeet(e,r,n){return{write(n,i,a){s.u8.write(n,i,r),e.write(n,i+s.u8.byteSize,a)},read(r,i){const a=e.read(r,i+s.u8.byteSize);return{__kind:n,...a}},byteSize:e.byteSize+s.u8.byteSize,description:`EnumData<${e.description}>`}}r.fixedScalarEnum=function fixedScalarEnum(e){const r=Object.keys(e);return{write(n,i,k){const w="number"==typeof k,I=resolveEnumVariant(k,w);if(r.includes(I)||a.strict.fail(`${k} should be a variant of the provided enum type, i.e. [ ${Object.values(e).join(", ")} ], but isn't`),w)s.u8.write(n,i,k);else{const r=e[I];s.u8.write(n,i,r)}},read(n,i){const k=s.u8.read(n,i),w="number"==typeof k,I=resolveEnumVariant(k,w);return r.includes(I)||a.strict.fail(`${k} should be a of a variant of the provided enum type, i.e. [ ${Object.values(e).join(", ")} ], but isn't`),w?k:e[I]},byteSize:s.u8.byteSize,description:"Enum"}},r.uniformDataEnum=function uniformDataEnum(e){return{write:function(r,n,i){s.u8.write(r,n,i.kind),e.write(r,n+1,i.data)},read:function(r,n){return{kind:s.u8.read(r,n),data:e.read(r,n+1)}},byteSize:1+e.byteSize,description:`UniformDataEnum<${e.description}>`}},r.dataEnum=function dataEnum(e){for(const[r,n]of e)(0,a.strict)((0,k.isBeetStruct)(n)||(0,w.isFixableBeetStruct)(n)||n===I.unit,"dataEnum: variants must be a data beet struct or a scalar unit");return{toFixedFromData(r,n){const k=s.u8.read(r,n),w=e[k];(0,a.strict)(null!=w,`Discriminant ${k} out of range for ${e.length} variants`);const[I,we]=w;return enumDataVariantBeet((0,i.isFixedSizeBeet)(we)?we:we.toFixedFromData(r,n+1),k,I)},toFixedFromValue(r){if(null==r.__kind){const n=Object.keys(r).join(", "),i=e.map((([e])=>e)).join(", ");a.strict.fail(`Value with fields [ ${n} ] is missing __kind, which needs to be set to one of [ ${i} ]`)}const n=e.findIndex((([e])=>e===r.__kind));if(n<0){const n=e.map((([e])=>e)).join(", ");a.strict.fail(`${r.__kind} is not a valid kind, needs to be one of [ ${n} ]`)}const s=e[n],{__kind:k,...w}=r,[I,we]=s;return enumDataVariantBeet((0,i.isFixedSizeBeet)(we)?we:we.toFixedFromValue(w),n,I)},description:`DataEnum<${e.length} variants>`}},r.enumsTypeMap={fixedScalarEnum:{beet:"fixedScalarEnum",isFixable:!1,sourcePack:i.BEET_PACKAGE,ts:"<TypeName>",arg:i.BEET_TYPE_ARG_INNER,pack:i.BEET_PACKAGE},dataEnum:{beet:"dataEnum",isFixable:!1,sourcePack:i.BEET_PACKAGE,ts:"DataEnum<Kind, Inner>",arg:i.BEET_TYPE_ARG_INNER,pack:i.BEET_PACKAGE}}},848153:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.mapsTypeMap=r.map=void 0;const i=n(634919),s=n(305850),a=n(18747),k=n(626093);function fixedSizeMap(e,r,n,w){const I=(0,i.isFixedSizeBeet)(e),we=(0,i.isFixedSizeBeet)(r);const{elementByteSize:Ae,byteSize:Be}=function determineSizes(){if(I&&we){const n=e.byteSize+r.byteSize;return{elementByteSize:n,byteSize:4+w*n}}if(I){let r=0;for(const[e,i]of n.values())r+=i.byteSize;return{elementByteSize:e.byteSize+Math.ceil(r/w),byteSize:4+e.byteSize*w+r}}if(we){let e=0;for(const[r,i]of n.values())e+=r.byteSize;return{elementByteSize:Math.ceil(e/w)+r.byteSize,byteSize:4+e+r.byteSize*w}}{let e=0,r=0;for(const[i,s]of n.values())e+=i.byteSize,r+=s.byteSize;return{elementByteSize:Math.ceil(e/w+r/w),byteSize:4+e+r}}}();return{write:function(i,Ae,Be){let Ce=Ae+4,ze=0;for(const[s,w]of Be.entries()){let Ae=I?e:null,Be=we?r:null;if(null==Ae||null==Be){const e=n.get(s);(0,k.strict)(null!=e,`Should be able to find beet els for ${(0,a.stringify)(s)}, but could not`),null!=Ae||(Ae=e[0]),null!=Be||(Be=e[1])}Ae.write(i,Ce,s),Ce+=Ae.byteSize,Be.write(i,Ce,w),Ce+=Be.byteSize,ze++}s.u32.write(i,Ae,ze),k.strict.equal(ze,w,`Expected map to have size ${w}, but has ${ze}.`)},read:function(n,i){const a=s.u32.read(n,i);k.strict.equal(a,w,`Expected map to have size ${w}, but has ${a}.`);let Ae=i+4;const Be=new Map;for(let i=0;i<a;i++){const i=I?e:e.toFixedFromData(n,Ae),s=i.read(n,Ae);Ae+=i.byteSize;const a=we?r:r.toFixedFromData(n,Ae),k=a.read(n,Ae);Ae+=a.byteSize,Be.set(s,k)}return Be},elementByteSize:Ae,byteSize:Be,length:w,lenPrefixByteSize:4,description:`Map<${e.description}, ${r.description}>`}}r.map=function map(e,r){const n=(0,i.isFixedSizeBeet)(e),a=(0,i.isFixedSizeBeet)(r);return{toFixedFromData(i,k){const w=s.u32.read(i,k);let I=k+4;if(n&&a)return fixedSizeMap(e,r,new Map,w);const we=new Map;for(let s=0;s<w;s++){const s=n?e:e.toFixedFromData(i,I),k=s.read(i,I);I+=s.byteSize;const w=a?r:r.toFixedFromData(i,I);I+=w.byteSize,we.set(k,[s,w])}return fixedSizeMap(e,r,we,w)},toFixedFromValue(i){const s=i.size;if(n&&a)return fixedSizeMap(e,r,new Map,s);const k=new Map;for(const[s,w]of i){const i=n?e:e.toFixedFromValue(s),I=a?r:r.toFixedFromValue(w);k.set(s,[i,I])}return fixedSizeMap(e,r,k,s)},description:`FixableMap<${e.description}, ${r.description}>`}},r.mapsTypeMap={Map:{beet:"map",isFixable:!0,sourcePack:i.BEET_PACKAGE,ts:"Map"}}},305850:function(e,r,n){"use strict";var i=n(901048).Buffer,s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.numbersTypeMap=r.bool=r.i512=r.i256=r.i128=r.i64=r.i32=r.i16=r.i8=r.u512=r.u256=r.u128=r.u64=r.u32=r.u16=r.u8=void 0;const a=s(n(682823)),k=n(634919);function unsignedLargeBeet(e,r){return{write:function(e,r,n){const s=(a.default.isBN(n)?n:new a.default(n)).toArray("le",this.byteSize);i.from(s).copy(e,r,0,this.byteSize)},read:function(e,r){const n=e.slice(r,r+this.byteSize);return new a.default(n,"le")},byteSize:e,description:r}}function signedLargeBeet(e,r){const n=8*e;return{write:function(e,r,s){const k=(a.default.isBN(s)?s:new a.default(s)).toTwos(n).toArray("le",this.byteSize);i.from(k).copy(e,r,0,this.byteSize)},read:function(e,r){const i=e.slice(r,r+this.byteSize);return new a.default(i,"le").fromTwos(n)},byteSize:e,description:r}}r.u8={write:function(e,r,n){e.writeUInt8(n,r)},read:function(e,r){return e.readUInt8(r)},byteSize:1,description:"u8"},r.u16={write:function(e,r,n){e.writeUInt16LE(n,r)},read:function(e,r){return e.readUInt16LE(r)},byteSize:2,description:"u16"},r.u32={write:function(e,r,n){e.writeUInt32LE(n,r)},read:function(e,r){return e.readUInt32LE(r)},byteSize:4,description:"u32"},r.u64=unsignedLargeBeet(8,"u64"),r.u128=unsignedLargeBeet(16,"u128"),r.u256=unsignedLargeBeet(32,"u256"),r.u512=unsignedLargeBeet(64,"u512"),r.i8={write:function(e,r,n){e.writeInt8(n,r)},read:function(e,r){return e.readInt8(r)},byteSize:1,description:"i8"},r.i16={write:function(e,r,n){e.writeInt16LE(n,r)},read:function(e,r){return e.readInt16LE(r)},byteSize:2,description:"i16"},r.i32={write:function(e,r,n){e.writeInt32LE(n,r)},read:function(e,r){return e.readInt32LE(r)},byteSize:4,description:"i32"},r.i64=signedLargeBeet(8,"i64"),r.i128=signedLargeBeet(16,"i128"),r.i256=signedLargeBeet(32,"i256"),r.i512=signedLargeBeet(64,"i512"),r.bool={write:function(e,n,i){const s=i?1:0;r.u8.write(e,n,s)},read:function(e,n){return 1===r.u8.read(e,n)},byteSize:1,description:"bool"},r.numbersTypeMap={u8:{beet:"u8",isFixable:!1,sourcePack:k.BEET_PACKAGE,ts:"number"},u16:{beet:"u16",isFixable:!1,sourcePack:k.BEET_PACKAGE,ts:"number"},u32:{beet:"u32",isFixable:!1,sourcePack:k.BEET_PACKAGE,ts:"number"},i8:{beet:"i8",isFixable:!1,sourcePack:k.BEET_PACKAGE,ts:"number"},i16:{beet:"i16",isFixable:!1,sourcePack:k.BEET_PACKAGE,ts:"number"},i32:{beet:"i32",isFixable:!1,sourcePack:k.BEET_PACKAGE,ts:"number"},bool:{beet:"bool",isFixable:!1,sourcePack:k.BEET_PACKAGE,ts:"boolean"},u64:{beet:"u64",isFixable:!1,sourcePack:k.BEET_PACKAGE,ts:"bignum",pack:k.BEET_PACKAGE},u128:{beet:"u128",isFixable:!1,sourcePack:k.BEET_PACKAGE,ts:"bignum",pack:k.BEET_PACKAGE},u256:{beet:"u256",isFixable:!1,sourcePack:k.BEET_PACKAGE,ts:"bignum",pack:k.BEET_PACKAGE},u512:{beet:"u512",isFixable:!1,sourcePack:k.BEET_PACKAGE,ts:"bignum",pack:k.BEET_PACKAGE},i64:{beet:"i64",isFixable:!1,sourcePack:k.BEET_PACKAGE,ts:"bignum",pack:k.BEET_PACKAGE},i128:{beet:"i128",isFixable:!1,sourcePack:k.BEET_PACKAGE,ts:"bignum",pack:k.BEET_PACKAGE},i256:{beet:"i256",isFixable:!1,sourcePack:k.BEET_PACKAGE,ts:"bignum",pack:k.BEET_PACKAGE},i512:{beet:"i512",isFixable:!1,sourcePack:k.BEET_PACKAGE,ts:"bignum",pack:k.BEET_PACKAGE}}},662991:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.setsTypeMap=r.set=void 0;const i=n(634919),s=n(305850),a=n(18747),k=n(626093);function fixedSizeSet(e,r,n){const w=(0,i.isFixedSizeBeet)(e);const{elementByteSize:I,byteSize:we}=function determineSizes(){if(w){const r=e.byteSize;return{elementByteSize:r,byteSize:4+n*r}}{let e=0;for(const n of r.values())e+=n.byteSize;return{elementByteSize:Math.ceil(e/n),byteSize:4+e}}}();return{write:function(i,I,we){let Ae=I+4,Be=0;for(const n of we.keys()){let s=w?e:null;if(null==s){const e=r.get(n);(0,k.strict)(null!=e,`Should be able to find beet el for ${(0,a.stringify)(n)}, but could not`),null!=s||(s=e)}s.write(i,Ae,n),Ae+=s.byteSize,Be++}s.u32.write(i,I,Be),k.strict.equal(Be,n,`Expected set to have size ${n}, but has ${Be}.`)},read:function(r,i){const a=s.u32.read(r,i);k.strict.equal(a,n,`Expected set to have size ${n}, but has ${a}.`);let I=i+4;const we=new Set;for(let n=0;n<a;n++){const n=w?e:e.toFixedFromData(r,I),i=n.read(r,I);I+=n.byteSize,we.add(i)}return we},elementByteSize:I,byteSize:we,length:n,lenPrefixByteSize:4,description:`Set<${e.description}>`}}r.set=function set(e){const r=(0,i.isFixedSizeBeet)(e);return{toFixedFromData(n,i){const a=s.u32.read(n,i);let k=i+4;if(r)return fixedSizeSet(e,new Map,a);const w=new Map;for(let i=0;i<a;i++){const i=r?e:e.toFixedFromData(n,k),s=i.read(n,k);k+=i.byteSize,w.set(s,i)}return fixedSizeSet(e,w,a)},toFixedFromValue(n){const i=n.size;if(r)return fixedSizeSet(e,new Map,i);const s=new Map;for(const i of n){const n=r?e:e.toFixedFromValue(i);s.set(i,n)}return fixedSizeSet(e,s,i)},description:`FixableSet<${e.description}>`}},r.setsTypeMap={Set:{beet:"set",isFixable:!0,sourcePack:i.BEET_PACKAGE,ts:"Set"}}},783567:(e,r,n)=>{"use strict";var i=n(901048).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.stringTypeMap=r.utf8String=r.fixedSizeUtf8String=void 0;const s=n(634919),a=n(626093),k=n(305850),w=n(18747);r.fixedSizeUtf8String=e=>({write:function(r,n,s){const w=i.from(s,"utf8");a.strict.equal(w.byteLength,e,`${s} has invalid byte size`),k.u32.write(r,n,e),w.copy(r,n+4,0,e)},read:function(r,n){const i=k.u32.read(r,n);a.strict.equal(i,e,"invalid byte size");return r.slice(n+4,n+4+e).toString("utf8")},elementByteSize:1,length:e,lenPrefixByteSize:4,byteSize:4+e,description:`Utf8String(4 + ${e})`}),r.utf8String={toFixedFromData(e,n){const i=k.u32.read(e,n);return(0,w.logTrace)(`${this.description}[${i}]`),(0,r.fixedSizeUtf8String)(i)},toFixedFromValue(e){const n=i.from(e).byteLength;return(0,r.fixedSizeUtf8String)(n)},description:"Utf8String"},r.stringTypeMap={fixedSizeString:{beet:"fixedSizeUtf8String",isFixable:!1,sourcePack:s.BEET_PACKAGE,ts:"string",arg:s.BEET_TYPE_ARG_LEN},string:{beet:"utf8String",isFixable:!0,sourcePack:s.BEET_PACKAGE,ts:"string"}}},711313:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.tuplesTypeMap=r.tuple=r.fixedSizeTuple=void 0;const i=n(634919),s=n(626093),a=n(826113);function fixedSizeTuple(e){const r=e.length,n=e.map((e=>e.description)),i=e.map((e=>e.byteSize));return{write:function(n,i,a){s.strict.equal(a.length,r,`tuple value element size ${a.length} should match len ${r}`);let k=i;for(let i=0;i<r;i++){const r=a[i],s=e[i];s.write(n,k,r),k+=s.byteSize}},read:function(n,i){const s=[];let a=i;for(let i=0;i<r;i++){const r=e[i];s[i]=r.read(n,a),a+=r.byteSize}return s},byteSize:i.reduce(((e,r)=>e+r),0),length:r,description:`FixedSizeTuple<${n.join(",")}>[ ${i.join(", ")} ]`}}r.fixedSizeTuple=fixedSizeTuple,r.tuple=function tuple(e){const r=e.length;return{toFixedFromData(n,i){let s=i;const k=new Array(r);for(let i=0;i<r;i++){const r=(0,a.fixBeetFromData)(e[i],n,s);k[i]=r,s+=r.byteSize}return fixedSizeTuple(k)},toFixedFromValue(n){(0,s.strict)(Array.isArray(n),`${n} should be an array of tuple values`),s.strict.equal(n.length,r,`There should be ${r} tuple values, but there are ${n.length}`);const i=new Array(r);for(let r=0;r<n.length;r++){const s=(0,a.fixBeetFromValue)(e[r],n[r]);i[r]=s}return fixedSizeTuple(i)},description:`Tuple<${e.map((e=>e.description)).join(",")}>`}},r.tuplesTypeMap={Tuple:{beet:"tuple",isFixable:!0,sourcePack:i.BEET_PACKAGE,ts:"[__tuple_elements__]"},FixedSizeTuple:{beet:"fixedSizeTuple",isFixable:!1,sourcePack:i.BEET_PACKAGE,ts:"[__tuple_elements__]"}}},684380:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.unitTypeMap=r.unit=void 0;const i=n(634919);r.unit={write:function(e,r,n){},read:function(e,r){},byteSize:0,description:"unit"},r.unitTypeMap={unit:{beet:"unit",isFixable:!1,sourcePack:i.BEET_PACKAGE,ts:"void"}}},182298:(e,r,n)=>{"use strict";var i=n(901048).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.BeetReader=r.BeetWriter=void 0;const s=n(626093);r.BeetWriter=class BeetWriter{constructor(e){this.buf=i.alloc(e),this._offset=0}get buffer(){return this.buf}get offset(){return this._offset}maybeResize(e){this._offset+e>this.buf.length&&s.strict.fail(`We shouldn't ever need to resize, but ${this._offset+e} > ${this.buf.length}`)}write(e,r){this.maybeResize(e.byteSize),e.write(this.buf,this._offset,r),this._offset+=e.byteSize}writeStruct(e,r){for(const[n,i]of r){const r=e[n];this.write(i,r)}}};r.BeetReader=class BeetReader{constructor(e,r=0){this.buffer=e,this._offset=r}get offset(){return this._offset}read(e){const r=e.read(this.buffer,this._offset);return this._offset+=e.byteSize,r}readStruct(e){const r={};for(const[n,i]of e)r[n]=this.read(i);return r}}},170552:function(e,r,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.FixableBeetArgsStruct=r.isFixableBeetStruct=r.FixableBeetStruct=void 0;const s=n(826113),a=n(250221),k=n(634919),w=n(626093),I=n(18747),we=i(n(651446)),{brightBlack:Ae}=we.default;class FixableBeetStruct{constructor(e,r,n=FixableBeetStruct.description){this.fields=e,this.construct=r,this.description=n;let i=0;if(I.logDebug.enabled){const r=e.map((([e,r])=>((0,k.isFixedSizeBeet)(r)&&(i+=r.byteSize),`${e}: ${r.description} ${(0,I.beetBytes)(r)}`))).join("\n  "),s=`> ${i} B`;(0,I.logDebug)(`struct ${n} {\n  ${r}\n} ${Ae(s)}`)}}deserialize(e,r=0){return this.toFixedFromData(e,r).deserialize(e,r)}serialize(e,r){return this.toFixedFromValue(e).serialize(e,r)}toFixedFromData(e,r){let n=r;const i=new Array(this.fields.length);for(let r=0;r<this.fields.length;r++){const[a,k]=this.fields[r],w=(0,s.fixBeetFromData)(k,e,n);i[r]=[a,w],n+=w.byteSize}return this.description!==FixableBeetStruct.description?new a.BeetStruct(i,this.construct,this.description):new a.BeetStruct(i,this.construct)}toFixedFromValue(e){const r=Object.keys(e),n=new Array(this.fields.length);for(let i=0;i<this.fields.length;i++){const[a,k]=this.fields[i];(0,w.strict)(r.includes(a),`Value with keys [ ${r} ] should include struct key '${a}' but doesn't.`);const I=e[a],we=(0,s.fixBeetFromValue)(k,I);n[i]=[a,we]}return this.description!==FixableBeetStruct.description?new a.BeetStruct(n,this.construct,this.description):new a.BeetStruct(n,this.construct)}get type(){return FixableBeetStruct.TYPE}}r.FixableBeetStruct=FixableBeetStruct,FixableBeetStruct.description="FixableBeetStruct",FixableBeetStruct.TYPE="FixableBeetStruct",r.isFixableBeetStruct=function isFixableBeetStruct(e){return e.type===FixableBeetStruct.TYPE};class FixableBeetArgsStruct extends FixableBeetStruct{constructor(e,r=FixableBeetArgsStruct.description){super(e,(e=>e),r)}}r.FixableBeetArgsStruct=FixableBeetArgsStruct,FixableBeetArgsStruct.description="FixableBeetArgsStruct"},250221:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.BeetArgsStruct=r.isBeetStruct=r.BeetStruct=void 0;const i=n(182298),s=n(18747);class BeetStruct{constructor(e,r,n=BeetStruct.description){if(this.fields=e,this.construct=r,this.description=n,this.byteSize=this.getByteSize(),s.logDebug.enabled){const r=e.map((([e,r])=>`${String(e)}: ${r.description} ${(0,s.beetBytes)(r)}`)).join("\n  ");(0,s.logDebug)(`struct ${n} {\n  ${r}\n} ${(0,s.beetBytes)(this)}`)}}read(e,r){const[n]=this.deserialize(e,r);return n}write(e,r,n){const[i,s]=this.serialize(n);i.copy(e,r,0,s)}deserialize(e,r=0){s.logTrace.enabled&&((0,s.logTrace)("deserializing [%s] from %d bytes buffer",this.description,e.byteLength),(0,s.logTrace)(e),(0,s.logTrace)(e.toJSON().data));const n=new i.BeetReader(e,r),a=n.readStruct(this.fields);return[this.construct(a),n.offset]}serialize(e,r=this.byteSize){(0,s.logTrace)("serializing [%s] %o to %d bytes buffer",this.description,e,r);const n=new i.BeetWriter(r);return n.writeStruct(e,this.fields),[n.buffer,n.offset]}getByteSize(){return this.fields.reduce(((e,[r,n])=>e+n.byteSize),0)}get type(){return BeetStruct.TYPE}}r.BeetStruct=BeetStruct,BeetStruct.description="BeetStruct",BeetStruct.TYPE="BeetStruct",r.isBeetStruct=function isBeetStruct(e){return e.type===BeetStruct.TYPE};class BeetArgsStruct extends BeetStruct{constructor(e,r=BeetArgsStruct.description){super(e,(e=>e),r)}}r.BeetArgsStruct=BeetArgsStruct,BeetArgsStruct.description="BeetArgsStruct"},634919:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isElementCollectionFixedSizeBeet=r.isFixableBeet=r.assertFixedSizeBeet=r.isFixedSizeBeet=r.BEET_TYPE_ARG_INNER=r.BEET_TYPE_ARG_LEN=r.BEET_PACKAGE=void 0;const i=n(626093);function isFixedSizeBeet(e){return Object.keys(e).includes("byteSize")}r.BEET_PACKAGE="@metaplex-foundation/beet",r.BEET_TYPE_ARG_LEN="len",r.BEET_TYPE_ARG_INNER="Beet<{innner}>",r.isFixedSizeBeet=isFixedSizeBeet,r.assertFixedSizeBeet=function assertFixedSizeBeet(e,r=`${e} should have been a fixed beet`){(0,i.strict)(isFixedSizeBeet(e),r)},r.isFixableBeet=function isFixableBeet(e){return"function"==typeof e.toFixedFromData&&"function"==typeof e.toFixedFromValue},r.isElementCollectionFixedSizeBeet=function isElementCollectionFixedSizeBeet(e){const r=Object.keys(e);return r.includes("length")&&r.includes("elementByteSize")&&r.includes("lenPrefixByteSize")}},18747:function(e,r,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.UnreachableCaseError=r.stringify=r.bytes=r.beetBytes=r.logTrace=r.logDebug=r.logInfo=r.logError=void 0;const s=i(n(720124)),a=i(n(651446)),k=n(634919),{brightBlack:w}=a.default;r.logError=(0,s.default)("beet:error"),r.logInfo=(0,s.default)("beet:info"),r.logDebug=(0,s.default)("beet:debug"),r.logTrace=(0,s.default)("beet:trace"),r.beetBytes=function beetBytes(e,r=!1){let n;if((0,k.isFixableBeet)(e))n="? B";else if((0,k.isElementCollectionFixedSizeBeet)(e)){const i=r?"length":e.length,s=e.lenPrefixByteSize;n=s>0?`${s} + (${e.elementByteSize} * ${i}) B  (${e.byteSize} B)`:`(${e.elementByteSize} * ${i}) B (${e.byteSize} B)`}else n=`${e.byteSize} B`;return w(n)},r.bytes=function bytes(e){return w(`${e} B`)},r.stringify=function stringify(e){return"function"===e.toString?e.toString():e};class UnreachableCaseError extends Error{constructor(e){super(`Unreachable case: ${e}`)}}r.UnreachableCaseError=UnreachableCaseError},204707:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return r[n]}})}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__exportStar||function(e,r){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||i(r,e,n)};Object.defineProperty(r,"__esModule",{value:!0}),s(n(151936),r),s(n(962202),r)},163042:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.LangErrorMessage=r.LangErrorCode=void 0,r.LangErrorCode={InstructionMissing:100,InstructionFallbackNotFound:101,InstructionDidNotDeserialize:102,InstructionDidNotSerialize:103,IdlInstructionStub:1e3,IdlInstructionInvalidProgram:1001,ConstraintMut:2e3,ConstraintHasOne:2001,ConstraintSigner:2002,ConstraintRaw:2003,ConstraintOwner:2004,ConstraintRentExempt:2005,ConstraintSeeds:2006,ConstraintExecutable:2007,ConstraintState:2008,ConstraintAssociated:2009,ConstraintAssociatedInit:2010,ConstraintClose:2011,ConstraintAddress:2012,ConstraintZero:2013,ConstraintTokenMint:2014,ConstraintTokenOwner:2015,ConstraintMintMintAuthority:2016,ConstraintMintFreezeAuthority:2017,ConstraintMintDecimals:2018,ConstraintSpace:2019,AccountDiscriminatorAlreadySet:3e3,AccountDiscriminatorNotFound:3001,AccountDiscriminatorMismatch:3002,AccountDidNotDeserialize:3003,AccountDidNotSerialize:3004,AccountNotEnoughKeys:3005,AccountNotMutable:3006,AccountOwnedByWrongProgram:3007,InvalidProgramId:3008,InvalidProgramExecutable:3009,AccountNotSigner:3010,AccountNotSystemOwned:3011,AccountNotInitialized:3012,AccountNotProgramData:3013,StateInvalidAddress:4e3,Deprecated:5e3},r.LangErrorMessage=new Map([[r.LangErrorCode.InstructionMissing,"8 byte instruction identifier not provided"],[r.LangErrorCode.InstructionFallbackNotFound,"Fallback functions are not supported"],[r.LangErrorCode.InstructionDidNotDeserialize,"The program could not deserialize the given instruction"],[r.LangErrorCode.InstructionDidNotSerialize,"The program could not serialize the given instruction"],[r.LangErrorCode.IdlInstructionStub,"The program was compiled without idl instructions"],[r.LangErrorCode.IdlInstructionInvalidProgram,"The transaction was given an invalid program for the IDL instruction"],[r.LangErrorCode.ConstraintMut,"A mut constraint was violated"],[r.LangErrorCode.ConstraintHasOne,"A has_one constraint was violated"],[r.LangErrorCode.ConstraintSigner,"A signer constraint was violated"],[r.LangErrorCode.ConstraintRaw,"A raw constraint was violated"],[r.LangErrorCode.ConstraintOwner,"An owner constraint was violated"],[r.LangErrorCode.ConstraintRentExempt,"A rent exempt constraint was violated"],[r.LangErrorCode.ConstraintSeeds,"A seeds constraint was violated"],[r.LangErrorCode.ConstraintExecutable,"An executable constraint was violated"],[r.LangErrorCode.ConstraintState,"A state constraint was violated"],[r.LangErrorCode.ConstraintAssociated,"An associated constraint was violated"],[r.LangErrorCode.ConstraintAssociatedInit,"An associated init constraint was violated"],[r.LangErrorCode.ConstraintClose,"A close constraint was violated"],[r.LangErrorCode.ConstraintAddress,"An address constraint was violated"],[r.LangErrorCode.ConstraintZero,"Expected zero account discriminant"],[r.LangErrorCode.ConstraintTokenMint,"A token mint constraint was violated"],[r.LangErrorCode.ConstraintTokenOwner,"A token owner constraint was violated"],[r.LangErrorCode.ConstraintMintMintAuthority,"A mint mint authority constraint was violated"],[r.LangErrorCode.ConstraintMintFreezeAuthority,"A mint freeze authority constraint was violated"],[r.LangErrorCode.ConstraintMintDecimals,"A mint decimals constraint was violated"],[r.LangErrorCode.ConstraintSpace,"A space constraint was violated"],[r.LangErrorCode.AccountDiscriminatorAlreadySet,"The account discriminator was already set on this account"],[r.LangErrorCode.AccountDiscriminatorNotFound,"No 8 byte discriminator was found on the account"],[r.LangErrorCode.AccountDiscriminatorMismatch,"8 byte discriminator did not match what was expected"],[r.LangErrorCode.AccountDidNotDeserialize,"Failed to deserialize the account"],[r.LangErrorCode.AccountDidNotSerialize,"Failed to serialize the account"],[r.LangErrorCode.AccountNotEnoughKeys,"Not enough account keys given to the instruction"],[r.LangErrorCode.AccountNotMutable,"The given account is not mutable"],[r.LangErrorCode.AccountOwnedByWrongProgram,"The given account is owned by a different program than expected"],[r.LangErrorCode.InvalidProgramId,"Program ID was not as expected"],[r.LangErrorCode.InvalidProgramExecutable,"Program account is not executable"],[r.LangErrorCode.AccountNotSigner,"The given account did not sign"],[r.LangErrorCode.AccountNotSystemOwned,"The given account is not owned by the system program"],[r.LangErrorCode.AccountNotInitialized,"The program expected this account to be already initialized"],[r.LangErrorCode.AccountNotProgramData,"The given account is not a program data account"],[r.LangErrorCode.StateInvalidAddress,"The given state account does not have the correct address"],[r.LangErrorCode.Deprecated,"The API being used is deprecated and should no longer be used"]])},692532:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.tokenLendingErrors=void 0,r.tokenLendingErrors=new Map([[0,{code:0,message:'Failed to unpack instruction data"',name:"InstructionUnpackError"}],[1,{code:1,message:'Account is already initialized"',name:"AlreadyInitialized"}],[2,{code:2,message:'Lamport balance below rent-exempt threshold"',name:"NotRentExempt"}],[3,{code:3,message:'Market authority is invalid"',name:"InvalidMarketAuthority"}],[4,{code:4,message:'Market owner is invalid"',name:"InvalidMarketOwner"}],[5,{code:5,message:'Input account owner is not the program address"',name:"InvalidAccountOwner"}],[6,{code:6,message:'Input token account is not owned by the correct token program id"',name:"InvalidTokenOwner"}],[7,{code:7,message:'Input token account is not valid"',name:"InvalidTokenAccount"}],[8,{code:8,message:'Input token mint account is not valid"',name:"InvalidTokenMint"}],[9,{code:9,message:'Input token program account is not valid"',name:"InvalidTokenProgram"}],[10,{code:10,message:'Input amount is invalid"',name:"InvalidAmount"}],[11,{code:11,message:'Input config value is invalid"',name:"InvalidConfig"}],[12,{code:12,message:'Input account must be a signer"',name:"InvalidSigner"}],[13,{code:13,message:'Invalid account input"',name:"InvalidAccountInput"}],[14,{code:14,message:'Math operation overflow"',name:"MathOverflow"}],[15,{code:15,message:'Token initialize mint failed"',name:"TokenInitializeMintFailed"}],[16,{code:16,message:'Token initialize account failed"',name:"TokenInitializeAccountFailed"}],[17,{code:17,message:'Token transfer failed"',name:"TokenTransferFailed"}],[18,{code:18,message:'Token mint to failed"',name:"TokenMintToFailed"}],[19,{code:19,message:'Token burn failed"',name:"TokenBurnFailed"}],[20,{code:20,message:'Insufficient liquidity available"',name:"InsufficientLiquidity"}],[21,{code:21,message:'Input reserve has collateral disabled"',name:"ReserveCollateralDisabled"}],[22,{code:22,message:'Reserve state needs to be refreshed"',name:"ReserveStale"}],[23,{code:23,message:'Withdraw amount too small"',name:"WithdrawTooSmall"}],[24,{code:24,message:'Withdraw amount too large"',name:"WithdrawTooLarge"}],[25,{code:25,message:'Borrow amount too small to receive liquidity after fees"',name:"BorrowTooSmall"}],[26,{code:26,message:'Borrow amount too large for deposited collateral"',name:"BorrowTooLarge"}],[27,{code:27,message:'Repay amount too small to transfer liquidity"',name:"RepayTooSmall"}],[28,{code:28,message:'Liquidation amount too small to receive collateral"',name:"LiquidationTooSmall"}],[29,{code:29,message:'Cannot liquidate healthy obligations"',name:"ObligationHealthy"}],[30,{code:30,message:'Obligation state needs to be refreshed"',name:"ObligationStale"}],[31,{code:31,message:'Obligation reserve limit exceeded"',name:"ObligationReserveLimit"}],[32,{code:32,message:'Obligation owner is invalid"',name:"InvalidObligationOwner"}],[33,{code:33,message:'Obligation deposits are empty"',name:"ObligationDepositsEmpty"}],[34,{code:34,message:'Obligation borrows are empty"',name:"ObligationBorrowsEmpty"}],[35,{code:35,message:'Obligation deposits have zero value"',name:"ObligationDepositsZero"}],[36,{code:36,message:'Obligation borrows have zero value"',name:"ObligationBorrowsZero"}],[37,{code:37,message:'Invalid obligation collateral"',name:"InvalidObligationCollateral"}],[38,{code:38,message:'Invalid obligation liquidity"',name:"InvalidObligationLiquidity"}],[39,{code:39,message:'Obligation collateral is empty"',name:"ObligationCollateralEmpty"}],[40,{code:40,message:'Obligation liquidity is empty"',name:"ObligationLiquidityEmpty"}],[41,{code:41,message:'Interest rate is negative"',name:"NegativeInterestRate"}],[42,{code:42,message:'Input oracle config is invalid"',name:"InvalidOracleConfig"}],[43,{code:43,message:'Input flash loan receiver program account is not valid"',name:"InvalidFlashLoanReceiverProgram"}],[44,{code:44,message:'Not enough liquidity after flash loan"',name:"NotEnoughLiquidityAfterFlashLoan"}]])},33279:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.errorCodeFromLogs=void 0;const n=/Custom program error: (0x[a-f0-9]+)/i;r.errorCodeFromLogs=function errorCodeFromLogs(e){for(const r of e){const e=r.match(n);if(null==e)continue;const i=e[1];try{return parseInt(i)}catch(e){}}return null}},151936:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return r[n]}})}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.TokenLendingError=r.AnchorError=r.CustomProgramError=r.CusperUnknownError=r.initCusper=r.ErrorResolver=void 0;const k=n(33279),w=a(n(163042)),I=n(692532);class ErrorResolver{constructor(e){this.resolveErrorFromCode=e}errorFromCode(e,r,n=!0){let i=null!=this.resolveErrorFromCode?this.resolveErrorFromCode(e):null;return null!=i?this.passPreparedError(i,null!=r?r:this.errorFromCode):(i=AnchorError.fromCode(e),null!=i?this.passPreparedError(i,null!=r?r:this.errorFromCode):(i=TokenLendingError.fromCode(e),null!=i?this.passPreparedError(i,null!=r?r:this.errorFromCode):n?(i=new CusperUnknownError(e,"CusperUnknownError","cusper does not know this error"),this.passPreparedError(i,null!=r?r:this.errorFromCode)):void 0))}errorFromProgramLogs(e,r=!0){const n=(0,k.errorCodeFromLogs)(e);return null==n?null:this.errorFromCode(n,this.errorFromProgramLogs,r)}throwError(e){const r=null!=e.logs&&this.errorFromProgramLogs(e.logs,!0)||new CusperUnknownError(-1,"Error created without logs and thus without error code");throw this.passPreparedError(r,this.throwError)}passPreparedError(e,r){return null==e?null:("function"==typeof Error.captureStackTrace&&Error.captureStackTrace(e,r),e)}}r.ErrorResolver=ErrorResolver,r.initCusper=function initCusper(e){return new ErrorResolver(e)};class CusperUnknownError extends Error{constructor(e,...r){super(...r),this.code=e,this.name="CusperUnknownError"}}r.CusperUnknownError=CusperUnknownError;class CustomProgramError extends Error{constructor(e,r,...n){super(...n),this.code=e,this.name=`CustomProgramError#${r}`}}r.CustomProgramError=CustomProgramError;class AnchorError extends Error{constructor(e,r,...n){super(...n),this.code=e,this.name=`AnchorError#${r}`}static fromCode(e){const r=AnchorError.errorMap.get(e);return null!=r?new AnchorError(r.code,r.name,r.message):null}toString(){return`${this.name}: ${this.message}`}}r.AnchorError=AnchorError,AnchorError.errorMap=Object.entries(w.LangErrorCode).reduce(((e,[r,n])=>(e.set(n,{code:n,name:r,message:w.LangErrorMessage.get(n)}),e)),new Map);class TokenLendingError extends Error{constructor(e,r,...n){super(...n),this.code=e,this.name=`TokenLendingError#${r}`}static fromCode(e){const r=TokenLendingError.errorMap.get(e);return null!=r?new TokenLendingError(r.code,r.name,r.message):null}toString(){return`${this.name}: ${this.message}`}}r.TokenLendingError=TokenLendingError,TokenLendingError.errorMap=I.tokenLendingErrors},962202:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},775248:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.tryReadOption=void 0;const k=a(n(666808)).coptionNone("").byteSize;r.tryReadOption=function tryReadOption(e,r,n){if(0==r.subarray(n).length)return[null,k,!0];const i=e.toFixedFromData(r,n);return[i.read(r,n),i.byteSize,!1]}},606615:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.deserialize=void 0;const k=a(n(666808)),w=a(n(326514)),I=n(525384),we=n(865524),Ae=n(768004),Be=n(906957),Ce=n(175972),ze=n(233777),qe=n(267418),$e=n(865708),Ye=k.coptionNone("").byteSize;function tryReadOption(e,r,n){try{const i=e.toFixedFromData(r,n);return[i.read(r,n),i.byteSize,!1]}catch(e){return[null,Ye,!0]}}r.deserialize=function deserialize(e,r=0){let n=r;const i=ze.keyBeet.read(e,n);n+=ze.keyBeet.byteSize;const s=w.publicKey.read(e,n);n+=w.publicKey.byteSize;const a=w.publicKey.read(e,n);n+=w.publicKey.byteSize;const[Je,et]=Ce.dataBeet.deserialize(e,n);n=et;const rt=k.bool.read(e,n);n+=k.bool.byteSize;const it=k.bool.read(e,n);n+=k.bool.byteSize;const ot=k.coption(k.u8).toFixedFromData(e,n),ht=ot.read(e,n);n+=ot.byteSize;const[ft,pt,yt]=tryReadOption(k.coption(qe.tokenStandardBeet),e,n);n+=pt;const[kt,_t,St]=yt?[null,Ye,!0]:tryReadOption(k.coption(we.collectionBeet),e,n);n+=_t;const[Mt,Dt,qt]=yt||St?[null,Ye,!0]:tryReadOption(k.coption($e.usesBeet),e,n);n+=Dt;const[Gt,Qt,er]=yt||St||qt?[null,Ye,!0]:tryReadOption(k.coption(Ae.collectionDetailsBeet),e,n);n+=Qt;const[tr,rr,nr]=yt||St||qt?[null,Ye,!0]:tryReadOption(k.coption(Be.programmableConfigBeet),e,n);n+=rr;const ir=yt||St||qt||er||nr,or={key:i,updateAuthority:s,mint:a,data:Je,primarySaleHappened:rt,isMutable:it,editionNonce:ht,tokenStandard:ir?null:ft,collection:ir?null:kt,uses:ir?null:Mt,collectionDetails:ir?null:Gt,programmableConfig:ir?null:tr};return[I.Metadata.fromArgs(or),n]}},577875:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.deserialize=void 0;const k=a(n(666808)),w=a(n(326514)),I=n(233777),we=n(894877),Ae=n(488424),Be=n(775248);r.deserialize=function deserialize(e,r=0){let n=r;const i=I.keyBeet.read(e,n);n+=I.keyBeet.byteSize;const s=k.u8.read(e,n);n+=k.u8.byteSize;const a=Ae.tokenStateBeet.read(e,n);n+=Ae.tokenStateBeet.byteSize;const[Ce,ze]=(0,Be.tryReadOption)(k.coption(k.u64),e,n);n+=ze;const[qe,$e]=(0,Be.tryReadOption)(k.coption(w.publicKey),e,n);n+=$e;const[Ye,Je]=(0,Be.tryReadOption)(k.coption(Ae.tokenDelegateRoleBeet),e,n);n+=Je;const[et,rt,it]=(0,Be.tryReadOption)(k.coption(w.publicKey),e,n);n+=rt;const ot={key:i,bump:s,state:a,ruleSetRevision:Ce,delegate:qe,delegateRole:Ye,lockedTransfer:it?null:et};return[we.TokenRecord.fromArgs(ot),n]}},142959:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.cusper=void 0;const i=n(204707),s=n(488424);r.cusper=(0,i.initCusper)(s.errorFromCode)},408945:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.collectionAuthorityRecordBeet=r.CollectionAuthorityRecord=void 0;const k=a(n(958966)),w=a(n(666808)),I=a(n(326514)),we=n(233777);class CollectionAuthorityRecord{constructor(e,r,n){this.key=e,this.bump=r,this.updateAuthority=n}static fromArgs(e){return new CollectionAuthorityRecord(e.key,e.bump,e.updateAuthority)}static fromAccountInfo(e,r=0){return CollectionAuthorityRecord.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){const i=await e.getAccountInfo(r,n);if(null==i)throw new Error(`Unable to find CollectionAuthorityRecord account at ${r}`);return CollectionAuthorityRecord.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new k.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){return I.GpaBuilder.fromStruct(e,r.collectionAuthorityRecordBeet)}static deserialize(e,n=0){return r.collectionAuthorityRecordBeet.deserialize(e,n)}serialize(){return r.collectionAuthorityRecordBeet.serialize(this)}static byteSize(e){const n=CollectionAuthorityRecord.fromArgs(e);return r.collectionAuthorityRecordBeet.toFixedFromValue(n).byteSize}static async getMinimumBalanceForRentExemption(e,r,n){return r.getMinimumBalanceForRentExemption(CollectionAuthorityRecord.byteSize(e),n)}pretty(){return{key:"Key."+we.Key[this.key],bump:this.bump,updateAuthority:this.updateAuthority}}}r.CollectionAuthorityRecord=CollectionAuthorityRecord,r.collectionAuthorityRecordBeet=new w.FixableBeetStruct([["key",we.keyBeet],["bump",w.u8],["updateAuthority",w.coption(I.publicKey)]],CollectionAuthorityRecord.fromArgs,"CollectionAuthorityRecord")},89331:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.editionBeet=r.Edition=void 0;const k=a(n(958966)),w=a(n(666808)),I=a(n(326514)),we=n(233777);class Edition{constructor(e,r,n){this.key=e,this.parent=r,this.edition=n}static fromArgs(e){return new Edition(e.key,e.parent,e.edition)}static fromAccountInfo(e,r=0){return Edition.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){const i=await e.getAccountInfo(r,n);if(null==i)throw new Error(`Unable to find Edition account at ${r}`);return Edition.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new k.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){return I.GpaBuilder.fromStruct(e,r.editionBeet)}static deserialize(e,n=0){return r.editionBeet.deserialize(e,n)}serialize(){return r.editionBeet.serialize(this)}static get byteSize(){return r.editionBeet.byteSize}static async getMinimumBalanceForRentExemption(e,r){return e.getMinimumBalanceForRentExemption(Edition.byteSize,r)}static hasCorrectByteSize(e,r=0){return e.byteLength-r===Edition.byteSize}pretty(){return{key:"Key."+we.Key[this.key],parent:this.parent.toBase58(),edition:(()=>{const e=this.edition;if("function"==typeof e.toNumber)try{return e.toNumber()}catch(r){return e}return e})()}}}r.Edition=Edition,r.editionBeet=new w.BeetStruct([["key",we.keyBeet],["parent",I.publicKey],["edition",w.u64]],Edition.fromArgs,"Edition")},297377:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.editionMarkerBeet=r.EditionMarker=void 0;const k=a(n(666808)),w=a(n(958966)),I=a(n(326514)),we=n(233777);class EditionMarker{constructor(e,r){this.key=e,this.ledger=r}static fromArgs(e){return new EditionMarker(e.key,e.ledger)}static fromAccountInfo(e,r=0){return EditionMarker.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){const i=await e.getAccountInfo(r,n);if(null==i)throw new Error(`Unable to find EditionMarker account at ${r}`);return EditionMarker.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new w.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){return I.GpaBuilder.fromStruct(e,r.editionMarkerBeet)}static deserialize(e,n=0){return r.editionMarkerBeet.deserialize(e,n)}serialize(){return r.editionMarkerBeet.serialize(this)}static get byteSize(){return r.editionMarkerBeet.byteSize}static async getMinimumBalanceForRentExemption(e,r){return e.getMinimumBalanceForRentExemption(EditionMarker.byteSize,r)}static hasCorrectByteSize(e,r=0){return e.byteLength-r===EditionMarker.byteSize}pretty(){return{key:"Key."+we.Key[this.key],ledger:this.ledger}}}r.EditionMarker=EditionMarker,r.editionMarkerBeet=new k.BeetStruct([["key",we.keyBeet],["ledger",k.uniformFixedSizeArray(k.u8,31)]],EditionMarker.fromArgs,"EditionMarker")},881929:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.editionMarkerV2Beet=r.EditionMarkerV2=void 0;const k=a(n(666808)),w=a(n(958966)),I=a(n(326514)),we=n(233777);class EditionMarkerV2{constructor(e,r){this.key=e,this.ledger=r}static fromArgs(e){return new EditionMarkerV2(e.key,e.ledger)}static fromAccountInfo(e,r=0){return EditionMarkerV2.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){const i=await e.getAccountInfo(r,n);if(null==i)throw new Error(`Unable to find EditionMarkerV2 account at ${r}`);return EditionMarkerV2.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new w.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){return I.GpaBuilder.fromStruct(e,r.editionMarkerV2Beet)}static deserialize(e,n=0){return r.editionMarkerV2Beet.deserialize(e,n)}serialize(){return r.editionMarkerV2Beet.serialize(this)}static byteSize(e){const n=EditionMarkerV2.fromArgs(e);return r.editionMarkerV2Beet.toFixedFromValue(n).byteSize}static async getMinimumBalanceForRentExemption(e,r,n){return r.getMinimumBalanceForRentExemption(EditionMarkerV2.byteSize(e),n)}pretty(){return{key:"Key."+we.Key[this.key],ledger:this.ledger}}}r.EditionMarkerV2=EditionMarkerV2,r.editionMarkerV2Beet=new k.FixableBeetStruct([["key",we.keyBeet],["ledger",k.bytes]],EditionMarkerV2.fromArgs,"EditionMarkerV2")},65096:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.masterEditionV1Beet=r.MasterEditionV1=void 0;const k=a(n(666808)),w=a(n(958966)),I=a(n(326514)),we=n(233777);class MasterEditionV1{constructor(e,r,n,i,s){this.key=e,this.supply=r,this.maxSupply=n,this.printingMint=i,this.oneTimePrintingAuthorizationMint=s}static fromArgs(e){return new MasterEditionV1(e.key,e.supply,e.maxSupply,e.printingMint,e.oneTimePrintingAuthorizationMint)}static fromAccountInfo(e,r=0){return MasterEditionV1.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){const i=await e.getAccountInfo(r,n);if(null==i)throw new Error(`Unable to find MasterEditionV1 account at ${r}`);return MasterEditionV1.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new w.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){return I.GpaBuilder.fromStruct(e,r.masterEditionV1Beet)}static deserialize(e,n=0){return r.masterEditionV1Beet.deserialize(e,n)}serialize(){return r.masterEditionV1Beet.serialize(this)}static byteSize(e){const n=MasterEditionV1.fromArgs(e);return r.masterEditionV1Beet.toFixedFromValue(n).byteSize}static async getMinimumBalanceForRentExemption(e,r,n){return r.getMinimumBalanceForRentExemption(MasterEditionV1.byteSize(e),n)}pretty(){return{key:"Key."+we.Key[this.key],supply:(()=>{const e=this.supply;if("function"==typeof e.toNumber)try{return e.toNumber()}catch(r){return e}return e})(),maxSupply:this.maxSupply,printingMint:this.printingMint.toBase58(),oneTimePrintingAuthorizationMint:this.oneTimePrintingAuthorizationMint.toBase58()}}}r.MasterEditionV1=MasterEditionV1,r.masterEditionV1Beet=new k.FixableBeetStruct([["key",we.keyBeet],["supply",k.u64],["maxSupply",k.coption(k.u64)],["printingMint",I.publicKey],["oneTimePrintingAuthorizationMint",I.publicKey]],MasterEditionV1.fromArgs,"MasterEditionV1")},318017:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.masterEditionV2Beet=r.MasterEditionV2=void 0;const k=a(n(666808)),w=a(n(958966)),I=a(n(326514)),we=n(233777);class MasterEditionV2{constructor(e,r,n){this.key=e,this.supply=r,this.maxSupply=n}static fromArgs(e){return new MasterEditionV2(e.key,e.supply,e.maxSupply)}static fromAccountInfo(e,r=0){return MasterEditionV2.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){const i=await e.getAccountInfo(r,n);if(null==i)throw new Error(`Unable to find MasterEditionV2 account at ${r}`);return MasterEditionV2.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new w.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){return I.GpaBuilder.fromStruct(e,r.masterEditionV2Beet)}static deserialize(e,n=0){return r.masterEditionV2Beet.deserialize(e,n)}serialize(){return r.masterEditionV2Beet.serialize(this)}static byteSize(e){const n=MasterEditionV2.fromArgs(e);return r.masterEditionV2Beet.toFixedFromValue(n).byteSize}static async getMinimumBalanceForRentExemption(e,r,n){return r.getMinimumBalanceForRentExemption(MasterEditionV2.byteSize(e),n)}pretty(){return{key:"Key."+we.Key[this.key],supply:(()=>{const e=this.supply;if("function"==typeof e.toNumber)try{return e.toNumber()}catch(r){return e}return e})(),maxSupply:this.maxSupply}}}r.MasterEditionV2=MasterEditionV2,r.masterEditionV2Beet=new k.FixableBeetStruct([["key",we.keyBeet],["supply",k.u64],["maxSupply",k.coption(k.u64)]],MasterEditionV2.fromArgs,"MasterEditionV2")},525384:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.metadataBeet=r.Metadata=void 0;const k=a(n(958966)),w=a(n(666808)),I=a(n(326514)),we=n(233777),Ae=n(175972),Be=n(267418),Ce=n(865524),ze=n(865708),qe=n(768004),$e=n(906957),Ye=a(n(606615));class Metadata{constructor(e,r,n,i,s,a,k,w,I,we,Ae,Be){this.key=e,this.updateAuthority=r,this.mint=n,this.data=i,this.primarySaleHappened=s,this.isMutable=a,this.editionNonce=k,this.tokenStandard=w,this.collection=I,this.uses=we,this.collectionDetails=Ae,this.programmableConfig=Be}static fromArgs(e){return new Metadata(e.key,e.updateAuthority,e.mint,e.data,e.primarySaleHappened,e.isMutable,e.editionNonce,e.tokenStandard,e.collection,e.uses,e.collectionDetails,e.programmableConfig)}static fromAccountInfo(e,r=0){return Metadata.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){const i=await e.getAccountInfo(r,n);if(null==i)throw new Error(`Unable to find Metadata account at ${r}`);return Metadata.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new k.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){return I.GpaBuilder.fromStruct(e,r.metadataBeet)}static deserialize(e,r=0){return rt(e,r)}serialize(){return et(this)}static byteSize(e){const n=Metadata.fromArgs(e);return r.metadataBeet.toFixedFromValue(n).byteSize}static async getMinimumBalanceForRentExemption(e,r,n){return r.getMinimumBalanceForRentExemption(Metadata.byteSize(e),n)}pretty(){return{key:"Key."+we.Key[this.key],updateAuthority:this.updateAuthority.toBase58(),mint:this.mint.toBase58(),data:this.data,primarySaleHappened:this.primarySaleHappened,isMutable:this.isMutable,editionNonce:this.editionNonce,tokenStandard:this.tokenStandard,collection:this.collection,uses:this.uses,collectionDetails:this.collectionDetails,programmableConfig:this.programmableConfig}}}r.Metadata=Metadata,r.metadataBeet=new w.FixableBeetStruct([["key",we.keyBeet],["updateAuthority",I.publicKey],["mint",I.publicKey],["data",Ae.dataBeet],["primarySaleHappened",w.bool],["isMutable",w.bool],["editionNonce",w.coption(w.u8)],["tokenStandard",w.coption(Be.tokenStandardBeet)],["collection",w.coption(Ce.collectionBeet)],["uses",w.coption(ze.usesBeet)],["collectionDetails",w.coption(qe.collectionDetailsBeet)],["programmableConfig",w.coption($e.programmableConfigBeet)]],Metadata.fromArgs,"Metadata");const Je=Ye,et="function"==typeof Je.serialize?Je.serialize.bind(Je):r.metadataBeet.serialize.bind(r.metadataBeet),rt="function"==typeof Je.deserialize?Je.deserialize.bind(Je):r.metadataBeet.deserialize.bind(r.metadataBeet)},47482:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.metadataDelegateRecordBeet=r.MetadataDelegateRecord=void 0;const k=a(n(958966)),w=a(n(666808)),I=a(n(326514)),we=n(233777);class MetadataDelegateRecord{constructor(e,r,n,i,s){this.key=e,this.bump=r,this.mint=n,this.delegate=i,this.updateAuthority=s}static fromArgs(e){return new MetadataDelegateRecord(e.key,e.bump,e.mint,e.delegate,e.updateAuthority)}static fromAccountInfo(e,r=0){return MetadataDelegateRecord.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){const i=await e.getAccountInfo(r,n);if(null==i)throw new Error(`Unable to find MetadataDelegateRecord account at ${r}`);return MetadataDelegateRecord.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new k.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){return I.GpaBuilder.fromStruct(e,r.metadataDelegateRecordBeet)}static deserialize(e,n=0){return r.metadataDelegateRecordBeet.deserialize(e,n)}serialize(){return r.metadataDelegateRecordBeet.serialize(this)}static get byteSize(){return r.metadataDelegateRecordBeet.byteSize}static async getMinimumBalanceForRentExemption(e,r){return e.getMinimumBalanceForRentExemption(MetadataDelegateRecord.byteSize,r)}static hasCorrectByteSize(e,r=0){return e.byteLength-r===MetadataDelegateRecord.byteSize}pretty(){return{key:"Key."+we.Key[this.key],bump:this.bump,mint:this.mint.toBase58(),delegate:this.delegate.toBase58(),updateAuthority:this.updateAuthority.toBase58()}}}r.MetadataDelegateRecord=MetadataDelegateRecord,r.metadataDelegateRecordBeet=new w.BeetStruct([["key",we.keyBeet],["bump",w.u8],["mint",I.publicKey],["delegate",I.publicKey],["updateAuthority",I.publicKey]],MetadataDelegateRecord.fromArgs,"MetadataDelegateRecord")},987586:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.reservationListV1Beet=r.ReservationListV1=void 0;const k=a(n(958966)),w=a(n(666808)),I=a(n(326514)),we=n(233777),Ae=n(96033);class ReservationListV1{constructor(e,r,n,i){this.key=e,this.masterEdition=r,this.supplySnapshot=n,this.reservations=i}static fromArgs(e){return new ReservationListV1(e.key,e.masterEdition,e.supplySnapshot,e.reservations)}static fromAccountInfo(e,r=0){return ReservationListV1.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){const i=await e.getAccountInfo(r,n);if(null==i)throw new Error(`Unable to find ReservationListV1 account at ${r}`);return ReservationListV1.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new k.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){return I.GpaBuilder.fromStruct(e,r.reservationListV1Beet)}static deserialize(e,n=0){return r.reservationListV1Beet.deserialize(e,n)}serialize(){return r.reservationListV1Beet.serialize(this)}static byteSize(e){const n=ReservationListV1.fromArgs(e);return r.reservationListV1Beet.toFixedFromValue(n).byteSize}static async getMinimumBalanceForRentExemption(e,r,n){return r.getMinimumBalanceForRentExemption(ReservationListV1.byteSize(e),n)}pretty(){return{key:"Key."+we.Key[this.key],masterEdition:this.masterEdition.toBase58(),supplySnapshot:this.supplySnapshot,reservations:this.reservations}}}r.ReservationListV1=ReservationListV1,r.reservationListV1Beet=new w.FixableBeetStruct([["key",we.keyBeet],["masterEdition",I.publicKey],["supplySnapshot",w.coption(w.u64)],["reservations",w.array(Ae.reservationV1Beet)]],ReservationListV1.fromArgs,"ReservationListV1")},33487:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.reservationListV2Beet=r.ReservationListV2=void 0;const k=a(n(958966)),w=a(n(666808)),I=a(n(326514)),we=n(233777),Ae=n(251356);class ReservationListV2{constructor(e,r,n,i,s,a){this.key=e,this.masterEdition=r,this.supplySnapshot=n,this.reservations=i,this.totalReservationSpots=s,this.currentReservationSpots=a}static fromArgs(e){return new ReservationListV2(e.key,e.masterEdition,e.supplySnapshot,e.reservations,e.totalReservationSpots,e.currentReservationSpots)}static fromAccountInfo(e,r=0){return ReservationListV2.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){const i=await e.getAccountInfo(r,n);if(null==i)throw new Error(`Unable to find ReservationListV2 account at ${r}`);return ReservationListV2.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new k.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){return I.GpaBuilder.fromStruct(e,r.reservationListV2Beet)}static deserialize(e,n=0){return r.reservationListV2Beet.deserialize(e,n)}serialize(){return r.reservationListV2Beet.serialize(this)}static byteSize(e){const n=ReservationListV2.fromArgs(e);return r.reservationListV2Beet.toFixedFromValue(n).byteSize}static async getMinimumBalanceForRentExemption(e,r,n){return r.getMinimumBalanceForRentExemption(ReservationListV2.byteSize(e),n)}pretty(){return{key:"Key."+we.Key[this.key],masterEdition:this.masterEdition.toBase58(),supplySnapshot:this.supplySnapshot,reservations:this.reservations,totalReservationSpots:(()=>{const e=this.totalReservationSpots;if("function"==typeof e.toNumber)try{return e.toNumber()}catch(r){return e}return e})(),currentReservationSpots:(()=>{const e=this.currentReservationSpots;if("function"==typeof e.toNumber)try{return e.toNumber()}catch(r){return e}return e})()}}}r.ReservationListV2=ReservationListV2,r.reservationListV2Beet=new w.FixableBeetStruct([["key",we.keyBeet],["masterEdition",I.publicKey],["supplySnapshot",w.coption(w.u64)],["reservations",w.array(Ae.reservationBeet)],["totalReservationSpots",w.u64],["currentReservationSpots",w.u64]],ReservationListV2.fromArgs,"ReservationListV2")},119844:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.tokenOwnedEscrowBeet=r.TokenOwnedEscrow=void 0;const k=a(n(958966)),w=a(n(326514)),I=a(n(666808)),we=n(233777),Ae=n(482798);class TokenOwnedEscrow{constructor(e,r,n,i){this.key=e,this.baseToken=r,this.authority=n,this.bump=i}static fromArgs(e){return new TokenOwnedEscrow(e.key,e.baseToken,e.authority,e.bump)}static fromAccountInfo(e,r=0){return TokenOwnedEscrow.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){const i=await e.getAccountInfo(r,n);if(null==i)throw new Error(`Unable to find TokenOwnedEscrow account at ${r}`);return TokenOwnedEscrow.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new k.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){return w.GpaBuilder.fromStruct(e,r.tokenOwnedEscrowBeet)}static deserialize(e,n=0){return r.tokenOwnedEscrowBeet.deserialize(e,n)}serialize(){return r.tokenOwnedEscrowBeet.serialize(this)}static byteSize(e){const n=TokenOwnedEscrow.fromArgs(e);return r.tokenOwnedEscrowBeet.toFixedFromValue(n).byteSize}static async getMinimumBalanceForRentExemption(e,r,n){return r.getMinimumBalanceForRentExemption(TokenOwnedEscrow.byteSize(e),n)}pretty(){return{key:"Key."+we.Key[this.key],baseToken:this.baseToken.toBase58(),authority:this.authority.__kind,bump:this.bump}}}r.TokenOwnedEscrow=TokenOwnedEscrow,r.tokenOwnedEscrowBeet=new I.FixableBeetStruct([["key",we.keyBeet],["baseToken",w.publicKey],["authority",Ae.escrowAuthorityBeet],["bump",I.u8]],TokenOwnedEscrow.fromArgs,"TokenOwnedEscrow")},894877:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.tokenRecordBeet=r.TokenRecord=void 0;const k=a(n(666808)),w=a(n(958966)),I=a(n(326514)),we=n(233777),Ae=n(769034),Be=n(364236),Ce=a(n(577875));class TokenRecord{constructor(e,r,n,i,s,a,k){this.key=e,this.bump=r,this.state=n,this.ruleSetRevision=i,this.delegate=s,this.delegateRole=a,this.lockedTransfer=k}static fromArgs(e){return new TokenRecord(e.key,e.bump,e.state,e.ruleSetRevision,e.delegate,e.delegateRole,e.lockedTransfer)}static fromAccountInfo(e,r=0){return TokenRecord.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){const i=await e.getAccountInfo(r,n);if(null==i)throw new Error(`Unable to find TokenRecord account at ${r}`);return TokenRecord.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new w.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){return I.GpaBuilder.fromStruct(e,r.tokenRecordBeet)}static deserialize(e,r=0){return $e(e,r)}serialize(){return qe(this)}static byteSize(e){const n=TokenRecord.fromArgs(e);return r.tokenRecordBeet.toFixedFromValue(n).byteSize}static async getMinimumBalanceForRentExemption(e,r,n){return r.getMinimumBalanceForRentExemption(TokenRecord.byteSize(e),n)}pretty(){return{key:"Key."+we.Key[this.key],bump:this.bump,state:"TokenState."+Ae.TokenState[this.state],ruleSetRevision:this.ruleSetRevision,delegate:this.delegate,delegateRole:this.delegateRole,lockedTransfer:this.lockedTransfer}}}r.TokenRecord=TokenRecord,r.tokenRecordBeet=new k.FixableBeetStruct([["key",we.keyBeet],["bump",k.u8],["state",Ae.tokenStateBeet],["ruleSetRevision",k.coption(k.u64)],["delegate",k.coption(I.publicKey)],["delegateRole",k.coption(Be.tokenDelegateRoleBeet)],["lockedTransfer",k.coption(I.publicKey)]],TokenRecord.fromArgs,"TokenRecord");const ze=Ce,qe="function"==typeof ze.serialize?ze.serialize.bind(ze):r.tokenRecordBeet.serialize.bind(r.tokenRecordBeet),$e="function"==typeof ze.deserialize?ze.deserialize.bind(ze):r.tokenRecordBeet.deserialize.bind(r.tokenRecordBeet)},871868:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.useAuthorityRecordBeet=r.UseAuthorityRecord=void 0;const k=a(n(666808)),w=a(n(958966)),I=a(n(326514)),we=n(233777);class UseAuthorityRecord{constructor(e,r,n){this.key=e,this.allowedUses=r,this.bump=n}static fromArgs(e){return new UseAuthorityRecord(e.key,e.allowedUses,e.bump)}static fromAccountInfo(e,r=0){return UseAuthorityRecord.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){const i=await e.getAccountInfo(r,n);if(null==i)throw new Error(`Unable to find UseAuthorityRecord account at ${r}`);return UseAuthorityRecord.fromAccountInfo(i,0)[0]}static gpaBuilder(e=new w.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){return I.GpaBuilder.fromStruct(e,r.useAuthorityRecordBeet)}static deserialize(e,n=0){return r.useAuthorityRecordBeet.deserialize(e,n)}serialize(){return r.useAuthorityRecordBeet.serialize(this)}static get byteSize(){return r.useAuthorityRecordBeet.byteSize}static async getMinimumBalanceForRentExemption(e,r){return e.getMinimumBalanceForRentExemption(UseAuthorityRecord.byteSize,r)}static hasCorrectByteSize(e,r=0){return e.byteLength-r===UseAuthorityRecord.byteSize}pretty(){return{key:"Key."+we.Key[this.key],allowedUses:(()=>{const e=this.allowedUses;if("function"==typeof e.toNumber)try{return e.toNumber()}catch(r){return e}return e})(),bump:this.bump}}}r.UseAuthorityRecord=UseAuthorityRecord,r.useAuthorityRecordBeet=new k.BeetStruct([["key",we.keyBeet],["allowedUses",k.u64],["bump",k.u8]],UseAuthorityRecord.fromArgs,"UseAuthorityRecord")},625637:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__exportStar||function(e,r){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||i(r,e,n)};Object.defineProperty(r,"__esModule",{value:!0}),r.accountProviders=void 0,s(n(408945),r),s(n(89331),r),s(n(297377),r),s(n(881929),r),s(n(65096),r),s(n(318017),r),s(n(525384),r),s(n(47482),r),s(n(987586),r),s(n(33487),r),s(n(119844),r),s(n(894877),r),s(n(871868),r);const a=n(408945),k=n(47482),w=n(89331),I=n(297377),we=n(881929),Ae=n(119844),Be=n(318017),Ce=n(65096),ze=n(525384),qe=n(894877),$e=n(33487),Ye=n(987586),Je=n(871868);r.accountProviders={CollectionAuthorityRecord:a.CollectionAuthorityRecord,MetadataDelegateRecord:k.MetadataDelegateRecord,Edition:w.Edition,EditionMarker:I.EditionMarker,EditionMarkerV2:we.EditionMarkerV2,TokenOwnedEscrow:Ae.TokenOwnedEscrow,MasterEditionV2:Be.MasterEditionV2,MasterEditionV1:Ce.MasterEditionV1,Metadata:ze.Metadata,TokenRecord:qe.TokenRecord,ReservationListV2:$e.ReservationListV2,ReservationListV1:Ye.ReservationListV1,UseAuthorityRecord:Je.UseAuthorityRecord}},797954:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ReservationAlreadyMadeError=r.ReservationNotSetError=r.ReservationDoesNotExistError=r.ReservationExistsError=r.ShareTotalMustBe100Error=r.NoBalanceInAccountForAuthorizationError=r.OwnerMismatchError=r.PrimarySaleCanOnlyBeFlippedToTrueError=r.InvalidBasisPointsError=r.CreatorNotFoundError=r.NoCreatorsPresentOnMetadataError=r.MustBeOneOfCreatorsError=r.CreatorsMustBeAtleastOneError=r.CreatorsTooLongError=r.DisabledError=r.AuthorizationTokenAccountOwnerMismatchError=r.PrintingMintAuthorizationAccountMismatchError=r.NotEnoughTokensError=r.TokenAccountMintMismatchV2Error=r.TokenAccountMintMismatchError=r.OneTimePrintingAuthMintMismatchError=r.PrintingMintMismatchError=r.DerivedKeyInvalidError=r.TokenAccountOneTimeAuthMintMismatchError=r.TokenBurnFailedError=r.EditionMintDecimalsShouldBeZeroError=r.OneTimePrintingAuthorizationMintDecimalsShouldBeZeroError=r.PrintingMintDecimalsShouldBeZeroError=r.EditionAlreadyMintedError=r.DestinationMintMismatchError=r.MasterRecordMismatchError=r.TokenMintToFailedError=r.MaxEditionsMintedAlreadyError=r.EditionsMustHaveExactlyOneTokenError=r.MintMismatchError=r.UpdateAuthorityMustBeEqualToMetadataAuthorityAndSignerError=r.UriTooLongError=r.SymbolTooLongError=r.NameTooLongError=r.InvalidMintAuthorityError=r.NotMintAuthorityError=r.UpdateAuthorityIsNotSignerError=r.UpdateAuthorityIncorrectError=r.InvalidEditionKeyError=r.InvalidMetadataKeyError=r.UninitializedError=r.AlreadyInitializedError=r.NotRentExemptError=r.InstructionPackErrorError=r.InstructionUnpackErrorError=void 0,r.RevokeCollectionAuthoritySignerIncorrectError=r.InvalidUserError=r.EditionOverrideCannotBeZeroError=r.NotAllowedToChangeSellerFeeBasisPointsError=r.CannotWipeVerifiedCreatorsError=r.CannotRemoveVerifiedCreatorError=r.CannotAdjustVerifiedCreatorError=r.InvalidDelegateError=r.InvalidFreezeAuthorityError=r.InvalidCollectionAuthorityRecordError=r.InvalidUseAuthorityRecordError=r.CollectionAuthorityDoesNotExistError=r.CollectionAuthorityRecordAlreadyExistsError=r.NotEnoughUsesError=r.UnusableError=r.UseAuthorityRecordAlreadyRevokedError=r.UseAuthorityRecordAlreadyExistsError=r.CollectionMustBeAUniqueMasterEditionError=r.InvalidCollectionUpdateAuthorityError=r.CollectionNotFoundError=r.CannotChangeUsesAfterFirstUseError=r.CannotChangeUseMethodAfterFirstUseError=r.InvalidUseMethodError=r.MustBeBurnedError=r.RemovedError=r.CollectionCannotBeVerifiedInThisInstructionError=r.IsMutableCanOnlyBeFlippedToFalseError=r.ReservationArrayShouldBeSizeOneError=r.InvalidEditionIndexError=r.OneTimeAuthMintSupplyMustBeZeroForConversionError=r.PrintingMintSupplyMustBeZeroForConversionError=r.InvalidOwnerError=r.InvalidOperationError=r.TriedToReplaceAnExistingReservationError=r.ReservationNotCompleteError=r.BeyondAlottedAddressSizeError=r.DataTypeMismatchError=r.InvalidTokenProgramError=r.ReservationSpotsRemainingShouldMatchTotalSpotsAtStartError=r.DuplicateCreatorAddressError=r.DataIsImmutableError=r.PrintingWouldBreachMaximumSupplyError=r.IncorrectOwnerError=r.SpotMismatchError=r.CannotUnverifyAnotherCreatorError=r.CannotVerifyAnotherCreatorError=r.AddressNotInReservationError=r.ReservationBreachesMaximumSupplyError=r.NumericalOverflowErrorError=r.BeyondMaxAddressSizeError=void 0,r.MissingSplTokenProgramError=r.MissingTokenAccountError=r.OnlySaleDelegateCanTransferError=r.InvalidSystemWalletError=r.FeatureNotSupportedError=r.MissingArgumentInBuilderError=r.MissingAccountInBuilderError=r.DelegateNotFoundError=r.DelegateAlreadyExistsError=r.InvalidProgrammableConfigError=r.MissingProgrammableConfigError=r.MissingAuthorizationRulesError=r.InvalidAuthorizationRulesError=r.InvalidMintForTokenStandardError=r.InvalidTokenStandardError=r.MintIsNotSignerError=r.EscrowParentHasDelegateError=r.InvalidBubblegumSignerError=r.InvalidCollectionSizeChangeError=r.NoFreezeAuthoritySetError=r.BorshSerializationErrorError=r.InsufficientTokensError=r.MustBeNonFungibleError=r.InvalidSystemProgramError=r.MustBeEscrowAuthorityError=r.InvalidEscrowBumpSeedError=r.MustUnverifyError=r.EditionNumberGreaterThanMaxSupplyError=r.PrintEditionDoesNotMatchMasterEditionError=r.ReservationListDeprecatedError=r.InvalidEditionMarkerError=r.InvalidPrintEditionError=r.InvalidMasterEditionError=r.NotAPrintEditionError=r.AlreadyUnverifiedError=r.AlreadyVerifiedError=r.CollectionMasterEditionAccountInvalidError=r.CannotUpdateVerifiedCollectionError=r.BorshDeserializationErrorError=r.MasterEditionHasPrintsError=r.NotAMasterEditionError=r.MissingEditionAccountError=r.CouldNotDetermineTokenStandardError=r.NotACollectionParentError=r.NotVerifiedMemberOfCollectionError=r.NotAMemberOfCollectionError=r.MissingCollectionMetadataError=r.SizedCollectionError=r.UnsizedCollectionError=r.TokenCloseFailedError=void 0,r.errorFromName=r.errorFromCode=r.InvalidMetadataFlagsError=r.InvalidFeeAccountError=r.MissingDelegateRecordError=r.InvalidInstructionError=r.InvalidCloseAuthorityError=r.InvalidTokenRecordError=r.MissingCollectionMasterEditionError=r.MissingCollectionMintError=r.InsufficientTokenBalanceError=r.InvalidUpdateArgsError=r.InvalidParentAccountsError=r.InvalidInstructionsSysvarError=r.InvalidAssociatedTokenAccountProgramError=r.MissingEditionError=r.CannotBurnWithDelegateError=r.MissingEditionMarkerAccountError=r.MissingMasterEditionTokenAccountError=r.MissingMasterEditionMintAccountError=r.InvalidAmountError=r.CannotUpdateAssetWithDelegateError=r.DataIncrementLimitExceededError=r.InvalidLockedTransferAddressError=r.MissingLockedTransferAddressError=r.InvalidDelegateArgsError=r.AmountMustBeGreaterThanZeroError=r.MissingMasterEditionAccountError=r.MissingPrintSupplyError=r.InvalidDelegateRoleError=r.IncorrectTokenStateError=r.InvalidMasterEditionAccountLengthError=r.MissingTokenOwnerAccountError=r.DataIsEmptyOrZeroedError=r.MintSupplyMustBeZeroError=r.MissingTokenRecordError=r.InvalidAuthorityTypeError=r.MissingDelegateRoleError=r.UnlockedTokenError=r.LockedTokenError=r.KeyMismatchError=r.InstructionNotSupportedError=r.InvalidTransferAuthorityError=r.InvalidDelegateRoleForTransferError=r.MissingAuthorizationRulesProgramError=void 0;const n=new Map,i=new Map;class InstructionUnpackErrorError extends Error{constructor(){super(""),this.code=0,this.name="InstructionUnpackError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,InstructionUnpackErrorError)}}r.InstructionUnpackErrorError=InstructionUnpackErrorError,n.set(0,(()=>new InstructionUnpackErrorError)),i.set("InstructionUnpackError",(()=>new InstructionUnpackErrorError));class InstructionPackErrorError extends Error{constructor(){super(""),this.code=1,this.name="InstructionPackError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,InstructionPackErrorError)}}r.InstructionPackErrorError=InstructionPackErrorError,n.set(1,(()=>new InstructionPackErrorError)),i.set("InstructionPackError",(()=>new InstructionPackErrorError));class NotRentExemptError extends Error{constructor(){super("Lamport balance below rent-exempt threshold"),this.code=2,this.name="NotRentExempt","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,NotRentExemptError)}}r.NotRentExemptError=NotRentExemptError,n.set(2,(()=>new NotRentExemptError)),i.set("NotRentExempt",(()=>new NotRentExemptError));class AlreadyInitializedError extends Error{constructor(){super("Already initialized"),this.code=3,this.name="AlreadyInitialized","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,AlreadyInitializedError)}}r.AlreadyInitializedError=AlreadyInitializedError,n.set(3,(()=>new AlreadyInitializedError)),i.set("AlreadyInitialized",(()=>new AlreadyInitializedError));class UninitializedError extends Error{constructor(){super("Uninitialized"),this.code=4,this.name="Uninitialized","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,UninitializedError)}}r.UninitializedError=UninitializedError,n.set(4,(()=>new UninitializedError)),i.set("Uninitialized",(()=>new UninitializedError));class InvalidMetadataKeyError extends Error{constructor(){super(" Metadata's key must match seed of ['metadata', program id, mint] provided"),this.code=5,this.name="InvalidMetadataKey","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,InvalidMetadataKeyError)}}r.InvalidMetadataKeyError=InvalidMetadataKeyError,n.set(5,(()=>new InvalidMetadataKeyError)),i.set("InvalidMetadataKey",(()=>new InvalidMetadataKeyError));class InvalidEditionKeyError extends Error{constructor(){super("Edition's key must match seed of ['metadata', program id, name, 'edition'] provided"),this.code=6,this.name="InvalidEditionKey","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,InvalidEditionKeyError)}}r.InvalidEditionKeyError=InvalidEditionKeyError,n.set(6,(()=>new InvalidEditionKeyError)),i.set("InvalidEditionKey",(()=>new InvalidEditionKeyError));class UpdateAuthorityIncorrectError extends Error{constructor(){super("Update Authority given does not match"),this.code=7,this.name="UpdateAuthorityIncorrect","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,UpdateAuthorityIncorrectError)}}r.UpdateAuthorityIncorrectError=UpdateAuthorityIncorrectError,n.set(7,(()=>new UpdateAuthorityIncorrectError)),i.set("UpdateAuthorityIncorrect",(()=>new UpdateAuthorityIncorrectError));class UpdateAuthorityIsNotSignerError extends Error{constructor(){super("Update Authority needs to be signer to update metadata"),this.code=8,this.name="UpdateAuthorityIsNotSigner","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,UpdateAuthorityIsNotSignerError)}}r.UpdateAuthorityIsNotSignerError=UpdateAuthorityIsNotSignerError,n.set(8,(()=>new UpdateAuthorityIsNotSignerError)),i.set("UpdateAuthorityIsNotSigner",(()=>new UpdateAuthorityIsNotSignerError));class NotMintAuthorityError extends Error{constructor(){super("You must be the mint authority and signer on this transaction"),this.code=9,this.name="NotMintAuthority","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,NotMintAuthorityError)}}r.NotMintAuthorityError=NotMintAuthorityError,n.set(9,(()=>new NotMintAuthorityError)),i.set("NotMintAuthority",(()=>new NotMintAuthorityError));class InvalidMintAuthorityError extends Error{constructor(){super("Mint authority provided does not match the authority on the mint"),this.code=10,this.name="InvalidMintAuthority","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,InvalidMintAuthorityError)}}r.InvalidMintAuthorityError=InvalidMintAuthorityError,n.set(10,(()=>new InvalidMintAuthorityError)),i.set("InvalidMintAuthority",(()=>new InvalidMintAuthorityError));class NameTooLongError extends Error{constructor(){super("Name too long"),this.code=11,this.name="NameTooLong","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,NameTooLongError)}}r.NameTooLongError=NameTooLongError,n.set(11,(()=>new NameTooLongError)),i.set("NameTooLong",(()=>new NameTooLongError));class SymbolTooLongError extends Error{constructor(){super("Symbol too long"),this.code=12,this.name="SymbolTooLong","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,SymbolTooLongError)}}r.SymbolTooLongError=SymbolTooLongError,n.set(12,(()=>new SymbolTooLongError)),i.set("SymbolTooLong",(()=>new SymbolTooLongError));class UriTooLongError extends Error{constructor(){super("URI too long"),this.code=13,this.name="UriTooLong","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,UriTooLongError)}}r.UriTooLongError=UriTooLongError,n.set(13,(()=>new UriTooLongError)),i.set("UriTooLong",(()=>new UriTooLongError));class UpdateAuthorityMustBeEqualToMetadataAuthorityAndSignerError extends Error{constructor(){super(""),this.code=14,this.name="UpdateAuthorityMustBeEqualToMetadataAuthorityAndSigner","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,UpdateAuthorityMustBeEqualToMetadataAuthorityAndSignerError)}}r.UpdateAuthorityMustBeEqualToMetadataAuthorityAndSignerError=UpdateAuthorityMustBeEqualToMetadataAuthorityAndSignerError,n.set(14,(()=>new UpdateAuthorityMustBeEqualToMetadataAuthorityAndSignerError)),i.set("UpdateAuthorityMustBeEqualToMetadataAuthorityAndSigner",(()=>new UpdateAuthorityMustBeEqualToMetadataAuthorityAndSignerError));class MintMismatchError extends Error{constructor(){super("Mint given does not match mint on Metadata"),this.code=15,this.name="MintMismatch","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,MintMismatchError)}}r.MintMismatchError=MintMismatchError,n.set(15,(()=>new MintMismatchError)),i.set("MintMismatch",(()=>new MintMismatchError));class EditionsMustHaveExactlyOneTokenError extends Error{constructor(){super("Editions must have exactly one token"),this.code=16,this.name="EditionsMustHaveExactlyOneToken","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,EditionsMustHaveExactlyOneTokenError)}}r.EditionsMustHaveExactlyOneTokenError=EditionsMustHaveExactlyOneTokenError,n.set(16,(()=>new EditionsMustHaveExactlyOneTokenError)),i.set("EditionsMustHaveExactlyOneToken",(()=>new EditionsMustHaveExactlyOneTokenError));class MaxEditionsMintedAlreadyError extends Error{constructor(){super(""),this.code=17,this.name="MaxEditionsMintedAlready","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,MaxEditionsMintedAlreadyError)}}r.MaxEditionsMintedAlreadyError=MaxEditionsMintedAlreadyError,n.set(17,(()=>new MaxEditionsMintedAlreadyError)),i.set("MaxEditionsMintedAlready",(()=>new MaxEditionsMintedAlreadyError));class TokenMintToFailedError extends Error{constructor(){super(""),this.code=18,this.name="TokenMintToFailed","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,TokenMintToFailedError)}}r.TokenMintToFailedError=TokenMintToFailedError,n.set(18,(()=>new TokenMintToFailedError)),i.set("TokenMintToFailed",(()=>new TokenMintToFailedError));class MasterRecordMismatchError extends Error{constructor(){super(""),this.code=19,this.name="MasterRecordMismatch","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,MasterRecordMismatchError)}}r.MasterRecordMismatchError=MasterRecordMismatchError,n.set(19,(()=>new MasterRecordMismatchError)),i.set("MasterRecordMismatch",(()=>new MasterRecordMismatchError));class DestinationMintMismatchError extends Error{constructor(){super(""),this.code=20,this.name="DestinationMintMismatch","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,DestinationMintMismatchError)}}r.DestinationMintMismatchError=DestinationMintMismatchError,n.set(20,(()=>new DestinationMintMismatchError)),i.set("DestinationMintMismatch",(()=>new DestinationMintMismatchError));class EditionAlreadyMintedError extends Error{constructor(){super(""),this.code=21,this.name="EditionAlreadyMinted","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,EditionAlreadyMintedError)}}r.EditionAlreadyMintedError=EditionAlreadyMintedError,n.set(21,(()=>new EditionAlreadyMintedError)),i.set("EditionAlreadyMinted",(()=>new EditionAlreadyMintedError));class PrintingMintDecimalsShouldBeZeroError extends Error{constructor(){super(""),this.code=22,this.name="PrintingMintDecimalsShouldBeZero","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,PrintingMintDecimalsShouldBeZeroError)}}r.PrintingMintDecimalsShouldBeZeroError=PrintingMintDecimalsShouldBeZeroError,n.set(22,(()=>new PrintingMintDecimalsShouldBeZeroError)),i.set("PrintingMintDecimalsShouldBeZero",(()=>new PrintingMintDecimalsShouldBeZeroError));class OneTimePrintingAuthorizationMintDecimalsShouldBeZeroError extends Error{constructor(){super(""),this.code=23,this.name="OneTimePrintingAuthorizationMintDecimalsShouldBeZero","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,OneTimePrintingAuthorizationMintDecimalsShouldBeZeroError)}}r.OneTimePrintingAuthorizationMintDecimalsShouldBeZeroError=OneTimePrintingAuthorizationMintDecimalsShouldBeZeroError,n.set(23,(()=>new OneTimePrintingAuthorizationMintDecimalsShouldBeZeroError)),i.set("OneTimePrintingAuthorizationMintDecimalsShouldBeZero",(()=>new OneTimePrintingAuthorizationMintDecimalsShouldBeZeroError));class EditionMintDecimalsShouldBeZeroError extends Error{constructor(){super("EditionMintDecimalsShouldBeZero"),this.code=24,this.name="EditionMintDecimalsShouldBeZero","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,EditionMintDecimalsShouldBeZeroError)}}r.EditionMintDecimalsShouldBeZeroError=EditionMintDecimalsShouldBeZeroError,n.set(24,(()=>new EditionMintDecimalsShouldBeZeroError)),i.set("EditionMintDecimalsShouldBeZero",(()=>new EditionMintDecimalsShouldBeZeroError));class TokenBurnFailedError extends Error{constructor(){super(""),this.code=25,this.name="TokenBurnFailed","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,TokenBurnFailedError)}}r.TokenBurnFailedError=TokenBurnFailedError,n.set(25,(()=>new TokenBurnFailedError)),i.set("TokenBurnFailed",(()=>new TokenBurnFailedError));class TokenAccountOneTimeAuthMintMismatchError extends Error{constructor(){super(""),this.code=26,this.name="TokenAccountOneTimeAuthMintMismatch","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,TokenAccountOneTimeAuthMintMismatchError)}}r.TokenAccountOneTimeAuthMintMismatchError=TokenAccountOneTimeAuthMintMismatchError,n.set(26,(()=>new TokenAccountOneTimeAuthMintMismatchError)),i.set("TokenAccountOneTimeAuthMintMismatch",(()=>new TokenAccountOneTimeAuthMintMismatchError));class DerivedKeyInvalidError extends Error{constructor(){super("Derived key invalid"),this.code=27,this.name="DerivedKeyInvalid","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,DerivedKeyInvalidError)}}r.DerivedKeyInvalidError=DerivedKeyInvalidError,n.set(27,(()=>new DerivedKeyInvalidError)),i.set("DerivedKeyInvalid",(()=>new DerivedKeyInvalidError));class PrintingMintMismatchError extends Error{constructor(){super("The Printing mint does not match that on the master edition!"),this.code=28,this.name="PrintingMintMismatch","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,PrintingMintMismatchError)}}r.PrintingMintMismatchError=PrintingMintMismatchError,n.set(28,(()=>new PrintingMintMismatchError)),i.set("PrintingMintMismatch",(()=>new PrintingMintMismatchError));class OneTimePrintingAuthMintMismatchError extends Error{constructor(){super("The One Time Printing Auth mint does not match that on the master edition!"),this.code=29,this.name="OneTimePrintingAuthMintMismatch","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,OneTimePrintingAuthMintMismatchError)}}r.OneTimePrintingAuthMintMismatchError=OneTimePrintingAuthMintMismatchError,n.set(29,(()=>new OneTimePrintingAuthMintMismatchError)),i.set("OneTimePrintingAuthMintMismatch",(()=>new OneTimePrintingAuthMintMismatchError));class TokenAccountMintMismatchError extends Error{constructor(){super("The mint of the token account does not match the Printing mint!"),this.code=30,this.name="TokenAccountMintMismatch","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,TokenAccountMintMismatchError)}}r.TokenAccountMintMismatchError=TokenAccountMintMismatchError,n.set(30,(()=>new TokenAccountMintMismatchError)),i.set("TokenAccountMintMismatch",(()=>new TokenAccountMintMismatchError));class TokenAccountMintMismatchV2Error extends Error{constructor(){super("The mint of the token account does not match the master metadata mint!"),this.code=31,this.name="TokenAccountMintMismatchV2","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,TokenAccountMintMismatchV2Error)}}r.TokenAccountMintMismatchV2Error=TokenAccountMintMismatchV2Error,n.set(31,(()=>new TokenAccountMintMismatchV2Error)),i.set("TokenAccountMintMismatchV2",(()=>new TokenAccountMintMismatchV2Error));class NotEnoughTokensError extends Error{constructor(){super("Not enough tokens to mint a limited edition"),this.code=32,this.name="NotEnoughTokens","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,NotEnoughTokensError)}}r.NotEnoughTokensError=NotEnoughTokensError,n.set(32,(()=>new NotEnoughTokensError)),i.set("NotEnoughTokens",(()=>new NotEnoughTokensError));class PrintingMintAuthorizationAccountMismatchError extends Error{constructor(){super(""),this.code=33,this.name="PrintingMintAuthorizationAccountMismatch","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,PrintingMintAuthorizationAccountMismatchError)}}r.PrintingMintAuthorizationAccountMismatchError=PrintingMintAuthorizationAccountMismatchError,n.set(33,(()=>new PrintingMintAuthorizationAccountMismatchError)),i.set("PrintingMintAuthorizationAccountMismatch",(()=>new PrintingMintAuthorizationAccountMismatchError));class AuthorizationTokenAccountOwnerMismatchError extends Error{constructor(){super(""),this.code=34,this.name="AuthorizationTokenAccountOwnerMismatch","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,AuthorizationTokenAccountOwnerMismatchError)}}r.AuthorizationTokenAccountOwnerMismatchError=AuthorizationTokenAccountOwnerMismatchError,n.set(34,(()=>new AuthorizationTokenAccountOwnerMismatchError)),i.set("AuthorizationTokenAccountOwnerMismatch",(()=>new AuthorizationTokenAccountOwnerMismatchError));class DisabledError extends Error{constructor(){super(""),this.code=35,this.name="Disabled","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,DisabledError)}}r.DisabledError=DisabledError,n.set(35,(()=>new DisabledError)),i.set("Disabled",(()=>new DisabledError));class CreatorsTooLongError extends Error{constructor(){super("Creators list too long"),this.code=36,this.name="CreatorsTooLong","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,CreatorsTooLongError)}}r.CreatorsTooLongError=CreatorsTooLongError,n.set(36,(()=>new CreatorsTooLongError)),i.set("CreatorsTooLong",(()=>new CreatorsTooLongError));class CreatorsMustBeAtleastOneError extends Error{constructor(){super("Creators must be at least one if set"),this.code=37,this.name="CreatorsMustBeAtleastOne","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,CreatorsMustBeAtleastOneError)}}r.CreatorsMustBeAtleastOneError=CreatorsMustBeAtleastOneError,n.set(37,(()=>new CreatorsMustBeAtleastOneError)),i.set("CreatorsMustBeAtleastOne",(()=>new CreatorsMustBeAtleastOneError));class MustBeOneOfCreatorsError extends Error{constructor(){super(""),this.code=38,this.name="MustBeOneOfCreators","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,MustBeOneOfCreatorsError)}}r.MustBeOneOfCreatorsError=MustBeOneOfCreatorsError,n.set(38,(()=>new MustBeOneOfCreatorsError)),i.set("MustBeOneOfCreators",(()=>new MustBeOneOfCreatorsError));class NoCreatorsPresentOnMetadataError extends Error{constructor(){super("This metadata does not have creators"),this.code=39,this.name="NoCreatorsPresentOnMetadata","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,NoCreatorsPresentOnMetadataError)}}r.NoCreatorsPresentOnMetadataError=NoCreatorsPresentOnMetadataError,n.set(39,(()=>new NoCreatorsPresentOnMetadataError)),i.set("NoCreatorsPresentOnMetadata",(()=>new NoCreatorsPresentOnMetadataError));class CreatorNotFoundError extends Error{constructor(){super("This creator address was not found"),this.code=40,this.name="CreatorNotFound","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,CreatorNotFoundError)}}r.CreatorNotFoundError=CreatorNotFoundError,n.set(40,(()=>new CreatorNotFoundError)),i.set("CreatorNotFound",(()=>new CreatorNotFoundError));class InvalidBasisPointsError extends Error{constructor(){super("Basis points cannot be more than 10000"),this.code=41,this.name="InvalidBasisPoints","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,InvalidBasisPointsError)}}r.InvalidBasisPointsError=InvalidBasisPointsError,n.set(41,(()=>new InvalidBasisPointsError)),i.set("InvalidBasisPoints",(()=>new InvalidBasisPointsError));class PrimarySaleCanOnlyBeFlippedToTrueError extends Error{constructor(){super("Primary sale can only be flipped to true and is immutable"),this.code=42,this.name="PrimarySaleCanOnlyBeFlippedToTrue","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,PrimarySaleCanOnlyBeFlippedToTrueError)}}r.PrimarySaleCanOnlyBeFlippedToTrueError=PrimarySaleCanOnlyBeFlippedToTrueError,n.set(42,(()=>new PrimarySaleCanOnlyBeFlippedToTrueError)),i.set("PrimarySaleCanOnlyBeFlippedToTrue",(()=>new PrimarySaleCanOnlyBeFlippedToTrueError));class OwnerMismatchError extends Error{constructor(){super("Owner does not match that on the account given"),this.code=43,this.name="OwnerMismatch","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,OwnerMismatchError)}}r.OwnerMismatchError=OwnerMismatchError,n.set(43,(()=>new OwnerMismatchError)),i.set("OwnerMismatch",(()=>new OwnerMismatchError));class NoBalanceInAccountForAuthorizationError extends Error{constructor(){super("This account has no tokens to be used for authorization"),this.code=44,this.name="NoBalanceInAccountForAuthorization","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,NoBalanceInAccountForAuthorizationError)}}r.NoBalanceInAccountForAuthorizationError=NoBalanceInAccountForAuthorizationError,n.set(44,(()=>new NoBalanceInAccountForAuthorizationError)),i.set("NoBalanceInAccountForAuthorization",(()=>new NoBalanceInAccountForAuthorizationError));class ShareTotalMustBe100Error extends Error{constructor(){super("Share total must equal 100 for creator array"),this.code=45,this.name="ShareTotalMustBe100","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,ShareTotalMustBe100Error)}}r.ShareTotalMustBe100Error=ShareTotalMustBe100Error,n.set(45,(()=>new ShareTotalMustBe100Error)),i.set("ShareTotalMustBe100",(()=>new ShareTotalMustBe100Error));class ReservationExistsError extends Error{constructor(){super(""),this.code=46,this.name="ReservationExists","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,ReservationExistsError)}}r.ReservationExistsError=ReservationExistsError,n.set(46,(()=>new ReservationExistsError)),i.set("ReservationExists",(()=>new ReservationExistsError));class ReservationDoesNotExistError extends Error{constructor(){super(""),this.code=47,this.name="ReservationDoesNotExist","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,ReservationDoesNotExistError)}}r.ReservationDoesNotExistError=ReservationDoesNotExistError,n.set(47,(()=>new ReservationDoesNotExistError)),i.set("ReservationDoesNotExist",(()=>new ReservationDoesNotExistError));class ReservationNotSetError extends Error{constructor(){super(""),this.code=48,this.name="ReservationNotSet","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,ReservationNotSetError)}}r.ReservationNotSetError=ReservationNotSetError,n.set(48,(()=>new ReservationNotSetError)),i.set("ReservationNotSet",(()=>new ReservationNotSetError));class ReservationAlreadyMadeError extends Error{constructor(){super(""),this.code=49,this.name="ReservationAlreadyMade","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,ReservationAlreadyMadeError)}}r.ReservationAlreadyMadeError=ReservationAlreadyMadeError,n.set(49,(()=>new ReservationAlreadyMadeError)),i.set("ReservationAlreadyMade",(()=>new ReservationAlreadyMadeError));class BeyondMaxAddressSizeError extends Error{constructor(){super(""),this.code=50,this.name="BeyondMaxAddressSize","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,BeyondMaxAddressSizeError)}}r.BeyondMaxAddressSizeError=BeyondMaxAddressSizeError,n.set(50,(()=>new BeyondMaxAddressSizeError)),i.set("BeyondMaxAddressSize",(()=>new BeyondMaxAddressSizeError));class NumericalOverflowErrorError extends Error{constructor(){super("NumericalOverflowError"),this.code=51,this.name="NumericalOverflowError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,NumericalOverflowErrorError)}}r.NumericalOverflowErrorError=NumericalOverflowErrorError,n.set(51,(()=>new NumericalOverflowErrorError)),i.set("NumericalOverflowError",(()=>new NumericalOverflowErrorError));class ReservationBreachesMaximumSupplyError extends Error{constructor(){super(""),this.code=52,this.name="ReservationBreachesMaximumSupply","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,ReservationBreachesMaximumSupplyError)}}r.ReservationBreachesMaximumSupplyError=ReservationBreachesMaximumSupplyError,n.set(52,(()=>new ReservationBreachesMaximumSupplyError)),i.set("ReservationBreachesMaximumSupply",(()=>new ReservationBreachesMaximumSupplyError));class AddressNotInReservationError extends Error{constructor(){super(""),this.code=53,this.name="AddressNotInReservation","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,AddressNotInReservationError)}}r.AddressNotInReservationError=AddressNotInReservationError,n.set(53,(()=>new AddressNotInReservationError)),i.set("AddressNotInReservation",(()=>new AddressNotInReservationError));class CannotVerifyAnotherCreatorError extends Error{constructor(){super("You cannot unilaterally verify another creator, they must sign"),this.code=54,this.name="CannotVerifyAnotherCreator","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,CannotVerifyAnotherCreatorError)}}r.CannotVerifyAnotherCreatorError=CannotVerifyAnotherCreatorError,n.set(54,(()=>new CannotVerifyAnotherCreatorError)),i.set("CannotVerifyAnotherCreator",(()=>new CannotVerifyAnotherCreatorError));class CannotUnverifyAnotherCreatorError extends Error{constructor(){super("You cannot unilaterally unverify another creator"),this.code=55,this.name="CannotUnverifyAnotherCreator","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,CannotUnverifyAnotherCreatorError)}}r.CannotUnverifyAnotherCreatorError=CannotUnverifyAnotherCreatorError,n.set(55,(()=>new CannotUnverifyAnotherCreatorError)),i.set("CannotUnverifyAnotherCreator",(()=>new CannotUnverifyAnotherCreatorError));class SpotMismatchError extends Error{constructor(){super(""),this.code=56,this.name="SpotMismatch","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,SpotMismatchError)}}r.SpotMismatchError=SpotMismatchError,n.set(56,(()=>new SpotMismatchError)),i.set("SpotMismatch",(()=>new SpotMismatchError));class IncorrectOwnerError extends Error{constructor(){super("Incorrect account owner"),this.code=57,this.name="IncorrectOwner","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,IncorrectOwnerError)}}r.IncorrectOwnerError=IncorrectOwnerError,n.set(57,(()=>new IncorrectOwnerError)),i.set("IncorrectOwner",(()=>new IncorrectOwnerError));class PrintingWouldBreachMaximumSupplyError extends Error{constructor(){super(""),this.code=58,this.name="PrintingWouldBreachMaximumSupply","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,PrintingWouldBreachMaximumSupplyError)}}r.PrintingWouldBreachMaximumSupplyError=PrintingWouldBreachMaximumSupplyError,n.set(58,(()=>new PrintingWouldBreachMaximumSupplyError)),i.set("PrintingWouldBreachMaximumSupply",(()=>new PrintingWouldBreachMaximumSupplyError));class DataIsImmutableError extends Error{constructor(){super("Data is immutable"),this.code=59,this.name="DataIsImmutable","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,DataIsImmutableError)}}r.DataIsImmutableError=DataIsImmutableError,n.set(59,(()=>new DataIsImmutableError)),i.set("DataIsImmutable",(()=>new DataIsImmutableError));class DuplicateCreatorAddressError extends Error{constructor(){super("No duplicate creator addresses"),this.code=60,this.name="DuplicateCreatorAddress","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,DuplicateCreatorAddressError)}}r.DuplicateCreatorAddressError=DuplicateCreatorAddressError,n.set(60,(()=>new DuplicateCreatorAddressError)),i.set("DuplicateCreatorAddress",(()=>new DuplicateCreatorAddressError));class ReservationSpotsRemainingShouldMatchTotalSpotsAtStartError extends Error{constructor(){super(""),this.code=61,this.name="ReservationSpotsRemainingShouldMatchTotalSpotsAtStart","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,ReservationSpotsRemainingShouldMatchTotalSpotsAtStartError)}}r.ReservationSpotsRemainingShouldMatchTotalSpotsAtStartError=ReservationSpotsRemainingShouldMatchTotalSpotsAtStartError,n.set(61,(()=>new ReservationSpotsRemainingShouldMatchTotalSpotsAtStartError)),i.set("ReservationSpotsRemainingShouldMatchTotalSpotsAtStart",(()=>new ReservationSpotsRemainingShouldMatchTotalSpotsAtStartError));class InvalidTokenProgramError extends Error{constructor(){super("Invalid token program"),this.code=62,this.name="InvalidTokenProgram","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,InvalidTokenProgramError)}}r.InvalidTokenProgramError=InvalidTokenProgramError,n.set(62,(()=>new InvalidTokenProgramError)),i.set("InvalidTokenProgram",(()=>new InvalidTokenProgramError));class DataTypeMismatchError extends Error{constructor(){super("Data type mismatch"),this.code=63,this.name="DataTypeMismatch","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,DataTypeMismatchError)}}r.DataTypeMismatchError=DataTypeMismatchError,n.set(63,(()=>new DataTypeMismatchError)),i.set("DataTypeMismatch",(()=>new DataTypeMismatchError));class BeyondAlottedAddressSizeError extends Error{constructor(){super(""),this.code=64,this.name="BeyondAlottedAddressSize","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,BeyondAlottedAddressSizeError)}}r.BeyondAlottedAddressSizeError=BeyondAlottedAddressSizeError,n.set(64,(()=>new BeyondAlottedAddressSizeError)),i.set("BeyondAlottedAddressSize",(()=>new BeyondAlottedAddressSizeError));class ReservationNotCompleteError extends Error{constructor(){super(""),this.code=65,this.name="ReservationNotComplete","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,ReservationNotCompleteError)}}r.ReservationNotCompleteError=ReservationNotCompleteError,n.set(65,(()=>new ReservationNotCompleteError)),i.set("ReservationNotComplete",(()=>new ReservationNotCompleteError));class TriedToReplaceAnExistingReservationError extends Error{constructor(){super(""),this.code=66,this.name="TriedToReplaceAnExistingReservation","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,TriedToReplaceAnExistingReservationError)}}r.TriedToReplaceAnExistingReservationError=TriedToReplaceAnExistingReservationError,n.set(66,(()=>new TriedToReplaceAnExistingReservationError)),i.set("TriedToReplaceAnExistingReservation",(()=>new TriedToReplaceAnExistingReservationError));class InvalidOperationError extends Error{constructor(){super("Invalid operation"),this.code=67,this.name="InvalidOperation","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,InvalidOperationError)}}r.InvalidOperationError=InvalidOperationError,n.set(67,(()=>new InvalidOperationError)),i.set("InvalidOperation",(()=>new InvalidOperationError));class InvalidOwnerError extends Error{constructor(){super("Invalid Owner"),this.code=68,this.name="InvalidOwner","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,InvalidOwnerError)}}r.InvalidOwnerError=InvalidOwnerError,n.set(68,(()=>new InvalidOwnerError)),i.set("InvalidOwner",(()=>new InvalidOwnerError));class PrintingMintSupplyMustBeZeroForConversionError extends Error{constructor(){super("Printing mint supply must be zero for conversion"),this.code=69,this.name="PrintingMintSupplyMustBeZeroForConversion","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,PrintingMintSupplyMustBeZeroForConversionError)}}r.PrintingMintSupplyMustBeZeroForConversionError=PrintingMintSupplyMustBeZeroForConversionError,n.set(69,(()=>new PrintingMintSupplyMustBeZeroForConversionError)),i.set("PrintingMintSupplyMustBeZeroForConversion",(()=>new PrintingMintSupplyMustBeZeroForConversionError));class OneTimeAuthMintSupplyMustBeZeroForConversionError extends Error{constructor(){super("One Time Auth mint supply must be zero for conversion"),this.code=70,this.name="OneTimeAuthMintSupplyMustBeZeroForConversion","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,OneTimeAuthMintSupplyMustBeZeroForConversionError)}}r.OneTimeAuthMintSupplyMustBeZeroForConversionError=OneTimeAuthMintSupplyMustBeZeroForConversionError,n.set(70,(()=>new OneTimeAuthMintSupplyMustBeZeroForConversionError)),i.set("OneTimeAuthMintSupplyMustBeZeroForConversion",(()=>new OneTimeAuthMintSupplyMustBeZeroForConversionError));class InvalidEditionIndexError extends Error{constructor(){super("You tried to insert one edition too many into an edition mark pda"),this.code=71,this.name="InvalidEditionIndex","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,InvalidEditionIndexError)}}r.InvalidEditionIndexError=InvalidEditionIndexError,n.set(71,(()=>new InvalidEditionIndexError)),i.set("InvalidEditionIndex",(()=>new InvalidEditionIndexError));class ReservationArrayShouldBeSizeOneError extends Error{constructor(){super(""),this.code=72,this.name="ReservationArrayShouldBeSizeOne","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,ReservationArrayShouldBeSizeOneError)}}r.ReservationArrayShouldBeSizeOneError=ReservationArrayShouldBeSizeOneError,n.set(72,(()=>new ReservationArrayShouldBeSizeOneError)),i.set("ReservationArrayShouldBeSizeOne",(()=>new ReservationArrayShouldBeSizeOneError));class IsMutableCanOnlyBeFlippedToFalseError extends Error{constructor(){super("Is Mutable can only be flipped to false"),this.code=73,this.name="IsMutableCanOnlyBeFlippedToFalse","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,IsMutableCanOnlyBeFlippedToFalseError)}}r.IsMutableCanOnlyBeFlippedToFalseError=IsMutableCanOnlyBeFlippedToFalseError,n.set(73,(()=>new IsMutableCanOnlyBeFlippedToFalseError)),i.set("IsMutableCanOnlyBeFlippedToFalse",(()=>new IsMutableCanOnlyBeFlippedToFalseError));class CollectionCannotBeVerifiedInThisInstructionError extends Error{constructor(){super("Collection cannot be verified in this instruction"),this.code=74,this.name="CollectionCannotBeVerifiedInThisInstruction","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,CollectionCannotBeVerifiedInThisInstructionError)}}r.CollectionCannotBeVerifiedInThisInstructionError=CollectionCannotBeVerifiedInThisInstructionError,n.set(74,(()=>new CollectionCannotBeVerifiedInThisInstructionError)),i.set("CollectionCannotBeVerifiedInThisInstruction",(()=>new CollectionCannotBeVerifiedInThisInstructionError));class RemovedError extends Error{constructor(){super("This instruction was deprecated in a previous release and is now removed"),this.code=75,this.name="Removed","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,RemovedError)}}r.RemovedError=RemovedError,n.set(75,(()=>new RemovedError)),i.set("Removed",(()=>new RemovedError));class MustBeBurnedError extends Error{constructor(){super(""),this.code=76,this.name="MustBeBurned","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,MustBeBurnedError)}}r.MustBeBurnedError=MustBeBurnedError,n.set(76,(()=>new MustBeBurnedError)),i.set("MustBeBurned",(()=>new MustBeBurnedError));class InvalidUseMethodError extends Error{constructor(){super("This use method is invalid"),this.code=77,this.name="InvalidUseMethod","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,InvalidUseMethodError)}}r.InvalidUseMethodError=InvalidUseMethodError,n.set(77,(()=>new InvalidUseMethodError)),i.set("InvalidUseMethod",(()=>new InvalidUseMethodError));class CannotChangeUseMethodAfterFirstUseError extends Error{constructor(){super("Cannot Change Use Method after the first use"),this.code=78,this.name="CannotChangeUseMethodAfterFirstUse","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,CannotChangeUseMethodAfterFirstUseError)}}r.CannotChangeUseMethodAfterFirstUseError=CannotChangeUseMethodAfterFirstUseError,n.set(78,(()=>new CannotChangeUseMethodAfterFirstUseError)),i.set("CannotChangeUseMethodAfterFirstUse",(()=>new CannotChangeUseMethodAfterFirstUseError));class CannotChangeUsesAfterFirstUseError extends Error{constructor(){super("Cannot Change Remaining or Available uses after the first use"),this.code=79,this.name="CannotChangeUsesAfterFirstUse","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,CannotChangeUsesAfterFirstUseError)}}r.CannotChangeUsesAfterFirstUseError=CannotChangeUsesAfterFirstUseError,n.set(79,(()=>new CannotChangeUsesAfterFirstUseError)),i.set("CannotChangeUsesAfterFirstUse",(()=>new CannotChangeUsesAfterFirstUseError));class CollectionNotFoundError extends Error{constructor(){super("Collection Not Found on Metadata"),this.code=80,this.name="CollectionNotFound","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,CollectionNotFoundError)}}r.CollectionNotFoundError=CollectionNotFoundError,n.set(80,(()=>new CollectionNotFoundError)),i.set("CollectionNotFound",(()=>new CollectionNotFoundError));class InvalidCollectionUpdateAuthorityError extends Error{constructor(){super("Collection Update Authority is invalid"),this.code=81,this.name="InvalidCollectionUpdateAuthority","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,InvalidCollectionUpdateAuthorityError)}}r.InvalidCollectionUpdateAuthorityError=InvalidCollectionUpdateAuthorityError,n.set(81,(()=>new InvalidCollectionUpdateAuthorityError)),i.set("InvalidCollectionUpdateAuthority",(()=>new InvalidCollectionUpdateAuthorityError));class CollectionMustBeAUniqueMasterEditionError extends Error{constructor(){super("Collection Must Be a Unique Master Edition v2"),this.code=82,this.name="CollectionMustBeAUniqueMasterEdition","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,CollectionMustBeAUniqueMasterEditionError)}}r.CollectionMustBeAUniqueMasterEditionError=CollectionMustBeAUniqueMasterEditionError,n.set(82,(()=>new CollectionMustBeAUniqueMasterEditionError)),i.set("CollectionMustBeAUniqueMasterEdition",(()=>new CollectionMustBeAUniqueMasterEditionError));class UseAuthorityRecordAlreadyExistsError extends Error{constructor(){super("The Use Authority Record Already Exists, to modify it Revoke, then Approve"),this.code=83,this.name="UseAuthorityRecordAlreadyExists","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,UseAuthorityRecordAlreadyExistsError)}}r.UseAuthorityRecordAlreadyExistsError=UseAuthorityRecordAlreadyExistsError,n.set(83,(()=>new UseAuthorityRecordAlreadyExistsError)),i.set("UseAuthorityRecordAlreadyExists",(()=>new UseAuthorityRecordAlreadyExistsError));class UseAuthorityRecordAlreadyRevokedError extends Error{constructor(){super("The Use Authority Record is empty or already revoked"),this.code=84,this.name="UseAuthorityRecordAlreadyRevoked","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,UseAuthorityRecordAlreadyRevokedError)}}r.UseAuthorityRecordAlreadyRevokedError=UseAuthorityRecordAlreadyRevokedError,n.set(84,(()=>new UseAuthorityRecordAlreadyRevokedError)),i.set("UseAuthorityRecordAlreadyRevoked",(()=>new UseAuthorityRecordAlreadyRevokedError));class UnusableError extends Error{constructor(){super("This token has no uses"),this.code=85,this.name="Unusable","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,UnusableError)}}r.UnusableError=UnusableError,n.set(85,(()=>new UnusableError)),i.set("Unusable",(()=>new UnusableError));class NotEnoughUsesError extends Error{constructor(){super("There are not enough Uses left on this token."),this.code=86,this.name="NotEnoughUses","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,NotEnoughUsesError)}}r.NotEnoughUsesError=NotEnoughUsesError,n.set(86,(()=>new NotEnoughUsesError)),i.set("NotEnoughUses",(()=>new NotEnoughUsesError));class CollectionAuthorityRecordAlreadyExistsError extends Error{constructor(){super("This Collection Authority Record Already Exists."),this.code=87,this.name="CollectionAuthorityRecordAlreadyExists","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,CollectionAuthorityRecordAlreadyExistsError)}}r.CollectionAuthorityRecordAlreadyExistsError=CollectionAuthorityRecordAlreadyExistsError,n.set(87,(()=>new CollectionAuthorityRecordAlreadyExistsError)),i.set("CollectionAuthorityRecordAlreadyExists",(()=>new CollectionAuthorityRecordAlreadyExistsError));class CollectionAuthorityDoesNotExistError extends Error{constructor(){super("This Collection Authority Record Does Not Exist."),this.code=88,this.name="CollectionAuthorityDoesNotExist","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,CollectionAuthorityDoesNotExistError)}}r.CollectionAuthorityDoesNotExistError=CollectionAuthorityDoesNotExistError,n.set(88,(()=>new CollectionAuthorityDoesNotExistError)),i.set("CollectionAuthorityDoesNotExist",(()=>new CollectionAuthorityDoesNotExistError));class InvalidUseAuthorityRecordError extends Error{constructor(){super("This Use Authority Record is invalid."),this.code=89,this.name="InvalidUseAuthorityRecord","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,InvalidUseAuthorityRecordError)}}r.InvalidUseAuthorityRecordError=InvalidUseAuthorityRecordError,n.set(89,(()=>new InvalidUseAuthorityRecordError)),i.set("InvalidUseAuthorityRecord",(()=>new InvalidUseAuthorityRecordError));class InvalidCollectionAuthorityRecordError extends Error{constructor(){super(""),this.code=90,this.name="InvalidCollectionAuthorityRecord","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,InvalidCollectionAuthorityRecordError)}}r.InvalidCollectionAuthorityRecordError=InvalidCollectionAuthorityRecordError,n.set(90,(()=>new InvalidCollectionAuthorityRecordError)),i.set("InvalidCollectionAuthorityRecord",(()=>new InvalidCollectionAuthorityRecordError));class InvalidFreezeAuthorityError extends Error{constructor(){super("Metadata does not match the freeze authority on the mint"),this.code=91,this.name="InvalidFreezeAuthority","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,InvalidFreezeAuthorityError)}}r.InvalidFreezeAuthorityError=InvalidFreezeAuthorityError,n.set(91,(()=>new InvalidFreezeAuthorityError)),i.set("InvalidFreezeAuthority",(()=>new InvalidFreezeAuthorityError));class InvalidDelegateError extends Error{constructor(){super("All tokens in this account have not been delegated to this user."),this.code=92,this.name="InvalidDelegate","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,InvalidDelegateError)}}r.InvalidDelegateError=InvalidDelegateError,n.set(92,(()=>new InvalidDelegateError)),i.set("InvalidDelegate",(()=>new InvalidDelegateError));class CannotAdjustVerifiedCreatorError extends Error{constructor(){super(""),this.code=93,this.name="CannotAdjustVerifiedCreator","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,CannotAdjustVerifiedCreatorError)}}r.CannotAdjustVerifiedCreatorError=CannotAdjustVerifiedCreatorError,n.set(93,(()=>new CannotAdjustVerifiedCreatorError)),i.set("CannotAdjustVerifiedCreator",(()=>new CannotAdjustVerifiedCreatorError));class CannotRemoveVerifiedCreatorError extends Error{constructor(){super("Verified creators cannot be removed."),this.code=94,this.name="CannotRemoveVerifiedCreator","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,CannotRemoveVerifiedCreatorError)}}r.CannotRemoveVerifiedCreatorError=CannotRemoveVerifiedCreatorError,n.set(94,(()=>new CannotRemoveVerifiedCreatorError)),i.set("CannotRemoveVerifiedCreator",(()=>new CannotRemoveVerifiedCreatorError));class CannotWipeVerifiedCreatorsError extends Error{constructor(){super(""),this.code=95,this.name="CannotWipeVerifiedCreators","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,CannotWipeVerifiedCreatorsError)}}r.CannotWipeVerifiedCreatorsError=CannotWipeVerifiedCreatorsError,n.set(95,(()=>new CannotWipeVerifiedCreatorsError)),i.set("CannotWipeVerifiedCreators",(()=>new CannotWipeVerifiedCreatorsError));class NotAllowedToChangeSellerFeeBasisPointsError extends Error{constructor(){super(""),this.code=96,this.name="NotAllowedToChangeSellerFeeBasisPoints","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,NotAllowedToChangeSellerFeeBasisPointsError)}}r.NotAllowedToChangeSellerFeeBasisPointsError=NotAllowedToChangeSellerFeeBasisPointsError,n.set(96,(()=>new NotAllowedToChangeSellerFeeBasisPointsError)),i.set("NotAllowedToChangeSellerFeeBasisPoints",(()=>new NotAllowedToChangeSellerFeeBasisPointsError));class EditionOverrideCannotBeZeroError extends Error{constructor(){super("Edition override cannot be zero"),this.code=97,this.name="EditionOverrideCannotBeZero","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,EditionOverrideCannotBeZeroError)}}r.EditionOverrideCannotBeZeroError=EditionOverrideCannotBeZeroError,n.set(97,(()=>new EditionOverrideCannotBeZeroError)),i.set("EditionOverrideCannotBeZero",(()=>new EditionOverrideCannotBeZeroError));class InvalidUserError extends Error{constructor(){super("Invalid User"),this.code=98,this.name="InvalidUser","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,InvalidUserError)}}r.InvalidUserError=InvalidUserError,n.set(98,(()=>new InvalidUserError)),i.set("InvalidUser",(()=>new InvalidUserError));class RevokeCollectionAuthoritySignerIncorrectError extends Error{constructor(){super("Revoke Collection Authority signer is incorrect"),this.code=99,this.name="RevokeCollectionAuthoritySignerIncorrect","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,RevokeCollectionAuthoritySignerIncorrectError)}}r.RevokeCollectionAuthoritySignerIncorrectError=RevokeCollectionAuthoritySignerIncorrectError,n.set(99,(()=>new RevokeCollectionAuthoritySignerIncorrectError)),i.set("RevokeCollectionAuthoritySignerIncorrect",(()=>new RevokeCollectionAuthoritySignerIncorrectError));class TokenCloseFailedError extends Error{constructor(){super(""),this.code=100,this.name="TokenCloseFailed","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,TokenCloseFailedError)}}r.TokenCloseFailedError=TokenCloseFailedError,n.set(100,(()=>new TokenCloseFailedError)),i.set("TokenCloseFailed",(()=>new TokenCloseFailedError));class UnsizedCollectionError extends Error{constructor(){super("Can't use this function on unsized collection"),this.code=101,this.name="UnsizedCollection","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,UnsizedCollectionError)}}r.UnsizedCollectionError=UnsizedCollectionError,n.set(101,(()=>new UnsizedCollectionError)),i.set("UnsizedCollection",(()=>new UnsizedCollectionError));class SizedCollectionError extends Error{constructor(){super("Can't use this function on a sized collection"),this.code=102,this.name="SizedCollection","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,SizedCollectionError)}}r.SizedCollectionError=SizedCollectionError,n.set(102,(()=>new SizedCollectionError)),i.set("SizedCollection",(()=>new SizedCollectionError));class MissingCollectionMetadataError extends Error{constructor(){super("Missing collection metadata account"),this.code=103,this.name="MissingCollectionMetadata","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,MissingCollectionMetadataError)}}r.MissingCollectionMetadataError=MissingCollectionMetadataError,n.set(103,(()=>new MissingCollectionMetadataError)),i.set("MissingCollectionMetadata",(()=>new MissingCollectionMetadataError));class NotAMemberOfCollectionError extends Error{constructor(){super("This NFT is not a member of the specified collection."),this.code=104,this.name="NotAMemberOfCollection","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,NotAMemberOfCollectionError)}}r.NotAMemberOfCollectionError=NotAMemberOfCollectionError,n.set(104,(()=>new NotAMemberOfCollectionError)),i.set("NotAMemberOfCollection",(()=>new NotAMemberOfCollectionError));class NotVerifiedMemberOfCollectionError extends Error{constructor(){super("This NFT is not a verified member of the specified collection."),this.code=105,this.name="NotVerifiedMemberOfCollection","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,NotVerifiedMemberOfCollectionError)}}r.NotVerifiedMemberOfCollectionError=NotVerifiedMemberOfCollectionError,n.set(105,(()=>new NotVerifiedMemberOfCollectionError)),i.set("NotVerifiedMemberOfCollection",(()=>new NotVerifiedMemberOfCollectionError));class NotACollectionParentError extends Error{constructor(){super("This NFT is not a collection parent NFT."),this.code=106,this.name="NotACollectionParent","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,NotACollectionParentError)}}r.NotACollectionParentError=NotACollectionParentError,n.set(106,(()=>new NotACollectionParentError)),i.set("NotACollectionParent",(()=>new NotACollectionParentError));class CouldNotDetermineTokenStandardError extends Error{constructor(){super("Could not determine a TokenStandard type."),this.code=107,this.name="CouldNotDetermineTokenStandard","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,CouldNotDetermineTokenStandardError)}}r.CouldNotDetermineTokenStandardError=CouldNotDetermineTokenStandardError,n.set(107,(()=>new CouldNotDetermineTokenStandardError)),i.set("CouldNotDetermineTokenStandard",(()=>new CouldNotDetermineTokenStandardError));class MissingEditionAccountError extends Error{constructor(){super("This mint account has an edition but none was provided."),this.code=108,this.name="MissingEditionAccount","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,MissingEditionAccountError)}}r.MissingEditionAccountError=MissingEditionAccountError,n.set(108,(()=>new MissingEditionAccountError)),i.set("MissingEditionAccount",(()=>new MissingEditionAccountError));class NotAMasterEditionError extends Error{constructor(){super("This edition is not a Master Edition"),this.code=109,this.name="NotAMasterEdition","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,NotAMasterEditionError)}}r.NotAMasterEditionError=NotAMasterEditionError,n.set(109,(()=>new NotAMasterEditionError)),i.set("NotAMasterEdition",(()=>new NotAMasterEditionError));class MasterEditionHasPrintsError extends Error{constructor(){super("This Master Edition has existing prints"),this.code=110,this.name="MasterEditionHasPrints","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,MasterEditionHasPrintsError)}}r.MasterEditionHasPrintsError=MasterEditionHasPrintsError,n.set(110,(()=>new MasterEditionHasPrintsError)),i.set("MasterEditionHasPrints",(()=>new MasterEditionHasPrintsError));class BorshDeserializationErrorError extends Error{constructor(){super(""),this.code=111,this.name="BorshDeserializationError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,BorshDeserializationErrorError)}}r.BorshDeserializationErrorError=BorshDeserializationErrorError,n.set(111,(()=>new BorshDeserializationErrorError)),i.set("BorshDeserializationError",(()=>new BorshDeserializationErrorError));class CannotUpdateVerifiedCollectionError extends Error{constructor(){super("Cannot update a verified collection in this command"),this.code=112,this.name="CannotUpdateVerifiedCollection","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,CannotUpdateVerifiedCollectionError)}}r.CannotUpdateVerifiedCollectionError=CannotUpdateVerifiedCollectionError,n.set(112,(()=>new CannotUpdateVerifiedCollectionError)),i.set("CannotUpdateVerifiedCollection",(()=>new CannotUpdateVerifiedCollectionError));class CollectionMasterEditionAccountInvalidError extends Error{constructor(){super("Edition account doesnt match collection "),this.code=113,this.name="CollectionMasterEditionAccountInvalid","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,CollectionMasterEditionAccountInvalidError)}}r.CollectionMasterEditionAccountInvalidError=CollectionMasterEditionAccountInvalidError,n.set(113,(()=>new CollectionMasterEditionAccountInvalidError)),i.set("CollectionMasterEditionAccountInvalid",(()=>new CollectionMasterEditionAccountInvalidError));class AlreadyVerifiedError extends Error{constructor(){super("Item is already verified."),this.code=114,this.name="AlreadyVerified","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,AlreadyVerifiedError)}}r.AlreadyVerifiedError=AlreadyVerifiedError,n.set(114,(()=>new AlreadyVerifiedError)),i.set("AlreadyVerified",(()=>new AlreadyVerifiedError));class AlreadyUnverifiedError extends Error{constructor(){super(""),this.code=115,this.name="AlreadyUnverified","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,AlreadyUnverifiedError)}}r.AlreadyUnverifiedError=AlreadyUnverifiedError,n.set(115,(()=>new AlreadyUnverifiedError)),i.set("AlreadyUnverified",(()=>new AlreadyUnverifiedError));class NotAPrintEditionError extends Error{constructor(){super("This edition is not a Print Edition"),this.code=116,this.name="NotAPrintEdition","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,NotAPrintEditionError)}}r.NotAPrintEditionError=NotAPrintEditionError,n.set(116,(()=>new NotAPrintEditionError)),i.set("NotAPrintEdition",(()=>new NotAPrintEditionError));class InvalidMasterEditionError extends Error{constructor(){super("Invalid Master Edition"),this.code=117,this.name="InvalidMasterEdition","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,InvalidMasterEditionError)}}r.InvalidMasterEditionError=InvalidMasterEditionError,n.set(117,(()=>new InvalidMasterEditionError)),i.set("InvalidMasterEdition",(()=>new InvalidMasterEditionError));class InvalidPrintEditionError extends Error{constructor(){super("Invalid Print Edition"),this.code=118,this.name="InvalidPrintEdition","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,InvalidPrintEditionError)}}r.InvalidPrintEditionError=InvalidPrintEditionError,n.set(118,(()=>new InvalidPrintEditionError)),i.set("InvalidPrintEdition",(()=>new InvalidPrintEditionError));class InvalidEditionMarkerError extends Error{constructor(){super("Invalid Edition Marker"),this.code=119,this.name="InvalidEditionMarker","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,InvalidEditionMarkerError)}}r.InvalidEditionMarkerError=InvalidEditionMarkerError,n.set(119,(()=>new InvalidEditionMarkerError)),i.set("InvalidEditionMarker",(()=>new InvalidEditionMarkerError));class ReservationListDeprecatedError extends Error{constructor(){super("Reservation List is Deprecated"),this.code=120,this.name="ReservationListDeprecated","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,ReservationListDeprecatedError)}}r.ReservationListDeprecatedError=ReservationListDeprecatedError,n.set(120,(()=>new ReservationListDeprecatedError)),i.set("ReservationListDeprecated",(()=>new ReservationListDeprecatedError));class PrintEditionDoesNotMatchMasterEditionError extends Error{constructor(){super("Print Edition does not match Master Edition"),this.code=121,this.name="PrintEditionDoesNotMatchMasterEdition","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,PrintEditionDoesNotMatchMasterEditionError)}}r.PrintEditionDoesNotMatchMasterEditionError=PrintEditionDoesNotMatchMasterEditionError,n.set(121,(()=>new PrintEditionDoesNotMatchMasterEditionError)),i.set("PrintEditionDoesNotMatchMasterEdition",(()=>new PrintEditionDoesNotMatchMasterEditionError));class EditionNumberGreaterThanMaxSupplyError extends Error{constructor(){super("Edition Number greater than max supply"),this.code=122,this.name="EditionNumberGreaterThanMaxSupply","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,EditionNumberGreaterThanMaxSupplyError)}}r.EditionNumberGreaterThanMaxSupplyError=EditionNumberGreaterThanMaxSupplyError,n.set(122,(()=>new EditionNumberGreaterThanMaxSupplyError)),i.set("EditionNumberGreaterThanMaxSupply",(()=>new EditionNumberGreaterThanMaxSupplyError));class MustUnverifyError extends Error{constructor(){super("Must unverify before migrating collections."),this.code=123,this.name="MustUnverify","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,MustUnverifyError)}}r.MustUnverifyError=MustUnverifyError,n.set(123,(()=>new MustUnverifyError)),i.set("MustUnverify",(()=>new MustUnverifyError));class InvalidEscrowBumpSeedError extends Error{constructor(){super("Invalid Escrow Account Bump Seed"),this.code=124,this.name="InvalidEscrowBumpSeed","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,InvalidEscrowBumpSeedError)}}r.InvalidEscrowBumpSeedError=InvalidEscrowBumpSeedError,n.set(124,(()=>new InvalidEscrowBumpSeedError)),i.set("InvalidEscrowBumpSeed",(()=>new InvalidEscrowBumpSeedError));class MustBeEscrowAuthorityError extends Error{constructor(){super("Must Escrow Authority"),this.code=125,this.name="MustBeEscrowAuthority","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,MustBeEscrowAuthorityError)}}r.MustBeEscrowAuthorityError=MustBeEscrowAuthorityError,n.set(125,(()=>new MustBeEscrowAuthorityError)),i.set("MustBeEscrowAuthority",(()=>new MustBeEscrowAuthorityError));class InvalidSystemProgramError extends Error{constructor(){super("Invalid System Program"),this.code=126,this.name="InvalidSystemProgram","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,InvalidSystemProgramError)}}r.InvalidSystemProgramError=InvalidSystemProgramError,n.set(126,(()=>new InvalidSystemProgramError)),i.set("InvalidSystemProgram",(()=>new InvalidSystemProgramError));class MustBeNonFungibleError extends Error{constructor(){super("Must be a Non Fungible Token"),this.code=127,this.name="MustBeNonFungible","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,MustBeNonFungibleError)}}r.MustBeNonFungibleError=MustBeNonFungibleError,n.set(127,(()=>new MustBeNonFungibleError)),i.set("MustBeNonFungible",(()=>new MustBeNonFungibleError));class InsufficientTokensError extends Error{constructor(){super("Insufficient tokens for transfer"),this.code=128,this.name="InsufficientTokens","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,InsufficientTokensError)}}r.InsufficientTokensError=InsufficientTokensError,n.set(128,(()=>new InsufficientTokensError)),i.set("InsufficientTokens",(()=>new InsufficientTokensError));class BorshSerializationErrorError extends Error{constructor(){super("Borsh Serialization Error"),this.code=129,this.name="BorshSerializationError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,BorshSerializationErrorError)}}r.BorshSerializationErrorError=BorshSerializationErrorError,n.set(129,(()=>new BorshSerializationErrorError)),i.set("BorshSerializationError",(()=>new BorshSerializationErrorError));class NoFreezeAuthoritySetError extends Error{constructor(){super("Cannot create NFT with no Freeze Authority."),this.code=130,this.name="NoFreezeAuthoritySet","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,NoFreezeAuthoritySetError)}}r.NoFreezeAuthoritySetError=NoFreezeAuthoritySetError,n.set(130,(()=>new NoFreezeAuthoritySetError)),i.set("NoFreezeAuthoritySet",(()=>new NoFreezeAuthoritySetError));class InvalidCollectionSizeChangeError extends Error{constructor(){super("Invalid collection size change"),this.code=131,this.name="InvalidCollectionSizeChange","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,InvalidCollectionSizeChangeError)}}r.InvalidCollectionSizeChangeError=InvalidCollectionSizeChangeError,n.set(131,(()=>new InvalidCollectionSizeChangeError)),i.set("InvalidCollectionSizeChange",(()=>new InvalidCollectionSizeChangeError));class InvalidBubblegumSignerError extends Error{constructor(){super("Invalid bubblegum signer"),this.code=132,this.name="InvalidBubblegumSigner","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,InvalidBubblegumSignerError)}}r.InvalidBubblegumSignerError=InvalidBubblegumSignerError,n.set(132,(()=>new InvalidBubblegumSignerError)),i.set("InvalidBubblegumSigner",(()=>new InvalidBubblegumSignerError));class EscrowParentHasDelegateError extends Error{constructor(){super("Escrow parent cannot have a delegate"),this.code=133,this.name="EscrowParentHasDelegate","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,EscrowParentHasDelegateError)}}r.EscrowParentHasDelegateError=EscrowParentHasDelegateError,n.set(133,(()=>new EscrowParentHasDelegateError)),i.set("EscrowParentHasDelegate",(()=>new EscrowParentHasDelegateError));class MintIsNotSignerError extends Error{constructor(){super("Mint needs to be signer to initialize the account"),this.code=134,this.name="MintIsNotSigner","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,MintIsNotSignerError)}}r.MintIsNotSignerError=MintIsNotSignerError,n.set(134,(()=>new MintIsNotSignerError)),i.set("MintIsNotSigner",(()=>new MintIsNotSignerError));class InvalidTokenStandardError extends Error{constructor(){super("Invalid token standard"),this.code=135,this.name="InvalidTokenStandard","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,InvalidTokenStandardError)}}r.InvalidTokenStandardError=InvalidTokenStandardError,n.set(135,(()=>new InvalidTokenStandardError)),i.set("InvalidTokenStandard",(()=>new InvalidTokenStandardError));class InvalidMintForTokenStandardError extends Error{constructor(){super("Invalid mint account for specified token standard"),this.code=136,this.name="InvalidMintForTokenStandard","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,InvalidMintForTokenStandardError)}}r.InvalidMintForTokenStandardError=InvalidMintForTokenStandardError,n.set(136,(()=>new InvalidMintForTokenStandardError)),i.set("InvalidMintForTokenStandard",(()=>new InvalidMintForTokenStandardError));class InvalidAuthorizationRulesError extends Error{constructor(){super("Invalid authorization rules account"),this.code=137,this.name="InvalidAuthorizationRules","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,InvalidAuthorizationRulesError)}}r.InvalidAuthorizationRulesError=InvalidAuthorizationRulesError,n.set(137,(()=>new InvalidAuthorizationRulesError)),i.set("InvalidAuthorizationRules",(()=>new InvalidAuthorizationRulesError));class MissingAuthorizationRulesError extends Error{constructor(){super("Missing authorization rules account"),this.code=138,this.name="MissingAuthorizationRules","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,MissingAuthorizationRulesError)}}r.MissingAuthorizationRulesError=MissingAuthorizationRulesError,n.set(138,(()=>new MissingAuthorizationRulesError)),i.set("MissingAuthorizationRules",(()=>new MissingAuthorizationRulesError));class MissingProgrammableConfigError extends Error{constructor(){super("Missing programmable configuration"),this.code=139,this.name="MissingProgrammableConfig","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,MissingProgrammableConfigError)}}r.MissingProgrammableConfigError=MissingProgrammableConfigError,n.set(139,(()=>new MissingProgrammableConfigError)),i.set("MissingProgrammableConfig",(()=>new MissingProgrammableConfigError));class InvalidProgrammableConfigError extends Error{constructor(){super("Invalid programmable configuration"),this.code=140,this.name="InvalidProgrammableConfig","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,InvalidProgrammableConfigError)}}r.InvalidProgrammableConfigError=InvalidProgrammableConfigError,n.set(140,(()=>new InvalidProgrammableConfigError)),i.set("InvalidProgrammableConfig",(()=>new InvalidProgrammableConfigError));class DelegateAlreadyExistsError extends Error{constructor(){super("Delegate already exists"),this.code=141,this.name="DelegateAlreadyExists","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,DelegateAlreadyExistsError)}}r.DelegateAlreadyExistsError=DelegateAlreadyExistsError,n.set(141,(()=>new DelegateAlreadyExistsError)),i.set("DelegateAlreadyExists",(()=>new DelegateAlreadyExistsError));class DelegateNotFoundError extends Error{constructor(){super("Delegate not found"),this.code=142,this.name="DelegateNotFound","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,DelegateNotFoundError)}}r.DelegateNotFoundError=DelegateNotFoundError,n.set(142,(()=>new DelegateNotFoundError)),i.set("DelegateNotFound",(()=>new DelegateNotFoundError));class MissingAccountInBuilderError extends Error{constructor(){super("Required account not set in instruction builder"),this.code=143,this.name="MissingAccountInBuilder","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,MissingAccountInBuilderError)}}r.MissingAccountInBuilderError=MissingAccountInBuilderError,n.set(143,(()=>new MissingAccountInBuilderError)),i.set("MissingAccountInBuilder",(()=>new MissingAccountInBuilderError));class MissingArgumentInBuilderError extends Error{constructor(){super("Required argument not set in instruction builder"),this.code=144,this.name="MissingArgumentInBuilder","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,MissingArgumentInBuilderError)}}r.MissingArgumentInBuilderError=MissingArgumentInBuilderError,n.set(144,(()=>new MissingArgumentInBuilderError)),i.set("MissingArgumentInBuilder",(()=>new MissingArgumentInBuilderError));class FeatureNotSupportedError extends Error{constructor(){super("Feature not supported currently"),this.code=145,this.name="FeatureNotSupported","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,FeatureNotSupportedError)}}r.FeatureNotSupportedError=FeatureNotSupportedError,n.set(145,(()=>new FeatureNotSupportedError)),i.set("FeatureNotSupported",(()=>new FeatureNotSupportedError));class InvalidSystemWalletError extends Error{constructor(){super("Invalid system wallet"),this.code=146,this.name="InvalidSystemWallet","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,InvalidSystemWalletError)}}r.InvalidSystemWalletError=InvalidSystemWalletError,n.set(146,(()=>new InvalidSystemWalletError)),i.set("InvalidSystemWallet",(()=>new InvalidSystemWalletError));class OnlySaleDelegateCanTransferError extends Error{constructor(){super("Only the sale delegate can transfer while its set"),this.code=147,this.name="OnlySaleDelegateCanTransfer","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,OnlySaleDelegateCanTransferError)}}r.OnlySaleDelegateCanTransferError=OnlySaleDelegateCanTransferError,n.set(147,(()=>new OnlySaleDelegateCanTransferError)),i.set("OnlySaleDelegateCanTransfer",(()=>new OnlySaleDelegateCanTransferError));class MissingTokenAccountError extends Error{constructor(){super("Missing token account"),this.code=148,this.name="MissingTokenAccount","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,MissingTokenAccountError)}}r.MissingTokenAccountError=MissingTokenAccountError,n.set(148,(()=>new MissingTokenAccountError)),i.set("MissingTokenAccount",(()=>new MissingTokenAccountError));class MissingSplTokenProgramError extends Error{constructor(){super("Missing SPL token program"),this.code=149,this.name="MissingSplTokenProgram","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,MissingSplTokenProgramError)}}r.MissingSplTokenProgramError=MissingSplTokenProgramError,n.set(149,(()=>new MissingSplTokenProgramError)),i.set("MissingSplTokenProgram",(()=>new MissingSplTokenProgramError));class MissingAuthorizationRulesProgramError extends Error{constructor(){super("Missing authorization rules program"),this.code=150,this.name="MissingAuthorizationRulesProgram","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,MissingAuthorizationRulesProgramError)}}r.MissingAuthorizationRulesProgramError=MissingAuthorizationRulesProgramError,n.set(150,(()=>new MissingAuthorizationRulesProgramError)),i.set("MissingAuthorizationRulesProgram",(()=>new MissingAuthorizationRulesProgramError));class InvalidDelegateRoleForTransferError extends Error{constructor(){super("Invalid delegate role for transfer"),this.code=151,this.name="InvalidDelegateRoleForTransfer","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,InvalidDelegateRoleForTransferError)}}r.InvalidDelegateRoleForTransferError=InvalidDelegateRoleForTransferError,n.set(151,(()=>new InvalidDelegateRoleForTransferError)),i.set("InvalidDelegateRoleForTransfer",(()=>new InvalidDelegateRoleForTransferError));class InvalidTransferAuthorityError extends Error{constructor(){super("Invalid transfer authority"),this.code=152,this.name="InvalidTransferAuthority","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,InvalidTransferAuthorityError)}}r.InvalidTransferAuthorityError=InvalidTransferAuthorityError,n.set(152,(()=>new InvalidTransferAuthorityError)),i.set("InvalidTransferAuthority",(()=>new InvalidTransferAuthorityError));class InstructionNotSupportedError extends Error{constructor(){super("Instruction not supported for ProgrammableNonFungible assets"),this.code=153,this.name="InstructionNotSupported","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,InstructionNotSupportedError)}}r.InstructionNotSupportedError=InstructionNotSupportedError,n.set(153,(()=>new InstructionNotSupportedError)),i.set("InstructionNotSupported",(()=>new InstructionNotSupportedError));class KeyMismatchError extends Error{constructor(){super("Public key does not match expected value"),this.code=154,this.name="KeyMismatch","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,KeyMismatchError)}}r.KeyMismatchError=KeyMismatchError,n.set(154,(()=>new KeyMismatchError)),i.set("KeyMismatch",(()=>new KeyMismatchError));class LockedTokenError extends Error{constructor(){super("Token is locked"),this.code=155,this.name="LockedToken","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,LockedTokenError)}}r.LockedTokenError=LockedTokenError,n.set(155,(()=>new LockedTokenError)),i.set("LockedToken",(()=>new LockedTokenError));class UnlockedTokenError extends Error{constructor(){super("Token is unlocked"),this.code=156,this.name="UnlockedToken","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,UnlockedTokenError)}}r.UnlockedTokenError=UnlockedTokenError,n.set(156,(()=>new UnlockedTokenError)),i.set("UnlockedToken",(()=>new UnlockedTokenError));class MissingDelegateRoleError extends Error{constructor(){super("Missing delegate role"),this.code=157,this.name="MissingDelegateRole","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,MissingDelegateRoleError)}}r.MissingDelegateRoleError=MissingDelegateRoleError,n.set(157,(()=>new MissingDelegateRoleError)),i.set("MissingDelegateRole",(()=>new MissingDelegateRoleError));class InvalidAuthorityTypeError extends Error{constructor(){super("Invalid authority type"),this.code=158,this.name="InvalidAuthorityType","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,InvalidAuthorityTypeError)}}r.InvalidAuthorityTypeError=InvalidAuthorityTypeError,n.set(158,(()=>new InvalidAuthorityTypeError)),i.set("InvalidAuthorityType",(()=>new InvalidAuthorityTypeError));class MissingTokenRecordError extends Error{constructor(){super("Missing token record account"),this.code=159,this.name="MissingTokenRecord","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,MissingTokenRecordError)}}r.MissingTokenRecordError=MissingTokenRecordError,n.set(159,(()=>new MissingTokenRecordError)),i.set("MissingTokenRecord",(()=>new MissingTokenRecordError));class MintSupplyMustBeZeroError extends Error{constructor(){super("Mint supply must be zero for programmable assets"),this.code=160,this.name="MintSupplyMustBeZero","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,MintSupplyMustBeZeroError)}}r.MintSupplyMustBeZeroError=MintSupplyMustBeZeroError,n.set(160,(()=>new MintSupplyMustBeZeroError)),i.set("MintSupplyMustBeZero",(()=>new MintSupplyMustBeZeroError));class DataIsEmptyOrZeroedError extends Error{constructor(){super("Data is empty or zeroed"),this.code=161,this.name="DataIsEmptyOrZeroed","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,DataIsEmptyOrZeroedError)}}r.DataIsEmptyOrZeroedError=DataIsEmptyOrZeroedError,n.set(161,(()=>new DataIsEmptyOrZeroedError)),i.set("DataIsEmptyOrZeroed",(()=>new DataIsEmptyOrZeroedError));class MissingTokenOwnerAccountError extends Error{constructor(){super("Missing token owner"),this.code=162,this.name="MissingTokenOwnerAccount","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,MissingTokenOwnerAccountError)}}r.MissingTokenOwnerAccountError=MissingTokenOwnerAccountError,n.set(162,(()=>new MissingTokenOwnerAccountError)),i.set("MissingTokenOwnerAccount",(()=>new MissingTokenOwnerAccountError));class InvalidMasterEditionAccountLengthError extends Error{constructor(){super("Master edition account has an invalid length"),this.code=163,this.name="InvalidMasterEditionAccountLength","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,InvalidMasterEditionAccountLengthError)}}r.InvalidMasterEditionAccountLengthError=InvalidMasterEditionAccountLengthError,n.set(163,(()=>new InvalidMasterEditionAccountLengthError)),i.set("InvalidMasterEditionAccountLength",(()=>new InvalidMasterEditionAccountLengthError));class IncorrectTokenStateError extends Error{constructor(){super("Incorrect token state"),this.code=164,this.name="IncorrectTokenState","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,IncorrectTokenStateError)}}r.IncorrectTokenStateError=IncorrectTokenStateError,n.set(164,(()=>new IncorrectTokenStateError)),i.set("IncorrectTokenState",(()=>new IncorrectTokenStateError));class InvalidDelegateRoleError extends Error{constructor(){super("Invalid delegate role"),this.code=165,this.name="InvalidDelegateRole","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,InvalidDelegateRoleError)}}r.InvalidDelegateRoleError=InvalidDelegateRoleError,n.set(165,(()=>new InvalidDelegateRoleError)),i.set("InvalidDelegateRole",(()=>new InvalidDelegateRoleError));class MissingPrintSupplyError extends Error{constructor(){super("Print supply is required for non-fungibles"),this.code=166,this.name="MissingPrintSupply","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,MissingPrintSupplyError)}}r.MissingPrintSupplyError=MissingPrintSupplyError,n.set(166,(()=>new MissingPrintSupplyError)),i.set("MissingPrintSupply",(()=>new MissingPrintSupplyError));class MissingMasterEditionAccountError extends Error{constructor(){super("Missing master edition account"),this.code=167,this.name="MissingMasterEditionAccount","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,MissingMasterEditionAccountError)}}r.MissingMasterEditionAccountError=MissingMasterEditionAccountError,n.set(167,(()=>new MissingMasterEditionAccountError)),i.set("MissingMasterEditionAccount",(()=>new MissingMasterEditionAccountError));class AmountMustBeGreaterThanZeroError extends Error{constructor(){super("Amount must be greater than zero"),this.code=168,this.name="AmountMustBeGreaterThanZero","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,AmountMustBeGreaterThanZeroError)}}r.AmountMustBeGreaterThanZeroError=AmountMustBeGreaterThanZeroError,n.set(168,(()=>new AmountMustBeGreaterThanZeroError)),i.set("AmountMustBeGreaterThanZero",(()=>new AmountMustBeGreaterThanZeroError));class InvalidDelegateArgsError extends Error{constructor(){super("Invalid delegate args"),this.code=169,this.name="InvalidDelegateArgs","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,InvalidDelegateArgsError)}}r.InvalidDelegateArgsError=InvalidDelegateArgsError,n.set(169,(()=>new InvalidDelegateArgsError)),i.set("InvalidDelegateArgs",(()=>new InvalidDelegateArgsError));class MissingLockedTransferAddressError extends Error{constructor(){super("Missing address for locked transfer"),this.code=170,this.name="MissingLockedTransferAddress","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,MissingLockedTransferAddressError)}}r.MissingLockedTransferAddressError=MissingLockedTransferAddressError,n.set(170,(()=>new MissingLockedTransferAddressError)),i.set("MissingLockedTransferAddress",(()=>new MissingLockedTransferAddressError));class InvalidLockedTransferAddressError extends Error{constructor(){super("Invalid destination address for locked transfer"),this.code=171,this.name="InvalidLockedTransferAddress","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,InvalidLockedTransferAddressError)}}r.InvalidLockedTransferAddressError=InvalidLockedTransferAddressError,n.set(171,(()=>new InvalidLockedTransferAddressError)),i.set("InvalidLockedTransferAddress",(()=>new InvalidLockedTransferAddressError));class DataIncrementLimitExceededError extends Error{constructor(){super("Exceeded account realloc increase limit"),this.code=172,this.name="DataIncrementLimitExceeded","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,DataIncrementLimitExceededError)}}r.DataIncrementLimitExceededError=DataIncrementLimitExceededError,n.set(172,(()=>new DataIncrementLimitExceededError)),i.set("DataIncrementLimitExceeded",(()=>new DataIncrementLimitExceededError));class CannotUpdateAssetWithDelegateError extends Error{constructor(){super("Cannot update the rule set of a programmable asset that has a delegate"),this.code=173,this.name="CannotUpdateAssetWithDelegate","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,CannotUpdateAssetWithDelegateError)}}r.CannotUpdateAssetWithDelegateError=CannotUpdateAssetWithDelegateError,n.set(173,(()=>new CannotUpdateAssetWithDelegateError)),i.set("CannotUpdateAssetWithDelegate",(()=>new CannotUpdateAssetWithDelegateError));class InvalidAmountError extends Error{constructor(){super("Invalid token amount for this operation or token standard"),this.code=174,this.name="InvalidAmount","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,InvalidAmountError)}}r.InvalidAmountError=InvalidAmountError,n.set(174,(()=>new InvalidAmountError)),i.set("InvalidAmount",(()=>new InvalidAmountError));class MissingMasterEditionMintAccountError extends Error{constructor(){super("Missing master edition mint account"),this.code=175,this.name="MissingMasterEditionMintAccount","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,MissingMasterEditionMintAccountError)}}r.MissingMasterEditionMintAccountError=MissingMasterEditionMintAccountError,n.set(175,(()=>new MissingMasterEditionMintAccountError)),i.set("MissingMasterEditionMintAccount",(()=>new MissingMasterEditionMintAccountError));class MissingMasterEditionTokenAccountError extends Error{constructor(){super("Missing master edition token account"),this.code=176,this.name="MissingMasterEditionTokenAccount","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,MissingMasterEditionTokenAccountError)}}r.MissingMasterEditionTokenAccountError=MissingMasterEditionTokenAccountError,n.set(176,(()=>new MissingMasterEditionTokenAccountError)),i.set("MissingMasterEditionTokenAccount",(()=>new MissingMasterEditionTokenAccountError));class MissingEditionMarkerAccountError extends Error{constructor(){super("Missing edition marker account"),this.code=177,this.name="MissingEditionMarkerAccount","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,MissingEditionMarkerAccountError)}}r.MissingEditionMarkerAccountError=MissingEditionMarkerAccountError,n.set(177,(()=>new MissingEditionMarkerAccountError)),i.set("MissingEditionMarkerAccount",(()=>new MissingEditionMarkerAccountError));class CannotBurnWithDelegateError extends Error{constructor(){super("Cannot burn while persistent delegate is set"),this.code=178,this.name="CannotBurnWithDelegate","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,CannotBurnWithDelegateError)}}r.CannotBurnWithDelegateError=CannotBurnWithDelegateError,n.set(178,(()=>new CannotBurnWithDelegateError)),i.set("CannotBurnWithDelegate",(()=>new CannotBurnWithDelegateError));class MissingEditionError extends Error{constructor(){super("Missing edition account"),this.code=179,this.name="MissingEdition","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,MissingEditionError)}}r.MissingEditionError=MissingEditionError,n.set(179,(()=>new MissingEditionError)),i.set("MissingEdition",(()=>new MissingEditionError));class InvalidAssociatedTokenAccountProgramError extends Error{constructor(){super("Invalid Associated Token Account Program"),this.code=180,this.name="InvalidAssociatedTokenAccountProgram","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,InvalidAssociatedTokenAccountProgramError)}}r.InvalidAssociatedTokenAccountProgramError=InvalidAssociatedTokenAccountProgramError,n.set(180,(()=>new InvalidAssociatedTokenAccountProgramError)),i.set("InvalidAssociatedTokenAccountProgram",(()=>new InvalidAssociatedTokenAccountProgramError));class InvalidInstructionsSysvarError extends Error{constructor(){super("Invalid InstructionsSysvar"),this.code=181,this.name="InvalidInstructionsSysvar","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,InvalidInstructionsSysvarError)}}r.InvalidInstructionsSysvarError=InvalidInstructionsSysvarError,n.set(181,(()=>new InvalidInstructionsSysvarError)),i.set("InvalidInstructionsSysvar",(()=>new InvalidInstructionsSysvarError));class InvalidParentAccountsError extends Error{constructor(){super("Invalid or Unneeded parent accounts"),this.code=182,this.name="InvalidParentAccounts","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,InvalidParentAccountsError)}}r.InvalidParentAccountsError=InvalidParentAccountsError,n.set(182,(()=>new InvalidParentAccountsError)),i.set("InvalidParentAccounts",(()=>new InvalidParentAccountsError));class InvalidUpdateArgsError extends Error{constructor(){super("Authority cannot apply all update args"),this.code=183,this.name="InvalidUpdateArgs","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,InvalidUpdateArgsError)}}r.InvalidUpdateArgsError=InvalidUpdateArgsError,n.set(183,(()=>new InvalidUpdateArgsError)),i.set("InvalidUpdateArgs",(()=>new InvalidUpdateArgsError));class InsufficientTokenBalanceError extends Error{constructor(){super("Token account does not have enough tokens"),this.code=184,this.name="InsufficientTokenBalance","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,InsufficientTokenBalanceError)}}r.InsufficientTokenBalanceError=InsufficientTokenBalanceError,n.set(184,(()=>new InsufficientTokenBalanceError)),i.set("InsufficientTokenBalance",(()=>new InsufficientTokenBalanceError));class MissingCollectionMintError extends Error{constructor(){super("Missing collection account"),this.code=185,this.name="MissingCollectionMint","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,MissingCollectionMintError)}}r.MissingCollectionMintError=MissingCollectionMintError,n.set(185,(()=>new MissingCollectionMintError)),i.set("MissingCollectionMint",(()=>new MissingCollectionMintError));class MissingCollectionMasterEditionError extends Error{constructor(){super("Missing collection master edition account"),this.code=186,this.name="MissingCollectionMasterEdition","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,MissingCollectionMasterEditionError)}}r.MissingCollectionMasterEditionError=MissingCollectionMasterEditionError,n.set(186,(()=>new MissingCollectionMasterEditionError)),i.set("MissingCollectionMasterEdition",(()=>new MissingCollectionMasterEditionError));class InvalidTokenRecordError extends Error{constructor(){super("Invalid token record account"),this.code=187,this.name="InvalidTokenRecord","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,InvalidTokenRecordError)}}r.InvalidTokenRecordError=InvalidTokenRecordError,n.set(187,(()=>new InvalidTokenRecordError)),i.set("InvalidTokenRecord",(()=>new InvalidTokenRecordError));class InvalidCloseAuthorityError extends Error{constructor(){super("The close authority needs to be revoked by the Utility Delegate"),this.code=188,this.name="InvalidCloseAuthority","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,InvalidCloseAuthorityError)}}r.InvalidCloseAuthorityError=InvalidCloseAuthorityError,n.set(188,(()=>new InvalidCloseAuthorityError)),i.set("InvalidCloseAuthority",(()=>new InvalidCloseAuthorityError));class InvalidInstructionError extends Error{constructor(){super("Invalid or removed instruction"),this.code=189,this.name="InvalidInstruction","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,InvalidInstructionError)}}r.InvalidInstructionError=InvalidInstructionError,n.set(189,(()=>new InvalidInstructionError)),i.set("InvalidInstruction",(()=>new InvalidInstructionError));class MissingDelegateRecordError extends Error{constructor(){super("Missing delegate record"),this.code=190,this.name="MissingDelegateRecord","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,MissingDelegateRecordError)}}r.MissingDelegateRecordError=MissingDelegateRecordError,n.set(190,(()=>new MissingDelegateRecordError)),i.set("MissingDelegateRecord",(()=>new MissingDelegateRecordError));class InvalidFeeAccountError extends Error{constructor(){super(""),this.code=191,this.name="InvalidFeeAccount","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,InvalidFeeAccountError)}}r.InvalidFeeAccountError=InvalidFeeAccountError,n.set(191,(()=>new InvalidFeeAccountError)),i.set("InvalidFeeAccount",(()=>new InvalidFeeAccountError));class InvalidMetadataFlagsError extends Error{constructor(){super(""),this.code=192,this.name="InvalidMetadataFlags","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,InvalidMetadataFlagsError)}}r.InvalidMetadataFlagsError=InvalidMetadataFlagsError,n.set(192,(()=>new InvalidMetadataFlagsError)),i.set("InvalidMetadataFlags",(()=>new InvalidMetadataFlagsError)),r.errorFromCode=function errorFromCode(e){const r=n.get(e);return null!=r?r():null},r.errorFromName=function errorFromName(e){const r=i.get(e);return null!=r?r():null}},488424:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__exportStar||function(e,r){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||i(r,e,n)};Object.defineProperty(r,"__esModule",{value:!0}),r.PROGRAM_ID=r.PROGRAM_ADDRESS=void 0;const a=n(958966);s(n(625637),r),s(n(797954),r),s(n(360972),r),s(n(239798),r),r.PROGRAM_ADDRESS="metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s",r.PROGRAM_ID=new a.PublicKey(r.PROGRAM_ADDRESS)},36308:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.createApproveCollectionAuthorityInstruction=r.approveCollectionAuthorityInstructionDiscriminator=r.ApproveCollectionAuthorityStruct=void 0;const k=a(n(666808)),w=a(n(958966));r.ApproveCollectionAuthorityStruct=new k.BeetArgsStruct([["instructionDiscriminator",k.u8]],"ApproveCollectionAuthorityInstructionArgs"),r.approveCollectionAuthorityInstructionDiscriminator=23,r.createApproveCollectionAuthorityInstruction=function createApproveCollectionAuthorityInstruction(e,n=new w.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var i;const[s]=r.ApproveCollectionAuthorityStruct.serialize({instructionDiscriminator:r.approveCollectionAuthorityInstructionDiscriminator}),a=[{pubkey:e.collectionAuthorityRecord,isWritable:!0,isSigner:!1},{pubkey:e.newCollectionAuthority,isWritable:!1,isSigner:!1},{pubkey:e.updateAuthority,isWritable:!0,isSigner:!0},{pubkey:e.payer,isWritable:!0,isSigner:!0},{pubkey:e.metadata,isWritable:!1,isSigner:!1},{pubkey:e.mint,isWritable:!1,isSigner:!1},{pubkey:null!==(i=e.systemProgram)&&void 0!==i?i:w.SystemProgram.programId,isWritable:!1,isSigner:!1}];return null!=e.rent&&a.push({pubkey:e.rent,isWritable:!1,isSigner:!1}),new w.TransactionInstruction({programId:n,keys:a,data:s})}},258373:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.createApproveUseAuthorityInstruction=r.approveUseAuthorityInstructionDiscriminator=r.ApproveUseAuthorityStruct=void 0;const k=a(n(827510)),w=a(n(666808)),I=a(n(958966)),we=n(586850);r.ApproveUseAuthorityStruct=new w.BeetArgsStruct([["instructionDiscriminator",w.u8],["approveUseAuthorityArgs",we.approveUseAuthorityArgsBeet]],"ApproveUseAuthorityInstructionArgs"),r.approveUseAuthorityInstructionDiscriminator=20,r.createApproveUseAuthorityInstruction=function createApproveUseAuthorityInstruction(e,n,i=new I.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var s,a;const[w]=r.ApproveUseAuthorityStruct.serialize({instructionDiscriminator:r.approveUseAuthorityInstructionDiscriminator,...n}),we=[{pubkey:e.useAuthorityRecord,isWritable:!0,isSigner:!1},{pubkey:e.owner,isWritable:!0,isSigner:!0},{pubkey:e.payer,isWritable:!0,isSigner:!0},{pubkey:e.user,isWritable:!1,isSigner:!1},{pubkey:e.ownerTokenAccount,isWritable:!0,isSigner:!1},{pubkey:e.metadata,isWritable:!1,isSigner:!1},{pubkey:e.mint,isWritable:!1,isSigner:!1},{pubkey:e.burner,isWritable:!1,isSigner:!1},{pubkey:null!==(s=e.tokenProgram)&&void 0!==s?s:k.TOKEN_PROGRAM_ID,isWritable:!1,isSigner:!1},{pubkey:null!==(a=e.systemProgram)&&void 0!==a?a:I.SystemProgram.programId,isWritable:!1,isSigner:!1}];return null!=e.rent&&we.push({pubkey:e.rent,isWritable:!1,isSigner:!1}),new I.TransactionInstruction({programId:i,keys:we,data:w})}},591992:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.createBubblegumSetCollectionSizeInstruction=r.bubblegumSetCollectionSizeInstructionDiscriminator=r.BubblegumSetCollectionSizeStruct=void 0;const k=a(n(666808)),w=a(n(958966)),I=n(886894);r.BubblegumSetCollectionSizeStruct=new k.BeetArgsStruct([["instructionDiscriminator",k.u8],["setCollectionSizeArgs",I.setCollectionSizeArgsBeet]],"BubblegumSetCollectionSizeInstructionArgs"),r.bubblegumSetCollectionSizeInstructionDiscriminator=36,r.createBubblegumSetCollectionSizeInstruction=function createBubblegumSetCollectionSizeInstruction(e,n,i=new w.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){const[s]=r.BubblegumSetCollectionSizeStruct.serialize({instructionDiscriminator:r.bubblegumSetCollectionSizeInstructionDiscriminator,...n}),a=[{pubkey:e.collectionMetadata,isWritable:!0,isSigner:!1},{pubkey:e.collectionAuthority,isWritable:!0,isSigner:!0},{pubkey:e.collectionMint,isWritable:!1,isSigner:!1},{pubkey:e.bubblegumSigner,isWritable:!1,isSigner:!0}];return null!=e.collectionAuthorityRecord&&a.push({pubkey:e.collectionAuthorityRecord,isWritable:!1,isSigner:!1}),new w.TransactionInstruction({programId:i,keys:a,data:s})}},332787:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.createBurnInstruction=r.burnInstructionDiscriminator=r.BurnStruct=void 0;const k=a(n(666808)),w=a(n(958966)),I=n(890420);r.BurnStruct=new k.FixableBeetArgsStruct([["instructionDiscriminator",k.u8],["burnArgs",I.burnArgsBeet]],"BurnInstructionArgs"),r.burnInstructionDiscriminator=41,r.createBurnInstruction=function createBurnInstruction(e,n,i=new w.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var s,a,k,I,we,Ae,Be,Ce;const[ze]=r.BurnStruct.serialize({instructionDiscriminator:r.burnInstructionDiscriminator,...n}),qe=[{pubkey:e.authority,isWritable:!0,isSigner:!0},{pubkey:null!==(s=e.collectionMetadata)&&void 0!==s?s:i,isWritable:null!=e.collectionMetadata,isSigner:!1},{pubkey:e.metadata,isWritable:!0,isSigner:!1},{pubkey:null!==(a=e.edition)&&void 0!==a?a:i,isWritable:null!=e.edition,isSigner:!1},{pubkey:e.mint,isWritable:!0,isSigner:!1},{pubkey:e.token,isWritable:!0,isSigner:!1},{pubkey:null!==(k=e.masterEdition)&&void 0!==k?k:i,isWritable:null!=e.masterEdition,isSigner:!1},{pubkey:null!==(I=e.masterEditionMint)&&void 0!==I?I:i,isWritable:!1,isSigner:!1},{pubkey:null!==(we=e.masterEditionToken)&&void 0!==we?we:i,isWritable:!1,isSigner:!1},{pubkey:null!==(Ae=e.editionMarker)&&void 0!==Ae?Ae:i,isWritable:null!=e.editionMarker,isSigner:!1},{pubkey:null!==(Be=e.tokenRecord)&&void 0!==Be?Be:i,isWritable:null!=e.tokenRecord,isSigner:!1},{pubkey:null!==(Ce=e.systemProgram)&&void 0!==Ce?Ce:w.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:e.sysvarInstructions,isWritable:!1,isSigner:!1},{pubkey:e.splTokenProgram,isWritable:!1,isSigner:!1}];return new w.TransactionInstruction({programId:i,keys:qe,data:ze})}},103045:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.createBurnEditionNftInstruction=r.burnEditionNftInstructionDiscriminator=r.BurnEditionNftStruct=void 0;const k=a(n(666808)),w=a(n(958966));r.BurnEditionNftStruct=new k.BeetArgsStruct([["instructionDiscriminator",k.u8]],"BurnEditionNftInstructionArgs"),r.burnEditionNftInstructionDiscriminator=37,r.createBurnEditionNftInstruction=function createBurnEditionNftInstruction(e,n=new w.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){const[i]=r.BurnEditionNftStruct.serialize({instructionDiscriminator:r.burnEditionNftInstructionDiscriminator}),s=[{pubkey:e.metadata,isWritable:!0,isSigner:!1},{pubkey:e.owner,isWritable:!0,isSigner:!0},{pubkey:e.printEditionMint,isWritable:!0,isSigner:!1},{pubkey:e.masterEditionMint,isWritable:!1,isSigner:!1},{pubkey:e.printEditionTokenAccount,isWritable:!0,isSigner:!1},{pubkey:e.masterEditionTokenAccount,isWritable:!1,isSigner:!1},{pubkey:e.masterEditionAccount,isWritable:!0,isSigner:!1},{pubkey:e.printEditionAccount,isWritable:!0,isSigner:!1},{pubkey:e.editionMarkerAccount,isWritable:!0,isSigner:!1},{pubkey:e.splTokenProgram,isWritable:!1,isSigner:!1}];return new w.TransactionInstruction({programId:n,keys:s,data:i})}},311939:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.createBurnNftInstruction=r.burnNftInstructionDiscriminator=r.BurnNftStruct=void 0;const k=a(n(666808)),w=a(n(958966));r.BurnNftStruct=new k.BeetArgsStruct([["instructionDiscriminator",k.u8]],"BurnNftInstructionArgs"),r.burnNftInstructionDiscriminator=29,r.createBurnNftInstruction=function createBurnNftInstruction(e,n=new w.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){const[i]=r.BurnNftStruct.serialize({instructionDiscriminator:r.burnNftInstructionDiscriminator}),s=[{pubkey:e.metadata,isWritable:!0,isSigner:!1},{pubkey:e.owner,isWritable:!0,isSigner:!0},{pubkey:e.mint,isWritable:!0,isSigner:!1},{pubkey:e.tokenAccount,isWritable:!0,isSigner:!1},{pubkey:e.masterEditionAccount,isWritable:!0,isSigner:!1},{pubkey:e.splTokenProgram,isWritable:!1,isSigner:!1}];return null!=e.collectionMetadata&&s.push({pubkey:e.collectionMetadata,isWritable:!0,isSigner:!1}),new w.TransactionInstruction({programId:n,keys:s,data:i})}},367516:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.createCloseEscrowAccountInstruction=r.closeEscrowAccountInstructionDiscriminator=r.CloseEscrowAccountStruct=void 0;const k=a(n(666808)),w=a(n(958966));r.CloseEscrowAccountStruct=new k.BeetArgsStruct([["instructionDiscriminator",k.u8]],"CloseEscrowAccountInstructionArgs"),r.closeEscrowAccountInstructionDiscriminator=39,r.createCloseEscrowAccountInstruction=function createCloseEscrowAccountInstruction(e,n=new w.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var i;const[s]=r.CloseEscrowAccountStruct.serialize({instructionDiscriminator:r.closeEscrowAccountInstructionDiscriminator}),a=[{pubkey:e.escrow,isWritable:!0,isSigner:!1},{pubkey:e.metadata,isWritable:!0,isSigner:!1},{pubkey:e.mint,isWritable:!1,isSigner:!1},{pubkey:e.tokenAccount,isWritable:!1,isSigner:!1},{pubkey:e.edition,isWritable:!1,isSigner:!1},{pubkey:e.payer,isWritable:!0,isSigner:!0},{pubkey:null!==(i=e.systemProgram)&&void 0!==i?i:w.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:e.sysvarInstructions,isWritable:!1,isSigner:!1}];return new w.TransactionInstruction({programId:n,keys:a,data:s})}},244118:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.createCollectInstruction=r.collectInstructionDiscriminator=r.CollectStruct=void 0;const k=a(n(666808)),w=a(n(958966));r.CollectStruct=new k.BeetArgsStruct([["instructionDiscriminator",k.u8]],"CollectInstructionArgs"),r.collectInstructionDiscriminator=54,r.createCollectInstruction=function createCollectInstruction(e,n=new w.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){const[i]=r.CollectStruct.serialize({instructionDiscriminator:r.collectInstructionDiscriminator}),s=[{pubkey:e.authority,isWritable:!1,isSigner:!0},{pubkey:e.pdaAccount,isWritable:!1,isSigner:!1}];return new w.TransactionInstruction({programId:n,keys:s,data:i})}},934071:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.createConvertMasterEditionV1ToV2Instruction=r.convertMasterEditionV1ToV2InstructionDiscriminator=r.ConvertMasterEditionV1ToV2Struct=void 0;const k=a(n(666808)),w=a(n(958966));r.ConvertMasterEditionV1ToV2Struct=new k.BeetArgsStruct([["instructionDiscriminator",k.u8]],"ConvertMasterEditionV1ToV2InstructionArgs"),r.convertMasterEditionV1ToV2InstructionDiscriminator=12,r.createConvertMasterEditionV1ToV2Instruction=function createConvertMasterEditionV1ToV2Instruction(e,n=new w.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){const[i]=r.ConvertMasterEditionV1ToV2Struct.serialize({instructionDiscriminator:r.convertMasterEditionV1ToV2InstructionDiscriminator}),s=[{pubkey:e.masterEdition,isWritable:!0,isSigner:!1},{pubkey:e.oneTimeAuth,isWritable:!0,isSigner:!1},{pubkey:e.printingMint,isWritable:!0,isSigner:!1}];return new w.TransactionInstruction({programId:n,keys:s,data:i})}},706922:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.createCreateInstruction=r.createInstructionDiscriminator=r.CreateStruct=void 0;const k=a(n(666808)),w=a(n(958966)),I=n(720949);r.CreateStruct=new k.FixableBeetArgsStruct([["instructionDiscriminator",k.u8],["createArgs",I.createArgsBeet]],"CreateInstructionArgs"),r.createInstructionDiscriminator=42,r.createCreateInstruction=function createCreateInstruction(e,n,i=new w.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var s,a;const[k]=r.CreateStruct.serialize({instructionDiscriminator:r.createInstructionDiscriminator,...n}),I=[{pubkey:e.metadata,isWritable:!0,isSigner:!1},{pubkey:null!==(s=e.masterEdition)&&void 0!==s?s:i,isWritable:null!=e.masterEdition,isSigner:!1},{pubkey:e.mint,isWritable:!0,isSigner:!1},{pubkey:e.authority,isWritable:!1,isSigner:!0},{pubkey:e.payer,isWritable:!0,isSigner:!0},{pubkey:e.updateAuthority,isWritable:!1,isSigner:!1},{pubkey:null!==(a=e.systemProgram)&&void 0!==a?a:w.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:e.sysvarInstructions,isWritable:!1,isSigner:!1},{pubkey:e.splTokenProgram,isWritable:!1,isSigner:!1}];return new w.TransactionInstruction({programId:i,keys:I,data:k})}},508610:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.createCreateEscrowAccountInstruction=r.createEscrowAccountInstructionDiscriminator=r.CreateEscrowAccountStruct=void 0;const k=a(n(666808)),w=a(n(958966));r.CreateEscrowAccountStruct=new k.BeetArgsStruct([["instructionDiscriminator",k.u8]],"CreateEscrowAccountInstructionArgs"),r.createEscrowAccountInstructionDiscriminator=38,r.createCreateEscrowAccountInstruction=function createCreateEscrowAccountInstruction(e,n=new w.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var i;const[s]=r.CreateEscrowAccountStruct.serialize({instructionDiscriminator:r.createEscrowAccountInstructionDiscriminator}),a=[{pubkey:e.escrow,isWritable:!0,isSigner:!1},{pubkey:e.metadata,isWritable:!0,isSigner:!1},{pubkey:e.mint,isWritable:!1,isSigner:!1},{pubkey:e.tokenAccount,isWritable:!1,isSigner:!1},{pubkey:e.edition,isWritable:!1,isSigner:!1},{pubkey:e.payer,isWritable:!0,isSigner:!0},{pubkey:null!==(i=e.systemProgram)&&void 0!==i?i:w.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:e.sysvarInstructions,isWritable:!1,isSigner:!1}];return null!=e.authority&&a.push({pubkey:e.authority,isWritable:!1,isSigner:!0}),new w.TransactionInstruction({programId:n,keys:a,data:s})}},172612:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.createCreateMasterEditionInstruction=r.createMasterEditionInstructionDiscriminator=r.CreateMasterEditionStruct=void 0;const k=a(n(827510)),w=a(n(666808)),I=a(n(958966));r.CreateMasterEditionStruct=new w.BeetArgsStruct([["instructionDiscriminator",w.u8]],"CreateMasterEditionInstructionArgs"),r.createMasterEditionInstructionDiscriminator=10,r.createCreateMasterEditionInstruction=function createCreateMasterEditionInstruction(e,n=new I.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var i,s,a;const[w]=r.CreateMasterEditionStruct.serialize({instructionDiscriminator:r.createMasterEditionInstructionDiscriminator}),we=[{pubkey:e.edition,isWritable:!0,isSigner:!1},{pubkey:e.mint,isWritable:!0,isSigner:!1},{pubkey:e.updateAuthority,isWritable:!1,isSigner:!0},{pubkey:e.mintAuthority,isWritable:!1,isSigner:!0},{pubkey:e.payer,isWritable:!0,isSigner:!0},{pubkey:e.metadata,isWritable:!1,isSigner:!1},{pubkey:null!==(i=e.tokenProgram)&&void 0!==i?i:k.TOKEN_PROGRAM_ID,isWritable:!1,isSigner:!1},{pubkey:null!==(s=e.systemProgram)&&void 0!==s?s:I.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:null!==(a=e.rent)&&void 0!==a?a:I.SYSVAR_RENT_PUBKEY,isWritable:!1,isSigner:!1}];return new I.TransactionInstruction({programId:n,keys:we,data:w})}},139431:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.createCreateMasterEditionV3Instruction=r.createMasterEditionV3InstructionDiscriminator=r.CreateMasterEditionV3Struct=void 0;const k=a(n(827510)),w=a(n(666808)),I=a(n(958966)),we=n(784175);r.CreateMasterEditionV3Struct=new w.FixableBeetArgsStruct([["instructionDiscriminator",w.u8],["createMasterEditionArgs",we.createMasterEditionArgsBeet]],"CreateMasterEditionV3InstructionArgs"),r.createMasterEditionV3InstructionDiscriminator=17,r.createCreateMasterEditionV3Instruction=function createCreateMasterEditionV3Instruction(e,n,i=new I.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var s,a;const[w]=r.CreateMasterEditionV3Struct.serialize({instructionDiscriminator:r.createMasterEditionV3InstructionDiscriminator,...n}),we=[{pubkey:e.edition,isWritable:!0,isSigner:!1},{pubkey:e.mint,isWritable:!0,isSigner:!1},{pubkey:e.updateAuthority,isWritable:!1,isSigner:!0},{pubkey:e.mintAuthority,isWritable:!1,isSigner:!0},{pubkey:e.payer,isWritable:!0,isSigner:!0},{pubkey:e.metadata,isWritable:!0,isSigner:!1},{pubkey:null!==(s=e.tokenProgram)&&void 0!==s?s:k.TOKEN_PROGRAM_ID,isWritable:!1,isSigner:!1},{pubkey:null!==(a=e.systemProgram)&&void 0!==a?a:I.SystemProgram.programId,isWritable:!1,isSigner:!1}];return null!=e.rent&&we.push({pubkey:e.rent,isWritable:!1,isSigner:!1}),new I.TransactionInstruction({programId:i,keys:we,data:w})}},555712:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.createCreateMetadataAccountInstruction=r.createMetadataAccountInstructionDiscriminator=r.CreateMetadataAccountStruct=void 0;const k=a(n(666808)),w=a(n(958966));r.CreateMetadataAccountStruct=new k.BeetArgsStruct([["instructionDiscriminator",k.u8]],"CreateMetadataAccountInstructionArgs"),r.createMetadataAccountInstructionDiscriminator=0,r.createCreateMetadataAccountInstruction=function createCreateMetadataAccountInstruction(e,n=new w.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var i,s;const[a]=r.CreateMetadataAccountStruct.serialize({instructionDiscriminator:r.createMetadataAccountInstructionDiscriminator}),k=[{pubkey:e.metadata,isWritable:!0,isSigner:!1},{pubkey:e.mint,isWritable:!1,isSigner:!1},{pubkey:e.mintAuthority,isWritable:!1,isSigner:!0},{pubkey:e.payer,isWritable:!0,isSigner:!0},{pubkey:e.updateAuthority,isWritable:!1,isSigner:!1},{pubkey:null!==(i=e.systemProgram)&&void 0!==i?i:w.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:null!==(s=e.rent)&&void 0!==s?s:w.SYSVAR_RENT_PUBKEY,isWritable:!1,isSigner:!1}];return new w.TransactionInstruction({programId:n,keys:k,data:a})}},97876:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.createCreateMetadataAccountV2Instruction=r.createMetadataAccountV2InstructionDiscriminator=r.CreateMetadataAccountV2Struct=void 0;const k=a(n(666808)),w=a(n(958966));r.CreateMetadataAccountV2Struct=new k.BeetArgsStruct([["instructionDiscriminator",k.u8]],"CreateMetadataAccountV2InstructionArgs"),r.createMetadataAccountV2InstructionDiscriminator=16,r.createCreateMetadataAccountV2Instruction=function createCreateMetadataAccountV2Instruction(e,n=new w.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var i;const[s]=r.CreateMetadataAccountV2Struct.serialize({instructionDiscriminator:r.createMetadataAccountV2InstructionDiscriminator}),a=[{pubkey:e.metadata,isWritable:!0,isSigner:!1},{pubkey:e.mint,isWritable:!1,isSigner:!1},{pubkey:e.mintAuthority,isWritable:!1,isSigner:!0},{pubkey:e.payer,isWritable:!0,isSigner:!0},{pubkey:e.updateAuthority,isWritable:!1,isSigner:!1},{pubkey:null!==(i=e.systemProgram)&&void 0!==i?i:w.SystemProgram.programId,isWritable:!1,isSigner:!1}];return null!=e.rent&&a.push({pubkey:e.rent,isWritable:!1,isSigner:!1}),new w.TransactionInstruction({programId:n,keys:a,data:s})}},71227:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.createCreateMetadataAccountV3Instruction=r.createMetadataAccountV3InstructionDiscriminator=r.CreateMetadataAccountV3Struct=void 0;const k=a(n(666808)),w=a(n(958966)),I=n(631164);r.CreateMetadataAccountV3Struct=new k.FixableBeetArgsStruct([["instructionDiscriminator",k.u8],["createMetadataAccountArgsV3",I.createMetadataAccountArgsV3Beet]],"CreateMetadataAccountV3InstructionArgs"),r.createMetadataAccountV3InstructionDiscriminator=33,r.createCreateMetadataAccountV3Instruction=function createCreateMetadataAccountV3Instruction(e,n,i=new w.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var s;const[a]=r.CreateMetadataAccountV3Struct.serialize({instructionDiscriminator:r.createMetadataAccountV3InstructionDiscriminator,...n}),k=[{pubkey:e.metadata,isWritable:!0,isSigner:!1},{pubkey:e.mint,isWritable:!1,isSigner:!1},{pubkey:e.mintAuthority,isWritable:!1,isSigner:!0},{pubkey:e.payer,isWritable:!0,isSigner:!0},{pubkey:e.updateAuthority,isWritable:!1,isSigner:!1},{pubkey:null!==(s=e.systemProgram)&&void 0!==s?s:w.SystemProgram.programId,isWritable:!1,isSigner:!1}];return null!=e.rent&&k.push({pubkey:e.rent,isWritable:!1,isSigner:!1}),new w.TransactionInstruction({programId:i,keys:k,data:a})}},282937:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.createDelegateInstruction=r.delegateInstructionDiscriminator=r.DelegateStruct=void 0;const k=a(n(666808)),w=a(n(958966)),I=n(547430);r.DelegateStruct=new k.FixableBeetArgsStruct([["instructionDiscriminator",k.u8],["delegateArgs",I.delegateArgsBeet]],"DelegateInstructionArgs"),r.delegateInstructionDiscriminator=44,r.createDelegateInstruction=function createDelegateInstruction(e,n,i=new w.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var s,a,k,I,we,Ae,Be,Ce;const[ze]=r.DelegateStruct.serialize({instructionDiscriminator:r.delegateInstructionDiscriminator,...n}),qe=[{pubkey:null!==(s=e.delegateRecord)&&void 0!==s?s:i,isWritable:null!=e.delegateRecord,isSigner:!1},{pubkey:e.delegate,isWritable:!1,isSigner:!1},{pubkey:e.metadata,isWritable:!0,isSigner:!1},{pubkey:null!==(a=e.masterEdition)&&void 0!==a?a:i,isWritable:!1,isSigner:!1},{pubkey:null!==(k=e.tokenRecord)&&void 0!==k?k:i,isWritable:null!=e.tokenRecord,isSigner:!1},{pubkey:e.mint,isWritable:!1,isSigner:!1},{pubkey:null!==(I=e.token)&&void 0!==I?I:i,isWritable:null!=e.token,isSigner:!1},{pubkey:e.authority,isWritable:!1,isSigner:!0},{pubkey:e.payer,isWritable:!0,isSigner:!0},{pubkey:null!==(we=e.systemProgram)&&void 0!==we?we:w.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:e.sysvarInstructions,isWritable:!1,isSigner:!1},{pubkey:null!==(Ae=e.splTokenProgram)&&void 0!==Ae?Ae:i,isWritable:!1,isSigner:!1},{pubkey:null!==(Be=e.authorizationRulesProgram)&&void 0!==Be?Be:i,isWritable:!1,isSigner:!1},{pubkey:null!==(Ce=e.authorizationRules)&&void 0!==Ce?Ce:i,isWritable:!1,isSigner:!1}];return new w.TransactionInstruction({programId:i,keys:qe,data:ze})}},447383:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.createDeprecatedCreateMasterEditionInstruction=r.deprecatedCreateMasterEditionInstructionDiscriminator=r.DeprecatedCreateMasterEditionStruct=void 0;const k=a(n(827510)),w=a(n(666808)),I=a(n(958966));r.DeprecatedCreateMasterEditionStruct=new w.BeetArgsStruct([["instructionDiscriminator",w.u8]],"DeprecatedCreateMasterEditionInstructionArgs"),r.deprecatedCreateMasterEditionInstructionDiscriminator=2,r.createDeprecatedCreateMasterEditionInstruction=function createDeprecatedCreateMasterEditionInstruction(e,n=new I.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var i,s,a;const[w]=r.DeprecatedCreateMasterEditionStruct.serialize({instructionDiscriminator:r.deprecatedCreateMasterEditionInstructionDiscriminator}),we=[{pubkey:e.edition,isWritable:!0,isSigner:!1},{pubkey:e.mint,isWritable:!0,isSigner:!1},{pubkey:e.printingMint,isWritable:!0,isSigner:!1},{pubkey:e.oneTimePrintingAuthorizationMint,isWritable:!0,isSigner:!1},{pubkey:e.updateAuthority,isWritable:!1,isSigner:!0},{pubkey:e.printingMintAuthority,isWritable:!1,isSigner:!0},{pubkey:e.mintAuthority,isWritable:!1,isSigner:!0},{pubkey:e.metadata,isWritable:!1,isSigner:!1},{pubkey:e.payer,isWritable:!1,isSigner:!0},{pubkey:null!==(i=e.tokenProgram)&&void 0!==i?i:k.TOKEN_PROGRAM_ID,isWritable:!1,isSigner:!1},{pubkey:null!==(s=e.systemProgram)&&void 0!==s?s:I.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:null!==(a=e.rent)&&void 0!==a?a:I.SYSVAR_RENT_PUBKEY,isWritable:!1,isSigner:!1},{pubkey:e.oneTimePrintingAuthorizationMintAuthority,isWritable:!1,isSigner:!0}];return new I.TransactionInstruction({programId:n,keys:we,data:w})}},448785:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.createDeprecatedCreateReservationListInstruction=r.deprecatedCreateReservationListInstructionDiscriminator=r.DeprecatedCreateReservationListStruct=void 0;const k=a(n(666808)),w=a(n(958966));r.DeprecatedCreateReservationListStruct=new k.BeetArgsStruct([["instructionDiscriminator",k.u8]],"DeprecatedCreateReservationListInstructionArgs"),r.deprecatedCreateReservationListInstructionDiscriminator=6,r.createDeprecatedCreateReservationListInstruction=function createDeprecatedCreateReservationListInstruction(e,n=new w.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var i,s;const[a]=r.DeprecatedCreateReservationListStruct.serialize({instructionDiscriminator:r.deprecatedCreateReservationListInstructionDiscriminator}),k=[{pubkey:e.reservationList,isWritable:!0,isSigner:!1},{pubkey:e.payer,isWritable:!1,isSigner:!0},{pubkey:e.updateAuthority,isWritable:!1,isSigner:!0},{pubkey:e.masterEdition,isWritable:!1,isSigner:!1},{pubkey:e.resource,isWritable:!1,isSigner:!1},{pubkey:e.metadata,isWritable:!1,isSigner:!1},{pubkey:null!==(i=e.systemProgram)&&void 0!==i?i:w.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:null!==(s=e.rent)&&void 0!==s?s:w.SYSVAR_RENT_PUBKEY,isWritable:!1,isSigner:!1}];return new w.TransactionInstruction({programId:n,keys:k,data:a})}},418065:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.createDeprecatedMintNewEditionFromMasterEditionViaPrintingTokenInstruction=r.deprecatedMintNewEditionFromMasterEditionViaPrintingTokenInstructionDiscriminator=r.DeprecatedMintNewEditionFromMasterEditionViaPrintingTokenStruct=void 0;const k=a(n(827510)),w=a(n(666808)),I=a(n(958966));r.DeprecatedMintNewEditionFromMasterEditionViaPrintingTokenStruct=new w.BeetArgsStruct([["instructionDiscriminator",w.u8]],"DeprecatedMintNewEditionFromMasterEditionViaPrintingTokenInstructionArgs"),r.deprecatedMintNewEditionFromMasterEditionViaPrintingTokenInstructionDiscriminator=3,r.createDeprecatedMintNewEditionFromMasterEditionViaPrintingTokenInstruction=function createDeprecatedMintNewEditionFromMasterEditionViaPrintingTokenInstruction(e,n=new I.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var i,s,a;const[w]=r.DeprecatedMintNewEditionFromMasterEditionViaPrintingTokenStruct.serialize({instructionDiscriminator:r.deprecatedMintNewEditionFromMasterEditionViaPrintingTokenInstructionDiscriminator}),we=[{pubkey:e.metadata,isWritable:!0,isSigner:!1},{pubkey:e.edition,isWritable:!0,isSigner:!1},{pubkey:e.masterEdition,isWritable:!0,isSigner:!1},{pubkey:e.mint,isWritable:!0,isSigner:!1},{pubkey:e.mintAuthority,isWritable:!1,isSigner:!0},{pubkey:e.printingMint,isWritable:!0,isSigner:!1},{pubkey:e.masterTokenAccount,isWritable:!0,isSigner:!1},{pubkey:e.editionMarker,isWritable:!0,isSigner:!1},{pubkey:e.burnAuthority,isWritable:!1,isSigner:!0},{pubkey:e.payer,isWritable:!1,isSigner:!0},{pubkey:e.masterUpdateAuthority,isWritable:!1,isSigner:!1},{pubkey:e.masterMetadata,isWritable:!1,isSigner:!1},{pubkey:null!==(i=e.tokenProgram)&&void 0!==i?i:k.TOKEN_PROGRAM_ID,isWritable:!1,isSigner:!1},{pubkey:null!==(s=e.systemProgram)&&void 0!==s?s:I.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:null!==(a=e.rent)&&void 0!==a?a:I.SYSVAR_RENT_PUBKEY,isWritable:!1,isSigner:!1}];return null!=e.reservationList&&we.push({pubkey:e.reservationList,isWritable:!0,isSigner:!1}),new I.TransactionInstruction({programId:n,keys:we,data:w})}},47815:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.createDeprecatedMintPrintingTokensInstruction=r.deprecatedMintPrintingTokensInstructionDiscriminator=r.DeprecatedMintPrintingTokensStruct=void 0;const k=a(n(827510)),w=a(n(666808)),I=a(n(958966));r.DeprecatedMintPrintingTokensStruct=new w.BeetArgsStruct([["instructionDiscriminator",w.u8]],"DeprecatedMintPrintingTokensInstructionArgs"),r.deprecatedMintPrintingTokensInstructionDiscriminator=9,r.createDeprecatedMintPrintingTokensInstruction=function createDeprecatedMintPrintingTokensInstruction(e,n=new I.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var i,s;const[a]=r.DeprecatedMintPrintingTokensStruct.serialize({instructionDiscriminator:r.deprecatedMintPrintingTokensInstructionDiscriminator}),w=[{pubkey:e.destination,isWritable:!0,isSigner:!1},{pubkey:e.printingMint,isWritable:!0,isSigner:!1},{pubkey:e.updateAuthority,isWritable:!1,isSigner:!0},{pubkey:e.metadata,isWritable:!1,isSigner:!1},{pubkey:e.masterEdition,isWritable:!1,isSigner:!1},{pubkey:null!==(i=e.tokenProgram)&&void 0!==i?i:k.TOKEN_PROGRAM_ID,isWritable:!1,isSigner:!1},{pubkey:null!==(s=e.rent)&&void 0!==s?s:I.SYSVAR_RENT_PUBKEY,isWritable:!1,isSigner:!1}];return new I.TransactionInstruction({programId:n,keys:w,data:a})}},890501:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.createDeprecatedMintPrintingTokensViaTokenInstruction=r.deprecatedMintPrintingTokensViaTokenInstructionDiscriminator=r.DeprecatedMintPrintingTokensViaTokenStruct=void 0;const k=a(n(827510)),w=a(n(666808)),I=a(n(958966));r.DeprecatedMintPrintingTokensViaTokenStruct=new w.BeetArgsStruct([["instructionDiscriminator",w.u8]],"DeprecatedMintPrintingTokensViaTokenInstructionArgs"),r.deprecatedMintPrintingTokensViaTokenInstructionDiscriminator=8,r.createDeprecatedMintPrintingTokensViaTokenInstruction=function createDeprecatedMintPrintingTokensViaTokenInstruction(e,n=new I.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var i,s;const[a]=r.DeprecatedMintPrintingTokensViaTokenStruct.serialize({instructionDiscriminator:r.deprecatedMintPrintingTokensViaTokenInstructionDiscriminator}),w=[{pubkey:e.destination,isWritable:!0,isSigner:!1},{pubkey:e.token,isWritable:!0,isSigner:!1},{pubkey:e.oneTimePrintingAuthorizationMint,isWritable:!0,isSigner:!1},{pubkey:e.printingMint,isWritable:!0,isSigner:!1},{pubkey:e.burnAuthority,isWritable:!1,isSigner:!0},{pubkey:e.metadata,isWritable:!1,isSigner:!1},{pubkey:e.masterEdition,isWritable:!1,isSigner:!1},{pubkey:null!==(i=e.tokenProgram)&&void 0!==i?i:k.TOKEN_PROGRAM_ID,isWritable:!1,isSigner:!1},{pubkey:null!==(s=e.rent)&&void 0!==s?s:I.SYSVAR_RENT_PUBKEY,isWritable:!1,isSigner:!1}];return new I.TransactionInstruction({programId:n,keys:w,data:a})}},266813:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.createDeprecatedSetReservationListInstruction=r.deprecatedSetReservationListInstructionDiscriminator=r.DeprecatedSetReservationListStruct=void 0;const k=a(n(666808)),w=a(n(958966));r.DeprecatedSetReservationListStruct=new k.BeetArgsStruct([["instructionDiscriminator",k.u8]],"DeprecatedSetReservationListInstructionArgs"),r.deprecatedSetReservationListInstructionDiscriminator=5,r.createDeprecatedSetReservationListInstruction=function createDeprecatedSetReservationListInstruction(e,n=new w.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){const[i]=r.DeprecatedSetReservationListStruct.serialize({instructionDiscriminator:r.deprecatedSetReservationListInstructionDiscriminator}),s=[{pubkey:e.masterEdition,isWritable:!0,isSigner:!1},{pubkey:e.reservationList,isWritable:!0,isSigner:!1},{pubkey:e.resource,isWritable:!1,isSigner:!0}];return new w.TransactionInstruction({programId:n,keys:s,data:i})}},725693:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.createFreezeDelegatedAccountInstruction=r.freezeDelegatedAccountInstructionDiscriminator=r.FreezeDelegatedAccountStruct=void 0;const k=a(n(827510)),w=a(n(666808)),I=a(n(958966));r.FreezeDelegatedAccountStruct=new w.BeetArgsStruct([["instructionDiscriminator",w.u8]],"FreezeDelegatedAccountInstructionArgs"),r.freezeDelegatedAccountInstructionDiscriminator=26,r.createFreezeDelegatedAccountInstruction=function createFreezeDelegatedAccountInstruction(e,n=new I.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var i;const[s]=r.FreezeDelegatedAccountStruct.serialize({instructionDiscriminator:r.freezeDelegatedAccountInstructionDiscriminator}),a=[{pubkey:e.delegate,isWritable:!0,isSigner:!0},{pubkey:e.tokenAccount,isWritable:!0,isSigner:!1},{pubkey:e.edition,isWritable:!1,isSigner:!1},{pubkey:e.mint,isWritable:!1,isSigner:!1},{pubkey:null!==(i=e.tokenProgram)&&void 0!==i?i:k.TOKEN_PROGRAM_ID,isWritable:!1,isSigner:!1}];return new I.TransactionInstruction({programId:n,keys:a,data:s})}},348209:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.createLockInstruction=r.lockInstructionDiscriminator=r.LockStruct=void 0;const k=a(n(666808)),w=a(n(958966)),I=n(42894);r.LockStruct=new k.FixableBeetArgsStruct([["instructionDiscriminator",k.u8],["lockArgs",I.lockArgsBeet]],"LockInstructionArgs"),r.lockInstructionDiscriminator=46,r.createLockInstruction=function createLockInstruction(e,n,i=new w.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var s,a,k,I,we,Ae,Be;const[Ce]=r.LockStruct.serialize({instructionDiscriminator:r.lockInstructionDiscriminator,...n}),ze=[{pubkey:e.authority,isWritable:!1,isSigner:!0},{pubkey:null!==(s=e.tokenOwner)&&void 0!==s?s:i,isWritable:!1,isSigner:!1},{pubkey:e.token,isWritable:!0,isSigner:!1},{pubkey:e.mint,isWritable:!1,isSigner:!1},{pubkey:e.metadata,isWritable:!0,isSigner:!1},{pubkey:null!==(a=e.edition)&&void 0!==a?a:i,isWritable:!1,isSigner:!1},{pubkey:null!==(k=e.tokenRecord)&&void 0!==k?k:i,isWritable:null!=e.tokenRecord,isSigner:!1},{pubkey:e.payer,isWritable:!0,isSigner:!0},{pubkey:null!==(I=e.systemProgram)&&void 0!==I?I:w.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:e.sysvarInstructions,isWritable:!1,isSigner:!1},{pubkey:null!==(we=e.splTokenProgram)&&void 0!==we?we:i,isWritable:!1,isSigner:!1},{pubkey:null!==(Ae=e.authorizationRulesProgram)&&void 0!==Ae?Ae:i,isWritable:!1,isSigner:!1},{pubkey:null!==(Be=e.authorizationRules)&&void 0!==Be?Be:i,isWritable:!1,isSigner:!1}];return new w.TransactionInstruction({programId:i,keys:ze,data:Ce})}},925301:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.createMigrateInstruction=r.migrateInstructionDiscriminator=r.MigrateStruct=void 0;const k=a(n(666808)),w=a(n(958966));r.MigrateStruct=new k.BeetArgsStruct([["instructionDiscriminator",k.u8]],"MigrateInstructionArgs"),r.migrateInstructionDiscriminator=48,r.createMigrateInstruction=function createMigrateInstruction(e,n=new w.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var i,s,a;const[k]=r.MigrateStruct.serialize({instructionDiscriminator:r.migrateInstructionDiscriminator}),I=[{pubkey:e.metadata,isWritable:!0,isSigner:!1},{pubkey:e.edition,isWritable:!0,isSigner:!1},{pubkey:e.token,isWritable:!0,isSigner:!1},{pubkey:e.tokenOwner,isWritable:!1,isSigner:!1},{pubkey:e.mint,isWritable:!1,isSigner:!1},{pubkey:e.payer,isWritable:!0,isSigner:!0},{pubkey:e.authority,isWritable:!1,isSigner:!0},{pubkey:e.collectionMetadata,isWritable:!1,isSigner:!1},{pubkey:e.delegateRecord,isWritable:!1,isSigner:!1},{pubkey:e.tokenRecord,isWritable:!0,isSigner:!1},{pubkey:null!==(i=e.systemProgram)&&void 0!==i?i:w.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:e.sysvarInstructions,isWritable:!1,isSigner:!1},{pubkey:e.splTokenProgram,isWritable:!1,isSigner:!1},{pubkey:null!==(s=e.authorizationRulesProgram)&&void 0!==s?s:n,isWritable:!1,isSigner:!1},{pubkey:null!==(a=e.authorizationRules)&&void 0!==a?a:n,isWritable:!1,isSigner:!1}];return new w.TransactionInstruction({programId:n,keys:I,data:k})}},705790:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.createMintInstruction=r.mintInstructionDiscriminator=r.MintStruct=void 0;const k=a(n(666808)),w=a(n(958966)),I=n(849029);r.MintStruct=new k.FixableBeetArgsStruct([["instructionDiscriminator",k.u8],["mintArgs",I.mintArgsBeet]],"MintInstructionArgs"),r.mintInstructionDiscriminator=43,r.createMintInstruction=function createMintInstruction(e,n,i=new w.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var s,a,k,I,we,Ae,Be;const[Ce]=r.MintStruct.serialize({instructionDiscriminator:r.mintInstructionDiscriminator,...n}),ze=[{pubkey:e.token,isWritable:!0,isSigner:!1},{pubkey:null!==(s=e.tokenOwner)&&void 0!==s?s:i,isWritable:!1,isSigner:!1},{pubkey:e.metadata,isWritable:!1,isSigner:!1},{pubkey:null!==(a=e.masterEdition)&&void 0!==a?a:i,isWritable:null!=e.masterEdition,isSigner:!1},{pubkey:null!==(k=e.tokenRecord)&&void 0!==k?k:i,isWritable:null!=e.tokenRecord,isSigner:!1},{pubkey:e.mint,isWritable:!0,isSigner:!1},{pubkey:e.authority,isWritable:!1,isSigner:!0},{pubkey:null!==(I=e.delegateRecord)&&void 0!==I?I:i,isWritable:!1,isSigner:!1},{pubkey:e.payer,isWritable:!0,isSigner:!0},{pubkey:null!==(we=e.systemProgram)&&void 0!==we?we:w.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:e.sysvarInstructions,isWritable:!1,isSigner:!1},{pubkey:e.splTokenProgram,isWritable:!1,isSigner:!1},{pubkey:e.splAtaProgram,isWritable:!1,isSigner:!1},{pubkey:null!==(Ae=e.authorizationRulesProgram)&&void 0!==Ae?Ae:i,isWritable:!1,isSigner:!1},{pubkey:null!==(Be=e.authorizationRules)&&void 0!==Be?Be:i,isWritable:!1,isSigner:!1}];return new w.TransactionInstruction({programId:i,keys:ze,data:Ce})}},503625:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.createMintNewEditionFromMasterEditionViaTokenInstruction=r.mintNewEditionFromMasterEditionViaTokenInstructionDiscriminator=r.MintNewEditionFromMasterEditionViaTokenStruct=void 0;const k=a(n(827510)),w=a(n(666808)),I=a(n(958966)),we=n(236862);r.MintNewEditionFromMasterEditionViaTokenStruct=new w.BeetArgsStruct([["instructionDiscriminator",w.u8],["mintNewEditionFromMasterEditionViaTokenArgs",we.mintNewEditionFromMasterEditionViaTokenArgsBeet]],"MintNewEditionFromMasterEditionViaTokenInstructionArgs"),r.mintNewEditionFromMasterEditionViaTokenInstructionDiscriminator=11,r.createMintNewEditionFromMasterEditionViaTokenInstruction=function createMintNewEditionFromMasterEditionViaTokenInstruction(e,n,i=new I.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var s,a;const[w]=r.MintNewEditionFromMasterEditionViaTokenStruct.serialize({instructionDiscriminator:r.mintNewEditionFromMasterEditionViaTokenInstructionDiscriminator,...n}),we=[{pubkey:e.newMetadata,isWritable:!0,isSigner:!1},{pubkey:e.newEdition,isWritable:!0,isSigner:!1},{pubkey:e.masterEdition,isWritable:!0,isSigner:!1},{pubkey:e.newMint,isWritable:!0,isSigner:!1},{pubkey:e.editionMarkPda,isWritable:!0,isSigner:!1},{pubkey:e.newMintAuthority,isWritable:!1,isSigner:!0},{pubkey:e.payer,isWritable:!0,isSigner:!0},{pubkey:e.tokenAccountOwner,isWritable:!1,isSigner:!0},{pubkey:e.tokenAccount,isWritable:!1,isSigner:!1},{pubkey:e.newMetadataUpdateAuthority,isWritable:!1,isSigner:!1},{pubkey:e.metadata,isWritable:!1,isSigner:!1},{pubkey:null!==(s=e.tokenProgram)&&void 0!==s?s:k.TOKEN_PROGRAM_ID,isWritable:!1,isSigner:!1},{pubkey:null!==(a=e.systemProgram)&&void 0!==a?a:I.SystemProgram.programId,isWritable:!1,isSigner:!1}];return null!=e.rent&&we.push({pubkey:e.rent,isWritable:!1,isSigner:!1}),new I.TransactionInstruction({programId:i,keys:we,data:w})}},45478:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.createMintNewEditionFromMasterEditionViaVaultProxyInstruction=r.mintNewEditionFromMasterEditionViaVaultProxyInstructionDiscriminator=r.MintNewEditionFromMasterEditionViaVaultProxyStruct=void 0;const k=a(n(827510)),w=a(n(666808)),I=a(n(958966)),we=n(236862);r.MintNewEditionFromMasterEditionViaVaultProxyStruct=new w.BeetArgsStruct([["instructionDiscriminator",w.u8],["mintNewEditionFromMasterEditionViaTokenArgs",we.mintNewEditionFromMasterEditionViaTokenArgsBeet]],"MintNewEditionFromMasterEditionViaVaultProxyInstructionArgs"),r.mintNewEditionFromMasterEditionViaVaultProxyInstructionDiscriminator=13,r.createMintNewEditionFromMasterEditionViaVaultProxyInstruction=function createMintNewEditionFromMasterEditionViaVaultProxyInstruction(e,n,i=new I.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var s,a;const[w]=r.MintNewEditionFromMasterEditionViaVaultProxyStruct.serialize({instructionDiscriminator:r.mintNewEditionFromMasterEditionViaVaultProxyInstructionDiscriminator,...n}),we=[{pubkey:e.newMetadata,isWritable:!0,isSigner:!1},{pubkey:e.newEdition,isWritable:!0,isSigner:!1},{pubkey:e.masterEdition,isWritable:!0,isSigner:!1},{pubkey:e.newMint,isWritable:!0,isSigner:!1},{pubkey:e.editionMarkPda,isWritable:!0,isSigner:!1},{pubkey:e.newMintAuthority,isWritable:!1,isSigner:!0},{pubkey:e.payer,isWritable:!0,isSigner:!0},{pubkey:e.vaultAuthority,isWritable:!1,isSigner:!0},{pubkey:e.safetyDepositStore,isWritable:!1,isSigner:!1},{pubkey:e.safetyDepositBox,isWritable:!1,isSigner:!1},{pubkey:e.vault,isWritable:!1,isSigner:!1},{pubkey:e.newMetadataUpdateAuthority,isWritable:!1,isSigner:!1},{pubkey:e.metadata,isWritable:!1,isSigner:!1},{pubkey:null!==(s=e.tokenProgram)&&void 0!==s?s:k.TOKEN_PROGRAM_ID,isWritable:!1,isSigner:!1},{pubkey:e.tokenVaultProgram,isWritable:!1,isSigner:!1},{pubkey:null!==(a=e.systemProgram)&&void 0!==a?a:I.SystemProgram.programId,isWritable:!1,isSigner:!1}];return null!=e.rent&&we.push({pubkey:e.rent,isWritable:!1,isSigner:!1}),new I.TransactionInstruction({programId:i,keys:we,data:w})}},752355:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.createPrintInstruction=r.printInstructionDiscriminator=r.PrintStruct=void 0;const k=a(n(666808)),w=a(n(958966)),I=n(921196);r.PrintStruct=new k.FixableBeetArgsStruct([["instructionDiscriminator",k.u8],["printArgs",I.printArgsBeet]],"PrintInstructionArgs"),r.printInstructionDiscriminator=55,r.createPrintInstruction=function createPrintInstruction(e,n,i=new w.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var s,a;const[k]=r.PrintStruct.serialize({instructionDiscriminator:r.printInstructionDiscriminator,...n}),I=[{pubkey:e.editionMetadata,isWritable:!0,isSigner:!1},{pubkey:e.edition,isWritable:!0,isSigner:!1},{pubkey:e.editionMint,isWritable:!0,isSigner:!1},{pubkey:e.editionTokenAccountOwner,isWritable:!1,isSigner:!1},{pubkey:e.editionTokenAccount,isWritable:!0,isSigner:!1},{pubkey:e.editionMintAuthority,isWritable:!1,isSigner:!0},{pubkey:null!==(s=e.editionTokenRecord)&&void 0!==s?s:i,isWritable:null!=e.editionTokenRecord,isSigner:!1},{pubkey:e.masterEdition,isWritable:!0,isSigner:!1},{pubkey:e.editionMarkerPda,isWritable:!0,isSigner:!1},{pubkey:e.payer,isWritable:!0,isSigner:!0},{pubkey:e.masterTokenAccountOwner,isWritable:!1,isSigner:!0},{pubkey:e.masterTokenAccount,isWritable:!1,isSigner:!1},{pubkey:e.masterMetadata,isWritable:!1,isSigner:!1},{pubkey:e.updateAuthority,isWritable:!1,isSigner:!1},{pubkey:e.splTokenProgram,isWritable:!1,isSigner:!1},{pubkey:e.splAtaProgram,isWritable:!1,isSigner:!1},{pubkey:e.sysvarInstructions,isWritable:!1,isSigner:!1},{pubkey:null!==(a=e.systemProgram)&&void 0!==a?a:w.SystemProgram.programId,isWritable:!1,isSigner:!1}];return new w.TransactionInstruction({programId:i,keys:I,data:k})}},173160:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.createPuffMetadataInstruction=r.puffMetadataInstructionDiscriminator=r.PuffMetadataStruct=void 0;const k=a(n(666808)),w=a(n(958966));r.PuffMetadataStruct=new k.BeetArgsStruct([["instructionDiscriminator",k.u8]],"PuffMetadataInstructionArgs"),r.puffMetadataInstructionDiscriminator=14,r.createPuffMetadataInstruction=function createPuffMetadataInstruction(e,n=new w.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){const[i]=r.PuffMetadataStruct.serialize({instructionDiscriminator:r.puffMetadataInstructionDiscriminator}),s=[{pubkey:e.metadata,isWritable:!0,isSigner:!1}];return new w.TransactionInstruction({programId:n,keys:s,data:i})}},352099:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.createRemoveCreatorVerificationInstruction=r.removeCreatorVerificationInstructionDiscriminator=r.RemoveCreatorVerificationStruct=void 0;const k=a(n(666808)),w=a(n(958966));r.RemoveCreatorVerificationStruct=new k.BeetArgsStruct([["instructionDiscriminator",k.u8]],"RemoveCreatorVerificationInstructionArgs"),r.removeCreatorVerificationInstructionDiscriminator=28,r.createRemoveCreatorVerificationInstruction=function createRemoveCreatorVerificationInstruction(e,n=new w.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){const[i]=r.RemoveCreatorVerificationStruct.serialize({instructionDiscriminator:r.removeCreatorVerificationInstructionDiscriminator}),s=[{pubkey:e.metadata,isWritable:!0,isSigner:!1},{pubkey:e.creator,isWritable:!1,isSigner:!0}];return new w.TransactionInstruction({programId:n,keys:s,data:i})}},982068:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.createRevokeInstruction=r.revokeInstructionDiscriminator=r.RevokeStruct=void 0;const k=a(n(666808)),w=a(n(958966)),I=n(868971);r.RevokeStruct=new k.BeetArgsStruct([["instructionDiscriminator",k.u8],["revokeArgs",I.revokeArgsBeet]],"RevokeInstructionArgs"),r.revokeInstructionDiscriminator=45,r.createRevokeInstruction=function createRevokeInstruction(e,n,i=new w.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var s,a,k,I,we,Ae,Be,Ce;const[ze]=r.RevokeStruct.serialize({instructionDiscriminator:r.revokeInstructionDiscriminator,...n}),qe=[{pubkey:null!==(s=e.delegateRecord)&&void 0!==s?s:i,isWritable:null!=e.delegateRecord,isSigner:!1},{pubkey:e.delegate,isWritable:!1,isSigner:!1},{pubkey:e.metadata,isWritable:!0,isSigner:!1},{pubkey:null!==(a=e.masterEdition)&&void 0!==a?a:i,isWritable:!1,isSigner:!1},{pubkey:null!==(k=e.tokenRecord)&&void 0!==k?k:i,isWritable:null!=e.tokenRecord,isSigner:!1},{pubkey:e.mint,isWritable:!1,isSigner:!1},{pubkey:null!==(I=e.token)&&void 0!==I?I:i,isWritable:null!=e.token,isSigner:!1},{pubkey:e.authority,isWritable:!1,isSigner:!0},{pubkey:e.payer,isWritable:!0,isSigner:!0},{pubkey:null!==(we=e.systemProgram)&&void 0!==we?we:w.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:e.sysvarInstructions,isWritable:!1,isSigner:!1},{pubkey:null!==(Ae=e.splTokenProgram)&&void 0!==Ae?Ae:i,isWritable:!1,isSigner:!1},{pubkey:null!==(Be=e.authorizationRulesProgram)&&void 0!==Be?Be:i,isWritable:!1,isSigner:!1},{pubkey:null!==(Ce=e.authorizationRules)&&void 0!==Ce?Ce:i,isWritable:!1,isSigner:!1}];return new w.TransactionInstruction({programId:i,keys:qe,data:ze})}},228619:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.createRevokeCollectionAuthorityInstruction=r.revokeCollectionAuthorityInstructionDiscriminator=r.RevokeCollectionAuthorityStruct=void 0;const k=a(n(666808)),w=a(n(958966));r.RevokeCollectionAuthorityStruct=new k.BeetArgsStruct([["instructionDiscriminator",k.u8]],"RevokeCollectionAuthorityInstructionArgs"),r.revokeCollectionAuthorityInstructionDiscriminator=24,r.createRevokeCollectionAuthorityInstruction=function createRevokeCollectionAuthorityInstruction(e,n=new w.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){const[i]=r.RevokeCollectionAuthorityStruct.serialize({instructionDiscriminator:r.revokeCollectionAuthorityInstructionDiscriminator}),s=[{pubkey:e.collectionAuthorityRecord,isWritable:!0,isSigner:!1},{pubkey:e.delegateAuthority,isWritable:!0,isSigner:!1},{pubkey:e.revokeAuthority,isWritable:!0,isSigner:!0},{pubkey:e.metadata,isWritable:!1,isSigner:!1},{pubkey:e.mint,isWritable:!1,isSigner:!1}];return new w.TransactionInstruction({programId:n,keys:s,data:i})}},502844:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.createRevokeUseAuthorityInstruction=r.revokeUseAuthorityInstructionDiscriminator=r.RevokeUseAuthorityStruct=void 0;const k=a(n(827510)),w=a(n(666808)),I=a(n(958966));r.RevokeUseAuthorityStruct=new w.BeetArgsStruct([["instructionDiscriminator",w.u8]],"RevokeUseAuthorityInstructionArgs"),r.revokeUseAuthorityInstructionDiscriminator=21,r.createRevokeUseAuthorityInstruction=function createRevokeUseAuthorityInstruction(e,n=new I.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var i,s;const[a]=r.RevokeUseAuthorityStruct.serialize({instructionDiscriminator:r.revokeUseAuthorityInstructionDiscriminator}),w=[{pubkey:e.useAuthorityRecord,isWritable:!0,isSigner:!1},{pubkey:e.owner,isWritable:!0,isSigner:!0},{pubkey:e.user,isWritable:!1,isSigner:!1},{pubkey:e.ownerTokenAccount,isWritable:!0,isSigner:!1},{pubkey:e.mint,isWritable:!1,isSigner:!1},{pubkey:e.metadata,isWritable:!1,isSigner:!1},{pubkey:null!==(i=e.tokenProgram)&&void 0!==i?i:k.TOKEN_PROGRAM_ID,isWritable:!1,isSigner:!1},{pubkey:null!==(s=e.systemProgram)&&void 0!==s?s:I.SystemProgram.programId,isWritable:!1,isSigner:!1}];return null!=e.rent&&w.push({pubkey:e.rent,isWritable:!1,isSigner:!1}),new I.TransactionInstruction({programId:n,keys:w,data:a})}},745354:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.createSetAndVerifyCollectionInstruction=r.setAndVerifyCollectionInstructionDiscriminator=r.SetAndVerifyCollectionStruct=void 0;const k=a(n(666808)),w=a(n(958966));r.SetAndVerifyCollectionStruct=new k.BeetArgsStruct([["instructionDiscriminator",k.u8]],"SetAndVerifyCollectionInstructionArgs"),r.setAndVerifyCollectionInstructionDiscriminator=25,r.createSetAndVerifyCollectionInstruction=function createSetAndVerifyCollectionInstruction(e,n=new w.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){const[i]=r.SetAndVerifyCollectionStruct.serialize({instructionDiscriminator:r.setAndVerifyCollectionInstructionDiscriminator}),s=[{pubkey:e.metadata,isWritable:!0,isSigner:!1},{pubkey:e.collectionAuthority,isWritable:!0,isSigner:!0},{pubkey:e.payer,isWritable:!0,isSigner:!0},{pubkey:e.updateAuthority,isWritable:!1,isSigner:!1},{pubkey:e.collectionMint,isWritable:!1,isSigner:!1},{pubkey:e.collection,isWritable:!1,isSigner:!1},{pubkey:e.collectionMasterEditionAccount,isWritable:!1,isSigner:!1}];return null!=e.collectionAuthorityRecord&&s.push({pubkey:e.collectionAuthorityRecord,isWritable:!1,isSigner:!1}),new w.TransactionInstruction({programId:n,keys:s,data:i})}},214e3:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.createSetAndVerifySizedCollectionItemInstruction=r.setAndVerifySizedCollectionItemInstructionDiscriminator=r.SetAndVerifySizedCollectionItemStruct=void 0;const k=a(n(666808)),w=a(n(958966));r.SetAndVerifySizedCollectionItemStruct=new k.BeetArgsStruct([["instructionDiscriminator",k.u8]],"SetAndVerifySizedCollectionItemInstructionArgs"),r.setAndVerifySizedCollectionItemInstructionDiscriminator=32,r.createSetAndVerifySizedCollectionItemInstruction=function createSetAndVerifySizedCollectionItemInstruction(e,n=new w.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){const[i]=r.SetAndVerifySizedCollectionItemStruct.serialize({instructionDiscriminator:r.setAndVerifySizedCollectionItemInstructionDiscriminator}),s=[{pubkey:e.metadata,isWritable:!0,isSigner:!1},{pubkey:e.collectionAuthority,isWritable:!1,isSigner:!0},{pubkey:e.payer,isWritable:!0,isSigner:!0},{pubkey:e.updateAuthority,isWritable:!1,isSigner:!1},{pubkey:e.collectionMint,isWritable:!1,isSigner:!1},{pubkey:e.collection,isWritable:!0,isSigner:!1},{pubkey:e.collectionMasterEditionAccount,isWritable:!0,isSigner:!1}];return null!=e.collectionAuthorityRecord&&s.push({pubkey:e.collectionAuthorityRecord,isWritable:!1,isSigner:!1}),new w.TransactionInstruction({programId:n,keys:s,data:i})}},142473:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.createSetCollectionSizeInstruction=r.setCollectionSizeInstructionDiscriminator=r.SetCollectionSizeStruct=void 0;const k=a(n(666808)),w=a(n(958966)),I=n(886894);r.SetCollectionSizeStruct=new k.BeetArgsStruct([["instructionDiscriminator",k.u8],["setCollectionSizeArgs",I.setCollectionSizeArgsBeet]],"SetCollectionSizeInstructionArgs"),r.setCollectionSizeInstructionDiscriminator=34,r.createSetCollectionSizeInstruction=function createSetCollectionSizeInstruction(e,n,i=new w.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){const[s]=r.SetCollectionSizeStruct.serialize({instructionDiscriminator:r.setCollectionSizeInstructionDiscriminator,...n}),a=[{pubkey:e.collectionMetadata,isWritable:!0,isSigner:!1},{pubkey:e.collectionAuthority,isWritable:!0,isSigner:!0},{pubkey:e.collectionMint,isWritable:!1,isSigner:!1}];return null!=e.collectionAuthorityRecord&&a.push({pubkey:e.collectionAuthorityRecord,isWritable:!1,isSigner:!1}),new w.TransactionInstruction({programId:i,keys:a,data:s})}},840818:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.createSetTokenStandardInstruction=r.setTokenStandardInstructionDiscriminator=r.SetTokenStandardStruct=void 0;const k=a(n(666808)),w=a(n(958966));r.SetTokenStandardStruct=new k.BeetArgsStruct([["instructionDiscriminator",k.u8]],"SetTokenStandardInstructionArgs"),r.setTokenStandardInstructionDiscriminator=35,r.createSetTokenStandardInstruction=function createSetTokenStandardInstruction(e,n=new w.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){const[i]=r.SetTokenStandardStruct.serialize({instructionDiscriminator:r.setTokenStandardInstructionDiscriminator}),s=[{pubkey:e.metadata,isWritable:!0,isSigner:!1},{pubkey:e.updateAuthority,isWritable:!1,isSigner:!0},{pubkey:e.mint,isWritable:!1,isSigner:!1}];return null!=e.edition&&s.push({pubkey:e.edition,isWritable:!1,isSigner:!1}),new w.TransactionInstruction({programId:n,keys:s,data:i})}},940822:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.createSignMetadataInstruction=r.signMetadataInstructionDiscriminator=r.SignMetadataStruct=void 0;const k=a(n(666808)),w=a(n(958966));r.SignMetadataStruct=new k.BeetArgsStruct([["instructionDiscriminator",k.u8]],"SignMetadataInstructionArgs"),r.signMetadataInstructionDiscriminator=7,r.createSignMetadataInstruction=function createSignMetadataInstruction(e,n=new w.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){const[i]=r.SignMetadataStruct.serialize({instructionDiscriminator:r.signMetadataInstructionDiscriminator}),s=[{pubkey:e.metadata,isWritable:!0,isSigner:!1},{pubkey:e.creator,isWritable:!1,isSigner:!0}];return new w.TransactionInstruction({programId:n,keys:s,data:i})}},990514:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.createThawDelegatedAccountInstruction=r.thawDelegatedAccountInstructionDiscriminator=r.ThawDelegatedAccountStruct=void 0;const k=a(n(827510)),w=a(n(666808)),I=a(n(958966));r.ThawDelegatedAccountStruct=new w.BeetArgsStruct([["instructionDiscriminator",w.u8]],"ThawDelegatedAccountInstructionArgs"),r.thawDelegatedAccountInstructionDiscriminator=27,r.createThawDelegatedAccountInstruction=function createThawDelegatedAccountInstruction(e,n=new I.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var i;const[s]=r.ThawDelegatedAccountStruct.serialize({instructionDiscriminator:r.thawDelegatedAccountInstructionDiscriminator}),a=[{pubkey:e.delegate,isWritable:!0,isSigner:!0},{pubkey:e.tokenAccount,isWritable:!0,isSigner:!1},{pubkey:e.edition,isWritable:!1,isSigner:!1},{pubkey:e.mint,isWritable:!1,isSigner:!1},{pubkey:null!==(i=e.tokenProgram)&&void 0!==i?i:k.TOKEN_PROGRAM_ID,isWritable:!1,isSigner:!1}];return new I.TransactionInstruction({programId:n,keys:a,data:s})}},985117:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.createTransferInstruction=r.transferInstructionDiscriminator=r.TransferStruct=void 0;const k=a(n(666808)),w=a(n(958966)),I=n(756058);r.TransferStruct=new k.FixableBeetArgsStruct([["instructionDiscriminator",k.u8],["transferArgs",I.transferArgsBeet]],"TransferInstructionArgs"),r.transferInstructionDiscriminator=49,r.createTransferInstruction=function createTransferInstruction(e,n,i=new w.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var s,a,k,I,we,Ae;const[Be]=r.TransferStruct.serialize({instructionDiscriminator:r.transferInstructionDiscriminator,...n}),Ce=[{pubkey:e.token,isWritable:!0,isSigner:!1},{pubkey:e.tokenOwner,isWritable:!1,isSigner:!1},{pubkey:e.destination,isWritable:!0,isSigner:!1},{pubkey:e.destinationOwner,isWritable:!1,isSigner:!1},{pubkey:e.mint,isWritable:!1,isSigner:!1},{pubkey:e.metadata,isWritable:!0,isSigner:!1},{pubkey:null!==(s=e.edition)&&void 0!==s?s:i,isWritable:!1,isSigner:!1},{pubkey:null!==(a=e.ownerTokenRecord)&&void 0!==a?a:i,isWritable:null!=e.ownerTokenRecord,isSigner:!1},{pubkey:null!==(k=e.destinationTokenRecord)&&void 0!==k?k:i,isWritable:null!=e.destinationTokenRecord,isSigner:!1},{pubkey:e.authority,isWritable:!1,isSigner:!0},{pubkey:e.payer,isWritable:!0,isSigner:!0},{pubkey:null!==(I=e.systemProgram)&&void 0!==I?I:w.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:e.sysvarInstructions,isWritable:!1,isSigner:!1},{pubkey:e.splTokenProgram,isWritable:!1,isSigner:!1},{pubkey:e.splAtaProgram,isWritable:!1,isSigner:!1},{pubkey:null!==(we=e.authorizationRulesProgram)&&void 0!==we?we:i,isWritable:!1,isSigner:!1},{pubkey:null!==(Ae=e.authorizationRules)&&void 0!==Ae?Ae:i,isWritable:!1,isSigner:!1}];return new w.TransactionInstruction({programId:i,keys:Ce,data:Be})}},738895:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.createTransferOutOfEscrowInstruction=r.transferOutOfEscrowInstructionDiscriminator=r.TransferOutOfEscrowStruct=void 0;const k=a(n(827510)),w=a(n(666808)),I=a(n(958966)),we=n(965140);r.TransferOutOfEscrowStruct=new w.BeetArgsStruct([["instructionDiscriminator",w.u8],["transferOutOfEscrowArgs",we.transferOutOfEscrowArgsBeet]],"TransferOutOfEscrowInstructionArgs"),r.transferOutOfEscrowInstructionDiscriminator=40,r.createTransferOutOfEscrowInstruction=function createTransferOutOfEscrowInstruction(e,n,i=new I.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var s,a,w;const[we]=r.TransferOutOfEscrowStruct.serialize({instructionDiscriminator:r.transferOutOfEscrowInstructionDiscriminator,...n}),Ae=[{pubkey:e.escrow,isWritable:!1,isSigner:!1},{pubkey:e.metadata,isWritable:!0,isSigner:!1},{pubkey:e.payer,isWritable:!0,isSigner:!0},{pubkey:e.attributeMint,isWritable:!1,isSigner:!1},{pubkey:e.attributeSrc,isWritable:!0,isSigner:!1},{pubkey:e.attributeDst,isWritable:!0,isSigner:!1},{pubkey:e.escrowMint,isWritable:!1,isSigner:!1},{pubkey:e.escrowAccount,isWritable:!1,isSigner:!1},{pubkey:null!==(s=e.systemProgram)&&void 0!==s?s:I.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:null!==(a=e.ataProgram)&&void 0!==a?a:k.ASSOCIATED_TOKEN_PROGRAM_ID,isWritable:!1,isSigner:!1},{pubkey:null!==(w=e.tokenProgram)&&void 0!==w?w:k.TOKEN_PROGRAM_ID,isWritable:!1,isSigner:!1},{pubkey:e.sysvarInstructions,isWritable:!1,isSigner:!1}];return null!=e.authority&&Ae.push({pubkey:e.authority,isWritable:!1,isSigner:!0}),new I.TransactionInstruction({programId:i,keys:Ae,data:we})}},555906:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.createUnlockInstruction=r.unlockInstructionDiscriminator=r.UnlockStruct=void 0;const k=a(n(666808)),w=a(n(958966)),I=n(567821);r.UnlockStruct=new k.FixableBeetArgsStruct([["instructionDiscriminator",k.u8],["unlockArgs",I.unlockArgsBeet]],"UnlockInstructionArgs"),r.unlockInstructionDiscriminator=47,r.createUnlockInstruction=function createUnlockInstruction(e,n,i=new w.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var s,a,k,I,we,Ae,Be;const[Ce]=r.UnlockStruct.serialize({instructionDiscriminator:r.unlockInstructionDiscriminator,...n}),ze=[{pubkey:e.authority,isWritable:!1,isSigner:!0},{pubkey:null!==(s=e.tokenOwner)&&void 0!==s?s:i,isWritable:!1,isSigner:!1},{pubkey:e.token,isWritable:!0,isSigner:!1},{pubkey:e.mint,isWritable:!1,isSigner:!1},{pubkey:e.metadata,isWritable:!0,isSigner:!1},{pubkey:null!==(a=e.edition)&&void 0!==a?a:i,isWritable:!1,isSigner:!1},{pubkey:null!==(k=e.tokenRecord)&&void 0!==k?k:i,isWritable:null!=e.tokenRecord,isSigner:!1},{pubkey:e.payer,isWritable:!0,isSigner:!0},{pubkey:null!==(I=e.systemProgram)&&void 0!==I?I:w.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:e.sysvarInstructions,isWritable:!1,isSigner:!1},{pubkey:null!==(we=e.splTokenProgram)&&void 0!==we?we:i,isWritable:!1,isSigner:!1},{pubkey:null!==(Ae=e.authorizationRulesProgram)&&void 0!==Ae?Ae:i,isWritable:!1,isSigner:!1},{pubkey:null!==(Be=e.authorizationRules)&&void 0!==Be?Be:i,isWritable:!1,isSigner:!1}];return new w.TransactionInstruction({programId:i,keys:ze,data:Ce})}},943508:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.createUnverifyInstruction=r.unverifyInstructionDiscriminator=r.UnverifyStruct=void 0;const k=a(n(666808)),w=a(n(958966)),I=n(537710);r.UnverifyStruct=new k.BeetArgsStruct([["instructionDiscriminator",k.u8],["verificationArgs",I.verificationArgsBeet]],"UnverifyInstructionArgs"),r.unverifyInstructionDiscriminator=53,r.createUnverifyInstruction=function createUnverifyInstruction(e,n,i=new w.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var s,a,k,I;const[we]=r.UnverifyStruct.serialize({instructionDiscriminator:r.unverifyInstructionDiscriminator,...n}),Ae=[{pubkey:e.authority,isWritable:!1,isSigner:!0},{pubkey:null!==(s=e.delegateRecord)&&void 0!==s?s:i,isWritable:!1,isSigner:!1},{pubkey:e.metadata,isWritable:!0,isSigner:!1},{pubkey:null!==(a=e.collectionMint)&&void 0!==a?a:i,isWritable:!1,isSigner:!1},{pubkey:null!==(k=e.collectionMetadata)&&void 0!==k?k:i,isWritable:null!=e.collectionMetadata,isSigner:!1},{pubkey:null!==(I=e.systemProgram)&&void 0!==I?I:w.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:e.sysvarInstructions,isWritable:!1,isSigner:!1}];return new w.TransactionInstruction({programId:i,keys:Ae,data:we})}},524204:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.createUnverifyCollectionInstruction=r.unverifyCollectionInstructionDiscriminator=r.UnverifyCollectionStruct=void 0;const k=a(n(666808)),w=a(n(958966));r.UnverifyCollectionStruct=new k.BeetArgsStruct([["instructionDiscriminator",k.u8]],"UnverifyCollectionInstructionArgs"),r.unverifyCollectionInstructionDiscriminator=22,r.createUnverifyCollectionInstruction=function createUnverifyCollectionInstruction(e,n=new w.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){const[i]=r.UnverifyCollectionStruct.serialize({instructionDiscriminator:r.unverifyCollectionInstructionDiscriminator}),s=[{pubkey:e.metadata,isWritable:!0,isSigner:!1},{pubkey:e.collectionAuthority,isWritable:!0,isSigner:!0},{pubkey:e.collectionMint,isWritable:!1,isSigner:!1},{pubkey:e.collection,isWritable:!1,isSigner:!1},{pubkey:e.collectionMasterEditionAccount,isWritable:!1,isSigner:!1}];return null!=e.collectionAuthorityRecord&&s.push({pubkey:e.collectionAuthorityRecord,isWritable:!1,isSigner:!1}),new w.TransactionInstruction({programId:n,keys:s,data:i})}},291918:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.createUnverifySizedCollectionItemInstruction=r.unverifySizedCollectionItemInstructionDiscriminator=r.UnverifySizedCollectionItemStruct=void 0;const k=a(n(666808)),w=a(n(958966));r.UnverifySizedCollectionItemStruct=new k.BeetArgsStruct([["instructionDiscriminator",k.u8]],"UnverifySizedCollectionItemInstructionArgs"),r.unverifySizedCollectionItemInstructionDiscriminator=31,r.createUnverifySizedCollectionItemInstruction=function createUnverifySizedCollectionItemInstruction(e,n=new w.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){const[i]=r.UnverifySizedCollectionItemStruct.serialize({instructionDiscriminator:r.unverifySizedCollectionItemInstructionDiscriminator}),s=[{pubkey:e.metadata,isWritable:!0,isSigner:!1},{pubkey:e.collectionAuthority,isWritable:!1,isSigner:!0},{pubkey:e.payer,isWritable:!0,isSigner:!0},{pubkey:e.collectionMint,isWritable:!1,isSigner:!1},{pubkey:e.collection,isWritable:!0,isSigner:!1},{pubkey:e.collectionMasterEditionAccount,isWritable:!1,isSigner:!1}];return null!=e.collectionAuthorityRecord&&s.push({pubkey:e.collectionAuthorityRecord,isWritable:!1,isSigner:!1}),new w.TransactionInstruction({programId:n,keys:s,data:i})}},751527:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.createUpdateInstruction=r.updateInstructionDiscriminator=r.UpdateStruct=void 0;const k=a(n(666808)),w=a(n(958966)),I=n(518428);r.UpdateStruct=new k.FixableBeetArgsStruct([["instructionDiscriminator",k.u8],["updateArgs",I.updateArgsBeet]],"UpdateInstructionArgs"),r.updateInstructionDiscriminator=50,r.createUpdateInstruction=function createUpdateInstruction(e,n,i=new w.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var s,a,k,I,we,Ae;const[Be]=r.UpdateStruct.serialize({instructionDiscriminator:r.updateInstructionDiscriminator,...n}),Ce=[{pubkey:e.authority,isWritable:!1,isSigner:!0},{pubkey:null!==(s=e.delegateRecord)&&void 0!==s?s:i,isWritable:!1,isSigner:!1},{pubkey:null!==(a=e.token)&&void 0!==a?a:i,isWritable:!1,isSigner:!1},{pubkey:e.mint,isWritable:!1,isSigner:!1},{pubkey:e.metadata,isWritable:!0,isSigner:!1},{pubkey:null!==(k=e.edition)&&void 0!==k?k:i,isWritable:!1,isSigner:!1},{pubkey:e.payer,isWritable:!0,isSigner:!0},{pubkey:null!==(I=e.systemProgram)&&void 0!==I?I:w.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:e.sysvarInstructions,isWritable:!1,isSigner:!1},{pubkey:null!==(we=e.authorizationRulesProgram)&&void 0!==we?we:i,isWritable:!1,isSigner:!1},{pubkey:null!==(Ae=e.authorizationRules)&&void 0!==Ae?Ae:i,isWritable:!1,isSigner:!1}];return new w.TransactionInstruction({programId:i,keys:Ce,data:Be})}},48667:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.createUpdateMetadataAccountInstruction=r.updateMetadataAccountInstructionDiscriminator=r.UpdateMetadataAccountStruct=void 0;const k=a(n(666808)),w=a(n(958966));r.UpdateMetadataAccountStruct=new k.BeetArgsStruct([["instructionDiscriminator",k.u8]],"UpdateMetadataAccountInstructionArgs"),r.updateMetadataAccountInstructionDiscriminator=1,r.createUpdateMetadataAccountInstruction=function createUpdateMetadataAccountInstruction(e,n=new w.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){const[i]=r.UpdateMetadataAccountStruct.serialize({instructionDiscriminator:r.updateMetadataAccountInstructionDiscriminator}),s=[{pubkey:e.metadata,isWritable:!0,isSigner:!1},{pubkey:e.updateAuthority,isWritable:!1,isSigner:!0}];return new w.TransactionInstruction({programId:n,keys:s,data:i})}},407115:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.createUpdateMetadataAccountV2Instruction=r.updateMetadataAccountV2InstructionDiscriminator=r.UpdateMetadataAccountV2Struct=void 0;const k=a(n(666808)),w=a(n(958966)),I=n(327928);r.UpdateMetadataAccountV2Struct=new k.FixableBeetArgsStruct([["instructionDiscriminator",k.u8],["updateMetadataAccountArgsV2",I.updateMetadataAccountArgsV2Beet]],"UpdateMetadataAccountV2InstructionArgs"),r.updateMetadataAccountV2InstructionDiscriminator=15,r.createUpdateMetadataAccountV2Instruction=function createUpdateMetadataAccountV2Instruction(e,n,i=new w.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){const[s]=r.UpdateMetadataAccountV2Struct.serialize({instructionDiscriminator:r.updateMetadataAccountV2InstructionDiscriminator,...n}),a=[{pubkey:e.metadata,isWritable:!0,isSigner:!1},{pubkey:e.updateAuthority,isWritable:!1,isSigner:!0}];return new w.TransactionInstruction({programId:i,keys:a,data:s})}},218150:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.createUpdatePrimarySaleHappenedViaTokenInstruction=r.updatePrimarySaleHappenedViaTokenInstructionDiscriminator=r.UpdatePrimarySaleHappenedViaTokenStruct=void 0;const k=a(n(666808)),w=a(n(958966));r.UpdatePrimarySaleHappenedViaTokenStruct=new k.BeetArgsStruct([["instructionDiscriminator",k.u8]],"UpdatePrimarySaleHappenedViaTokenInstructionArgs"),r.updatePrimarySaleHappenedViaTokenInstructionDiscriminator=4,r.createUpdatePrimarySaleHappenedViaTokenInstruction=function createUpdatePrimarySaleHappenedViaTokenInstruction(e,n=new w.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){const[i]=r.UpdatePrimarySaleHappenedViaTokenStruct.serialize({instructionDiscriminator:r.updatePrimarySaleHappenedViaTokenInstructionDiscriminator}),s=[{pubkey:e.metadata,isWritable:!0,isSigner:!1},{pubkey:e.owner,isWritable:!1,isSigner:!0},{pubkey:e.token,isWritable:!1,isSigner:!1}];return new w.TransactionInstruction({programId:n,keys:s,data:i})}},962855:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.createUseInstruction=r.useInstructionDiscriminator=r.UseStruct=void 0;const k=a(n(666808)),w=a(n(958966)),I=n(919804);r.UseStruct=new k.FixableBeetArgsStruct([["instructionDiscriminator",k.u8],["useArgs",I.useArgsBeet]],"UseInstructionArgs"),r.useInstructionDiscriminator=51,r.createUseInstruction=function createUseInstruction(e,n,i=new w.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var s,a,k,I,we,Ae,Be;const[Ce]=r.UseStruct.serialize({instructionDiscriminator:r.useInstructionDiscriminator,...n}),ze=[{pubkey:e.authority,isWritable:!1,isSigner:!0},{pubkey:null!==(s=e.delegateRecord)&&void 0!==s?s:i,isWritable:null!=e.delegateRecord,isSigner:!1},{pubkey:null!==(a=e.token)&&void 0!==a?a:i,isWritable:null!=e.token,isSigner:!1},{pubkey:e.mint,isWritable:!1,isSigner:!1},{pubkey:e.metadata,isWritable:!0,isSigner:!1},{pubkey:null!==(k=e.edition)&&void 0!==k?k:i,isWritable:null!=e.edition,isSigner:!1},{pubkey:e.payer,isWritable:!1,isSigner:!0},{pubkey:null!==(I=e.systemProgram)&&void 0!==I?I:w.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:e.sysvarInstructions,isWritable:!1,isSigner:!1},{pubkey:null!==(we=e.splTokenProgram)&&void 0!==we?we:i,isWritable:!1,isSigner:!1},{pubkey:null!==(Ae=e.authorizationRulesProgram)&&void 0!==Ae?Ae:i,isWritable:!1,isSigner:!1},{pubkey:null!==(Be=e.authorizationRules)&&void 0!==Be?Be:i,isWritable:!1,isSigner:!1}];return new w.TransactionInstruction({programId:i,keys:ze,data:Ce})}},22070:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.createUtilizeInstruction=r.utilizeInstructionDiscriminator=r.UtilizeStruct=void 0;const k=a(n(827510)),w=a(n(666808)),I=a(n(958966)),we=n(393313);r.UtilizeStruct=new w.BeetArgsStruct([["instructionDiscriminator",w.u8],["utilizeArgs",we.utilizeArgsBeet]],"UtilizeInstructionArgs"),r.utilizeInstructionDiscriminator=19,r.createUtilizeInstruction=function createUtilizeInstruction(e,n,i=new I.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var s,a,w,we;const[Ae]=r.UtilizeStruct.serialize({instructionDiscriminator:r.utilizeInstructionDiscriminator,...n}),Be=[{pubkey:e.metadata,isWritable:!0,isSigner:!1},{pubkey:e.tokenAccount,isWritable:!0,isSigner:!1},{pubkey:e.mint,isWritable:!0,isSigner:!1},{pubkey:e.useAuthority,isWritable:!0,isSigner:!0},{pubkey:e.owner,isWritable:!1,isSigner:!1},{pubkey:null!==(s=e.tokenProgram)&&void 0!==s?s:k.TOKEN_PROGRAM_ID,isWritable:!1,isSigner:!1},{pubkey:null!==(a=e.ataProgram)&&void 0!==a?a:k.ASSOCIATED_TOKEN_PROGRAM_ID,isWritable:!1,isSigner:!1},{pubkey:null!==(w=e.systemProgram)&&void 0!==w?w:I.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:null!==(we=e.rent)&&void 0!==we?we:I.SYSVAR_RENT_PUBKEY,isWritable:!1,isSigner:!1}];if(null!=e.useAuthorityRecord&&Be.push({pubkey:e.useAuthorityRecord,isWritable:!0,isSigner:!1}),null!=e.burner){if(null==e.useAuthorityRecord)throw new Error("When providing 'burner' then 'accounts.useAuthorityRecord' need(s) to be provided as well.");Be.push({pubkey:e.burner,isWritable:!1,isSigner:!1})}return new I.TransactionInstruction({programId:i,keys:Be,data:Ae})}},351319:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.createVerifyInstruction=r.verifyInstructionDiscriminator=r.VerifyStruct=void 0;const k=a(n(666808)),w=a(n(958966)),I=n(537710);r.VerifyStruct=new k.BeetArgsStruct([["instructionDiscriminator",k.u8],["verificationArgs",I.verificationArgsBeet]],"VerifyInstructionArgs"),r.verifyInstructionDiscriminator=52,r.createVerifyInstruction=function createVerifyInstruction(e,n,i=new w.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){var s,a,k,I,we;const[Ae]=r.VerifyStruct.serialize({instructionDiscriminator:r.verifyInstructionDiscriminator,...n}),Be=[{pubkey:e.authority,isWritable:!1,isSigner:!0},{pubkey:null!==(s=e.delegateRecord)&&void 0!==s?s:i,isWritable:!1,isSigner:!1},{pubkey:e.metadata,isWritable:!0,isSigner:!1},{pubkey:null!==(a=e.collectionMint)&&void 0!==a?a:i,isWritable:!1,isSigner:!1},{pubkey:null!==(k=e.collectionMetadata)&&void 0!==k?k:i,isWritable:null!=e.collectionMetadata,isSigner:!1},{pubkey:null!==(I=e.collectionMasterEdition)&&void 0!==I?I:i,isWritable:!1,isSigner:!1},{pubkey:null!==(we=e.systemProgram)&&void 0!==we?we:w.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:e.sysvarInstructions,isWritable:!1,isSigner:!1}];return new w.TransactionInstruction({programId:i,keys:Be,data:Ae})}},617731:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.createVerifyCollectionInstruction=r.verifyCollectionInstructionDiscriminator=r.VerifyCollectionStruct=void 0;const k=a(n(666808)),w=a(n(958966));r.VerifyCollectionStruct=new k.BeetArgsStruct([["instructionDiscriminator",k.u8]],"VerifyCollectionInstructionArgs"),r.verifyCollectionInstructionDiscriminator=18,r.createVerifyCollectionInstruction=function createVerifyCollectionInstruction(e,n=new w.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){const[i]=r.VerifyCollectionStruct.serialize({instructionDiscriminator:r.verifyCollectionInstructionDiscriminator}),s=[{pubkey:e.metadata,isWritable:!0,isSigner:!1},{pubkey:e.collectionAuthority,isWritable:!0,isSigner:!0},{pubkey:e.payer,isWritable:!0,isSigner:!0},{pubkey:e.collectionMint,isWritable:!1,isSigner:!1},{pubkey:e.collection,isWritable:!1,isSigner:!1},{pubkey:e.collectionMasterEditionAccount,isWritable:!1,isSigner:!1}];return null!=e.collectionAuthorityRecord&&s.push({pubkey:e.collectionAuthorityRecord,isWritable:!1,isSigner:!1}),new w.TransactionInstruction({programId:n,keys:s,data:i})}},786695:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.createVerifySizedCollectionItemInstruction=r.verifySizedCollectionItemInstructionDiscriminator=r.VerifySizedCollectionItemStruct=void 0;const k=a(n(666808)),w=a(n(958966));r.VerifySizedCollectionItemStruct=new k.BeetArgsStruct([["instructionDiscriminator",k.u8]],"VerifySizedCollectionItemInstructionArgs"),r.verifySizedCollectionItemInstructionDiscriminator=30,r.createVerifySizedCollectionItemInstruction=function createVerifySizedCollectionItemInstruction(e,n=new w.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s")){const[i]=r.VerifySizedCollectionItemStruct.serialize({instructionDiscriminator:r.verifySizedCollectionItemInstructionDiscriminator}),s=[{pubkey:e.metadata,isWritable:!0,isSigner:!1},{pubkey:e.collectionAuthority,isWritable:!1,isSigner:!0},{pubkey:e.payer,isWritable:!0,isSigner:!0},{pubkey:e.collectionMint,isWritable:!1,isSigner:!1},{pubkey:e.collection,isWritable:!0,isSigner:!1},{pubkey:e.collectionMasterEditionAccount,isWritable:!1,isSigner:!1}];return null!=e.collectionAuthorityRecord&&s.push({pubkey:e.collectionAuthorityRecord,isWritable:!1,isSigner:!1}),new w.TransactionInstruction({programId:n,keys:s,data:i})}},360972:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__exportStar||function(e,r){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||i(r,e,n)};Object.defineProperty(r,"__esModule",{value:!0}),s(n(36308),r),s(n(258373),r),s(n(591992),r),s(n(332787),r),s(n(103045),r),s(n(311939),r),s(n(367516),r),s(n(244118),r),s(n(934071),r),s(n(706922),r),s(n(508610),r),s(n(172612),r),s(n(139431),r),s(n(555712),r),s(n(97876),r),s(n(71227),r),s(n(282937),r),s(n(447383),r),s(n(448785),r),s(n(418065),r),s(n(47815),r),s(n(890501),r),s(n(266813),r),s(n(725693),r),s(n(348209),r),s(n(925301),r),s(n(705790),r),s(n(503625),r),s(n(45478),r),s(n(752355),r),s(n(173160),r),s(n(352099),r),s(n(982068),r),s(n(228619),r),s(n(502844),r),s(n(745354),r),s(n(214e3),r),s(n(142473),r),s(n(840818),r),s(n(940822),r),s(n(990514),r),s(n(985117),r),s(n(738895),r),s(n(555906),r),s(n(943508),r),s(n(524204),r),s(n(291918),r),s(n(751527),r),s(n(48667),r),s(n(407115),r),s(n(218150),r),s(n(962855),r),s(n(22070),r),s(n(351319),r),s(n(617731),r),s(n(786695),r)},586850:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.approveUseAuthorityArgsBeet=void 0;const k=a(n(666808));r.approveUseAuthorityArgsBeet=new k.BeetArgsStruct([["numberOfUses",k.u64]],"ApproveUseAuthorityArgs")},693290:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.assetDataBeet=void 0;const k=a(n(666808)),w=a(n(326514)),I=n(109590),we=n(267418),Ae=n(865524),Be=n(865708),Ce=n(768004);r.assetDataBeet=new k.FixableBeetArgsStruct([["name",k.utf8String],["symbol",k.utf8String],["uri",k.utf8String],["sellerFeeBasisPoints",k.u16],["creators",k.coption(k.array(I.creatorBeet))],["primarySaleHappened",k.bool],["isMutable",k.bool],["tokenStandard",we.tokenStandardBeet],["collection",k.coption(Ae.collectionBeet)],["uses",k.coption(Be.usesBeet)],["collectionDetails",k.coption(Ce.collectionDetailsBeet)],["ruleSet",k.coption(w.publicKey)]],"AssetData")},539331:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.authorityTypeBeet=r.AuthorityType=void 0;const k=a(n(666808));var w;!function(e){e[e.None=0]="None",e[e.Metadata=1]="Metadata",e[e.Holder=2]="Holder",e[e.MetadataDelegate=3]="MetadataDelegate",e[e.TokenDelegate=4]="TokenDelegate"}(w=r.AuthorityType||(r.AuthorityType={})),r.authorityTypeBeet=k.fixedScalarEnum(w)},929207:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.authorizationDataBeet=void 0;const k=a(n(666808)),w=n(280780);r.authorizationDataBeet=new k.FixableBeetArgsStruct([["payload",w.payloadBeet]],"AuthorizationData")},890420:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.burnArgsBeet=r.isBurnArgsV1=void 0;const k=a(n(666808));r.isBurnArgsV1=e=>"V1"===e.__kind,r.burnArgsBeet=k.dataEnum([["V1",new k.BeetArgsStruct([["amount",k.u64]],'BurnArgsRecord["V1"]')]])},865524:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.collectionBeet=void 0;const k=a(n(666808)),w=a(n(326514));r.collectionBeet=new k.BeetArgsStruct([["verified",k.bool],["key",w.publicKey]],"Collection")},768004:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.collectionDetailsBeet=r.isCollectionDetailsV1=void 0;const k=a(n(666808));r.isCollectionDetailsV1=e=>"V1"===e.__kind,r.collectionDetailsBeet=k.dataEnum([["V1",new k.BeetArgsStruct([["size",k.u64]],'CollectionDetailsRecord["V1"]')]])},80144:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.collectionDetailsToggleBeet=r.isCollectionDetailsToggleSet=r.isCollectionDetailsToggleClear=r.isCollectionDetailsToggleNone=void 0;const k=a(n(666808)),w=n(768004);r.isCollectionDetailsToggleNone=e=>"None"===e.__kind;r.isCollectionDetailsToggleClear=e=>"Clear"===e.__kind;r.isCollectionDetailsToggleSet=e=>"Set"===e.__kind,r.collectionDetailsToggleBeet=k.dataEnum([["None",k.unit],["Clear",k.unit],["Set",new k.FixableBeetArgsStruct([["fields",k.tuple([w.collectionDetailsBeet])]],'CollectionDetailsToggleRecord["Set"]')]])},105824:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.collectionToggleBeet=r.isCollectionToggleSet=r.isCollectionToggleClear=r.isCollectionToggleNone=void 0;const k=a(n(666808)),w=n(865524);r.isCollectionToggleNone=e=>"None"===e.__kind;r.isCollectionToggleClear=e=>"Clear"===e.__kind;r.isCollectionToggleSet=e=>"Set"===e.__kind,r.collectionToggleBeet=k.dataEnum([["None",k.unit],["Clear",k.unit],["Set",new k.BeetArgsStruct([["fields",k.fixedSizeTuple([w.collectionBeet])]],'CollectionToggleRecord["Set"]')]])},720949:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.createArgsBeet=r.isCreateArgsV1=void 0;const k=a(n(666808)),w=n(693290),I=n(763974);r.isCreateArgsV1=e=>"V1"===e.__kind,r.createArgsBeet=k.dataEnum([["V1",new k.FixableBeetArgsStruct([["assetData",w.assetDataBeet],["decimals",k.coption(k.u8)],["printSupply",k.coption(I.printSupplyBeet)]],'CreateArgsRecord["V1"]')]])},784175:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.createMasterEditionArgsBeet=void 0;const k=a(n(666808));r.createMasterEditionArgsBeet=new k.FixableBeetArgsStruct([["maxSupply",k.coption(k.u64)]],"CreateMasterEditionArgs")},631164:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.createMetadataAccountArgsV3Beet=void 0;const k=a(n(666808)),w=n(253040),I=n(768004);r.createMetadataAccountArgsV3Beet=new k.FixableBeetArgsStruct([["data",w.dataV2Beet],["isMutable",k.bool],["collectionDetails",k.coption(I.collectionDetailsBeet)]],"CreateMetadataAccountArgsV3")},109590:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.creatorBeet=void 0;const k=a(n(326514)),w=a(n(666808));r.creatorBeet=new w.BeetArgsStruct([["address",k.publicKey],["verified",w.bool],["share",w.u8]],"Creator")},175972:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.dataBeet=void 0;const k=a(n(666808)),w=n(109590);r.dataBeet=new k.FixableBeetArgsStruct([["name",k.utf8String],["symbol",k.utf8String],["uri",k.utf8String],["sellerFeeBasisPoints",k.u16],["creators",k.coption(k.array(w.creatorBeet))]],"Data")},253040:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.dataV2Beet=void 0;const k=a(n(666808)),w=n(109590),I=n(865524),we=n(865708);r.dataV2Beet=new k.FixableBeetArgsStruct([["name",k.utf8String],["symbol",k.utf8String],["uri",k.utf8String],["sellerFeeBasisPoints",k.u16],["creators",k.coption(k.array(w.creatorBeet))],["collection",k.coption(I.collectionBeet)],["uses",k.coption(we.usesBeet)]],"DataV2")},547430:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.delegateArgsBeet=r.isDelegateArgsProgrammableConfigItemV1=r.isDelegateArgsCollectionItemV1=r.isDelegateArgsDataItemV1=r.isDelegateArgsAuthorityItemV1=r.isDelegateArgsProgrammableConfigV1=r.isDelegateArgsLockedTransferV1=r.isDelegateArgsStandardV1=r.isDelegateArgsStakingV1=r.isDelegateArgsUtilityV1=r.isDelegateArgsDataV1=r.isDelegateArgsTransferV1=r.isDelegateArgsSaleV1=r.isDelegateArgsCollectionV1=void 0;const k=a(n(666808)),w=a(n(326514)),I=n(929207);r.isDelegateArgsCollectionV1=e=>"CollectionV1"===e.__kind;r.isDelegateArgsSaleV1=e=>"SaleV1"===e.__kind;r.isDelegateArgsTransferV1=e=>"TransferV1"===e.__kind;r.isDelegateArgsDataV1=e=>"DataV1"===e.__kind;r.isDelegateArgsUtilityV1=e=>"UtilityV1"===e.__kind;r.isDelegateArgsStakingV1=e=>"StakingV1"===e.__kind;r.isDelegateArgsStandardV1=e=>"StandardV1"===e.__kind;r.isDelegateArgsLockedTransferV1=e=>"LockedTransferV1"===e.__kind;r.isDelegateArgsProgrammableConfigV1=e=>"ProgrammableConfigV1"===e.__kind;r.isDelegateArgsAuthorityItemV1=e=>"AuthorityItemV1"===e.__kind;r.isDelegateArgsDataItemV1=e=>"DataItemV1"===e.__kind;r.isDelegateArgsCollectionItemV1=e=>"CollectionItemV1"===e.__kind;r.isDelegateArgsProgrammableConfigItemV1=e=>"ProgrammableConfigItemV1"===e.__kind,r.delegateArgsBeet=k.dataEnum([["CollectionV1",new k.FixableBeetArgsStruct([["authorizationData",k.coption(I.authorizationDataBeet)]],'DelegateArgsRecord["CollectionV1"]')],["SaleV1",new k.FixableBeetArgsStruct([["amount",k.u64],["authorizationData",k.coption(I.authorizationDataBeet)]],'DelegateArgsRecord["SaleV1"]')],["TransferV1",new k.FixableBeetArgsStruct([["amount",k.u64],["authorizationData",k.coption(I.authorizationDataBeet)]],'DelegateArgsRecord["TransferV1"]')],["DataV1",new k.FixableBeetArgsStruct([["authorizationData",k.coption(I.authorizationDataBeet)]],'DelegateArgsRecord["DataV1"]')],["UtilityV1",new k.FixableBeetArgsStruct([["amount",k.u64],["authorizationData",k.coption(I.authorizationDataBeet)]],'DelegateArgsRecord["UtilityV1"]')],["StakingV1",new k.FixableBeetArgsStruct([["amount",k.u64],["authorizationData",k.coption(I.authorizationDataBeet)]],'DelegateArgsRecord["StakingV1"]')],["StandardV1",new k.BeetArgsStruct([["amount",k.u64]],'DelegateArgsRecord["StandardV1"]')],["LockedTransferV1",new k.FixableBeetArgsStruct([["amount",k.u64],["lockedAddress",w.publicKey],["authorizationData",k.coption(I.authorizationDataBeet)]],'DelegateArgsRecord["LockedTransferV1"]')],["ProgrammableConfigV1",new k.FixableBeetArgsStruct([["authorizationData",k.coption(I.authorizationDataBeet)]],'DelegateArgsRecord["ProgrammableConfigV1"]')],["AuthorityItemV1",new k.FixableBeetArgsStruct([["authorizationData",k.coption(I.authorizationDataBeet)]],'DelegateArgsRecord["AuthorityItemV1"]')],["DataItemV1",new k.FixableBeetArgsStruct([["authorizationData",k.coption(I.authorizationDataBeet)]],'DelegateArgsRecord["DataItemV1"]')],["CollectionItemV1",new k.FixableBeetArgsStruct([["authorizationData",k.coption(I.authorizationDataBeet)]],'DelegateArgsRecord["CollectionItemV1"]')],["ProgrammableConfigItemV1",new k.FixableBeetArgsStruct([["authorizationData",k.coption(I.authorizationDataBeet)]],'DelegateArgsRecord["ProgrammableConfigItemV1"]')]])},482798:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.escrowAuthorityBeet=r.isEscrowAuthorityCreator=r.isEscrowAuthorityTokenOwner=void 0;const k=a(n(666808)),w=a(n(326514));r.isEscrowAuthorityTokenOwner=e=>"TokenOwner"===e.__kind;r.isEscrowAuthorityCreator=e=>"Creator"===e.__kind,r.escrowAuthorityBeet=k.dataEnum([["TokenOwner",k.unit],["Creator",new k.BeetArgsStruct([["fields",k.fixedSizeTuple([w.publicKey])]],'EscrowAuthorityRecord["Creator"]')]])},233777:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.keyBeet=r.Key=void 0;const k=a(n(666808));var w;!function(e){e[e.Uninitialized=0]="Uninitialized",e[e.EditionV1=1]="EditionV1",e[e.MasterEditionV1=2]="MasterEditionV1",e[e.ReservationListV1=3]="ReservationListV1",e[e.MetadataV1=4]="MetadataV1",e[e.ReservationListV2=5]="ReservationListV2",e[e.MasterEditionV2=6]="MasterEditionV2",e[e.EditionMarker=7]="EditionMarker",e[e.UseAuthorityRecord=8]="UseAuthorityRecord",e[e.CollectionAuthorityRecord=9]="CollectionAuthorityRecord",e[e.TokenOwnedEscrow=10]="TokenOwnedEscrow",e[e.TokenRecord=11]="TokenRecord",e[e.MetadataDelegate=12]="MetadataDelegate",e[e.EditionMarkerV2=13]="EditionMarkerV2"}(w=r.Key||(r.Key={})),r.keyBeet=k.fixedScalarEnum(w)},273484:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.leafInfoBeet=void 0;const k=a(n(666808));r.leafInfoBeet=new k.FixableBeetArgsStruct([["leaf",k.uniformFixedSizeArray(k.u8,32)],["proof",k.array(k.uniformFixedSizeArray(k.u8,32))]],"LeafInfo")},42894:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.lockArgsBeet=r.isLockArgsV1=void 0;const k=a(n(666808)),w=n(929207);r.isLockArgsV1=e=>"V1"===e.__kind,r.lockArgsBeet=k.dataEnum([["V1",new k.FixableBeetArgsStruct([["authorizationData",k.coption(w.authorizationDataBeet)]],'LockArgsRecord["V1"]')]])},214314:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.metadataDelegateRoleBeet=r.MetadataDelegateRole=void 0;const k=a(n(666808));var w;!function(e){e[e.AuthorityItem=0]="AuthorityItem",e[e.Collection=1]="Collection",e[e.Use=2]="Use",e[e.Data=3]="Data",e[e.ProgrammableConfig=4]="ProgrammableConfig",e[e.DataItem=5]="DataItem",e[e.CollectionItem=6]="CollectionItem",e[e.ProgrammableConfigItem=7]="ProgrammableConfigItem"}(w=r.MetadataDelegateRole||(r.MetadataDelegateRole={})),r.metadataDelegateRoleBeet=k.fixedScalarEnum(w)},842178:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.migrationTypeBeet=r.MigrationType=void 0;const k=a(n(666808));var w;!function(e){e[e.CollectionV1=0]="CollectionV1",e[e.ProgrammableV1=1]="ProgrammableV1"}(w=r.MigrationType||(r.MigrationType={})),r.migrationTypeBeet=k.fixedScalarEnum(w)},849029:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.mintArgsBeet=r.isMintArgsV1=void 0;const k=a(n(666808)),w=n(929207);r.isMintArgsV1=e=>"V1"===e.__kind,r.mintArgsBeet=k.dataEnum([["V1",new k.FixableBeetArgsStruct([["amount",k.u64],["authorizationData",k.coption(w.authorizationDataBeet)]],'MintArgsRecord["V1"]')]])},236862:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.mintNewEditionFromMasterEditionViaTokenArgsBeet=void 0;const k=a(n(666808));r.mintNewEditionFromMasterEditionViaTokenArgsBeet=new k.BeetArgsStruct([["edition",k.u64]],"MintNewEditionFromMasterEditionViaTokenArgs")},280780:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.payloadBeet=void 0;const k=a(n(666808)),w=n(233908);r.payloadBeet=new k.FixableBeetArgsStruct([["map",k.map(k.utf8String,w.payloadTypeBeet)]],"Payload")},519777:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.payloadKeyBeet=r.PayloadKey=void 0;const k=a(n(666808));var w;!function(e){e[e.Amount=0]="Amount",e[e.Authority=1]="Authority",e[e.AuthoritySeeds=2]="AuthoritySeeds",e[e.Delegate=3]="Delegate",e[e.DelegateSeeds=4]="DelegateSeeds",e[e.Destination=5]="Destination",e[e.DestinationSeeds=6]="DestinationSeeds",e[e.Holder=7]="Holder",e[e.Source=8]="Source",e[e.SourceSeeds=9]="SourceSeeds"}(w=r.PayloadKey||(r.PayloadKey={})),r.payloadKeyBeet=k.fixedScalarEnum(w)},233908:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.payloadTypeBeet=r.isPayloadTypeNumber=r.isPayloadTypeMerkleProof=r.isPayloadTypeSeeds=r.isPayloadTypePubkey=void 0;const k=a(n(666808)),w=a(n(326514)),I=n(665180),we=n(273484);r.isPayloadTypePubkey=e=>"Pubkey"===e.__kind;r.isPayloadTypeSeeds=e=>"Seeds"===e.__kind;r.isPayloadTypeMerkleProof=e=>"MerkleProof"===e.__kind;r.isPayloadTypeNumber=e=>"Number"===e.__kind,r.payloadTypeBeet=k.dataEnum([["Pubkey",new k.BeetArgsStruct([["fields",k.fixedSizeTuple([w.publicKey])]],'PayloadTypeRecord["Pubkey"]')],["Seeds",new k.FixableBeetArgsStruct([["fields",k.tuple([I.seedsVecBeet])]],'PayloadTypeRecord["Seeds"]')],["MerkleProof",new k.FixableBeetArgsStruct([["fields",k.tuple([we.leafInfoBeet])]],'PayloadTypeRecord["MerkleProof"]')],["Number",new k.BeetArgsStruct([["fields",k.fixedSizeTuple([k.u64])]],'PayloadTypeRecord["Number"]')]])},921196:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.printArgsBeet=r.isPrintArgsV1=void 0;const k=a(n(666808));r.isPrintArgsV1=e=>"V1"===e.__kind,r.printArgsBeet=k.dataEnum([["V1",new k.BeetArgsStruct([["edition",k.u64]],'PrintArgsRecord["V1"]')]])},763974:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.printSupplyBeet=r.isPrintSupplyUnlimited=r.isPrintSupplyLimited=r.isPrintSupplyZero=void 0;const k=a(n(666808));r.isPrintSupplyZero=e=>"Zero"===e.__kind;r.isPrintSupplyLimited=e=>"Limited"===e.__kind;r.isPrintSupplyUnlimited=e=>"Unlimited"===e.__kind,r.printSupplyBeet=k.dataEnum([["Zero",k.unit],["Limited",new k.BeetArgsStruct([["fields",k.fixedSizeTuple([k.u64])]],'PrintSupplyRecord["Limited"]')],["Unlimited",k.unit]])},906957:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.programmableConfigBeet=r.isProgrammableConfigV1=void 0;const k=a(n(666808)),w=a(n(326514));r.isProgrammableConfigV1=e=>"V1"===e.__kind,r.programmableConfigBeet=k.dataEnum([["V1",new k.FixableBeetArgsStruct([["ruleSet",k.coption(w.publicKey)]],'ProgrammableConfigRecord["V1"]')]])},251356:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.reservationBeet=void 0;const k=a(n(666808)),w=a(n(326514));r.reservationBeet=new k.BeetArgsStruct([["address",w.publicKey],["spotsRemaining",k.u64],["totalSpots",k.u64]],"Reservation")},96033:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.reservationV1Beet=void 0;const k=a(n(326514)),w=a(n(666808));r.reservationV1Beet=new w.BeetArgsStruct([["address",k.publicKey],["spotsRemaining",w.u8],["totalSpots",w.u8]],"ReservationV1")},868971:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.revokeArgsBeet=r.RevokeArgs=void 0;const k=a(n(666808));var w;!function(e){e[e.CollectionV1=0]="CollectionV1",e[e.SaleV1=1]="SaleV1",e[e.TransferV1=2]="TransferV1",e[e.DataV1=3]="DataV1",e[e.UtilityV1=4]="UtilityV1",e[e.StakingV1=5]="StakingV1",e[e.StandardV1=6]="StandardV1",e[e.LockedTransferV1=7]="LockedTransferV1",e[e.ProgrammableConfigV1=8]="ProgrammableConfigV1",e[e.MigrationV1=9]="MigrationV1",e[e.AuthorityItemV1=10]="AuthorityItemV1",e[e.DataItemV1=11]="DataItemV1",e[e.CollectionItemV1=12]="CollectionItemV1",e[e.ProgrammableConfigItemV1=13]="ProgrammableConfigItemV1"}(w=r.RevokeArgs||(r.RevokeArgs={})),r.revokeArgsBeet=k.fixedScalarEnum(w)},248176:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.ruleSetToggleBeet=r.isRuleSetToggleSet=r.isRuleSetToggleClear=r.isRuleSetToggleNone=void 0;const k=a(n(666808)),w=a(n(326514));r.isRuleSetToggleNone=e=>"None"===e.__kind;r.isRuleSetToggleClear=e=>"Clear"===e.__kind;r.isRuleSetToggleSet=e=>"Set"===e.__kind,r.ruleSetToggleBeet=k.dataEnum([["None",k.unit],["Clear",k.unit],["Set",new k.BeetArgsStruct([["fields",k.fixedSizeTuple([w.publicKey])]],'RuleSetToggleRecord["Set"]')]])},665180:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.seedsVecBeet=void 0;const k=a(n(666808));r.seedsVecBeet=new k.FixableBeetArgsStruct([["seeds",k.array(k.bytes)]],"SeedsVec")},886894:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.setCollectionSizeArgsBeet=void 0;const k=a(n(666808));r.setCollectionSizeArgsBeet=new k.BeetArgsStruct([["size",k.u64]],"SetCollectionSizeArgs")},364236:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.tokenDelegateRoleBeet=r.TokenDelegateRole=void 0;const k=a(n(666808));var w;!function(e){e[e.Sale=0]="Sale",e[e.Transfer=1]="Transfer",e[e.Utility=2]="Utility",e[e.Staking=3]="Staking",e[e.Standard=4]="Standard",e[e.LockedTransfer=5]="LockedTransfer",e[e.Migration=6]="Migration"}(w=r.TokenDelegateRole||(r.TokenDelegateRole={})),r.tokenDelegateRoleBeet=k.fixedScalarEnum(w)},267418:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.tokenStandardBeet=r.TokenStandard=void 0;const k=a(n(666808));var w;!function(e){e[e.NonFungible=0]="NonFungible",e[e.FungibleAsset=1]="FungibleAsset",e[e.Fungible=2]="Fungible",e[e.NonFungibleEdition=3]="NonFungibleEdition",e[e.ProgrammableNonFungible=4]="ProgrammableNonFungible",e[e.ProgrammableNonFungibleEdition=5]="ProgrammableNonFungibleEdition"}(w=r.TokenStandard||(r.TokenStandard={})),r.tokenStandardBeet=k.fixedScalarEnum(w)},769034:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.tokenStateBeet=r.TokenState=void 0;const k=a(n(666808));var w;!function(e){e[e.Unlocked=0]="Unlocked",e[e.Locked=1]="Locked",e[e.Listed=2]="Listed"}(w=r.TokenState||(r.TokenState={})),r.tokenStateBeet=k.fixedScalarEnum(w)},756058:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.transferArgsBeet=r.isTransferArgsV1=void 0;const k=a(n(666808)),w=n(929207);r.isTransferArgsV1=e=>"V1"===e.__kind,r.transferArgsBeet=k.dataEnum([["V1",new k.FixableBeetArgsStruct([["amount",k.u64],["authorizationData",k.coption(w.authorizationDataBeet)]],'TransferArgsRecord["V1"]')]])},965140:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.transferOutOfEscrowArgsBeet=void 0;const k=a(n(666808));r.transferOutOfEscrowArgsBeet=new k.BeetArgsStruct([["amount",k.u64]],"TransferOutOfEscrowArgs")},567821:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.unlockArgsBeet=r.isUnlockArgsV1=void 0;const k=a(n(666808)),w=n(929207);r.isUnlockArgsV1=e=>"V1"===e.__kind,r.unlockArgsBeet=k.dataEnum([["V1",new k.FixableBeetArgsStruct([["authorizationData",k.coption(w.authorizationDataBeet)]],'UnlockArgsRecord["V1"]')]])},518428:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.updateArgsBeet=r.isUpdateArgsAsProgrammableConfigItemDelegateV2=r.isUpdateArgsAsCollectionItemDelegateV2=r.isUpdateArgsAsDataItemDelegateV2=r.isUpdateArgsAsProgrammableConfigDelegateV2=r.isUpdateArgsAsDataDelegateV2=r.isUpdateArgsAsCollectionDelegateV2=r.isUpdateArgsAsAuthorityItemDelegateV2=r.isUpdateArgsAsUpdateAuthorityV2=r.isUpdateArgsV1=void 0;const k=a(n(666808)),w=a(n(326514)),I=n(175972),we=n(105824),Ae=n(80144),Be=n(974840),Ce=n(248176),ze=n(929207),qe=n(267418);r.isUpdateArgsV1=e=>"V1"===e.__kind;r.isUpdateArgsAsUpdateAuthorityV2=e=>"AsUpdateAuthorityV2"===e.__kind;r.isUpdateArgsAsAuthorityItemDelegateV2=e=>"AsAuthorityItemDelegateV2"===e.__kind;r.isUpdateArgsAsCollectionDelegateV2=e=>"AsCollectionDelegateV2"===e.__kind;r.isUpdateArgsAsDataDelegateV2=e=>"AsDataDelegateV2"===e.__kind;r.isUpdateArgsAsProgrammableConfigDelegateV2=e=>"AsProgrammableConfigDelegateV2"===e.__kind;r.isUpdateArgsAsDataItemDelegateV2=e=>"AsDataItemDelegateV2"===e.__kind;r.isUpdateArgsAsCollectionItemDelegateV2=e=>"AsCollectionItemDelegateV2"===e.__kind;r.isUpdateArgsAsProgrammableConfigItemDelegateV2=e=>"AsProgrammableConfigItemDelegateV2"===e.__kind,r.updateArgsBeet=k.dataEnum([["V1",new k.FixableBeetArgsStruct([["newUpdateAuthority",k.coption(w.publicKey)],["data",k.coption(I.dataBeet)],["primarySaleHappened",k.coption(k.bool)],["isMutable",k.coption(k.bool)],["collection",we.collectionToggleBeet],["collectionDetails",Ae.collectionDetailsToggleBeet],["uses",Be.usesToggleBeet],["ruleSet",Ce.ruleSetToggleBeet],["authorizationData",k.coption(ze.authorizationDataBeet)]],'UpdateArgsRecord["V1"]')],["AsUpdateAuthorityV2",new k.FixableBeetArgsStruct([["newUpdateAuthority",k.coption(w.publicKey)],["data",k.coption(I.dataBeet)],["primarySaleHappened",k.coption(k.bool)],["isMutable",k.coption(k.bool)],["collection",we.collectionToggleBeet],["collectionDetails",Ae.collectionDetailsToggleBeet],["uses",Be.usesToggleBeet],["ruleSet",Ce.ruleSetToggleBeet],["tokenStandard",k.coption(qe.tokenStandardBeet)],["authorizationData",k.coption(ze.authorizationDataBeet)]],'UpdateArgsRecord["AsUpdateAuthorityV2"]')],["AsAuthorityItemDelegateV2",new k.FixableBeetArgsStruct([["newUpdateAuthority",k.coption(w.publicKey)],["primarySaleHappened",k.coption(k.bool)],["isMutable",k.coption(k.bool)],["tokenStandard",k.coption(qe.tokenStandardBeet)],["authorizationData",k.coption(ze.authorizationDataBeet)]],'UpdateArgsRecord["AsAuthorityItemDelegateV2"]')],["AsCollectionDelegateV2",new k.FixableBeetArgsStruct([["collection",we.collectionToggleBeet],["authorizationData",k.coption(ze.authorizationDataBeet)]],'UpdateArgsRecord["AsCollectionDelegateV2"]')],["AsDataDelegateV2",new k.FixableBeetArgsStruct([["data",k.coption(I.dataBeet)],["authorizationData",k.coption(ze.authorizationDataBeet)]],'UpdateArgsRecord["AsDataDelegateV2"]')],["AsProgrammableConfigDelegateV2",new k.FixableBeetArgsStruct([["ruleSet",Ce.ruleSetToggleBeet],["authorizationData",k.coption(ze.authorizationDataBeet)]],'UpdateArgsRecord["AsProgrammableConfigDelegateV2"]')],["AsDataItemDelegateV2",new k.FixableBeetArgsStruct([["data",k.coption(I.dataBeet)],["authorizationData",k.coption(ze.authorizationDataBeet)]],'UpdateArgsRecord["AsDataItemDelegateV2"]')],["AsCollectionItemDelegateV2",new k.FixableBeetArgsStruct([["collection",we.collectionToggleBeet],["authorizationData",k.coption(ze.authorizationDataBeet)]],'UpdateArgsRecord["AsCollectionItemDelegateV2"]')],["AsProgrammableConfigItemDelegateV2",new k.FixableBeetArgsStruct([["ruleSet",Ce.ruleSetToggleBeet],["authorizationData",k.coption(ze.authorizationDataBeet)]],'UpdateArgsRecord["AsProgrammableConfigItemDelegateV2"]')]])},327928:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.updateMetadataAccountArgsV2Beet=void 0;const k=a(n(666808)),w=a(n(326514)),I=n(253040);r.updateMetadataAccountArgsV2Beet=new k.FixableBeetArgsStruct([["data",k.coption(I.dataV2Beet)],["updateAuthority",k.coption(w.publicKey)],["primarySaleHappened",k.coption(k.bool)],["isMutable",k.coption(k.bool)]],"UpdateMetadataAccountArgsV2")},919804:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.useArgsBeet=r.isUseArgsV1=void 0;const k=a(n(666808)),w=n(929207);r.isUseArgsV1=e=>"V1"===e.__kind,r.useArgsBeet=k.dataEnum([["V1",new k.FixableBeetArgsStruct([["authorizationData",k.coption(w.authorizationDataBeet)]],'UseArgsRecord["V1"]')]])},949840:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.useMethodBeet=r.UseMethod=void 0;const k=a(n(666808));var w;!function(e){e[e.Burn=0]="Burn",e[e.Multiple=1]="Multiple",e[e.Single=2]="Single"}(w=r.UseMethod||(r.UseMethod={})),r.useMethodBeet=k.fixedScalarEnum(w)},865708:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.usesBeet=void 0;const k=a(n(666808)),w=n(949840);r.usesBeet=new k.BeetArgsStruct([["useMethod",w.useMethodBeet],["remaining",k.u64],["total",k.u64]],"Uses")},974840:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.usesToggleBeet=r.isUsesToggleSet=r.isUsesToggleClear=r.isUsesToggleNone=void 0;const k=a(n(666808)),w=n(865708);r.isUsesToggleNone=e=>"None"===e.__kind;r.isUsesToggleClear=e=>"Clear"===e.__kind;r.isUsesToggleSet=e=>"Set"===e.__kind,r.usesToggleBeet=k.dataEnum([["None",k.unit],["Clear",k.unit],["Set",new k.BeetArgsStruct([["fields",k.fixedSizeTuple([w.usesBeet])]],'UsesToggleRecord["Set"]')]])},393313:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.utilizeArgsBeet=void 0;const k=a(n(666808));r.utilizeArgsBeet=new k.BeetArgsStruct([["numberOfUses",k.u64]],"UtilizeArgs")},537710:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(r,e,n);return s(r,e),r};Object.defineProperty(r,"__esModule",{value:!0}),r.verificationArgsBeet=r.VerificationArgs=void 0;const k=a(n(666808));var w;!function(e){e[e.CreatorV1=0]="CreatorV1",e[e.CollectionV1=1]="CollectionV1"}(w=r.VerificationArgs||(r.VerificationArgs={})),r.verificationArgsBeet=k.fixedScalarEnum(w)},239798:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__exportStar||function(e,r){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||i(r,e,n)};Object.defineProperty(r,"__esModule",{value:!0}),s(n(586850),r),s(n(693290),r),s(n(539331),r),s(n(929207),r),s(n(890420),r),s(n(865524),r),s(n(768004),r),s(n(80144),r),s(n(105824),r),s(n(720949),r),s(n(784175),r),s(n(631164),r),s(n(109590),r),s(n(175972),r),s(n(253040),r),s(n(547430),r),s(n(482798),r),s(n(233777),r),s(n(273484),r),s(n(42894),r),s(n(214314),r),s(n(842178),r),s(n(849029),r),s(n(236862),r),s(n(280780),r),s(n(519777),r),s(n(233908),r),s(n(921196),r),s(n(763974),r),s(n(906957),r),s(n(251356),r),s(n(96033),r),s(n(868971),r),s(n(248176),r),s(n(665180),r),s(n(886894),r),s(n(364236),r),s(n(267418),r),s(n(769034),r),s(n(756058),r),s(n(965140),r),s(n(567821),r),s(n(518428),r),s(n(327928),r),s(n(919804),r),s(n(949840),r),s(n(865708),r),s(n(974840),r),s(n(393313),r),s(n(537710),r)},107259:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__exportStar||function(e,r){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||i(r,e,n)};Object.defineProperty(r,"__esModule",{value:!0}),s(n(142959),r),s(n(488424),r)},326514:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__exportStar||function(e,r){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||i(r,e,n)};Object.defineProperty(r,"__esModule",{value:!0}),r.supportedTypeMap=void 0;const a=n(99613);s(n(99613),r),s(n(616968),r),r.supportedTypeMap=a.keysTypeMap},616968:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.GpaBuilder=void 0;const i=n(666808),s=n(626093),a=n(67264),k=n(290578);class GpaBuilder{constructor(e,r,n){this.programId=e,this.beets=r,this.accountSize=n,this.config={}}_addFilter(e){return null==this.config.filters&&(this.config.filters=[]),this.config.filters.push(e),this}_addInnerFilter(e,r,n){(0,a.logTrace)(`gpa.addInnerFilter: ${e}.${r}`);const w=this.beets.get(e);(0,s.strict)(null!=w,"Outer filter key needs to be an existing field name");const I=w.beet;let we=w.offset;const Ae=(0,i.isFixedSizeBeet)(I)?I:I.toFixedFromValue(n);let Be;for(const[e,n]of Ae.fields){if(e===r){Be=n;break}we+=n.byteSize}(0,s.strict)(null!=Be,`${r} is not a field of the ${e} struct`);const Ce=(0,k.encodeFixedBeet)(Be,n);return this._addFilter({memcmp:{offset:we,bytes:Ce}}),this}addInnerFilter(e,r){const n=e.split(".");s.strict.equal(n.length,2,"inner filters can go only one level deep, i.e. 'outer.inner' is ok, but 'outer.inner.deep' is not");const[i,a]=n;return this._addInnerFilter(i,a,r)}addFilter(e,r){const n=this.beets.get(e);(0,s.strict)(null!=n,"Filter key needs to be an existing field name");const a=(0,i.isFixedSizeBeet)(n.beet)?n.beet:n.beet.toFixedFromValue(r),w=(0,k.encodeFixedBeet)(a,r);return this._addFilter({memcmp:{offset:n.offset,bytes:w}}),this}dataSize(e){return e=null!=e?e:this.accountSize,(0,s.strict)(null!=e,"for accounts of dynamic size the dataSize arg needs to be provided"),this._addFilter({dataSize:e})}run(e){return e.getProgramAccounts(this.programId,this.config)}static fromBeetFields(e,r){const n=new Map;let s=0,a=!1;for(const[e,k]of r){if(n.set(e,{beet:k,offset:s}),!(0,i.isFixedSizeBeet)(k)){a=!0;break}s+=k.byteSize}return new GpaBuilder(e,n,a?void 0:s)}static fromStruct(e,r){return GpaBuilder.fromBeetFields(e,r.fields)}}r.GpaBuilder=GpaBuilder},290578:function(e,r,n){"use strict";var i=n(901048).Buffer,s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.encodeFixedBeet=void 0;const a=s(n(937814));r.encodeFixedBeet=function encodeFixedBeet(e,r){const n=i.alloc(e.byteSize);return e.write(n,0,r),a.default.encode(n)}},99613:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.keysTypeMap=r.publicKey=void 0;const i=n(958966),s=(0,n(666808).fixedSizeUint8Array)(32);r.publicKey={write:function(e,r,n){const i=n.toBytes();s.write(e,r,i)},read:function(e,r){const n=s.read(e,r);return new i.PublicKey(n)},byteSize:s.byteSize,description:"PublicKey"},r.keysTypeMap={publicKey:{beet:"publicKey",isFixable:!1,sourcePack:"@metaplex-foundation/beet-solana",ts:"PublicKey",pack:"@solana/web3.js"}}},67264:function(e,r,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.logTrace=r.logDebug=r.logInfo=r.logError=void 0;const s=i(n(720124));r.logError=(0,s.default)("beet:error"),r.logInfo=(0,s.default)("beet:info"),r.logDebug=(0,s.default)("beet:debug"),r.logTrace=(0,s.default)("beet:trace")},937814:(e,r,n)=>{const i=n(549311);e.exports=i("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},958966:(e,r,n)=>{"use strict";n.r(r),n.d(r,{Account:()=>Account,AddressLookupTableAccount:()=>AddressLookupTableAccount,AddressLookupTableInstruction:()=>AddressLookupTableInstruction,AddressLookupTableProgram:()=>AddressLookupTableProgram,Authorized:()=>Authorized,BLOCKHASH_CACHE_TIMEOUT_MS:()=>Si,BPF_LOADER_DEPRECATED_PROGRAM_ID:()=>yn,BPF_LOADER_PROGRAM_ID:()=>hi,BpfLoader:()=>BpfLoader,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:()=>cs,ComputeBudgetInstruction:()=>ComputeBudgetInstruction,ComputeBudgetProgram:()=>ComputeBudgetProgram,Connection:()=>Connection,Ed25519Program:()=>Ed25519Program,Enum:()=>Enum,EpochSchedule:()=>EpochSchedule,FeeCalculatorLayout:()=>oi,Keypair:()=>Keypair,LAMPORTS_PER_SOL:()=>Ss,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:()=>as,Loader:()=>Loader,Lockup:()=>Lockup,MAX_SEED_LENGTH:()=>ln,Message:()=>Message,MessageAccountKeys:()=>MessageAccountKeys,MessageV0:()=>MessageV0,NONCE_ACCOUNT_LENGTH:()=>ai,NonceAccount:()=>NonceAccount,PACKET_DATA_SIZE:()=>mn,PUBLIC_KEY_LENGTH:()=>pn,PublicKey:()=>PublicKey,SIGNATURE_LENGTH_IN_BYTES:()=>kn,SOLANA_SCHEMA:()=>un,STAKE_CONFIG_ID:()=>fs,STAKE_INSTRUCTION_LAYOUTS:()=>ps,SYSTEM_INSTRUCTION_LAYOUTS:()=>di,SYSVAR_CLOCK_PUBKEY:()=>Wn,SYSVAR_EPOCH_SCHEDULE_PUBKEY:()=>Hn,SYSVAR_INSTRUCTIONS_PUBKEY:()=>Zn,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:()=>Qn,SYSVAR_RENT_PUBKEY:()=>ei,SYSVAR_REWARDS_PUBKEY:()=>ti,SYSVAR_SLOT_HASHES_PUBKEY:()=>ri,SYSVAR_SLOT_HISTORY_PUBKEY:()=>ni,SYSVAR_STAKE_HISTORY_PUBKEY:()=>ii,Secp256k1Program:()=>Secp256k1Program,SendTransactionError:()=>SendTransactionError,SolanaJSONRPCError:()=>SolanaJSONRPCError,SolanaJSONRPCErrorCode:()=>yi,StakeAuthorizationLayout:()=>gs,StakeInstruction:()=>StakeInstruction,StakeProgram:()=>StakeProgram,Struct:()=>Struct,SystemInstruction:()=>SystemInstruction,SystemProgram:()=>SystemProgram,Transaction:()=>Transaction,TransactionExpiredBlockheightExceededError:()=>TransactionExpiredBlockheightExceededError,TransactionExpiredNonceInvalidError:()=>TransactionExpiredNonceInvalidError,TransactionExpiredTimeoutError:()=>TransactionExpiredTimeoutError,TransactionInstruction:()=>TransactionInstruction,TransactionMessage:()=>TransactionMessage,TransactionStatus:()=>Bn,VALIDATOR_INFO_KEY:()=>bs,VERSION_PREFIX_MASK:()=>bn,VOTE_PROGRAM_ID:()=>ws,ValidatorInfo:()=>ValidatorInfo,VersionedMessage:()=>Mn,VersionedTransaction:()=>VersionedTransaction,VoteAccount:()=>VoteAccount,VoteAuthorizationLayout:()=>ms,VoteInit:()=>VoteInit,VoteInstruction:()=>VoteInstruction,VoteProgram:()=>VoteProgram,clusterApiUrl:()=>clusterApiUrl,sendAndConfirmRawTransaction:()=>sendAndConfirmRawTransaction,sendAndConfirmTransaction:()=>sendAndConfirmTransaction});var i={};n.r(i),n.d(i,{DO:()=>utils_abytes,OG:()=>bitMask,My:()=>abstract_utils_bytesToHex,bytesToNumberBE:()=>utils_bytesToNumberBE,lX:()=>utils_bytesToNumberLE,Id:()=>abstract_utils_concatBytes,fg:()=>createHmacDrbg,qj:()=>utils_ensureBytes,hexToBytes:()=>utils_hexToBytes,aY:()=>abstract_utils_isBytes,lq:()=>utils_numberToBytesBE,z:()=>utils_numberToBytesLE,Q5:()=>validateObject});var s=n(901048);function number(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function bytes(e,...r){if(!function isBytes(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}(e))throw new Error("Uint8Array expected");if(r.length>0&&!r.includes(e.length))throw new Error(`Uint8Array expected of length ${r}, not of length=${e.length}`)}function _assert_hash(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");number(e.outputLen),number(e.blockLen)}function exists(e,r=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(r&&e.finished)throw new Error("Hash#digest() has already been called")}function output(e,r){bytes(e);const n=r.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const a="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;const createView=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),rotr=(e,r)=>e<<32-r|e>>>r,k=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],byteSwap=e=>e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255;function byteSwap32(e){for(let r=0;r<e.length;r++)e[r]=byteSwap(e[r])}function utils_utf8ToBytes(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function toBytes(e){return"string"==typeof e&&(e=utils_utf8ToBytes(e)),bytes(e),e}function utils_concatBytes(...e){let r=0;for(let n=0;n<e.length;n++){const i=e[n];bytes(i),r+=i.length}const n=new Uint8Array(r);for(let r=0,i=0;r<e.length;r++){const s=e[r];n.set(s,i),i+=s.length}return n}class Hash{clone(){return this._cloneInto()}}function utils_wrapConstructor(e){const hashC=r=>e().update(toBytes(r)).digest(),r=e();return hashC.outputLen=r.outputLen,hashC.blockLen=r.blockLen,hashC.create=()=>e(),hashC}function utils_randomBytes(e=32){if(a&&"function"==typeof a.getRandomValues)return a.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}const Maj=(e,r,n)=>e&r^e&n^r&n;class HashMD extends Hash{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=createView(this.buffer)}update(e){exists(this);const{view:r,buffer:n,blockLen:i}=this,s=(e=toBytes(e)).length;for(let a=0;a<s;){const k=Math.min(i-this.pos,s-a);if(k!==i)n.set(e.subarray(a,a+k),this.pos),this.pos+=k,a+=k,this.pos===i&&(this.process(r,0),this.pos=0);else{const r=createView(e);for(;i<=s-a;a+=i)this.process(r,a)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){exists(this),output(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:a}=this;r[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(n,0),a=0);for(let e=a;e<i;e++)r[e]=0;!function setBigUint64(e,r,n,i){if("function"==typeof e.setBigUint64)return e.setBigUint64(r,n,i);const s=BigInt(32),a=BigInt(4294967295),k=Number(n>>s&a),w=Number(n&a),I=i?4:0,we=i?0:4;e.setUint32(r+I,k,i),e.setUint32(r+we,w,i)}(n,i-8,BigInt(8*this.length),s),this.process(n,0);const k=createView(e),w=this.outputLen;if(w%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const I=w/4,we=this.get();if(I>we.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<I;e++)k.setUint32(4*e,we[e],s)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:a,pos:k}=this;return e.length=i,e.pos=k,e.finished=s,e.destroyed=a,i%r&&e.buffer.set(n),e}}const w=BigInt(2**32-1),I=BigInt(32);function fromBig(e,r=!1){return r?{h:Number(e&w),l:Number(e>>I&w)}:{h:0|Number(e>>I&w),l:0|Number(e&w)}}function split(e,r=!1){let n=new Uint32Array(e.length),i=new Uint32Array(e.length);for(let s=0;s<e.length;s++){const{h:a,l:k}=fromBig(e[s],r);[n[s],i[s]]=[a,k]}return[n,i]}const rotlSH=(e,r,n)=>e<<n|r>>>32-n,rotlSL=(e,r,n)=>r<<n|e>>>32-n,rotlBH=(e,r,n)=>r<<n-32|e>>>64-n,rotlBL=(e,r,n)=>e<<n-32|r>>>64-n;const we={fromBig,split,toBig:(e,r)=>BigInt(e>>>0)<<I|BigInt(r>>>0),shrSH:(e,r,n)=>e>>>n,shrSL:(e,r,n)=>e<<32-n|r>>>n,rotrSH:(e,r,n)=>e>>>n|r<<32-n,rotrSL:(e,r,n)=>e<<32-n|r>>>n,rotrBH:(e,r,n)=>e<<64-n|r>>>n-32,rotrBL:(e,r,n)=>e>>>n-32|r<<64-n,rotr32H:(e,r)=>r,rotr32L:(e,r)=>e,rotlSH,rotlSL,rotlBH,rotlBL,add:function add(e,r,n,i){const s=(r>>>0)+(i>>>0);return{h:e+n+(s/2**32|0)|0,l:0|s}},add3L:(e,r,n)=>(e>>>0)+(r>>>0)+(n>>>0),add3H:(e,r,n,i)=>r+n+i+(e/2**32|0)|0,add4L:(e,r,n,i)=>(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),add4H:(e,r,n,i,s)=>r+n+i+s+(e/2**32|0)|0,add5H:(e,r,n,i,s,a)=>r+n+i+s+a+(e/2**32|0)|0,add5L:(e,r,n,i,s)=>(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0)+(s>>>0)},[Ae,Be]=(()=>we.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))))(),Ce=new Uint32Array(80),ze=new Uint32Array(80);class SHA512 extends HashMD{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:a,Dh:k,Dl:w,Eh:I,El:we,Fh:Ae,Fl:Be,Gh:Ce,Gl:ze,Hh:qe,Hl:$e}=this;return[e,r,n,i,s,a,k,w,I,we,Ae,Be,Ce,ze,qe,$e]}set(e,r,n,i,s,a,k,w,I,we,Ae,Be,Ce,ze,qe,$e){this.Ah=0|e,this.Al=0|r,this.Bh=0|n,this.Bl=0|i,this.Ch=0|s,this.Cl=0|a,this.Dh=0|k,this.Dl=0|w,this.Eh=0|I,this.El=0|we,this.Fh=0|Ae,this.Fl=0|Be,this.Gh=0|Ce,this.Gl=0|ze,this.Hh=0|qe,this.Hl=0|$e}process(e,r){for(let n=0;n<16;n++,r+=4)Ce[n]=e.getUint32(r),ze[n]=e.getUint32(r+=4);for(let e=16;e<80;e++){const r=0|Ce[e-15],n=0|ze[e-15],i=we.rotrSH(r,n,1)^we.rotrSH(r,n,8)^we.shrSH(r,n,7),s=we.rotrSL(r,n,1)^we.rotrSL(r,n,8)^we.shrSL(r,n,7),a=0|Ce[e-2],k=0|ze[e-2],w=we.rotrSH(a,k,19)^we.rotrBH(a,k,61)^we.shrSH(a,k,6),I=we.rotrSL(a,k,19)^we.rotrBL(a,k,61)^we.shrSL(a,k,6),Ae=we.add4L(s,I,ze[e-7],ze[e-16]),Be=we.add4H(Ae,i,w,Ce[e-7],Ce[e-16]);Ce[e]=0|Be,ze[e]=0|Ae}let{Ah:n,Al:i,Bh:s,Bl:a,Ch:k,Cl:w,Dh:I,Dl:qe,Eh:$e,El:Ye,Fh:Je,Fl:et,Gh:rt,Gl:it,Hh:ot,Hl:ht}=this;for(let e=0;e<80;e++){const r=we.rotrSH($e,Ye,14)^we.rotrSH($e,Ye,18)^we.rotrBH($e,Ye,41),ft=we.rotrSL($e,Ye,14)^we.rotrSL($e,Ye,18)^we.rotrBL($e,Ye,41),pt=$e&Je^~$e&rt,yt=Ye&et^~Ye&it,kt=we.add5L(ht,ft,yt,Be[e],ze[e]),_t=we.add5H(kt,ot,r,pt,Ae[e],Ce[e]),St=0|kt,Mt=we.rotrSH(n,i,28)^we.rotrBH(n,i,34)^we.rotrBH(n,i,39),Dt=we.rotrSL(n,i,28)^we.rotrBL(n,i,34)^we.rotrBL(n,i,39),qt=n&s^n&k^s&k,Gt=i&a^i&w^a&w;ot=0|rt,ht=0|it,rt=0|Je,it=0|et,Je=0|$e,et=0|Ye,({h:$e,l:Ye}=we.add(0|I,0|qe,0|_t,0|St)),I=0|k,qe=0|w,k=0|s,w=0|a,s=0|n,a=0|i;const Qt=we.add3L(St,Dt,Gt);n=we.add3H(Qt,_t,Mt,qt),i=0|Qt}({h:n,l:i}=we.add(0|this.Ah,0|this.Al,0|n,0|i)),({h:s,l:a}=we.add(0|this.Bh,0|this.Bl,0|s,0|a)),({h:k,l:w}=we.add(0|this.Ch,0|this.Cl,0|k,0|w)),({h:I,l:qe}=we.add(0|this.Dh,0|this.Dl,0|I,0|qe)),({h:$e,l:Ye}=we.add(0|this.Eh,0|this.El,0|$e,0|Ye)),({h:Je,l:et}=we.add(0|this.Fh,0|this.Fl,0|Je,0|et)),({h:rt,l:it}=we.add(0|this.Gh,0|this.Gl,0|rt,0|it)),({h:ot,l:ht}=we.add(0|this.Hh,0|this.Hl,0|ot,0|ht)),this.set(n,i,s,a,k,w,I,qe,$e,Ye,Je,et,rt,it,ot,ht)}roundClean(){Ce.fill(0),ze.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const qe=utils_wrapConstructor((()=>new SHA512)),$e=(BigInt(0),BigInt(1)),Ye=BigInt(2);function abstract_utils_isBytes(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}function utils_abytes(e){if(!abstract_utils_isBytes(e))throw new Error("Uint8Array expected")}const Je=Array.from({length:256},((e,r)=>r.toString(16).padStart(2,"0")));function abstract_utils_bytesToHex(e){utils_abytes(e);let r="";for(let n=0;n<e.length;n++)r+=Je[e[n]];return r}function hexToNumber(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}const et={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function utils_asciiToBase16(e){return e>=et._0&&e<=et._9?e-et._0:e>=et._A&&e<=et._F?e-(et._A-10):e>=et._a&&e<=et._f?e-(et._a-10):void 0}function utils_hexToBytes(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const r=e.length,n=r/2;if(r%2)throw new Error("padded hex string expected, got unpadded hex of length "+r);const i=new Uint8Array(n);for(let r=0,s=0;r<n;r++,s+=2){const n=utils_asciiToBase16(e.charCodeAt(s)),a=utils_asciiToBase16(e.charCodeAt(s+1));if(void 0===n||void 0===a){const r=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+r+'" at index '+s)}i[r]=16*n+a}return i}function utils_bytesToNumberBE(e){return hexToNumber(abstract_utils_bytesToHex(e))}function utils_bytesToNumberLE(e){return utils_abytes(e),hexToNumber(abstract_utils_bytesToHex(Uint8Array.from(e).reverse()))}function utils_numberToBytesBE(e,r){return utils_hexToBytes(e.toString(16).padStart(2*r,"0"))}function utils_numberToBytesLE(e,r){return utils_numberToBytesBE(e,r).reverse()}function utils_ensureBytes(e,r,n){let i;if("string"==typeof r)try{i=utils_hexToBytes(r)}catch(n){throw new Error(`${e} must be valid hex string, got "${r}". Cause: ${n}`)}else{if(!abstract_utils_isBytes(r))throw new Error(`${e} must be hex string or Uint8Array`);i=Uint8Array.from(r)}const s=i.length;if("number"==typeof n&&s!==n)throw new Error(`${e} expected ${n} bytes, got ${s}`);return i}function abstract_utils_concatBytes(...e){let r=0;for(let n=0;n<e.length;n++){const i=e[n];utils_abytes(i),r+=i.length}const n=new Uint8Array(r);for(let r=0,i=0;r<e.length;r++){const s=e[r];n.set(s,i),i+=s.length}return n}const bitMask=e=>(Ye<<BigInt(e-1))-$e,u8n=e=>new Uint8Array(e),u8fr=e=>Uint8Array.from(e);function createHmacDrbg(e,r,n){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof r||r<2)throw new Error("qByteLen must be a number");if("function"!=typeof n)throw new Error("hmacFn must be a function");let i=u8n(e),s=u8n(e),a=0;const reset=()=>{i.fill(1),s.fill(0),a=0},h=(...e)=>n(s,i,...e),reseed=(e=u8n())=>{s=h(u8fr([0]),e),i=h(),0!==e.length&&(s=h(u8fr([1]),e),i=h())},gen=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const n=[];for(;e<r;){i=h();const r=i.slice();n.push(r),e+=i.length}return abstract_utils_concatBytes(...n)};return(e,r)=>{let n;for(reset(),reseed(e);!(n=r(gen()));)reseed();return reset(),n}}const rt={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||abstract_utils_isBytes(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,r)=>r.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function validateObject(e,r,n={}){const checkField=(r,n,i)=>{const s=rt[n];if("function"!=typeof s)throw new Error(`Invalid validator "${n}", expected function`);const a=e[r];if(!(i&&void 0===a||s(a,e)))throw new Error(`Invalid param ${String(r)}=${a} (${typeof a}), expected ${n}`)};for(const[e,n]of Object.entries(r))checkField(e,n,!1);for(const[e,r]of Object.entries(n))checkField(e,r,!0);return e}const it=BigInt(0),ot=BigInt(1),ht=BigInt(2),ft=BigInt(3),pt=BigInt(4),yt=BigInt(5),kt=BigInt(8);BigInt(9),BigInt(16);function modular_mod(e,r){const n=e%r;return n>=it?n:r+n}function pow(e,r,n){if(n<=it||r<it)throw new Error("Expected power/modulo > 0");if(n===ot)return it;let i=ot;for(;r>it;)r&ot&&(i=i*e%n),e=e*e%n,r>>=ot;return i}function modular_pow2(e,r,n){let i=e;for(;r-- >it;)i*=i,i%=n;return i}function invert(e,r){if(e===it||r<=it)throw new Error(`invert: expected positive integers, got n=${e} mod=${r}`);let n=modular_mod(e,r),i=r,s=it,a=ot,k=ot,w=it;for(;n!==it;){const e=i/n,r=i%n,I=s-k*e,we=a-w*e;i=n,n=r,s=k,a=w,k=I,w=we}if(i!==ot)throw new Error("invert: does not exist");return modular_mod(s,r)}function FpSqrt(e){if(e%pt===ft){const r=(e+ot)/pt;return function sqrt3mod4(e,n){const i=e.pow(n,r);if(!e.eql(e.sqr(i),n))throw new Error("Cannot find square root");return i}}if(e%kt===yt){const r=(e-yt)/kt;return function sqrt5mod8(e,n){const i=e.mul(n,ht),s=e.pow(i,r),a=e.mul(n,s),k=e.mul(e.mul(a,ht),s),w=e.mul(a,e.sub(k,e.ONE));if(!e.eql(e.sqr(w),n))throw new Error("Cannot find square root");return w}}return function tonelliShanks(e){const r=(e-ot)/ht;let n,i,s;for(n=e-ot,i=0;n%ht===it;n/=ht,i++);for(s=ht;s<e&&pow(s,r,e)!==e-ot;s++);if(1===i){const r=(e+ot)/pt;return function tonelliFast(e,n){const i=e.pow(n,r);if(!e.eql(e.sqr(i),n))throw new Error("Cannot find square root");return i}}const a=(n+ot)/ht;return function tonelliSlow(e,k){if(e.pow(k,r)===e.neg(e.ONE))throw new Error("Cannot find square root");let w=i,I=e.pow(e.mul(e.ONE,s),n),we=e.pow(k,a),Ae=e.pow(k,n);for(;!e.eql(Ae,e.ONE);){if(e.eql(Ae,e.ZERO))return e.ZERO;let r=1;for(let n=e.sqr(Ae);r<w&&!e.eql(n,e.ONE);r++)n=e.sqr(n);const n=e.pow(I,ot<<BigInt(w-r-1));I=e.sqr(n),we=e.mul(we,n),Ae=e.mul(Ae,I),w=r}return we}}(e)}const modular_isNegativeLE=(e,r)=>(modular_mod(e,r)&ot)===ot,_t=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function nLength(e,r){const n=void 0!==r?r:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function Field(e,r,n=!1,i={}){if(e<=it)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:s,nByteLength:a}=nLength(e,r);if(a>2048)throw new Error("Field lengths over 2048 bytes are not supported");const k=FpSqrt(e),w=Object.freeze({ORDER:e,BITS:s,BYTES:a,MASK:bitMask(s),ZERO:it,ONE:ot,create:r=>modular_mod(r,e),isValid:r=>{if("bigint"!=typeof r)throw new Error("Invalid field element: expected bigint, got "+typeof r);return it<=r&&r<e},is0:e=>e===it,isOdd:e=>(e&ot)===ot,neg:r=>modular_mod(-r,e),eql:(e,r)=>e===r,sqr:r=>modular_mod(r*r,e),add:(r,n)=>modular_mod(r+n,e),sub:(r,n)=>modular_mod(r-n,e),mul:(r,n)=>modular_mod(r*n,e),pow:(e,r)=>function FpPow(e,r,n){if(n<it)throw new Error("Expected power > 0");if(n===it)return e.ONE;if(n===ot)return r;let i=e.ONE,s=r;for(;n>it;)n&ot&&(i=e.mul(i,s)),s=e.sqr(s),n>>=ot;return i}(w,e,r),div:(r,n)=>modular_mod(r*invert(n,e),e),sqrN:e=>e*e,addN:(e,r)=>e+r,subN:(e,r)=>e-r,mulN:(e,r)=>e*r,inv:r=>invert(r,e),sqrt:i.sqrt||(e=>k(w,e)),invertBatch:e=>function FpInvertBatch(e,r){const n=new Array(r.length),i=r.reduce(((r,i,s)=>e.is0(i)?r:(n[s]=r,e.mul(r,i))),e.ONE),s=e.inv(i);return r.reduceRight(((r,i,s)=>e.is0(i)?r:(n[s]=e.mul(r,n[s]),e.mul(r,i))),s),n}(w,e),cmov:(e,r,n)=>n?r:e,toBytes:e=>n?utils_numberToBytesLE(e,a):utils_numberToBytesBE(e,a),fromBytes:e=>{if(e.length!==a)throw new Error(`Fp.fromBytes: expected ${a}, got ${e.length}`);return n?utils_bytesToNumberLE(e):utils_bytesToNumberBE(e)}});return Object.freeze(w)}function getFieldBytesLength(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");const r=e.toString(2).length;return Math.ceil(r/8)}function getMinHashLength(e){const r=getFieldBytesLength(e);return r+Math.ceil(r/2)}const St=BigInt(0),Mt=BigInt(1);function wNAF(e,r){const constTimeNegate=(e,r)=>{const n=r.negate();return e?n:r},opts=e=>({windows:Math.ceil(r/e)+1,windowSize:2**(e-1)});return{constTimeNegate,unsafeLadder(r,n){let i=e.ZERO,s=r;for(;n>St;)n&Mt&&(i=i.add(s)),s=s.double(),n>>=Mt;return i},precomputeWindow(e,r){const{windows:n,windowSize:i}=opts(r),s=[];let a=e,k=a;for(let e=0;e<n;e++){k=a,s.push(k);for(let e=1;e<i;e++)k=k.add(a),s.push(k);a=k.double()}return s},wNAF(r,n,i){const{windows:s,windowSize:a}=opts(r);let k=e.ZERO,w=e.BASE;const I=BigInt(2**r-1),we=2**r,Ae=BigInt(r);for(let e=0;e<s;e++){const r=e*a;let s=Number(i&I);i>>=Ae,s>a&&(s-=we,i+=Mt);const Be=r,Ce=r+Math.abs(s)-1,ze=e%2!=0,qe=s<0;0===s?w=w.add(constTimeNegate(ze,n[Be])):k=k.add(constTimeNegate(qe,n[Ce]))}return{p:k,f:w}},wNAFCached(e,r,n,i){const s=e._WINDOW_SIZE||1;let a=r.get(e);return a||(a=this.precomputeWindow(e,s),1!==s&&r.set(e,i(a))),this.wNAF(s,a,n)}}}function validateBasic(e){return function validateField(e){return validateObject(e,_t.reduce(((e,r)=>(e[r]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"}))}(e.Fp),validateObject(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...nLength(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}const Dt=BigInt(0),qt=BigInt(1),Gt=BigInt(2),Qt=BigInt(8),er={zip215:!0};function twistedEdwards(e){const r=function validateOpts(e){const r=validateBasic(e);return validateObject(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...r})}(e),{Fp:n,n:i,prehash:s,hash:a,randomBytes:k,nByteLength:w,h:I}=r,we=Gt<<BigInt(8*w)-qt,Ae=n.create,Be=r.uvRatio||((e,r)=>{try{return{isValid:!0,value:n.sqrt(e*n.inv(r))}}catch(e){return{isValid:!1,value:Dt}}}),Ce=r.adjustScalarBytes||(e=>e),ze=r.domain||((e,r,n)=>{if(r.length||n)throw new Error("Contexts/pre-hash are not supported");return e}),inBig=e=>"bigint"==typeof e&&Dt<e,inRange=(e,r)=>inBig(e)&&inBig(r)&&e<r,in0MaskRange=e=>e===Dt||inRange(e,we);function assertInRange(e,r){if(inRange(e,r))return e;throw new Error(`Expected valid scalar < ${r}, got ${typeof e} ${e}`)}function assertGE0(e){return e===Dt?e:assertInRange(e,i)}const qe=new Map;function isPoint(e){if(!(e instanceof Point))throw new Error("ExtendedPoint expected")}class Point{constructor(e,r,n,i){if(this.ex=e,this.ey=r,this.ez=n,this.et=i,!in0MaskRange(e))throw new Error("x required");if(!in0MaskRange(r))throw new Error("y required");if(!in0MaskRange(n))throw new Error("z required");if(!in0MaskRange(i))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(e){if(e instanceof Point)throw new Error("extended point not allowed");const{x:r,y:n}=e||{};if(!in0MaskRange(r)||!in0MaskRange(n))throw new Error("invalid affine point");return new Point(r,n,qt,Ae(r*n))}static normalizeZ(e){const r=n.invertBatch(e.map((e=>e.ez)));return e.map(((e,n)=>e.toAffine(r[n]))).map(Point.fromAffine)}_setWindowSize(e){this._WINDOW_SIZE=e,qe.delete(this)}assertValidity(){const{a:e,d:n}=r;if(this.is0())throw new Error("bad point: ZERO");const{ex:i,ey:s,ez:a,et:k}=this,w=Ae(i*i),I=Ae(s*s),we=Ae(a*a),Be=Ae(we*we),Ce=Ae(w*e);if(Ae(we*Ae(Ce+I))!==Ae(Be+Ae(n*Ae(w*I))))throw new Error("bad point: equation left != right (1)");if(Ae(i*s)!==Ae(a*k))throw new Error("bad point: equation left != right (2)")}equals(e){isPoint(e);const{ex:r,ey:n,ez:i}=this,{ex:s,ey:a,ez:k}=e,w=Ae(r*k),I=Ae(s*i),we=Ae(n*k),Be=Ae(a*i);return w===I&&we===Be}is0(){return this.equals(Point.ZERO)}negate(){return new Point(Ae(-this.ex),this.ey,this.ez,Ae(-this.et))}double(){const{a:e}=r,{ex:n,ey:i,ez:s}=this,a=Ae(n*n),k=Ae(i*i),w=Ae(Gt*Ae(s*s)),I=Ae(e*a),we=n+i,Be=Ae(Ae(we*we)-a-k),Ce=I+k,ze=Ce-w,qe=I-k,$e=Ae(Be*ze),Ye=Ae(Ce*qe),Je=Ae(Be*qe),et=Ae(ze*Ce);return new Point($e,Ye,et,Je)}add(e){isPoint(e);const{a:n,d:i}=r,{ex:s,ey:a,ez:k,et:w}=this,{ex:I,ey:we,ez:Be,et:Ce}=e;if(n===BigInt(-1)){const e=Ae((a-s)*(we+I)),r=Ae((a+s)*(we-I)),n=Ae(r-e);if(n===Dt)return this.double();const i=Ae(k*Gt*Ce),ze=Ae(w*Gt*Be),qe=ze+i,$e=r+e,Ye=ze-i,Je=Ae(qe*n),et=Ae($e*Ye),rt=Ae(qe*Ye),it=Ae(n*$e);return new Point(Je,et,it,rt)}const ze=Ae(s*I),qe=Ae(a*we),$e=Ae(w*i*Ce),Ye=Ae(k*Be),Je=Ae((s+a)*(I+we)-ze-qe),et=Ye-$e,rt=Ye+$e,it=Ae(qe-n*ze),ot=Ae(Je*et),ht=Ae(rt*it),ft=Ae(Je*it),pt=Ae(et*rt);return new Point(ot,ht,pt,ft)}subtract(e){return this.add(e.negate())}wNAF(e){return Je.wNAFCached(this,qe,e,Point.normalizeZ)}multiply(e){const{p:r,f:n}=this.wNAF(assertInRange(e,i));return Point.normalizeZ([r,n])[0]}multiplyUnsafe(e){let r=assertGE0(e);return r===Dt?Ye:this.equals(Ye)||r===qt?this:this.equals($e)?this.wNAF(r).p:Je.unsafeLadder(this,r)}isSmallOrder(){return this.multiplyUnsafe(I).is0()}isTorsionFree(){return Je.unsafeLadder(this,i).is0()}toAffine(e){const{ex:r,ey:i,ez:s}=this,a=this.is0();null==e&&(e=a?Qt:n.inv(s));const k=Ae(r*e),w=Ae(i*e),I=Ae(s*e);if(a)return{x:Dt,y:qt};if(I!==qt)throw new Error("invZ was invalid");return{x:k,y:w}}clearCofactor(){const{h:e}=r;return e===qt?this:this.multiplyUnsafe(e)}static fromHex(e,i=!1){const{d:s,a}=r,k=n.BYTES,w=(e=utils_ensureBytes("pointHex",e,k)).slice(),I=e[k-1];w[k-1]=-129&I;const Ce=utils_bytesToNumberLE(w);Ce===Dt||assertInRange(Ce,i?we:n.ORDER);const ze=Ae(Ce*Ce),qe=Ae(ze-qt),$e=Ae(s*ze-a);let{isValid:Ye,value:Je}=Be(qe,$e);if(!Ye)throw new Error("Point.fromHex: invalid y coordinate");const et=(Je&qt)===qt,rt=!!(128&I);if(!i&&Je===Dt&&rt)throw new Error("Point.fromHex: x=0 and x_0=1");return rt!==et&&(Je=Ae(-Je)),Point.fromAffine({x:Je,y:Ce})}static fromPrivateKey(e){return getExtendedPublicKey(e).point}toRawBytes(){const{x:e,y:r}=this.toAffine(),i=utils_numberToBytesLE(r,n.BYTES);return i[i.length-1]|=e&qt?128:0,i}toHex(){return abstract_utils_bytesToHex(this.toRawBytes())}}Point.BASE=new Point(r.Gx,r.Gy,qt,Ae(r.Gx*r.Gy)),Point.ZERO=new Point(Dt,qt,qt,Dt);const{BASE:$e,ZERO:Ye}=Point,Je=wNAF(Point,8*w);function modN(e){return modular_mod(e,i)}function modN_LE(e){return modN(utils_bytesToNumberLE(e))}function getExtendedPublicKey(e){const r=w;e=utils_ensureBytes("private key",e,r);const n=utils_ensureBytes("hashed private key",a(e),2*r),i=Ce(n.slice(0,r)),s=n.slice(r,2*r),k=modN_LE(i),I=$e.multiply(k),we=I.toRawBytes();return{head:i,prefix:s,scalar:k,point:I,pointBytes:we}}function hashDomainToScalar(e=new Uint8Array,...r){const n=abstract_utils_concatBytes(...r);return modN_LE(a(ze(n,utils_ensureBytes("context",e),!!s)))}const et=er;$e._setWindowSize(8);return{CURVE:r,getPublicKey:function getPublicKey(e){return getExtendedPublicKey(e).pointBytes},sign:function sign(e,r,i={}){e=utils_ensureBytes("message",e),s&&(e=s(e));const{prefix:a,scalar:k,pointBytes:I}=getExtendedPublicKey(r),we=hashDomainToScalar(i.context,a,e),Ae=$e.multiply(we).toRawBytes(),Be=modN(we+hashDomainToScalar(i.context,Ae,I,e)*k);return assertGE0(Be),utils_ensureBytes("result",abstract_utils_concatBytes(Ae,utils_numberToBytesLE(Be,n.BYTES)),2*w)},verify:function verify(e,r,i,a=et){const{context:k,zip215:w}=a,I=n.BYTES;e=utils_ensureBytes("signature",e,2*I),r=utils_ensureBytes("message",r),s&&(r=s(r));const we=utils_bytesToNumberLE(e.slice(I,2*I));let Ae,Be,Ce;try{Ae=Point.fromHex(i,w),Be=Point.fromHex(e.slice(0,I),w),Ce=$e.multiplyUnsafe(we)}catch(e){return!1}if(!w&&Ae.isSmallOrder())return!1;const ze=hashDomainToScalar(k,Be.toRawBytes(),Ae.toRawBytes(),r);return Be.add(Ae.multiplyUnsafe(ze)).subtract(Ce).clearCofactor().equals(Point.ZERO)},ExtendedPoint:Point,utils:{getExtendedPublicKey,randomPrivateKey:()=>k(n.BYTES),precompute:(e=8,r=Point.BASE)=>(r._setWindowSize(e),r.multiply(BigInt(3)),r)}}}const tr=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),rr=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),nr=(BigInt(0),BigInt(1)),ir=BigInt(2),or=BigInt(5),sr=BigInt(10),ar=BigInt(20),cr=BigInt(40),ur=BigInt(80);function ed25519_pow_2_252_3(e){const r=tr,n=e*e%r*e%r,i=modular_pow2(n,ir,r)*n%r,s=modular_pow2(i,nr,r)*e%r,a=modular_pow2(s,or,r)*s%r,k=modular_pow2(a,sr,r)*a%r,w=modular_pow2(k,ar,r)*k%r,I=modular_pow2(w,cr,r)*w%r,we=modular_pow2(I,ur,r)*I%r,Ae=modular_pow2(we,ur,r)*I%r,Be=modular_pow2(Ae,sr,r)*a%r;return{pow_p_5_8:modular_pow2(Be,ir,r)*e%r,b2:n}}function adjustScalarBytes(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function uvRatio(e,r){const n=tr,i=modular_mod(r*r*r,n),s=modular_mod(i*i*r,n);let a=modular_mod(e*i*ed25519_pow_2_252_3(e*s).pow_p_5_8,n);const k=modular_mod(r*a*a,n),w=a,I=modular_mod(a*rr,n),we=k===e,Ae=k===modular_mod(-e,n),Be=k===modular_mod(-e*rr,n);return we&&(a=w),(Ae||Be)&&(a=I),modular_isNegativeLE(a,n)&&(a=modular_mod(-a,n)),{isValid:we||Ae,value:a}}const dr=Field(tr,void 0,!0),lr={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:dr,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:qe,randomBytes:utils_randomBytes,adjustScalarBytes,uvRatio},hr=twistedEdwards(lr);function ed25519_domain(e,r,n){if(r.length>255)throw new Error("Context is too big");return utils_concatBytes(utils_utf8ToBytes("SigEd25519 no Ed25519 collisions"),new Uint8Array([n?1:0,r.length]),r,e)}const fr=(dr.ORDER+BigInt(3))/BigInt(8);dr.pow(ir,fr),dr.sqrt(dr.neg(dr.ONE)),dr.ORDER,BigInt(5),BigInt(8),BigInt(486662);(function FpSqrtEven(e,r){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const n=e.sqrt(r);return e.isOdd(n)?e.neg(n):n})(dr,dr.neg(BigInt(486664)));BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var pr=n(682823),gr=n.n(pr),yr=n(939216),mr=n.n(yr);const br=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),kr=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),wr=new Uint32Array(64);class SHA256 extends HashMD{constructor(){super(64,32,8,!1),this.A=0|kr[0],this.B=0|kr[1],this.C=0|kr[2],this.D=0|kr[3],this.E=0|kr[4],this.F=0|kr[5],this.G=0|kr[6],this.H=0|kr[7]}get(){const{A:e,B:r,C:n,D:i,E:s,F:a,G:k,H:w}=this;return[e,r,n,i,s,a,k,w]}set(e,r,n,i,s,a,k,w){this.A=0|e,this.B=0|r,this.C=0|n,this.D=0|i,this.E=0|s,this.F=0|a,this.G=0|k,this.H=0|w}process(e,r){for(let n=0;n<16;n++,r+=4)wr[n]=e.getUint32(r,!1);for(let e=16;e<64;e++){const r=wr[e-15],n=wr[e-2],i=rotr(r,7)^rotr(r,18)^r>>>3,s=rotr(n,17)^rotr(n,19)^n>>>10;wr[e]=s+wr[e-7]+i+wr[e-16]|0}let{A:n,B:i,C:s,D:a,E:k,F:w,G:I,H:we}=this;for(let e=0;e<64;e++){const r=we+(rotr(k,6)^rotr(k,11)^rotr(k,25))+((Ae=k)&w^~Ae&I)+br[e]+wr[e]|0,Be=(rotr(n,2)^rotr(n,13)^rotr(n,22))+Maj(n,i,s)|0;we=I,I=w,w=k,k=a+r|0,a=s,s=i,i=n,n=r+Be|0}var Ae;n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,k=k+this.E|0,w=w+this.F|0,I=I+this.G|0,we=we+this.H|0,this.set(n,i,s,a,k,w,I,we)}roundClean(){wr.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Ir=utils_wrapConstructor((()=>new SHA256));var _r=n(881818),Sr=n(878918),Er=n(856115),vr=n(727801),Ar=n(759499),Tr=n.n(Ar),Pr=n(184434),Or=n(410544);const Mr=[],xr=[],Br=[],Rr=BigInt(0),Cr=BigInt(1),Dr=BigInt(2),Nr=BigInt(7),zr=BigInt(256),Wr=BigInt(113);for(let e=0,r=Cr,n=1,i=0;e<24;e++){[n,i]=[i,(2*n+3*i)%5],Mr.push(2*(5*i+n)),xr.push((e+1)*(e+2)/2%64);let s=Rr;for(let e=0;e<7;e++)r=(r<<Cr^(r>>Nr)*Wr)%zr,r&Dr&&(s^=Cr<<(Cr<<BigInt(e))-Cr);Br.push(s)}const[jr,Lr]=split(Br,!0),rotlH=(e,r,n)=>n>32?rotlBH(e,r,n):rotlSH(e,r,n),rotlL=(e,r,n)=>n>32?rotlBL(e,r,n):rotlSL(e,r,n);class Keccak extends Hash{constructor(e,r,n,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,number(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");var a;this.state=new Uint8Array(200),this.state32=(a=this.state,new Uint32Array(a.buffer,a.byteOffset,Math.floor(a.byteLength/4)))}keccak(){k||byteSwap32(this.state32),function keccakP(e,r=24){const n=new Uint32Array(10);for(let i=24-r;i<24;i++){for(let r=0;r<10;r++)n[r]=e[r]^e[r+10]^e[r+20]^e[r+30]^e[r+40];for(let r=0;r<10;r+=2){const i=(r+8)%10,s=(r+2)%10,a=n[s],k=n[s+1],w=rotlH(a,k,1)^n[i],I=rotlL(a,k,1)^n[i+1];for(let n=0;n<50;n+=10)e[r+n]^=w,e[r+n+1]^=I}let r=e[2],s=e[3];for(let n=0;n<24;n++){const i=xr[n],a=rotlH(r,s,i),k=rotlL(r,s,i),w=Mr[n];r=e[w],s=e[w+1],e[w]=a,e[w+1]=k}for(let r=0;r<50;r+=10){for(let i=0;i<10;i++)n[i]=e[r+i];for(let i=0;i<10;i++)e[r+i]^=~n[(i+2)%10]&n[(i+4)%10]}e[0]^=jr[i],e[1]^=Lr[i]}n.fill(0)}(this.state32,this.rounds),k||byteSwap32(this.state32),this.posOut=0,this.pos=0}update(e){exists(this);const{blockLen:r,state:n}=this,i=(e=toBytes(e)).length;for(let s=0;s<i;){const a=Math.min(r-this.pos,i-s);for(let r=0;r<a;r++)n[this.pos++]^=e[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,128&r&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){exists(this,!1),bytes(e),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();const a=Math.min(n-this.posOut,s-i);e.set(r.subarray(this.posOut,this.posOut+a),i),this.posOut+=a,i+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:a}=this;return e||(e=new Keccak(r,n,i,a,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=a,e.destroyed=this.destroyed,e}}const gen=(e,r,n)=>utils_wrapConstructor((()=>new Keccak(r,e,n))),Kr=gen(1,136,32);class HMAC extends Hash{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,_assert_hash(e);const n=toBytes(r);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let e=0;e<s.length;e++)s[e]^=54;this.iHash.update(s),this.oHash=e.create();for(let e=0;e<s.length;e++)s[e]^=106;this.oHash.update(s),s.fill(0)}update(e){return exists(this),this.iHash.update(e),this}digestInto(e){exists(this),bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:a,outputLen:k}=this;return e.finished=i,e.destroyed=s,e.blockLen=a,e.outputLen=k,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const hmac=(e,r,n)=>new HMAC(e,r).update(n).digest();hmac.create=(e,r)=>new HMAC(e,r);const{bytesToNumberBE:Fr,hexToBytes:Ur}=i,Vr={Err:class DERErr extends Error{constructor(e=""){super(e)}},_parseInt(e){const{Err:r}=Vr;if(e.length<2||2!==e[0])throw new r("Invalid signature integer tag");const n=e[1],i=e.subarray(2,n+2);if(!n||i.length!==n)throw new r("Invalid signature integer: wrong length");if(128&i[0])throw new r("Invalid signature integer: negative");if(0===i[0]&&!(128&i[1]))throw new r("Invalid signature integer: unnecessary leading zero");return{d:Fr(i),l:e.subarray(n+2)}},toSig(e){const{Err:r}=Vr,n="string"==typeof e?Ur(e):e;utils_abytes(n);let i=n.length;if(i<2||48!=n[0])throw new r("Invalid signature tag");if(n[1]!==i-2)throw new r("Invalid signature: incorrect length");const{d:s,l:a}=Vr._parseInt(n.subarray(2)),{d:k,l:w}=Vr._parseInt(a);if(w.length)throw new r("Invalid signature: left bytes after parsing");return{r:s,s:k}},hexFromSig(e){const slice=e=>8&Number.parseInt(e[0],16)?"00"+e:e,h=e=>{const r=e.toString(16);return 1&r.length?`0${r}`:r},r=slice(h(e.s)),n=slice(h(e.r)),i=r.length/2,s=n.length/2,a=h(i),k=h(s);return`30${h(s+i+4)}02${k}${n}02${a}${r}`}},qr=BigInt(0),Hr=BigInt(1),Gr=(BigInt(2),BigInt(3));BigInt(4);function weierstrassPoints(e){const r=function validatePointOpts(e){const r=validateBasic(e);validateObject(r,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:i,a:s}=r;if(n){if(!i.eql(s,i.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof n||"bigint"!=typeof n.beta||"function"!=typeof n.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...r})}(e),{Fp:n}=r,i=r.toBytes||((e,r,i)=>{const s=r.toAffine();return abstract_utils_concatBytes(Uint8Array.from([4]),n.toBytes(s.x),n.toBytes(s.y))}),s=r.fromBytes||(e=>{const r=e.subarray(1);return{x:n.fromBytes(r.subarray(0,n.BYTES)),y:n.fromBytes(r.subarray(n.BYTES,2*n.BYTES))}});function weierstrassEquation(e){const{a:i,b:s}=r,a=n.sqr(e),k=n.mul(a,e);return n.add(n.add(k,n.mul(e,i)),s)}if(!n.eql(n.sqr(r.Gy),weierstrassEquation(r.Gx)))throw new Error("bad generator point: equation left != right");function isWithinCurveOrder(e){return"bigint"==typeof e&&qr<e&&e<r.n}function assertGE(e){if(!isWithinCurveOrder(e))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function normPrivateKeyToScalar(e){const{allowedPrivateKeyLengths:n,nByteLength:i,wrapPrivateKey:s,n:a}=r;if(n&&"bigint"!=typeof e){if(abstract_utils_isBytes(e)&&(e=abstract_utils_bytesToHex(e)),"string"!=typeof e||!n.includes(e.length))throw new Error("Invalid key");e=e.padStart(2*i,"0")}let k;try{k="bigint"==typeof e?e:utils_bytesToNumberBE(utils_ensureBytes("private key",e,i))}catch(r){throw new Error(`private key must be ${i} bytes, hex or bigint, not ${typeof e}`)}return s&&(k=modular_mod(k,a)),assertGE(k),k}const a=new Map;function assertPrjPoint(e){if(!(e instanceof Point))throw new Error("ProjectivePoint expected")}class Point{constructor(e,r,i){if(this.px=e,this.py=r,this.pz=i,null==e||!n.isValid(e))throw new Error("x required");if(null==r||!n.isValid(r))throw new Error("y required");if(null==i||!n.isValid(i))throw new Error("z required")}static fromAffine(e){const{x:r,y:i}=e||{};if(!e||!n.isValid(r)||!n.isValid(i))throw new Error("invalid affine point");if(e instanceof Point)throw new Error("projective point not allowed");const is0=e=>n.eql(e,n.ZERO);return is0(r)&&is0(i)?Point.ZERO:new Point(r,i,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const r=n.invertBatch(e.map((e=>e.pz)));return e.map(((e,n)=>e.toAffine(r[n]))).map(Point.fromAffine)}static fromHex(e){const r=Point.fromAffine(s(utils_ensureBytes("pointHex",e)));return r.assertValidity(),r}static fromPrivateKey(e){return Point.BASE.multiply(normPrivateKeyToScalar(e))}_setWindowSize(e){this._WINDOW_SIZE=e,a.delete(this)}assertValidity(){if(this.is0()){if(r.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:e,y:i}=this.toAffine();if(!n.isValid(e)||!n.isValid(i))throw new Error("bad point: x or y not FE");const s=n.sqr(i),a=weierstrassEquation(e);if(!n.eql(s,a))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:e}=this.toAffine();if(n.isOdd)return!n.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){assertPrjPoint(e);const{px:r,py:i,pz:s}=this,{px:a,py:k,pz:w}=e,I=n.eql(n.mul(r,w),n.mul(a,s)),we=n.eql(n.mul(i,w),n.mul(k,s));return I&&we}negate(){return new Point(this.px,n.neg(this.py),this.pz)}double(){const{a:e,b:i}=r,s=n.mul(i,Gr),{px:a,py:k,pz:w}=this;let I=n.ZERO,we=n.ZERO,Ae=n.ZERO,Be=n.mul(a,a),Ce=n.mul(k,k),ze=n.mul(w,w),qe=n.mul(a,k);return qe=n.add(qe,qe),Ae=n.mul(a,w),Ae=n.add(Ae,Ae),I=n.mul(e,Ae),we=n.mul(s,ze),we=n.add(I,we),I=n.sub(Ce,we),we=n.add(Ce,we),we=n.mul(I,we),I=n.mul(qe,I),Ae=n.mul(s,Ae),ze=n.mul(e,ze),qe=n.sub(Be,ze),qe=n.mul(e,qe),qe=n.add(qe,Ae),Ae=n.add(Be,Be),Be=n.add(Ae,Be),Be=n.add(Be,ze),Be=n.mul(Be,qe),we=n.add(we,Be),ze=n.mul(k,w),ze=n.add(ze,ze),Be=n.mul(ze,qe),I=n.sub(I,Be),Ae=n.mul(ze,Ce),Ae=n.add(Ae,Ae),Ae=n.add(Ae,Ae),new Point(I,we,Ae)}add(e){assertPrjPoint(e);const{px:i,py:s,pz:a}=this,{px:k,py:w,pz:I}=e;let we=n.ZERO,Ae=n.ZERO,Be=n.ZERO;const Ce=r.a,ze=n.mul(r.b,Gr);let qe=n.mul(i,k),$e=n.mul(s,w),Ye=n.mul(a,I),Je=n.add(i,s),et=n.add(k,w);Je=n.mul(Je,et),et=n.add(qe,$e),Je=n.sub(Je,et),et=n.add(i,a);let rt=n.add(k,I);return et=n.mul(et,rt),rt=n.add(qe,Ye),et=n.sub(et,rt),rt=n.add(s,a),we=n.add(w,I),rt=n.mul(rt,we),we=n.add($e,Ye),rt=n.sub(rt,we),Be=n.mul(Ce,et),we=n.mul(ze,Ye),Be=n.add(we,Be),we=n.sub($e,Be),Be=n.add($e,Be),Ae=n.mul(we,Be),$e=n.add(qe,qe),$e=n.add($e,qe),Ye=n.mul(Ce,Ye),et=n.mul(ze,et),$e=n.add($e,Ye),Ye=n.sub(qe,Ye),Ye=n.mul(Ce,Ye),et=n.add(et,Ye),qe=n.mul($e,et),Ae=n.add(Ae,qe),qe=n.mul(rt,et),we=n.mul(Je,we),we=n.sub(we,qe),qe=n.mul(Je,$e),Be=n.mul(rt,Be),Be=n.add(Be,qe),new Point(we,Ae,Be)}subtract(e){return this.add(e.negate())}is0(){return this.equals(Point.ZERO)}wNAF(e){return w.wNAFCached(this,a,e,(e=>{const r=n.invertBatch(e.map((e=>e.pz)));return e.map(((e,n)=>e.toAffine(r[n]))).map(Point.fromAffine)}))}multiplyUnsafe(e){const i=Point.ZERO;if(e===qr)return i;if(assertGE(e),e===Hr)return this;const{endo:s}=r;if(!s)return w.unsafeLadder(this,e);let{k1neg:a,k1:k,k2neg:I,k2:we}=s.splitScalar(e),Ae=i,Be=i,Ce=this;for(;k>qr||we>qr;)k&Hr&&(Ae=Ae.add(Ce)),we&Hr&&(Be=Be.add(Ce)),Ce=Ce.double(),k>>=Hr,we>>=Hr;return a&&(Ae=Ae.negate()),I&&(Be=Be.negate()),Be=new Point(n.mul(Be.px,s.beta),Be.py,Be.pz),Ae.add(Be)}multiply(e){assertGE(e);let i,s,a=e;const{endo:k}=r;if(k){const{k1neg:e,k1:r,k2neg:I,k2:we}=k.splitScalar(a);let{p:Ae,f:Be}=this.wNAF(r),{p:Ce,f:ze}=this.wNAF(we);Ae=w.constTimeNegate(e,Ae),Ce=w.constTimeNegate(I,Ce),Ce=new Point(n.mul(Ce.px,k.beta),Ce.py,Ce.pz),i=Ae.add(Ce),s=Be.add(ze)}else{const{p:e,f:r}=this.wNAF(a);i=e,s=r}return Point.normalizeZ([i,s])[0]}multiplyAndAddUnsafe(e,r,n){const i=Point.BASE,mul=(e,r)=>r!==qr&&r!==Hr&&e.equals(i)?e.multiply(r):e.multiplyUnsafe(r),s=mul(this,r).add(mul(e,n));return s.is0()?void 0:s}toAffine(e){const{px:r,py:i,pz:s}=this,a=this.is0();null==e&&(e=a?n.ONE:n.inv(s));const k=n.mul(r,e),w=n.mul(i,e),I=n.mul(s,e);if(a)return{x:n.ZERO,y:n.ZERO};if(!n.eql(I,n.ONE))throw new Error("invZ was invalid");return{x:k,y:w}}isTorsionFree(){const{h:e,isTorsionFree:n}=r;if(e===Hr)return!0;if(n)return n(Point,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:n}=r;return e===Hr?this:n?n(Point,this):this.multiplyUnsafe(r.h)}toRawBytes(e=!0){return this.assertValidity(),i(Point,this,e)}toHex(e=!0){return abstract_utils_bytesToHex(this.toRawBytes(e))}}Point.BASE=new Point(r.Gx,r.Gy,n.ONE),Point.ZERO=new Point(n.ZERO,n.ONE,n.ZERO);const k=r.nBitLength,w=wNAF(Point,r.endo?Math.ceil(k/2):k);return{CURVE:r,ProjectivePoint:Point,normPrivateKeyToScalar,weierstrassEquation,isWithinCurveOrder}}function weierstrass(e){const r=function weierstrass_validateOpts(e){const r=validateBasic(e);return validateObject(r,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...r})}(e),{Fp:n,n:i}=r,s=n.BYTES+1,a=2*n.BYTES+1;function modN(e){return modular_mod(e,i)}function invN(e){return invert(e,i)}const{ProjectivePoint:k,normPrivateKeyToScalar:w,weierstrassEquation:I,isWithinCurveOrder:we}=weierstrassPoints({...r,toBytes(e,r,i){const s=r.toAffine(),a=n.toBytes(s.x),k=abstract_utils_concatBytes;return i?k(Uint8Array.from([r.hasEvenY()?2:3]),a):k(Uint8Array.from([4]),a,n.toBytes(s.y))},fromBytes(e){const r=e.length,i=e[0],k=e.subarray(1);if(r!==s||2!==i&&3!==i){if(r===a&&4===i){return{x:n.fromBytes(k.subarray(0,n.BYTES)),y:n.fromBytes(k.subarray(n.BYTES,2*n.BYTES))}}throw new Error(`Point of length ${r} was invalid. Expected ${s} compressed bytes or ${a} uncompressed bytes`)}{const e=utils_bytesToNumberBE(k);if(!function isValidFieldElement(e){return qr<e&&e<n.ORDER}(e))throw new Error("Point is not on curve");const r=I(e);let s;try{s=n.sqrt(r)}catch(e){const r=e instanceof Error?": "+e.message:"";throw new Error("Point is not on curve"+r)}return!(1&~i)!==((s&Hr)===Hr)&&(s=n.neg(s)),{x:e,y:s}}}}),numToNByteStr=e=>abstract_utils_bytesToHex(utils_numberToBytesBE(e,r.nByteLength));function isBiggerThanHalfOrder(e){return e>i>>Hr}const slcNum=(e,r,n)=>utils_bytesToNumberBE(e.slice(r,n));class Signature{constructor(e,r,n){this.r=e,this.s=r,this.recovery=n,this.assertValidity()}static fromCompact(e){const n=r.nByteLength;return e=utils_ensureBytes("compactSignature",e,2*n),new Signature(slcNum(e,0,n),slcNum(e,n,2*n))}static fromDER(e){const{r,s:n}=Vr.toSig(utils_ensureBytes("DER",e));return new Signature(r,n)}assertValidity(){if(!we(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!we(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new Signature(this.r,this.s,e)}recoverPublicKey(e){const{r:i,s,recovery:a}=this,w=Ce(utils_ensureBytes("msgHash",e));if(null==a||![0,1,2,3].includes(a))throw new Error("recovery id invalid");const I=2===a||3===a?i+r.n:i;if(I>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const we=1&a?"03":"02",Ae=k.fromHex(we+numToNByteStr(I)),Be=invN(I),ze=modN(-w*Be),qe=modN(s*Be),$e=k.BASE.multiplyAndAddUnsafe(Ae,ze,qe);if(!$e)throw new Error("point at infinify");return $e.assertValidity(),$e}hasHighS(){return isBiggerThanHalfOrder(this.s)}normalizeS(){return this.hasHighS()?new Signature(this.r,modN(-this.s),this.recovery):this}toDERRawBytes(){return utils_hexToBytes(this.toDERHex())}toDERHex(){return Vr.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return utils_hexToBytes(this.toCompactHex())}toCompactHex(){return numToNByteStr(this.r)+numToNByteStr(this.s)}}const Ae={isValidPrivateKey(e){try{return w(e),!0}catch(e){return!1}},normPrivateKeyToScalar:w,randomPrivateKey:()=>{const e=getMinHashLength(r.n);return function mapHashToField(e,r,n=!1){const i=e.length,s=getFieldBytesLength(r),a=getMinHashLength(r);if(i<16||i<a||i>1024)throw new Error(`expected ${a}-1024 bytes of input, got ${i}`);const k=modular_mod(n?utils_bytesToNumberBE(e):utils_bytesToNumberLE(e),r-ot)+ot;return n?utils_numberToBytesLE(k,s):utils_numberToBytesBE(k,s)}(r.randomBytes(e),r.n)},precompute:(e=8,r=k.BASE)=>(r._setWindowSize(e),r.multiply(BigInt(3)),r)};function isProbPub(e){const r=abstract_utils_isBytes(e),n="string"==typeof e,i=(r||n)&&e.length;return r?i===s||i===a:n?i===2*s||i===2*a:e instanceof k}const Be=r.bits2int||function(e){const n=utils_bytesToNumberBE(e),i=8*e.length-r.nBitLength;return i>0?n>>BigInt(i):n},Ce=r.bits2int_modN||function(e){return modN(Be(e))},ze=bitMask(r.nBitLength);function int2octets(e){if("bigint"!=typeof e)throw new Error("bigint expected");if(!(qr<=e&&e<ze))throw new Error(`bigint expected < 2^${r.nBitLength}`);return utils_numberToBytesBE(e,r.nByteLength)}function prepSig(e,i,s=qe){if(["recovered","canonical"].some((e=>e in s)))throw new Error("sign() legacy options not supported");const{hash:a,randomBytes:I}=r;let{lowS:Ae,prehash:ze,extraEntropy:$e}=s;null==Ae&&(Ae=!0),e=utils_ensureBytes("msgHash",e),ze&&(e=utils_ensureBytes("prehashed msgHash",a(e)));const Ye=Ce(e),Je=w(i),et=[int2octets(Je),int2octets(Ye)];if(null!=$e&&!1!==$e){const e=!0===$e?I(n.BYTES):$e;et.push(utils_ensureBytes("extraEntropy",e))}const rt=abstract_utils_concatBytes(...et),it=Ye;return{seed:rt,k2sig:function k2sig(e){const r=Be(e);if(!we(r))return;const n=invN(r),i=k.BASE.multiply(r).toAffine(),s=modN(i.x);if(s===qr)return;const a=modN(n*modN(it+s*Je));if(a===qr)return;let w=(i.x===s?0:2)|Number(i.y&Hr),I=a;return Ae&&isBiggerThanHalfOrder(a)&&(I=function normalizeS(e){return isBiggerThanHalfOrder(e)?modN(-e):e}(a),w^=1),new Signature(s,I,w)}}}const qe={lowS:r.lowS,prehash:!1},$e={lowS:r.lowS,prehash:!1};return k.BASE._setWindowSize(8),{CURVE:r,getPublicKey:function getPublicKey(e,r=!0){return k.fromPrivateKey(e).toRawBytes(r)},getSharedSecret:function getSharedSecret(e,r,n=!0){if(isProbPub(e))throw new Error("first arg must be private key");if(!isProbPub(r))throw new Error("second arg must be public key");return k.fromHex(r).multiply(w(e)).toRawBytes(n)},sign:function sign(e,n,i=qe){const{seed:s,k2sig:a}=prepSig(e,n,i),k=r;return createHmacDrbg(k.hash.outputLen,k.nByteLength,k.hmac)(s,a)},verify:function verify(e,n,i,s=$e){const a=e;if(n=utils_ensureBytes("msgHash",n),i=utils_ensureBytes("publicKey",i),"strict"in s)throw new Error("options.strict was renamed to lowS");const{lowS:w,prehash:I}=s;let we,Ae;try{if("string"==typeof a||abstract_utils_isBytes(a))try{we=Signature.fromDER(a)}catch(e){if(!(e instanceof Vr.Err))throw e;we=Signature.fromCompact(a)}else{if("object"!=typeof a||"bigint"!=typeof a.r||"bigint"!=typeof a.s)throw new Error("PARSE");{const{r:e,s:r}=a;we=new Signature(e,r)}}Ae=k.fromHex(i)}catch(e){if("PARSE"===e.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(w&&we.hasHighS())return!1;I&&(n=r.hash(n));const{r:Be,s:ze}=we,qe=Ce(n),Ye=invN(ze),Je=modN(qe*Ye),et=modN(Be*Ye),rt=k.BASE.multiplyAndAddUnsafe(Ae,Je,et)?.toAffine();return!!rt&&modN(rt.x)===Be},ProjectivePoint:k,Signature,utils:Ae}}function getHash(e){return{hash:e,hmac:(r,...n)=>hmac(e,r,utils_concatBytes(...n)),randomBytes:utils_randomBytes}}const $r=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Yr=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Zr=BigInt(1),Jr=BigInt(2),divNearest=(e,r)=>(e+r/Jr)/r;function sqrtMod(e){const r=$r,n=BigInt(3),i=BigInt(6),s=BigInt(11),a=BigInt(22),k=BigInt(23),w=BigInt(44),I=BigInt(88),we=e*e*e%r,Ae=we*we*e%r,Be=modular_pow2(Ae,n,r)*Ae%r,Ce=modular_pow2(Be,n,r)*Ae%r,ze=modular_pow2(Ce,Jr,r)*we%r,qe=modular_pow2(ze,s,r)*ze%r,$e=modular_pow2(qe,a,r)*qe%r,Ye=modular_pow2($e,w,r)*$e%r,Je=modular_pow2(Ye,I,r)*Ye%r,et=modular_pow2(Je,w,r)*$e%r,rt=modular_pow2(et,n,r)*Ae%r,it=modular_pow2(rt,k,r)*qe%r,ot=modular_pow2(it,i,r)*we%r,ht=modular_pow2(ot,Jr,r);if(!Qr.eql(Qr.sqr(ht),e))throw new Error("Cannot find square root");return ht}const Qr=Field($r,void 0,void 0,{sqrt:sqrtMod}),Xr=function createCurve(e,r){const create=r=>weierstrass({...e,...getHash(r)});return Object.freeze({...create(r),create})}({a:BigInt(0),b:BigInt(7),Fp:Qr,n:Yr,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const r=Yr,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),i=-Zr*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),a=n,k=BigInt("0x100000000000000000000000000000000"),w=divNearest(a*e,r),I=divNearest(-i*e,r);let we=modular_mod(e-w*n-I*s,r),Ae=modular_mod(-w*i-I*a,r);const Be=we>k,Ce=Ae>k;if(Be&&(we=r-we),Ce&&(Ae=r-Ae),we>k||Ae>k)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:Be,k1:we,k2neg:Ce,k2:Ae}}}},Ir);BigInt(0);Xr.ProjectivePoint;const sn=hr.utils.randomPrivateKey,generateKeypair=()=>{const e=hr.utils.randomPrivateKey(),r=an(e),n=new Uint8Array(64);return n.set(e),n.set(r,32),{publicKey:r,secretKey:n}},an=hr.getPublicKey;function isOnCurve(e){try{return hr.ExtendedPoint.fromHex(e),!0}catch{return!1}}const sign=(e,r)=>hr.sign(e,r.slice(0,32)),cn=hr.verify,toBuffer=e=>s.Buffer.isBuffer(e)?e:e instanceof Uint8Array?s.Buffer.from(e.buffer,e.byteOffset,e.byteLength):s.Buffer.from(e);class Struct{constructor(e){Object.assign(this,e)}encode(){return s.Buffer.from((0,_r.serialize)(un,this))}static decode(e){return(0,_r.deserialize)(un,this,e)}static decodeUnchecked(e){return(0,_r.deserializeUnchecked)(un,this,e)}}class Enum extends Struct{constructor(e){if(super(e),this.enum="",1!==Object.keys(e).length)throw new Error("Enum can only take single value");Object.keys(e).map((e=>{this.enum=e}))}}const un=new Map;var dn;const ln=32,pn=32;let gn=1;class PublicKey extends Struct{constructor(e){if(super({}),this._bn=void 0,function isPublicKeyData(e){return void 0!==e._bn}(e))this._bn=e._bn;else{if("string"==typeof e){const r=mr().decode(e);if(r.length!=pn)throw new Error("Invalid public key input");this._bn=new(gr())(r)}else this._bn=new(gr())(e);if(this._bn.byteLength()>pn)throw new Error("Invalid public key input")}}static unique(){const e=new PublicKey(gn);return gn+=1,new PublicKey(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return mr().encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(s.Buffer);if(e.length===pn)return e;const r=s.Buffer.alloc(32);return e.copy(r,32-e.length),r}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,r,n){const i=s.Buffer.concat([e.toBuffer(),s.Buffer.from(r),n.toBuffer()]),a=Ir(i);return new PublicKey(a)}static createProgramAddressSync(e,r){let n=s.Buffer.alloc(0);e.forEach((function(e){if(e.length>ln)throw new TypeError("Max seed length exceeded");n=s.Buffer.concat([n,toBuffer(e)])})),n=s.Buffer.concat([n,r.toBuffer(),s.Buffer.from("ProgramDerivedAddress")]);const i=Ir(n);if(isOnCurve(i))throw new Error("Invalid seeds, address must fall off the curve");return new PublicKey(i)}static async createProgramAddress(e,r){return this.createProgramAddressSync(e,r)}static findProgramAddressSync(e,r){let n,i=255;for(;0!=i;){try{const a=e.concat(s.Buffer.from([i]));n=this.createProgramAddressSync(a,r)}catch(e){if(e instanceof TypeError)throw e;i--;continue}return[n,i]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,r){return this.findProgramAddressSync(e,r)}static isOnCurve(e){return isOnCurve(new PublicKey(e).toBytes())}}dn=PublicKey,PublicKey.default=new dn("11111111111111111111111111111111"),un.set(PublicKey,{kind:"struct",fields:[["_bn","u256"]]});class Account{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const r=toBuffer(e);if(64!==e.length)throw new Error("bad secret key size");this._publicKey=r.slice(32,64),this._secretKey=r.slice(0,32)}else this._secretKey=toBuffer(sn()),this._publicKey=toBuffer(an(this._secretKey))}get publicKey(){return new PublicKey(this._publicKey)}get secretKey(){return s.Buffer.concat([this._secretKey,this._publicKey],64)}}const yn=new PublicKey("BPFLoader1111111111111111111111111111111111"),mn=1232,bn=127,kn=64;class TransactionExpiredBlockheightExceededError extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(TransactionExpiredBlockheightExceededError.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class TransactionExpiredTimeoutError extends Error{constructor(e,r){super(`Transaction was not confirmed in ${r.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(TransactionExpiredTimeoutError.prototype,"name",{value:"TransactionExpiredTimeoutError"});class TransactionExpiredNonceInvalidError extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(TransactionExpiredNonceInvalidError.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class MessageAccountKeys{constructor(e,r){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=r}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const r of this.keySegments()){if(e<r.length)return r[e];e-=r.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach(((e,n)=>{r.set(e.toBase58(),n)}));const findKeyIndex=e=>{const n=r.get(e.toBase58());if(void 0===n)throw new Error("Encountered an unknown instruction account key during compilation");return n};return e.map((e=>({programIdIndex:findKeyIndex(e.programId),accountKeyIndexes:e.keys.map((e=>findKeyIndex(e.pubkey))),data:e.data})))}}const publicKey=(e="publicKey")=>Sr.blob(32,e),signature=(e="signature")=>Sr.blob(64,e),rustString=(e="string")=>{const r=Sr.struct([Sr.u32("length"),Sr.u32("lengthPadding"),Sr.blob(Sr.offset(Sr.u32(),-8),"chars")],e),n=r.decode.bind(r),i=r.encode.bind(r),a=r;return a.decode=(e,r)=>n(e,r).chars.toString(),a.encode=(e,r,n)=>{const a={chars:s.Buffer.from(e,"utf8")};return i(a,r,n)},a.alloc=e=>Sr.u32().span+Sr.u32().span+s.Buffer.from(e,"utf8").length,a};function getAlloc(e,r){const getItemAlloc=e=>{if(e.span>=0)return e.span;if("function"==typeof e.alloc)return e.alloc(r[e.property]);if("count"in e&&"elementLayout"in e){const n=r[e.property];if(Array.isArray(n))return n.length*getItemAlloc(e.elementLayout)}else if("fields"in e)return getAlloc({layout:e},r[e.property]);return 0};let n=0;return e.layout.fields.forEach((e=>{n+=getItemAlloc(e)})),n}function decodeLength(e){let r=0,n=0;for(;;){let i=e.shift();if(r|=(127&i)<<7*n,n+=1,!(128&i))break}return r}function encodeLength(e,r){let n=r;for(;;){let r=127&n;if(n>>=7,0==n){e.push(r);break}r|=128,e.push(r)}}function index_browser_esm_assert(e,r){if(!e)throw new Error(r||"Assertion failed")}class CompiledKeys{constructor(e,r){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=r}static compile(e,r){const n=new Map,getOrInsertDefault=e=>{const r=e.toBase58();let i=n.get(r);return void 0===i&&(i={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(r,i)),i},i=getOrInsertDefault(r);i.isSigner=!0,i.isWritable=!0;for(const r of e){getOrInsertDefault(r.programId).isInvoked=!0;for(const e of r.keys){const r=getOrInsertDefault(e.pubkey);r.isSigner||=e.isSigner,r.isWritable||=e.isWritable}}return new CompiledKeys(r,n)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];index_browser_esm_assert(e.length<=256,"Max static account keys length exceeded");const r=e.filter((([,e])=>e.isSigner&&e.isWritable)),n=e.filter((([,e])=>e.isSigner&&!e.isWritable)),i=e.filter((([,e])=>!e.isSigner&&e.isWritable)),s=e.filter((([,e])=>!e.isSigner&&!e.isWritable)),a={numRequiredSignatures:r.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:s.length};{index_browser_esm_assert(r.length>0,"Expected at least one writable signer key");const[e]=r[0];index_browser_esm_assert(e===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}return[a,[...r.map((([e])=>new PublicKey(e))),...n.map((([e])=>new PublicKey(e))),...i.map((([e])=>new PublicKey(e))),...s.map((([e])=>new PublicKey(e)))]]}extractTableLookup(e){const[r,n]=this.drainKeysFoundInLookupTable(e.state.addresses,(e=>!e.isSigner&&!e.isInvoked&&e.isWritable)),[i,s]=this.drainKeysFoundInLookupTable(e.state.addresses,(e=>!e.isSigner&&!e.isInvoked&&!e.isWritable));if(0!==r.length||0!==i.length)return[{accountKey:e.key,writableIndexes:r,readonlyIndexes:i},{writable:n,readonly:s}]}drainKeysFoundInLookupTable(e,r){const n=new Array,i=new Array;for(const[s,a]of this.keyMetaMap.entries())if(r(a)){const r=new PublicKey(s),a=e.findIndex((e=>e.equals(r)));a>=0&&(index_browser_esm_assert(a<256,"Max lookup table index exceeded"),n.push(a),i.push(r),this.keyMetaMap.delete(s))}return[n,i]}}const In="Reached end of buffer unexpectedly";function guardedShift(e){if(0===e.length)throw new Error(In);return e.shift()}function guardedSplice(e,...r){const[n]=r;if(2===r.length?n+(r[1]??0)>e.length:n>=e.length)throw new Error(In);return e.splice(...r)}class Message{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map((e=>new PublicKey(e))),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach((e=>this.indexToProgramIds.set(e.programIdIndex,this.accountKeys[e.programIdIndex])))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map((e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:mr().decode(e.data)})))}get addressTableLookups(){return[]}getAccountKeys(){return new MessageAccountKeys(this.staticAccountKeys)}static compile(e){const r=CompiledKeys.compile(e.instructions,e.payerKey),[n,i]=r.getMessageComponents(),s=new MessageAccountKeys(i).compileInstructions(e.instructions).map((e=>({programIdIndex:e.programIdIndex,accounts:e.accountKeyIndexes,data:mr().encode(e.data)})));return new Message({header:n,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:s})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const r=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){return e-r<this.accountKeys.length-r-this.header.numReadonlyUnsignedAccounts}return e<r-this.header.numReadonlySignedAccounts}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter(((e,r)=>!this.isProgramId(r)))}serialize(){const e=this.accountKeys.length;let r=[];encodeLength(r,e);const n=this.instructions.map((e=>{const{accounts:r,programIdIndex:n}=e,i=Array.from(mr().decode(e.data));let a=[];encodeLength(a,r.length);let k=[];return encodeLength(k,i.length),{programIdIndex:n,keyIndicesCount:s.Buffer.from(a),keyIndices:r,dataLength:s.Buffer.from(k),data:i}}));let i=[];encodeLength(i,n.length);let a=s.Buffer.alloc(mn);s.Buffer.from(i).copy(a);let k=i.length;n.forEach((e=>{const r=Sr.struct([Sr.u8("programIdIndex"),Sr.blob(e.keyIndicesCount.length,"keyIndicesCount"),Sr.seq(Sr.u8("keyIndex"),e.keyIndices.length,"keyIndices"),Sr.blob(e.dataLength.length,"dataLength"),Sr.seq(Sr.u8("userdatum"),e.data.length,"data")]).encode(e,a,k);k+=r})),a=a.slice(0,k);const w=Sr.struct([Sr.blob(1,"numRequiredSignatures"),Sr.blob(1,"numReadonlySignedAccounts"),Sr.blob(1,"numReadonlyUnsignedAccounts"),Sr.blob(r.length,"keyCount"),Sr.seq(publicKey("key"),e,"keys"),publicKey("recentBlockhash")]),I={numRequiredSignatures:s.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:s.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:s.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:s.Buffer.from(r),keys:this.accountKeys.map((e=>toBuffer(e.toBytes()))),recentBlockhash:mr().decode(this.recentBlockhash)};let we=s.Buffer.alloc(2048);const Ae=w.encode(I,we);return a.copy(we,Ae),we.slice(0,Ae+a.length)}static from(e){let r=[...e];const n=guardedShift(r);if(n!==(n&bn))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=guardedShift(r),a=guardedShift(r),k=decodeLength(r);let w=[];for(let e=0;e<k;e++){const e=guardedSplice(r,0,pn);w.push(new PublicKey(s.Buffer.from(e)))}const I=guardedSplice(r,0,pn),we=decodeLength(r);let Ae=[];for(let e=0;e<we;e++){const e=guardedShift(r),n=guardedSplice(r,0,decodeLength(r)),i=guardedSplice(r,0,decodeLength(r)),a=mr().encode(s.Buffer.from(i));Ae.push({programIdIndex:e,accounts:n,data:a})}const Be={header:{numRequiredSignatures:n,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:a},recentBlockhash:mr().encode(s.Buffer.from(I)),accountKeys:w,instructions:Ae};return new Message(Be)}}class MessageV0{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const r of this.addressTableLookups)e+=r.readonlyIndexes.length+r.writableIndexes.length;return e}getAccountKeys(e){let r;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");r=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)r=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new MessageAccountKeys(this.staticAccountKeys,r)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const r=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(e>=n){return e-n<this.addressTableLookups.reduce(((e,r)=>e+r.writableIndexes.length),0)}if(e>=this.header.numRequiredSignatures){return e-r<n-r-this.header.numReadonlyUnsignedAccounts}return e<r-this.header.numReadonlySignedAccounts}resolveAddressTableLookups(e){const r={writable:[],readonly:[]};for(const n of this.addressTableLookups){const i=e.find((e=>e.key.equals(n.accountKey)));if(!i)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(const e of n.writableIndexes){if(!(e<i.state.addresses.length))throw new Error(`Failed to find address for index ${e} in address lookup table ${n.accountKey.toBase58()}`);r.writable.push(i.state.addresses[e])}for(const e of n.readonlyIndexes){if(!(e<i.state.addresses.length))throw new Error(`Failed to find address for index ${e} in address lookup table ${n.accountKey.toBase58()}`);r.readonly.push(i.state.addresses[e])}}return r}static compile(e){const r=CompiledKeys.compile(e.instructions,e.payerKey),n=new Array,i={writable:new Array,readonly:new Array},s=e.addressLookupTableAccounts||[];for(const e of s){const s=r.extractTableLookup(e);if(void 0!==s){const[e,{writable:r,readonly:a}]=s;n.push(e),i.writable.push(...r),i.readonly.push(...a)}}const[a,k]=r.getMessageComponents(),w=new MessageAccountKeys(k,i).compileInstructions(e.instructions);return new MessageV0({header:a,staticAccountKeys:k,recentBlockhash:e.recentBlockhash,compiledInstructions:w,addressTableLookups:n})}serialize(){const e=Array();encodeLength(e,this.staticAccountKeys.length);const r=this.serializeInstructions(),n=Array();encodeLength(n,this.compiledInstructions.length);const i=this.serializeAddressTableLookups(),s=Array();encodeLength(s,this.addressTableLookups.length);const a=Sr.struct([Sr.u8("prefix"),Sr.struct([Sr.u8("numRequiredSignatures"),Sr.u8("numReadonlySignedAccounts"),Sr.u8("numReadonlyUnsignedAccounts")],"header"),Sr.blob(e.length,"staticAccountKeysLength"),Sr.seq(publicKey(),this.staticAccountKeys.length,"staticAccountKeys"),publicKey("recentBlockhash"),Sr.blob(n.length,"instructionsLength"),Sr.blob(r.length,"serializedInstructions"),Sr.blob(s.length,"addressTableLookupsLength"),Sr.blob(i.length,"serializedAddressTableLookups")]),k=new Uint8Array(mn),w=a.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map((e=>e.toBytes())),recentBlockhash:mr().decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:r,addressTableLookupsLength:new Uint8Array(s),serializedAddressTableLookups:i},k);return k.slice(0,w)}serializeInstructions(){let e=0;const r=new Uint8Array(mn);for(const n of this.compiledInstructions){const i=Array();encodeLength(i,n.accountKeyIndexes.length);const s=Array();encodeLength(s,n.data.length);e+=Sr.struct([Sr.u8("programIdIndex"),Sr.blob(i.length,"encodedAccountKeyIndexesLength"),Sr.seq(Sr.u8(),n.accountKeyIndexes.length,"accountKeyIndexes"),Sr.blob(s.length,"encodedDataLength"),Sr.blob(n.data.length,"data")]).encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(s),data:n.data},r,e)}return r.slice(0,e)}serializeAddressTableLookups(){let e=0;const r=new Uint8Array(mn);for(const n of this.addressTableLookups){const i=Array();encodeLength(i,n.writableIndexes.length);const s=Array();encodeLength(s,n.readonlyIndexes.length);e+=Sr.struct([publicKey("accountKey"),Sr.blob(i.length,"encodedWritableIndexesLength"),Sr.seq(Sr.u8(),n.writableIndexes.length,"writableIndexes"),Sr.blob(s.length,"encodedReadonlyIndexesLength"),Sr.seq(Sr.u8(),n.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(s),readonlyIndexes:n.readonlyIndexes},r,e)}return r.slice(0,e)}static deserialize(e){let r=[...e];const n=guardedShift(r),i=n&bn;index_browser_esm_assert(n!==i,"Expected versioned message but received legacy message");index_browser_esm_assert(0===i,`Expected versioned message with version 0 but found version ${i}`);const s={numRequiredSignatures:guardedShift(r),numReadonlySignedAccounts:guardedShift(r),numReadonlyUnsignedAccounts:guardedShift(r)},a=[],k=decodeLength(r);for(let e=0;e<k;e++)a.push(new PublicKey(guardedSplice(r,0,pn)));const w=mr().encode(guardedSplice(r,0,pn)),I=decodeLength(r),we=[];for(let e=0;e<I;e++){const e=guardedShift(r),n=guardedSplice(r,0,decodeLength(r)),i=decodeLength(r),s=new Uint8Array(guardedSplice(r,0,i));we.push({programIdIndex:e,accountKeyIndexes:n,data:s})}const Ae=decodeLength(r),Be=[];for(let e=0;e<Ae;e++){const e=new PublicKey(guardedSplice(r,0,pn)),n=guardedSplice(r,0,decodeLength(r)),i=guardedSplice(r,0,decodeLength(r));Be.push({accountKey:e,writableIndexes:n,readonlyIndexes:i})}return new MessageV0({header:s,staticAccountKeys:a,recentBlockhash:w,compiledInstructions:we,addressTableLookups:Be})}}const Mn={deserializeMessageVersion(e){const r=e[0],n=r&bn;return n===r?"legacy":n},deserialize:e=>{const r=Mn.deserializeMessageVersion(e);if("legacy"===r)return Message.from(e);if(0===r)return MessageV0.deserialize(e);throw new Error(`Transaction message version ${r} deserialization is not supported`)}};let Bn=function(e){return e[e.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",e[e.PROCESSED=1]="PROCESSED",e[e.TIMED_OUT=2]="TIMED_OUT",e[e.NONCE_INVALID=3]="NONCE_INVALID",e}({});const Cn=s.Buffer.alloc(kn).fill(0);class TransactionInstruction{constructor(e){this.keys=void 0,this.programId=void 0,this.data=s.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map((({pubkey:e,isSigner:r,isWritable:n})=>({pubkey:e.toJSON(),isSigner:r,isWritable:n}))),programId:this.programId.toJSON(),data:[...this.data]}}}class Transaction{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:r,nonceInfo:n}=e;this.minNonceContextSlot=r,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:r,lastValidBlockHeight:n}=e;this.recentBlockhash=r,this.lastValidBlockHeight=n}else{const{recentBlockhash:r,nonceInfo:n}=e;n&&(this.nonceInfo=n),this.recentBlockhash=r}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map((e=>e.toJSON())),signers:this.signatures.map((({publicKey:e})=>e.toJSON()))}}add(...e){if(0===e.length)throw new Error("No instructions");return e.forEach((e=>{"instructions"in e?this.instructions=this.instructions.concat(e.instructions):"data"in e&&"programId"in e&&"keys"in e?this.instructions.push(e):this.instructions.push(new TransactionInstruction(e))})),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,r,n;if(this.nonceInfo?(e=this.nonceInfo.nonce,r=this.instructions[0]!=this.nonceInfo.nonceInstruction?[this.nonceInfo.nonceInstruction,...this.instructions]:this.instructions):(e=this.recentBlockhash,r=this.instructions),!e)throw new Error("Transaction recentBlockhash required");if(r.length<1&&console.warn("No instructions provided"),this.feePayer)n=this.feePayer;else{if(!(this.signatures.length>0&&this.signatures[0].publicKey))throw new Error("Transaction fee payer required");n=this.signatures[0].publicKey}for(let e=0;e<r.length;e++)if(void 0===r[e].programId)throw new Error(`Transaction instruction index ${e} has undefined program id`);const i=[],s=[];r.forEach((e=>{e.keys.forEach((e=>{s.push({...e})}));const r=e.programId.toString();i.includes(r)||i.push(r)})),i.forEach((e=>{s.push({pubkey:new PublicKey(e),isSigner:!1,isWritable:!1})}));const a=[];s.forEach((e=>{const r=e.pubkey.toString(),n=a.findIndex((e=>e.pubkey.toString()===r));n>-1?(a[n].isWritable=a[n].isWritable||e.isWritable,a[n].isSigner=a[n].isSigner||e.isSigner):a.push(e)})),a.sort((function(e,r){if(e.isSigner!==r.isSigner)return e.isSigner?-1:1;if(e.isWritable!==r.isWritable)return e.isWritable?-1:1;return e.pubkey.toBase58().localeCompare(r.pubkey.toBase58(),"en",{localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"})}));const k=a.findIndex((e=>e.pubkey.equals(n)));if(k>-1){const[e]=a.splice(k,1);e.isSigner=!0,e.isWritable=!0,a.unshift(e)}else a.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(const e of this.signatures){const r=a.findIndex((r=>r.pubkey.equals(e.publicKey)));if(!(r>-1))throw new Error(`unknown signer: ${e.publicKey.toString()}`);a[r].isSigner||(a[r].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."))}let w=0,I=0,we=0;const Ae=[],Be=[];a.forEach((({pubkey:e,isSigner:r,isWritable:n})=>{r?(Ae.push(e.toString()),w+=1,n||(I+=1)):(Be.push(e.toString()),n||(we+=1))}));const Ce=Ae.concat(Be),ze=r.map((e=>{const{data:r,programId:n}=e;return{programIdIndex:Ce.indexOf(n.toString()),accounts:e.keys.map((e=>Ce.indexOf(e.pubkey.toString()))),data:mr().encode(r)}}));return ze.forEach((e=>{index_browser_esm_assert(e.programIdIndex>=0),e.accounts.forEach((e=>index_browser_esm_assert(e>=0)))})),new Message({header:{numRequiredSignatures:w,numReadonlySignedAccounts:I,numReadonlyUnsignedAccounts:we},accountKeys:Ce,recentBlockhash:e,instructions:ze})}_compile(){const e=this.compileMessage(),r=e.accountKeys.slice(0,e.header.numRequiredSignatures);if(this.signatures.length===r.length){if(this.signatures.every(((e,n)=>r[n].equals(e.publicKey))))return e}return this.signatures=r.map((e=>({signature:null,publicKey:e}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(0===e.length)throw new Error("No signers");const r=new Set;this.signatures=e.filter((e=>{const n=e.toString();return!r.has(n)&&(r.add(n),!0)})).map((e=>({signature:null,publicKey:e})))}sign(...e){if(0===e.length)throw new Error("No signers");const r=new Set,n=[];for(const i of e){const e=i.publicKey.toString();r.has(e)||(r.add(e),n.push(i))}this.signatures=n.map((e=>({signature:null,publicKey:e.publicKey})));const i=this._compile();this._partialSign(i,...n)}partialSign(...e){if(0===e.length)throw new Error("No signers");const r=new Set,n=[];for(const i of e){const e=i.publicKey.toString();r.has(e)||(r.add(e),n.push(i))}const i=this._compile();this._partialSign(i,...n)}_partialSign(e,...r){const n=e.serialize();r.forEach((e=>{const r=sign(n,e.secretKey);this._addSignature(e.publicKey,toBuffer(r))}))}addSignature(e,r){this._compile(),this._addSignature(e,r)}_addSignature(e,r){index_browser_esm_assert(64===r.length);const n=this.signatures.findIndex((r=>e.equals(r.publicKey)));if(n<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[n].signature=s.Buffer.from(r)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,r){const n={};for(const{signature:i,publicKey:s}of this.signatures)null===i?r&&(n.missing||=[]).push(s):cn(i,e,s.toBytes())||(n.invalid||=[]).push(s);return n.invalid||n.missing?n:void 0}serialize(e){const{requireAllSignatures:r,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(n){const e=this._getMessageSignednessErrors(i,r);if(e){let r="Signature verification failed.";throw e.invalid&&(r+=`\nInvalid signature for public key${1===e.invalid.length?"":"(s)"} [\`${e.invalid.map((e=>e.toBase58())).join("`, `")}\`].`),e.missing&&(r+=`\nMissing signature for public key${1===e.missing.length?"":"(s)"} [\`${e.missing.map((e=>e.toBase58())).join("`, `")}\`].`),new Error(r)}}return this._serialize(i)}_serialize(e){const{signatures:r}=this,n=[];encodeLength(n,r.length);const i=n.length+64*r.length+e.length,a=s.Buffer.alloc(i);return index_browser_esm_assert(r.length<256),s.Buffer.from(n).copy(a,0),r.forEach((({signature:e},r)=>{null!==e&&(index_browser_esm_assert(64===e.length,"signature has invalid length"),s.Buffer.from(e).copy(a,n.length+64*r))})),e.copy(a,n.length+64*r.length),index_browser_esm_assert(a.length<=mn,`Transaction too large: ${a.length} > ${mn}`),a}get keys(){return index_browser_esm_assert(1===this.instructions.length),this.instructions[0].keys.map((e=>e.pubkey))}get programId(){return index_browser_esm_assert(1===this.instructions.length),this.instructions[0].programId}get data(){return index_browser_esm_assert(1===this.instructions.length),this.instructions[0].data}static from(e){let r=[...e];const n=decodeLength(r);let i=[];for(let e=0;e<n;e++){const e=guardedSplice(r,0,kn);i.push(mr().encode(s.Buffer.from(e)))}return Transaction.populate(Message.from(r),i)}static populate(e,r=[]){const n=new Transaction;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),r.forEach(((r,i)=>{const s={signature:r==mr().encode(Cn)?null:mr().decode(r),publicKey:e.accountKeys[i]};n.signatures.push(s)})),e.instructions.forEach((r=>{const i=r.accounts.map((r=>{const i=e.accountKeys[r];return{pubkey:i,isSigner:n.signatures.some((e=>e.publicKey.toString()===i.toString()))||e.isAccountSigner(r),isWritable:e.isAccountWritable(r)}}));n.instructions.push(new TransactionInstruction({keys:i,programId:e.accountKeys[r.programIdIndex],data:mr().decode(r.data)}))})),n._message=e,n._json=n.toJSON(),n}}class TransactionMessage{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,r){const{header:n,compiledInstructions:i,recentBlockhash:s}=e,{numRequiredSignatures:a,numReadonlySignedAccounts:k,numReadonlyUnsignedAccounts:w}=n,I=a-k;index_browser_esm_assert(I>0,"Message header is invalid");const we=e.staticAccountKeys.length-a-w;index_browser_esm_assert(we>=0,"Message header is invalid");const Ae=e.getAccountKeys(r),Be=Ae.get(0);if(void 0===Be)throw new Error("Failed to decompile message because no account keys were found");const Ce=[];for(const e of i){const r=[];for(const i of e.accountKeyIndexes){const e=Ae.get(i);if(void 0===e)throw new Error(`Failed to find key for account key index ${i}`);let s;s=i<a?i<I:i<Ae.staticAccountKeys.length?i-a<we:i-Ae.staticAccountKeys.length<Ae.accountKeysFromLookups.writable.length,r.push({pubkey:e,isSigner:i<n.numRequiredSignatures,isWritable:s})}const i=Ae.get(e.programIdIndex);if(void 0===i)throw new Error(`Failed to find program id for program id index ${e.programIdIndex}`);Ce.push(new TransactionInstruction({programId:i,data:toBuffer(e.data),keys:r}))}return new TransactionMessage({payerKey:Be,instructions:Ce,recentBlockhash:s})}compileToLegacyMessage(){return Message.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return MessageV0.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class VersionedTransaction{get version(){return this.message.version}constructor(e,r){if(this.signatures=void 0,this.message=void 0,void 0!==r)index_browser_esm_assert(r.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=r;else{const r=[];for(let n=0;n<e.header.numRequiredSignatures;n++)r.push(new Uint8Array(kn));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),r=Array();encodeLength(r,this.signatures.length);const n=Sr.struct([Sr.blob(r.length,"encodedSignaturesLength"),Sr.seq(signature(),this.signatures.length,"signatures"),Sr.blob(e.length,"serializedMessage")]),i=new Uint8Array(2048),s=n.encode({encodedSignaturesLength:new Uint8Array(r),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,s)}static deserialize(e){let r=[...e];const n=[],i=decodeLength(r);for(let e=0;e<i;e++)n.push(new Uint8Array(guardedSplice(r,0,kn)));const s=Mn.deserialize(new Uint8Array(r));return new VersionedTransaction(s,n)}sign(e){const r=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const i of e){const e=n.findIndex((e=>e.equals(i.publicKey)));index_browser_esm_assert(e>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[e]=sign(r,i.secretKey)}}addSignature(e,r){index_browser_esm_assert(64===r.byteLength,"Signature must be 64 bytes long");const n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex((r=>r.equals(e)));index_browser_esm_assert(n>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[n]=r}}const Wn=new PublicKey("SysvarC1ock11111111111111111111111111111111"),Hn=new PublicKey("SysvarEpochSchedu1e111111111111111111111111"),Zn=new PublicKey("Sysvar1nstructions1111111111111111111111111"),Qn=new PublicKey("SysvarRecentB1ockHashes11111111111111111111"),ei=new PublicKey("SysvarRent111111111111111111111111111111111"),ti=new PublicKey("SysvarRewards111111111111111111111111111111"),ri=new PublicKey("SysvarS1otHashes111111111111111111111111111"),ni=new PublicKey("SysvarS1otHistory11111111111111111111111111"),ii=new PublicKey("SysvarStakeHistory1111111111111111111111111");async function sendAndConfirmTransaction(e,r,n,i){const s=i&&{skipPreflight:i.skipPreflight,preflightCommitment:i.preflightCommitment||i.commitment,maxRetries:i.maxRetries,minContextSlot:i.minContextSlot},a=await e.sendTransaction(r,n,s);let k;if(null!=r.recentBlockhash&&null!=r.lastValidBlockHeight)k=(await e.confirmTransaction({abortSignal:i?.abortSignal,signature:a,blockhash:r.recentBlockhash,lastValidBlockHeight:r.lastValidBlockHeight},i&&i.commitment)).value;else if(null!=r.minNonceContextSlot&&null!=r.nonceInfo){const{nonceInstruction:n}=r.nonceInfo,s=n.keys[0].pubkey;k=(await e.confirmTransaction({abortSignal:i?.abortSignal,minContextSlot:r.minNonceContextSlot,nonceAccountPubkey:s,nonceValue:r.nonceInfo.nonce,signature:a},i&&i.commitment)).value}else null!=i?.abortSignal&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),k=(await e.confirmTransaction(a,i&&i.commitment)).value;if(k.err)throw new Error(`Transaction ${a} failed (${JSON.stringify(k)})`);return a}function sleep(e){return new Promise((r=>setTimeout(r,e)))}function encodeData(e,r){const n=e.layout.span>=0?e.layout.span:getAlloc(e,r),i=s.Buffer.alloc(n),a=Object.assign({instruction:e.index},r);return e.layout.encode(a,i),i}function decodeData$1(e,r){let n;try{n=e.layout.decode(r)}catch(e){throw new Error("invalid instruction; "+e)}if(n.instruction!==e.index)throw new Error(`invalid instruction; instruction index mismatch ${n.instruction} != ${e.index}`);return n}const oi=Sr.nu64("lamportsPerSignature"),si=Sr.struct([Sr.u32("version"),Sr.u32("state"),publicKey("authorizedPubkey"),publicKey("nonce"),Sr.struct([oi],"feeCalculator")]),ai=si.span;class NonceAccount{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const r=si.decode(toBuffer(e),0);return new NonceAccount({authorizedPubkey:new PublicKey(r.authorizedPubkey),nonce:new PublicKey(r.nonce).toString(),feeCalculator:r.feeCalculator})}}const ci=(ui=8,e=>{const r=(0,Sr.blob)(ui,e),{encode:n,decode:i}=(e=>({decode:e.decode.bind(e),encode:e.encode.bind(e)}))(r),a=r;return a.decode=(e,r)=>{const n=i(e,r);return(0,Er.toBigIntLE)(s.Buffer.from(n))},a.encode=(e,r,i)=>{const s=(0,Er.toBufferLE)(e,ui);return n(s,r,i)},a});var ui;class SystemInstruction{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=Sr.u32("instruction").decode(e.data);let n;for(const[e,i]of Object.entries(di))if(i.index==r){n=e;break}if(!n)throw new Error("Instruction type incorrect; not a SystemInstruction");return n}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:r,space:n,programId:i}=decodeData$1(di.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:r,space:n,programId:new PublicKey(i)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:r}=decodeData$1(di.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:r}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:r,seed:n,programId:i}=decodeData$1(di.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:r,seed:n,programId:new PublicKey(i)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:r}=decodeData$1(di.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:r}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:r,seed:n,space:i,programId:s}=decodeData$1(di.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new PublicKey(r),seed:n,space:i,programId:new PublicKey(s)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:r}=decodeData$1(di.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new PublicKey(r)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:r,seed:n,programId:i}=decodeData$1(di.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new PublicKey(r),seed:n,programId:new PublicKey(i)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:r,seed:n,lamports:i,space:s,programId:a}=decodeData$1(di.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new PublicKey(r),seed:n,lamports:i,space:s,programId:new PublicKey(a)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:r}=decodeData$1(di.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new PublicKey(r)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),decodeData$1(di.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:r}=decodeData$1(di.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:r}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:r}=decodeData$1(di.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new PublicKey(r)}}static checkProgramId(e){if(!e.equals(SystemProgram.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}}const di=Object.freeze({Create:{index:0,layout:Sr.struct([Sr.u32("instruction"),Sr.ns64("lamports"),Sr.ns64("space"),publicKey("programId")])},Assign:{index:1,layout:Sr.struct([Sr.u32("instruction"),publicKey("programId")])},Transfer:{index:2,layout:Sr.struct([Sr.u32("instruction"),ci("lamports")])},CreateWithSeed:{index:3,layout:Sr.struct([Sr.u32("instruction"),publicKey("base"),rustString("seed"),Sr.ns64("lamports"),Sr.ns64("space"),publicKey("programId")])},AdvanceNonceAccount:{index:4,layout:Sr.struct([Sr.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:Sr.struct([Sr.u32("instruction"),Sr.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:Sr.struct([Sr.u32("instruction"),publicKey("authorized")])},AuthorizeNonceAccount:{index:7,layout:Sr.struct([Sr.u32("instruction"),publicKey("authorized")])},Allocate:{index:8,layout:Sr.struct([Sr.u32("instruction"),Sr.ns64("space")])},AllocateWithSeed:{index:9,layout:Sr.struct([Sr.u32("instruction"),publicKey("base"),rustString("seed"),Sr.ns64("space"),publicKey("programId")])},AssignWithSeed:{index:10,layout:Sr.struct([Sr.u32("instruction"),publicKey("base"),rustString("seed"),publicKey("programId")])},TransferWithSeed:{index:11,layout:Sr.struct([Sr.u32("instruction"),ci("lamports"),rustString("seed"),publicKey("programId")])},UpgradeNonceAccount:{index:12,layout:Sr.struct([Sr.u32("instruction")])}});class SystemProgram{constructor(){}static createAccount(e){const r=encodeData(di.Create,{lamports:e.lamports,space:e.space,programId:toBuffer(e.programId.toBuffer())});return new TransactionInstruction({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let r,n;if("basePubkey"in e){r=encodeData(di.TransferWithSeed,{lamports:BigInt(e.lamports),seed:e.seed,programId:toBuffer(e.programId.toBuffer())}),n=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{r=encodeData(di.Transfer,{lamports:BigInt(e.lamports)}),n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new TransactionInstruction({keys:n,programId:this.programId,data:r})}static assign(e){let r,n;if("basePubkey"in e){r=encodeData(di.AssignWithSeed,{base:toBuffer(e.basePubkey.toBuffer()),seed:e.seed,programId:toBuffer(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{r=encodeData(di.Assign,{programId:toBuffer(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new TransactionInstruction({keys:n,programId:this.programId,data:r})}static createAccountWithSeed(e){const r=encodeData(di.CreateWithSeed,{base:toBuffer(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:toBuffer(e.programId.toBuffer())});let n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&n.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new TransactionInstruction({keys:n,programId:this.programId,data:r})}static createNonceAccount(e){const r=new Transaction;"basePubkey"in e&&"seed"in e?r.add(SystemProgram.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:ai,programId:this.programId})):r.add(SystemProgram.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:ai,programId:this.programId}));const n={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return r.add(this.nonceInitialize(n)),r}static nonceInitialize(e){const r=encodeData(di.InitializeNonceAccount,{authorized:toBuffer(e.authorizedPubkey.toBuffer())}),n={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Qn,isSigner:!1,isWritable:!1},{pubkey:ei,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new TransactionInstruction(n)}static nonceAdvance(e){const r=encodeData(di.AdvanceNonceAccount),n={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Qn,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new TransactionInstruction(n)}static nonceWithdraw(e){const r=encodeData(di.WithdrawNonceAccount,{lamports:e.lamports});return new TransactionInstruction({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:Qn,isSigner:!1,isWritable:!1},{pubkey:ei,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const r=encodeData(di.AuthorizeNonceAccount,{authorized:toBuffer(e.newAuthorizedPubkey.toBuffer())});return new TransactionInstruction({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let r,n;if("basePubkey"in e){r=encodeData(di.AllocateWithSeed,{base:toBuffer(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:toBuffer(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{r=encodeData(di.Allocate,{space:e.space}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new TransactionInstruction({keys:n,programId:this.programId,data:r})}}SystemProgram.programId=new PublicKey("11111111111111111111111111111111");const li=mn-300;class Loader{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/Loader.chunkSize)+1+1)}static async load(e,r,n,i,a){{const s=await e.getMinimumBalanceForRentExemption(a.length),k=await e.getAccountInfo(n.publicKey,"confirmed");let w=null;if(null!==k){if(k.executable)return console.error("Program load failed, account is already executable"),!1;k.data.length!==a.length&&(w=w||new Transaction,w.add(SystemProgram.allocate({accountPubkey:n.publicKey,space:a.length}))),k.owner.equals(i)||(w=w||new Transaction,w.add(SystemProgram.assign({accountPubkey:n.publicKey,programId:i}))),k.lamports<s&&(w=w||new Transaction,w.add(SystemProgram.transfer({fromPubkey:r.publicKey,toPubkey:n.publicKey,lamports:s-k.lamports})))}else w=(new Transaction).add(SystemProgram.createAccount({fromPubkey:r.publicKey,newAccountPubkey:n.publicKey,lamports:s>0?s:1,space:a.length,programId:i}));null!==w&&await sendAndConfirmTransaction(e,w,[r,n],{commitment:"confirmed"})}const k=Sr.struct([Sr.u32("instruction"),Sr.u32("offset"),Sr.u32("bytesLength"),Sr.u32("bytesLengthPadding"),Sr.seq(Sr.u8("byte"),Sr.offset(Sr.u32(),-8),"bytes")]),w=Loader.chunkSize;let I=0,we=a,Ae=[];for(;we.length>0;){const a=we.slice(0,w),Be=s.Buffer.alloc(w+16);k.encode({instruction:0,offset:I,bytes:a,bytesLength:0,bytesLengthPadding:0},Be);const Ce=(new Transaction).add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0}],programId:i,data:Be});if(Ae.push(sendAndConfirmTransaction(e,Ce,[r,n],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")){const e=4;await sleep(1e3/e)}I+=w,we=we.slice(w)}await Promise.all(Ae);{const a=Sr.struct([Sr.u32("instruction")]),k=s.Buffer.alloc(a.span);a.encode({instruction:1},k);const w=(new Transaction).add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0},{pubkey:ei,isSigner:!1,isWritable:!1}],programId:i,data:k}),I="processed",we=await e.sendTransaction(w,[r,n],{preflightCommitment:I}),{context:Ae,value:Be}=await e.confirmTransaction({signature:we,lastValidBlockHeight:w.lastValidBlockHeight,blockhash:w.recentBlockhash},I);if(Be.err)throw new Error(`Transaction ${we} failed (${JSON.stringify(Be)})`);for(;;){try{if(await e.getSlot({commitment:I})>Ae.slot)break}catch{}await new Promise((e=>setTimeout(e,Math.round(200))))}}return!0}}Loader.chunkSize=li;const hi=new PublicKey("BPFLoader2111111111111111111111111111111111");class BpfLoader{static getMinNumSignatures(e){return Loader.getMinNumSignatures(e)}static load(e,r,n,i,s){return Loader.load(e,r,n,s,i)}}function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var fi=Object.prototype.toString,pi=Object.keys||function(e){var r=[];for(var n in e)r.push(n);return r};function stringify(e,r){var n,i,s,a,k,w,I;if(!0===e)return"true";if(!1===e)return"false";switch(typeof e){case"object":if(null===e)return null;if(e.toJSON&&"function"==typeof e.toJSON)return stringify(e.toJSON(),r);if("[object Array]"===(I=fi.call(e))){for(s="[",i=e.length-1,n=0;n<i;n++)s+=stringify(e[n],!0)+",";return i>-1&&(s+=stringify(e[n],!0)),s+"]"}if("[object Object]"===I){for(i=(a=pi(e).sort()).length,s="",n=0;n<i;)void 0!==(w=stringify(e[k=a[n]],!1))&&(s&&(s+=","),s+=JSON.stringify(k)+":"+w),n++;return"{"+s+"}"}return JSON.stringify(e);case"function":case"undefined":return r?null:void 0;case"string":return JSON.stringify(e);default:return isFinite(e)?e:null}}var gi=getDefaultExportFromCjs((function(e){var r=stringify(e,!1);if(void 0!==r)return""+r}));function trailingZeros(e){let r=0;for(;e>1;)e/=2,r++;return r}class EpochSchedule{constructor(e,r,n,i,s){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=r,this.warmup=n,this.firstNormalEpoch=i,this.firstNormalSlot=s}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const r=trailingZeros(function nextPowerOfTwo(e){return 0===e?1:(e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,1+(e|=e>>32))}(e+32+1))-trailingZeros(32)-1;return[r,e-(this.getSlotsInEpoch(r)-32)]}{const r=e-this.firstNormalSlot,n=Math.floor(r/this.slotsPerEpoch);return[this.firstNormalEpoch+n,r%this.slotsPerEpoch]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?32*(Math.pow(2,e)-1):(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+trailingZeros(32)):this.slotsPerEpoch}}class SendTransactionError extends Error{constructor(e,r){super(e),this.logs=void 0,this.logs=r}}const yi={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class SolanaJSONRPCError extends Error{constructor({code:e,message:r,data:n},i){super(null!=i?`${i}: ${r}`:r),this.code=void 0,this.data=void 0,this.code=e,this.data=n,this.name="SolanaJSONRPCError"}}var mi=globalThis.fetch;class RpcWebSocketClient extends Pr.A{constructor(e,r,n){super((e=>{const n=(0,Or.A)(e,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...r});return this.underlyingSocket="socket"in n?n.socket:n,n}),e,r,n),this.underlyingSocket=void 0}call(...e){const r=this.underlyingSocket?.readyState;return 1===r?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}notify(...e){const r=this.underlyingSocket?.readyState;return 1===r?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}}class AddressLookupTableAccount{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const r=function decodeData(e,r){let n;try{n=e.layout.decode(r)}catch(e){throw new Error("invalid instruction; "+e)}if(n.typeIndex!==e.index)throw new Error(`invalid account data; account type mismatch ${n.typeIndex} != ${e.index}`);return n}(bi,e),n=e.length-56;index_browser_esm_assert(n>=0,"lookup table is invalid"),index_browser_esm_assert(n%32==0,"lookup table is invalid");const i=n/32,{addresses:s}=Sr.struct([Sr.seq(publicKey(),i,"addresses")]).decode(e.slice(56));return{deactivationSlot:r.deactivationSlot,lastExtendedSlot:r.lastExtendedSlot,lastExtendedSlotStartIndex:r.lastExtendedStartIndex,authority:0!==r.authority.length?new PublicKey(r.authority[0]):void 0,addresses:s.map((e=>new PublicKey(e)))}}}const bi={index:1,layout:Sr.struct([Sr.u32("typeIndex"),ci("deactivationSlot"),Sr.nu64("lastExtendedSlot"),Sr.u8("lastExtendedStartIndex"),Sr.u8(),Sr.seq(publicKey(),Sr.offset(Sr.u8(),-1),"authority")])},ki=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;const wi=(0,vr.au)((0,vr.KJ)(PublicKey),(0,vr.Yj)(),(e=>new PublicKey(e))),Ii=(0,vr.PV)([(0,vr.Yj)(),(0,vr.eu)("base64")]),_i=(0,vr.au)((0,vr.KJ)(s.Buffer),Ii,(e=>s.Buffer.from(e[0],"base64"))),Si=3e4;function extractCommitmentFromConfig(e){let r,n;if("string"==typeof e)r=e;else if(e){const{commitment:i,...s}=e;r=i,n=s}return{commitment:r,config:n}}function createRpcResult(e){return(0,vr.KC)([(0,vr.NW)({jsonrpc:(0,vr.eu)("2.0"),id:(0,vr.Yj)(),result:e}),(0,vr.NW)({jsonrpc:(0,vr.eu)("2.0"),id:(0,vr.Yj)(),error:(0,vr.NW)({code:(0,vr.L5)(),message:(0,vr.Yj)(),data:(0,vr.lq)((0,vr.bz)())})})])}const Ei=createRpcResult((0,vr.L5)());function jsonRpcResult(e){return(0,vr.au)(createRpcResult(e),Ei,(r=>"error"in r?r:{...r,result:(0,vr.vt)(r.result,e)}))}function jsonRpcResultAndContext(e){return jsonRpcResult((0,vr.NW)({context:(0,vr.NW)({slot:(0,vr.ai)()}),value:e}))}function notificationResultAndContext(e){return(0,vr.NW)({context:(0,vr.NW)({slot:(0,vr.ai)()}),value:e})}function versionedMessageFromResponse(e,r){return 0===e?new MessageV0({header:r.header,staticAccountKeys:r.accountKeys.map((e=>new PublicKey(e))),recentBlockhash:r.recentBlockhash,compiledInstructions:r.instructions.map((e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:mr().decode(e.data)}))),addressTableLookups:r.addressTableLookups}):new Message(r)}const vi=(0,vr.NW)({foundation:(0,vr.ai)(),foundationTerm:(0,vr.ai)(),initial:(0,vr.ai)(),taper:(0,vr.ai)(),terminal:(0,vr.ai)()}),Ai=jsonRpcResult((0,vr.YO)((0,vr.me)((0,vr.NW)({epoch:(0,vr.ai)(),effectiveSlot:(0,vr.ai)(),amount:(0,vr.ai)(),postBalance:(0,vr.ai)(),commission:(0,vr.lq)((0,vr.me)((0,vr.ai)()))})))),Ti=(0,vr.YO)((0,vr.NW)({slot:(0,vr.ai)(),prioritizationFee:(0,vr.ai)()})),Pi=(0,vr.NW)({total:(0,vr.ai)(),validator:(0,vr.ai)(),foundation:(0,vr.ai)(),epoch:(0,vr.ai)()}),Oi=(0,vr.NW)({epoch:(0,vr.ai)(),slotIndex:(0,vr.ai)(),slotsInEpoch:(0,vr.ai)(),absoluteSlot:(0,vr.ai)(),blockHeight:(0,vr.lq)((0,vr.ai)()),transactionCount:(0,vr.lq)((0,vr.ai)())}),Mi=(0,vr.NW)({slotsPerEpoch:(0,vr.ai)(),leaderScheduleSlotOffset:(0,vr.ai)(),warmup:(0,vr.zM)(),firstNormalEpoch:(0,vr.ai)(),firstNormalSlot:(0,vr.ai)()}),xi=(0,vr.g1)((0,vr.Yj)(),(0,vr.YO)((0,vr.ai)())),Bi=(0,vr.me)((0,vr.KC)([(0,vr.NW)({}),(0,vr.Yj)()])),Ri=(0,vr.NW)({err:Bi}),Ci=(0,vr.eu)("receivedSignature"),Di=(0,vr.NW)({"solana-core":(0,vr.Yj)(),"feature-set":(0,vr.lq)((0,vr.ai)())}),Ni=jsonRpcResultAndContext((0,vr.NW)({err:(0,vr.me)((0,vr.KC)([(0,vr.NW)({}),(0,vr.Yj)()])),logs:(0,vr.me)((0,vr.YO)((0,vr.Yj)())),accounts:(0,vr.lq)((0,vr.me)((0,vr.YO)((0,vr.me)((0,vr.NW)({executable:(0,vr.zM)(),owner:(0,vr.Yj)(),lamports:(0,vr.ai)(),data:(0,vr.YO)((0,vr.Yj)()),rentEpoch:(0,vr.lq)((0,vr.ai)())}))))),unitsConsumed:(0,vr.lq)((0,vr.ai)()),returnData:(0,vr.lq)((0,vr.me)((0,vr.NW)({programId:(0,vr.Yj)(),data:(0,vr.PV)([(0,vr.Yj)(),(0,vr.eu)("base64")])})))})),zi=jsonRpcResultAndContext((0,vr.NW)({byIdentity:(0,vr.g1)((0,vr.Yj)(),(0,vr.YO)((0,vr.ai)())),range:(0,vr.NW)({firstSlot:(0,vr.ai)(),lastSlot:(0,vr.ai)()})}));const Wi=jsonRpcResult(vi),ji=jsonRpcResult(Pi),Li=jsonRpcResult(Ti),Ki=jsonRpcResult(Oi),Fi=jsonRpcResult(Mi),Ui=jsonRpcResult(xi),Vi=jsonRpcResult((0,vr.ai)()),qi=jsonRpcResultAndContext((0,vr.NW)({total:(0,vr.ai)(),circulating:(0,vr.ai)(),nonCirculating:(0,vr.ai)(),nonCirculatingAccounts:(0,vr.YO)(wi)})),Hi=(0,vr.NW)({amount:(0,vr.Yj)(),uiAmount:(0,vr.me)((0,vr.ai)()),decimals:(0,vr.ai)(),uiAmountString:(0,vr.lq)((0,vr.Yj)())}),Gi=jsonRpcResultAndContext((0,vr.YO)((0,vr.NW)({address:wi,amount:(0,vr.Yj)(),uiAmount:(0,vr.me)((0,vr.ai)()),decimals:(0,vr.ai)(),uiAmountString:(0,vr.lq)((0,vr.Yj)())}))),$i=jsonRpcResultAndContext((0,vr.YO)((0,vr.NW)({pubkey:wi,account:(0,vr.NW)({executable:(0,vr.zM)(),owner:wi,lamports:(0,vr.ai)(),data:_i,rentEpoch:(0,vr.ai)()})}))),Yi=(0,vr.NW)({program:(0,vr.Yj)(),parsed:(0,vr.L5)(),space:(0,vr.ai)()}),Zi=jsonRpcResultAndContext((0,vr.YO)((0,vr.NW)({pubkey:wi,account:(0,vr.NW)({executable:(0,vr.zM)(),owner:wi,lamports:(0,vr.ai)(),data:Yi,rentEpoch:(0,vr.ai)()})}))),Ji=jsonRpcResultAndContext((0,vr.YO)((0,vr.NW)({lamports:(0,vr.ai)(),address:wi}))),Qi=(0,vr.NW)({executable:(0,vr.zM)(),owner:wi,lamports:(0,vr.ai)(),data:_i,rentEpoch:(0,vr.ai)()}),Xi=(0,vr.NW)({pubkey:wi,account:Qi}),eo=(0,vr.au)((0,vr.KC)([(0,vr.KJ)(s.Buffer),Yi]),(0,vr.KC)([Ii,Yi]),(e=>Array.isArray(e)?(0,vr.vt)(e,_i):e)),to=(0,vr.NW)({executable:(0,vr.zM)(),owner:wi,lamports:(0,vr.ai)(),data:eo,rentEpoch:(0,vr.ai)()}),ro=(0,vr.NW)({pubkey:wi,account:to}),no=(0,vr.NW)({state:(0,vr.KC)([(0,vr.eu)("active"),(0,vr.eu)("inactive"),(0,vr.eu)("activating"),(0,vr.eu)("deactivating")]),active:(0,vr.ai)(),inactive:(0,vr.ai)()}),io=jsonRpcResult((0,vr.YO)((0,vr.NW)({signature:(0,vr.Yj)(),slot:(0,vr.ai)(),err:Bi,memo:(0,vr.me)((0,vr.Yj)()),blockTime:(0,vr.lq)((0,vr.me)((0,vr.ai)()))}))),oo=jsonRpcResult((0,vr.YO)((0,vr.NW)({signature:(0,vr.Yj)(),slot:(0,vr.ai)(),err:Bi,memo:(0,vr.me)((0,vr.Yj)()),blockTime:(0,vr.lq)((0,vr.me)((0,vr.ai)()))}))),so=(0,vr.NW)({subscription:(0,vr.ai)(),result:notificationResultAndContext(Qi)}),ao=(0,vr.NW)({pubkey:wi,account:Qi}),co=(0,vr.NW)({subscription:(0,vr.ai)(),result:notificationResultAndContext(ao)}),uo=(0,vr.NW)({parent:(0,vr.ai)(),slot:(0,vr.ai)(),root:(0,vr.ai)()}),lo=(0,vr.NW)({subscription:(0,vr.ai)(),result:uo}),ho=(0,vr.KC)([(0,vr.NW)({type:(0,vr.KC)([(0,vr.eu)("firstShredReceived"),(0,vr.eu)("completed"),(0,vr.eu)("optimisticConfirmation"),(0,vr.eu)("root")]),slot:(0,vr.ai)(),timestamp:(0,vr.ai)()}),(0,vr.NW)({type:(0,vr.eu)("createdBank"),parent:(0,vr.ai)(),slot:(0,vr.ai)(),timestamp:(0,vr.ai)()}),(0,vr.NW)({type:(0,vr.eu)("frozen"),slot:(0,vr.ai)(),timestamp:(0,vr.ai)(),stats:(0,vr.NW)({numTransactionEntries:(0,vr.ai)(),numSuccessfulTransactions:(0,vr.ai)(),numFailedTransactions:(0,vr.ai)(),maxTransactionsPerEntry:(0,vr.ai)()})}),(0,vr.NW)({type:(0,vr.eu)("dead"),slot:(0,vr.ai)(),timestamp:(0,vr.ai)(),err:(0,vr.Yj)()})]),fo=(0,vr.NW)({subscription:(0,vr.ai)(),result:ho}),po=(0,vr.NW)({subscription:(0,vr.ai)(),result:notificationResultAndContext((0,vr.KC)([Ri,Ci]))}),go=(0,vr.NW)({subscription:(0,vr.ai)(),result:(0,vr.ai)()}),yo=(0,vr.NW)({pubkey:(0,vr.Yj)(),gossip:(0,vr.me)((0,vr.Yj)()),tpu:(0,vr.me)((0,vr.Yj)()),rpc:(0,vr.me)((0,vr.Yj)()),version:(0,vr.me)((0,vr.Yj)())}),mo=(0,vr.NW)({votePubkey:(0,vr.Yj)(),nodePubkey:(0,vr.Yj)(),activatedStake:(0,vr.ai)(),epochVoteAccount:(0,vr.zM)(),epochCredits:(0,vr.YO)((0,vr.PV)([(0,vr.ai)(),(0,vr.ai)(),(0,vr.ai)()])),commission:(0,vr.ai)(),lastVote:(0,vr.ai)(),rootSlot:(0,vr.me)((0,vr.ai)())}),bo=jsonRpcResult((0,vr.NW)({current:(0,vr.YO)(mo),delinquent:(0,vr.YO)(mo)})),ko=(0,vr.KC)([(0,vr.eu)("processed"),(0,vr.eu)("confirmed"),(0,vr.eu)("finalized")]),wo=(0,vr.NW)({slot:(0,vr.ai)(),confirmations:(0,vr.me)((0,vr.ai)()),err:Bi,confirmationStatus:(0,vr.lq)(ko)}),Io=jsonRpcResultAndContext((0,vr.YO)((0,vr.me)(wo))),_o=jsonRpcResult((0,vr.ai)()),So=(0,vr.NW)({accountKey:wi,writableIndexes:(0,vr.YO)((0,vr.ai)()),readonlyIndexes:(0,vr.YO)((0,vr.ai)())}),Eo=(0,vr.NW)({signatures:(0,vr.YO)((0,vr.Yj)()),message:(0,vr.NW)({accountKeys:(0,vr.YO)((0,vr.Yj)()),header:(0,vr.NW)({numRequiredSignatures:(0,vr.ai)(),numReadonlySignedAccounts:(0,vr.ai)(),numReadonlyUnsignedAccounts:(0,vr.ai)()}),instructions:(0,vr.YO)((0,vr.NW)({accounts:(0,vr.YO)((0,vr.ai)()),data:(0,vr.Yj)(),programIdIndex:(0,vr.ai)()})),recentBlockhash:(0,vr.Yj)(),addressTableLookups:(0,vr.lq)((0,vr.YO)(So))})}),vo=(0,vr.NW)({pubkey:wi,signer:(0,vr.zM)(),writable:(0,vr.zM)(),source:(0,vr.lq)((0,vr.KC)([(0,vr.eu)("transaction"),(0,vr.eu)("lookupTable")]))}),Ao=(0,vr.NW)({accountKeys:(0,vr.YO)(vo),signatures:(0,vr.YO)((0,vr.Yj)())}),To=(0,vr.NW)({parsed:(0,vr.L5)(),program:(0,vr.Yj)(),programId:wi}),Po=(0,vr.NW)({accounts:(0,vr.YO)(wi),data:(0,vr.Yj)(),programId:wi}),Oo=(0,vr.KC)([Po,To]),Mo=(0,vr.KC)([(0,vr.NW)({parsed:(0,vr.L5)(),program:(0,vr.Yj)(),programId:(0,vr.Yj)()}),(0,vr.NW)({accounts:(0,vr.YO)((0,vr.Yj)()),data:(0,vr.Yj)(),programId:(0,vr.Yj)()})]),xo=(0,vr.au)(Oo,Mo,(e=>"accounts"in e?(0,vr.vt)(e,Po):(0,vr.vt)(e,To))),Bo=(0,vr.NW)({signatures:(0,vr.YO)((0,vr.Yj)()),message:(0,vr.NW)({accountKeys:(0,vr.YO)(vo),instructions:(0,vr.YO)(xo),recentBlockhash:(0,vr.Yj)(),addressTableLookups:(0,vr.lq)((0,vr.me)((0,vr.YO)(So)))})}),Ro=(0,vr.NW)({accountIndex:(0,vr.ai)(),mint:(0,vr.Yj)(),owner:(0,vr.lq)((0,vr.Yj)()),uiTokenAmount:Hi}),Co=(0,vr.NW)({writable:(0,vr.YO)(wi),readonly:(0,vr.YO)(wi)}),Do=(0,vr.NW)({err:Bi,fee:(0,vr.ai)(),innerInstructions:(0,vr.lq)((0,vr.me)((0,vr.YO)((0,vr.NW)({index:(0,vr.ai)(),instructions:(0,vr.YO)((0,vr.NW)({accounts:(0,vr.YO)((0,vr.ai)()),data:(0,vr.Yj)(),programIdIndex:(0,vr.ai)()}))})))),preBalances:(0,vr.YO)((0,vr.ai)()),postBalances:(0,vr.YO)((0,vr.ai)()),logMessages:(0,vr.lq)((0,vr.me)((0,vr.YO)((0,vr.Yj)()))),preTokenBalances:(0,vr.lq)((0,vr.me)((0,vr.YO)(Ro))),postTokenBalances:(0,vr.lq)((0,vr.me)((0,vr.YO)(Ro))),loadedAddresses:(0,vr.lq)(Co),computeUnitsConsumed:(0,vr.lq)((0,vr.ai)())}),No=(0,vr.NW)({err:Bi,fee:(0,vr.ai)(),innerInstructions:(0,vr.lq)((0,vr.me)((0,vr.YO)((0,vr.NW)({index:(0,vr.ai)(),instructions:(0,vr.YO)(xo)})))),preBalances:(0,vr.YO)((0,vr.ai)()),postBalances:(0,vr.YO)((0,vr.ai)()),logMessages:(0,vr.lq)((0,vr.me)((0,vr.YO)((0,vr.Yj)()))),preTokenBalances:(0,vr.lq)((0,vr.me)((0,vr.YO)(Ro))),postTokenBalances:(0,vr.lq)((0,vr.me)((0,vr.YO)(Ro))),loadedAddresses:(0,vr.lq)(Co),computeUnitsConsumed:(0,vr.lq)((0,vr.ai)())}),zo=(0,vr.KC)([(0,vr.eu)(0),(0,vr.eu)("legacy")]),Wo=(0,vr.NW)({pubkey:(0,vr.Yj)(),lamports:(0,vr.ai)(),postBalance:(0,vr.me)((0,vr.ai)()),rewardType:(0,vr.me)((0,vr.Yj)()),commission:(0,vr.lq)((0,vr.me)((0,vr.ai)()))}),jo=jsonRpcResult((0,vr.me)((0,vr.NW)({blockhash:(0,vr.Yj)(),previousBlockhash:(0,vr.Yj)(),parentSlot:(0,vr.ai)(),transactions:(0,vr.YO)((0,vr.NW)({transaction:Eo,meta:(0,vr.me)(Do),version:(0,vr.lq)(zo)})),rewards:(0,vr.lq)((0,vr.YO)(Wo)),blockTime:(0,vr.me)((0,vr.ai)()),blockHeight:(0,vr.me)((0,vr.ai)())}))),Lo=jsonRpcResult((0,vr.me)((0,vr.NW)({blockhash:(0,vr.Yj)(),previousBlockhash:(0,vr.Yj)(),parentSlot:(0,vr.ai)(),rewards:(0,vr.lq)((0,vr.YO)(Wo)),blockTime:(0,vr.me)((0,vr.ai)()),blockHeight:(0,vr.me)((0,vr.ai)())}))),Ko=jsonRpcResult((0,vr.me)((0,vr.NW)({blockhash:(0,vr.Yj)(),previousBlockhash:(0,vr.Yj)(),parentSlot:(0,vr.ai)(),transactions:(0,vr.YO)((0,vr.NW)({transaction:Ao,meta:(0,vr.me)(Do),version:(0,vr.lq)(zo)})),rewards:(0,vr.lq)((0,vr.YO)(Wo)),blockTime:(0,vr.me)((0,vr.ai)()),blockHeight:(0,vr.me)((0,vr.ai)())}))),Fo=jsonRpcResult((0,vr.me)((0,vr.NW)({blockhash:(0,vr.Yj)(),previousBlockhash:(0,vr.Yj)(),parentSlot:(0,vr.ai)(),transactions:(0,vr.YO)((0,vr.NW)({transaction:Bo,meta:(0,vr.me)(No),version:(0,vr.lq)(zo)})),rewards:(0,vr.lq)((0,vr.YO)(Wo)),blockTime:(0,vr.me)((0,vr.ai)()),blockHeight:(0,vr.me)((0,vr.ai)())}))),Uo=jsonRpcResult((0,vr.me)((0,vr.NW)({blockhash:(0,vr.Yj)(),previousBlockhash:(0,vr.Yj)(),parentSlot:(0,vr.ai)(),transactions:(0,vr.YO)((0,vr.NW)({transaction:Ao,meta:(0,vr.me)(No),version:(0,vr.lq)(zo)})),rewards:(0,vr.lq)((0,vr.YO)(Wo)),blockTime:(0,vr.me)((0,vr.ai)()),blockHeight:(0,vr.me)((0,vr.ai)())}))),Vo=jsonRpcResult((0,vr.me)((0,vr.NW)({blockhash:(0,vr.Yj)(),previousBlockhash:(0,vr.Yj)(),parentSlot:(0,vr.ai)(),rewards:(0,vr.lq)((0,vr.YO)(Wo)),blockTime:(0,vr.me)((0,vr.ai)()),blockHeight:(0,vr.me)((0,vr.ai)())}))),qo=jsonRpcResult((0,vr.me)((0,vr.NW)({blockhash:(0,vr.Yj)(),previousBlockhash:(0,vr.Yj)(),parentSlot:(0,vr.ai)(),transactions:(0,vr.YO)((0,vr.NW)({transaction:Eo,meta:(0,vr.me)(Do)})),rewards:(0,vr.lq)((0,vr.YO)(Wo)),blockTime:(0,vr.me)((0,vr.ai)())}))),Ho=jsonRpcResult((0,vr.me)((0,vr.NW)({blockhash:(0,vr.Yj)(),previousBlockhash:(0,vr.Yj)(),parentSlot:(0,vr.ai)(),signatures:(0,vr.YO)((0,vr.Yj)()),blockTime:(0,vr.me)((0,vr.ai)())}))),Go=jsonRpcResult((0,vr.me)((0,vr.NW)({slot:(0,vr.ai)(),meta:(0,vr.me)(Do),blockTime:(0,vr.lq)((0,vr.me)((0,vr.ai)())),transaction:Eo,version:(0,vr.lq)(zo)}))),$o=jsonRpcResult((0,vr.me)((0,vr.NW)({slot:(0,vr.ai)(),transaction:Bo,meta:(0,vr.me)(No),blockTime:(0,vr.lq)((0,vr.me)((0,vr.ai)())),version:(0,vr.lq)(zo)}))),Yo=jsonRpcResultAndContext((0,vr.NW)({blockhash:(0,vr.Yj)(),feeCalculator:(0,vr.NW)({lamportsPerSignature:(0,vr.ai)()})})),Zo=jsonRpcResultAndContext((0,vr.NW)({blockhash:(0,vr.Yj)(),lastValidBlockHeight:(0,vr.ai)()})),Jo=jsonRpcResultAndContext((0,vr.zM)()),Qo=(0,vr.NW)({slot:(0,vr.ai)(),numTransactions:(0,vr.ai)(),numSlots:(0,vr.ai)(),samplePeriodSecs:(0,vr.ai)()}),Xo=jsonRpcResult((0,vr.YO)(Qo)),es=jsonRpcResultAndContext((0,vr.me)((0,vr.NW)({feeCalculator:(0,vr.NW)({lamportsPerSignature:(0,vr.ai)()})}))),ts=jsonRpcResult((0,vr.Yj)()),rs=jsonRpcResult((0,vr.Yj)()),ns=(0,vr.NW)({err:Bi,logs:(0,vr.YO)((0,vr.Yj)()),signature:(0,vr.Yj)()}),os=(0,vr.NW)({result:notificationResultAndContext(ns),subscription:(0,vr.ai)()}),ss={"solana-client":"js/0.0.0-development"};class Connection{constructor(e,r){let n,i,s,a,k,w;this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const e={};return async r=>{const{commitment:n,config:i}=extractCommitmentFromConfig(r),s=this._buildArgs([],n,void 0,i),a=gi(s);return e[a]=e[a]??(async()=>{try{const e=await this._rpcRequest("getBlockHeight",s),r=(0,vr.vt)(e,jsonRpcResult((0,vr.ai)()));if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get block height information");return r.result}finally{delete e[a]}})(),await e[a]}})(),r&&"string"==typeof r?this._commitment=r:r&&(this._commitment=r.commitment,this._confirmTransactionInitialTimeout=r.confirmTransactionInitialTimeout,n=r.wsEndpoint,i=r.httpHeaders,s=r.fetch,a=r.fetchMiddleware,k=r.disableRetryOnRateLimit,w=r.httpAgent),this._rpcEndpoint=function assertEndpointUrl(e){if(!1===/^https?:/.test(e))throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return e}(e),this._rpcWsEndpoint=n||function makeWebsocketUrl(e){const r=e.match(ki);if(null==r)throw TypeError(`Failed to validate endpoint URL \`${e}\``);const[n,i,s,a]=r,k=e.startsWith("https:")?"wss:":"ws:",w=null==s?null:parseInt(s.slice(1),10);return`${k}//${i}${null==w?"":`:${w+1}`}${a}`}(e),this._rpcClient=function createRpcClient(e,r,n,i,s,a){const k=n||mi;let w;return null!=a&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments."),i&&(w=async(e,r)=>{const n=await new Promise(((n,s)=>{try{i(e,r,((e,r)=>n([e,r])))}catch(e){s(e)}}));return await k(...n)}),new(Tr())((async(n,i)=>{const a={method:"POST",body:n,agent:void 0,headers:Object.assign({"Content-Type":"application/json"},r||{},ss)};try{let r,n=5,I=500;for(;r=w?await w(e,a):await k(e,a),429===r.status&&!0!==s&&(n-=1,0!==n);)console.error(`Server responded with ${r.status} ${r.statusText}.  Retrying after ${I}ms delay...`),await sleep(I),I*=2;const we=await r.text();r.ok?i(null,we):i(new Error(`${r.status} ${r.statusText}: ${we}`))}catch(e){e instanceof Error&&i(e)}}),{})}(e,i,s,a,k,w),this._rpcRequest=function createRpcRequest(e){return(r,n)=>new Promise(((i,s)=>{e.request(r,n,((e,r)=>{e?s(e):i(r)}))}))}(this._rpcClient),this._rpcBatchRequest=function createRpcBatchRequest(e){return r=>new Promise(((n,i)=>{0===r.length&&n([]);const s=r.map((r=>e.request(r.methodName,r.args)));e.request(s,((e,r)=>{e?i(e):n(r)}))}))}(this._rpcClient),this._rpcWebSocket=new RpcWebSocketClient(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,r){const{commitment:n,config:i}=extractCommitmentFromConfig(r),s=this._buildArgs([e.toBase58()],n,void 0,i),a=await this._rpcRequest("getBalance",s),k=(0,vr.vt)(a,jsonRpcResultAndContext((0,vr.ai)()));if("error"in k)throw new SolanaJSONRPCError(k.error,`failed to get balance for ${e.toBase58()}`);return k.result}async getBalance(e,r){return await this.getBalanceAndContext(e,r).then((e=>e.value)).catch((r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)}))}async getBlockTime(e){const r=await this._rpcRequest("getBlockTime",[e]),n=(0,vr.vt)(r,jsonRpcResult((0,vr.me)((0,vr.ai)())));if("error"in n)throw new SolanaJSONRPCError(n.error,`failed to get block time for slot ${e}`);return n.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),r=(0,vr.vt)(e,jsonRpcResult((0,vr.ai)()));if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get minimum ledger slot");return r.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),r=(0,vr.vt)(e,Vi);if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get first available block");return r.result}async getSupply(e){let r={};r="string"==typeof e?{commitment:e}:e?{...e,commitment:e&&e.commitment||this.commitment}:{commitment:this.commitment};const n=await this._rpcRequest("getSupply",[r]),i=(0,vr.vt)(n,qi);if("error"in i)throw new SolanaJSONRPCError(i.error,"failed to get supply");return i.result}async getTokenSupply(e,r){const n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenSupply",n),s=(0,vr.vt)(i,jsonRpcResultAndContext(Hi));if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get token supply");return s.result}async getTokenAccountBalance(e,r){const n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenAccountBalance",n),s=(0,vr.vt)(i,jsonRpcResultAndContext(Hi));if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get token account balance");return s.result}async getTokenAccountsByOwner(e,r,n){const{commitment:i,config:s}=extractCommitmentFromConfig(n);let a=[e.toBase58()];"mint"in r?a.push({mint:r.mint.toBase58()}):a.push({programId:r.programId.toBase58()});const k=this._buildArgs(a,i,"base64",s),w=await this._rpcRequest("getTokenAccountsByOwner",k),I=(0,vr.vt)(w,$i);if("error"in I)throw new SolanaJSONRPCError(I.error,`failed to get token accounts owned by account ${e.toBase58()}`);return I.result}async getParsedTokenAccountsByOwner(e,r,n){let i=[e.toBase58()];"mint"in r?i.push({mint:r.mint.toBase58()}):i.push({programId:r.programId.toBase58()});const s=this._buildArgs(i,n,"jsonParsed"),a=await this._rpcRequest("getTokenAccountsByOwner",s),k=(0,vr.vt)(a,Zi);if("error"in k)throw new SolanaJSONRPCError(k.error,`failed to get token accounts owned by account ${e.toBase58()}`);return k.result}async getLargestAccounts(e){const r={...e,commitment:e&&e.commitment||this.commitment},n=r.filter||r.commitment?[r]:[],i=await this._rpcRequest("getLargestAccounts",n),s=(0,vr.vt)(i,Ji);if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get largest accounts");return s.result}async getTokenLargestAccounts(e,r){const n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenLargestAccounts",n),s=(0,vr.vt)(i,Gi);if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get token largest accounts");return s.result}async getAccountInfoAndContext(e,r){const{commitment:n,config:i}=extractCommitmentFromConfig(r),s=this._buildArgs([e.toBase58()],n,"base64",i),a=await this._rpcRequest("getAccountInfo",s),k=(0,vr.vt)(a,jsonRpcResultAndContext((0,vr.me)(Qi)));if("error"in k)throw new SolanaJSONRPCError(k.error,`failed to get info about account ${e.toBase58()}`);return k.result}async getParsedAccountInfo(e,r){const{commitment:n,config:i}=extractCommitmentFromConfig(r),s=this._buildArgs([e.toBase58()],n,"jsonParsed",i),a=await this._rpcRequest("getAccountInfo",s),k=(0,vr.vt)(a,jsonRpcResultAndContext((0,vr.me)(to)));if("error"in k)throw new SolanaJSONRPCError(k.error,`failed to get info about account ${e.toBase58()}`);return k.result}async getAccountInfo(e,r){try{return(await this.getAccountInfoAndContext(e,r)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,r){const{commitment:n,config:i}=extractCommitmentFromConfig(r),s=e.map((e=>e.toBase58())),a=this._buildArgs([s],n,"jsonParsed",i),k=await this._rpcRequest("getMultipleAccounts",a),w=(0,vr.vt)(k,jsonRpcResultAndContext((0,vr.YO)((0,vr.me)(to))));if("error"in w)throw new SolanaJSONRPCError(w.error,`failed to get info for accounts ${s}`);return w.result}async getMultipleAccountsInfoAndContext(e,r){const{commitment:n,config:i}=extractCommitmentFromConfig(r),s=e.map((e=>e.toBase58())),a=this._buildArgs([s],n,"base64",i),k=await this._rpcRequest("getMultipleAccounts",a),w=(0,vr.vt)(k,jsonRpcResultAndContext((0,vr.YO)((0,vr.me)(Qi))));if("error"in w)throw new SolanaJSONRPCError(w.error,`failed to get info for accounts ${s}`);return w.result}async getMultipleAccountsInfo(e,r){return(await this.getMultipleAccountsInfoAndContext(e,r)).value}async getStakeActivation(e,r,n){const{commitment:i,config:s}=extractCommitmentFromConfig(r),a=this._buildArgs([e.toBase58()],i,void 0,{...s,epoch:null!=n?n:s?.epoch}),k=await this._rpcRequest("getStakeActivation",a),w=(0,vr.vt)(k,jsonRpcResult(no));if("error"in w)throw new SolanaJSONRPCError(w.error,`failed to get Stake Activation ${e.toBase58()}`);return w.result}async getProgramAccounts(e,r){const{commitment:n,config:i}=extractCommitmentFromConfig(r),{encoding:s,...a}=i||{},k=this._buildArgs([e.toBase58()],n,s||"base64",a),w=await this._rpcRequest("getProgramAccounts",k),I=(0,vr.YO)(Xi),we=!0===a.withContext?(0,vr.vt)(w,jsonRpcResultAndContext(I)):(0,vr.vt)(w,jsonRpcResult(I));if("error"in we)throw new SolanaJSONRPCError(we.error,`failed to get accounts owned by program ${e.toBase58()}`);return we.result}async getParsedProgramAccounts(e,r){const{commitment:n,config:i}=extractCommitmentFromConfig(r),s=this._buildArgs([e.toBase58()],n,"jsonParsed",i),a=await this._rpcRequest("getProgramAccounts",s),k=(0,vr.vt)(a,jsonRpcResult((0,vr.YO)(ro)));if("error"in k)throw new SolanaJSONRPCError(k.error,`failed to get accounts owned by program ${e.toBase58()}`);return k.result}async confirmTransaction(e,r){let n,i;if("string"==typeof e)n=e;else{const r=e;if(r.abortSignal?.aborted)return Promise.reject(r.abortSignal.reason);n=r.signature}try{i=mr().decode(n)}catch(e){throw new Error("signature must be base58 encoded: "+n)}return index_browser_esm_assert(64===i.length,"signature has invalid length"),"string"==typeof e?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:r||this.commitment,signature:n}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:r||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:r||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise(((r,n)=>{null!=e&&(e.aborted?n(e.reason):e.addEventListener("abort",(()=>{n(e.reason)})))}))}getTransactionConfirmationPromise({commitment:e,signature:r}){let n,i,s=!1;return{abortConfirmation:()=>{i&&(i(),i=void 0),null!=n&&(this.removeSignatureListener(n),n=void 0)},confirmationPromise:new Promise(((a,k)=>{try{n=this.onSignature(r,((e,r)=>{n=void 0;const i={context:r,value:e};a({__type:Bn.PROCESSED,response:i})}),e);const w=new Promise((e=>{null==n?e():i=this._onSubscriptionStateChange(n,(r=>{"subscribed"===r&&e()}))}));(async()=>{if(await w,s)return;const n=await this.getSignatureStatus(r);if(s)return;if(null==n)return;const{context:i,value:I}=n;if(null!=I)if(I?.err)k(I.err);else{switch(e){case"confirmed":case"single":case"singleGossip":if("processed"===I.confirmationStatus)return;break;case"finalized":case"max":case"root":if("processed"===I.confirmationStatus||"confirmed"===I.confirmationStatus)return}s=!0,a({__type:Bn.PROCESSED,response:{context:i,value:I}})}})()}catch(e){k(e)}}))}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:r,lastValidBlockHeight:n,signature:i}}){let s=!1;const a=new Promise((r=>{const checkBlockHeight=async()=>{try{return await this.getBlockHeight(e)}catch(e){return-1}};(async()=>{let e=await checkBlockHeight();if(!s){for(;e<=n;){if(await sleep(1e3),s)return;if(e=await checkBlockHeight(),s)return}r({__type:Bn.BLOCKHEIGHT_EXCEEDED})}})()})),{abortConfirmation:k,confirmationPromise:w}=this.getTransactionConfirmationPromise({commitment:e,signature:i}),I=this.getCancellationPromise(r);let we;try{const e=await Promise.race([I,w,a]);if(e.__type!==Bn.PROCESSED)throw new TransactionExpiredBlockheightExceededError(i);we=e.response}finally{s=!0,k()}return we}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:r,minContextSlot:n,nonceAccountPubkey:i,nonceValue:s,signature:a}}){let k=!1;const w=new Promise((r=>{let a=s,w=null;const getCurrentNonceValue=async()=>{try{const{context:r,value:s}=await this.getNonceAndContext(i,{commitment:e,minContextSlot:n});return w=r.slot,s?.nonce}catch(e){return a}};(async()=>{if(a=await getCurrentNonceValue(),!k)for(;;){if(s!==a)return void r({__type:Bn.NONCE_INVALID,slotInWhichNonceDidAdvance:w});if(await sleep(2e3),k)return;if(a=await getCurrentNonceValue(),k)return}})()})),{abortConfirmation:I,confirmationPromise:we}=this.getTransactionConfirmationPromise({commitment:e,signature:a}),Ae=this.getCancellationPromise(r);let Be;try{const r=await Promise.race([Ae,we,w]);if(r.__type===Bn.PROCESSED)Be=r.response;else{let i;for(;;){const e=await this.getSignatureStatus(a);if(null==e)break;if(!(e.context.slot<(r.slotInWhichNonceDidAdvance??n))){i=e;break}await sleep(400)}if(!i?.value)throw new TransactionExpiredNonceInvalidError(a);{const r=e||"finalized",{confirmationStatus:n}=i.value;switch(r){case"processed":case"recent":if("processed"!==n&&"confirmed"!==n&&"finalized"!==n)throw new TransactionExpiredNonceInvalidError(a);break;case"confirmed":case"single":case"singleGossip":if("confirmed"!==n&&"finalized"!==n)throw new TransactionExpiredNonceInvalidError(a);break;case"finalized":case"max":case"root":if("finalized"!==n)throw new TransactionExpiredNonceInvalidError(a)}Be={context:i.context,value:{err:i.value.err}}}}}finally{k=!0,I()}return Be}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:r}){let n;const i=new Promise((r=>{let i=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":i=this._confirmTransactionInitialTimeout||3e4}n=setTimeout((()=>r({__type:Bn.TIMED_OUT,timeoutMs:i})),i)})),{abortConfirmation:s,confirmationPromise:a}=this.getTransactionConfirmationPromise({commitment:e,signature:r});let k;try{const e=await Promise.race([a,i]);if(e.__type!==Bn.PROCESSED)throw new TransactionExpiredTimeoutError(r,e.timeoutMs/1e3);k=e.response}finally{clearTimeout(n),s()}return k}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),r=(0,vr.vt)(e,jsonRpcResult((0,vr.YO)(yo)));if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get cluster nodes");return r.result}async getVoteAccounts(e){const r=this._buildArgs([],e),n=await this._rpcRequest("getVoteAccounts",r),i=(0,vr.vt)(n,bo);if("error"in i)throw new SolanaJSONRPCError(i.error,"failed to get vote accounts");return i.result}async getSlot(e){const{commitment:r,config:n}=extractCommitmentFromConfig(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getSlot",i),a=(0,vr.vt)(s,jsonRpcResult((0,vr.ai)()));if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get slot");return a.result}async getSlotLeader(e){const{commitment:r,config:n}=extractCommitmentFromConfig(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getSlotLeader",i),a=(0,vr.vt)(s,jsonRpcResult((0,vr.Yj)()));if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get slot leader");return a.result}async getSlotLeaders(e,r){const n=[e,r],i=await this._rpcRequest("getSlotLeaders",n),s=(0,vr.vt)(i,jsonRpcResult((0,vr.YO)(wi)));if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get slot leaders");return s.result}async getSignatureStatus(e,r){const{context:n,value:i}=await this.getSignatureStatuses([e],r);index_browser_esm_assert(1===i.length);return{context:n,value:i[0]}}async getSignatureStatuses(e,r){const n=[e];r&&n.push(r);const i=await this._rpcRequest("getSignatureStatuses",n),s=(0,vr.vt)(i,Io);if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get signature status");return s.result}async getTransactionCount(e){const{commitment:r,config:n}=extractCommitmentFromConfig(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getTransactionCount",i),a=(0,vr.vt)(s,jsonRpcResult((0,vr.ai)()));if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get transaction count");return a.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const r=this._buildArgs([],e),n=await this._rpcRequest("getInflationGovernor",r),i=(0,vr.vt)(n,Wi);if("error"in i)throw new SolanaJSONRPCError(i.error,"failed to get inflation");return i.result}async getInflationReward(e,r,n){const{commitment:i,config:s}=extractCommitmentFromConfig(n),a=this._buildArgs([e.map((e=>e.toBase58()))],i,void 0,{...s,epoch:null!=r?r:s?.epoch}),k=await this._rpcRequest("getInflationReward",a),w=(0,vr.vt)(k,Ai);if("error"in w)throw new SolanaJSONRPCError(w.error,"failed to get inflation reward");return w.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),r=(0,vr.vt)(e,ji);if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get inflation rate");return r.result}async getEpochInfo(e){const{commitment:r,config:n}=extractCommitmentFromConfig(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getEpochInfo",i),a=(0,vr.vt)(s,Ki);if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get epoch info");return a.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),r=(0,vr.vt)(e,Fi);if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get epoch schedule");const n=r.result;return new EpochSchedule(n.slotsPerEpoch,n.leaderScheduleSlotOffset,n.warmup,n.firstNormalEpoch,n.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),r=(0,vr.vt)(e,Ui);if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get leader schedule");return r.result}async getMinimumBalanceForRentExemption(e,r){const n=this._buildArgs([e],r),i=await this._rpcRequest("getMinimumBalanceForRentExemption",n),s=(0,vr.vt)(i,_o);return"error"in s?(console.warn("Unable to fetch minimum balance for rent exemption"),0):s.result}async getRecentBlockhashAndContext(e){const r=this._buildArgs([],e),n=await this._rpcRequest("getRecentBlockhash",r),i=(0,vr.vt)(n,Yo);if("error"in i)throw new SolanaJSONRPCError(i.error,"failed to get recent blockhash");return i.result}async getRecentPerformanceSamples(e){const r=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),n=(0,vr.vt)(r,Xo);if("error"in n)throw new SolanaJSONRPCError(n.error,"failed to get recent performance samples");return n.result}async getFeeCalculatorForBlockhash(e,r){const n=this._buildArgs([e],r),i=await this._rpcRequest("getFeeCalculatorForBlockhash",n),s=(0,vr.vt)(i,es);if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get fee calculator");const{context:a,value:k}=s.result;return{context:a,value:null!==k?k.feeCalculator:null}}async getFeeForMessage(e,r){const n=toBuffer(e.serialize()).toString("base64"),i=this._buildArgs([n],r),s=await this._rpcRequest("getFeeForMessage",i),a=(0,vr.vt)(s,jsonRpcResultAndContext((0,vr.me)((0,vr.ai)())));if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get fee for message");if(null===a.result)throw new Error("invalid blockhash");return a.result}async getRecentPrioritizationFees(e){const r=e?.lockedWritableAccounts?.map((e=>e.toBase58())),n=r?.length?[r]:[],i=await this._rpcRequest("getRecentPrioritizationFees",n),s=(0,vr.vt)(i,Li);if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get recent prioritization fees");return s.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(e){throw new Error("failed to get recent blockhash: "+e)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(e){throw new Error("failed to get recent blockhash: "+e)}}async getLatestBlockhashAndContext(e){const{commitment:r,config:n}=extractCommitmentFromConfig(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getLatestBlockhash",i),a=(0,vr.vt)(s,Zo);if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get latest blockhash");return a.result}async isBlockhashValid(e,r){const{commitment:n,config:i}=extractCommitmentFromConfig(r),s=this._buildArgs([e],n,void 0,i),a=await this._rpcRequest("isBlockhashValid",s),k=(0,vr.vt)(a,Jo);if("error"in k)throw new SolanaJSONRPCError(k.error,"failed to determine if the blockhash `"+e+"`is valid");return k.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),r=(0,vr.vt)(e,jsonRpcResult(Di));if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get version");return r.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),r=(0,vr.vt)(e,jsonRpcResult((0,vr.Yj)()));if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get genesis hash");return r.result}async getBlock(e,r){const{commitment:n,config:i}=extractCommitmentFromConfig(r),s=this._buildArgsAtLeastConfirmed([e],n,void 0,i),a=await this._rpcRequest("getBlock",s);try{switch(i?.transactionDetails){case"accounts":{const e=(0,vr.vt)(a,Ko);if("error"in e)throw e.error;return e.result}case"none":{const e=(0,vr.vt)(a,Lo);if("error"in e)throw e.error;return e.result}default:{const e=(0,vr.vt)(a,jo);if("error"in e)throw e.error;const{result:r}=e;return r?{...r,transactions:r.transactions.map((({transaction:e,meta:r,version:n})=>({meta:r,transaction:{...e,message:versionedMessageFromResponse(n,e.message)},version:n})))}:null}}}catch(e){throw new SolanaJSONRPCError(e,"failed to get confirmed block")}}async getParsedBlock(e,r){const{commitment:n,config:i}=extractCommitmentFromConfig(r),s=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",i),a=await this._rpcRequest("getBlock",s);try{switch(i?.transactionDetails){case"accounts":{const e=(0,vr.vt)(a,Uo);if("error"in e)throw e.error;return e.result}case"none":{const e=(0,vr.vt)(a,Vo);if("error"in e)throw e.error;return e.result}default:{const e=(0,vr.vt)(a,Fo);if("error"in e)throw e.error;return e.result}}}catch(e){throw new SolanaJSONRPCError(e,"failed to get block")}}async getBlockProduction(e){let r,n;if("string"==typeof e)n=e;else if(e){const{commitment:i,...s}=e;n=i,r=s}const i=this._buildArgs([],n,"base64",r),s=await this._rpcRequest("getBlockProduction",i),a=(0,vr.vt)(s,zi);if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get block production information");return a.result}async getTransaction(e,r){const{commitment:n,config:i}=extractCommitmentFromConfig(r),s=this._buildArgsAtLeastConfirmed([e],n,void 0,i),a=await this._rpcRequest("getTransaction",s),k=(0,vr.vt)(a,Go);if("error"in k)throw new SolanaJSONRPCError(k.error,"failed to get transaction");const w=k.result;return w?{...w,transaction:{...w.transaction,message:versionedMessageFromResponse(w.version,w.transaction.message)}}:w}async getParsedTransaction(e,r){const{commitment:n,config:i}=extractCommitmentFromConfig(r),s=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",i),a=await this._rpcRequest("getTransaction",s),k=(0,vr.vt)(a,$o);if("error"in k)throw new SolanaJSONRPCError(k.error,"failed to get transaction");return k.result}async getParsedTransactions(e,r){const{commitment:n,config:i}=extractCommitmentFromConfig(r),s=e.map((e=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",i)})));return(await this._rpcBatchRequest(s)).map((e=>{const r=(0,vr.vt)(e,$o);if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get transactions");return r.result}))}async getTransactions(e,r){const{commitment:n,config:i}=extractCommitmentFromConfig(r),s=e.map((e=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([e],n,void 0,i)})));return(await this._rpcBatchRequest(s)).map((e=>{const r=(0,vr.vt)(e,Go);if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get transactions");const n=r.result;return n?{...n,transaction:{...n.transaction,message:versionedMessageFromResponse(n.version,n.transaction.message)}}:n}))}async getConfirmedBlock(e,r){const n=this._buildArgsAtLeastConfirmed([e],r),i=await this._rpcRequest("getConfirmedBlock",n),s=(0,vr.vt)(i,qo);if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get confirmed block");const a=s.result;if(!a)throw new Error("Confirmed block "+e+" not found");const k={...a,transactions:a.transactions.map((({transaction:e,meta:r})=>{const n=new Message(e.message);return{meta:r,transaction:{...e,message:n}}}))};return{...k,transactions:k.transactions.map((({transaction:e,meta:r})=>({meta:r,transaction:Transaction.populate(e.message,e.signatures)})))}}async getBlocks(e,r,n){const i=this._buildArgsAtLeastConfirmed(void 0!==r?[e,r]:[e],n),s=await this._rpcRequest("getBlocks",i),a=(0,vr.vt)(s,jsonRpcResult((0,vr.YO)((0,vr.ai)())));if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get blocks");return a.result}async getBlockSignatures(e,r){const n=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",n),s=(0,vr.vt)(i,Ho);if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get block");const a=s.result;if(!a)throw new Error("Block "+e+" not found");return a}async getConfirmedBlockSignatures(e,r){const n=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getConfirmedBlock",n),s=(0,vr.vt)(i,Ho);if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get confirmed block");const a=s.result;if(!a)throw new Error("Confirmed block "+e+" not found");return a}async getConfirmedTransaction(e,r){const n=this._buildArgsAtLeastConfirmed([e],r),i=await this._rpcRequest("getConfirmedTransaction",n),s=(0,vr.vt)(i,Go);if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get transaction");const a=s.result;if(!a)return a;const k=new Message(a.transaction.message),w=a.transaction.signatures;return{...a,transaction:Transaction.populate(k,w)}}async getParsedConfirmedTransaction(e,r){const n=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed"),i=await this._rpcRequest("getConfirmedTransaction",n),s=(0,vr.vt)(i,$o);if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get confirmed transaction");return s.result}async getParsedConfirmedTransactions(e,r){const n=e.map((e=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([e],r,"jsonParsed")})));return(await this._rpcBatchRequest(n)).map((e=>{const r=(0,vr.vt)(e,$o);if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get confirmed transactions");return r.result}))}async getConfirmedSignaturesForAddress(e,r,n){let i={},s=await this.getFirstAvailableBlock();for(;!("until"in i)&&!(--r<=0||r<s);)try{const e=await this.getConfirmedBlockSignatures(r,"finalized");e.signatures.length>0&&(i.until=e.signatures[e.signatures.length-1].toString())}catch(e){if(e instanceof Error&&e.message.includes("skipped"))continue;throw e}let a=await this.getSlot("finalized");for(;!("before"in i||++n>a);)try{const e=await this.getConfirmedBlockSignatures(n);e.signatures.length>0&&(i.before=e.signatures[e.signatures.length-1].toString())}catch(e){if(e instanceof Error&&e.message.includes("skipped"))continue;throw e}return(await this.getConfirmedSignaturesForAddress2(e,i)).map((e=>e.signature))}async getConfirmedSignaturesForAddress2(e,r,n){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,r),s=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),a=(0,vr.vt)(s,io);if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get confirmed signatures for address");return a.result}async getSignaturesForAddress(e,r,n){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,r),s=await this._rpcRequest("getSignaturesForAddress",i),a=(0,vr.vt)(s,oo);if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get signatures for address");return a.result}async getAddressLookupTable(e,r){const{context:n,value:i}=await this.getAccountInfoAndContext(e,r);let s=null;return null!==i&&(s=new AddressLookupTableAccount({key:e,state:AddressLookupTableAccount.deserialize(i.data)})),{context:n,value:s}}async getNonceAndContext(e,r){const{context:n,value:i}=await this.getAccountInfoAndContext(e,r);let s=null;return null!==i&&(s=NonceAccount.fromAccountData(i.data)),{context:n,value:s}}async getNonce(e,r){return await this.getNonceAndContext(e,r).then((e=>e.value)).catch((r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)}))}async requestAirdrop(e,r){const n=await this._rpcRequest("requestAirdrop",[e.toBase58(),r]),i=(0,vr.vt)(n,ts);if("error"in i)throw new SolanaJSONRPCError(i.error,`airdrop to ${e.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await sleep(100);const e=Date.now()-this._blockhashInfo.lastFetch>=Si;if(null!==this._blockhashInfo.latestBlockhash&&!e)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),r=this._blockhashInfo.latestBlockhash,n=r?r.blockhash:null;for(let e=0;e<50;e++){const e=await this.getLatestBlockhash("finalized");if(n!==e.blockhash)return this._blockhashInfo={latestBlockhash:e,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},e;await sleep(200)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:r,config:n}=extractCommitmentFromConfig(e),i=this._buildArgs([],r,"base64",n),s=await this._rpcRequest("getStakeMinimumDelegation",i),a=(0,vr.vt)(s,jsonRpcResultAndContext((0,vr.ai)()));if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get stake minimum delegation");return a.result}async simulateTransaction(e,r,n){if("message"in e){const i=e.serialize(),a=s.Buffer.from(i).toString("base64");if(Array.isArray(r)||void 0!==n)throw new Error("Invalid arguments");const k=r||{};k.encoding="base64","commitment"in k||(k.commitment=this.commitment);const w=[a,k],I=await this._rpcRequest("simulateTransaction",w),we=(0,vr.vt)(I,Ni);if("error"in we)throw new Error("failed to simulate transaction: "+we.error.message);return we.result}let i;if(e instanceof Transaction){let r=e;i=new Transaction,i.feePayer=r.feePayer,i.instructions=e.instructions,i.nonceInfo=r.nonceInfo,i.signatures=r.signatures}else i=Transaction.populate(e),i._message=i._json=void 0;if(void 0!==r&&!Array.isArray(r))throw new Error("Invalid arguments");const a=r;if(i.nonceInfo&&a)i.sign(...a);else{let e=this._disableBlockhashCaching;for(;;){const r=await this._blockhashWithExpiryBlockHeight(e);if(i.lastValidBlockHeight=r.lastValidBlockHeight,i.recentBlockhash=r.blockhash,!a)break;if(i.sign(...a),!i.signature)throw new Error("!signature");const n=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(n)&&!this._blockhashInfo.transactionSignatures.includes(n)){this._blockhashInfo.simulatedSignatures.push(n);break}e=!0}}const k=i._compile(),w=k.serialize(),I=i._serialize(w).toString("base64"),we={encoding:"base64",commitment:this.commitment};if(n){const e=(Array.isArray(n)?n:k.nonProgramIds()).map((e=>e.toBase58()));we.accounts={encoding:"base64",addresses:e}}a&&(we.sigVerify=!0);const Ae=[I,we],Be=await this._rpcRequest("simulateTransaction",Ae),Ce=(0,vr.vt)(Be,Ni);if("error"in Ce){let e;if("data"in Ce.error&&(e=Ce.error.data.logs,e&&Array.isArray(e))){const r="\n    ",n=r+e.join(r);console.error(Ce.error.message,n)}throw new SendTransactionError("failed to simulate transaction: "+Ce.error.message,e)}return Ce.result}async sendTransaction(e,r,n){if("version"in e){if(r&&Array.isArray(r))throw new Error("Invalid arguments");const n=e.serialize();return await this.sendRawTransaction(n,r)}if(void 0===r||!Array.isArray(r))throw new Error("Invalid arguments");const i=r;if(e.nonceInfo)e.sign(...i);else{let r=this._disableBlockhashCaching;for(;;){const n=await this._blockhashWithExpiryBlockHeight(r);if(e.lastValidBlockHeight=n.lastValidBlockHeight,e.recentBlockhash=n.blockhash,e.sign(...i),!e.signature)throw new Error("!signature");const s=e.signature.toString("base64");if(!this._blockhashInfo.transactionSignatures.includes(s)){this._blockhashInfo.transactionSignatures.push(s);break}r=!0}}const s=e.serialize();return await this.sendRawTransaction(s,n)}async sendRawTransaction(e,r){const n=toBuffer(e).toString("base64");return await this.sendEncodedTransaction(n,r)}async sendEncodedTransaction(e,r){const n={encoding:"base64"},i=r&&r.skipPreflight,s=!0===i?"processed":r&&r.preflightCommitment||this.commitment;r&&null!=r.maxRetries&&(n.maxRetries=r.maxRetries),r&&null!=r.minContextSlot&&(n.minContextSlot=r.minContextSlot),i&&(n.skipPreflight=i),s&&(n.preflightCommitment=s);const a=[e,n],k=await this._rpcRequest("sendTransaction",a),w=(0,vr.vt)(k,rs);if("error"in w){let e;throw"data"in w.error&&(e=w.error.data.logs),new SendTransactionError("failed to send transaction: "+w.error.message,e)}return w.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval((()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()}),5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),1e3!==e?(this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach((([e,r])=>{this._setSubscription(e,{...r,state:"pending"})}))):this._updateSubscriptions()}_setSubscription(e,r){const n=this._subscriptionsByHash[e]?.state;if(this._subscriptionsByHash[e]=r,n!==r.state){const n=this._subscriptionStateChangeCallbacksByHash[e];n&&n.forEach((e=>{try{e(r.state)}catch{}}))}}_onSubscriptionStateChange(e,r){const n=this._subscriptionHashByClientSubscriptionId[e];if(null==n)return()=>{};const i=this._subscriptionStateChangeCallbacksByHash[n]||=new Set;return i.add(r),()=>{i.delete(r),0===i.size&&delete this._subscriptionStateChangeCallbacksByHash[n]}}async _updateSubscriptions(){if(0===Object.keys(this._subscriptionsByHash).length)return void(this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout((()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(e){e instanceof Error&&console.log(`Error when closing socket connection: ${e.message}`)}}),500)));if(null!==this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected)return void this._rpcWebSocket.connect();const e=this._rpcWebSocketGeneration,isCurrentConnectionStillActive=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map((async e=>{const r=this._subscriptionsByHash[e];if(void 0!==r)switch(r.state){case"pending":case"unsubscribed":if(0===r.callbacks.size)return delete this._subscriptionsByHash[e],"unsubscribed"===r.state&&delete this._subscriptionCallbacksByServerSubscriptionId[r.serverSubscriptionId],void await this._updateSubscriptions();await(async()=>{const{args:n,method:i}=r;try{this._setSubscription(e,{...r,state:"subscribing"});const s=await this._rpcWebSocket.call(i,n);this._setSubscription(e,{...r,serverSubscriptionId:s,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[s]=r.callbacks,await this._updateSubscriptions()}catch(s){if(s instanceof Error&&console.error(`${i} error for argument`,n,s.message),!isCurrentConnectionStillActive())return;this._setSubscription(e,{...r,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":0===r.callbacks.size&&await(async()=>{const{serverSubscriptionId:n,unsubscribeMethod:i}=r;if(this._subscriptionsAutoDisposedByRpc.has(n))this._subscriptionsAutoDisposedByRpc.delete(n);else{this._setSubscription(e,{...r,state:"unsubscribing"}),this._setSubscription(e,{...r,state:"unsubscribing"});try{await this._rpcWebSocket.call(i,[n])}catch(n){if(n instanceof Error&&console.error(`${i} error:`,n.message),!isCurrentConnectionStillActive())return;return this._setSubscription(e,{...r,state:"subscribed"}),void await this._updateSubscriptions()}}this._setSubscription(e,{...r,state:"unsubscribed"}),await this._updateSubscriptions()})()}})))}_handleServerNotification(e,r){const n=this._subscriptionCallbacksByServerSubscriptionId[e];void 0!==n&&n.forEach((e=>{try{e(...r)}catch(e){console.error(e)}}))}_wsOnAccountNotification(e){const{result:r,subscription:n}=(0,vr.vt)(e,so);this._handleServerNotification(n,[r.value,r.context])}_makeSubscription(e,r){const n=this._nextClientSubscriptionId++,i=gi([e.method,r]),s=this._subscriptionsByHash[i];return void 0===s?this._subscriptionsByHash[i]={...e,args:r,callbacks:new Set([e.callback]),state:"pending"}:s.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[n]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[n],delete this._subscriptionHashByClientSubscriptionId[n];const r=this._subscriptionsByHash[i];index_browser_esm_assert(void 0!==r,`Could not find a \`Subscription\` when tearing down client subscription #${n}`),r.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),n}onAccountChange(e,r,n){const i=this._buildArgs([e.toBase58()],n||this._commitment||"finalized","base64");return this._makeSubscription({callback:r,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},i)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:r,subscription:n}=(0,vr.vt)(e,co);this._handleServerNotification(n,[{accountId:r.value.pubkey,accountInfo:r.value.account},r.context])}onProgramAccountChange(e,r,n,i){const s=this._buildArgs([e.toBase58()],n||this._commitment||"finalized","base64",i?{filters:i}:void 0);return this._makeSubscription({callback:r,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},s)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,r,n){const i=this._buildArgs(["object"==typeof e?{mentions:[e.toString()]}:e],n||this._commitment||"finalized");return this._makeSubscription({callback:r,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:r,subscription:n}=(0,vr.vt)(e,os);this._handleServerNotification(n,[r.value,r.context])}_wsOnSlotNotification(e){const{result:r,subscription:n}=(0,vr.vt)(e,lo);this._handleServerNotification(n,[r])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:r,subscription:n}=(0,vr.vt)(e,fo);this._handleServerNotification(n,[r])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,r){const n=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];n?await n():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${r}' events could not be found.`)}_buildArgs(e,r,n,i){const s=r||this._commitment;if(s||n||i){let r={};n&&(r.encoding=n),s&&(r.commitment=s),i&&(r=Object.assign(r,i)),e.push(r)}return e}_buildArgsAtLeastConfirmed(e,r,n,i){const s=r||this._commitment;if(s&&!["confirmed","finalized"].includes(s))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,r,n,i)}_wsOnSignatureNotification(e){const{result:r,subscription:n}=(0,vr.vt)(e,po);"receivedSignature"!==r.value&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,"receivedSignature"===r.value?[{type:"received"},r.context]:[{type:"status",result:r.value},r.context])}onSignature(e,r,n){const i=this._buildArgs([e],n||this._commitment||"finalized"),s=this._makeSubscription({callback:(e,n)=>{if("status"===e.type){r(e.result,n);try{this.removeSignatureListener(s)}catch(e){}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return s}onSignatureWithOptions(e,r,n){const{commitment:i,...s}={...n,commitment:n&&n.commitment||this._commitment||"finalized"},a=this._buildArgs([e],i,void 0,s),k=this._makeSubscription({callback:(e,n)=>{r(e,n);try{this.removeSignatureListener(k)}catch(e){}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},a);return k}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:r,subscription:n}=(0,vr.vt)(e,go);this._handleServerNotification(n,[r])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class Keypair{constructor(e){this._keypair=void 0,this._keypair=e??generateKeypair()}static generate(){return new Keypair(generateKeypair())}static fromSecretKey(e,r){if(64!==e.byteLength)throw new Error("bad secret key size");const n=e.slice(32,64);if(!r||!r.skipValidation){const r=e.slice(0,32),i=an(r);for(let e=0;e<32;e++)if(n[e]!==i[e])throw new Error("provided secretKey is invalid")}return new Keypair({publicKey:n,secretKey:e})}static fromSeed(e){const r=an(e),n=new Uint8Array(64);return n.set(e),n.set(r,32),new Keypair({publicKey:r,secretKey:n})}get publicKey(){return new PublicKey(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const as=Object.freeze({CreateLookupTable:{index:0,layout:Sr.struct([Sr.u32("instruction"),ci("recentSlot"),Sr.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:Sr.struct([Sr.u32("instruction")])},ExtendLookupTable:{index:2,layout:Sr.struct([Sr.u32("instruction"),ci(),Sr.seq(publicKey(),Sr.offset(Sr.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:Sr.struct([Sr.u32("instruction")])},CloseLookupTable:{index:4,layout:Sr.struct([Sr.u32("instruction")])}});class AddressLookupTableInstruction{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=Sr.u32("instruction").decode(e.data);let n;for(const[e,i]of Object.entries(as))if(i.index==r){n=e;break}if(!n)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return n}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:r}=decodeData$1(as.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(r)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:r}=decodeData$1(as.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:r.map((e=>new PublicKey(e)))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(AddressLookupTableProgram.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}}class AddressLookupTableProgram{constructor(){}static createLookupTable(e){const[r,n]=PublicKey.findProgramAddressSync([e.authority.toBuffer(),(0,Er.toBufferLE)(BigInt(e.recentSlot),8)],this.programId),i=encodeData(as.CreateLookupTable,{recentSlot:BigInt(e.recentSlot),bumpSeed:n}),s=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:SystemProgram.programId,isSigner:!1,isWritable:!1}];return[new TransactionInstruction({programId:this.programId,keys:s,data:i}),r]}static freezeLookupTable(e){const r=encodeData(as.FreezeLookupTable),n=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new TransactionInstruction({programId:this.programId,keys:n,data:r})}static extendLookupTable(e){const r=encodeData(as.ExtendLookupTable,{addresses:e.addresses.map((e=>e.toBytes()))}),n=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&n.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:SystemProgram.programId,isSigner:!1,isWritable:!1}),new TransactionInstruction({programId:this.programId,keys:n,data:r})}static deactivateLookupTable(e){const r=encodeData(as.DeactivateLookupTable),n=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new TransactionInstruction({programId:this.programId,keys:n,data:r})}static closeLookupTable(e){const r=encodeData(as.CloseLookupTable),n=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new TransactionInstruction({programId:this.programId,keys:n,data:r})}}AddressLookupTableProgram.programId=new PublicKey("AddressLookupTab1e1111111111111111111111111");class ComputeBudgetInstruction{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=Sr.u8("instruction").decode(e.data);let n;for(const[e,i]of Object.entries(cs))if(i.index==r){n=e;break}if(!n)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return n}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:r,additionalFee:n}=decodeData$1(cs.RequestUnits,e.data);return{units:r,additionalFee:n}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:r}=decodeData$1(cs.RequestHeapFrame,e.data);return{bytes:r}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:r}=decodeData$1(cs.SetComputeUnitLimit,e.data);return{units:r}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:r}=decodeData$1(cs.SetComputeUnitPrice,e.data);return{microLamports:r}}static checkProgramId(e){if(!e.equals(ComputeBudgetProgram.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const cs=Object.freeze({RequestUnits:{index:0,layout:Sr.struct([Sr.u8("instruction"),Sr.u32("units"),Sr.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:Sr.struct([Sr.u8("instruction"),Sr.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:Sr.struct([Sr.u8("instruction"),Sr.u32("units")])},SetComputeUnitPrice:{index:3,layout:Sr.struct([Sr.u8("instruction"),ci("microLamports")])}});class ComputeBudgetProgram{constructor(){}static requestUnits(e){const r=encodeData(cs.RequestUnits,e);return new TransactionInstruction({keys:[],programId:this.programId,data:r})}static requestHeapFrame(e){const r=encodeData(cs.RequestHeapFrame,e);return new TransactionInstruction({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(e){const r=encodeData(cs.SetComputeUnitLimit,e);return new TransactionInstruction({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(e){const r=encodeData(cs.SetComputeUnitPrice,{microLamports:BigInt(e.microLamports)});return new TransactionInstruction({keys:[],programId:this.programId,data:r})}}ComputeBudgetProgram.programId=new PublicKey("ComputeBudget111111111111111111111111111111");const us=Sr.struct([Sr.u8("numSignatures"),Sr.u8("padding"),Sr.u16("signatureOffset"),Sr.u16("signatureInstructionIndex"),Sr.u16("publicKeyOffset"),Sr.u16("publicKeyInstructionIndex"),Sr.u16("messageDataOffset"),Sr.u16("messageDataSize"),Sr.u16("messageInstructionIndex")]);class Ed25519Program{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:r,message:n,signature:i,instructionIndex:a}=e;index_browser_esm_assert(32===r.length,`Public Key must be 32 bytes but received ${r.length} bytes`),index_browser_esm_assert(64===i.length,`Signature must be 64 bytes but received ${i.length} bytes`);const k=us.span,w=k+r.length,I=w+i.length,we=s.Buffer.alloc(I+n.length),Ae=null==a?65535:a;return us.encode({numSignatures:1,padding:0,signatureOffset:w,signatureInstructionIndex:Ae,publicKeyOffset:k,publicKeyInstructionIndex:Ae,messageDataOffset:I,messageDataSize:n.length,messageInstructionIndex:Ae},we),we.fill(r,k),we.fill(i,w),we.fill(n,I),new TransactionInstruction({keys:[],programId:Ed25519Program.programId,data:we})}static createInstructionWithPrivateKey(e){const{privateKey:r,message:n,instructionIndex:i}=e;index_browser_esm_assert(64===r.length,`Private key must be 64 bytes but received ${r.length} bytes`);try{const e=Keypair.fromSecretKey(r),s=e.publicKey.toBytes(),a=sign(n,e.secretKey);return this.createInstructionWithPublicKey({publicKey:s,message:n,signature:a,instructionIndex:i})}catch(e){throw new Error(`Error creating instruction; ${e}`)}}}Ed25519Program.programId=new PublicKey("Ed25519SigVerify111111111111111111111111111");Xr.utils.isValidPrivateKey;const ds=Xr.getPublicKey,ls=Sr.struct([Sr.u8("numSignatures"),Sr.u16("signatureOffset"),Sr.u8("signatureInstructionIndex"),Sr.u16("ethAddressOffset"),Sr.u8("ethAddressInstructionIndex"),Sr.u16("messageDataOffset"),Sr.u16("messageDataSize"),Sr.u8("messageInstructionIndex"),Sr.blob(20,"ethAddress"),Sr.blob(64,"signature"),Sr.u8("recoveryId")]);class Secp256k1Program{constructor(){}static publicKeyToEthAddress(e){index_browser_esm_assert(64===e.length,`Public key must be 64 bytes but received ${e.length} bytes`);try{return s.Buffer.from(Kr(toBuffer(e))).slice(-20)}catch(e){throw new Error(`Error constructing Ethereum address: ${e}`)}}static createInstructionWithPublicKey(e){const{publicKey:r,message:n,signature:i,recoveryId:s,instructionIndex:a}=e;return Secp256k1Program.createInstructionWithEthAddress({ethAddress:Secp256k1Program.publicKeyToEthAddress(r),message:n,signature:i,recoveryId:s,instructionIndex:a})}static createInstructionWithEthAddress(e){const{ethAddress:r,message:n,signature:i,recoveryId:a,instructionIndex:k=0}=e;let w;w="string"==typeof r?r.startsWith("0x")?s.Buffer.from(r.substr(2),"hex"):s.Buffer.from(r,"hex"):r,index_browser_esm_assert(20===w.length,`Address must be 20 bytes but received ${w.length} bytes`);const I=12+w.length,we=I+i.length+1,Ae=s.Buffer.alloc(ls.span+n.length);return ls.encode({numSignatures:1,signatureOffset:I,signatureInstructionIndex:k,ethAddressOffset:12,ethAddressInstructionIndex:k,messageDataOffset:we,messageDataSize:n.length,messageInstructionIndex:k,signature:toBuffer(i),ethAddress:toBuffer(w),recoveryId:a},Ae),Ae.fill(toBuffer(n),ls.span),new TransactionInstruction({keys:[],programId:Secp256k1Program.programId,data:Ae})}static createInstructionWithPrivateKey(e){const{privateKey:r,message:n,instructionIndex:i}=e;index_browser_esm_assert(32===r.length,`Private key must be 32 bytes but received ${r.length} bytes`);try{const e=toBuffer(r),a=ds(e,!1).slice(1),k=s.Buffer.from(Kr(toBuffer(n))),[w,I]=((e,r)=>{const n=Xr.sign(e,r);return[n.toCompactRawBytes(),n.recovery]})(k,e);return this.createInstructionWithPublicKey({publicKey:a,message:n,signature:w,recoveryId:I,instructionIndex:i})}catch(e){throw new Error(`Error creating instruction; ${e}`)}}}var hs;Secp256k1Program.programId=new PublicKey("KeccakSecp256k11111111111111111111111111111");const fs=new PublicKey("StakeConfig11111111111111111111111111111111");class Authorized{constructor(e,r){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=r}}class Lockup{constructor(e,r,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=r,this.custodian=n}}hs=Lockup,Lockup.default=new hs(0,0,PublicKey.default);class StakeInstruction{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=Sr.u32("instruction").decode(e.data);let n;for(const[e,i]of Object.entries(ps))if(i.index==r){n=e;break}if(!n)throw new Error("Instruction type incorrect; not a StakeInstruction");return n}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:r,lockup:n}=decodeData$1(ps.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new Authorized(new PublicKey(r.staker),new PublicKey(r.withdrawer)),lockup:new Lockup(n.unixTimestamp,n.epoch,new PublicKey(n.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),decodeData$1(ps.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:r,stakeAuthorizationType:n}=decodeData$1(ps.Authorize,e.data),i={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new PublicKey(r),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(i.custodianPubkey=e.keys[3].pubkey),i}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:r,stakeAuthorizationType:n,authoritySeed:i,authorityOwner:s}=decodeData$1(ps.AuthorizeWithSeed,e.data),a={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:i,authorityOwner:new PublicKey(s),newAuthorizedPubkey:new PublicKey(r),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(a.custodianPubkey=e.keys[3].pubkey),a}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:r}=decodeData$1(ps.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:r}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),decodeData$1(ps.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:r}=decodeData$1(ps.Withdraw,e.data),n={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:r};return e.keys.length>5&&(n.custodianPubkey=e.keys[5].pubkey),n}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),decodeData$1(ps.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(StakeProgram.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}}const ps=Object.freeze({Initialize:{index:0,layout:Sr.struct([Sr.u32("instruction"),((e="authorized")=>Sr.struct([publicKey("staker"),publicKey("withdrawer")],e))(),((e="lockup")=>Sr.struct([Sr.ns64("unixTimestamp"),Sr.ns64("epoch"),publicKey("custodian")],e))()])},Authorize:{index:1,layout:Sr.struct([Sr.u32("instruction"),publicKey("newAuthorized"),Sr.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:Sr.struct([Sr.u32("instruction")])},Split:{index:3,layout:Sr.struct([Sr.u32("instruction"),Sr.ns64("lamports")])},Withdraw:{index:4,layout:Sr.struct([Sr.u32("instruction"),Sr.ns64("lamports")])},Deactivate:{index:5,layout:Sr.struct([Sr.u32("instruction")])},Merge:{index:7,layout:Sr.struct([Sr.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:Sr.struct([Sr.u32("instruction"),publicKey("newAuthorized"),Sr.u32("stakeAuthorizationType"),rustString("authoritySeed"),publicKey("authorityOwner")])}}),gs=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class StakeProgram{constructor(){}static initialize(e){const{stakePubkey:r,authorized:n,lockup:i}=e,s=i||Lockup.default,a=encodeData(ps.Initialize,{authorized:{staker:toBuffer(n.staker.toBuffer()),withdrawer:toBuffer(n.withdrawer.toBuffer())},lockup:{unixTimestamp:s.unixTimestamp,epoch:s.epoch,custodian:toBuffer(s.custodian.toBuffer())}}),k={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:ei,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new TransactionInstruction(k)}static createAccountWithSeed(e){const r=new Transaction;r.add(SystemProgram.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:n,authorized:i,lockup:s}=e;return r.add(this.initialize({stakePubkey:n,authorized:i,lockup:s}))}static createAccount(e){const r=new Transaction;r.add(SystemProgram.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:n,authorized:i,lockup:s}=e;return r.add(this.initialize({stakePubkey:n,authorized:i,lockup:s}))}static delegate(e){const{stakePubkey:r,authorizedPubkey:n,votePubkey:i}=e,s=encodeData(ps.Delegate);return(new Transaction).add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:Wn,isSigner:!1,isWritable:!1},{pubkey:ii,isSigner:!1,isWritable:!1},{pubkey:fs,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static authorize(e){const{stakePubkey:r,authorizedPubkey:n,newAuthorizedPubkey:i,stakeAuthorizationType:s,custodianPubkey:a}=e,k=encodeData(ps.Authorize,{newAuthorized:toBuffer(i.toBuffer()),stakeAuthorizationType:s.index}),w=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Wn,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return a&&w.push({pubkey:a,isSigner:!0,isWritable:!1}),(new Transaction).add({keys:w,programId:this.programId,data:k})}static authorizeWithSeed(e){const{stakePubkey:r,authorityBase:n,authoritySeed:i,authorityOwner:s,newAuthorizedPubkey:a,stakeAuthorizationType:k,custodianPubkey:w}=e,I=encodeData(ps.AuthorizeWithSeed,{newAuthorized:toBuffer(a.toBuffer()),stakeAuthorizationType:k.index,authoritySeed:i,authorityOwner:toBuffer(s.toBuffer())}),we=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:Wn,isSigner:!1,isWritable:!1}];return w&&we.push({pubkey:w,isSigner:!0,isWritable:!1}),(new Transaction).add({keys:we,programId:this.programId,data:I})}static splitInstruction(e){const{stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,lamports:s}=e,a=encodeData(ps.Split,{lamports:s});return new TransactionInstruction({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e,r){const n=new Transaction;return n.add(SystemProgram.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:r,space:this.space,programId:this.programId})),n.add(this.splitInstruction(e))}static splitWithSeed(e,r){const{stakePubkey:n,authorizedPubkey:i,splitStakePubkey:s,basePubkey:a,seed:k,lamports:w}=e,I=new Transaction;return I.add(SystemProgram.allocate({accountPubkey:s,basePubkey:a,seed:k,space:this.space,programId:this.programId})),r&&r>0&&I.add(SystemProgram.transfer({fromPubkey:e.authorizedPubkey,toPubkey:s,lamports:r})),I.add(this.splitInstruction({stakePubkey:n,authorizedPubkey:i,splitStakePubkey:s,lamports:w}))}static merge(e){const{stakePubkey:r,sourceStakePubKey:n,authorizedPubkey:i}=e,s=encodeData(ps.Merge);return(new Transaction).add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Wn,isSigner:!1,isWritable:!1},{pubkey:ii,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static withdraw(e){const{stakePubkey:r,authorizedPubkey:n,toPubkey:i,lamports:s,custodianPubkey:a}=e,k=encodeData(ps.Withdraw,{lamports:s}),w=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:Wn,isSigner:!1,isWritable:!1},{pubkey:ii,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return a&&w.push({pubkey:a,isSigner:!0,isWritable:!1}),(new Transaction).add({keys:w,programId:this.programId,data:k})}static deactivate(e){const{stakePubkey:r,authorizedPubkey:n}=e,i=encodeData(ps.Deactivate);return(new Transaction).add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Wn,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}}StakeProgram.programId=new PublicKey("Stake11111111111111111111111111111111111111"),StakeProgram.space=200;class VoteInit{constructor(e,r,n,i){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=r,this.authorizedWithdrawer=n,this.commission=i}}class VoteInstruction{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=Sr.u32("instruction").decode(e.data);let n;for(const[e,i]of Object.entries(ys))if(i.index==r){n=e;break}if(!n)throw new Error("Instruction type incorrect; not a VoteInstruction");return n}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:r}=decodeData$1(ys.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new VoteInit(new PublicKey(r.nodePubkey),new PublicKey(r.authorizedVoter),new PublicKey(r.authorizedWithdrawer),r.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:r,voteAuthorizationType:n}=decodeData$1(ys.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new PublicKey(r),voteAuthorizationType:{index:n}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:n,newAuthorized:i,voteAuthorizationType:s}}=decodeData$1(ys.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new PublicKey(r),currentAuthorityDerivedKeySeed:n,newAuthorizedPubkey:new PublicKey(i),voteAuthorizationType:{index:s},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:r}=decodeData$1(ys.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:r,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(VoteProgram.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}}const ys=Object.freeze({InitializeAccount:{index:0,layout:Sr.struct([Sr.u32("instruction"),((e="voteInit")=>Sr.struct([publicKey("nodePubkey"),publicKey("authorizedVoter"),publicKey("authorizedWithdrawer"),Sr.u8("commission")],e))()])},Authorize:{index:1,layout:Sr.struct([Sr.u32("instruction"),publicKey("newAuthorized"),Sr.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:Sr.struct([Sr.u32("instruction"),Sr.ns64("lamports")])},UpdateValidatorIdentity:{index:4,layout:Sr.struct([Sr.u32("instruction")])},AuthorizeWithSeed:{index:10,layout:Sr.struct([Sr.u32("instruction"),((e="voteAuthorizeWithSeedArgs")=>Sr.struct([Sr.u32("voteAuthorizationType"),publicKey("currentAuthorityDerivedKeyOwnerPubkey"),rustString("currentAuthorityDerivedKeySeed"),publicKey("newAuthorized")],e))()])}}),ms=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class VoteProgram{constructor(){}static initializeAccount(e){const{votePubkey:r,nodePubkey:n,voteInit:i}=e,s=encodeData(ys.InitializeAccount,{voteInit:{nodePubkey:toBuffer(i.nodePubkey.toBuffer()),authorizedVoter:toBuffer(i.authorizedVoter.toBuffer()),authorizedWithdrawer:toBuffer(i.authorizedWithdrawer.toBuffer()),commission:i.commission}}),a={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:ei,isSigner:!1,isWritable:!1},{pubkey:Wn,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:s};return new TransactionInstruction(a)}static createAccount(e){const r=new Transaction;return r.add(SystemProgram.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),r.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:r,authorizedPubkey:n,newAuthorizedPubkey:i,voteAuthorizationType:s}=e,a=encodeData(ys.Authorize,{newAuthorized:toBuffer(i.toBuffer()),voteAuthorizationType:s.index}),k=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Wn,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return(new Transaction).add({keys:k,programId:this.programId,data:a})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:r,currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:i,newAuthorizedPubkey:s,voteAuthorizationType:a,votePubkey:k}=e,w=encodeData(ys.AuthorizeWithSeed,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:toBuffer(n.toBuffer()),currentAuthorityDerivedKeySeed:i,newAuthorized:toBuffer(s.toBuffer()),voteAuthorizationType:a.index}}),I=[{pubkey:k,isSigner:!1,isWritable:!0},{pubkey:Wn,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return(new Transaction).add({keys:I,programId:this.programId,data:w})}static withdraw(e){const{votePubkey:r,authorizedWithdrawerPubkey:n,lamports:i,toPubkey:s}=e,a=encodeData(ys.Withdraw,{lamports:i}),k=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return(new Transaction).add({keys:k,programId:this.programId,data:a})}static safeWithdraw(e,r,n){if(e.lamports>r-n)throw new Error("Withdraw will leave vote account with insufficient funds.");return VoteProgram.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:r,authorizedWithdrawerPubkey:n,nodePubkey:i}=e,s=encodeData(ys.UpdateValidatorIdentity),a=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return(new Transaction).add({keys:a,programId:this.programId,data:s})}}VoteProgram.programId=new PublicKey("Vote111111111111111111111111111111111111111"),VoteProgram.space=3762;const bs=new PublicKey("Va1idator1nfo111111111111111111111111111111"),ks=(0,vr.NW)({name:(0,vr.Yj)(),website:(0,vr.lq)((0,vr.Yj)()),details:(0,vr.lq)((0,vr.Yj)()),keybaseUsername:(0,vr.lq)((0,vr.Yj)())});class ValidatorInfo{constructor(e,r){this.key=void 0,this.info=void 0,this.key=e,this.info=r}static fromConfigData(e){let r=[...e];if(2!==decodeLength(r))return null;const n=[];for(let e=0;e<2;e++){const e=new PublicKey(guardedSplice(r,0,pn)),i=1===guardedShift(r);n.push({publicKey:e,isSigner:i})}if(n[0].publicKey.equals(bs)&&n[1].isSigner){const e=rustString().decode(s.Buffer.from(r)),i=JSON.parse(e);return(0,vr.vA)(i,ks),new ValidatorInfo(n[1].publicKey,i)}return null}}const ws=new PublicKey("Vote111111111111111111111111111111111111111"),Is=Sr.struct([publicKey("nodePubkey"),publicKey("authorizedWithdrawer"),Sr.u8("commission"),Sr.nu64(),Sr.seq(Sr.struct([Sr.nu64("slot"),Sr.u32("confirmationCount")]),Sr.offset(Sr.u32(),-8),"votes"),Sr.u8("rootSlotValid"),Sr.nu64("rootSlot"),Sr.nu64(),Sr.seq(Sr.struct([Sr.nu64("epoch"),publicKey("authorizedVoter")]),Sr.offset(Sr.u32(),-8),"authorizedVoters"),Sr.struct([Sr.seq(Sr.struct([publicKey("authorizedPubkey"),Sr.nu64("epochOfLastAuthorizedSwitch"),Sr.nu64("targetEpoch")]),32,"buf"),Sr.nu64("idx"),Sr.u8("isEmpty")],"priorVoters"),Sr.nu64(),Sr.seq(Sr.struct([Sr.nu64("epoch"),Sr.nu64("credits"),Sr.nu64("prevCredits")]),Sr.offset(Sr.u32(),-8),"epochCredits"),Sr.struct([Sr.nu64("slot"),Sr.nu64("timestamp")],"lastTimestamp")]);class VoteAccount{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const r=Is.decode(toBuffer(e),4);let n=r.rootSlot;return r.rootSlotValid||(n=null),new VoteAccount({nodePubkey:new PublicKey(r.nodePubkey),authorizedWithdrawer:new PublicKey(r.authorizedWithdrawer),commission:r.commission,votes:r.votes,rootSlot:n,authorizedVoters:r.authorizedVoters.map(parseAuthorizedVoter),priorVoters:getPriorVoters(r.priorVoters),epochCredits:r.epochCredits,lastTimestamp:r.lastTimestamp})}}function parseAuthorizedVoter({authorizedVoter:e,epoch:r}){return{epoch:r,authorizedVoter:new PublicKey(e)}}function parsePriorVoters({authorizedPubkey:e,epochOfLastAuthorizedSwitch:r,targetEpoch:n}){return{authorizedPubkey:new PublicKey(e),epochOfLastAuthorizedSwitch:r,targetEpoch:n}}function getPriorVoters({buf:e,idx:r,isEmpty:n}){return n?[]:[...e.slice(r+1).map(parsePriorVoters),...e.slice(0,r).map(parsePriorVoters)]}const _s={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function clusterApiUrl(e,r){const n=!1===r?"http":"https";if(!e)return _s[n].devnet;const i=_s[n][e];if(!i)throw new Error(`Unknown ${n} cluster: ${e}`);return i}async function sendAndConfirmRawTransaction(e,r,n,i){let s,a;n&&Object.prototype.hasOwnProperty.call(n,"lastValidBlockHeight")||n&&Object.prototype.hasOwnProperty.call(n,"nonceValue")?(s=n,a=i):a=n;const k=a&&{skipPreflight:a.skipPreflight,preflightCommitment:a.preflightCommitment||a.commitment,minContextSlot:a.minContextSlot},w=await e.sendRawTransaction(r,k),I=a&&a.commitment,we=s?e.confirmTransaction(s,I):e.confirmTransaction(w,I),Ae=(await we).value;if(Ae.err)throw new Error(`Raw transaction ${w} failed (${JSON.stringify(Ae)})`);return w}const Ss=1e9},549311:e=>{"use strict";e.exports=function base(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),a=s.charCodeAt(0);if(255!==r[a])throw new TypeError(s+" is ambiguous");r[a]=i}var k=e.length,w=e.charAt(0),I=Math.log(k)/Math.log(256),we=Math.log(256)/Math.log(k);function decodeUnsafe(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;for(var n=0,i=0,s=0;e[n]===w;)i++,n++;for(var a=(e.length-n)*I+1>>>0,we=new Uint8Array(a);e[n];){var Ae=r[e.charCodeAt(n)];if(255===Ae)return;for(var Be=0,Ce=a-1;(0!==Ae||Be<s)&&-1!==Ce;Ce--,Be++)Ae+=k*we[Ce]>>>0,we[Ce]=Ae%256>>>0,Ae=Ae/256>>>0;if(0!==Ae)throw new Error("Non-zero carry");s=Be,n++}for(var ze=a-s;ze!==a&&0===we[ze];)ze++;for(var qe=new Uint8Array(i+(a-ze)),$e=i;ze!==a;)qe[$e++]=we[ze++];return qe}return{encode:function encode(r){if(r instanceof Uint8Array||(ArrayBuffer.isView(r)?r=new Uint8Array(r.buffer,r.byteOffset,r.byteLength):Array.isArray(r)&&(r=Uint8Array.from(r))),!(r instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===r.length)return"";for(var n=0,i=0,s=0,a=r.length;s!==a&&0===r[s];)s++,n++;for(var I=(a-s)*we+1>>>0,Ae=new Uint8Array(I);s!==a;){for(var Be=r[s],Ce=0,ze=I-1;(0!==Be||Ce<i)&&-1!==ze;ze--,Ce++)Be+=256*Ae[ze]>>>0,Ae[ze]=Be%k>>>0,Be=Be/k>>>0;if(0!==Be)throw new Error("Non-zero carry");i=Ce,s++}for(var qe=I-i;qe!==I&&0===Ae[qe];)qe++;for(var $e=w.repeat(n);qe<I;++qe)$e+=e.charAt(Ae[qe]);return $e},decodeUnsafe,decode:function decode(e){var r=decodeUnsafe(e);if(r)return r;throw new Error("Non-base"+k+" character")}}}},184434:(e,r,n)=>{"use strict";var i=n(901048).Buffer;const s=n(828985),a=n(282276);class CommonClient extends s.EventEmitter{address;rpc_id;queue;options;autoconnect;ready;reconnect;reconnect_timer_id;reconnect_interval;max_reconnects;rest_options;current_reconnects;generate_request_id;socket;webSocketFactory;dataPack;constructor(e,r="ws://localhost:8080",{autoconnect:n=!0,reconnect:i=!0,reconnect_interval:s=1e3,max_reconnects:k=5,...w}={},I,we){super(),this.webSocketFactory=e,this.queue={},this.rpc_id=0,this.address=r,this.autoconnect=n,this.ready=!1,this.reconnect=i,this.reconnect_timer_id=void 0,this.reconnect_interval=s,this.max_reconnects=k,this.rest_options=w,this.current_reconnects=0,this.generate_request_id=I||(()=>++this.rpc_id),this.dataPack=we||new a.DefaultDataPack,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(e,r,n,i){return i||"object"!=typeof n||(i=n,n=null),new Promise(((s,a)=>{if(!this.ready)return a(new Error("socket not ready"));const k=this.generate_request_id(e,r),w={jsonrpc:"2.0",method:e,params:r||void 0,id:k};this.socket.send(this.dataPack.encode(w),i,(e=>{if(e)return a(e);this.queue[k]={promise:[s,a]},n&&(this.queue[k].timeout=setTimeout((()=>{delete this.queue[k],a(new Error("reply timeout"))}),n))}))}))}async login(e){const r=await this.call("rpc.login",e);if(!r)throw new Error("authentication failed");return r}async listMethods(){return await this.call("__listMethods")}notify(e,r){return new Promise(((n,i)=>{if(!this.ready)return i(new Error("socket not ready"));const s={jsonrpc:"2.0",method:e,params:r};this.socket.send(this.dataPack.encode(s),(e=>{if(e)return i(e);n()}))}))}async subscribe(e){"string"==typeof e&&(e=[e]);const r=await this.call("rpc.on",e);if("string"==typeof e&&"ok"!==r[e])throw new Error("Failed subscribing to an event '"+e+"' with: "+r[e]);return r}async unsubscribe(e){"string"==typeof e&&(e=[e]);const r=await this.call("rpc.off",e);if("string"==typeof e&&"ok"!==r[e])throw new Error("Failed unsubscribing from an event with: "+r);return r}close(e,r){this.socket.close(e||1e3,r)}setAutoReconnect(e){this.reconnect=e}setReconnectInterval(e){this.reconnect_interval=e}setMaxReconnects(e){this.max_reconnects=e}_connect(e,r){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(e,r),this.socket.addEventListener("open",(()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0})),this.socket.addEventListener("message",(({data:e})=>{e instanceof ArrayBuffer&&(e=i.from(e).toString());try{e=this.dataPack.decode(e)}catch(e){return}if(e.notification&&this.listeners(e.notification).length){if(!Object.keys(e.params).length)return this.emit(e.notification);const r=[e.notification];if(e.params.constructor===Object)r.push(e.params);else for(let n=0;n<e.params.length;n++)r.push(e.params[n]);return Promise.resolve().then((()=>{this.emit.apply(this,r)}))}if(!this.queue[e.id])return e.method?Promise.resolve().then((()=>{this.emit(e.method,e?.params)})):void 0;"error"in e=="result"in e&&this.queue[e.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[e.id].timeout&&clearTimeout(this.queue[e.id].timeout),e.error?this.queue[e.id].promise[1](e.error):this.queue[e.id].promise[0](e.result),delete this.queue[e.id]})),this.socket.addEventListener("error",(e=>this.emit("error",e))),this.socket.addEventListener("close",(({code:n,reason:i})=>{this.ready&&setTimeout((()=>this.emit("close",n,i)),0),this.ready=!1,this.socket=void 0,1e3!==n&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||0===this.max_reconnects)&&(this.reconnect_timer_id=setTimeout((()=>this._connect(e,r)),this.reconnect_interval)))}))}}r.A=CommonClient},410544:(e,r,n)=>{"use strict";const i=n(828985);class WebSocketBrowserImpl extends i.EventEmitter{socket;constructor(e,r,n){super(),this.socket=new window.WebSocket(e,n),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=e=>this.emit("message",e.data),this.socket.onerror=e=>this.emit("error",e),this.socket.onclose=e=>{this.emit("close",e.code,e.reason)}}send(e,r,n){const i=n||r;try{this.socket.send(e),i()}catch(e){i(e)}}close(e,r){this.socket.close(e,r)}addEventListener(e,r,n){this.socket.addEventListener(e,r,n)}}r.A=function default_1(e,r){return new WebSocketBrowserImpl(e,r)}},282276:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.createError=r.DefaultDataPack=void 0;const n=new Map([[-32e3,"Event not provided"],[-32600,"Invalid Request"],[-32601,"Method not found"],[-32602,"Invalid params"],[-32603,"Internal error"],[-32604,"Params not found"],[-32605,"Method forbidden"],[-32606,"Event forbidden"],[-32700,"Parse error"]]);r.DefaultDataPack=class DefaultDataPack{encode(e){return JSON.stringify(e)}decode(e){return JSON.parse(e)}},r.createError=function createError(e,r){const i={code:e,message:n.get(e)||"Internal Server Error"};return r&&(i.data=r),i}},408636:(e,r,n)=>{"use strict";n.r(r),n.d(r,{ACCOUNT_DISCRIMINATOR_SIZE:()=>Hi,AccountClient:()=>En,AnchorError:()=>vt,AnchorProvider:()=>st,BN:()=>k(),BorshAccountsCoder:()=>Nt,BorshCoder:()=>Kt,BorshEventCoder:()=>Rt,BorshInstructionCoder:()=>Tt,BorshStateCoder:()=>Ut,EventManager:()=>xn,EventParser:()=>Pn,IdlError:()=>gt,LangErrorCode:()=>Fi,LangErrorMessage:()=>Ui,MethodsBuilderFactory:()=>Nn,Native:()=>Yn,Program:()=>Vn,ProgramError:()=>bt,ProgramErrorStack:()=>wt,Spl:()=>Jn,SplTokenCoder:()=>Ne,StateClient:()=>_n,SystemCoder:()=>Qe,eventDiscriminator:()=>Vt,getProvider:()=>lt,parseIdlErrors:()=>M,setProvider:()=>dt,splitArgsAndCtx:()=>wn,stateDiscriminator:()=>jt,toInstruction:()=>x,translateAddress:()=>L,translateError:()=>At,utils:()=>fo,validateAccounts:()=>P,web3:()=>s});var i=n(901048),s=n(384431),a=n(682823),k=n.n(a),w=n(939216),I=n.n(w),we=n(807991),Ae=n(675832),Be=n.n(Ae),Ce=n(180235),ze=n(208674);function zero$1(e){let r=e.length;for(;--r>=0;)e[r]=0}const qe=256,$e=286,Ye=30,Je=15,et=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),rt=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),it=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),ot=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ht=new Array(576);zero$1(ht);const ft=new Array(60);zero$1(ft);const pt=new Array(512);zero$1(pt);const yt=new Array(256);zero$1(yt);const kt=new Array(29);zero$1(kt);const _t=new Array(Ye);function StaticTreeDesc(e,r,n,i,s){this.static_tree=e,this.extra_bits=r,this.extra_base=n,this.elems=i,this.max_length=s,this.has_stree=e&&e.length}let St,Mt,Dt;function TreeDesc(e,r){this.dyn_tree=e,this.max_code=0,this.stat_desc=r}zero$1(_t);const d_code=e=>e<256?pt[e]:pt[256+(e>>>7)],put_short=(e,r)=>{e.pending_buf[e.pending++]=255&r,e.pending_buf[e.pending++]=r>>>8&255},send_bits=(e,r,n)=>{e.bi_valid>16-n?(e.bi_buf|=r<<e.bi_valid&65535,put_short(e,e.bi_buf),e.bi_buf=r>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=r<<e.bi_valid&65535,e.bi_valid+=n)},send_code=(e,r,n)=>{send_bits(e,n[2*r],n[2*r+1])},bi_reverse=(e,r)=>{let n=0;do{n|=1&e,e>>>=1,n<<=1}while(--r>0);return n>>>1},gen_codes=(e,r,n)=>{const i=new Array(16);let s,a,k=0;for(s=1;s<=Je;s++)k=k+n[s-1]<<1,i[s]=k;for(a=0;a<=r;a++){let r=e[2*a+1];0!==r&&(e[2*a]=bi_reverse(i[r]++,r))}},init_block=e=>{let r;for(r=0;r<$e;r++)e.dyn_ltree[2*r]=0;for(r=0;r<Ye;r++)e.dyn_dtree[2*r]=0;for(r=0;r<19;r++)e.bl_tree[2*r]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},bi_windup=e=>{e.bi_valid>8?put_short(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},smaller=(e,r,n,i)=>{const s=2*r,a=2*n;return e[s]<e[a]||e[s]===e[a]&&i[r]<=i[n]},pqdownheap=(e,r,n)=>{const i=e.heap[n];let s=n<<1;for(;s<=e.heap_len&&(s<e.heap_len&&smaller(r,e.heap[s+1],e.heap[s],e.depth)&&s++,!smaller(r,i,e.heap[s],e.depth));)e.heap[n]=e.heap[s],n=s,s<<=1;e.heap[n]=i},compress_block=(e,r,n)=>{let i,s,a,k,w=0;if(0!==e.sym_next)do{i=255&e.pending_buf[e.sym_buf+w++],i+=(255&e.pending_buf[e.sym_buf+w++])<<8,s=e.pending_buf[e.sym_buf+w++],0===i?send_code(e,s,r):(a=yt[s],send_code(e,a+qe+1,r),k=et[a],0!==k&&(s-=kt[a],send_bits(e,s,k)),i--,a=d_code(i),send_code(e,a,n),k=rt[a],0!==k&&(i-=_t[a],send_bits(e,i,k)))}while(w<e.sym_next);send_code(e,256,r)},build_tree=(e,r)=>{const n=r.dyn_tree,i=r.stat_desc.static_tree,s=r.stat_desc.has_stree,a=r.stat_desc.elems;let k,w,I,we=-1;for(e.heap_len=0,e.heap_max=573,k=0;k<a;k++)0!==n[2*k]?(e.heap[++e.heap_len]=we=k,e.depth[k]=0):n[2*k+1]=0;for(;e.heap_len<2;)I=e.heap[++e.heap_len]=we<2?++we:0,n[2*I]=1,e.depth[I]=0,e.opt_len--,s&&(e.static_len-=i[2*I+1]);for(r.max_code=we,k=e.heap_len>>1;k>=1;k--)pqdownheap(e,n,k);I=a;do{k=e.heap[1],e.heap[1]=e.heap[e.heap_len--],pqdownheap(e,n,1),w=e.heap[1],e.heap[--e.heap_max]=k,e.heap[--e.heap_max]=w,n[2*I]=n[2*k]+n[2*w],e.depth[I]=(e.depth[k]>=e.depth[w]?e.depth[k]:e.depth[w])+1,n[2*k+1]=n[2*w+1]=I,e.heap[1]=I++,pqdownheap(e,n,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],((e,r)=>{const n=r.dyn_tree,i=r.max_code,s=r.stat_desc.static_tree,a=r.stat_desc.has_stree,k=r.stat_desc.extra_bits,w=r.stat_desc.extra_base,I=r.stat_desc.max_length;let we,Ae,Be,Ce,ze,qe,$e=0;for(Ce=0;Ce<=Je;Ce++)e.bl_count[Ce]=0;for(n[2*e.heap[e.heap_max]+1]=0,we=e.heap_max+1;we<573;we++)Ae=e.heap[we],Ce=n[2*n[2*Ae+1]+1]+1,Ce>I&&(Ce=I,$e++),n[2*Ae+1]=Ce,Ae>i||(e.bl_count[Ce]++,ze=0,Ae>=w&&(ze=k[Ae-w]),qe=n[2*Ae],e.opt_len+=qe*(Ce+ze),a&&(e.static_len+=qe*(s[2*Ae+1]+ze)));if(0!==$e){do{for(Ce=I-1;0===e.bl_count[Ce];)Ce--;e.bl_count[Ce]--,e.bl_count[Ce+1]+=2,e.bl_count[I]--,$e-=2}while($e>0);for(Ce=I;0!==Ce;Ce--)for(Ae=e.bl_count[Ce];0!==Ae;)Be=e.heap[--we],Be>i||(n[2*Be+1]!==Ce&&(e.opt_len+=(Ce-n[2*Be+1])*n[2*Be],n[2*Be+1]=Ce),Ae--)}})(e,r),gen_codes(n,we,e.bl_count)},scan_tree=(e,r,n)=>{let i,s,a=-1,k=r[1],w=0,I=7,we=4;for(0===k&&(I=138,we=3),r[2*(n+1)+1]=65535,i=0;i<=n;i++)s=k,k=r[2*(i+1)+1],++w<I&&s===k||(w<we?e.bl_tree[2*s]+=w:0!==s?(s!==a&&e.bl_tree[2*s]++,e.bl_tree[32]++):w<=10?e.bl_tree[34]++:e.bl_tree[36]++,w=0,a=s,0===k?(I=138,we=3):s===k?(I=6,we=3):(I=7,we=4))},send_tree=(e,r,n)=>{let i,s,a=-1,k=r[1],w=0,I=7,we=4;for(0===k&&(I=138,we=3),i=0;i<=n;i++)if(s=k,k=r[2*(i+1)+1],!(++w<I&&s===k)){if(w<we)do{send_code(e,s,e.bl_tree)}while(0!=--w);else 0!==s?(s!==a&&(send_code(e,s,e.bl_tree),w--),send_code(e,16,e.bl_tree),send_bits(e,w-3,2)):w<=10?(send_code(e,17,e.bl_tree),send_bits(e,w-3,3)):(send_code(e,18,e.bl_tree),send_bits(e,w-11,7));w=0,a=s,0===k?(I=138,we=3):s===k?(I=6,we=3):(I=7,we=4)}};let qt=!1;const _tr_stored_block$1=(e,r,n,i)=>{send_bits(e,0+(i?1:0),3),bi_windup(e),put_short(e,n),put_short(e,~n),n&&e.pending_buf.set(e.window.subarray(r,r+n),e.pending),e.pending+=n};var _tr_flush_block_1=(e,r,n,i)=>{let s,a,k=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=(e=>{let r,n=4093624447;for(r=0;r<=31;r++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*r])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(r=32;r<qe;r++)if(0!==e.dyn_ltree[2*r])return 1;return 0})(e)),build_tree(e,e.l_desc),build_tree(e,e.d_desc),k=(e=>{let r;for(scan_tree(e,e.dyn_ltree,e.l_desc.max_code),scan_tree(e,e.dyn_dtree,e.d_desc.max_code),build_tree(e,e.bl_desc),r=18;r>=3&&0===e.bl_tree[2*ot[r]+1];r--);return e.opt_len+=3*(r+1)+5+5+4,r})(e),s=e.opt_len+3+7>>>3,a=e.static_len+3+7>>>3,a<=s&&(s=a)):s=a=n+5,n+4<=s&&-1!==r?_tr_stored_block$1(e,r,n,i):4===e.strategy||a===s?(send_bits(e,2+(i?1:0),3),compress_block(e,ht,ft)):(send_bits(e,4+(i?1:0),3),((e,r,n,i)=>{let s;for(send_bits(e,r-257,5),send_bits(e,n-1,5),send_bits(e,i-4,4),s=0;s<i;s++)send_bits(e,e.bl_tree[2*ot[s]+1],3);send_tree(e,e.dyn_ltree,r-1),send_tree(e,e.dyn_dtree,n-1)})(e,e.l_desc.max_code+1,e.d_desc.max_code+1,k+1),compress_block(e,e.dyn_ltree,e.dyn_dtree)),init_block(e),i&&bi_windup(e)},Gt={_tr_init:e=>{qt||((()=>{let e,r,n,i,s;const a=new Array(16);for(n=0,i=0;i<28;i++)for(kt[i]=n,e=0;e<1<<et[i];e++)yt[n++]=i;for(yt[n-1]=i,s=0,i=0;i<16;i++)for(_t[i]=s,e=0;e<1<<rt[i];e++)pt[s++]=i;for(s>>=7;i<Ye;i++)for(_t[i]=s<<7,e=0;e<1<<rt[i]-7;e++)pt[256+s++]=i;for(r=0;r<=Je;r++)a[r]=0;for(e=0;e<=143;)ht[2*e+1]=8,e++,a[8]++;for(;e<=255;)ht[2*e+1]=9,e++,a[9]++;for(;e<=279;)ht[2*e+1]=7,e++,a[7]++;for(;e<=287;)ht[2*e+1]=8,e++,a[8]++;for(gen_codes(ht,287,a),e=0;e<Ye;e++)ft[2*e+1]=5,ft[2*e]=bi_reverse(e,5);St=new StaticTreeDesc(ht,et,257,$e,Je),Mt=new StaticTreeDesc(ft,rt,0,Ye,Je),Dt=new StaticTreeDesc(new Array(0),it,0,19,7)})(),qt=!0),e.l_desc=new TreeDesc(e.dyn_ltree,St),e.d_desc=new TreeDesc(e.dyn_dtree,Mt),e.bl_desc=new TreeDesc(e.bl_tree,Dt),e.bi_buf=0,e.bi_valid=0,init_block(e)},_tr_stored_block:_tr_stored_block$1,_tr_flush_block:_tr_flush_block_1,_tr_tally:(e,r,n)=>(e.pending_buf[e.sym_buf+e.sym_next++]=r,e.pending_buf[e.sym_buf+e.sym_next++]=r>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,0===r?e.dyn_ltree[2*n]++:(e.matches++,r--,e.dyn_ltree[2*(yt[n]+qe+1)]++,e.dyn_dtree[2*d_code(r)]++),e.sym_next===e.sym_end),_tr_align:e=>{send_bits(e,2,3),send_code(e,256,ht),(e=>{16===e.bi_valid?(put_short(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)})(e)}};var adler32_1=(e,r,n,i)=>{let s=65535&e,a=e>>>16&65535,k=0;for(;0!==n;){k=n>2e3?2e3:n,n-=k;do{s=s+r[i++]|0,a=a+s|0}while(--k);s%=65521,a%=65521}return s|a<<16};const Qt=new Uint32Array((()=>{let e,r=[];for(var n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;r[n]=e}return r})());var crc32_1=(e,r,n,i)=>{const s=Qt,a=i+n;e^=-1;for(let n=i;n<a;n++)e=e>>>8^s[255&(e^r[n])];return~e},er={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},tr={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:rr,_tr_stored_block:nr,_tr_flush_block:ir,_tr_tally:or,_tr_align:sr}=Gt,{Z_NO_FLUSH:ar,Z_PARTIAL_FLUSH:cr,Z_FULL_FLUSH:ur,Z_FINISH:dr,Z_BLOCK:lr,Z_OK:hr,Z_STREAM_END:fr,Z_STREAM_ERROR:pr,Z_DATA_ERROR:gr,Z_BUF_ERROR:yr,Z_DEFAULT_COMPRESSION:mr,Z_FILTERED:br,Z_HUFFMAN_ONLY:kr,Z_RLE:wr,Z_FIXED:Ir,Z_DEFAULT_STRATEGY:_r,Z_UNKNOWN:Sr,Z_DEFLATED:Er}=tr,vr=258,Ar=262,Tr=42,Pr=113,Or=666,err=(e,r)=>(e.msg=er[r],r),rank=e=>2*e-(e>4?9:0),zero=e=>{let r=e.length;for(;--r>=0;)e[r]=0},slide_hash=e=>{let r,n,i,s=e.w_size;r=e.hash_size,i=r;do{n=e.head[--i],e.head[i]=n>=s?n-s:0}while(--r);r=s,i=r;do{n=e.prev[--i],e.prev[i]=n>=s?n-s:0}while(--r)};let HASH=(e,r,n)=>(r<<e.hash_shift^n)&e.hash_mask;const flush_pending=e=>{const r=e.state;let n=r.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(e.output.set(r.pending_buf.subarray(r.pending_out,r.pending_out+n),e.next_out),e.next_out+=n,r.pending_out+=n,e.total_out+=n,e.avail_out-=n,r.pending-=n,0===r.pending&&(r.pending_out=0))},flush_block_only=(e,r)=>{ir(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,r),e.block_start=e.strstart,flush_pending(e.strm)},put_byte=(e,r)=>{e.pending_buf[e.pending++]=r},putShortMSB=(e,r)=>{e.pending_buf[e.pending++]=r>>>8&255,e.pending_buf[e.pending++]=255&r},read_buf=(e,r,n,i)=>{let s=e.avail_in;return s>i&&(s=i),0===s?0:(e.avail_in-=s,r.set(e.input.subarray(e.next_in,e.next_in+s),n),1===e.state.wrap?e.adler=adler32_1(e.adler,r,s,n):2===e.state.wrap&&(e.adler=crc32_1(e.adler,r,s,n)),e.next_in+=s,e.total_in+=s,s)},longest_match=(e,r)=>{let n,i,s=e.max_chain_length,a=e.strstart,k=e.prev_length,w=e.nice_match;const I=e.strstart>e.w_size-Ar?e.strstart-(e.w_size-Ar):0,we=e.window,Ae=e.w_mask,Be=e.prev,Ce=e.strstart+vr;let ze=we[a+k-1],qe=we[a+k];e.prev_length>=e.good_match&&(s>>=2),w>e.lookahead&&(w=e.lookahead);do{if(n=r,we[n+k]===qe&&we[n+k-1]===ze&&we[n]===we[a]&&we[++n]===we[a+1]){a+=2,n++;do{}while(we[++a]===we[++n]&&we[++a]===we[++n]&&we[++a]===we[++n]&&we[++a]===we[++n]&&we[++a]===we[++n]&&we[++a]===we[++n]&&we[++a]===we[++n]&&we[++a]===we[++n]&&a<Ce);if(i=vr-(Ce-a),a=Ce-vr,i>k){if(e.match_start=r,k=i,i>=w)break;ze=we[a+k-1],qe=we[a+k]}}}while((r=Be[r&Ae])>I&&0!=--s);return k<=e.lookahead?k:e.lookahead},fill_window=e=>{const r=e.w_size;let n,i,s;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=r+(r-Ar)&&(e.window.set(e.window.subarray(r,r+r-i),0),e.match_start-=r,e.strstart-=r,e.block_start-=r,e.insert>e.strstart&&(e.insert=e.strstart),slide_hash(e),i+=r),0===e.strm.avail_in)break;if(n=read_buf(e.strm,e.window,e.strstart+e.lookahead,i),e.lookahead+=n,e.lookahead+e.insert>=3)for(s=e.strstart-e.insert,e.ins_h=e.window[s],e.ins_h=HASH(e,e.ins_h,e.window[s+1]);e.insert&&(e.ins_h=HASH(e,e.ins_h,e.window[s+3-1]),e.prev[s&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=s,s++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<Ar&&0!==e.strm.avail_in)},deflate_stored=(e,r)=>{let n,i,s,a=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,k=0,w=e.strm.avail_in;do{if(n=65535,s=e.bi_valid+42>>3,e.strm.avail_out<s)break;if(s=e.strm.avail_out-s,i=e.strstart-e.block_start,n>i+e.strm.avail_in&&(n=i+e.strm.avail_in),n>s&&(n=s),n<a&&(0===n&&r!==dr||r===ar||n!==i+e.strm.avail_in))break;k=r===dr&&n===i+e.strm.avail_in?1:0,nr(e,0,0,k),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,flush_pending(e.strm),i&&(i>n&&(i=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+i),e.strm.next_out),e.strm.next_out+=i,e.strm.avail_out-=i,e.strm.total_out+=i,e.block_start+=i,n-=i),n&&(read_buf(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(0===k);return w-=e.strm.avail_in,w&&(w>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=w&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-w,e.strm.next_in),e.strstart),e.strstart+=w,e.insert+=w>e.w_size-e.insert?e.w_size-e.insert:w),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),k?4:r!==ar&&r!==dr&&0===e.strm.avail_in&&e.strstart===e.block_start?2:(s=e.window_size-e.strstart,e.strm.avail_in>s&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,s+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),s>e.strm.avail_in&&(s=e.strm.avail_in),s&&(read_buf(e.strm,e.window,e.strstart,s),e.strstart+=s,e.insert+=s>e.w_size-e.insert?e.w_size-e.insert:s),e.high_water<e.strstart&&(e.high_water=e.strstart),s=e.bi_valid+42>>3,s=e.pending_buf_size-s>65535?65535:e.pending_buf_size-s,a=s>e.w_size?e.w_size:s,i=e.strstart-e.block_start,(i>=a||(i||r===dr)&&r!==ar&&0===e.strm.avail_in&&i<=s)&&(n=i>s?s:i,k=r===dr&&0===e.strm.avail_in&&n===i?1:0,nr(e,e.block_start,n,k),e.block_start+=n,flush_pending(e.strm)),k?3:1)},deflate_fast=(e,r)=>{let n,i;for(;;){if(e.lookahead<Ar){if(fill_window(e),e.lookahead<Ar&&r===ar)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=HASH(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-Ar&&(e.match_length=longest_match(e,n)),e.match_length>=3)if(i=or(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=HASH(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=HASH(e,e.ins_h,e.window[e.strstart+1]);else i=or(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(flush_block_only(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,r===dr?(flush_block_only(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(flush_block_only(e,!1),0===e.strm.avail_out)?1:2},deflate_slow=(e,r)=>{let n,i,s;for(;;){if(e.lookahead<Ar){if(fill_window(e),e.lookahead<Ar&&r===ar)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=HASH(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-Ar&&(e.match_length=longest_match(e,n),e.match_length<=5&&(e.strategy===br||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){s=e.strstart+e.lookahead-3,i=or(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=s&&(e.ins_h=HASH(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,i&&(flush_block_only(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if(i=or(e,0,e.window[e.strstart-1]),i&&flush_block_only(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=or(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,r===dr?(flush_block_only(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(flush_block_only(e,!1),0===e.strm.avail_out)?1:2};function Config(e,r,n,i,s){this.good_length=e,this.max_lazy=r,this.nice_length=n,this.max_chain=i,this.func=s}const Mr=[new Config(0,0,0,0,deflate_stored),new Config(4,4,8,4,deflate_fast),new Config(4,5,16,8,deflate_fast),new Config(4,6,32,32,deflate_fast),new Config(4,4,16,16,deflate_slow),new Config(8,16,32,32,deflate_slow),new Config(8,16,128,128,deflate_slow),new Config(8,32,128,256,deflate_slow),new Config(32,128,258,1024,deflate_slow),new Config(32,258,258,4096,deflate_slow)];function DeflateState(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Er,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),zero(this.dyn_ltree),zero(this.dyn_dtree),zero(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),zero(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),zero(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const deflateStateCheck=e=>{if(!e)return 1;const r=e.state;return!r||r.strm!==e||r.status!==Tr&&57!==r.status&&69!==r.status&&73!==r.status&&91!==r.status&&103!==r.status&&r.status!==Pr&&r.status!==Or?1:0},deflateResetKeep=e=>{if(deflateStateCheck(e))return err(e,pr);e.total_in=e.total_out=0,e.data_type=Sr;const r=e.state;return r.pending=0,r.pending_out=0,r.wrap<0&&(r.wrap=-r.wrap),r.status=2===r.wrap?57:r.wrap?Tr:Pr,e.adler=2===r.wrap?0:1,r.last_flush=-2,rr(r),hr},deflateReset=e=>{const r=deflateResetKeep(e);var n;return r===hr&&((n=e.state).window_size=2*n.w_size,zero(n.head),n.max_lazy_match=Mr[n.level].max_lazy,n.good_match=Mr[n.level].good_length,n.nice_match=Mr[n.level].nice_length,n.max_chain_length=Mr[n.level].max_chain,n.strstart=0,n.block_start=0,n.lookahead=0,n.insert=0,n.match_length=n.prev_length=2,n.match_available=0,n.ins_h=0),r},deflateInit2=(e,r,n,i,s,a)=>{if(!e)return pr;let k=1;if(r===mr&&(r=6),i<0?(k=0,i=-i):i>15&&(k=2,i-=16),s<1||s>9||n!==Er||i<8||i>15||r<0||r>9||a<0||a>Ir||8===i&&1!==k)return err(e,pr);8===i&&(i=9);const w=new DeflateState;return e.state=w,w.strm=e,w.status=Tr,w.wrap=k,w.gzhead=null,w.w_bits=i,w.w_size=1<<w.w_bits,w.w_mask=w.w_size-1,w.hash_bits=s+7,w.hash_size=1<<w.hash_bits,w.hash_mask=w.hash_size-1,w.hash_shift=~~((w.hash_bits+3-1)/3),w.window=new Uint8Array(2*w.w_size),w.head=new Uint16Array(w.hash_size),w.prev=new Uint16Array(w.w_size),w.lit_bufsize=1<<s+6,w.pending_buf_size=4*w.lit_bufsize,w.pending_buf=new Uint8Array(w.pending_buf_size),w.sym_buf=w.lit_bufsize,w.sym_end=3*(w.lit_bufsize-1),w.level=r,w.strategy=a,w.method=n,deflateReset(e)};var xr={deflateInit:(e,r)=>deflateInit2(e,r,Er,15,8,_r),deflateInit2,deflateReset,deflateResetKeep,deflateSetHeader:(e,r)=>deflateStateCheck(e)||2!==e.state.wrap?pr:(e.state.gzhead=r,hr),deflate:(e,r)=>{if(deflateStateCheck(e)||r>lr||r<0)return e?err(e,pr):pr;const n=e.state;if(!e.output||0!==e.avail_in&&!e.input||n.status===Or&&r!==dr)return err(e,0===e.avail_out?yr:pr);const i=n.last_flush;if(n.last_flush=r,0!==n.pending){if(flush_pending(e),0===e.avail_out)return n.last_flush=-1,hr}else if(0===e.avail_in&&rank(r)<=rank(i)&&r!==dr)return err(e,yr);if(n.status===Or&&0!==e.avail_in)return err(e,yr);if(n.status===Tr&&0===n.wrap&&(n.status=Pr),n.status===Tr){let r=Er+(n.w_bits-8<<4)<<8,i=-1;if(i=n.strategy>=kr||n.level<2?0:n.level<6?1:6===n.level?2:3,r|=i<<6,0!==n.strstart&&(r|=32),r+=31-r%31,putShortMSB(n,r),0!==n.strstart&&(putShortMSB(n,e.adler>>>16),putShortMSB(n,65535&e.adler)),e.adler=1,n.status=Pr,flush_pending(e),0!==n.pending)return n.last_flush=-1,hr}if(57===n.status)if(e.adler=0,put_byte(n,31),put_byte(n,139),put_byte(n,8),n.gzhead)put_byte(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),put_byte(n,255&n.gzhead.time),put_byte(n,n.gzhead.time>>8&255),put_byte(n,n.gzhead.time>>16&255),put_byte(n,n.gzhead.time>>24&255),put_byte(n,9===n.level?2:n.strategy>=kr||n.level<2?4:0),put_byte(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(put_byte(n,255&n.gzhead.extra.length),put_byte(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=crc32_1(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69;else if(put_byte(n,0),put_byte(n,0),put_byte(n,0),put_byte(n,0),put_byte(n,0),put_byte(n,9===n.level?2:n.strategy>=kr||n.level<2?4:0),put_byte(n,3),n.status=Pr,flush_pending(e),0!==n.pending)return n.last_flush=-1,hr;if(69===n.status){if(n.gzhead.extra){let r=n.pending,i=(65535&n.gzhead.extra.length)-n.gzindex;for(;n.pending+i>n.pending_buf_size;){let s=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+s),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>r&&(e.adler=crc32_1(e.adler,n.pending_buf,n.pending-r,r)),n.gzindex+=s,flush_pending(e),0!==n.pending)return n.last_flush=-1,hr;r=0,i-=s}let s=new Uint8Array(n.gzhead.extra);n.pending_buf.set(s.subarray(n.gzindex,n.gzindex+i),n.pending),n.pending+=i,n.gzhead.hcrc&&n.pending>r&&(e.adler=crc32_1(e.adler,n.pending_buf,n.pending-r,r)),n.gzindex=0}n.status=73}if(73===n.status){if(n.gzhead.name){let r,i=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(e.adler=crc32_1(e.adler,n.pending_buf,n.pending-i,i)),flush_pending(e),0!==n.pending)return n.last_flush=-1,hr;i=0}r=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,put_byte(n,r)}while(0!==r);n.gzhead.hcrc&&n.pending>i&&(e.adler=crc32_1(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=91}if(91===n.status){if(n.gzhead.comment){let r,i=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(e.adler=crc32_1(e.adler,n.pending_buf,n.pending-i,i)),flush_pending(e),0!==n.pending)return n.last_flush=-1,hr;i=0}r=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,put_byte(n,r)}while(0!==r);n.gzhead.hcrc&&n.pending>i&&(e.adler=crc32_1(e.adler,n.pending_buf,n.pending-i,i))}n.status=103}if(103===n.status){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(flush_pending(e),0!==n.pending))return n.last_flush=-1,hr;put_byte(n,255&e.adler),put_byte(n,e.adler>>8&255),e.adler=0}if(n.status=Pr,flush_pending(e),0!==n.pending)return n.last_flush=-1,hr}if(0!==e.avail_in||0!==n.lookahead||r!==ar&&n.status!==Or){let i=0===n.level?deflate_stored(n,r):n.strategy===kr?((e,r)=>{let n;for(;;){if(0===e.lookahead&&(fill_window(e),0===e.lookahead)){if(r===ar)return 1;break}if(e.match_length=0,n=or(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(flush_block_only(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,r===dr?(flush_block_only(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(flush_block_only(e,!1),0===e.strm.avail_out)?1:2})(n,r):n.strategy===wr?((e,r)=>{let n,i,s,a;const k=e.window;for(;;){if(e.lookahead<=vr){if(fill_window(e),e.lookahead<=vr&&r===ar)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(s=e.strstart-1,i=k[s],i===k[++s]&&i===k[++s]&&i===k[++s])){a=e.strstart+vr;do{}while(i===k[++s]&&i===k[++s]&&i===k[++s]&&i===k[++s]&&i===k[++s]&&i===k[++s]&&i===k[++s]&&i===k[++s]&&s<a);e.match_length=vr-(a-s),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=or(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=or(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(flush_block_only(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,r===dr?(flush_block_only(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(flush_block_only(e,!1),0===e.strm.avail_out)?1:2})(n,r):Mr[n.level].func(n,r);if(3!==i&&4!==i||(n.status=Or),1===i||3===i)return 0===e.avail_out&&(n.last_flush=-1),hr;if(2===i&&(r===cr?sr(n):r!==lr&&(nr(n,0,0,!1),r===ur&&(zero(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),flush_pending(e),0===e.avail_out))return n.last_flush=-1,hr}return r!==dr?hr:n.wrap<=0?fr:(2===n.wrap?(put_byte(n,255&e.adler),put_byte(n,e.adler>>8&255),put_byte(n,e.adler>>16&255),put_byte(n,e.adler>>24&255),put_byte(n,255&e.total_in),put_byte(n,e.total_in>>8&255),put_byte(n,e.total_in>>16&255),put_byte(n,e.total_in>>24&255)):(putShortMSB(n,e.adler>>>16),putShortMSB(n,65535&e.adler)),flush_pending(e),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?hr:fr)},deflateEnd:e=>{if(deflateStateCheck(e))return pr;const r=e.state.status;return e.state=null,r===Pr?err(e,gr):hr},deflateSetDictionary:(e,r)=>{let n=r.length;if(deflateStateCheck(e))return pr;const i=e.state,s=i.wrap;if(2===s||1===s&&i.status!==Tr||i.lookahead)return pr;if(1===s&&(e.adler=adler32_1(e.adler,r,n,0)),i.wrap=0,n>=i.w_size){0===s&&(zero(i.head),i.strstart=0,i.block_start=0,i.insert=0);let e=new Uint8Array(i.w_size);e.set(r.subarray(n-i.w_size,n),0),r=e,n=i.w_size}const a=e.avail_in,k=e.next_in,w=e.input;for(e.avail_in=n,e.next_in=0,e.input=r,fill_window(i);i.lookahead>=3;){let e=i.strstart,r=i.lookahead-2;do{i.ins_h=HASH(i,i.ins_h,i.window[e+3-1]),i.prev[e&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=e,e++}while(--r);i.strstart=e,i.lookahead=2,fill_window(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=2,i.match_available=0,e.next_in=k,e.input=w,e.avail_in=a,i.wrap=s,hr},deflateInfo:"pako deflate (from Nodeca project)"};const _has=(e,r)=>Object.prototype.hasOwnProperty.call(e,r);var Br={assign:function(e){const r=Array.prototype.slice.call(arguments,1);for(;r.length;){const n=r.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(const r in n)_has(n,r)&&(e[r]=n[r])}}return e},flattenChunks:e=>{let r=0;for(let n=0,i=e.length;n<i;n++)r+=e[n].length;const n=new Uint8Array(r);for(let r=0,i=0,s=e.length;r<s;r++){let s=e[r];n.set(s,i),i+=s.length}return n}};let Rr=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){Rr=!1}const Cr=new Uint8Array(256);for(let e=0;e<256;e++)Cr[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Cr[254]=Cr[254]=1;var Dr={string2buf:e=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);let r,n,i,s,a,k=e.length,w=0;for(s=0;s<k;s++)n=e.charCodeAt(s),55296==(64512&n)&&s+1<k&&(i=e.charCodeAt(s+1),56320==(64512&i)&&(n=65536+(n-55296<<10)+(i-56320),s++)),w+=n<128?1:n<2048?2:n<65536?3:4;for(r=new Uint8Array(w),a=0,s=0;a<w;s++)n=e.charCodeAt(s),55296==(64512&n)&&s+1<k&&(i=e.charCodeAt(s+1),56320==(64512&i)&&(n=65536+(n-55296<<10)+(i-56320),s++)),n<128?r[a++]=n:n<2048?(r[a++]=192|n>>>6,r[a++]=128|63&n):n<65536?(r[a++]=224|n>>>12,r[a++]=128|n>>>6&63,r[a++]=128|63&n):(r[a++]=240|n>>>18,r[a++]=128|n>>>12&63,r[a++]=128|n>>>6&63,r[a++]=128|63&n);return r},buf2string:(e,r)=>{const n=r||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,r));let i,s;const a=new Array(2*n);for(s=0,i=0;i<n;){let r=e[i++];if(r<128){a[s++]=r;continue}let k=Cr[r];if(k>4)a[s++]=65533,i+=k-1;else{for(r&=2===k?31:3===k?15:7;k>1&&i<n;)r=r<<6|63&e[i++],k--;k>1?a[s++]=65533:r<65536?a[s++]=r:(r-=65536,a[s++]=55296|r>>10&1023,a[s++]=56320|1023&r)}}return((e,r)=>{if(r<65534&&e.subarray&&Rr)return String.fromCharCode.apply(null,e.length===r?e:e.subarray(0,r));let n="";for(let i=0;i<r;i++)n+=String.fromCharCode(e[i]);return n})(a,s)},utf8border:(e,r)=>{(r=r||e.length)>e.length&&(r=e.length);let n=r-1;for(;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?r:n+Cr[e[n]]>r?n:r}};var Nr=function ZStream(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const zr=Object.prototype.toString,{Z_NO_FLUSH:Wr,Z_SYNC_FLUSH:jr,Z_FULL_FLUSH:Lr,Z_FINISH:Kr,Z_OK:Fr,Z_STREAM_END:Ur,Z_DEFAULT_COMPRESSION:Vr,Z_DEFAULT_STRATEGY:qr,Z_DEFLATED:Hr}=tr;function Deflate$1(e){this.options=Br.assign({level:Vr,method:Hr,chunkSize:16384,windowBits:15,memLevel:8,strategy:qr},e||{});let r=this.options;r.raw&&r.windowBits>0?r.windowBits=-r.windowBits:r.gzip&&r.windowBits>0&&r.windowBits<16&&(r.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Nr,this.strm.avail_out=0;let n=xr.deflateInit2(this.strm,r.level,r.method,r.windowBits,r.memLevel,r.strategy);if(n!==Fr)throw new Error(er[n]);if(r.header&&xr.deflateSetHeader(this.strm,r.header),r.dictionary){let e;if(e="string"==typeof r.dictionary?Dr.string2buf(r.dictionary):"[object ArrayBuffer]"===zr.call(r.dictionary)?new Uint8Array(r.dictionary):r.dictionary,n=xr.deflateSetDictionary(this.strm,e),n!==Fr)throw new Error(er[n]);this._dict_set=!0}}function deflate$1(e,r){const n=new Deflate$1(r);if(n.push(e,!0),n.err)throw n.msg||er[n.err];return n.result}Deflate$1.prototype.push=function(e,r){const n=this.strm,i=this.options.chunkSize;let s,a;if(this.ended)return!1;for(a=r===~~r?r:!0===r?Kr:Wr,"string"==typeof e?n.input=Dr.string2buf(e):"[object ArrayBuffer]"===zr.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;)if(0===n.avail_out&&(n.output=new Uint8Array(i),n.next_out=0,n.avail_out=i),(a===jr||a===Lr)&&n.avail_out<=6)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else{if(s=xr.deflate(n,a),s===Ur)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),s=xr.deflateEnd(this.strm),this.onEnd(s),this.ended=!0,s===Fr;if(0!==n.avail_out){if(a>0&&n.next_out>0)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else if(0===n.avail_in)break}else this.onData(n.output)}return!0},Deflate$1.prototype.onData=function(e){this.chunks.push(e)},Deflate$1.prototype.onEnd=function(e){e===Fr&&(this.result=Br.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var Gr={Deflate:Deflate$1,deflate:deflate$1,deflateRaw:function deflateRaw$1(e,r){return(r=r||{}).raw=!0,deflate$1(e,r)},gzip:function gzip$1(e,r){return(r=r||{}).gzip=!0,deflate$1(e,r)},constants:tr};const $r=16209;var Yr=function inflate_fast(e,r){let n,i,s,a,k,w,I,we,Ae,Be,Ce,ze,qe,$e,Ye,Je,et,rt,it,ot,ht,ft,pt,yt;const kt=e.state;n=e.next_in,pt=e.input,i=n+(e.avail_in-5),s=e.next_out,yt=e.output,a=s-(r-e.avail_out),k=s+(e.avail_out-257),w=kt.dmax,I=kt.wsize,we=kt.whave,Ae=kt.wnext,Be=kt.window,Ce=kt.hold,ze=kt.bits,qe=kt.lencode,$e=kt.distcode,Ye=(1<<kt.lenbits)-1,Je=(1<<kt.distbits)-1;e:do{ze<15&&(Ce+=pt[n++]<<ze,ze+=8,Ce+=pt[n++]<<ze,ze+=8),et=qe[Ce&Ye];t:for(;;){if(rt=et>>>24,Ce>>>=rt,ze-=rt,rt=et>>>16&255,0===rt)yt[s++]=65535&et;else{if(!(16&rt)){if(64&rt){if(32&rt){kt.mode=16191;break e}e.msg="invalid literal/length code",kt.mode=$r;break e}et=qe[(65535&et)+(Ce&(1<<rt)-1)];continue t}for(it=65535&et,rt&=15,rt&&(ze<rt&&(Ce+=pt[n++]<<ze,ze+=8),it+=Ce&(1<<rt)-1,Ce>>>=rt,ze-=rt),ze<15&&(Ce+=pt[n++]<<ze,ze+=8,Ce+=pt[n++]<<ze,ze+=8),et=$e[Ce&Je];;){if(rt=et>>>24,Ce>>>=rt,ze-=rt,rt=et>>>16&255,16&rt){if(ot=65535&et,rt&=15,ze<rt&&(Ce+=pt[n++]<<ze,ze+=8,ze<rt&&(Ce+=pt[n++]<<ze,ze+=8)),ot+=Ce&(1<<rt)-1,ot>w){e.msg="invalid distance too far back",kt.mode=$r;break e}if(Ce>>>=rt,ze-=rt,rt=s-a,ot>rt){if(rt=ot-rt,rt>we&&kt.sane){e.msg="invalid distance too far back",kt.mode=$r;break e}if(ht=0,ft=Be,0===Ae){if(ht+=I-rt,rt<it){it-=rt;do{yt[s++]=Be[ht++]}while(--rt);ht=s-ot,ft=yt}}else if(Ae<rt){if(ht+=I+Ae-rt,rt-=Ae,rt<it){it-=rt;do{yt[s++]=Be[ht++]}while(--rt);if(ht=0,Ae<it){rt=Ae,it-=rt;do{yt[s++]=Be[ht++]}while(--rt);ht=s-ot,ft=yt}}}else if(ht+=Ae-rt,rt<it){it-=rt;do{yt[s++]=Be[ht++]}while(--rt);ht=s-ot,ft=yt}for(;it>2;)yt[s++]=ft[ht++],yt[s++]=ft[ht++],yt[s++]=ft[ht++],it-=3;it&&(yt[s++]=ft[ht++],it>1&&(yt[s++]=ft[ht++]))}else{ht=s-ot;do{yt[s++]=yt[ht++],yt[s++]=yt[ht++],yt[s++]=yt[ht++],it-=3}while(it>2);it&&(yt[s++]=yt[ht++],it>1&&(yt[s++]=yt[ht++]))}break}if(64&rt){e.msg="invalid distance code",kt.mode=$r;break e}et=$e[(65535&et)+(Ce&(1<<rt)-1)]}}break}}while(n<i&&s<k);it=ze>>3,n-=it,ze-=it<<3,Ce&=(1<<ze)-1,e.next_in=n,e.next_out=s,e.avail_in=n<i?i-n+5:5-(n-i),e.avail_out=s<k?k-s+257:257-(s-k),kt.hold=Ce,kt.bits=ze};const Zr=15,Jr=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Qr=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Xr=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),sn=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var inftrees=(e,r,n,i,s,a,k,w)=>{const I=w.bits;let we,Ae,Be,Ce,ze,qe,$e=0,Ye=0,Je=0,et=0,rt=0,it=0,ot=0,ht=0,ft=0,pt=0,yt=null;const kt=new Uint16Array(16),_t=new Uint16Array(16);let St,Mt,Dt,qt=null;for($e=0;$e<=Zr;$e++)kt[$e]=0;for(Ye=0;Ye<i;Ye++)kt[r[n+Ye]]++;for(rt=I,et=Zr;et>=1&&0===kt[et];et--);if(rt>et&&(rt=et),0===et)return s[a++]=20971520,s[a++]=20971520,w.bits=1,0;for(Je=1;Je<et&&0===kt[Je];Je++);for(rt<Je&&(rt=Je),ht=1,$e=1;$e<=Zr;$e++)if(ht<<=1,ht-=kt[$e],ht<0)return-1;if(ht>0&&(0===e||1!==et))return-1;for(_t[1]=0,$e=1;$e<Zr;$e++)_t[$e+1]=_t[$e]+kt[$e];for(Ye=0;Ye<i;Ye++)0!==r[n+Ye]&&(k[_t[r[n+Ye]]++]=Ye);if(0===e?(yt=qt=k,qe=20):1===e?(yt=Jr,qt=Qr,qe=257):(yt=Xr,qt=sn,qe=0),pt=0,Ye=0,$e=Je,ze=a,it=rt,ot=0,Be=-1,ft=1<<rt,Ce=ft-1,1===e&&ft>852||2===e&&ft>592)return 1;for(;;){St=$e-ot,k[Ye]+1<qe?(Mt=0,Dt=k[Ye]):k[Ye]>=qe?(Mt=qt[k[Ye]-qe],Dt=yt[k[Ye]-qe]):(Mt=96,Dt=0),we=1<<$e-ot,Ae=1<<it,Je=Ae;do{Ae-=we,s[ze+(pt>>ot)+Ae]=St<<24|Mt<<16|Dt}while(0!==Ae);for(we=1<<$e-1;pt&we;)we>>=1;if(0!==we?(pt&=we-1,pt+=we):pt=0,Ye++,0==--kt[$e]){if($e===et)break;$e=r[n+k[Ye]]}if($e>rt&&(pt&Ce)!==Be){for(0===ot&&(ot=rt),ze+=Je,it=$e-ot,ht=1<<it;it+ot<et&&(ht-=kt[it+ot],!(ht<=0));)it++,ht<<=1;if(ft+=1<<it,1===e&&ft>852||2===e&&ft>592)return 1;Be=pt&Ce,s[Be]=rt<<24|it<<16|ze-a}}return 0!==pt&&(s[ze+pt]=$e-ot<<24|64<<16),w.bits=rt,0};const{Z_FINISH:an,Z_BLOCK:cn,Z_TREES:un,Z_OK:dn,Z_STREAM_END:ln,Z_NEED_DICT:pn,Z_STREAM_ERROR:gn,Z_DATA_ERROR:yn,Z_MEM_ERROR:mn,Z_BUF_ERROR:bn,Z_DEFLATED:kn}=tr,In=16180,Mn=16190,Bn=16191,Cn=16192,Wn=16194,Hn=16199,Zn=16200,Qn=16206,ei=16209,zswap32=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function InflateState(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const inflateStateCheck=e=>{if(!e)return 1;const r=e.state;return!r||r.strm!==e||r.mode<In||r.mode>16211?1:0},inflateResetKeep=e=>{if(inflateStateCheck(e))return gn;const r=e.state;return e.total_in=e.total_out=r.total=0,e.msg="",r.wrap&&(e.adler=1&r.wrap),r.mode=In,r.last=0,r.havedict=0,r.flags=-1,r.dmax=32768,r.head=null,r.hold=0,r.bits=0,r.lencode=r.lendyn=new Int32Array(852),r.distcode=r.distdyn=new Int32Array(592),r.sane=1,r.back=-1,dn},inflateReset=e=>{if(inflateStateCheck(e))return gn;const r=e.state;return r.wsize=0,r.whave=0,r.wnext=0,inflateResetKeep(e)},inflateReset2=(e,r)=>{let n;if(inflateStateCheck(e))return gn;const i=e.state;return r<0?(n=0,r=-r):(n=5+(r>>4),r<48&&(r&=15)),r&&(r<8||r>15)?gn:(null!==i.window&&i.wbits!==r&&(i.window=null),i.wrap=n,i.wbits=r,inflateReset(e))},inflateInit2=(e,r)=>{if(!e)return gn;const n=new InflateState;e.state=n,n.strm=e,n.window=null,n.mode=In;const i=inflateReset2(e,r);return i!==dn&&(e.state=null),i};let ti,ri,ni=!0;const fixedtables=e=>{if(ni){ti=new Int32Array(512),ri=new Int32Array(32);let r=0;for(;r<144;)e.lens[r++]=8;for(;r<256;)e.lens[r++]=9;for(;r<280;)e.lens[r++]=7;for(;r<288;)e.lens[r++]=8;for(inftrees(1,e.lens,0,288,ti,0,e.work,{bits:9}),r=0;r<32;)e.lens[r++]=5;inftrees(2,e.lens,0,32,ri,0,e.work,{bits:5}),ni=!1}e.lencode=ti,e.lenbits=9,e.distcode=ri,e.distbits=5},updatewindow=(e,r,n,i)=>{let s;const a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),i>=a.wsize?(a.window.set(r.subarray(n-a.wsize,n),0),a.wnext=0,a.whave=a.wsize):(s=a.wsize-a.wnext,s>i&&(s=i),a.window.set(r.subarray(n-i,n-i+s),a.wnext),(i-=s)?(a.window.set(r.subarray(n-i,n),0),a.wnext=i,a.whave=a.wsize):(a.wnext+=s,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=s))),0};var ii={inflateReset,inflateReset2,inflateResetKeep,inflateInit:e=>inflateInit2(e,15),inflateInit2,inflate:(e,r)=>{let n,i,s,a,k,w,I,we,Ae,Be,Ce,ze,qe,$e,Ye,Je,et,rt,it,ot,ht,ft,pt=0;const yt=new Uint8Array(4);let kt,_t;const St=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(inflateStateCheck(e)||!e.output||!e.input&&0!==e.avail_in)return gn;n=e.state,n.mode===Bn&&(n.mode=Cn),k=e.next_out,s=e.output,I=e.avail_out,a=e.next_in,i=e.input,w=e.avail_in,we=n.hold,Ae=n.bits,Be=w,Ce=I,ft=dn;e:for(;;)switch(n.mode){case In:if(0===n.wrap){n.mode=Cn;break}for(;Ae<16;){if(0===w)break e;w--,we+=i[a++]<<Ae,Ae+=8}if(2&n.wrap&&35615===we){0===n.wbits&&(n.wbits=15),n.check=0,yt[0]=255&we,yt[1]=we>>>8&255,n.check=crc32_1(n.check,yt,2,0),we=0,Ae=0,n.mode=16181;break}if(n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&we)<<8)+(we>>8))%31){e.msg="incorrect header check",n.mode=ei;break}if((15&we)!==kn){e.msg="unknown compression method",n.mode=ei;break}if(we>>>=4,Ae-=4,ht=8+(15&we),0===n.wbits&&(n.wbits=ht),ht>15||ht>n.wbits){e.msg="invalid window size",n.mode=ei;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=512&we?16189:Bn,we=0,Ae=0;break;case 16181:for(;Ae<16;){if(0===w)break e;w--,we+=i[a++]<<Ae,Ae+=8}if(n.flags=we,(255&n.flags)!==kn){e.msg="unknown compression method",n.mode=ei;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=ei;break}n.head&&(n.head.text=we>>8&1),512&n.flags&&4&n.wrap&&(yt[0]=255&we,yt[1]=we>>>8&255,n.check=crc32_1(n.check,yt,2,0)),we=0,Ae=0,n.mode=16182;case 16182:for(;Ae<32;){if(0===w)break e;w--,we+=i[a++]<<Ae,Ae+=8}n.head&&(n.head.time=we),512&n.flags&&4&n.wrap&&(yt[0]=255&we,yt[1]=we>>>8&255,yt[2]=we>>>16&255,yt[3]=we>>>24&255,n.check=crc32_1(n.check,yt,4,0)),we=0,Ae=0,n.mode=16183;case 16183:for(;Ae<16;){if(0===w)break e;w--,we+=i[a++]<<Ae,Ae+=8}n.head&&(n.head.xflags=255&we,n.head.os=we>>8),512&n.flags&&4&n.wrap&&(yt[0]=255&we,yt[1]=we>>>8&255,n.check=crc32_1(n.check,yt,2,0)),we=0,Ae=0,n.mode=16184;case 16184:if(1024&n.flags){for(;Ae<16;){if(0===w)break e;w--,we+=i[a++]<<Ae,Ae+=8}n.length=we,n.head&&(n.head.extra_len=we),512&n.flags&&4&n.wrap&&(yt[0]=255&we,yt[1]=we>>>8&255,n.check=crc32_1(n.check,yt,2,0)),we=0,Ae=0}else n.head&&(n.head.extra=null);n.mode=16185;case 16185:if(1024&n.flags&&(ze=n.length,ze>w&&(ze=w),ze&&(n.head&&(ht=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(i.subarray(a,a+ze),ht)),512&n.flags&&4&n.wrap&&(n.check=crc32_1(n.check,i,ze,a)),w-=ze,a+=ze,n.length-=ze),n.length))break e;n.length=0,n.mode=16186;case 16186:if(2048&n.flags){if(0===w)break e;ze=0;do{ht=i[a+ze++],n.head&&ht&&n.length<65536&&(n.head.name+=String.fromCharCode(ht))}while(ht&&ze<w);if(512&n.flags&&4&n.wrap&&(n.check=crc32_1(n.check,i,ze,a)),w-=ze,a+=ze,ht)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=16187;case 16187:if(4096&n.flags){if(0===w)break e;ze=0;do{ht=i[a+ze++],n.head&&ht&&n.length<65536&&(n.head.comment+=String.fromCharCode(ht))}while(ht&&ze<w);if(512&n.flags&&4&n.wrap&&(n.check=crc32_1(n.check,i,ze,a)),w-=ze,a+=ze,ht)break e}else n.head&&(n.head.comment=null);n.mode=16188;case 16188:if(512&n.flags){for(;Ae<16;){if(0===w)break e;w--,we+=i[a++]<<Ae,Ae+=8}if(4&n.wrap&&we!==(65535&n.check)){e.msg="header crc mismatch",n.mode=ei;break}we=0,Ae=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=Bn;break;case 16189:for(;Ae<32;){if(0===w)break e;w--,we+=i[a++]<<Ae,Ae+=8}e.adler=n.check=zswap32(we),we=0,Ae=0,n.mode=Mn;case Mn:if(0===n.havedict)return e.next_out=k,e.avail_out=I,e.next_in=a,e.avail_in=w,n.hold=we,n.bits=Ae,pn;e.adler=n.check=1,n.mode=Bn;case Bn:if(r===cn||r===un)break e;case Cn:if(n.last){we>>>=7&Ae,Ae-=7&Ae,n.mode=Qn;break}for(;Ae<3;){if(0===w)break e;w--,we+=i[a++]<<Ae,Ae+=8}switch(n.last=1&we,we>>>=1,Ae-=1,3&we){case 0:n.mode=16193;break;case 1:if(fixedtables(n),n.mode=Hn,r===un){we>>>=2,Ae-=2;break e}break;case 2:n.mode=16196;break;case 3:e.msg="invalid block type",n.mode=ei}we>>>=2,Ae-=2;break;case 16193:for(we>>>=7&Ae,Ae-=7&Ae;Ae<32;){if(0===w)break e;w--,we+=i[a++]<<Ae,Ae+=8}if((65535&we)!=(we>>>16^65535)){e.msg="invalid stored block lengths",n.mode=ei;break}if(n.length=65535&we,we=0,Ae=0,n.mode=Wn,r===un)break e;case Wn:n.mode=16195;case 16195:if(ze=n.length,ze){if(ze>w&&(ze=w),ze>I&&(ze=I),0===ze)break e;s.set(i.subarray(a,a+ze),k),w-=ze,a+=ze,I-=ze,k+=ze,n.length-=ze;break}n.mode=Bn;break;case 16196:for(;Ae<14;){if(0===w)break e;w--,we+=i[a++]<<Ae,Ae+=8}if(n.nlen=257+(31&we),we>>>=5,Ae-=5,n.ndist=1+(31&we),we>>>=5,Ae-=5,n.ncode=4+(15&we),we>>>=4,Ae-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=ei;break}n.have=0,n.mode=16197;case 16197:for(;n.have<n.ncode;){for(;Ae<3;){if(0===w)break e;w--,we+=i[a++]<<Ae,Ae+=8}n.lens[St[n.have++]]=7&we,we>>>=3,Ae-=3}for(;n.have<19;)n.lens[St[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,kt={bits:n.lenbits},ft=inftrees(0,n.lens,0,19,n.lencode,0,n.work,kt),n.lenbits=kt.bits,ft){e.msg="invalid code lengths set",n.mode=ei;break}n.have=0,n.mode=16198;case 16198:for(;n.have<n.nlen+n.ndist;){for(;pt=n.lencode[we&(1<<n.lenbits)-1],Ye=pt>>>24,Je=pt>>>16&255,et=65535&pt,!(Ye<=Ae);){if(0===w)break e;w--,we+=i[a++]<<Ae,Ae+=8}if(et<16)we>>>=Ye,Ae-=Ye,n.lens[n.have++]=et;else{if(16===et){for(_t=Ye+2;Ae<_t;){if(0===w)break e;w--,we+=i[a++]<<Ae,Ae+=8}if(we>>>=Ye,Ae-=Ye,0===n.have){e.msg="invalid bit length repeat",n.mode=ei;break}ht=n.lens[n.have-1],ze=3+(3&we),we>>>=2,Ae-=2}else if(17===et){for(_t=Ye+3;Ae<_t;){if(0===w)break e;w--,we+=i[a++]<<Ae,Ae+=8}we>>>=Ye,Ae-=Ye,ht=0,ze=3+(7&we),we>>>=3,Ae-=3}else{for(_t=Ye+7;Ae<_t;){if(0===w)break e;w--,we+=i[a++]<<Ae,Ae+=8}we>>>=Ye,Ae-=Ye,ht=0,ze=11+(127&we),we>>>=7,Ae-=7}if(n.have+ze>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=ei;break}for(;ze--;)n.lens[n.have++]=ht}}if(n.mode===ei)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=ei;break}if(n.lenbits=9,kt={bits:n.lenbits},ft=inftrees(1,n.lens,0,n.nlen,n.lencode,0,n.work,kt),n.lenbits=kt.bits,ft){e.msg="invalid literal/lengths set",n.mode=ei;break}if(n.distbits=6,n.distcode=n.distdyn,kt={bits:n.distbits},ft=inftrees(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,kt),n.distbits=kt.bits,ft){e.msg="invalid distances set",n.mode=ei;break}if(n.mode=Hn,r===un)break e;case Hn:n.mode=Zn;case Zn:if(w>=6&&I>=258){e.next_out=k,e.avail_out=I,e.next_in=a,e.avail_in=w,n.hold=we,n.bits=Ae,Yr(e,Ce),k=e.next_out,s=e.output,I=e.avail_out,a=e.next_in,i=e.input,w=e.avail_in,we=n.hold,Ae=n.bits,n.mode===Bn&&(n.back=-1);break}for(n.back=0;pt=n.lencode[we&(1<<n.lenbits)-1],Ye=pt>>>24,Je=pt>>>16&255,et=65535&pt,!(Ye<=Ae);){if(0===w)break e;w--,we+=i[a++]<<Ae,Ae+=8}if(Je&&!(240&Je)){for(rt=Ye,it=Je,ot=et;pt=n.lencode[ot+((we&(1<<rt+it)-1)>>rt)],Ye=pt>>>24,Je=pt>>>16&255,et=65535&pt,!(rt+Ye<=Ae);){if(0===w)break e;w--,we+=i[a++]<<Ae,Ae+=8}we>>>=rt,Ae-=rt,n.back+=rt}if(we>>>=Ye,Ae-=Ye,n.back+=Ye,n.length=et,0===Je){n.mode=16205;break}if(32&Je){n.back=-1,n.mode=Bn;break}if(64&Je){e.msg="invalid literal/length code",n.mode=ei;break}n.extra=15&Je,n.mode=16201;case 16201:if(n.extra){for(_t=n.extra;Ae<_t;){if(0===w)break e;w--,we+=i[a++]<<Ae,Ae+=8}n.length+=we&(1<<n.extra)-1,we>>>=n.extra,Ae-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=16202;case 16202:for(;pt=n.distcode[we&(1<<n.distbits)-1],Ye=pt>>>24,Je=pt>>>16&255,et=65535&pt,!(Ye<=Ae);){if(0===w)break e;w--,we+=i[a++]<<Ae,Ae+=8}if(!(240&Je)){for(rt=Ye,it=Je,ot=et;pt=n.distcode[ot+((we&(1<<rt+it)-1)>>rt)],Ye=pt>>>24,Je=pt>>>16&255,et=65535&pt,!(rt+Ye<=Ae);){if(0===w)break e;w--,we+=i[a++]<<Ae,Ae+=8}we>>>=rt,Ae-=rt,n.back+=rt}if(we>>>=Ye,Ae-=Ye,n.back+=Ye,64&Je){e.msg="invalid distance code",n.mode=ei;break}n.offset=et,n.extra=15&Je,n.mode=16203;case 16203:if(n.extra){for(_t=n.extra;Ae<_t;){if(0===w)break e;w--,we+=i[a++]<<Ae,Ae+=8}n.offset+=we&(1<<n.extra)-1,we>>>=n.extra,Ae-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=ei;break}n.mode=16204;case 16204:if(0===I)break e;if(ze=Ce-I,n.offset>ze){if(ze=n.offset-ze,ze>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=ei;break}ze>n.wnext?(ze-=n.wnext,qe=n.wsize-ze):qe=n.wnext-ze,ze>n.length&&(ze=n.length),$e=n.window}else $e=s,qe=k-n.offset,ze=n.length;ze>I&&(ze=I),I-=ze,n.length-=ze;do{s[k++]=$e[qe++]}while(--ze);0===n.length&&(n.mode=Zn);break;case 16205:if(0===I)break e;s[k++]=n.length,I--,n.mode=Zn;break;case Qn:if(n.wrap){for(;Ae<32;){if(0===w)break e;w--,we|=i[a++]<<Ae,Ae+=8}if(Ce-=I,e.total_out+=Ce,n.total+=Ce,4&n.wrap&&Ce&&(e.adler=n.check=n.flags?crc32_1(n.check,s,Ce,k-Ce):adler32_1(n.check,s,Ce,k-Ce)),Ce=I,4&n.wrap&&(n.flags?we:zswap32(we))!==n.check){e.msg="incorrect data check",n.mode=ei;break}we=0,Ae=0}n.mode=16207;case 16207:if(n.wrap&&n.flags){for(;Ae<32;){if(0===w)break e;w--,we+=i[a++]<<Ae,Ae+=8}if(4&n.wrap&&we!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=ei;break}we=0,Ae=0}n.mode=16208;case 16208:ft=ln;break e;case ei:ft=yn;break e;case 16210:return mn;default:return gn}return e.next_out=k,e.avail_out=I,e.next_in=a,e.avail_in=w,n.hold=we,n.bits=Ae,(n.wsize||Ce!==e.avail_out&&n.mode<ei&&(n.mode<Qn||r!==an))&&updatewindow(e,e.output,e.next_out,Ce-e.avail_out),Be-=e.avail_in,Ce-=e.avail_out,e.total_in+=Be,e.total_out+=Ce,n.total+=Ce,4&n.wrap&&Ce&&(e.adler=n.check=n.flags?crc32_1(n.check,s,Ce,e.next_out-Ce):adler32_1(n.check,s,Ce,e.next_out-Ce)),e.data_type=n.bits+(n.last?64:0)+(n.mode===Bn?128:0)+(n.mode===Hn||n.mode===Wn?256:0),(0===Be&&0===Ce||r===an)&&ft===dn&&(ft=bn),ft},inflateEnd:e=>{if(inflateStateCheck(e))return gn;let r=e.state;return r.window&&(r.window=null),e.state=null,dn},inflateGetHeader:(e,r)=>{if(inflateStateCheck(e))return gn;const n=e.state;return 2&n.wrap?(n.head=r,r.done=!1,dn):gn},inflateSetDictionary:(e,r)=>{const n=r.length;let i,s,a;return inflateStateCheck(e)?gn:(i=e.state,0!==i.wrap&&i.mode!==Mn?gn:i.mode===Mn&&(s=1,s=adler32_1(s,r,n,0),s!==i.check)?yn:(a=updatewindow(e,r,n,n),a?(i.mode=16210,mn):(i.havedict=1,dn)))},inflateInfo:"pako inflate (from Nodeca project)"};var oi=function GZheader(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const si=Object.prototype.toString,{Z_NO_FLUSH:ai,Z_FINISH:ci,Z_OK:ui,Z_STREAM_END:di,Z_NEED_DICT:li,Z_STREAM_ERROR:hi,Z_DATA_ERROR:fi,Z_MEM_ERROR:pi}=tr;function Inflate$1(e){this.options=Br.assign({chunkSize:65536,windowBits:15,to:""},e||{});const r=this.options;r.raw&&r.windowBits>=0&&r.windowBits<16&&(r.windowBits=-r.windowBits,0===r.windowBits&&(r.windowBits=-15)),!(r.windowBits>=0&&r.windowBits<16)||e&&e.windowBits||(r.windowBits+=32),r.windowBits>15&&r.windowBits<48&&(15&r.windowBits||(r.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Nr,this.strm.avail_out=0;let n=ii.inflateInit2(this.strm,r.windowBits);if(n!==ui)throw new Error(er[n]);if(this.header=new oi,ii.inflateGetHeader(this.strm,this.header),r.dictionary&&("string"==typeof r.dictionary?r.dictionary=Dr.string2buf(r.dictionary):"[object ArrayBuffer]"===si.call(r.dictionary)&&(r.dictionary=new Uint8Array(r.dictionary)),r.raw&&(n=ii.inflateSetDictionary(this.strm,r.dictionary),n!==ui)))throw new Error(er[n])}function inflate$1(e,r){const n=new Inflate$1(r);if(n.push(e),n.err)throw n.msg||er[n.err];return n.result}Inflate$1.prototype.push=function(e,r){const n=this.strm,i=this.options.chunkSize,s=this.options.dictionary;let a,k,w;if(this.ended)return!1;for(k=r===~~r?r:!0===r?ci:ai,"[object ArrayBuffer]"===si.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(0===n.avail_out&&(n.output=new Uint8Array(i),n.next_out=0,n.avail_out=i),a=ii.inflate(n,k),a===li&&s&&(a=ii.inflateSetDictionary(n,s),a===ui?a=ii.inflate(n,k):a===fi&&(a=li));n.avail_in>0&&a===di&&n.state.wrap>0&&0!==e[n.next_in];)ii.inflateReset(n),a=ii.inflate(n,k);switch(a){case hi:case fi:case li:case pi:return this.onEnd(a),this.ended=!0,!1}if(w=n.avail_out,n.next_out&&(0===n.avail_out||a===di))if("string"===this.options.to){let e=Dr.utf8border(n.output,n.next_out),r=n.next_out-e,s=Dr.buf2string(n.output,e);n.next_out=r,n.avail_out=i-r,r&&n.output.set(n.output.subarray(e,e+r),0),this.onData(s)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(a!==ui||0!==w){if(a===di)return a=ii.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(0===n.avail_in)break}}return!0},Inflate$1.prototype.onData=function(e){this.chunks.push(e)},Inflate$1.prototype.onEnd=function(e){e===ui&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=Br.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var gi={Inflate:Inflate$1,inflate:inflate$1,inflateRaw:function inflateRaw$1(e,r){return(r=r||{}).raw=!0,inflate$1(e,r)},ungzip:inflate$1,constants:tr};const{Deflate:yi,deflate:mi,deflateRaw:bi,gzip:ki}=Gr,{Inflate:wi,inflate:Ii,inflateRaw:_i,ungzip:Si}=gi;var Ei=Ii,vi=n(828985),Ai=n.n(vi),Ti=n(626093),Pi=n(901048).Buffer,Oi=Object.freeze({__proto__:null,encode:function(e){return e.reduce(((e,r)=>e+r.toString(16).padStart(2,"0")),"0x")},decode:function(e){0===e.indexOf("0x")&&(e=e.substr(2)),e.length%2==1&&(e="0"+e);let r=e.match(/.{2}/g);return null===r?i.Buffer.from([]):i.Buffer.from(r.map((e=>parseInt(e,16))))}});function v(e){return new TextDecoder("utf-8").decode(e)}function b(e){return(new TextEncoder).encode(e)}var Mi=Object.freeze({__proto__:null,decode:v,encode:b});function _(e){return I().encode(e)}var xi=Object.freeze({__proto__:null,encode:_,decode:function(e){return I().decode(e)}});function E(e){return i.Buffer.from(we.toByteArray(e))}var Bi=Object.freeze({__proto__:null,encode:function(e){return we.fromByteArray(e)},decode:E}),Ri=Object.freeze({__proto__:null,hex:Oi,utf8:Mi,bs58:xi,base64:Bi});function M(e){const r=new Map;return e.errors&&e.errors.forEach((e=>{var n;let i=null!==(n=e.msg)&&void 0!==n?n:e.name;r.set(e.code,i)})),r}function x(e,...r){if(e.args.length!=r.length)throw new Error("Invalid argument length");const n={};let i=0;return e.args.forEach((e=>{n[e.name]=r[i],i+=1})),n}function P(e,r={}){e.forEach((e=>{if("accounts"in e)P(e.accounts,r[e.name]);else if(void 0===r[e.name])throw new Error(`Invalid arguments: ${e.name} not provided.`)}))}function L(e){return e instanceof s.PublicKey?e:new s.PublicKey(e)}class T extends TypeError{constructor(e,r){let n;const{message:i,...s}=e,{path:a}=e;super(0===a.length?i:"At path: "+a.join(".")+" -- "+i),this.value=void 0,this.key=void 0,this.type=void 0,this.refinement=void 0,this.path=void 0,this.branch=void 0,this.failures=void 0,Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>{var i;return null!=(i=n)?i:n=[e,...r()]}}}function C(e){return"object"==typeof e&&null!=e}function z(e){return"string"==typeof e?JSON.stringify(e):""+e}function B(e,r,n,i){if(!0===e)return;!1===e?e={}:"string"==typeof e&&(e={message:e});const{path:s,branch:a}=r,{type:k}=n,{refinement:w,message:I="Expected a value of type `"+k+"`"+(w?" with refinement `"+w+"`":"")+", but received: `"+z(i)+"`"}=e;return{value:i,type:k,refinement:w,key:s[s.length-1],path:s,branch:a,...e,message:I}}function*O(e,r,n,i){var s;C(s=e)&&"function"==typeof s[Symbol.iterator]||(e=[e]);for(const s of e){const e=B(s,r,n,i);e&&(yield e)}}function*D(e,r,n){void 0===n&&(n={});const{path:i=[],branch:s=[e],coerce:a=!1,mask:k=!1}=n,w={path:i,branch:s};if(a&&(e=r.coercer(e,w),k&&"type"!==r.type&&C(r.schema)&&C(e)&&!Array.isArray(e)))for(const n in e)void 0===r.schema[n]&&delete e[n];let I=!0;for(const n of r.validator(e,w))I=!1,yield[n,void 0];for(let[n,we,Ae]of r.entries(e,w)){const r=D(we,Ae,{path:void 0===n?i:[...i,n],branch:void 0===n?s:[...s,we],coerce:a,mask:k});for(const i of r)i[0]?(I=!1,yield[i[0],void 0]):a&&(we=i[1],void 0===n?e=we:e instanceof Map?e.set(n,we):e instanceof Set?e.add(we):C(e)&&(e[n]=we))}if(I)for(const n of r.refiner(e,w))I=!1,yield[n,void 0];I&&(yield[void 0,e])}class N{constructor(e){this.TYPE=void 0,this.type=void 0,this.schema=void 0,this.coercer=void 0,this.validator=void 0,this.refiner=void 0,this.entries=void 0;const{type:r,schema:n,validator:i,refiner:s,coercer:a=(e=>e),entries:k=function*(){}}=e;this.type=r,this.schema=n,this.entries=k,this.coercer=a,this.validator=i?(e,r)=>O(i(e,r),r,this,e):()=>[],this.refiner=s?(e,r)=>O(s(e,r),r,this,e):()=>[]}assert(e){return function(e,r){const n=U(e,r);if(n[0])throw n[0]}(e,this)}create(e){return R(e,this)}is(e){return V(e,this)}mask(e){return function(e,r){const n=U(e,r,{coerce:!0,mask:!0});if(n[0])throw n[0];return n[1]}(e,this)}validate(e,r){return void 0===r&&(r={}),U(e,this,r)}}function R(e,r){const n=U(e,r,{coerce:!0});if(n[0])throw n[0];return n[1]}function V(e,r){return!U(e,r)[0]}function U(e,r,n){void 0===n&&(n={});const i=D(e,r,n),s=function(e){const{done:r,value:n}=e.next();return r?void 0:n}(i);return s[0]?[new T(s[0],(function*(){for(const e of i)e[0]&&(yield e[0])})),void 0]:[void 0,s[1]]}function j(e,r){return new N({type:e,schema:null,validator:r})}function $(e){return new N({type:"array",schema:e,*entries(r){if(e&&Array.isArray(r))for(const[n,i]of r.entries())yield[n,i,e]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||"Expected an array value, but received: "+z(e)})}function K(e){const r=z(e),n=typeof e;return new N({type:"literal",schema:"string"===n||"number"===n||"boolean"===n?e:null,validator:n=>n===e||"Expected the literal `"+r+"`, but received: "+z(n)})}function q(e){return new N({...e,validator:(r,n)=>null===r||e.validator(r,n),refiner:(r,n)=>null===r||e.refiner(r,n)})}function F(){return j("number",(e=>"number"==typeof e&&!isNaN(e)||"Expected a number, but received: "+z(e)))}function W(e){return new N({...e,validator:(r,n)=>void 0===r||e.validator(r,n),refiner:(r,n)=>void 0===r||e.refiner(r,n)})}function G(){return j("string",(e=>"string"==typeof e||"Expected a string, but received: "+z(e)))}function H(e){const r=Object.keys(e);return new N({type:"type",schema:e,*entries(n){if(C(n))for(const i of r)yield[i,n[i],e[i]]},validator:e=>C(e)||"Expected an object, but received: "+z(e)})}function J(e){const r=e.map((e=>e.type)).join(" | ");return new N({type:"union",schema:null,coercer:(r,n)=>(e.find((e=>{const[n]=e.validate(r,{coerce:!0});return!n}))||Z()).coercer(r,n),validator(n,i){const s=[];for(const r of e){const[...e]=D(n,r,i),[a]=e;if(!a[0])return[];for(const[r]of e)r&&s.push(r)}return["Expected the value to satisfy a union of `"+r+"`, but received: "+z(n),...s]}})}function Z(){return j("unknown",(()=>!0))}async function X(e,r,n){if(r.length<=99)return await Q(e,r,n);{const i=function(e,r){return Array.apply(0,new Array(Math.ceil(e.length/99))).map(((r,n)=>e.slice(99*n,99*(n+1))))}(r);return(await Promise.all(i.map((r=>Q(e,r,n))))).flat()}}async function Q(e,r,n){const i=null!=n?n:e.commitment;return(await e.getMultipleAccountsInfo(r,i)).map(((e,n)=>null===e?null:{publicKey:r[n],account:e}))}async function Y(e,r,n,i,a){n&&n.length>0&&r.sign(...n);const k=r._compile(),w=k.serialize(),I=r._serialize(w).toString("base64"),we={encoding:"base64",commitment:null!=i?i:e.commitment};if(a){const e=(Array.isArray(a)?a:k.nonProgramIds()).map((e=>e.toBase58()));we.accounts={encoding:"base64",addresses:e}}n&&(we.sigVerify=!0);const Ae=[I,we],Be=R(await e._rpcRequest("simulateTransaction",Ae),Di);if("error"in Be){let e;if("data"in Be.error&&(e=Be.error.data.logs,e&&Array.isArray(e))){const r="\n    ",n=r+e.join(r);console.error(Be.error.message,n)}throw new s.SendTransactionError("failed to simulate transaction: "+Be.error.message,e)}return Be.result}const Ci=nt(Z());function nt(e){return J([H({jsonrpc:K("2.0"),id:G(),result:e}),H({jsonrpc:K("2.0"),id:G(),error:H({code:Z(),message:G(),data:W(j("any",(()=>!0)))})})])}const Di=(Ni=H({err:q(J([H({}),G()])),logs:q($(G())),accounts:W(q($(q(H({executable:j("boolean",(e=>"boolean"==typeof e)),owner:G(),lamports:F(),data:$(G()),rentEpoch:W(F())}))))),unitsConsumed:W(F())}),function tt(e){return function(e,r,n){return new N({...e,coercer:(i,s)=>V(i,r)?e.coercer(n(i),s):e.coercer(i,s)})}(nt(e),Ci,(r=>"error"in r?r:{...r,result:R(r.result,e)}))}(H({context:H({slot:F()}),value:Ni})));var Ni,zi=Object.freeze({__proto__:null,invoke:async function(e,r,n,i){e=L(e),i||(i=lt());const a=new s.Transaction;if(a.add(new s.TransactionInstruction({programId:e,keys:null!=r?r:[],data:n})),void 0===i.sendAndConfirm)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");return await i.sendAndConfirm(a,[])},getMultipleAccounts:X,simulateTransaction:Y});class st{constructor(e,r,n){this.connection=e,this.wallet=r,this.opts=n,this.publicKey=r.publicKey}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(e,r){throw new Error("Provider local is not available on browser.")}static env(){throw new Error("Provider env is not available on browser.")}async sendAndConfirm(e,r,n){var i;void 0===n&&(n=this.opts),e.feePayer=this.wallet.publicKey,e.recentBlockhash=(await this.connection.getRecentBlockhash(n.preflightCommitment)).blockhash,e=await this.wallet.signTransaction(e),(null!=r?r:[]).forEach((r=>{e.partialSign(r)}));const a=e.serialize();try{return await ct(this.connection,a,n)}catch(r){if(r instanceof ut){const n=await this.connection.getTransaction(_(e.signature),{commitment:"confirmed"});if(n){const e=null===(i=n.meta)||void 0===i?void 0:i.logMessages;throw e?new s.SendTransactionError(r.message,e):r}throw r}throw r}}async sendAll(e,r){void 0===r&&(r=this.opts);const n=await this.connection.getRecentBlockhash(r.preflightCommitment);let i=e.map((e=>{var r;let i=e.tx,s=null!==(r=e.signers)&&void 0!==r?r:[];return i.feePayer=this.wallet.publicKey,i.recentBlockhash=n.blockhash,s.forEach((e=>{i.partialSign(e)})),i}));const s=await this.wallet.signAllTransactions(i),a=[];for(let e=0;e<i.length;e+=1){const n=s[e].serialize();a.push(await ct(this.connection,n,r))}return a}async simulate(e,r,n,i){e.feePayer=this.wallet.publicKey,e.recentBlockhash=(await this.connection.getLatestBlockhash(null!=n?n:this.connection.commitment)).blockhash,e=await this.wallet.signTransaction(e);const s=await Y(this.connection,e,r,n,i);if(s.value.err)throw new at(s.value);return s.value}}class at extends Error{constructor(e,r){super(r),this.simulationResponse=e}}async function ct(e,r,n){const i=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment},s=await e.sendRawTransaction(r,i),a=(await e.confirmTransaction(s,n&&n.commitment)).value;if(a.err)throw new ut(`Raw transaction ${s} failed (${JSON.stringify(a)})`);return s}class ut extends Error{constructor(e){super(e)}}function dt(e){Wi=e}function lt(){return null===Wi?st.local():Wi}let Wi=null;const ji=new Set(["anchor-deprecated-state","debug-logs"]),Li=new Map;function mt(e){return void 0!==Li.get(e)}var Ki=Object.freeze({__proto__:null,set:function(e){if(!ji.has(e))throw new Error("Invalid feature");Li.set(e,!0)},isSet:mt});class gt extends Error{constructor(e){super(e),this.name="IdlError"}}class wt{constructor(e){this.stack=e}static parse(e){var r;const n=/^Program (\w*) invoke/,i=/^Program \w* success/,a=[];for(let k=0;k<e.length;k++){if(i.exec(e[k])){a.pop();continue}const w=null===(r=n.exec(e[k]))||void 0===r?void 0:r[1];w&&a.push(new s.PublicKey(w))}return new wt(a)}}class vt extends Error{constructor(e,r,n,i,s,a){super(n.join("\n").replace("Program log: ","")),this.errorLogs=n,this.logs=i,this.error={errorCode:e,errorMessage:r,comparedValues:a,origin:s},this._programErrorStack=wt.parse(i)}static parse(e){if(!e)return null;const r=e.findIndex((e=>e.startsWith("Program log: AnchorError")));if(-1===r)return null;const n=e[r],i=[n];let a;if(r+1<e.length)if("Program log: Left:"===e[r+1]){const n=/^Program log: (.*)$/,k=n.exec(e[r+2])[1],w=n.exec(e[r+4])[1];a=[new s.PublicKey(k),new s.PublicKey(w)],i.push(...e.slice(r+1,r+5))}else if(e[r+1].startsWith("Program log: Left:")){const n=/^Program log: (Left|Right): (.*)$/,s=n.exec(e[r+1])[2],k=n.exec(e[r+2])[2];i.push(...e.slice(r+1,r+3)),a=[s,k]}const k=/^Program log: AnchorError occurred\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n),w=/^Program log: AnchorError thrown in (.*):(\d*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n),I=/^Program log: AnchorError caused by account: (.*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n);if(k){const[r,n,s]=k.slice(1,4),w={code:r,number:parseInt(n)};return new vt(w,s,i,e,void 0,a)}if(w){const[r,n,s,k,I]=w.slice(1,6),we={code:s,number:parseInt(k)},Ae={file:r,line:parseInt(n)};return new vt(we,I,i,e,Ae,a)}if(I){const[r,n,s,k]=I.slice(1,5),w=r,we={code:n,number:parseInt(s)};return new vt(we,k,i,e,w,a)}return null}get program(){return this._programErrorStack.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){return this._programErrorStack.stack}toString(){return this.message}}class bt extends Error{constructor(e,r,n){super(),this.code=e,this.msg=r,this.logs=n,n&&(this._programErrorStack=wt.parse(n))}static parse(e,r){const n=e.toString();let i,s;if(n.includes("custom program error:")){let e=n.split("custom program error: ");if(2!==e.length)return null;i=e[1]}else{const e=n.match(/"Custom":([0-9]+)}/g);if(!e||e.length>1)return null;i=e[0].match(/([0-9]+)/g)[0]}try{s=parseInt(i)}catch(e){return null}let a=r.get(s);return void 0!==a?new bt(s,a,e.logs):(a=Ui.get(s),void 0!==a?new bt(s,a,e.logs):null)}get program(){var e;return null===(e=this._programErrorStack)||void 0===e?void 0:e.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){var e;return null===(e=this._programErrorStack)||void 0===e?void 0:e.stack}toString(){return this.msg}}function At(e,r){mt("debug-logs")&&console.log("Translating error:",e);const n=vt.parse(e.logs);if(n)return n;const i=bt.parse(e,r);if(i)return i;if(e.logs){const r={get:function(r,n){return"programErrorStack"===n?r.programErrorStack.stack:"program"===n?r.programErrorStack.stack[e.programErrorStack.stack.length-1]:Reflect.get(...arguments)}};return e.programErrorStack=wt.parse(e.logs),new Proxy(e,r)}return e}const Fi={InstructionMissing:100,InstructionFallbackNotFound:101,InstructionDidNotDeserialize:102,InstructionDidNotSerialize:103,IdlInstructionStub:1e3,IdlInstructionInvalidProgram:1001,ConstraintMut:2e3,ConstraintHasOne:2001,ConstraintSigner:2002,ConstraintRaw:2003,ConstraintOwner:2004,ConstraintRentExempt:2005,ConstraintSeeds:2006,ConstraintExecutable:2007,ConstraintState:2008,ConstraintAssociated:2009,ConstraintAssociatedInit:2010,ConstraintClose:2011,ConstraintAddress:2012,ConstraintZero:2013,ConstraintTokenMint:2014,ConstraintTokenOwner:2015,ConstraintMintMintAuthority:2016,ConstraintMintFreezeAuthority:2017,ConstraintMintDecimals:2018,ConstraintSpace:2019,RequireViolated:2500,RequireEqViolated:2501,RequireKeysEqViolated:2502,RequireNeqViolated:2503,RequireKeysNeqViolated:2504,RequireGtViolated:2505,RequireGteViolated:2506,AccountDiscriminatorAlreadySet:3e3,AccountDiscriminatorNotFound:3001,AccountDiscriminatorMismatch:3002,AccountDidNotDeserialize:3003,AccountDidNotSerialize:3004,AccountNotEnoughKeys:3005,AccountNotMutable:3006,AccountOwnedByWrongProgram:3007,InvalidProgramId:3008,InvalidProgramExecutable:3009,AccountNotSigner:3010,AccountNotSystemOwned:3011,AccountNotInitialized:3012,AccountNotProgramData:3013,AccountNotAssociatedTokenAccount:3014,AccountSysvarMismatch:3015,AccountReallocExceedsLimit:3016,AccountDuplicateReallocs:3017,StateInvalidAddress:4e3,DeclaredProgramIdMismatch:4100,Deprecated:5e3},Ui=new Map([[Fi.InstructionMissing,"8 byte instruction identifier not provided"],[Fi.InstructionFallbackNotFound,"Fallback functions are not supported"],[Fi.InstructionDidNotDeserialize,"The program could not deserialize the given instruction"],[Fi.InstructionDidNotSerialize,"The program could not serialize the given instruction"],[Fi.IdlInstructionStub,"The program was compiled without idl instructions"],[Fi.IdlInstructionInvalidProgram,"The transaction was given an invalid program for the IDL instruction"],[Fi.ConstraintMut,"A mut constraint was violated"],[Fi.ConstraintHasOne,"A has_one constraint was violated"],[Fi.ConstraintSigner,"A signer constraint was violated"],[Fi.ConstraintRaw,"A raw constraint was violated"],[Fi.ConstraintOwner,"An owner constraint was violated"],[Fi.ConstraintRentExempt,"A rent exemption constraint was violated"],[Fi.ConstraintSeeds,"A seeds constraint was violated"],[Fi.ConstraintExecutable,"An executable constraint was violated"],[Fi.ConstraintState,"A state constraint was violated"],[Fi.ConstraintAssociated,"An associated constraint was violated"],[Fi.ConstraintAssociatedInit,"An associated init constraint was violated"],[Fi.ConstraintClose,"A close constraint was violated"],[Fi.ConstraintAddress,"An address constraint was violated"],[Fi.ConstraintZero,"Expected zero account discriminant"],[Fi.ConstraintTokenMint,"A token mint constraint was violated"],[Fi.ConstraintTokenOwner,"A token owner constraint was violated"],[Fi.ConstraintMintMintAuthority,"A mint mint authority constraint was violated"],[Fi.ConstraintMintFreezeAuthority,"A mint freeze authority constraint was violated"],[Fi.ConstraintMintDecimals,"A mint decimals constraint was violated"],[Fi.ConstraintSpace,"A space constraint was violated"],[Fi.RequireViolated,"A require expression was violated"],[Fi.RequireEqViolated,"A require_eq expression was violated"],[Fi.RequireKeysEqViolated,"A require_keys_eq expression was violated"],[Fi.RequireNeqViolated,"A require_neq expression was violated"],[Fi.RequireKeysNeqViolated,"A require_keys_neq expression was violated"],[Fi.RequireGtViolated,"A require_gt expression was violated"],[Fi.RequireGteViolated,"A require_gte expression was violated"],[Fi.AccountDiscriminatorAlreadySet,"The account discriminator was already set on this account"],[Fi.AccountDiscriminatorNotFound,"No 8 byte discriminator was found on the account"],[Fi.AccountDiscriminatorMismatch,"8 byte discriminator did not match what was expected"],[Fi.AccountDidNotDeserialize,"Failed to deserialize the account"],[Fi.AccountDidNotSerialize,"Failed to serialize the account"],[Fi.AccountNotEnoughKeys,"Not enough account keys given to the instruction"],[Fi.AccountNotMutable,"The given account is not mutable"],[Fi.AccountOwnedByWrongProgram,"The given account is owned by a different program than expected"],[Fi.InvalidProgramId,"Program ID was not as expected"],[Fi.InvalidProgramExecutable,"Program account is not executable"],[Fi.AccountNotSigner,"The given account did not sign"],[Fi.AccountNotSystemOwned,"The given account is not owned by the system program"],[Fi.AccountNotInitialized,"The program expected this account to be already initialized"],[Fi.AccountNotProgramData,"The given account is not a program data account"],[Fi.AccountNotAssociatedTokenAccount,"The given account is not the associated token account"],[Fi.AccountSysvarMismatch,"The given public key does not match the required sysvar"],[Fi.AccountReallocExceedsLimit,"The account reallocation exceeds the MAX_PERMITTED_DATA_INCREASE limit"],[Fi.AccountDuplicateReallocs,"The account was duplicated for more than one reallocation"],[Fi.StateInvalidAddress,"The given state account does not have the correct address"],[Fi.DeclaredProgramIdMismatch,"The declared program id does not match the actual program id"],[Fi.Deprecated,"The API being used is deprecated and should no longer be used"]]);var Et=function(){return Et=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++)for(var s in r=arguments[n])Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s]);return e},Et.apply(this,arguments)};function It(e){return e.toLowerCase()}var Vi=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],qi=/[^A-Z0-9]+/gi;function xt(e,r,n){return r instanceof RegExp?e.replace(r,n):r.reduce((function(e,r){return e.replace(r,n)}),e)}class Lt{static fieldLayout(e,r){const n=void 0!==e.name?Be()(e.name):void 0;switch(e.type){case"bool":return ze.bool(n);case"u8":return ze.u8(n);case"i8":return ze.i8(n);case"u16":return ze.u16(n);case"i16":return ze.i16(n);case"u32":return ze.u32(n);case"i32":return ze.i32(n);case"f32":return ze.f32(n);case"u64":return ze.u64(n);case"i64":return ze.i64(n);case"f64":return ze.f64(n);case"u128":return ze.u128(n);case"i128":return ze.i128(n);case"bytes":return ze.vecU8(n);case"string":return ze.str(n);case"publicKey":return ze.publicKey(n);default:if("vec"in e.type)return ze.vec(Lt.fieldLayout({name:void 0,type:e.type.vec},r),n);if("option"in e.type)return ze.option(Lt.fieldLayout({name:void 0,type:e.type.option},r),n);if("defined"in e.type){const i=e.type.defined;if(void 0===r)throw new gt("User defined types not provided");const s=r.filter((e=>e.name===i));if(1!==s.length)throw new gt(`Type not found: ${JSON.stringify(e)}`);return Lt.typeDefLayout(s[0],r,n)}if("array"in e.type){let i=e.type.array[0],s=e.type.array[1],a=Lt.fieldLayout({name:void 0,type:i},r);return ze.array(a,s,n)}throw new Error(`Not yet implemented: ${e}`)}}static typeDefLayout(e,r=[],n){if("struct"===e.type.kind){const i=e.type.fields.map((e=>Lt.fieldLayout(e,r)));return ze.struct(i,n)}if("enum"===e.type.kind){let i=e.type.variants.map((e=>{const n=Be()(e.name);if(void 0===e.fields)return ze.struct([],n);const i=e.fields.map((e=>{if(!e.hasOwnProperty("name"))throw new Error("Tuple enum variants not yet implemented.");return Lt.fieldLayout(e,r)}));return ze.struct(i,n)}));return void 0!==n?ze.rustEnum(i).replicate(n):ze.rustEnum(i,n)}throw new Error(`Unknown type kint: ${e}`)}}class Tt{constructor(e){this.idl=e,this.ixLayout=Tt.parseIxLayout(e);const r=new Map;e.instructions.forEach((e=>{const n=zt("global",e.name);r.set(I().encode(n),{layout:this.ixLayout.get(e.name),name:e.name})})),e.state&&e.state.methods.map((e=>{const n=zt("state",e.name);r.set(I().encode(n),{layout:this.ixLayout.get(e.name),name:e.name})})),this.sighashLayouts=r}encode(e,r){return this._encode("global",e,r)}encodeState(e,r){return this._encode("state",e,r)}_encode(e,r,n){const s=i.Buffer.alloc(1e3),a=Be()(r),k=this.ixLayout.get(a);if(!k)throw new Error(`Unknown method: ${a}`);const w=k.encode(n,s),I=s.slice(0,w);return i.Buffer.concat([zt(e,r),I])}static parseIxLayout(e){const r=(e.state?e.state.methods:[]).map((r=>{let n=r.args.map((r=>{var n,i;return Lt.fieldLayout(r,Array.from([...null!==(n=e.accounts)&&void 0!==n?n:[],...null!==(i=e.types)&&void 0!==i?i:[]]))}));const i=Be()(r.name);return[i,ze.struct(n,i)]})).concat(e.instructions.map((r=>{let n=r.args.map((r=>{var n,i;return Lt.fieldLayout(r,Array.from([...null!==(n=e.accounts)&&void 0!==n?n:[],...null!==(i=e.types)&&void 0!==i?i:[]]))}));const i=Be()(r.name);return[i,ze.struct(n,i)]})));return new Map(r)}decode(e,r="hex"){"string"==typeof e&&(e="hex"===r?i.Buffer.from(e,"hex"):I().decode(e));let n=I().encode(e.slice(0,8)),s=e.slice(8);const a=this.sighashLayouts.get(n);return a?{data:a.layout.decode(s),name:a.name}:null}format(e,r){return Ct.format(e,r,this.idl)}}class Ct{static format(e,r,n){const i=n.instructions.filter((r=>e.name===r.name))[0];if(void 0===i)return console.error("Invalid instruction given"),null;const s=i.args.map((r=>({name:r.name,type:Ct.formatIdlType(r.type),data:Ct.formatIdlData(r,e.data[r.name],n.types)}))),a=Ct.flattenIdlAccounts(i.accounts);return{args:s,accounts:r.map(((e,r)=>r<a.length?{name:a[r].name,...e}:{name:void 0,...e}))}}static formatIdlType(e){if("string"==typeof e)return e;if("vec"in e)return`Vec<${this.formatIdlType(e.vec)}>`;if("option"in e)return`Option<${this.formatIdlType(e.option)}>`;if("defined"in e)return e.defined;if("array"in e)return`Array<${e.array[0]}; ${e.array[1]}>`;throw new Error(`Unknown IDL type: ${e}`)}static formatIdlData(e,r,n){if("string"==typeof e.type)return r.toString();if(e.type.hasOwnProperty("vec"))return"["+r.map((r=>this.formatIdlData({name:"",type:e.type.vec},r))).join(", ")+"]";if(e.type.hasOwnProperty("option"))return null===r?"null":this.formatIdlData({name:"",type:e.type.option},r,n);if(e.type.hasOwnProperty("defined")){if(void 0===n)throw new Error("User defined types not provided");const i=n.filter((r=>r.name===e.type.defined));if(1!==i.length)throw new Error(`Type not found: ${e.type.defined}`);return Ct.formatIdlDataDefined(i[0],r,n)}return"unknown"}static formatIdlDataDefined(e,r,n){if("struct"===e.type.kind){const i=e.type;return"{ "+Object.keys(r).map((e=>{const s=i.fields.filter((r=>r.name===e))[0];if(void 0===s)throw new Error("Unable to find type");return e+": "+Ct.formatIdlData(s,r[e],n)})).join(", ")+" }"}if(0===e.type.variants.length)return"{}";if(e.type.variants[0].name){const i=e.type.variants,s=Object.keys(r)[0],a=r[s],k=Object.keys(a).map((e=>{var r;const k=a[e],w=null===(r=i[s])||void 0===r?void 0:r.filter((r=>r.name===e))[0];if(void 0===w)throw new Error("Unable to find variant");return e+": "+Ct.formatIdlData(w,k,n)})).join(", "),w=Be()(s,{pascalCase:!0});return 0===k.length?w:`${w} { ${k} }`}return"Tuple formatting not yet implemented"}static flattenIdlAccounts(e,r){return e.map((e=>{const n=function(e){const r=e.replace(/([A-Z])/g," $1");return r.charAt(0).toUpperCase()+r.slice(1)}(e.name);if(e.hasOwnProperty("accounts")){const i=r?`${r} > ${n}`:n;return Ct.flattenIdlAccounts(e.accounts,i)}return{...e,name:r?`${r} > ${n}`:n}})).flat()}}function zt(e,r){var n;let s=`${e}:${void 0===n&&(n={}),function Pt(e,r){return void 0===r&&(r={}),function(e,r){void 0===r&&(r={});for(var n=r.splitRegexp,i=void 0===n?Vi:n,s=r.stripRegexp,a=void 0===s?qi:s,k=r.transform,w=void 0===k?It:k,I=r.delimiter,we=void 0===I?" ":I,Ae=xt(xt(e,i,"$1\0$2"),a,"\0"),Be=0,Ce=Ae.length;"\0"===Ae.charAt(Be);)Be++;for(;"\0"===Ae.charAt(Ce-1);)Ce--;return Ae.slice(Be,Ce).split("\0").map(w).join(we)}(e,Et({delimiter:"."},r))}(r,Et({delimiter:"_"},n))}`;return i.Buffer.from(Ce.sha256.digest(s)).slice(0,8)}function Bt(e,r){if("enum"===r.type.kind){let n=r.type.variants.map((r=>void 0===r.fields?0:r.fields.map((r=>{if("object"!=typeof r||!("name"in r))throw new Error("Tuple enum variants not yet implemented.");return Ot(e,r.type)})).reduce(((e,r)=>e+r))));return Math.max(...n)+1}return void 0===r.type.fields?0:r.type.fields.map((r=>Ot(e,r.type))).reduce(((e,r)=>e+r),0)}function Ot(e,r){var n,i;switch(r){case"bool":case"u8":case"i8":case"bytes":case"string":return 1;case"i16":case"u16":return 2;case"u32":case"i32":case"f32":return 4;case"u64":case"i64":case"f64":return 8;case"u128":case"i128":return 16;case"publicKey":return 32;default:if("vec"in r)return 1;if("option"in r)return 1+Ot(e,r.option);if("coption"in r)return 4+Ot(e,r.coption);if("defined"in r){const s=null!==(i=null===(n=e.types)||void 0===n?void 0:n.filter((e=>e.name===r.defined)))&&void 0!==i?i:[];if(1!==s.length)throw new gt(`Type not found: ${JSON.stringify(r)}`);return Bt(e,s[0])}if("array"in r){let n=r.array[0],i=r.array[1];return Ot(e,n)*i}throw new Error(`Invalid type ${JSON.stringify(r)}`)}}const Hi=8;class Nt{constructor(e){if(void 0===e.accounts)return void(this.accountLayouts=new Map);const r=e.accounts.map((r=>[r.name,Lt.typeDefLayout(r,e.types)]));this.accountLayouts=new Map(r),this.idl=e}async encode(e,r){const n=i.Buffer.alloc(1e3),s=this.accountLayouts.get(e);if(!s)throw new Error(`Unknown account: ${e}`);const a=s.encode(r,n);let k=n.slice(0,a),w=Nt.accountDiscriminator(e);return i.Buffer.concat([w,k])}decode(e,r){if(Nt.accountDiscriminator(e).compare(r.slice(0,8)))throw new Error("Invalid account discriminator");return this.decodeUnchecked(e,r)}decodeUnchecked(e,r){const n=r.slice(8),i=this.accountLayouts.get(e);if(!i)throw new Error(`Unknown account: ${e}`);return i.decode(n)}memcmp(e,r){const n=Nt.accountDiscriminator(e);return{offset:0,bytes:I().encode(r?i.Buffer.concat([n,r]):n)}}size(e){var r;return 8+(null!==(r=Bt(this.idl,e))&&void 0!==r?r:0)}static accountDiscriminator(e){return i.Buffer.from(Ce.sha256.digest(`account:${Be()(e,{pascalCase:!0})}`)).slice(0,8)}}class Rt{constructor(e){if(void 0===e.events)return void(this.layouts=new Map);const r=e.events.map((r=>{let n={name:r.name,type:{kind:"struct",fields:r.fields.map((e=>({name:e.name,type:e.type})))}};return[r.name,Lt.typeDefLayout(n,e.types)]}));this.layouts=new Map(r),this.discriminators=new Map(void 0===e.events?[]:e.events.map((e=>[we.fromByteArray(Vt(e.name)),e.name])))}decode(e){let r;try{r=i.Buffer.from(we.toByteArray(e))}catch(e){return null}const n=we.fromByteArray(r.slice(0,8)),s=this.discriminators.get(n);if(void 0===s)return null;const a=this.layouts.get(s);if(!a)throw new Error(`Unknown event: ${s}`);return{data:a.decode(r.slice(8)),name:s}}}function Vt(e){return i.Buffer.from(Ce.sha256.digest(`event:${e}`)).slice(0,8)}class Ut{constructor(e){if(void 0===e.state)throw new Error("Idl state not defined.");this.layout=Lt.typeDefLayout(e.state.struct,e.types)}async encode(e,r){const n=i.Buffer.alloc(1e3),s=this.layout.encode(r,n),a=await jt(e),k=n.slice(0,s);return i.Buffer.concat([a,k])}decode(e){const r=e.slice(8);return this.layout.decode(r)}}async function jt(e){let r=mt("anchor-deprecated-state")?"account":"state";return i.Buffer.from(Ce.sha256.digest(`${r}:${e}`)).slice(0,8)}class $t{constructor(e){if(void 0===e.types)return void(this.typeLayouts=new Map);const r=e.types.map((r=>[r.name,Lt.typeDefLayout(r,e.types)]));this.typeLayouts=new Map(r),this.idl=e}encode(e,r){const n=i.Buffer.alloc(1e3),s=this.typeLayouts.get(e);if(!s)throw new Error(`Unknown type: ${e}`);const a=s.encode(r,n);return n.slice(0,a)}decode(e,r){const n=this.typeLayouts.get(e);if(!n)throw new Error(`Unknown type: ${e}`);return n.decode(r)}}class Kt{constructor(e){this.instruction=new Tt(e),this.accounts=new Nt(e),this.events=new Rt(e),e.state&&(this.state=new Ut(e)),this.types=new $t(e)}}var Gi="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};class Wt{constructor(e,r){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=r}makeDestinationObject(){return{}}decode(e,r){throw new Error("Layout is abstract")}encode(e,r,n){throw new Error("Layout is abstract")}getSpan(e,r){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const r=Object.create(this.constructor.prototype);return Object.assign(r,this),r.property=e,r}fromArray(e){}}var $i=Wt;class Ht extends Wt{isCount(){throw new Error("ExternalLayout is abstract")}}class Jt extends Ht{constructor(e,r,n){if(!(e instanceof Wt))throw new TypeError("layout must be a Layout");if(void 0===r)r=0;else if(!Number.isInteger(r))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=r}isCount(){return this.layout instanceof Zt||this.layout instanceof Xt}decode(e,r){return void 0===r&&(r=0),this.layout.decode(e,r+this.offset)}encode(e,r,n){return void 0===n&&(n=0),this.layout.encode(e,r,n+this.offset)}}class Zt extends Wt{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r){return void 0===r&&(r=0),e.readUIntLE(r,this.span)}encode(e,r,n){return void 0===n&&(n=0),r.writeUIntLE(e,n,this.span),this.span}}class Xt extends Wt{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r){return void 0===r&&(r=0),e.readUIntBE(r,this.span)}encode(e,r,n){return void 0===n&&(n=0),r.writeUIntBE(e,n,this.span),this.span}}const Yi=Math.pow(2,32);function Yt(e){const r=Math.floor(e/Yi);return{hi32:r,lo32:e-r*Yi}}function te(e,r){return e*Yi+r}class ee extends Wt{constructor(e){super(8,e)}decode(e,r){void 0===r&&(r=0);const n=e.readUInt32LE(r);return te(e.readUInt32LE(r+4),n)}encode(e,r,n){void 0===n&&(n=0);const i=Yt(e);return r.writeUInt32LE(i.lo32,n),r.writeUInt32LE(i.hi32,n+4),8}}class ne extends Wt{constructor(e){super(8,e)}decode(e,r){void 0===r&&(r=0);const n=e.readUInt32LE(r);return te(e.readInt32LE(r+4),n)}encode(e,r,n){void 0===n&&(n=0);const i=Yt(e);return r.writeUInt32LE(i.lo32,n),r.writeInt32LE(i.hi32,n+4),8}}class re extends Wt{constructor(e,r,n){if(!Array.isArray(e)||!e.reduce(((e,r)=>e&&r instanceof Wt),!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof r&&void 0===n&&(n=r,r=void 0);for(const r of e)if(0>r.span&&void 0===r.property)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce(((e,r)=>e+r.getSpan()),0)}catch(e){}super(i,r),this.fields=e,this.decodePrefixes=!!n}getSpan(e,r){if(0<=this.span)return this.span;void 0===r&&(r=0);let n=0;try{n=this.fields.reduce(((n,i)=>{const s=i.getSpan(e,r);return r+=s,n+s}),0)}catch(e){throw new RangeError("indeterminate span")}return n}decode(e,r){void 0===r&&(r=0);const n=this.makeDestinationObject();for(const i of this.fields)if(void 0!==i.property&&(n[i.property]=i.decode(e,r)),r+=i.getSpan(e,r),this.decodePrefixes&&e.length===r)break;return n}encode(e,r,n){void 0===n&&(n=0);const i=n;let s=0,a=0;for(const i of this.fields){let k=i.span;if(a=0<k?k:0,void 0!==i.property){const s=e[i.property];void 0!==s&&(a=i.encode(s,r,n),0>k&&(k=i.getSpan(r,n)))}s=n,n+=k}return s+a-i}fromArray(e){const r=this.makeDestinationObject();for(const n of this.fields)void 0!==n.property&&0<e.length&&(r[n.property]=e.shift());return r}layoutFor(e){if("string"!=typeof e)throw new TypeError("property must be string");for(const r of this.fields)if(r.property===e)return r}offsetOf(e){if("string"!=typeof e)throw new TypeError("property must be string");let r=0;for(const n of this.fields){if(n.property===e)return r;0>n.span?r=-1:0<=r&&(r+=n.span)}}}class oe{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class ie extends oe{constructor(e,r){if(!(e instanceof Ht&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(r||e.property||"variant"),this.layout=e}decode(e,r){return this.layout.decode(e,r)}encode(e,r,n){return this.layout.encode(e,r,n)}}class se extends Wt{constructor(e,r,n){const i=e instanceof Zt||e instanceof Xt;if(i)e=new ie(new Jt(e));else if(e instanceof Ht&&e.isCount())e=new ie(e);else if(!(e instanceof oe))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(void 0===r&&(r=null),!(null===r||r instanceof Wt))throw new TypeError("defaultLayout must be null or a Layout");if(null!==r){if(0>r.span)throw new Error("defaultLayout must have constant span");void 0===r.property&&(r=r.replicate("content"))}let s=-1;r&&(s=r.span,0<=s&&i&&(s+=e.layout.span)),super(s,n),this.discriminator=e,this.usesPrefixDiscriminator=i,this.defaultLayout=r,this.registry={};let a=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(e){return a(e)},this.configGetSourceVariant=function(e){a=e.bind(this)}}getSpan(e,r){if(0<=this.span)return this.span;void 0===r&&(r=0);const n=this.getVariant(e,r);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,r)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const r=this.registry[e[this.discriminator.property]];if(r&&(!r.layout||e.hasOwnProperty(r.property)))return r}else for(const r in this.registry){const n=this.registry[r];if(e.hasOwnProperty(n.property))return n}throw new Error("unable to infer src variant")}decode(e,r){let n;void 0===r&&(r=0);const i=this.discriminator,s=i.decode(e,r);let a=this.registry[s];if(void 0===a){let k=0;a=this.defaultLayout,this.usesPrefixDiscriminator&&(k=i.layout.span),n=this.makeDestinationObject(),n[i.property]=s,n[a.property]=this.defaultLayout.decode(e,r+k)}else n=a.decode(e,r);return n}encode(e,r,n){void 0===n&&(n=0);const i=this.getSourceVariant(e);if(void 0===i){const i=this.discriminator,s=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=i.layout.span),i.encode(e[i.property],r,n),a+s.encode(e[s.property],r,n+a)}return i.encode(e,r,n)}addVariant(e,r,n){const i=new ae(this,e,r,n);return this.registry[e]=i,i}getVariant(e,r){let n=e;return Pi.isBuffer(e)&&(void 0===r&&(r=0),n=this.discriminator.decode(e,r)),this.registry[n]}}class ae extends Wt{constructor(e,r,n,i){if(!(e instanceof se))throw new TypeError("union must be a Union");if(!Number.isInteger(r)||0>r)throw new TypeError("variant must be a (non-negative) integer");if("string"==typeof n&&void 0===i&&(i=n,n=null),n){if(!(n instanceof Wt))throw new TypeError("layout must be a Layout");if(null!==e.defaultLayout&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!=typeof i)throw new TypeError("variant must have a String property")}let s=e.span;0>e.span&&(s=n?n.span:0,0<=s&&e.usesPrefixDiscriminator&&(s+=e.discriminator.layout.span)),super(s,i),this.union=e,this.variant=r,this.layout=n||null}getSpan(e,r){if(0<=this.span)return this.span;void 0===r&&(r=0);let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),n+this.layout.getSpan(e,r+n)}decode(e,r){const n=this.makeDestinationObject();if(void 0===r&&(r=0),this!==this.union.getVariant(e,r))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,r+i):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,r,n){void 0===n&&(n=0);let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,r,n);let s=i;if(this.layout&&(this.layout.encode(e[this.property],r,n+i),s+=this.layout.getSpan(r,n+i),0<=this.union.span&&s>this.union.span))throw new Error("encoded variant overruns containing union");return s}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}class ce extends Wt{constructor(e,r){if(!(e instanceof Ht&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof Ht||(n=e),super(n,r),this.length=e}getSpan(e,r){let n=this.span;return 0>n&&(n=this.length.decode(e,r)),n}decode(e,r){void 0===r&&(r=0);let n=this.span;return 0>n&&(n=this.length.decode(e,r)),e.slice(r,r+n)}encode(e,r,n){let i=this.length;if(this.length instanceof Ht&&(i=e.length),!Pi.isBuffer(e)||i!==e.length)throw new TypeError((s="Blob.encode",(this.property?s+"["+this.property+"]":s)+" requires (length "+i+") Buffer as src"));var s;if(n+i>r.length)throw new RangeError("encoding overruns Buffer");return r.write(e.toString("hex"),n,i,"hex"),this.length instanceof Ht&&this.length.encode(i,r,n),i}}var ue=(e,r,n)=>new Jt(e,r,n),de=e=>new Zt(1,e),le=e=>new Zt(4,e),he=e=>new ee(e),pe=e=>new ne(e),fe=(e,r,n)=>new re(e,r,n),me=(e,r,n)=>new se(e,r,n),ye=(e,r)=>new ce(e,r);class ge{constructor(e){}encode(e,r){switch(Be()(e)){case"initializeMint":return function({decimals:e,mintAuthority:r,freezeAuthority:n}){return be({initializeMint:{decimals:e,mintAuthority:r.toBuffer(),freezeAuthorityOption:!!n,freezeAuthority:(n||s.PublicKey.default).toBuffer()}})}(r);case"initializeAccount":return be({initializeAccount:{}});case"initializeMultisig":return function({m:e}){return be({initializeMultisig:{m:e}})}(r);case"transfer":return function({amount:e}){return be({transfer:{amount:e}})}(r);case"approve":return function({amount:e}){return be({approve:{amount:e}})}(r);case"revoke":return be({revoke:{}});case"setAuthority":return function({authorityType:e,newAuthority:r}){return be({setAuthority:{authorityType:e,newAuthority:r}})}(r);case"mintTo":return function({amount:e}){return be({mintTo:{amount:e}})}(r);case"burn":return function({amount:e}){return be({burn:{amount:e}})}(r);case"closeAccount":return be({closeAccount:{}});case"freezeAccount":return be({freezeAccount:{}});case"thawAccount":return be({thawAccount:{}});case"transferChecked":return function({amount:e,decimals:r}){return be({transferChecked:{amount:e,decimals:r}})}(r);case"approvedChecked":return function({amount:e,decimals:r}){return be({approveChecked:{amount:e,decimals:r}})}(r);case"mintToChecked":return function({amount:e,decimals:r}){return be({mintToChecked:{amount:e,decimals:r}})}(r);case"burnChecked":return function({amount:e,decimals:r}){return be({burnChecked:{amount:e,decimals:r}})}(r);case"intializeAccount2":return function({authority:e}){return be({initilaizeAccount2:{authority:e}})}(r);case"syncNative":return be({syncNative:{}});case"initializeAccount3":return function({authority:e}){return be({initializeAccount3:{authority:e}})}(r);case"initializeMultisig2":return function({m:e}){return be({initializeMultisig2:{m:e}})}(r);case"initializeMint2":return function({decimals:e,mintAuthority:r,freezeAuthority:n}){return be({encodeInitializeMint2:{decimals:e,mintAuthority:r,freezeAuthority:n}})}(r);default:throw new Error(`Invalid instruction: ${e}`)}}encodeState(e,r){throw new Error("SPL token does not have state")}}const Zi=me(de("instruction"));function ve(e){return ye(32,e)}function be(e){let r=Pi.alloc(Ji),n=Zi.encode(e,r);return r.slice(0,n)}Zi.addVariant(0,fe([de("decimals"),ye(32,"mintAuthority"),de("freezeAuthorityOption"),ve("freezeAuthority")]),"initializeMint"),Zi.addVariant(1,fe([]),"initializeAccount"),Zi.addVariant(2,fe([de("m")]),"initializeMultisig"),Zi.addVariant(3,fe([he("amount")]),"transfer"),Zi.addVariant(4,fe([he("amount")]),"approve"),Zi.addVariant(5,fe([]),"revoke"),Zi.addVariant(6,fe([de("authorityType"),de("newAuthorityOption"),ve("newAuthority")]),"setAuthority"),Zi.addVariant(7,fe([he("amount")]),"mintTo"),Zi.addVariant(8,fe([he("amount")]),"burn"),Zi.addVariant(9,fe([]),"closeAccount"),Zi.addVariant(10,fe([]),"freezeAccount"),Zi.addVariant(11,fe([]),"thawAccount"),Zi.addVariant(12,fe([he("amount"),de("decimals")]),"transferChecked"),Zi.addVariant(13,fe([he("amount"),de("decimals")]),"approvedChecked"),Zi.addVariant(14,fe([he("amount"),de("decimals")]),"mintToChecked"),Zi.addVariant(15,fe([he("amount"),de("decimals")]),"burnedChecked"),Zi.addVariant(16,fe([ve("authority")]),"InitializeAccount2"),Zi.addVariant(17,fe([]),"syncNative"),Zi.addVariant(18,fe([ve("authority")]),"initializeAccount3"),Zi.addVariant(19,fe([de("m")]),"initializeMultisig2"),Zi.addVariant(20,fe([de("decimals"),ve("mintAuthority"),de("freezeAuthorityOption"),ve("freezeAuthority")]),"initializeMint2");const Ji=Math.max(...Object.values(Zi.registry).map((e=>e.span)));class _e{constructor(e){}encode(e,r){throw new Error("SPL token does not have state")}decode(e){throw new Error("SPL token does not have state")}}function Se(e){return new ke(ye(8),(e=>Le.fromBuffer(e)),(e=>e.toBuffer()),e)}function Ee(e){return new ke(ye(32),(e=>new s.PublicKey(e)),(e=>e.toBuffer()),e)}function Ie(e,r){return new Me(e,r)}class ke extends $i{constructor(e,r,n,i){super(e.span,i),this.layout=e,this.decoder=r,this.encoder=n}decode(e,r){return this.decoder(this.layout.decode(e,r))}encode(e,r,n){return this.layout.encode(this.encoder(e),r,n)}getSpan(e,r){return this.layout.getSpan(e,r)}}class Me extends $i{constructor(e,r){super(-1,r),this.layout=e,this.discriminator=le()}encode(e,r,n=0){return null==e?this.layout.span+this.discriminator.encode(0,r,n):(this.discriminator.encode(1,r,n),this.layout.encode(e,r,n+4)+4)}decode(e,r=0){const n=this.discriminator.decode(e,r);if(0===n)return null;if(1===n)return this.layout.decode(e,r+4);throw new Error("Invalid coption "+this.layout.property)}getSpan(e,r=0){return this.layout.getSpan(e,r+4)+4}}class Le extends(k()){toBuffer(){const e=super.toArray().reverse(),r=Pi.from(e);if(8===r.length)return r;if(r.length>=8)throw new Error("u64 too large");const n=Pi.alloc(8);return r.copy(n),n}static fromBuffer(e){if(8!==e.length)throw new Error(`Invalid buffer length: ${e.length}`);return new Le([...e].reverse().map((e=>`00${e.toString(16)}`.slice(-2))).join(""),16)}}class Te{constructor(e){this.idl=e}async encode(e,r){switch(e){case"token":{const e=Pi.alloc(165),n=Xi.encode(r,e);return e.slice(0,n)}case"mint":{const e=Pi.alloc(82),n=Qi.encode(r,e);return e.slice(0,n)}default:throw new Error(`Invalid account name: ${e}`)}}decode(e,r){return this.decodeUnchecked(e,r)}decodeUnchecked(e,r){switch(e){case"token":return function(e){return Xi.decode(e)}(r);case"mint":return function(e){return Qi.decode(e)}(r);default:throw new Error(`Invalid account name: ${e}`)}}memcmp(e,r){switch(e){case"token":return{dataSize:165};case"mint":return{dataSize:82};default:throw new Error(`Invalid account name: ${e}`)}}size(e){var r;return null!==(r=Bt(this.idl,e))&&void 0!==r?r:0}}const Qi=fe([Ie(Ee(),"mintAuthority"),Se("supply"),de("decimals"),("isInitialized",new ke(de(),(function xe(e){if(0===e)return!1;if(1===e)return!0;throw new Error("Invalid bool: "+e)}),(function Pe(e){return e?1:0}),"isInitialized")),Ie(Ee(),"freezeAuthority")]);const Xi=fe([Ee("mint"),Ee("authority"),Se("amount"),Ie(Ee(),"delegate"),de("state"),Ie(Se(),"isNative"),Se("delegatedAmount"),Ie(Ee(),"closeAuthority")]);class Oe{constructor(e){}decode(e){throw new Error("SPL token program does not have events")}}class De{constructor(e){}encode(e,r){throw new Error("SPL token does not have user-defined types")}decode(e,r){throw new Error("SPL token does not have user-defined types")}}class Ne{constructor(e){this.instruction=new ge(e),this.accounts=new Te(e),this.events=new Oe(e),this.state=new _e(e),this.types=new De(e)}}class Re{constructor(e){}encode(e,r){switch(Be()(e)){case"createAccount":return function({lamports:e,space:r,owner:n}){return Ke({createAccount:{lamports:e,space:r,owner:n.toBuffer()}})}(r);case"assign":return function({owner:e}){return Ke({assign:{owner:e.toBuffer()}})}(r);case"transfer":return function({lamports:e}){return Ke({transfer:{lamports:e}})}(r);case"createAccountWithSeed":return function({base:e,seed:r,lamports:n,space:i,owner:s}){return Ke({createAccountWithSeed:{base:e.toBuffer(),seed:r,lamports:n,space:i,owner:s.toBuffer()}},eo.getVariant(3).span+r.length)}(r);case"advanceNonceAccount":return function({authorized:e}){return Ke({advanceNonceAccount:{authorized:e.toBuffer()}})}(r);case"withdrawNonceAccount":return function({lamports:e}){return Ke({withdrawNonceAccount:{lamports:e}})}(r);case"initializeNonceAccount":return function({authorized:e}){return Ke({initializeNonceAccount:{authorized:e.toBuffer()}})}(r);case"authorizeNonceAccount":return function({authorized:e}){return Ke({authorizeNonceAccount:{authorized:e.toBuffer()}})}(r);case"allocate":return function({space:e}){return Ke({allocate:{space:e}})}(r);case"allocateWithSeed":return function({base:e,seed:r,space:n,owner:i}){return Ke({allocateWithSeed:{base:e.toBuffer(),seed:r,space:n,owner:i.toBuffer()}},eo.getVariant(9).span+r.length)}(r);case"assignWithSeed":return function({base:e,seed:r,owner:n}){return Ke({assignWithSeed:{base:e.toBuffer(),seed:r,owner:n.toBuffer()}},eo.getVariant(10).span+r.length)}(r);case"transferWithSeed":return function({lamports:e,seed:r,owner:n}){return Ke({transferWithSeed:{lamports:e,seed:r,owner:n.toBuffer()}},eo.getVariant(11).span+r.length)}(r);default:throw new Error(`Invalid instruction: ${e}`)}}encodeState(e,r){throw new Error("System does not have state")}}class Ve extends $i{constructor(e){super(-1,e),this.property=e,this.layout=fe([le("length"),le("lengthPadding"),ye(ue(le(),-8),"chars")],this.property)}encode(e,r,n=0){if(null==e)return this.layout.span;const i={chars:Pi.from(e,"utf8")};return this.layout.encode(i,r,n)}decode(e,r=0){return this.layout.decode(e,r).chars.toString()}getSpan(e,r=0){return le().span+le().span+new(k())(new Uint8Array(e).slice(r,r+4),10,"le").toNumber()}}function Ue(e){return new Ve(e)}function je(e){return ye(32,e)}const eo=me(le("instruction"));function Ke(e,r){const n=Pi.alloc(null!=r?r:to),i=eo.encode(e,n);return void 0===r?n.slice(0,i):n}eo.addVariant(0,fe([pe("lamports"),pe("space"),je("owner")]),"createAccount"),eo.addVariant(1,fe([je("owner")]),"assign"),eo.addVariant(2,fe([pe("lamports")]),"transfer"),eo.addVariant(3,fe([je("base"),Ue("seed"),pe("lamports"),pe("space"),je("owner")]),"createAccountWithSeed"),eo.addVariant(4,fe([je("authorized")]),"advanceNonceAccount"),eo.addVariant(5,fe([pe("lamports")]),"withdrawNonceAccount"),eo.addVariant(6,fe([je("authorized")]),"initializeNonceAccount"),eo.addVariant(7,fe([je("authorized")]),"authorizeNonceAccount"),eo.addVariant(8,fe([pe("space")]),"allocate"),eo.addVariant(9,fe([je("base"),Ue("seed"),pe("space"),je("owner")]),"allocateWithSeed"),eo.addVariant(10,fe([je("base"),Ue("seed"),je("owner")]),"assignWithSeed"),eo.addVariant(11,fe([pe("lamports"),Ue("seed"),je("owner")]),"transferWithSeed");const to=Math.max(...Object.values(eo.registry).map((e=>e.span)));class Fe{constructor(e){}encode(e,r){throw new Error("System does not have state")}decode(e){throw new Error("System does not have state")}}class We{constructor(e){this.idl=e}async encode(e,r){if("nonce"===e){const e=Pi.alloc(s.NONCE_ACCOUNT_LENGTH),n=ro.encode(r,e);return e.slice(0,n)}throw new Error(`Invalid account name: ${e}`)}decode(e,r){return this.decodeUnchecked(e,r)}decodeUnchecked(e,r){if("nonce"===e)return function(e){return ro.decode(e)}(r);throw new Error(`Invalid account name: ${e}`)}memcmp(e,r){if("nonce"===e)return{dataSize:s.NONCE_ACCOUNT_LENGTH};throw new Error(`Invalid account name: ${e}`)}size(e){var r;return null!==(r=Bt(this.idl,e))&&void 0!==r?r:0}}class Ge extends $i{constructor(e,r,n,i){super(e.span,i),this.layout=e,this.decoder=r,this.encoder=n}decode(e,r){return this.decoder(this.layout.decode(e,r))}encode(e,r,n){return this.layout.encode(this.encoder(e),r,n)}getSpan(e,r){return this.layout.getSpan(e,r)}}function He(e){return new Ge(ye(32),(e=>new s.PublicKey(e)),(e=>e.toBuffer()),e)}const ro=fe([le("version"),le("state"),He("authorizedPubkey"),He("nonce"),fe([he("lamportsPerSignature")],"feeCalculator")]);class Ze{constructor(e){}decode(e){throw new Error("System program does not have events")}}class Xe{constructor(e){}encode(e,r){throw new Error("System does not have user-defined types")}decode(e,r){throw new Error("System does not have user-defined types")}}class Qe{constructor(e){this.instruction=new Re(e),this.accounts=new We(e),this.events=new Ze(e),this.state=new Fe(e),this.types=new Xe(e)}}var no=Object.freeze({__proto__:null,hash:function(e){return(0,Ce.sha256)(e)}});function tn(e,r,n){const a=i.Buffer.concat([e.toBuffer(),i.Buffer.from(r),n.toBuffer()]),k=Ce.sha256.digest(a);return new s.PublicKey(i.Buffer.from(k))}function en(e,r){let n=i.Buffer.alloc(0);e.forEach((function(e){if(e.length>32)throw new TypeError("Max seed length exceeded");n=i.Buffer.concat([n,rn(e)])})),n=i.Buffer.concat([n,r.toBuffer(),i.Buffer.from("ProgramDerivedAddress")]);let a=(0,Ce.sha256)(new Uint8Array(n)),w=new(k())(a,16).toArray(void 0,32);if(s.PublicKey.isOnCurve(new Uint8Array(w)))throw new Error("Invalid seeds, address must fall off the curve");return new s.PublicKey(w)}function nn(e,r){let n,s=255;for(;0!=s;){try{n=en(e.concat(i.Buffer.from([s])),r)}catch(e){if(e instanceof TypeError)throw e;s--;continue}return[n,s]}throw new Error("Unable to find a viable program address nonce")}const rn=e=>e instanceof i.Buffer?e:e instanceof Uint8Array?i.Buffer.from(e.buffer,e.byteOffset,e.byteLength):i.Buffer.from(e);async function on(e,...r){let n=[i.Buffer.from([97,110,99,104,111,114])];r.forEach((e=>{n.push(e instanceof i.Buffer?e:L(e).toBuffer())}));const[a]=await s.PublicKey.findProgramAddress(n,L(e));return a}var io=Object.freeze({__proto__:null,createWithSeedSync:tn,createProgramAddressSync:en,findProgramAddressSync:nn,associated:on});const oo=new s.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),so=new s.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");var ao=Object.freeze({__proto__:null,TOKEN_PROGRAM_ID:oo,ASSOCIATED_PROGRAM_ID:so,associatedAddress:async function({mint:e,owner:r}){return(await s.PublicKey.findProgramAddress([r.toBuffer(),oo.toBuffer(),e.toBuffer()],so))[0]}}),co={exports:{}};!function(e,r){var n="undefined"!=typeof self?self:Gi,i=function(){function t(){this.fetch=!1,this.DOMException=n.DOMException}return t.prototype=n,new t}();!function(e){!function(r){var n="URLSearchParams"in e,i="Symbol"in e&&"iterator"in Symbol,s="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),a="FormData"in e,k="ArrayBuffer"in e;if(k)var w=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],I=ArrayBuffer.isView||function(e){return e&&w.indexOf(Object.prototype.toString.call(e))>-1};function u(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function d(e){return"string"!=typeof e&&(e=String(e)),e}function l(e){var r={next:function(){var r=e.shift();return{done:void 0===r,value:r}}};return i&&(r[Symbol.iterator]=function(){return r}),r}function h(e){this.map={},e instanceof h?e.forEach((function(e,r){this.append(r,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(r){this.append(r,e[r])}),this)}function p(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function f(e){return new Promise((function(r,n){e.onload=function(){r(e.result)},e.onerror=function(){n(e.error)}}))}function m(e){var r=new FileReader,n=f(r);return r.readAsArrayBuffer(e),n}function y(e){if(e.slice)return e.slice(0);var r=new Uint8Array(e.byteLength);return r.set(new Uint8Array(e)),r.buffer}function g(){return this.bodyUsed=!1,this._initBody=function(e){var r;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:s&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:a&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():k&&s&&(r=e)&&DataView.prototype.isPrototypeOf(r)?(this._bodyArrayBuffer=y(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):k&&(ArrayBuffer.prototype.isPrototypeOf(e)||I(e))?this._bodyArrayBuffer=y(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},s&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(m)}),this.text=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return function(e){var r=new FileReader,n=f(r);return r.readAsText(e),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var r=new Uint8Array(e),n=new Array(r.length),i=0;i<r.length;i++)n[i]=String.fromCharCode(r[i]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a&&(this.formData=function(){return this.text().then(b)}),this.json=function(){return this.text().then(JSON.parse)},this}h.prototype.append=function(e,r){e=u(e),r=d(r);var n=this.map[e];this.map[e]=n?n+", "+r:r},h.prototype.delete=function(e){delete this.map[u(e)]},h.prototype.get=function(e){return e=u(e),this.has(e)?this.map[e]:null},h.prototype.has=function(e){return this.map.hasOwnProperty(u(e))},h.prototype.set=function(e,r){this.map[u(e)]=d(r)},h.prototype.forEach=function(e,r){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(r,this.map[n],n,this)},h.prototype.keys=function(){var e=[];return this.forEach((function(r,n){e.push(n)})),l(e)},h.prototype.values=function(){var e=[];return this.forEach((function(r){e.push(r)})),l(e)},h.prototype.entries=function(){var e=[];return this.forEach((function(r,n){e.push([n,r])})),l(e)},i&&(h.prototype[Symbol.iterator]=h.prototype.entries);var we=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function v(e,r){var n,i,s=(r=r||{}).body;if(e instanceof v){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,r.headers||(this.headers=new h(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,s||null==e._bodyInit||(s=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=r.credentials||this.credentials||"same-origin",!r.headers&&this.headers||(this.headers=new h(r.headers)),this.method=(i=(n=r.method||this.method||"GET").toUpperCase(),we.indexOf(i)>-1?i:n),this.mode=r.mode||this.mode||null,this.signal=r.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&s)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(s)}function b(e){var r=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),i=n.shift().replace(/\+/g," "),s=n.join("=").replace(/\+/g," ");r.append(decodeURIComponent(i),decodeURIComponent(s))}})),r}function A(e,r){r||(r={}),this.type="default",this.status=void 0===r.status?200:r.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in r?r.statusText:"OK",this.headers=new h(r.headers),this.url=r.url||"",this._initBody(e)}v.prototype.clone=function(){return new v(this,{body:this._bodyInit})},g.call(v.prototype),g.call(A.prototype),A.prototype.clone=function(){return new A(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},A.error=function(){var e=new A(null,{status:0,statusText:""});return e.type="error",e};var Ae=[301,302,303,307,308];A.redirect=function(e,r){if(-1===Ae.indexOf(r))throw new RangeError("Invalid status code");return new A(null,{status:r,headers:{location:e}})},r.DOMException=e.DOMException;try{new r.DOMException}catch(e){r.DOMException=function(e,r){this.message=e,this.name=r;var n=Error(e);this.stack=n.stack},r.DOMException.prototype=Object.create(Error.prototype),r.DOMException.prototype.constructor=r.DOMException}function S(e,n){return new Promise((function(i,a){var k=new v(e,n);if(k.signal&&k.signal.aborted)return a(new r.DOMException("Aborted","AbortError"));var w=new XMLHttpRequest;function c(){w.abort()}w.onload=function(){var e,r,n={status:w.status,statusText:w.statusText,headers:(e=w.getAllResponseHeaders()||"",r=new h,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),i=n.shift().trim();if(i){var s=n.join(":").trim();r.append(i,s)}})),r)};n.url="responseURL"in w?w.responseURL:n.headers.get("X-Request-URL");var s="response"in w?w.response:w.responseText;i(new A(s,n))},w.onerror=function(){a(new TypeError("Network request failed"))},w.ontimeout=function(){a(new TypeError("Network request failed"))},w.onabort=function(){a(new r.DOMException("Aborted","AbortError"))},w.open(k.method,k.url,!0),"include"===k.credentials?w.withCredentials=!0:"omit"===k.credentials&&(w.withCredentials=!1),"responseType"in w&&s&&(w.responseType="blob"),k.headers.forEach((function(e,r){w.setRequestHeader(r,e)})),k.signal&&(k.signal.addEventListener("abort",c),w.onreadystatechange=function(){4===w.readyState&&k.signal.removeEventListener("abort",c)}),w.send(void 0===k._bodyInit?null:k._bodyInit)}))}S.polyfill=!0,e.fetch||(e.fetch=S,e.Headers=h,e.Request=v,e.Response=A),r.Headers=h,r.Request=v,r.Response=A,r.fetch=S,Object.defineProperty(r,"__esModule",{value:!0})}({})}(i),i.fetch.ponyfill=!0,delete i.fetch.polyfill;var s=i;(r=s.fetch).default=s.fetch,r.fetch=s.fetch,r.Headers=s.Headers,r.Request=s.Request,r.Response=s.Response,e.exports=r}(co,co.exports);var uo=function Ft(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}(co.exports);async function hn(e,r){const n=await e.getAccountInfo(r);if(null===n)throw new Error("program account not found");const{program:i}=fn(n.data),s=await e.getAccountInfo(i.programdataAddress);if(null===s)throw new Error("program data account not found");const{programData:a}=fn(s.data);return a}const lo=ze.rustEnum([ze.struct([],"uninitialized"),ze.struct([ze.option(ze.publicKey(),"authorityAddress")],"buffer"),ze.struct([ze.publicKey("programdataAddress")],"program"),ze.struct([ze.u64("slot"),ze.option(ze.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,ze.u32());function fn(e){return lo.decode(e)}var ho=Object.freeze({__proto__:null,verifiedBuild:async function(e,r,n=5){const i=`https://api.apr.dev/api/v0/program/${r.toString()}/latest?limit=${n}`,[s,a]=await Promise.all([hn(e,r),uo(i)]),k=(await a.json()).filter((e=>!e.aborted&&"Built"===e.state&&"Verified"===e.verified));if(0===k.length)return null;const w=k[0];return s.slot.toNumber()!==w.verified_slot?null:w},fetchData:hn,decodeUpgradeableLoaderState:fn}),fo=Object.freeze({__proto__:null,sha256:no,rpc:zi,publicKey:io,bytes:Ri,token:ao,features:Ki,registry:ho});const po=ze.struct([ze.publicKey("authority"),ze.vecU8("data")]);function wn(e,r){var n,i;let s={};const a=e.args?e.args.length:0;if(r.length>a){if(r.length!==a+1)throw new Error(`provided too many arguments ${r} to instruction ${null==e?void 0:e.name} expecting: ${null!==(i=null===(n=e.args)||void 0===n?void 0:n.map((e=>e.name)))&&void 0!==i?i:[]}`);s=r.pop()}return[r,s]}class vn{static build(e,r,n){if("_inner"===e.name)throw new gt("the _inner name is reserved");const o=(...i)=>{const[a,k]=wn(e,[...i]);P(e.accounts,k.accounts);const w=o.accounts(k.accounts);return void 0!==k.remainingAccounts&&w.push(...k.remainingAccounts),mt("debug-logs")&&console.log("Outgoing account metas:",w),new s.TransactionInstruction({keys:w,programId:n,data:r(e.name,x(e,...a))})};return o.accounts=r=>vn.accountsArray(r,e.accounts,e.name),o}static accountsArray(e,r,n){return e?r.map((r=>{if(void 0!==("accounts"in r?r.accounts:void 0)){const i=e[r.name];return vn.accountsArray(i,r.accounts,n).flat()}{const i=r;let s;try{s=L(e[r.name])}catch(e){throw new Error(`Wrong input type for account "${r.name}" in the instruction accounts object${void 0!==n?' for instruction "'+n+'"':""}. Expected PublicKey or string.`)}return{pubkey:s,isWritable:i.isMut,isSigner:i.isSigner}}})).flat():[]}}class browser_bn{static build(e,r,n,i){return async(...s)=>{var a;const k=r(...s),[,w]=wn(e,[...s]);if(void 0===i.sendAndConfirm)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");try{return await i.sendAndConfirm(k,null!==(a=w.signers)&&void 0!==a?a:[],w.options)}catch(e){throw At(e,n)}}}}class An{static build(e,r){return(...n)=>{var i,a,k;const[,w]=wn(e,[...n]),I=new s.Transaction;if(w.preInstructions&&w.instructions)throw new Error("instructions is deprecated, use preInstructions");return null===(i=w.preInstructions)||void 0===i||i.forEach((e=>I.add(e))),null===(a=w.instructions)||void 0===a||a.forEach((e=>I.add(e))),I.add(r(...n)),null===(k=w.postInstructions)||void 0===k||k.forEach((e=>I.add(e))),I}}}class _n{constructor(e,r,n=lt(),i=new Kt(e)){this.provider=n,this.coder=i,this._idl=e,this._programId=r,this._address=Sn(r),this._sub=null;const[a,k,w]=(()=>{var a;let k={},w={},I={};return null===(a=e.state)||void 0===a||a.methods.forEach((a=>{const we=vn.build(a,((e,r)=>i.instruction.encodeState(e,r)),r);we.accounts=e=>{const i=function(e,r,n,i){if("new"===n.name){const[n]=nn([],e);if(void 0===r.wallet)throw new Error("This function requires the Provider interface implementor to have a 'wallet' field.");return[{pubkey:r.wallet.publicKey,isWritable:!1,isSigner:!0},{pubkey:Sn(e),isWritable:!0,isSigner:!1},{pubkey:n,isWritable:!1,isSigner:!1},{pubkey:s.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:e,isWritable:!1,isSigner:!1}]}return P(n.accounts,i),[{pubkey:Sn(e),isWritable:!0,isSigner:!1}]}(r,n,a,e);return i.concat(vn.accountsArray(e,a.accounts,a.name))};const Ae=An.build(a,we),Ce=browser_bn.build(a,Ae,M(e),n),ze=Be()(a.name);k[ze]=we,w[ze]=Ae,I[ze]=Ce})),[k,w,I]})();this.instruction=a,this.transaction=k,this.rpc=w}get programId(){return this._programId}async fetch(){const e=this.address(),r=await this.provider.connection.getAccountInfo(e);if(null===r)throw new Error(`Account does not exist ${e.toString()}`);const n=this._idl.state;if(!n)throw new Error("State is not specified in IDL.");if((await jt(n.struct.name)).compare(r.data.slice(0,8)))throw new Error("Invalid account discriminator");return this.coder.state.decode(r.data)}address(){return this._address}subscribe(e){if(null!==this._sub)return this._sub.ee;const r=new(Ai()),n=this.provider.connection.onAccountChange(this.address(),(e=>{const n=this.coder.state.decode(e.data);r.emit("change",n)}),e);return this._sub={ee:r,listener:n},r}unsubscribe(){null!==this._sub&&this.provider.connection.removeAccountChangeListener(this._sub.listener).then((async()=>{this._sub=null})).catch(console.error)}}function Sn(e){let[r]=nn([],e);return tn(r,"unversioned",e)}class En{constructor(e,r,n,i,s){this._idlAccount=r,this._programId=n,this._provider=null!=i?i:lt(),this._coder=null!=s?s:new Kt(e),this._size=this._coder.accounts.size(r)}get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}async fetchNullable(e,r){const n=await this.getAccountInfo(e,r);return null===n?null:this._coder.accounts.decode(this._idlAccount.name,n.data)}async fetch(e,r){const n=await this.fetchNullable(e,r);if(null===n)throw new Error(`Account does not exist ${e.toString()}`);return n}async fetchMultiple(e,r){return(await X(this._provider.connection,e.map((e=>L(e))),r)).map((e=>null==e?null:this._coder.accounts.decode(this._idlAccount.name,null==e?void 0:e.account.data)))}async all(e){return(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[{memcmp:this.coder.accounts.memcmp(this._idlAccount.name,e instanceof Pi?e:void 0)},...Array.isArray(e)?e:[]]})).map((({pubkey:e,account:r})=>({publicKey:e,account:this._coder.accounts.decode(this._idlAccount.name,r.data)})))}subscribe(e,r){const n=go.get(e.toString());if(n)return n.ee;const i=new(Ai());e=L(e);const s=this._provider.connection.onAccountChange(e,(e=>{const r=this._coder.accounts.decode(this._idlAccount.name,e.data);i.emit("change",r)}),r);return go.set(e.toString(),{ee:i,listener:s}),i}async unsubscribe(e){let r=go.get(e.toString());r?go&&await this._provider.connection.removeAccountChangeListener(r.listener).then((()=>{go.delete(e.toString())})).catch(console.error):console.warn("Address is not subscribed")}async createInstruction(e,r){const n=this.size;if(void 0===this._provider.wallet)throw new Error("This function requires the Provider interface implementor to have a 'wallet' field.");return s.SystemProgram.createAccount({fromPubkey:this._provider.wallet.publicKey,newAccountPubkey:e.publicKey,space:null!=r?r:n,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(null!=r?r:n),programId:this._programId})}async associated(...e){const r=await this.associatedAddress(...e);return await this.fetch(r)}async associatedAddress(...e){return await on(this._programId,...e)}async getAccountInfo(e,r){return await this._provider.connection.getAccountInfo(L(e),r)}}const go=new Map;class xn{constructor(e,r,n){this._programId=e,this._provider=r,this._eventParser=new Pn(e,n),this._eventCallbacks=new Map,this._eventListeners=new Map,this._listenerIdCount=0}addEventListener(e,r){var n;let i=this._listenerIdCount;return this._listenerIdCount+=1,e in this._eventCallbacks||this._eventListeners.set(e,[]),this._eventListeners.set(e,(null!==(n=this._eventListeners.get(e))&&void 0!==n?n:[]).concat(i)),this._eventCallbacks.set(i,[e,r]),void 0!==this._onLogsSubscriptionId||(this._onLogsSubscriptionId=this._provider.connection.onLogs(this._programId,((e,r)=>{if(!e.err)for(const n of this._eventParser.parseLogs(e.logs)){const i=this._eventListeners.get(n.name);i&&i.forEach((i=>{const s=this._eventCallbacks.get(i);if(s){const[,i]=s;i(n.data,r.slot,e.signature)}}))}}))),i}async removeEventListener(e){const r=this._eventCallbacks.get(e);if(!r)throw new Error(`Event listener ${e} doesn't exist!`);const[n]=r;let i=this._eventListeners.get(n);if(!i)throw new Error(`Event listeners don't exist for ${n}!`);this._eventCallbacks.delete(e),i=i.filter((r=>r!==e)),0===i.length&&this._eventListeners.delete(n),0==this._eventCallbacks.size&&(Ti.ok(0===this._eventListeners.size),void 0!==this._onLogsSubscriptionId&&(await this._provider.connection.removeOnLogsListener(this._onLogsSubscriptionId),this._onLogsSubscriptionId=void 0))}}class Pn{constructor(e,r){this.coder=r,this.programId=e}*parseLogs(e){const r=new Tn(e),n=new Ln;let i=r.next();for(;null!==i;){let[e,s,a]=this.handleLog(n,i);e&&(yield e),s&&n.push(s),a&&n.pop(),i=r.next()}}handleLog(e,r){return e.stack.length>0&&e.program()===this.programId.toString()?this.handleProgramLog(r):[null,...this.handleSystemLog(r)]}handleProgramLog(e){if(e.startsWith("Program log: ")||e.startsWith("Program data: ")){const r=e.startsWith("Program log: ")?e.slice(13):e.slice(14);return[this.coder.events.decode(r),null,!1]}return[null,...this.handleSystemLog(e)]}handleSystemLog(e){const r=e.split(":")[0];return null!==r.match(/^Program (.*) success/g)?[null,!0]:r.startsWith(`Program ${this.programId.toString()} invoke`)?[this.programId.toString(),!1]:r.includes("invoke")?["cpi",!1]:[null,!1]}}class Ln{constructor(){this.stack=[]}program(){return Ti.ok(this.stack.length>0),this.stack[this.stack.length-1]}push(e){this.stack.push(e)}pop(){Ti.ok(this.stack.length>0),this.stack.pop()}}class Tn{constructor(e){this.logs=e}next(){if(0===this.logs.length)return null;let e=this.logs[0];return this.logs=this.logs.slice(1),e}}const yo=new s.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");function zn(){return new Ne(mo)}const mo={version:"0.1.0",name:"spl_token",instructions:[{name:"initializeMint",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"decimals",type:"u8"},{name:"mintAuthority",type:"publicKey"},{name:"freezeAuthority",type:{coption:"publicKey"}}]},{name:"initializeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[]},{name:"initializeMultisig",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"m",type:"u8"}]},{name:"transfer",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"approve",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"delegate",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"revoke",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"setAuthority",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"authorityType",type:"u8"},{name:"newAuthority",type:{coption:"publicKey"}}]},{name:"mintTo",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"burn",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"closeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!1}],args:[]},{name:"freezeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"thawAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"transferChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"approveChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"delegate",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"mintToChecked",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"burnChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"initializeAccount2",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"authority",type:"publicKey"}]},{name:"syncNative",accounts:[{name:"account",isMut:!0,isSigner:!1}],args:[]},{name:"initializeAccount3",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1}],args:[{name:"authority",type:"publicKey"}]},{name:"initializeMultisig2",accounts:[{name:"account",isMut:!0,isSigner:!1}],args:[{name:"m",type:"u8"}]},{name:"initializeMint2",accounts:[{name:"mint",isMut:!0,isSigner:!1}],args:[{name:"decimals",type:"u8"},{name:"mintAuthority",type:"publicKey"},{name:"freezeAuthority",type:{coption:"publicKey"}}]}],accounts:[{name:"mint",type:{kind:"struct",fields:[{name:"mintAuthority",type:{coption:"publicKey"}},{name:"supply",type:"u64"},{name:"decimals",type:"u8"},{name:"isInitialized",type:"bool"},{name:"freezeAuthority",type:{coption:"publicKey"}}]}},{name:"token",type:{kind:"struct",fields:[{name:"mint",type:"publicKey"},{name:"authority",type:"publicKey"},{name:"amount",type:"u64"},{name:"delegate",type:{coption:"publicKey"}},{name:"state",type:"u8"},{name:"isNative",type:{coption:"u64"}},{name:"delegatedAmount",type:"u64"},{name:"closeAuthority",type:{coption:"publicKey"}}]}}]};class On{constructor(e,r,n,i,s,a){this._args=e,this._accounts=r,this._provider=n,this._programId=i,this._idlIx=s,this._accountStore=new Dn(n,a)}async resolve(){for(let e=0;e<this._idlIx.accounts.length;e+=1){const r=this._idlIx.accounts[e],n=Be()(r.name);if(!r.isSigner||this._accounts[n])Reflect.has(On.CONST_ACCOUNTS,n)&&!this._accounts[n]&&(this._accounts[n]=On.CONST_ACCOUNTS[n]);else{if(void 0===this._provider.wallet)throw new Error("This function requires the Provider interface implementor to have a 'wallet' field.");this._accounts[n]=this._provider.wallet.publicKey}}for(let e=0;e<this._idlIx.accounts.length;e+=1){const r=this._idlIx.accounts[e],n=Be()(r.name);r.pda&&r.pda.seeds.length>0&&!this._accounts[n]&&await this.autoPopulatePda(r)}}async autoPopulatePda(e){if(!e.pda||!e.pda.seeds)throw new Error("Must have seeds");const r=await Promise.all(e.pda.seeds.map((e=>this.toBuffer(e)))),n=await this.parseProgramId(e),[i]=await s.PublicKey.findProgramAddress(r,n);this._accounts[Be()(e.name)]=i}async parseProgramId(e){var r;if(!(null===(r=e.pda)||void 0===r?void 0:r.programId))return this._programId;switch(e.pda.programId.kind){case"const":return new s.PublicKey(this.toBufferConst(e.pda.programId.value));case"arg":return this.argValue(e.pda.programId);case"account":return await this.accountValue(e.pda.programId);default:throw new Error(`Unexpected program seed kind: ${e.pda.programId.kind}`)}}async toBuffer(e){switch(e.kind){case"const":return this.toBufferConst(e);case"arg":return await this.toBufferArg(e);case"account":return await this.toBufferAccount(e);default:throw new Error(`Unexpected seed kind: ${e.kind}`)}}toBufferConst(e){return this.toBufferValue(e.type,e.value)}async toBufferArg(e){const r=this.argValue(e);return this.toBufferValue(e.type,r)}argValue(e){const r=Be()(e.path.split(".")[0]),n=this._idlIx.args.findIndex((e=>e.name===r));if(-1===n)throw new Error(`Unable to find argument for seed: ${r}`);return this._args[n]}async toBufferAccount(e){const r=await this.accountValue(e);return this.toBufferValue(e.type,r)}async accountValue(e){const r=e.path.split("."),n=r[0],i=this._accounts[Be()(n)];if(1===r.length)return i;const s=await this._accountStore.fetchAccount(e.account,i);return this.parseAccountValue(s,r.slice(1))}parseAccountValue(e,r){let n;for(;r.length>0;)n=e[Be()(r[0])],r=r.slice(1);return n}toBufferValue(e,r){switch(e){case"u8":return Pi.from([r]);case"u16":let n=Pi.alloc(2);return n.writeUInt16LE(r),n;case"u32":let i=Pi.alloc(4);return i.writeUInt32LE(r),i;case"u64":let s=Pi.alloc(8);return s.writeBigUInt64LE(BigInt(r)),s;case"string":return Pi.from(b(r));case"publicKey":return r.toBuffer();default:if(e.array)return Pi.from(r);throw new Error(`Unexpected seed type: ${e}`)}}}On.CONST_ACCOUNTS={associatedTokenProgram:so,rent:s.SYSVAR_RENT_PUBKEY,systemProgram:s.SystemProgram.programId,tokenProgram:oo};class Dn{constructor(e,r){this._provider=e,this._accounts=r,this._cache=new Map}async fetchAccount(e,r){const n=r.toString();if(!this._cache.has(n))if("TokenAccount"===e){const e=await this._provider.connection.getAccountInfo(r);if(null===e)throw new Error(`invalid account info for ${n}`);const i=zn().accounts.decode("token",e.data);this._cache.set(n,i)}else{const i=this._accounts[Be()(e)].fetch(r);this._cache.set(n,i)}return this._cache.get(n)}}class Nn{static build(e,r,n,i,s,a,k,w,I){return(...we)=>new Rn(we,i,s,a,k,w,e,r,n,I)}}class Rn{constructor(e,r,n,i,s,a,k,w,I,we){this._args=e,this._ixFn=r,this._txFn=n,this._rpcFn=i,this._simulateFn=s,this._viewFn=a,this._accounts={},this._remainingAccounts=[],this._signers=[],this._preInstructions=[],this._postInstructions=[],this._autoResolveAccounts=!0,this._accountsResolver=new On(e,this._accounts,k,w,I,we)}async pubkeys(){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._accounts}accounts(e){return this._autoResolveAccounts=!0,Object.assign(this._accounts,e),this}accountsStrict(e){return this._autoResolveAccounts=!1,Object.assign(this._accounts,e),this}signers(e){return this._signers=this._signers.concat(e),this}remainingAccounts(e){return this._remainingAccounts=this._remainingAccounts.concat(e),this}preInstructions(e){return this._preInstructions=this._preInstructions.concat(e),this}postInstructions(e){return this._postInstructions=this._postInstructions.concat(e),this}async rpc(e){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._rpcFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async view(e){if(this._autoResolveAccounts&&await this._accountsResolver.resolve(),!this._viewFn)throw new Error("Method does not support views");return this._viewFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async simulate(e){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._simulateFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async instruction(){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._ixFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async transaction(){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._txFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}}class Vn{constructor(e,r,n,i){r=L(r),n||(n=lt()),this._idl=e,this._provider=n,this._programId=r,this._coder=null!=i?i:new Kt(e),this._events=new xn(this._programId,n,this._coder);const[s,a,k,w,I,we,Ae,Ce]=class{static build(e,r,n,i){const s={},a={},k={},w={},I={},we={},Ae=M(e),Ce=e.accounts?class{static build(e,r,n,i){var s;const a={};return null===(s=e.accounts)||void 0===s||s.forEach((s=>{const k=Be()(s.name);a[k]=new En(e,s,n,i,r)})),a}}.build(e,r,n,i):{},ze=class{static build(e,r,n,i){if(void 0!==e.state)return new _n(e,n,i,r)}}.build(e,r,n,i);return e.instructions.forEach((ze=>{const qe=vn.build(ze,((e,n)=>r.instruction.encode(e,n)),n),$e=An.build(ze,qe),Ye=browser_bn.build(ze,$e,Ae,i),Je=class{static build(e,r,n,i,s,a,k){return async(...w)=>{var I;const we=r(...w),[,Ae]=wn(e,[...w]);let Be;if(void 0===i.simulate)throw new Error("This function requires 'Provider.simulate' to be implemented.");try{Be=await i.simulate(we,Ae.signers,null===(I=Ae.options)||void 0===I?void 0:I.commitment)}catch(e){throw At(e,n)}if(void 0===Be)throw new Error("Unable to simulate transaction");const Ce=Be.logs;if(!Ce)throw new Error("Simulated logs not found");const ze=[];if(k.events){let e=new Pn(a,s);for(const r of e.parseLogs(Ce))ze.push(r)}return{events:ze,raw:Ce}}}}.build(ze,$e,Ae,i,r,n,e),et=class{static build(e,r,n,i){const s=r.accounts.find((e=>e.isMut)),a=!!r.returns;if(!s&&a)return async(...s)=>{var a,k;let w=await n(...s);const I=`Program return: ${e} `;let we=w.raw.find((e=>e.startsWith(I)));if(!we)throw new Error("View expected return log");let Ae=E(we.slice(I.length)),Be=r.returns;if(!Be)throw new Error("View expected return type");return Lt.fieldLayout({type:Be},Array.from([...null!==(a=i.accounts)&&void 0!==a?a:[],...null!==(k=i.types)&&void 0!==k?k:[]])).decode(Ae)}}}.build(n,ze,Je,e),rt=Nn.build(i,n,ze,qe,$e,Ye,Je,et,Ce),it=Be()(ze.name);a[it]=qe,k[it]=$e,s[it]=Ye,w[it]=Je,I[it]=rt,et&&(we[it]=et)})),[s,a,k,Ce,w,I,ze,we]}}.build(e,this._coder,r,n);this.rpc=s,this.instruction=a,this.transaction=k,this.account=w,this.simulate=I,this.methods=we,this.state=Ae,this.views=Ce}get programId(){return this._programId}get idl(){return this._idl}get coder(){return this._coder}get provider(){return this._provider}static async at(e,r){const n=L(e),i=await Vn.fetchIdl(n,r);if(!i)throw new Error(`IDL not found for program: ${e.toString()}`);return new Vn(i,n,r)}static async fetchIdl(e,r){r=null!=r?r:lt();const n=L(e),i=await async function(e){const r=(await s.PublicKey.findProgramAddress([],e))[0];return await s.PublicKey.createWithSeed(r,"anchor:idl",e)}(n),a=await r.connection.getAccountInfo(i);if(!a)return null;let k=(w=a.data.slice(8),po.decode(w));var w;const I=Ei(k.data);return JSON.parse(v(I))}addEventListener(e,r){return this._events.addEventListener(e,r)}async removeEventListener(e){return await this._events.removeEventListener(e)}}class Un{constructor(e){}encode(e,r){if("create"===Be()(e))return Pi.alloc(0);throw new Error(`Invalid instruction: ${e}`)}encodeState(e,r){throw new Error("SPL associated token does not have state")}}class jn{constructor(e){}encode(e,r){throw new Error("SPL associated token does not have state")}decode(e){throw new Error("SPL associated token does not have state")}}class $n{constructor(e){this.idl=e}async encode(e,r){throw new Error(`Invalid account name: ${e}`)}decode(e,r){return this.decodeUnchecked(e,r)}decodeUnchecked(e,r){throw new Error(`Invalid account name: ${e}`)}memcmp(e,r){throw new Error(`Invalid account name: ${e}`)}size(e){var r;return null!==(r=Bt(this.idl,e))&&void 0!==r?r:0}}class Kn{constructor(e){}decode(e){throw new Error("SPL associated token program does not have events")}}class qn{constructor(e){}encode(e,r){throw new Error("SPL associated token does not have user-defined types")}decode(e,r){throw new Error("SPL associated token does not have user-defined types")}}class Fn{constructor(e){this.instruction=new Un(e),this.accounts=new $n(e),this.events=new Kn(e),this.state=new jn(e),this.types=new qn(e)}}const bo=new s.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");const ko={version:"0.1.0",name:"spl_associated_token",instructions:[{name:"create",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"associatedAccount",isMut:!0,isSigner:!1},{name:"owner",isMut:!1,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[]}]};class Jn{static token(e){return function(e){return new Vn(mo,yo,e,zn())}(e)}static associatedToken(e){return function Gn(e){return new Vn(ko,bo,e,new Fn(ko))}(e)}}const wo=new s.PublicKey("11111111111111111111111111111111");const Io={version:"0.1.0",name:"system_program",instructions:[{name:"createAccount",accounts:[{name:"from",isMut:!0,isSigner:!0},{name:"to",isMut:!0,isSigner:!0}],args:[{name:"lamports",type:"u64"},{name:"space",type:"u64"},{name:"owner",type:"publicKey"}]},{name:"assign",accounts:[{name:"pubkey",isMut:!0,isSigner:!0}],args:[{name:"owner",type:"publicKey"}]},{name:"transfer",accounts:[{name:"from",isMut:!0,isSigner:!0},{name:"to",isMut:!0,isSigner:!1}],args:[{name:"lamports",type:"u64"}]},{name:"createAccountWithSeed",accounts:[{name:"from",isMut:!0,isSigner:!0},{name:"to",isMut:!0,isSigner:!1},{name:"base",isMut:!1,isSigner:!0}],args:[{name:"base",type:"publicKey"},{name:"seed",type:"string"},{name:"lamports",type:"u64"},{name:"space",type:"u64"},{name:"owner",type:"publicKey"}]},{name:"advanceNonceAccount",accounts:[{name:"nonce",isMut:!0,isSigner:!1},{name:"recentBlockhashes",isMut:!1,isSigner:!1},{name:"authorized",isMut:!1,isSigner:!0}],args:[{name:"authorized",type:"publicKey"}]},{name:"withdrawNonceAccount",accounts:[{name:"nonce",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"recentBlockhashes",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"authorized",isMut:!1,isSigner:!0}],args:[{name:"lamports",type:"u64"}]},{name:"initializeNonceAccount",accounts:[{name:"nonce",isMut:!0,isSigner:!0},{name:"recentBlockhashes",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"authorized",type:"publicKey"}]},{name:"authorizeNonceAccount",accounts:[{name:"nonce",isMut:!0,isSigner:!1},{name:"authorized",isMut:!1,isSigner:!0}],args:[{name:"authorized",type:"publicKey"}]},{name:"allocate",accounts:[{name:"pubkey",isMut:!0,isSigner:!0}],args:[{name:"space",type:"u64"}]},{name:"allocateWithSeed",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"base",isMut:!1,isSigner:!0}],args:[{name:"base",type:"publicKey"},{name:"seed",type:"string"},{name:"space",type:"u64"},{name:"owner",type:"publicKey"}]},{name:"assignWithSeed",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"base",isMut:!1,isSigner:!0}],args:[{name:"base",type:"publicKey"},{name:"seed",type:"string"},{name:"owner",type:"publicKey"}]},{name:"transferWithSeed",accounts:[{name:"from",isMut:!0,isSigner:!1},{name:"base",isMut:!1,isSigner:!0},{name:"to",isMut:!0,isSigner:!1}],args:[{name:"lamports",type:"u64"},{name:"seed",type:"string"},{name:"owner",type:"publicKey"}]}],accounts:[{name:"nonce",type:{kind:"struct",fields:[{name:"version",type:"u32"},{name:"state",type:"u32"},{name:"authorizedPubkey",type:"publicKey"},{name:"nonce",type:"publicKey"},{name:"feeCalculator",type:{defined:"FeeCalculator"}}]}}],types:[{name:"FeeCalculator",type:{kind:"struct",fields:[{name:"lamportsPerSignature",type:"u64"}]}}]};class Yn{static system(e){return function Xn(e){return new Vn(Io,wo,e,new Qe(Io))}(e)}}},208674:function(e,r,n){"use strict";var i=n(901048).Buffer,s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.map=r.array=r.rustEnum=r.str=r.vecU8=r.tagged=r.vec=r.bool=r.option=r.publicKey=r.i128=r.u128=r.i64=r.u64=r.struct=r.f64=r.f32=r.i32=r.u32=r.i16=r.u16=r.i8=r.u8=void 0;const a=n(553511),k=n(384431),w=s(n(682823));var I=n(553511);Object.defineProperty(r,"u8",{enumerable:!0,get:function(){return I.u8}}),Object.defineProperty(r,"i8",{enumerable:!0,get:function(){return I.s8}}),Object.defineProperty(r,"u16",{enumerable:!0,get:function(){return I.u16}}),Object.defineProperty(r,"i16",{enumerable:!0,get:function(){return I.s16}}),Object.defineProperty(r,"u32",{enumerable:!0,get:function(){return I.u32}}),Object.defineProperty(r,"i32",{enumerable:!0,get:function(){return I.s32}}),Object.defineProperty(r,"f32",{enumerable:!0,get:function(){return I.f32}}),Object.defineProperty(r,"f64",{enumerable:!0,get:function(){return I.f64}}),Object.defineProperty(r,"struct",{enumerable:!0,get:function(){return I.struct}});class BNLayout extends a.Layout{constructor(e,r,n){super(e,n),this.blob=a.blob(e),this.signed=r}decode(e,r=0){const n=new w.default(this.blob.decode(e,r),10,"le");return this.signed?n.fromTwos(8*this.span).clone():n}encode(e,r,n=0){return this.signed&&(e=e.toTwos(8*this.span)),this.blob.encode(e.toArrayLike(i,"le",this.span),r,n)}}function u64(e){return new BNLayout(8,!1,e)}r.u64=u64,r.i64=function i64(e){return new BNLayout(8,!0,e)},r.u128=function u128(e){return new BNLayout(16,!1,e)},r.i128=function i128(e){return new BNLayout(16,!0,e)};class WrappedLayout extends a.Layout{constructor(e,r,n,i){super(e.span,i),this.layout=e,this.decoder=r,this.encoder=n}decode(e,r){return this.decoder(this.layout.decode(e,r))}encode(e,r,n){return this.layout.encode(this.encoder(e),r,n)}getSpan(e,r){return this.layout.getSpan(e,r)}}r.publicKey=function publicKey(e){return new WrappedLayout(a.blob(32),(e=>new k.PublicKey(e)),(e=>e.toBuffer()),e)};class OptionLayout extends a.Layout{constructor(e,r){super(-1,r),this.layout=e,this.discriminator=a.u8()}encode(e,r,n=0){return null==e?this.discriminator.encode(0,r,n):(this.discriminator.encode(1,r,n),this.layout.encode(e,r,n+1)+1)}decode(e,r=0){const n=this.discriminator.decode(e,r);if(0===n)return null;if(1===n)return this.layout.decode(e,r+1);throw new Error("Invalid option "+this.property)}getSpan(e,r=0){const n=this.discriminator.decode(e,r);if(0===n)return 1;if(1===n)return this.layout.getSpan(e,r+1)+1;throw new Error("Invalid option "+this.property)}}function decodeBool(e){if(0===e)return!1;if(1===e)return!0;throw new Error("Invalid bool: "+e)}function encodeBool(e){return e?1:0}function vecU8(e){const r=a.u32("length"),n=a.struct([r,a.blob(a.offset(r,-r.span),"data")]);return new WrappedLayout(n,(({data:e})=>e),(e=>({data:e})),e)}r.option=function option(e,r){return new OptionLayout(e,r)},r.bool=function bool(e){return new WrappedLayout(a.u8(),decodeBool,encodeBool,e)},r.vec=function vec(e,r){const n=a.u32("length"),i=a.struct([n,a.seq(e,a.offset(n,-n.span),"values")]);return new WrappedLayout(i,(({values:e})=>e),(e=>({values:e})),r)},r.tagged=function tagged(e,r,n){const i=a.struct([u64("tag"),r.replicate("data")]);return new WrappedLayout(i,(function decodeTag({tag:r,data:n}){if(!r.eq(e))throw new Error("Invalid tag, expected: "+e.toString("hex")+", got: "+r.toString("hex"));return n}),(r=>({tag:e,data:r})),n)},r.vecU8=vecU8,r.str=function str(e){return new WrappedLayout(vecU8(),(e=>e.toString("utf-8")),(e=>i.from(e,"utf-8")),e)},r.rustEnum=function rustEnum(e,r,n){const i=a.union(null!=n?n:a.u8(),r);return e.forEach(((e,r)=>i.addVariant(r,e,e.property))),i},r.array=function array(e,r,n){const i=a.struct([a.seq(e,r,"values")]);return new WrappedLayout(i,(({values:e})=>e),(e=>({values:e})),n)};class MapEntryLayout extends a.Layout{constructor(e,r,n){super(e.span+r.span,n),this.keyLayout=e,this.valueLayout=r}decode(e,r){r=r||0;return[this.keyLayout.decode(e,r),this.valueLayout.decode(e,r+this.keyLayout.getSpan(e,r))]}encode(e,r,n){n=n||0;const i=this.keyLayout.encode(e[0],r,n);return i+this.valueLayout.encode(e[1],r,n+i)}getSpan(e,r){return this.keyLayout.getSpan(e,r)+this.valueLayout.getSpan(e,r)}}r.map=function map(e,r,n){const i=a.u32("length"),s=a.struct([i,a.seq(new MapEntryLayout(e,r),a.offset(i,-i.span),"values")]);return new WrappedLayout(s,(({values:e})=>new Map(e)),(e=>({values:Array.from(e.entries())})),n)}},384431:(e,r,n)=>{"use strict";n.r(r),n.d(r,{Account:()=>Account,AddressLookupTableAccount:()=>AddressLookupTableAccount,AddressLookupTableInstruction:()=>AddressLookupTableInstruction,AddressLookupTableProgram:()=>AddressLookupTableProgram,Authorized:()=>Authorized,BLOCKHASH_CACHE_TIMEOUT_MS:()=>_i,BPF_LOADER_DEPRECATED_PROGRAM_ID:()=>gn,BPF_LOADER_PROGRAM_ID:()=>li,BpfLoader:()=>BpfLoader,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:()=>ns,ComputeBudgetInstruction:()=>ComputeBudgetInstruction,ComputeBudgetProgram:()=>ComputeBudgetProgram,Connection:()=>Connection,Ed25519Program:()=>Ed25519Program,Enum:()=>Enum,EpochSchedule:()=>EpochSchedule,FeeCalculatorLayout:()=>ii,Keypair:()=>Keypair,LAMPORTS_PER_SOL:()=>ks,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:()=>rs,Loader:()=>Loader,Lockup:()=>Lockup,MAX_SEED_LENGTH:()=>dn,Message:()=>Message,MessageAccountKeys:()=>MessageAccountKeys,MessageV0:()=>MessageV0,NONCE_ACCOUNT_LENGTH:()=>si,NonceAccount:()=>NonceAccount,PACKET_DATA_SIZE:()=>yn,PUBLIC_KEY_LENGTH:()=>ln,PublicKey:()=>PublicKey,SIGNATURE_LENGTH_IN_BYTES:()=>bn,SOLANA_SCHEMA:()=>cn,STAKE_CONFIG_ID:()=>us,STAKE_INSTRUCTION_LAYOUTS:()=>ds,SYSTEM_INSTRUCTION_LAYOUTS:()=>ui,SYSVAR_CLOCK_PUBKEY:()=>Cn,SYSVAR_EPOCH_SCHEDULE_PUBKEY:()=>Wn,SYSVAR_INSTRUCTIONS_PUBKEY:()=>Hn,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:()=>Zn,SYSVAR_RENT_PUBKEY:()=>Qn,SYSVAR_REWARDS_PUBKEY:()=>ei,SYSVAR_SLOT_HASHES_PUBKEY:()=>ti,SYSVAR_SLOT_HISTORY_PUBKEY:()=>ri,SYSVAR_STAKE_HISTORY_PUBKEY:()=>ni,Secp256k1Program:()=>Secp256k1Program,SendTransactionError:()=>SendTransactionError,SolanaJSONRPCError:()=>SolanaJSONRPCError,SolanaJSONRPCErrorCode:()=>gi,StakeAuthorizationLayout:()=>ls,StakeInstruction:()=>StakeInstruction,StakeProgram:()=>StakeProgram,Struct:()=>index_browser_esm_Struct,SystemInstruction:()=>SystemInstruction,SystemProgram:()=>SystemProgram,Transaction:()=>Transaction,TransactionExpiredBlockheightExceededError:()=>TransactionExpiredBlockheightExceededError,TransactionExpiredNonceInvalidError:()=>TransactionExpiredNonceInvalidError,TransactionExpiredTimeoutError:()=>TransactionExpiredTimeoutError,TransactionInstruction:()=>TransactionInstruction,TransactionMessage:()=>TransactionMessage,TransactionStatus:()=>Mn,VALIDATOR_INFO_KEY:()=>ps,VERSION_PREFIX_MASK:()=>mn,VOTE_PROGRAM_ID:()=>ys,ValidatorInfo:()=>ValidatorInfo,VersionedMessage:()=>In,VersionedTransaction:()=>VersionedTransaction,VoteAccount:()=>VoteAccount,VoteAuthorizationLayout:()=>fs,VoteInit:()=>VoteInit,VoteInstruction:()=>VoteInstruction,VoteProgram:()=>VoteProgram,clusterApiUrl:()=>clusterApiUrl,sendAndConfirmRawTransaction:()=>sendAndConfirmRawTransaction,sendAndConfirmTransaction:()=>sendAndConfirmTransaction});var i={};n.r(i),n.d(i,{DO:()=>utils_abytes,OG:()=>bitMask,My:()=>abstract_utils_bytesToHex,bytesToNumberBE:()=>utils_bytesToNumberBE,lX:()=>utils_bytesToNumberLE,Id:()=>abstract_utils_concatBytes,fg:()=>createHmacDrbg,qj:()=>utils_ensureBytes,hexToBytes:()=>utils_hexToBytes,aY:()=>abstract_utils_isBytes,lq:()=>utils_numberToBytesBE,z:()=>utils_numberToBytesLE,Q5:()=>validateObject});var s=n(901048);function number(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function bytes(e,...r){if(!function isBytes(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}(e))throw new Error("Uint8Array expected");if(r.length>0&&!r.includes(e.length))throw new Error(`Uint8Array expected of length ${r}, not of length=${e.length}`)}function _assert_hash(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");number(e.outputLen),number(e.blockLen)}function exists(e,r=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(r&&e.finished)throw new Error("Hash#digest() has already been called")}function output(e,r){bytes(e);const n=r.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const a="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;const createView=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),rotr=(e,r)=>e<<32-r|e>>>r,k=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],byteSwap=e=>e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255;function byteSwap32(e){for(let r=0;r<e.length;r++)e[r]=byteSwap(e[r])}function utils_utf8ToBytes(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function toBytes(e){return"string"==typeof e&&(e=utils_utf8ToBytes(e)),bytes(e),e}function utils_concatBytes(...e){let r=0;for(let n=0;n<e.length;n++){const i=e[n];bytes(i),r+=i.length}const n=new Uint8Array(r);for(let r=0,i=0;r<e.length;r++){const s=e[r];n.set(s,i),i+=s.length}return n}class Hash{clone(){return this._cloneInto()}}function utils_wrapConstructor(e){const hashC=r=>e().update(toBytes(r)).digest(),r=e();return hashC.outputLen=r.outputLen,hashC.blockLen=r.blockLen,hashC.create=()=>e(),hashC}function utils_randomBytes(e=32){if(a&&"function"==typeof a.getRandomValues)return a.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}const Maj=(e,r,n)=>e&r^e&n^r&n;class HashMD extends Hash{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=createView(this.buffer)}update(e){exists(this);const{view:r,buffer:n,blockLen:i}=this,s=(e=toBytes(e)).length;for(let a=0;a<s;){const k=Math.min(i-this.pos,s-a);if(k!==i)n.set(e.subarray(a,a+k),this.pos),this.pos+=k,a+=k,this.pos===i&&(this.process(r,0),this.pos=0);else{const r=createView(e);for(;i<=s-a;a+=i)this.process(r,a)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){exists(this),output(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:a}=this;r[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(n,0),a=0);for(let e=a;e<i;e++)r[e]=0;!function setBigUint64(e,r,n,i){if("function"==typeof e.setBigUint64)return e.setBigUint64(r,n,i);const s=BigInt(32),a=BigInt(4294967295),k=Number(n>>s&a),w=Number(n&a),I=i?4:0,we=i?0:4;e.setUint32(r+I,k,i),e.setUint32(r+we,w,i)}(n,i-8,BigInt(8*this.length),s),this.process(n,0);const k=createView(e),w=this.outputLen;if(w%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const I=w/4,we=this.get();if(I>we.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<I;e++)k.setUint32(4*e,we[e],s)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:a,pos:k}=this;return e.length=i,e.pos=k,e.finished=s,e.destroyed=a,i%r&&e.buffer.set(n),e}}const w=BigInt(2**32-1),I=BigInt(32);function fromBig(e,r=!1){return r?{h:Number(e&w),l:Number(e>>I&w)}:{h:0|Number(e>>I&w),l:0|Number(e&w)}}function split(e,r=!1){let n=new Uint32Array(e.length),i=new Uint32Array(e.length);for(let s=0;s<e.length;s++){const{h:a,l:k}=fromBig(e[s],r);[n[s],i[s]]=[a,k]}return[n,i]}const rotlSH=(e,r,n)=>e<<n|r>>>32-n,rotlSL=(e,r,n)=>r<<n|e>>>32-n,rotlBH=(e,r,n)=>r<<n-32|e>>>64-n,rotlBL=(e,r,n)=>e<<n-32|r>>>64-n;const we={fromBig,split,toBig:(e,r)=>BigInt(e>>>0)<<I|BigInt(r>>>0),shrSH:(e,r,n)=>e>>>n,shrSL:(e,r,n)=>e<<32-n|r>>>n,rotrSH:(e,r,n)=>e>>>n|r<<32-n,rotrSL:(e,r,n)=>e<<32-n|r>>>n,rotrBH:(e,r,n)=>e<<64-n|r>>>n-32,rotrBL:(e,r,n)=>e>>>n-32|r<<64-n,rotr32H:(e,r)=>r,rotr32L:(e,r)=>e,rotlSH,rotlSL,rotlBH,rotlBL,add:function add(e,r,n,i){const s=(r>>>0)+(i>>>0);return{h:e+n+(s/2**32|0)|0,l:0|s}},add3L:(e,r,n)=>(e>>>0)+(r>>>0)+(n>>>0),add3H:(e,r,n,i)=>r+n+i+(e/2**32|0)|0,add4L:(e,r,n,i)=>(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),add4H:(e,r,n,i,s)=>r+n+i+s+(e/2**32|0)|0,add5H:(e,r,n,i,s,a)=>r+n+i+s+a+(e/2**32|0)|0,add5L:(e,r,n,i,s)=>(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0)+(s>>>0)},[Ae,Be]=(()=>we.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))))(),Ce=new Uint32Array(80),ze=new Uint32Array(80);class SHA512 extends HashMD{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:a,Dh:k,Dl:w,Eh:I,El:we,Fh:Ae,Fl:Be,Gh:Ce,Gl:ze,Hh:qe,Hl:$e}=this;return[e,r,n,i,s,a,k,w,I,we,Ae,Be,Ce,ze,qe,$e]}set(e,r,n,i,s,a,k,w,I,we,Ae,Be,Ce,ze,qe,$e){this.Ah=0|e,this.Al=0|r,this.Bh=0|n,this.Bl=0|i,this.Ch=0|s,this.Cl=0|a,this.Dh=0|k,this.Dl=0|w,this.Eh=0|I,this.El=0|we,this.Fh=0|Ae,this.Fl=0|Be,this.Gh=0|Ce,this.Gl=0|ze,this.Hh=0|qe,this.Hl=0|$e}process(e,r){for(let n=0;n<16;n++,r+=4)Ce[n]=e.getUint32(r),ze[n]=e.getUint32(r+=4);for(let e=16;e<80;e++){const r=0|Ce[e-15],n=0|ze[e-15],i=we.rotrSH(r,n,1)^we.rotrSH(r,n,8)^we.shrSH(r,n,7),s=we.rotrSL(r,n,1)^we.rotrSL(r,n,8)^we.shrSL(r,n,7),a=0|Ce[e-2],k=0|ze[e-2],w=we.rotrSH(a,k,19)^we.rotrBH(a,k,61)^we.shrSH(a,k,6),I=we.rotrSL(a,k,19)^we.rotrBL(a,k,61)^we.shrSL(a,k,6),Ae=we.add4L(s,I,ze[e-7],ze[e-16]),Be=we.add4H(Ae,i,w,Ce[e-7],Ce[e-16]);Ce[e]=0|Be,ze[e]=0|Ae}let{Ah:n,Al:i,Bh:s,Bl:a,Ch:k,Cl:w,Dh:I,Dl:qe,Eh:$e,El:Ye,Fh:Je,Fl:et,Gh:rt,Gl:it,Hh:ot,Hl:ht}=this;for(let e=0;e<80;e++){const r=we.rotrSH($e,Ye,14)^we.rotrSH($e,Ye,18)^we.rotrBH($e,Ye,41),ft=we.rotrSL($e,Ye,14)^we.rotrSL($e,Ye,18)^we.rotrBL($e,Ye,41),pt=$e&Je^~$e&rt,yt=Ye&et^~Ye&it,kt=we.add5L(ht,ft,yt,Be[e],ze[e]),_t=we.add5H(kt,ot,r,pt,Ae[e],Ce[e]),St=0|kt,Mt=we.rotrSH(n,i,28)^we.rotrBH(n,i,34)^we.rotrBH(n,i,39),Dt=we.rotrSL(n,i,28)^we.rotrBL(n,i,34)^we.rotrBL(n,i,39),qt=n&s^n&k^s&k,Gt=i&a^i&w^a&w;ot=0|rt,ht=0|it,rt=0|Je,it=0|et,Je=0|$e,et=0|Ye,({h:$e,l:Ye}=we.add(0|I,0|qe,0|_t,0|St)),I=0|k,qe=0|w,k=0|s,w=0|a,s=0|n,a=0|i;const Qt=we.add3L(St,Dt,Gt);n=we.add3H(Qt,_t,Mt,qt),i=0|Qt}({h:n,l:i}=we.add(0|this.Ah,0|this.Al,0|n,0|i)),({h:s,l:a}=we.add(0|this.Bh,0|this.Bl,0|s,0|a)),({h:k,l:w}=we.add(0|this.Ch,0|this.Cl,0|k,0|w)),({h:I,l:qe}=we.add(0|this.Dh,0|this.Dl,0|I,0|qe)),({h:$e,l:Ye}=we.add(0|this.Eh,0|this.El,0|$e,0|Ye)),({h:Je,l:et}=we.add(0|this.Fh,0|this.Fl,0|Je,0|et)),({h:rt,l:it}=we.add(0|this.Gh,0|this.Gl,0|rt,0|it)),({h:ot,l:ht}=we.add(0|this.Hh,0|this.Hl,0|ot,0|ht)),this.set(n,i,s,a,k,w,I,qe,$e,Ye,Je,et,rt,it,ot,ht)}roundClean(){Ce.fill(0),ze.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const qe=utils_wrapConstructor((()=>new SHA512)),$e=(BigInt(0),BigInt(1)),Ye=BigInt(2);function abstract_utils_isBytes(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}function utils_abytes(e){if(!abstract_utils_isBytes(e))throw new Error("Uint8Array expected")}const Je=Array.from({length:256},((e,r)=>r.toString(16).padStart(2,"0")));function abstract_utils_bytesToHex(e){utils_abytes(e);let r="";for(let n=0;n<e.length;n++)r+=Je[e[n]];return r}function hexToNumber(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}const et={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function utils_asciiToBase16(e){return e>=et._0&&e<=et._9?e-et._0:e>=et._A&&e<=et._F?e-(et._A-10):e>=et._a&&e<=et._f?e-(et._a-10):void 0}function utils_hexToBytes(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const r=e.length,n=r/2;if(r%2)throw new Error("padded hex string expected, got unpadded hex of length "+r);const i=new Uint8Array(n);for(let r=0,s=0;r<n;r++,s+=2){const n=utils_asciiToBase16(e.charCodeAt(s)),a=utils_asciiToBase16(e.charCodeAt(s+1));if(void 0===n||void 0===a){const r=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+r+'" at index '+s)}i[r]=16*n+a}return i}function utils_bytesToNumberBE(e){return hexToNumber(abstract_utils_bytesToHex(e))}function utils_bytesToNumberLE(e){return utils_abytes(e),hexToNumber(abstract_utils_bytesToHex(Uint8Array.from(e).reverse()))}function utils_numberToBytesBE(e,r){return utils_hexToBytes(e.toString(16).padStart(2*r,"0"))}function utils_numberToBytesLE(e,r){return utils_numberToBytesBE(e,r).reverse()}function utils_ensureBytes(e,r,n){let i;if("string"==typeof r)try{i=utils_hexToBytes(r)}catch(n){throw new Error(`${e} must be valid hex string, got "${r}". Cause: ${n}`)}else{if(!abstract_utils_isBytes(r))throw new Error(`${e} must be hex string or Uint8Array`);i=Uint8Array.from(r)}const s=i.length;if("number"==typeof n&&s!==n)throw new Error(`${e} expected ${n} bytes, got ${s}`);return i}function abstract_utils_concatBytes(...e){let r=0;for(let n=0;n<e.length;n++){const i=e[n];utils_abytes(i),r+=i.length}const n=new Uint8Array(r);for(let r=0,i=0;r<e.length;r++){const s=e[r];n.set(s,i),i+=s.length}return n}const bitMask=e=>(Ye<<BigInt(e-1))-$e,u8n=e=>new Uint8Array(e),u8fr=e=>Uint8Array.from(e);function createHmacDrbg(e,r,n){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof r||r<2)throw new Error("qByteLen must be a number");if("function"!=typeof n)throw new Error("hmacFn must be a function");let i=u8n(e),s=u8n(e),a=0;const reset=()=>{i.fill(1),s.fill(0),a=0},h=(...e)=>n(s,i,...e),reseed=(e=u8n())=>{s=h(u8fr([0]),e),i=h(),0!==e.length&&(s=h(u8fr([1]),e),i=h())},gen=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const n=[];for(;e<r;){i=h();const r=i.slice();n.push(r),e+=i.length}return abstract_utils_concatBytes(...n)};return(e,r)=>{let n;for(reset(),reseed(e);!(n=r(gen()));)reseed();return reset(),n}}const rt={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||abstract_utils_isBytes(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,r)=>r.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function validateObject(e,r,n={}){const checkField=(r,n,i)=>{const s=rt[n];if("function"!=typeof s)throw new Error(`Invalid validator "${n}", expected function`);const a=e[r];if(!(i&&void 0===a||s(a,e)))throw new Error(`Invalid param ${String(r)}=${a} (${typeof a}), expected ${n}`)};for(const[e,n]of Object.entries(r))checkField(e,n,!1);for(const[e,r]of Object.entries(n))checkField(e,r,!0);return e}const it=BigInt(0),ot=BigInt(1),ht=BigInt(2),ft=BigInt(3),pt=BigInt(4),yt=BigInt(5),kt=BigInt(8);BigInt(9),BigInt(16);function modular_mod(e,r){const n=e%r;return n>=it?n:r+n}function pow(e,r,n){if(n<=it||r<it)throw new Error("Expected power/modulo > 0");if(n===ot)return it;let i=ot;for(;r>it;)r&ot&&(i=i*e%n),e=e*e%n,r>>=ot;return i}function modular_pow2(e,r,n){let i=e;for(;r-- >it;)i*=i,i%=n;return i}function invert(e,r){if(e===it||r<=it)throw new Error(`invert: expected positive integers, got n=${e} mod=${r}`);let n=modular_mod(e,r),i=r,s=it,a=ot,k=ot,w=it;for(;n!==it;){const e=i/n,r=i%n,I=s-k*e,we=a-w*e;i=n,n=r,s=k,a=w,k=I,w=we}if(i!==ot)throw new Error("invert: does not exist");return modular_mod(s,r)}function FpSqrt(e){if(e%pt===ft){const r=(e+ot)/pt;return function sqrt3mod4(e,n){const i=e.pow(n,r);if(!e.eql(e.sqr(i),n))throw new Error("Cannot find square root");return i}}if(e%kt===yt){const r=(e-yt)/kt;return function sqrt5mod8(e,n){const i=e.mul(n,ht),s=e.pow(i,r),a=e.mul(n,s),k=e.mul(e.mul(a,ht),s),w=e.mul(a,e.sub(k,e.ONE));if(!e.eql(e.sqr(w),n))throw new Error("Cannot find square root");return w}}return function tonelliShanks(e){const r=(e-ot)/ht;let n,i,s;for(n=e-ot,i=0;n%ht===it;n/=ht,i++);for(s=ht;s<e&&pow(s,r,e)!==e-ot;s++);if(1===i){const r=(e+ot)/pt;return function tonelliFast(e,n){const i=e.pow(n,r);if(!e.eql(e.sqr(i),n))throw new Error("Cannot find square root");return i}}const a=(n+ot)/ht;return function tonelliSlow(e,k){if(e.pow(k,r)===e.neg(e.ONE))throw new Error("Cannot find square root");let w=i,I=e.pow(e.mul(e.ONE,s),n),we=e.pow(k,a),Ae=e.pow(k,n);for(;!e.eql(Ae,e.ONE);){if(e.eql(Ae,e.ZERO))return e.ZERO;let r=1;for(let n=e.sqr(Ae);r<w&&!e.eql(n,e.ONE);r++)n=e.sqr(n);const n=e.pow(I,ot<<BigInt(w-r-1));I=e.sqr(n),we=e.mul(we,n),Ae=e.mul(Ae,I),w=r}return we}}(e)}const modular_isNegativeLE=(e,r)=>(modular_mod(e,r)&ot)===ot,_t=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function nLength(e,r){const n=void 0!==r?r:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function Field(e,r,n=!1,i={}){if(e<=it)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:s,nByteLength:a}=nLength(e,r);if(a>2048)throw new Error("Field lengths over 2048 bytes are not supported");const k=FpSqrt(e),w=Object.freeze({ORDER:e,BITS:s,BYTES:a,MASK:bitMask(s),ZERO:it,ONE:ot,create:r=>modular_mod(r,e),isValid:r=>{if("bigint"!=typeof r)throw new Error("Invalid field element: expected bigint, got "+typeof r);return it<=r&&r<e},is0:e=>e===it,isOdd:e=>(e&ot)===ot,neg:r=>modular_mod(-r,e),eql:(e,r)=>e===r,sqr:r=>modular_mod(r*r,e),add:(r,n)=>modular_mod(r+n,e),sub:(r,n)=>modular_mod(r-n,e),mul:(r,n)=>modular_mod(r*n,e),pow:(e,r)=>function FpPow(e,r,n){if(n<it)throw new Error("Expected power > 0");if(n===it)return e.ONE;if(n===ot)return r;let i=e.ONE,s=r;for(;n>it;)n&ot&&(i=e.mul(i,s)),s=e.sqr(s),n>>=ot;return i}(w,e,r),div:(r,n)=>modular_mod(r*invert(n,e),e),sqrN:e=>e*e,addN:(e,r)=>e+r,subN:(e,r)=>e-r,mulN:(e,r)=>e*r,inv:r=>invert(r,e),sqrt:i.sqrt||(e=>k(w,e)),invertBatch:e=>function FpInvertBatch(e,r){const n=new Array(r.length),i=r.reduce(((r,i,s)=>e.is0(i)?r:(n[s]=r,e.mul(r,i))),e.ONE),s=e.inv(i);return r.reduceRight(((r,i,s)=>e.is0(i)?r:(n[s]=e.mul(r,n[s]),e.mul(r,i))),s),n}(w,e),cmov:(e,r,n)=>n?r:e,toBytes:e=>n?utils_numberToBytesLE(e,a):utils_numberToBytesBE(e,a),fromBytes:e=>{if(e.length!==a)throw new Error(`Fp.fromBytes: expected ${a}, got ${e.length}`);return n?utils_bytesToNumberLE(e):utils_bytesToNumberBE(e)}});return Object.freeze(w)}function getFieldBytesLength(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");const r=e.toString(2).length;return Math.ceil(r/8)}function getMinHashLength(e){const r=getFieldBytesLength(e);return r+Math.ceil(r/2)}const St=BigInt(0),Mt=BigInt(1);function wNAF(e,r){const constTimeNegate=(e,r)=>{const n=r.negate();return e?n:r},opts=e=>({windows:Math.ceil(r/e)+1,windowSize:2**(e-1)});return{constTimeNegate,unsafeLadder(r,n){let i=e.ZERO,s=r;for(;n>St;)n&Mt&&(i=i.add(s)),s=s.double(),n>>=Mt;return i},precomputeWindow(e,r){const{windows:n,windowSize:i}=opts(r),s=[];let a=e,k=a;for(let e=0;e<n;e++){k=a,s.push(k);for(let e=1;e<i;e++)k=k.add(a),s.push(k);a=k.double()}return s},wNAF(r,n,i){const{windows:s,windowSize:a}=opts(r);let k=e.ZERO,w=e.BASE;const I=BigInt(2**r-1),we=2**r,Ae=BigInt(r);for(let e=0;e<s;e++){const r=e*a;let s=Number(i&I);i>>=Ae,s>a&&(s-=we,i+=Mt);const Be=r,Ce=r+Math.abs(s)-1,ze=e%2!=0,qe=s<0;0===s?w=w.add(constTimeNegate(ze,n[Be])):k=k.add(constTimeNegate(qe,n[Ce]))}return{p:k,f:w}},wNAFCached(e,r,n,i){const s=e._WINDOW_SIZE||1;let a=r.get(e);return a||(a=this.precomputeWindow(e,s),1!==s&&r.set(e,i(a))),this.wNAF(s,a,n)}}}function validateBasic(e){return function validateField(e){const r=_t.reduce(((e,r)=>(e[r]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});return validateObject(e,r)}(e.Fp),validateObject(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...nLength(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}const Dt=BigInt(0),qt=BigInt(1),Gt=BigInt(2),Qt=BigInt(8),er={zip215:!0};function twistedEdwards(e){const r=function validateOpts(e){const r=validateBasic(e);return validateObject(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...r})}(e),{Fp:n,n:i,prehash:s,hash:a,randomBytes:k,nByteLength:w,h:I}=r,we=Gt<<BigInt(8*w)-qt,Ae=n.create,Be=r.uvRatio||((e,r)=>{try{return{isValid:!0,value:n.sqrt(e*n.inv(r))}}catch(e){return{isValid:!1,value:Dt}}}),Ce=r.adjustScalarBytes||(e=>e),ze=r.domain||((e,r,n)=>{if(r.length||n)throw new Error("Contexts/pre-hash are not supported");return e}),inBig=e=>"bigint"==typeof e&&Dt<e,inRange=(e,r)=>inBig(e)&&inBig(r)&&e<r,in0MaskRange=e=>e===Dt||inRange(e,we);function assertInRange(e,r){if(inRange(e,r))return e;throw new Error(`Expected valid scalar < ${r}, got ${typeof e} ${e}`)}function assertGE0(e){return e===Dt?e:assertInRange(e,i)}const qe=new Map;function isPoint(e){if(!(e instanceof Point))throw new Error("ExtendedPoint expected")}class Point{constructor(e,r,n,i){if(this.ex=e,this.ey=r,this.ez=n,this.et=i,!in0MaskRange(e))throw new Error("x required");if(!in0MaskRange(r))throw new Error("y required");if(!in0MaskRange(n))throw new Error("z required");if(!in0MaskRange(i))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(e){if(e instanceof Point)throw new Error("extended point not allowed");const{x:r,y:n}=e||{};if(!in0MaskRange(r)||!in0MaskRange(n))throw new Error("invalid affine point");return new Point(r,n,qt,Ae(r*n))}static normalizeZ(e){const r=n.invertBatch(e.map((e=>e.ez)));return e.map(((e,n)=>e.toAffine(r[n]))).map(Point.fromAffine)}_setWindowSize(e){this._WINDOW_SIZE=e,qe.delete(this)}assertValidity(){const{a:e,d:n}=r;if(this.is0())throw new Error("bad point: ZERO");const{ex:i,ey:s,ez:a,et:k}=this,w=Ae(i*i),I=Ae(s*s),we=Ae(a*a),Be=Ae(we*we),Ce=Ae(w*e);if(Ae(we*Ae(Ce+I))!==Ae(Be+Ae(n*Ae(w*I))))throw new Error("bad point: equation left != right (1)");if(Ae(i*s)!==Ae(a*k))throw new Error("bad point: equation left != right (2)")}equals(e){isPoint(e);const{ex:r,ey:n,ez:i}=this,{ex:s,ey:a,ez:k}=e,w=Ae(r*k),I=Ae(s*i),we=Ae(n*k),Be=Ae(a*i);return w===I&&we===Be}is0(){return this.equals(Point.ZERO)}negate(){return new Point(Ae(-this.ex),this.ey,this.ez,Ae(-this.et))}double(){const{a:e}=r,{ex:n,ey:i,ez:s}=this,a=Ae(n*n),k=Ae(i*i),w=Ae(Gt*Ae(s*s)),I=Ae(e*a),we=n+i,Be=Ae(Ae(we*we)-a-k),Ce=I+k,ze=Ce-w,qe=I-k,$e=Ae(Be*ze),Ye=Ae(Ce*qe),Je=Ae(Be*qe),et=Ae(ze*Ce);return new Point($e,Ye,et,Je)}add(e){isPoint(e);const{a:n,d:i}=r,{ex:s,ey:a,ez:k,et:w}=this,{ex:I,ey:we,ez:Be,et:Ce}=e;if(n===BigInt(-1)){const e=Ae((a-s)*(we+I)),r=Ae((a+s)*(we-I)),n=Ae(r-e);if(n===Dt)return this.double();const i=Ae(k*Gt*Ce),ze=Ae(w*Gt*Be),qe=ze+i,$e=r+e,Ye=ze-i,Je=Ae(qe*n),et=Ae($e*Ye),rt=Ae(qe*Ye),it=Ae(n*$e);return new Point(Je,et,it,rt)}const ze=Ae(s*I),qe=Ae(a*we),$e=Ae(w*i*Ce),Ye=Ae(k*Be),Je=Ae((s+a)*(I+we)-ze-qe),et=Ye-$e,rt=Ye+$e,it=Ae(qe-n*ze),ot=Ae(Je*et),ht=Ae(rt*it),ft=Ae(Je*it),pt=Ae(et*rt);return new Point(ot,ht,pt,ft)}subtract(e){return this.add(e.negate())}wNAF(e){return Je.wNAFCached(this,qe,e,Point.normalizeZ)}multiply(e){const{p:r,f:n}=this.wNAF(assertInRange(e,i));return Point.normalizeZ([r,n])[0]}multiplyUnsafe(e){let r=assertGE0(e);return r===Dt?Ye:this.equals(Ye)||r===qt?this:this.equals($e)?this.wNAF(r).p:Je.unsafeLadder(this,r)}isSmallOrder(){return this.multiplyUnsafe(I).is0()}isTorsionFree(){return Je.unsafeLadder(this,i).is0()}toAffine(e){const{ex:r,ey:i,ez:s}=this,a=this.is0();null==e&&(e=a?Qt:n.inv(s));const k=Ae(r*e),w=Ae(i*e),I=Ae(s*e);if(a)return{x:Dt,y:qt};if(I!==qt)throw new Error("invZ was invalid");return{x:k,y:w}}clearCofactor(){const{h:e}=r;return e===qt?this:this.multiplyUnsafe(e)}static fromHex(e,i=!1){const{d:s,a}=r,k=n.BYTES,w=(e=utils_ensureBytes("pointHex",e,k)).slice(),I=e[k-1];w[k-1]=-129&I;const Ce=utils_bytesToNumberLE(w);Ce===Dt||assertInRange(Ce,i?we:n.ORDER);const ze=Ae(Ce*Ce),qe=Ae(ze-qt),$e=Ae(s*ze-a);let{isValid:Ye,value:Je}=Be(qe,$e);if(!Ye)throw new Error("Point.fromHex: invalid y coordinate");const et=(Je&qt)===qt,rt=!!(128&I);if(!i&&Je===Dt&&rt)throw new Error("Point.fromHex: x=0 and x_0=1");return rt!==et&&(Je=Ae(-Je)),Point.fromAffine({x:Je,y:Ce})}static fromPrivateKey(e){return getExtendedPublicKey(e).point}toRawBytes(){const{x:e,y:r}=this.toAffine(),i=utils_numberToBytesLE(r,n.BYTES);return i[i.length-1]|=e&qt?128:0,i}toHex(){return abstract_utils_bytesToHex(this.toRawBytes())}}Point.BASE=new Point(r.Gx,r.Gy,qt,Ae(r.Gx*r.Gy)),Point.ZERO=new Point(Dt,qt,qt,Dt);const{BASE:$e,ZERO:Ye}=Point,Je=wNAF(Point,8*w);function modN(e){return modular_mod(e,i)}function modN_LE(e){return modN(utils_bytesToNumberLE(e))}function getExtendedPublicKey(e){const r=w;e=utils_ensureBytes("private key",e,r);const n=utils_ensureBytes("hashed private key",a(e),2*r),i=Ce(n.slice(0,r)),s=n.slice(r,2*r),k=modN_LE(i),I=$e.multiply(k),we=I.toRawBytes();return{head:i,prefix:s,scalar:k,point:I,pointBytes:we}}function hashDomainToScalar(e=new Uint8Array,...r){const n=abstract_utils_concatBytes(...r);return modN_LE(a(ze(n,utils_ensureBytes("context",e),!!s)))}const et=er;$e._setWindowSize(8);return{CURVE:r,getPublicKey:function getPublicKey(e){return getExtendedPublicKey(e).pointBytes},sign:function sign(e,r,i={}){e=utils_ensureBytes("message",e),s&&(e=s(e));const{prefix:a,scalar:k,pointBytes:I}=getExtendedPublicKey(r),we=hashDomainToScalar(i.context,a,e),Ae=$e.multiply(we).toRawBytes(),Be=modN(we+hashDomainToScalar(i.context,Ae,I,e)*k);return assertGE0(Be),utils_ensureBytes("result",abstract_utils_concatBytes(Ae,utils_numberToBytesLE(Be,n.BYTES)),2*w)},verify:function verify(e,r,i,a=et){const{context:k,zip215:w}=a,I=n.BYTES;e=utils_ensureBytes("signature",e,2*I),r=utils_ensureBytes("message",r),s&&(r=s(r));const we=utils_bytesToNumberLE(e.slice(I,2*I));let Ae,Be,Ce;try{Ae=Point.fromHex(i,w),Be=Point.fromHex(e.slice(0,I),w),Ce=$e.multiplyUnsafe(we)}catch(e){return!1}if(!w&&Ae.isSmallOrder())return!1;const ze=hashDomainToScalar(k,Be.toRawBytes(),Ae.toRawBytes(),r);return Be.add(Ae.multiplyUnsafe(ze)).subtract(Ce).clearCofactor().equals(Point.ZERO)},ExtendedPoint:Point,utils:{getExtendedPublicKey,randomPrivateKey:()=>k(n.BYTES),precompute:(e=8,r=Point.BASE)=>(r._setWindowSize(e),r.multiply(BigInt(3)),r)}}}const tr=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),rr=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),nr=(BigInt(0),BigInt(1)),ir=BigInt(2),or=BigInt(5),sr=BigInt(10),ar=BigInt(20),cr=BigInt(40),ur=BigInt(80);function ed25519_pow_2_252_3(e){const r=tr,n=e*e%r*e%r,i=modular_pow2(n,ir,r)*n%r,s=modular_pow2(i,nr,r)*e%r,a=modular_pow2(s,or,r)*s%r,k=modular_pow2(a,sr,r)*a%r,w=modular_pow2(k,ar,r)*k%r,I=modular_pow2(w,cr,r)*w%r,we=modular_pow2(I,ur,r)*I%r,Ae=modular_pow2(we,ur,r)*I%r,Be=modular_pow2(Ae,sr,r)*a%r;return{pow_p_5_8:modular_pow2(Be,ir,r)*e%r,b2:n}}function adjustScalarBytes(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function uvRatio(e,r){const n=tr,i=modular_mod(r*r*r,n),s=modular_mod(i*i*r,n);let a=modular_mod(e*i*ed25519_pow_2_252_3(e*s).pow_p_5_8,n);const k=modular_mod(r*a*a,n),w=a,I=modular_mod(a*rr,n),we=k===e,Ae=k===modular_mod(-e,n),Be=k===modular_mod(-e*rr,n);return we&&(a=w),(Ae||Be)&&(a=I),modular_isNegativeLE(a,n)&&(a=modular_mod(-a,n)),{isValid:we||Ae,value:a}}const dr=Field(tr,void 0,!0),lr={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:dr,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:qe,randomBytes:utils_randomBytes,adjustScalarBytes,uvRatio},hr=twistedEdwards(lr);function ed25519_domain(e,r,n){if(r.length>255)throw new Error("Context is too big");return utils_concatBytes(utils_utf8ToBytes("SigEd25519 no Ed25519 collisions"),new Uint8Array([n?1:0,r.length]),r,e)}const fr=(dr.ORDER+BigInt(3))/BigInt(8);dr.pow(ir,fr),dr.sqrt(dr.neg(dr.ONE)),dr.ORDER,BigInt(5),BigInt(8),BigInt(486662);(function FpSqrtEven(e,r){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const n=e.sqrt(r);return e.isOdd(n)?e.neg(n):n})(dr,dr.neg(BigInt(486664)));BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var pr=n(682823),gr=n.n(pr),yr=n(939216),mr=n.n(yr);const br=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),kr=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),wr=new Uint32Array(64);class SHA256 extends HashMD{constructor(){super(64,32,8,!1),this.A=0|kr[0],this.B=0|kr[1],this.C=0|kr[2],this.D=0|kr[3],this.E=0|kr[4],this.F=0|kr[5],this.G=0|kr[6],this.H=0|kr[7]}get(){const{A:e,B:r,C:n,D:i,E:s,F:a,G:k,H:w}=this;return[e,r,n,i,s,a,k,w]}set(e,r,n,i,s,a,k,w){this.A=0|e,this.B=0|r,this.C=0|n,this.D=0|i,this.E=0|s,this.F=0|a,this.G=0|k,this.H=0|w}process(e,r){for(let n=0;n<16;n++,r+=4)wr[n]=e.getUint32(r,!1);for(let e=16;e<64;e++){const r=wr[e-15],n=wr[e-2],i=rotr(r,7)^rotr(r,18)^r>>>3,s=rotr(n,17)^rotr(n,19)^n>>>10;wr[e]=s+wr[e-7]+i+wr[e-16]|0}let{A:n,B:i,C:s,D:a,E:k,F:w,G:I,H:we}=this;for(let e=0;e<64;e++){const r=we+(rotr(k,6)^rotr(k,11)^rotr(k,25))+((Ae=k)&w^~Ae&I)+br[e]+wr[e]|0,Be=(rotr(n,2)^rotr(n,13)^rotr(n,22))+Maj(n,i,s)|0;we=I,I=w,w=k,k=a+r|0,a=s,s=i,i=n,n=r+Be|0}var Ae;n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,k=k+this.E|0,w=w+this.F|0,I=I+this.G|0,we=we+this.H|0,this.set(n,i,s,a,k,w,I,we)}roundClean(){wr.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Ir=utils_wrapConstructor((()=>new SHA256));var _r=n(881818),Sr=n(878918),Er=n(856115);class StructError extends TypeError{constructor(e,r){let n;const{message:i,...s}=e,{path:a}=e;super(0===a.length?i:"At path: "+a.join(".")+" -- "+i),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>{var i;return null!=(i=n)?i:n=[e,...r()]}}}function isObject(e){return"object"==typeof e&&null!=e}function print(e){return"string"==typeof e?JSON.stringify(e):""+e}function toFailure(e,r,n,i){if(!0===e)return;!1===e?e={}:"string"==typeof e&&(e={message:e});const{path:s,branch:a}=r,{type:k}=n,{refinement:w,message:I="Expected a value of type `"+k+"`"+(w?" with refinement `"+w+"`":"")+", but received: `"+print(i)+"`"}=e;return{value:i,type:k,refinement:w,key:s[s.length-1],path:s,branch:a,...e,message:I}}function*toFailures(e,r,n,i){(function isIterable(e){return isObject(e)&&"function"==typeof e[Symbol.iterator]})(e)||(e=[e]);for(const s of e){const e=toFailure(s,r,n,i);e&&(yield e)}}function*run(e,r,n={}){const{path:i=[],branch:s=[e],coerce:a=!1,mask:k=!1}=n,w={path:i,branch:s};if(a&&(e=r.coercer(e,w),k&&"type"!==r.type&&isObject(r.schema)&&isObject(e)&&!Array.isArray(e)))for(const n in e)void 0===r.schema[n]&&delete e[n];let I=!0;for(const n of r.validator(e,w))I=!1,yield[n,void 0];for(let[n,we,Ae]of r.entries(e,w)){const r=run(we,Ae,{path:void 0===n?i:[...i,n],branch:void 0===n?s:[...s,we],coerce:a,mask:k});for(const i of r)i[0]?(I=!1,yield[i[0],void 0]):a&&(we=i[1],void 0===n?e=we:e instanceof Map?e.set(n,we):e instanceof Set?e.add(we):isObject(e)&&(e[n]=we))}if(I)for(const n of r.refiner(e,w))I=!1,yield[n,void 0];I&&(yield[void 0,e])}class Struct{constructor(e){const{type:r,schema:n,validator:i,refiner:s,coercer:a=(e=>e),entries:k=function*(){}}=e;this.type=r,this.schema=n,this.entries=k,this.coercer=a,this.validator=i?(e,r)=>toFailures(i(e,r),r,this,e):()=>[],this.refiner=s?(e,r)=>toFailures(s(e,r),r,this,e):()=>[]}assert(e){return index_es_assert(e,this)}create(e){return create(e,this)}is(e){return is(e,this)}mask(e){return function mask(e,r){const n=validate(e,r,{coerce:!0,mask:!0});if(n[0])throw n[0];return n[1]}(e,this)}validate(e,r={}){return validate(e,this,r)}}function index_es_assert(e,r){const n=validate(e,r);if(n[0])throw n[0]}function create(e,r){const n=validate(e,r,{coerce:!0});if(n[0])throw n[0];return n[1]}function is(e,r){return!validate(e,r)[0]}function validate(e,r,n={}){const i=run(e,r,n),s=function shiftIterator(e){const{done:r,value:n}=e.next();return r?void 0:n}(i);if(s[0]){return[new StructError(s[0],(function*(){for(const e of i)e[0]&&(yield e[0])})),void 0]}return[void 0,s[1]]}function index_es_define(e,r){return new Struct({type:e,schema:null,validator:r})}function array(e){return new Struct({type:"array",schema:e,*entries(r){if(e&&Array.isArray(r))for(const[n,i]of r.entries())yield[n,i,e]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||"Expected an array value, but received: "+print(e)})}function index_es_boolean(){return index_es_define("boolean",(e=>"boolean"==typeof e))}function instance(e){return index_es_define("instance",(r=>r instanceof e||"Expected a `"+e.name+"` instance, but received: "+print(r)))}function literal(e){const r=print(e),n=typeof e;return new Struct({type:"literal",schema:"string"===n||"number"===n||"boolean"===n?e:null,validator:n=>n===e||"Expected the literal `"+r+"`, but received: "+print(n)})}function never(){return index_es_define("never",(()=>!1))}function nullable(e){return new Struct({...e,validator:(r,n)=>null===r||e.validator(r,n),refiner:(r,n)=>null===r||e.refiner(r,n)})}function index_es_number(){return index_es_define("number",(e=>"number"==typeof e&&!isNaN(e)||"Expected a number, but received: "+print(e)))}function optional(e){return new Struct({...e,validator:(r,n)=>void 0===r||e.validator(r,n),refiner:(r,n)=>void 0===r||e.refiner(r,n)})}function record(e,r){return new Struct({type:"record",schema:null,*entries(n){if(isObject(n))for(const i in n){const s=n[i];yield[i,i,e],yield[i,s,r]}},validator:e=>isObject(e)||"Expected an object, but received: "+print(e)})}function string(){return index_es_define("string",(e=>"string"==typeof e||"Expected a string, but received: "+print(e)))}function tuple(e){const r=never();return new Struct({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const i=Math.max(e.length,n.length);for(let s=0;s<i;s++)yield[s,n[s],e[s]||r]}},validator:e=>Array.isArray(e)||"Expected an array, but received: "+print(e)})}function type(e){const r=Object.keys(e);return new Struct({type:"type",schema:e,*entries(n){if(isObject(n))for(const i of r)yield[i,n[i],e[i]]},validator:e=>isObject(e)||"Expected an object, but received: "+print(e)})}function union(e){const r=e.map((e=>e.type)).join(" | ");return new Struct({type:"union",schema:null,validator(n,i){const s=[];for(const r of e){const[...e]=run(n,r,i),[a]=e;if(!a[0])return[];for(const[r]of e)r&&s.push(r)}return["Expected the value to satisfy a union of `"+r+"`, but received: "+print(n),...s]}})}function unknown(){return index_es_define("unknown",(()=>!0))}function coerce(e,r,n){return new Struct({...e,coercer:(i,s)=>is(i,r)?e.coercer(n(i,s),s):e.coercer(i,s)})}var vr=n(759499),Ar=n.n(vr),Tr=n(50162),Pr=n(172208);const Or=[],Mr=[],xr=[],Br=BigInt(0),Rr=BigInt(1),Cr=BigInt(2),Dr=BigInt(7),Nr=BigInt(256),zr=BigInt(113);for(let e=0,r=Rr,n=1,i=0;e<24;e++){[n,i]=[i,(2*n+3*i)%5],Or.push(2*(5*i+n)),Mr.push((e+1)*(e+2)/2%64);let s=Br;for(let e=0;e<7;e++)r=(r<<Rr^(r>>Dr)*zr)%Nr,r&Cr&&(s^=Rr<<(Rr<<BigInt(e))-Rr);xr.push(s)}const[Wr,jr]=split(xr,!0),rotlH=(e,r,n)=>n>32?rotlBH(e,r,n):rotlSH(e,r,n),rotlL=(e,r,n)=>n>32?rotlBL(e,r,n):rotlSL(e,r,n);class Keccak extends Hash{constructor(e,r,n,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,number(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");var a;this.state=new Uint8Array(200),this.state32=(a=this.state,new Uint32Array(a.buffer,a.byteOffset,Math.floor(a.byteLength/4)))}keccak(){k||byteSwap32(this.state32),function keccakP(e,r=24){const n=new Uint32Array(10);for(let i=24-r;i<24;i++){for(let r=0;r<10;r++)n[r]=e[r]^e[r+10]^e[r+20]^e[r+30]^e[r+40];for(let r=0;r<10;r+=2){const i=(r+8)%10,s=(r+2)%10,a=n[s],k=n[s+1],w=rotlH(a,k,1)^n[i],I=rotlL(a,k,1)^n[i+1];for(let n=0;n<50;n+=10)e[r+n]^=w,e[r+n+1]^=I}let r=e[2],s=e[3];for(let n=0;n<24;n++){const i=Mr[n],a=rotlH(r,s,i),k=rotlL(r,s,i),w=Or[n];r=e[w],s=e[w+1],e[w]=a,e[w+1]=k}for(let r=0;r<50;r+=10){for(let i=0;i<10;i++)n[i]=e[r+i];for(let i=0;i<10;i++)e[r+i]^=~n[(i+2)%10]&n[(i+4)%10]}e[0]^=Wr[i],e[1]^=jr[i]}n.fill(0)}(this.state32,this.rounds),k||byteSwap32(this.state32),this.posOut=0,this.pos=0}update(e){exists(this);const{blockLen:r,state:n}=this,i=(e=toBytes(e)).length;for(let s=0;s<i;){const a=Math.min(r-this.pos,i-s);for(let r=0;r<a;r++)n[this.pos++]^=e[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,128&r&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){exists(this,!1),bytes(e),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();const a=Math.min(n-this.posOut,s-i);e.set(r.subarray(this.posOut,this.posOut+a),i),this.posOut+=a,i+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:a}=this;return e||(e=new Keccak(r,n,i,a,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=a,e.destroyed=this.destroyed,e}}const gen=(e,r,n)=>utils_wrapConstructor((()=>new Keccak(r,e,n))),Lr=gen(1,136,32);class HMAC extends Hash{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,_assert_hash(e);const n=toBytes(r);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let e=0;e<s.length;e++)s[e]^=54;this.iHash.update(s),this.oHash=e.create();for(let e=0;e<s.length;e++)s[e]^=106;this.oHash.update(s),s.fill(0)}update(e){return exists(this),this.iHash.update(e),this}digestInto(e){exists(this),bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:a,outputLen:k}=this;return e.finished=i,e.destroyed=s,e.blockLen=a,e.outputLen=k,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const hmac=(e,r,n)=>new HMAC(e,r).update(n).digest();hmac.create=(e,r)=>new HMAC(e,r);const{bytesToNumberBE:Kr,hexToBytes:Fr}=i,Ur={Err:class DERErr extends Error{constructor(e=""){super(e)}},_parseInt(e){const{Err:r}=Ur;if(e.length<2||2!==e[0])throw new r("Invalid signature integer tag");const n=e[1],i=e.subarray(2,n+2);if(!n||i.length!==n)throw new r("Invalid signature integer: wrong length");if(128&i[0])throw new r("Invalid signature integer: negative");if(0===i[0]&&!(128&i[1]))throw new r("Invalid signature integer: unnecessary leading zero");return{d:Kr(i),l:e.subarray(n+2)}},toSig(e){const{Err:r}=Ur,n="string"==typeof e?Fr(e):e;utils_abytes(n);let i=n.length;if(i<2||48!=n[0])throw new r("Invalid signature tag");if(n[1]!==i-2)throw new r("Invalid signature: incorrect length");const{d:s,l:a}=Ur._parseInt(n.subarray(2)),{d:k,l:w}=Ur._parseInt(a);if(w.length)throw new r("Invalid signature: left bytes after parsing");return{r:s,s:k}},hexFromSig(e){const slice=e=>8&Number.parseInt(e[0],16)?"00"+e:e,h=e=>{const r=e.toString(16);return 1&r.length?`0${r}`:r},r=slice(h(e.s)),n=slice(h(e.r)),i=r.length/2,s=n.length/2,a=h(i),k=h(s);return`30${h(s+i+4)}02${k}${n}02${a}${r}`}},Vr=BigInt(0),qr=BigInt(1),Hr=(BigInt(2),BigInt(3));BigInt(4);function weierstrassPoints(e){const r=function validatePointOpts(e){const r=validateBasic(e);validateObject(r,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:i,a:s}=r;if(n){if(!i.eql(s,i.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof n||"bigint"!=typeof n.beta||"function"!=typeof n.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...r})}(e),{Fp:n}=r,i=r.toBytes||((e,r,i)=>{const s=r.toAffine();return abstract_utils_concatBytes(Uint8Array.from([4]),n.toBytes(s.x),n.toBytes(s.y))}),s=r.fromBytes||(e=>{const r=e.subarray(1);return{x:n.fromBytes(r.subarray(0,n.BYTES)),y:n.fromBytes(r.subarray(n.BYTES,2*n.BYTES))}});function weierstrassEquation(e){const{a:i,b:s}=r,a=n.sqr(e),k=n.mul(a,e);return n.add(n.add(k,n.mul(e,i)),s)}if(!n.eql(n.sqr(r.Gy),weierstrassEquation(r.Gx)))throw new Error("bad generator point: equation left != right");function isWithinCurveOrder(e){return"bigint"==typeof e&&Vr<e&&e<r.n}function assertGE(e){if(!isWithinCurveOrder(e))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function normPrivateKeyToScalar(e){const{allowedPrivateKeyLengths:n,nByteLength:i,wrapPrivateKey:s,n:a}=r;if(n&&"bigint"!=typeof e){if(abstract_utils_isBytes(e)&&(e=abstract_utils_bytesToHex(e)),"string"!=typeof e||!n.includes(e.length))throw new Error("Invalid key");e=e.padStart(2*i,"0")}let k;try{k="bigint"==typeof e?e:utils_bytesToNumberBE(utils_ensureBytes("private key",e,i))}catch(r){throw new Error(`private key must be ${i} bytes, hex or bigint, not ${typeof e}`)}return s&&(k=modular_mod(k,a)),assertGE(k),k}const a=new Map;function assertPrjPoint(e){if(!(e instanceof Point))throw new Error("ProjectivePoint expected")}class Point{constructor(e,r,i){if(this.px=e,this.py=r,this.pz=i,null==e||!n.isValid(e))throw new Error("x required");if(null==r||!n.isValid(r))throw new Error("y required");if(null==i||!n.isValid(i))throw new Error("z required")}static fromAffine(e){const{x:r,y:i}=e||{};if(!e||!n.isValid(r)||!n.isValid(i))throw new Error("invalid affine point");if(e instanceof Point)throw new Error("projective point not allowed");const is0=e=>n.eql(e,n.ZERO);return is0(r)&&is0(i)?Point.ZERO:new Point(r,i,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const r=n.invertBatch(e.map((e=>e.pz)));return e.map(((e,n)=>e.toAffine(r[n]))).map(Point.fromAffine)}static fromHex(e){const r=Point.fromAffine(s(utils_ensureBytes("pointHex",e)));return r.assertValidity(),r}static fromPrivateKey(e){return Point.BASE.multiply(normPrivateKeyToScalar(e))}_setWindowSize(e){this._WINDOW_SIZE=e,a.delete(this)}assertValidity(){if(this.is0()){if(r.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:e,y:i}=this.toAffine();if(!n.isValid(e)||!n.isValid(i))throw new Error("bad point: x or y not FE");const s=n.sqr(i),a=weierstrassEquation(e);if(!n.eql(s,a))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:e}=this.toAffine();if(n.isOdd)return!n.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){assertPrjPoint(e);const{px:r,py:i,pz:s}=this,{px:a,py:k,pz:w}=e,I=n.eql(n.mul(r,w),n.mul(a,s)),we=n.eql(n.mul(i,w),n.mul(k,s));return I&&we}negate(){return new Point(this.px,n.neg(this.py),this.pz)}double(){const{a:e,b:i}=r,s=n.mul(i,Hr),{px:a,py:k,pz:w}=this;let I=n.ZERO,we=n.ZERO,Ae=n.ZERO,Be=n.mul(a,a),Ce=n.mul(k,k),ze=n.mul(w,w),qe=n.mul(a,k);return qe=n.add(qe,qe),Ae=n.mul(a,w),Ae=n.add(Ae,Ae),I=n.mul(e,Ae),we=n.mul(s,ze),we=n.add(I,we),I=n.sub(Ce,we),we=n.add(Ce,we),we=n.mul(I,we),I=n.mul(qe,I),Ae=n.mul(s,Ae),ze=n.mul(e,ze),qe=n.sub(Be,ze),qe=n.mul(e,qe),qe=n.add(qe,Ae),Ae=n.add(Be,Be),Be=n.add(Ae,Be),Be=n.add(Be,ze),Be=n.mul(Be,qe),we=n.add(we,Be),ze=n.mul(k,w),ze=n.add(ze,ze),Be=n.mul(ze,qe),I=n.sub(I,Be),Ae=n.mul(ze,Ce),Ae=n.add(Ae,Ae),Ae=n.add(Ae,Ae),new Point(I,we,Ae)}add(e){assertPrjPoint(e);const{px:i,py:s,pz:a}=this,{px:k,py:w,pz:I}=e;let we=n.ZERO,Ae=n.ZERO,Be=n.ZERO;const Ce=r.a,ze=n.mul(r.b,Hr);let qe=n.mul(i,k),$e=n.mul(s,w),Ye=n.mul(a,I),Je=n.add(i,s),et=n.add(k,w);Je=n.mul(Je,et),et=n.add(qe,$e),Je=n.sub(Je,et),et=n.add(i,a);let rt=n.add(k,I);return et=n.mul(et,rt),rt=n.add(qe,Ye),et=n.sub(et,rt),rt=n.add(s,a),we=n.add(w,I),rt=n.mul(rt,we),we=n.add($e,Ye),rt=n.sub(rt,we),Be=n.mul(Ce,et),we=n.mul(ze,Ye),Be=n.add(we,Be),we=n.sub($e,Be),Be=n.add($e,Be),Ae=n.mul(we,Be),$e=n.add(qe,qe),$e=n.add($e,qe),Ye=n.mul(Ce,Ye),et=n.mul(ze,et),$e=n.add($e,Ye),Ye=n.sub(qe,Ye),Ye=n.mul(Ce,Ye),et=n.add(et,Ye),qe=n.mul($e,et),Ae=n.add(Ae,qe),qe=n.mul(rt,et),we=n.mul(Je,we),we=n.sub(we,qe),qe=n.mul(Je,$e),Be=n.mul(rt,Be),Be=n.add(Be,qe),new Point(we,Ae,Be)}subtract(e){return this.add(e.negate())}is0(){return this.equals(Point.ZERO)}wNAF(e){return w.wNAFCached(this,a,e,(e=>{const r=n.invertBatch(e.map((e=>e.pz)));return e.map(((e,n)=>e.toAffine(r[n]))).map(Point.fromAffine)}))}multiplyUnsafe(e){const i=Point.ZERO;if(e===Vr)return i;if(assertGE(e),e===qr)return this;const{endo:s}=r;if(!s)return w.unsafeLadder(this,e);let{k1neg:a,k1:k,k2neg:I,k2:we}=s.splitScalar(e),Ae=i,Be=i,Ce=this;for(;k>Vr||we>Vr;)k&qr&&(Ae=Ae.add(Ce)),we&qr&&(Be=Be.add(Ce)),Ce=Ce.double(),k>>=qr,we>>=qr;return a&&(Ae=Ae.negate()),I&&(Be=Be.negate()),Be=new Point(n.mul(Be.px,s.beta),Be.py,Be.pz),Ae.add(Be)}multiply(e){assertGE(e);let i,s,a=e;const{endo:k}=r;if(k){const{k1neg:e,k1:r,k2neg:I,k2:we}=k.splitScalar(a);let{p:Ae,f:Be}=this.wNAF(r),{p:Ce,f:ze}=this.wNAF(we);Ae=w.constTimeNegate(e,Ae),Ce=w.constTimeNegate(I,Ce),Ce=new Point(n.mul(Ce.px,k.beta),Ce.py,Ce.pz),i=Ae.add(Ce),s=Be.add(ze)}else{const{p:e,f:r}=this.wNAF(a);i=e,s=r}return Point.normalizeZ([i,s])[0]}multiplyAndAddUnsafe(e,r,n){const i=Point.BASE,mul=(e,r)=>r!==Vr&&r!==qr&&e.equals(i)?e.multiply(r):e.multiplyUnsafe(r),s=mul(this,r).add(mul(e,n));return s.is0()?void 0:s}toAffine(e){const{px:r,py:i,pz:s}=this,a=this.is0();null==e&&(e=a?n.ONE:n.inv(s));const k=n.mul(r,e),w=n.mul(i,e),I=n.mul(s,e);if(a)return{x:n.ZERO,y:n.ZERO};if(!n.eql(I,n.ONE))throw new Error("invZ was invalid");return{x:k,y:w}}isTorsionFree(){const{h:e,isTorsionFree:n}=r;if(e===qr)return!0;if(n)return n(Point,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:n}=r;return e===qr?this:n?n(Point,this):this.multiplyUnsafe(r.h)}toRawBytes(e=!0){return this.assertValidity(),i(Point,this,e)}toHex(e=!0){return abstract_utils_bytesToHex(this.toRawBytes(e))}}Point.BASE=new Point(r.Gx,r.Gy,n.ONE),Point.ZERO=new Point(n.ZERO,n.ONE,n.ZERO);const k=r.nBitLength,w=wNAF(Point,r.endo?Math.ceil(k/2):k);return{CURVE:r,ProjectivePoint:Point,normPrivateKeyToScalar,weierstrassEquation,isWithinCurveOrder}}function weierstrass(e){const r=function weierstrass_validateOpts(e){const r=validateBasic(e);return validateObject(r,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...r})}(e),{Fp:n,n:i}=r,s=n.BYTES+1,a=2*n.BYTES+1;function modN(e){return modular_mod(e,i)}function invN(e){return invert(e,i)}const{ProjectivePoint:k,normPrivateKeyToScalar:w,weierstrassEquation:I,isWithinCurveOrder:we}=weierstrassPoints({...r,toBytes(e,r,i){const s=r.toAffine(),a=n.toBytes(s.x),k=abstract_utils_concatBytes;return i?k(Uint8Array.from([r.hasEvenY()?2:3]),a):k(Uint8Array.from([4]),a,n.toBytes(s.y))},fromBytes(e){const r=e.length,i=e[0],k=e.subarray(1);if(r!==s||2!==i&&3!==i){if(r===a&&4===i){return{x:n.fromBytes(k.subarray(0,n.BYTES)),y:n.fromBytes(k.subarray(n.BYTES,2*n.BYTES))}}throw new Error(`Point of length ${r} was invalid. Expected ${s} compressed bytes or ${a} uncompressed bytes`)}{const e=utils_bytesToNumberBE(k);if(!function isValidFieldElement(e){return Vr<e&&e<n.ORDER}(e))throw new Error("Point is not on curve");const r=I(e);let s;try{s=n.sqrt(r)}catch(e){const r=e instanceof Error?": "+e.message:"";throw new Error("Point is not on curve"+r)}return!(1&~i)!==((s&qr)===qr)&&(s=n.neg(s)),{x:e,y:s}}}}),numToNByteStr=e=>abstract_utils_bytesToHex(utils_numberToBytesBE(e,r.nByteLength));function isBiggerThanHalfOrder(e){return e>i>>qr}const slcNum=(e,r,n)=>utils_bytesToNumberBE(e.slice(r,n));class Signature{constructor(e,r,n){this.r=e,this.s=r,this.recovery=n,this.assertValidity()}static fromCompact(e){const n=r.nByteLength;return e=utils_ensureBytes("compactSignature",e,2*n),new Signature(slcNum(e,0,n),slcNum(e,n,2*n))}static fromDER(e){const{r,s:n}=Ur.toSig(utils_ensureBytes("DER",e));return new Signature(r,n)}assertValidity(){if(!we(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!we(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new Signature(this.r,this.s,e)}recoverPublicKey(e){const{r:i,s,recovery:a}=this,w=Ce(utils_ensureBytes("msgHash",e));if(null==a||![0,1,2,3].includes(a))throw new Error("recovery id invalid");const I=2===a||3===a?i+r.n:i;if(I>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const we=1&a?"03":"02",Ae=k.fromHex(we+numToNByteStr(I)),Be=invN(I),ze=modN(-w*Be),qe=modN(s*Be),$e=k.BASE.multiplyAndAddUnsafe(Ae,ze,qe);if(!$e)throw new Error("point at infinify");return $e.assertValidity(),$e}hasHighS(){return isBiggerThanHalfOrder(this.s)}normalizeS(){return this.hasHighS()?new Signature(this.r,modN(-this.s),this.recovery):this}toDERRawBytes(){return utils_hexToBytes(this.toDERHex())}toDERHex(){return Ur.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return utils_hexToBytes(this.toCompactHex())}toCompactHex(){return numToNByteStr(this.r)+numToNByteStr(this.s)}}const Ae={isValidPrivateKey(e){try{return w(e),!0}catch(e){return!1}},normPrivateKeyToScalar:w,randomPrivateKey:()=>{const e=getMinHashLength(r.n);return function mapHashToField(e,r,n=!1){const i=e.length,s=getFieldBytesLength(r),a=getMinHashLength(r);if(i<16||i<a||i>1024)throw new Error(`expected ${a}-1024 bytes of input, got ${i}`);const k=modular_mod(n?utils_bytesToNumberBE(e):utils_bytesToNumberLE(e),r-ot)+ot;return n?utils_numberToBytesLE(k,s):utils_numberToBytesBE(k,s)}(r.randomBytes(e),r.n)},precompute:(e=8,r=k.BASE)=>(r._setWindowSize(e),r.multiply(BigInt(3)),r)};function isProbPub(e){const r=abstract_utils_isBytes(e),n="string"==typeof e,i=(r||n)&&e.length;return r?i===s||i===a:n?i===2*s||i===2*a:e instanceof k}const Be=r.bits2int||function(e){const n=utils_bytesToNumberBE(e),i=8*e.length-r.nBitLength;return i>0?n>>BigInt(i):n},Ce=r.bits2int_modN||function(e){return modN(Be(e))},ze=bitMask(r.nBitLength);function int2octets(e){if("bigint"!=typeof e)throw new Error("bigint expected");if(!(Vr<=e&&e<ze))throw new Error(`bigint expected < 2^${r.nBitLength}`);return utils_numberToBytesBE(e,r.nByteLength)}function prepSig(e,i,s=qe){if(["recovered","canonical"].some((e=>e in s)))throw new Error("sign() legacy options not supported");const{hash:a,randomBytes:I}=r;let{lowS:Ae,prehash:ze,extraEntropy:$e}=s;null==Ae&&(Ae=!0),e=utils_ensureBytes("msgHash",e),ze&&(e=utils_ensureBytes("prehashed msgHash",a(e)));const Ye=Ce(e),Je=w(i),et=[int2octets(Je),int2octets(Ye)];if(null!=$e&&!1!==$e){const e=!0===$e?I(n.BYTES):$e;et.push(utils_ensureBytes("extraEntropy",e))}const rt=abstract_utils_concatBytes(...et),it=Ye;return{seed:rt,k2sig:function k2sig(e){const r=Be(e);if(!we(r))return;const n=invN(r),i=k.BASE.multiply(r).toAffine(),s=modN(i.x);if(s===Vr)return;const a=modN(n*modN(it+s*Je));if(a===Vr)return;let w=(i.x===s?0:2)|Number(i.y&qr),I=a;return Ae&&isBiggerThanHalfOrder(a)&&(I=function normalizeS(e){return isBiggerThanHalfOrder(e)?modN(-e):e}(a),w^=1),new Signature(s,I,w)}}}const qe={lowS:r.lowS,prehash:!1},$e={lowS:r.lowS,prehash:!1};return k.BASE._setWindowSize(8),{CURVE:r,getPublicKey:function getPublicKey(e,r=!0){return k.fromPrivateKey(e).toRawBytes(r)},getSharedSecret:function getSharedSecret(e,r,n=!0){if(isProbPub(e))throw new Error("first arg must be private key");if(!isProbPub(r))throw new Error("second arg must be public key");return k.fromHex(r).multiply(w(e)).toRawBytes(n)},sign:function sign(e,n,i=qe){const{seed:s,k2sig:a}=prepSig(e,n,i),k=r;return createHmacDrbg(k.hash.outputLen,k.nByteLength,k.hmac)(s,a)},verify:function verify(e,n,i,s=$e){const a=e;if(n=utils_ensureBytes("msgHash",n),i=utils_ensureBytes("publicKey",i),"strict"in s)throw new Error("options.strict was renamed to lowS");const{lowS:w,prehash:I}=s;let we,Ae;try{if("string"==typeof a||abstract_utils_isBytes(a))try{we=Signature.fromDER(a)}catch(e){if(!(e instanceof Ur.Err))throw e;we=Signature.fromCompact(a)}else{if("object"!=typeof a||"bigint"!=typeof a.r||"bigint"!=typeof a.s)throw new Error("PARSE");{const{r:e,s:r}=a;we=new Signature(e,r)}}Ae=k.fromHex(i)}catch(e){if("PARSE"===e.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(w&&we.hasHighS())return!1;I&&(n=r.hash(n));const{r:Be,s:ze}=we,qe=Ce(n),Ye=invN(ze),Je=modN(qe*Ye),et=modN(Be*Ye),rt=k.BASE.multiplyAndAddUnsafe(Ae,Je,et)?.toAffine();return!!rt&&modN(rt.x)===Be},ProjectivePoint:k,Signature,utils:Ae}}function getHash(e){return{hash:e,hmac:(r,...n)=>hmac(e,r,utils_concatBytes(...n)),randomBytes:utils_randomBytes}}const Gr=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),$r=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Yr=BigInt(1),Zr=BigInt(2),divNearest=(e,r)=>(e+r/Zr)/r;function sqrtMod(e){const r=Gr,n=BigInt(3),i=BigInt(6),s=BigInt(11),a=BigInt(22),k=BigInt(23),w=BigInt(44),I=BigInt(88),we=e*e*e%r,Ae=we*we*e%r,Be=modular_pow2(Ae,n,r)*Ae%r,Ce=modular_pow2(Be,n,r)*Ae%r,ze=modular_pow2(Ce,Zr,r)*we%r,qe=modular_pow2(ze,s,r)*ze%r,$e=modular_pow2(qe,a,r)*qe%r,Ye=modular_pow2($e,w,r)*$e%r,Je=modular_pow2(Ye,I,r)*Ye%r,et=modular_pow2(Je,w,r)*$e%r,rt=modular_pow2(et,n,r)*Ae%r,it=modular_pow2(rt,k,r)*qe%r,ot=modular_pow2(it,i,r)*we%r,ht=modular_pow2(ot,Zr,r);if(!Jr.eql(Jr.sqr(ht),e))throw new Error("Cannot find square root");return ht}const Jr=Field(Gr,void 0,void 0,{sqrt:sqrtMod}),Qr=function createCurve(e,r){const create=r=>weierstrass({...e,...getHash(r)});return Object.freeze({...create(r),create})}({a:BigInt(0),b:BigInt(7),Fp:Jr,n:$r,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const r=$r,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),i=-Yr*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),a=n,k=BigInt("0x100000000000000000000000000000000"),w=divNearest(a*e,r),I=divNearest(-i*e,r);let we=modular_mod(e-w*n-I*s,r),Ae=modular_mod(-w*i-I*a,r);const Be=we>k,Ce=Ae>k;if(Be&&(we=r-we),Ce&&(Ae=r-Ae),we>k||Ae>k)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:Be,k1:we,k2neg:Ce,k2:Ae}}}},Ir);BigInt(0);Qr.ProjectivePoint;const Xr=hr.utils.randomPrivateKey,generateKeypair=()=>{const e=hr.utils.randomPrivateKey(),r=sn(e),n=new Uint8Array(64);return n.set(e),n.set(r,32),{publicKey:r,secretKey:n}},sn=hr.getPublicKey;function isOnCurve(e){try{return hr.ExtendedPoint.fromHex(e),!0}catch{return!1}}const sign=(e,r)=>hr.sign(e,r.slice(0,32)),an=hr.verify,toBuffer=e=>s.Buffer.isBuffer(e)?e:e instanceof Uint8Array?s.Buffer.from(e.buffer,e.byteOffset,e.byteLength):s.Buffer.from(e);class index_browser_esm_Struct{constructor(e){Object.assign(this,e)}encode(){return s.Buffer.from((0,_r.serialize)(cn,this))}static decode(e){return(0,_r.deserialize)(cn,this,e)}static decodeUnchecked(e){return(0,_r.deserializeUnchecked)(cn,this,e)}}class Enum extends index_browser_esm_Struct{constructor(e){if(super(e),this.enum="",1!==Object.keys(e).length)throw new Error("Enum can only take single value");Object.keys(e).map((e=>{this.enum=e}))}}const cn=new Map;var un;const dn=32,ln=32;let pn=1;class PublicKey extends index_browser_esm_Struct{constructor(e){if(super({}),this._bn=void 0,function isPublicKeyData(e){return void 0!==e._bn}(e))this._bn=e._bn;else{if("string"==typeof e){const r=mr().decode(e);if(r.length!=ln)throw new Error("Invalid public key input");this._bn=new(gr())(r)}else this._bn=new(gr())(e);if(this._bn.byteLength()>ln)throw new Error("Invalid public key input")}}static unique(){const e=new PublicKey(pn);return pn+=1,new PublicKey(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return mr().encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(s.Buffer);if(e.length===ln)return e;const r=s.Buffer.alloc(32);return e.copy(r,32-e.length),r}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,r,n){const i=s.Buffer.concat([e.toBuffer(),s.Buffer.from(r),n.toBuffer()]),a=Ir(i);return new PublicKey(a)}static createProgramAddressSync(e,r){let n=s.Buffer.alloc(0);e.forEach((function(e){if(e.length>dn)throw new TypeError("Max seed length exceeded");n=s.Buffer.concat([n,toBuffer(e)])})),n=s.Buffer.concat([n,r.toBuffer(),s.Buffer.from("ProgramDerivedAddress")]);const i=Ir(n);if(isOnCurve(i))throw new Error("Invalid seeds, address must fall off the curve");return new PublicKey(i)}static async createProgramAddress(e,r){return this.createProgramAddressSync(e,r)}static findProgramAddressSync(e,r){let n,i=255;for(;0!=i;){try{const a=e.concat(s.Buffer.from([i]));n=this.createProgramAddressSync(a,r)}catch(e){if(e instanceof TypeError)throw e;i--;continue}return[n,i]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,r){return this.findProgramAddressSync(e,r)}static isOnCurve(e){return isOnCurve(new PublicKey(e).toBytes())}}un=PublicKey,PublicKey.default=new un("11111111111111111111111111111111"),cn.set(PublicKey,{kind:"struct",fields:[["_bn","u256"]]});class Account{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const r=toBuffer(e);if(64!==e.length)throw new Error("bad secret key size");this._publicKey=r.slice(32,64),this._secretKey=r.slice(0,32)}else this._secretKey=toBuffer(Xr()),this._publicKey=toBuffer(sn(this._secretKey))}get publicKey(){return new PublicKey(this._publicKey)}get secretKey(){return s.Buffer.concat([this._secretKey,this._publicKey],64)}}const gn=new PublicKey("BPFLoader1111111111111111111111111111111111"),yn=1232,mn=127,bn=64;class TransactionExpiredBlockheightExceededError extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(TransactionExpiredBlockheightExceededError.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class TransactionExpiredTimeoutError extends Error{constructor(e,r){super(`Transaction was not confirmed in ${r.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(TransactionExpiredTimeoutError.prototype,"name",{value:"TransactionExpiredTimeoutError"});class TransactionExpiredNonceInvalidError extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(TransactionExpiredNonceInvalidError.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class MessageAccountKeys{constructor(e,r){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=r}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const r of this.keySegments()){if(e<r.length)return r[e];e-=r.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach(((e,n)=>{r.set(e.toBase58(),n)}));const findKeyIndex=e=>{const n=r.get(e.toBase58());if(void 0===n)throw new Error("Encountered an unknown instruction account key during compilation");return n};return e.map((e=>({programIdIndex:findKeyIndex(e.programId),accountKeyIndexes:e.keys.map((e=>findKeyIndex(e.pubkey))),data:e.data})))}}const publicKey=(e="publicKey")=>Sr.blob(32,e),signature=(e="signature")=>Sr.blob(64,e),rustString=(e="string")=>{const r=Sr.struct([Sr.u32("length"),Sr.u32("lengthPadding"),Sr.blob(Sr.offset(Sr.u32(),-8),"chars")],e),n=r.decode.bind(r),i=r.encode.bind(r),a=r;return a.decode=(e,r)=>n(e,r).chars.toString(),a.encode=(e,r,n)=>{const a={chars:s.Buffer.from(e,"utf8")};return i(a,r,n)},a.alloc=e=>Sr.u32().span+Sr.u32().span+s.Buffer.from(e,"utf8").length,a};function getAlloc(e,r){const getItemAlloc=e=>{if(e.span>=0)return e.span;if("function"==typeof e.alloc)return e.alloc(r[e.property]);if("count"in e&&"elementLayout"in e){const n=r[e.property];if(Array.isArray(n))return n.length*getItemAlloc(e.elementLayout)}else if("fields"in e)return getAlloc({layout:e},r[e.property]);return 0};let n=0;return e.layout.fields.forEach((e=>{n+=getItemAlloc(e)})),n}function decodeLength(e){let r=0,n=0;for(;;){let i=e.shift();if(r|=(127&i)<<7*n,n+=1,!(128&i))break}return r}function encodeLength(e,r){let n=r;for(;;){let r=127&n;if(n>>=7,0==n){e.push(r);break}r|=128,e.push(r)}}function index_browser_esm_assert(e,r){if(!e)throw new Error(r||"Assertion failed")}class CompiledKeys{constructor(e,r){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=r}static compile(e,r){const n=new Map,getOrInsertDefault=e=>{const r=e.toBase58();let i=n.get(r);return void 0===i&&(i={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(r,i)),i},i=getOrInsertDefault(r);i.isSigner=!0,i.isWritable=!0;for(const r of e){getOrInsertDefault(r.programId).isInvoked=!0;for(const e of r.keys){const r=getOrInsertDefault(e.pubkey);r.isSigner||=e.isSigner,r.isWritable||=e.isWritable}}return new CompiledKeys(r,n)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];index_browser_esm_assert(e.length<=256,"Max static account keys length exceeded");const r=e.filter((([,e])=>e.isSigner&&e.isWritable)),n=e.filter((([,e])=>e.isSigner&&!e.isWritable)),i=e.filter((([,e])=>!e.isSigner&&e.isWritable)),s=e.filter((([,e])=>!e.isSigner&&!e.isWritable)),a={numRequiredSignatures:r.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:s.length};{index_browser_esm_assert(r.length>0,"Expected at least one writable signer key");const[e]=r[0];index_browser_esm_assert(e===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}return[a,[...r.map((([e])=>new PublicKey(e))),...n.map((([e])=>new PublicKey(e))),...i.map((([e])=>new PublicKey(e))),...s.map((([e])=>new PublicKey(e)))]]}extractTableLookup(e){const[r,n]=this.drainKeysFoundInLookupTable(e.state.addresses,(e=>!e.isSigner&&!e.isInvoked&&e.isWritable)),[i,s]=this.drainKeysFoundInLookupTable(e.state.addresses,(e=>!e.isSigner&&!e.isInvoked&&!e.isWritable));if(0!==r.length||0!==i.length)return[{accountKey:e.key,writableIndexes:r,readonlyIndexes:i},{writable:n,readonly:s}]}drainKeysFoundInLookupTable(e,r){const n=new Array,i=new Array;for(const[s,a]of this.keyMetaMap.entries())if(r(a)){const r=new PublicKey(s),a=e.findIndex((e=>e.equals(r)));a>=0&&(index_browser_esm_assert(a<256,"Max lookup table index exceeded"),n.push(a),i.push(r),this.keyMetaMap.delete(s))}return[n,i]}}const kn="Reached end of buffer unexpectedly";function guardedShift(e){if(0===e.length)throw new Error(kn);return e.shift()}function guardedSplice(e,...r){const[n]=r;if(2===r.length?n+(r[1]??0)>e.length:n>=e.length)throw new Error(kn);return e.splice(...r)}class Message{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map((e=>new PublicKey(e))),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach((e=>this.indexToProgramIds.set(e.programIdIndex,this.accountKeys[e.programIdIndex])))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map((e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:mr().decode(e.data)})))}get addressTableLookups(){return[]}getAccountKeys(){return new MessageAccountKeys(this.staticAccountKeys)}static compile(e){const r=CompiledKeys.compile(e.instructions,e.payerKey),[n,i]=r.getMessageComponents(),s=new MessageAccountKeys(i).compileInstructions(e.instructions).map((e=>({programIdIndex:e.programIdIndex,accounts:e.accountKeyIndexes,data:mr().encode(e.data)})));return new Message({header:n,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:s})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const r=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){return e-r<this.accountKeys.length-r-this.header.numReadonlyUnsignedAccounts}return e<r-this.header.numReadonlySignedAccounts}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter(((e,r)=>!this.isProgramId(r)))}serialize(){const e=this.accountKeys.length;let r=[];encodeLength(r,e);const n=this.instructions.map((e=>{const{accounts:r,programIdIndex:n}=e,i=Array.from(mr().decode(e.data));let a=[];encodeLength(a,r.length);let k=[];return encodeLength(k,i.length),{programIdIndex:n,keyIndicesCount:s.Buffer.from(a),keyIndices:r,dataLength:s.Buffer.from(k),data:i}}));let i=[];encodeLength(i,n.length);let a=s.Buffer.alloc(yn);s.Buffer.from(i).copy(a);let k=i.length;n.forEach((e=>{const r=Sr.struct([Sr.u8("programIdIndex"),Sr.blob(e.keyIndicesCount.length,"keyIndicesCount"),Sr.seq(Sr.u8("keyIndex"),e.keyIndices.length,"keyIndices"),Sr.blob(e.dataLength.length,"dataLength"),Sr.seq(Sr.u8("userdatum"),e.data.length,"data")]).encode(e,a,k);k+=r})),a=a.slice(0,k);const w=Sr.struct([Sr.blob(1,"numRequiredSignatures"),Sr.blob(1,"numReadonlySignedAccounts"),Sr.blob(1,"numReadonlyUnsignedAccounts"),Sr.blob(r.length,"keyCount"),Sr.seq(publicKey("key"),e,"keys"),publicKey("recentBlockhash")]),I={numRequiredSignatures:s.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:s.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:s.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:s.Buffer.from(r),keys:this.accountKeys.map((e=>toBuffer(e.toBytes()))),recentBlockhash:mr().decode(this.recentBlockhash)};let we=s.Buffer.alloc(2048);const Ae=w.encode(I,we);return a.copy(we,Ae),we.slice(0,Ae+a.length)}static from(e){let r=[...e];const n=guardedShift(r);if(n!==(n&mn))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=guardedShift(r),a=guardedShift(r),k=decodeLength(r);let w=[];for(let e=0;e<k;e++){const e=guardedSplice(r,0,ln);w.push(new PublicKey(s.Buffer.from(e)))}const I=guardedSplice(r,0,ln),we=decodeLength(r);let Ae=[];for(let e=0;e<we;e++){const e=guardedShift(r),n=guardedSplice(r,0,decodeLength(r)),i=guardedSplice(r,0,decodeLength(r)),a=mr().encode(s.Buffer.from(i));Ae.push({programIdIndex:e,accounts:n,data:a})}const Be={header:{numRequiredSignatures:n,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:a},recentBlockhash:mr().encode(s.Buffer.from(I)),accountKeys:w,instructions:Ae};return new Message(Be)}}class MessageV0{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const r of this.addressTableLookups)e+=r.readonlyIndexes.length+r.writableIndexes.length;return e}getAccountKeys(e){let r;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");r=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)r=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new MessageAccountKeys(this.staticAccountKeys,r)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const r=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(e>=n){return e-n<this.addressTableLookups.reduce(((e,r)=>e+r.writableIndexes.length),0)}if(e>=this.header.numRequiredSignatures){return e-r<n-r-this.header.numReadonlyUnsignedAccounts}return e<r-this.header.numReadonlySignedAccounts}resolveAddressTableLookups(e){const r={writable:[],readonly:[]};for(const n of this.addressTableLookups){const i=e.find((e=>e.key.equals(n.accountKey)));if(!i)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(const e of n.writableIndexes){if(!(e<i.state.addresses.length))throw new Error(`Failed to find address for index ${e} in address lookup table ${n.accountKey.toBase58()}`);r.writable.push(i.state.addresses[e])}for(const e of n.readonlyIndexes){if(!(e<i.state.addresses.length))throw new Error(`Failed to find address for index ${e} in address lookup table ${n.accountKey.toBase58()}`);r.readonly.push(i.state.addresses[e])}}return r}static compile(e){const r=CompiledKeys.compile(e.instructions,e.payerKey),n=new Array,i={writable:new Array,readonly:new Array},s=e.addressLookupTableAccounts||[];for(const e of s){const s=r.extractTableLookup(e);if(void 0!==s){const[e,{writable:r,readonly:a}]=s;n.push(e),i.writable.push(...r),i.readonly.push(...a)}}const[a,k]=r.getMessageComponents(),w=new MessageAccountKeys(k,i).compileInstructions(e.instructions);return new MessageV0({header:a,staticAccountKeys:k,recentBlockhash:e.recentBlockhash,compiledInstructions:w,addressTableLookups:n})}serialize(){const e=Array();encodeLength(e,this.staticAccountKeys.length);const r=this.serializeInstructions(),n=Array();encodeLength(n,this.compiledInstructions.length);const i=this.serializeAddressTableLookups(),s=Array();encodeLength(s,this.addressTableLookups.length);const a=Sr.struct([Sr.u8("prefix"),Sr.struct([Sr.u8("numRequiredSignatures"),Sr.u8("numReadonlySignedAccounts"),Sr.u8("numReadonlyUnsignedAccounts")],"header"),Sr.blob(e.length,"staticAccountKeysLength"),Sr.seq(publicKey(),this.staticAccountKeys.length,"staticAccountKeys"),publicKey("recentBlockhash"),Sr.blob(n.length,"instructionsLength"),Sr.blob(r.length,"serializedInstructions"),Sr.blob(s.length,"addressTableLookupsLength"),Sr.blob(i.length,"serializedAddressTableLookups")]),k=new Uint8Array(yn),w=a.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map((e=>e.toBytes())),recentBlockhash:mr().decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:r,addressTableLookupsLength:new Uint8Array(s),serializedAddressTableLookups:i},k);return k.slice(0,w)}serializeInstructions(){let e=0;const r=new Uint8Array(yn);for(const n of this.compiledInstructions){const i=Array();encodeLength(i,n.accountKeyIndexes.length);const s=Array();encodeLength(s,n.data.length);e+=Sr.struct([Sr.u8("programIdIndex"),Sr.blob(i.length,"encodedAccountKeyIndexesLength"),Sr.seq(Sr.u8(),n.accountKeyIndexes.length,"accountKeyIndexes"),Sr.blob(s.length,"encodedDataLength"),Sr.blob(n.data.length,"data")]).encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(s),data:n.data},r,e)}return r.slice(0,e)}serializeAddressTableLookups(){let e=0;const r=new Uint8Array(yn);for(const n of this.addressTableLookups){const i=Array();encodeLength(i,n.writableIndexes.length);const s=Array();encodeLength(s,n.readonlyIndexes.length);e+=Sr.struct([publicKey("accountKey"),Sr.blob(i.length,"encodedWritableIndexesLength"),Sr.seq(Sr.u8(),n.writableIndexes.length,"writableIndexes"),Sr.blob(s.length,"encodedReadonlyIndexesLength"),Sr.seq(Sr.u8(),n.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(s),readonlyIndexes:n.readonlyIndexes},r,e)}return r.slice(0,e)}static deserialize(e){let r=[...e];const n=guardedShift(r),i=n&mn;index_browser_esm_assert(n!==i,"Expected versioned message but received legacy message");index_browser_esm_assert(0===i,`Expected versioned message with version 0 but found version ${i}`);const s={numRequiredSignatures:guardedShift(r),numReadonlySignedAccounts:guardedShift(r),numReadonlyUnsignedAccounts:guardedShift(r)},a=[],k=decodeLength(r);for(let e=0;e<k;e++)a.push(new PublicKey(guardedSplice(r,0,ln)));const w=mr().encode(guardedSplice(r,0,ln)),I=decodeLength(r),we=[];for(let e=0;e<I;e++){const e=guardedShift(r),n=guardedSplice(r,0,decodeLength(r)),i=decodeLength(r),s=new Uint8Array(guardedSplice(r,0,i));we.push({programIdIndex:e,accountKeyIndexes:n,data:s})}const Ae=decodeLength(r),Be=[];for(let e=0;e<Ae;e++){const e=new PublicKey(guardedSplice(r,0,ln)),n=guardedSplice(r,0,decodeLength(r)),i=guardedSplice(r,0,decodeLength(r));Be.push({accountKey:e,writableIndexes:n,readonlyIndexes:i})}return new MessageV0({header:s,staticAccountKeys:a,recentBlockhash:w,compiledInstructions:we,addressTableLookups:Be})}}const In={deserializeMessageVersion(e){const r=e[0],n=r&mn;return n===r?"legacy":n},deserialize:e=>{const r=In.deserializeMessageVersion(e);if("legacy"===r)return Message.from(e);if(0===r)return MessageV0.deserialize(e);throw new Error(`Transaction message version ${r} deserialization is not supported`)}};let Mn=function(e){return e[e.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",e[e.PROCESSED=1]="PROCESSED",e[e.TIMED_OUT=2]="TIMED_OUT",e[e.NONCE_INVALID=3]="NONCE_INVALID",e}({});const Bn=s.Buffer.alloc(bn).fill(0);class TransactionInstruction{constructor(e){this.keys=void 0,this.programId=void 0,this.data=s.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map((({pubkey:e,isSigner:r,isWritable:n})=>({pubkey:e.toJSON(),isSigner:r,isWritable:n}))),programId:this.programId.toJSON(),data:[...this.data]}}}class Transaction{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:r,nonceInfo:n}=e;this.minNonceContextSlot=r,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:r,lastValidBlockHeight:n}=e;this.recentBlockhash=r,this.lastValidBlockHeight=n}else{const{recentBlockhash:r,nonceInfo:n}=e;n&&(this.nonceInfo=n),this.recentBlockhash=r}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map((e=>e.toJSON())),signers:this.signatures.map((({publicKey:e})=>e.toJSON()))}}add(...e){if(0===e.length)throw new Error("No instructions");return e.forEach((e=>{"instructions"in e?this.instructions=this.instructions.concat(e.instructions):"data"in e&&"programId"in e&&"keys"in e?this.instructions.push(e):this.instructions.push(new TransactionInstruction(e))})),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,r,n;if(this.nonceInfo?(e=this.nonceInfo.nonce,r=this.instructions[0]!=this.nonceInfo.nonceInstruction?[this.nonceInfo.nonceInstruction,...this.instructions]:this.instructions):(e=this.recentBlockhash,r=this.instructions),!e)throw new Error("Transaction recentBlockhash required");if(r.length<1&&console.warn("No instructions provided"),this.feePayer)n=this.feePayer;else{if(!(this.signatures.length>0&&this.signatures[0].publicKey))throw new Error("Transaction fee payer required");n=this.signatures[0].publicKey}for(let e=0;e<r.length;e++)if(void 0===r[e].programId)throw new Error(`Transaction instruction index ${e} has undefined program id`);const i=[],s=[];r.forEach((e=>{e.keys.forEach((e=>{s.push({...e})}));const r=e.programId.toString();i.includes(r)||i.push(r)})),i.forEach((e=>{s.push({pubkey:new PublicKey(e),isSigner:!1,isWritable:!1})}));const a=[];s.forEach((e=>{const r=e.pubkey.toString(),n=a.findIndex((e=>e.pubkey.toString()===r));n>-1?(a[n].isWritable=a[n].isWritable||e.isWritable,a[n].isSigner=a[n].isSigner||e.isSigner):a.push(e)})),a.sort((function(e,r){if(e.isSigner!==r.isSigner)return e.isSigner?-1:1;if(e.isWritable!==r.isWritable)return e.isWritable?-1:1;return e.pubkey.toBase58().localeCompare(r.pubkey.toBase58(),"en",{localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"})}));const k=a.findIndex((e=>e.pubkey.equals(n)));if(k>-1){const[e]=a.splice(k,1);e.isSigner=!0,e.isWritable=!0,a.unshift(e)}else a.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(const e of this.signatures){const r=a.findIndex((r=>r.pubkey.equals(e.publicKey)));if(!(r>-1))throw new Error(`unknown signer: ${e.publicKey.toString()}`);a[r].isSigner||(a[r].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."))}let w=0,I=0,we=0;const Ae=[],Be=[];a.forEach((({pubkey:e,isSigner:r,isWritable:n})=>{r?(Ae.push(e.toString()),w+=1,n||(I+=1)):(Be.push(e.toString()),n||(we+=1))}));const Ce=Ae.concat(Be),ze=r.map((e=>{const{data:r,programId:n}=e;return{programIdIndex:Ce.indexOf(n.toString()),accounts:e.keys.map((e=>Ce.indexOf(e.pubkey.toString()))),data:mr().encode(r)}}));return ze.forEach((e=>{index_browser_esm_assert(e.programIdIndex>=0),e.accounts.forEach((e=>index_browser_esm_assert(e>=0)))})),new Message({header:{numRequiredSignatures:w,numReadonlySignedAccounts:I,numReadonlyUnsignedAccounts:we},accountKeys:Ce,recentBlockhash:e,instructions:ze})}_compile(){const e=this.compileMessage(),r=e.accountKeys.slice(0,e.header.numRequiredSignatures);if(this.signatures.length===r.length){if(this.signatures.every(((e,n)=>r[n].equals(e.publicKey))))return e}return this.signatures=r.map((e=>({signature:null,publicKey:e}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(0===e.length)throw new Error("No signers");const r=new Set;this.signatures=e.filter((e=>{const n=e.toString();return!r.has(n)&&(r.add(n),!0)})).map((e=>({signature:null,publicKey:e})))}sign(...e){if(0===e.length)throw new Error("No signers");const r=new Set,n=[];for(const i of e){const e=i.publicKey.toString();r.has(e)||(r.add(e),n.push(i))}this.signatures=n.map((e=>({signature:null,publicKey:e.publicKey})));const i=this._compile();this._partialSign(i,...n)}partialSign(...e){if(0===e.length)throw new Error("No signers");const r=new Set,n=[];for(const i of e){const e=i.publicKey.toString();r.has(e)||(r.add(e),n.push(i))}const i=this._compile();this._partialSign(i,...n)}_partialSign(e,...r){const n=e.serialize();r.forEach((e=>{const r=sign(n,e.secretKey);this._addSignature(e.publicKey,toBuffer(r))}))}addSignature(e,r){this._compile(),this._addSignature(e,r)}_addSignature(e,r){index_browser_esm_assert(64===r.length);const n=this.signatures.findIndex((r=>e.equals(r.publicKey)));if(n<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[n].signature=s.Buffer.from(r)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,r){const n={};for(const{signature:i,publicKey:s}of this.signatures)null===i?r&&(n.missing||=[]).push(s):an(i,e,s.toBytes())||(n.invalid||=[]).push(s);return n.invalid||n.missing?n:void 0}serialize(e){const{requireAllSignatures:r,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(n){const e=this._getMessageSignednessErrors(i,r);if(e){let r="Signature verification failed.";throw e.invalid&&(r+=`\nInvalid signature for public key${1===e.invalid.length?"":"(s)"} [\`${e.invalid.map((e=>e.toBase58())).join("`, `")}\`].`),e.missing&&(r+=`\nMissing signature for public key${1===e.missing.length?"":"(s)"} [\`${e.missing.map((e=>e.toBase58())).join("`, `")}\`].`),new Error(r)}}return this._serialize(i)}_serialize(e){const{signatures:r}=this,n=[];encodeLength(n,r.length);const i=n.length+64*r.length+e.length,a=s.Buffer.alloc(i);return index_browser_esm_assert(r.length<256),s.Buffer.from(n).copy(a,0),r.forEach((({signature:e},r)=>{null!==e&&(index_browser_esm_assert(64===e.length,"signature has invalid length"),s.Buffer.from(e).copy(a,n.length+64*r))})),e.copy(a,n.length+64*r.length),index_browser_esm_assert(a.length<=yn,`Transaction too large: ${a.length} > ${yn}`),a}get keys(){return index_browser_esm_assert(1===this.instructions.length),this.instructions[0].keys.map((e=>e.pubkey))}get programId(){return index_browser_esm_assert(1===this.instructions.length),this.instructions[0].programId}get data(){return index_browser_esm_assert(1===this.instructions.length),this.instructions[0].data}static from(e){let r=[...e];const n=decodeLength(r);let i=[];for(let e=0;e<n;e++){const e=guardedSplice(r,0,bn);i.push(mr().encode(s.Buffer.from(e)))}return Transaction.populate(Message.from(r),i)}static populate(e,r=[]){const n=new Transaction;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),r.forEach(((r,i)=>{const s={signature:r==mr().encode(Bn)?null:mr().decode(r),publicKey:e.accountKeys[i]};n.signatures.push(s)})),e.instructions.forEach((r=>{const i=r.accounts.map((r=>{const i=e.accountKeys[r];return{pubkey:i,isSigner:n.signatures.some((e=>e.publicKey.toString()===i.toString()))||e.isAccountSigner(r),isWritable:e.isAccountWritable(r)}}));n.instructions.push(new TransactionInstruction({keys:i,programId:e.accountKeys[r.programIdIndex],data:mr().decode(r.data)}))})),n._message=e,n._json=n.toJSON(),n}}class TransactionMessage{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,r){const{header:n,compiledInstructions:i,recentBlockhash:s}=e,{numRequiredSignatures:a,numReadonlySignedAccounts:k,numReadonlyUnsignedAccounts:w}=n,I=a-k;index_browser_esm_assert(I>0,"Message header is invalid");const we=e.staticAccountKeys.length-a-w;index_browser_esm_assert(we>=0,"Message header is invalid");const Ae=e.getAccountKeys(r),Be=Ae.get(0);if(void 0===Be)throw new Error("Failed to decompile message because no account keys were found");const Ce=[];for(const e of i){const r=[];for(const i of e.accountKeyIndexes){const e=Ae.get(i);if(void 0===e)throw new Error(`Failed to find key for account key index ${i}`);let s;s=i<a?i<I:i<Ae.staticAccountKeys.length?i-a<we:i-Ae.staticAccountKeys.length<Ae.accountKeysFromLookups.writable.length,r.push({pubkey:e,isSigner:i<n.numRequiredSignatures,isWritable:s})}const i=Ae.get(e.programIdIndex);if(void 0===i)throw new Error(`Failed to find program id for program id index ${e.programIdIndex}`);Ce.push(new TransactionInstruction({programId:i,data:toBuffer(e.data),keys:r}))}return new TransactionMessage({payerKey:Be,instructions:Ce,recentBlockhash:s})}compileToLegacyMessage(){return Message.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return MessageV0.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class VersionedTransaction{get version(){return this.message.version}constructor(e,r){if(this.signatures=void 0,this.message=void 0,void 0!==r)index_browser_esm_assert(r.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=r;else{const r=[];for(let n=0;n<e.header.numRequiredSignatures;n++)r.push(new Uint8Array(bn));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),r=Array();encodeLength(r,this.signatures.length);const n=Sr.struct([Sr.blob(r.length,"encodedSignaturesLength"),Sr.seq(signature(),this.signatures.length,"signatures"),Sr.blob(e.length,"serializedMessage")]),i=new Uint8Array(2048),s=n.encode({encodedSignaturesLength:new Uint8Array(r),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,s)}static deserialize(e){let r=[...e];const n=[],i=decodeLength(r);for(let e=0;e<i;e++)n.push(new Uint8Array(guardedSplice(r,0,bn)));const s=In.deserialize(new Uint8Array(r));return new VersionedTransaction(s,n)}sign(e){const r=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const i of e){const e=n.findIndex((e=>e.equals(i.publicKey)));index_browser_esm_assert(e>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[e]=sign(r,i.secretKey)}}addSignature(e,r){index_browser_esm_assert(64===r.byteLength,"Signature must be 64 bytes long");const n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex((r=>r.equals(e)));index_browser_esm_assert(n>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[n]=r}}const Cn=new PublicKey("SysvarC1ock11111111111111111111111111111111"),Wn=new PublicKey("SysvarEpochSchedu1e111111111111111111111111"),Hn=new PublicKey("Sysvar1nstructions1111111111111111111111111"),Zn=new PublicKey("SysvarRecentB1ockHashes11111111111111111111"),Qn=new PublicKey("SysvarRent111111111111111111111111111111111"),ei=new PublicKey("SysvarRewards111111111111111111111111111111"),ti=new PublicKey("SysvarS1otHashes111111111111111111111111111"),ri=new PublicKey("SysvarS1otHistory11111111111111111111111111"),ni=new PublicKey("SysvarStakeHistory1111111111111111111111111");async function sendAndConfirmTransaction(e,r,n,i){const s=i&&{skipPreflight:i.skipPreflight,preflightCommitment:i.preflightCommitment||i.commitment,maxRetries:i.maxRetries,minContextSlot:i.minContextSlot},a=await e.sendTransaction(r,n,s);let k;if(null!=r.recentBlockhash&&null!=r.lastValidBlockHeight)k=(await e.confirmTransaction({abortSignal:i?.abortSignal,signature:a,blockhash:r.recentBlockhash,lastValidBlockHeight:r.lastValidBlockHeight},i&&i.commitment)).value;else if(null!=r.minNonceContextSlot&&null!=r.nonceInfo){const{nonceInstruction:n}=r.nonceInfo,s=n.keys[0].pubkey;k=(await e.confirmTransaction({abortSignal:i?.abortSignal,minContextSlot:r.minNonceContextSlot,nonceAccountPubkey:s,nonceValue:r.nonceInfo.nonce,signature:a},i&&i.commitment)).value}else null!=i?.abortSignal&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),k=(await e.confirmTransaction(a,i&&i.commitment)).value;if(k.err)throw new Error(`Transaction ${a} failed (${JSON.stringify(k)})`);return a}function sleep(e){return new Promise((r=>setTimeout(r,e)))}function encodeData(e,r){const n=e.layout.span>=0?e.layout.span:getAlloc(e,r),i=s.Buffer.alloc(n),a=Object.assign({instruction:e.index},r);return e.layout.encode(a,i),i}function decodeData$1(e,r){let n;try{n=e.layout.decode(r)}catch(e){throw new Error("invalid instruction; "+e)}if(n.instruction!==e.index)throw new Error(`invalid instruction; instruction index mismatch ${n.instruction} != ${e.index}`);return n}const ii=Sr.nu64("lamportsPerSignature"),oi=Sr.struct([Sr.u32("version"),Sr.u32("state"),publicKey("authorizedPubkey"),publicKey("nonce"),Sr.struct([ii],"feeCalculator")]),si=oi.span;class NonceAccount{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const r=oi.decode(toBuffer(e),0);return new NonceAccount({authorizedPubkey:new PublicKey(r.authorizedPubkey),nonce:new PublicKey(r.nonce).toString(),feeCalculator:r.feeCalculator})}}const ai=(ci=8,e=>{const r=(0,Sr.blob)(ci,e),{encode:n,decode:i}=(e=>({decode:e.decode.bind(e),encode:e.encode.bind(e)}))(r),a=r;return a.decode=(e,r)=>{const n=i(e,r);return(0,Er.toBigIntLE)(s.Buffer.from(n))},a.encode=(e,r,i)=>{const s=(0,Er.toBufferLE)(e,ci);return n(s,r,i)},a});var ci;class SystemInstruction{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=Sr.u32("instruction").decode(e.data);let n;for(const[e,i]of Object.entries(ui))if(i.index==r){n=e;break}if(!n)throw new Error("Instruction type incorrect; not a SystemInstruction");return n}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:r,space:n,programId:i}=decodeData$1(ui.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:r,space:n,programId:new PublicKey(i)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:r}=decodeData$1(ui.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:r}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:r,seed:n,programId:i}=decodeData$1(ui.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:r,seed:n,programId:new PublicKey(i)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:r}=decodeData$1(ui.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:r}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:r,seed:n,space:i,programId:s}=decodeData$1(ui.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new PublicKey(r),seed:n,space:i,programId:new PublicKey(s)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:r}=decodeData$1(ui.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new PublicKey(r)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:r,seed:n,programId:i}=decodeData$1(ui.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new PublicKey(r),seed:n,programId:new PublicKey(i)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:r,seed:n,lamports:i,space:s,programId:a}=decodeData$1(ui.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new PublicKey(r),seed:n,lamports:i,space:s,programId:new PublicKey(a)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:r}=decodeData$1(ui.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new PublicKey(r)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),decodeData$1(ui.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:r}=decodeData$1(ui.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:r}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:r}=decodeData$1(ui.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new PublicKey(r)}}static checkProgramId(e){if(!e.equals(SystemProgram.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}}const ui=Object.freeze({Create:{index:0,layout:Sr.struct([Sr.u32("instruction"),Sr.ns64("lamports"),Sr.ns64("space"),publicKey("programId")])},Assign:{index:1,layout:Sr.struct([Sr.u32("instruction"),publicKey("programId")])},Transfer:{index:2,layout:Sr.struct([Sr.u32("instruction"),ai("lamports")])},CreateWithSeed:{index:3,layout:Sr.struct([Sr.u32("instruction"),publicKey("base"),rustString("seed"),Sr.ns64("lamports"),Sr.ns64("space"),publicKey("programId")])},AdvanceNonceAccount:{index:4,layout:Sr.struct([Sr.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:Sr.struct([Sr.u32("instruction"),Sr.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:Sr.struct([Sr.u32("instruction"),publicKey("authorized")])},AuthorizeNonceAccount:{index:7,layout:Sr.struct([Sr.u32("instruction"),publicKey("authorized")])},Allocate:{index:8,layout:Sr.struct([Sr.u32("instruction"),Sr.ns64("space")])},AllocateWithSeed:{index:9,layout:Sr.struct([Sr.u32("instruction"),publicKey("base"),rustString("seed"),Sr.ns64("space"),publicKey("programId")])},AssignWithSeed:{index:10,layout:Sr.struct([Sr.u32("instruction"),publicKey("base"),rustString("seed"),publicKey("programId")])},TransferWithSeed:{index:11,layout:Sr.struct([Sr.u32("instruction"),ai("lamports"),rustString("seed"),publicKey("programId")])},UpgradeNonceAccount:{index:12,layout:Sr.struct([Sr.u32("instruction")])}});class SystemProgram{constructor(){}static createAccount(e){const r=encodeData(ui.Create,{lamports:e.lamports,space:e.space,programId:toBuffer(e.programId.toBuffer())});return new TransactionInstruction({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let r,n;if("basePubkey"in e){r=encodeData(ui.TransferWithSeed,{lamports:BigInt(e.lamports),seed:e.seed,programId:toBuffer(e.programId.toBuffer())}),n=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{r=encodeData(ui.Transfer,{lamports:BigInt(e.lamports)}),n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new TransactionInstruction({keys:n,programId:this.programId,data:r})}static assign(e){let r,n;if("basePubkey"in e){r=encodeData(ui.AssignWithSeed,{base:toBuffer(e.basePubkey.toBuffer()),seed:e.seed,programId:toBuffer(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{r=encodeData(ui.Assign,{programId:toBuffer(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new TransactionInstruction({keys:n,programId:this.programId,data:r})}static createAccountWithSeed(e){const r=encodeData(ui.CreateWithSeed,{base:toBuffer(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:toBuffer(e.programId.toBuffer())});let n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&n.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new TransactionInstruction({keys:n,programId:this.programId,data:r})}static createNonceAccount(e){const r=new Transaction;"basePubkey"in e&&"seed"in e?r.add(SystemProgram.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:si,programId:this.programId})):r.add(SystemProgram.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:si,programId:this.programId}));const n={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return r.add(this.nonceInitialize(n)),r}static nonceInitialize(e){const r=encodeData(ui.InitializeNonceAccount,{authorized:toBuffer(e.authorizedPubkey.toBuffer())}),n={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Zn,isSigner:!1,isWritable:!1},{pubkey:Qn,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new TransactionInstruction(n)}static nonceAdvance(e){const r=encodeData(ui.AdvanceNonceAccount),n={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Zn,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new TransactionInstruction(n)}static nonceWithdraw(e){const r=encodeData(ui.WithdrawNonceAccount,{lamports:e.lamports});return new TransactionInstruction({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:Zn,isSigner:!1,isWritable:!1},{pubkey:Qn,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const r=encodeData(ui.AuthorizeNonceAccount,{authorized:toBuffer(e.newAuthorizedPubkey.toBuffer())});return new TransactionInstruction({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let r,n;if("basePubkey"in e){r=encodeData(ui.AllocateWithSeed,{base:toBuffer(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:toBuffer(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{r=encodeData(ui.Allocate,{space:e.space}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new TransactionInstruction({keys:n,programId:this.programId,data:r})}}SystemProgram.programId=new PublicKey("11111111111111111111111111111111");const di=yn-300;class Loader{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/Loader.chunkSize)+1+1)}static async load(e,r,n,i,a){{const s=await e.getMinimumBalanceForRentExemption(a.length),k=await e.getAccountInfo(n.publicKey,"confirmed");let w=null;if(null!==k){if(k.executable)return console.error("Program load failed, account is already executable"),!1;k.data.length!==a.length&&(w=w||new Transaction,w.add(SystemProgram.allocate({accountPubkey:n.publicKey,space:a.length}))),k.owner.equals(i)||(w=w||new Transaction,w.add(SystemProgram.assign({accountPubkey:n.publicKey,programId:i}))),k.lamports<s&&(w=w||new Transaction,w.add(SystemProgram.transfer({fromPubkey:r.publicKey,toPubkey:n.publicKey,lamports:s-k.lamports})))}else w=(new Transaction).add(SystemProgram.createAccount({fromPubkey:r.publicKey,newAccountPubkey:n.publicKey,lamports:s>0?s:1,space:a.length,programId:i}));null!==w&&await sendAndConfirmTransaction(e,w,[r,n],{commitment:"confirmed"})}const k=Sr.struct([Sr.u32("instruction"),Sr.u32("offset"),Sr.u32("bytesLength"),Sr.u32("bytesLengthPadding"),Sr.seq(Sr.u8("byte"),Sr.offset(Sr.u32(),-8),"bytes")]),w=Loader.chunkSize;let I=0,we=a,Ae=[];for(;we.length>0;){const a=we.slice(0,w),Be=s.Buffer.alloc(w+16);k.encode({instruction:0,offset:I,bytes:a,bytesLength:0,bytesLengthPadding:0},Be);const Ce=(new Transaction).add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0}],programId:i,data:Be});if(Ae.push(sendAndConfirmTransaction(e,Ce,[r,n],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")){const e=4;await sleep(1e3/e)}I+=w,we=we.slice(w)}await Promise.all(Ae);{const a=Sr.struct([Sr.u32("instruction")]),k=s.Buffer.alloc(a.span);a.encode({instruction:1},k);const w=(new Transaction).add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0},{pubkey:Qn,isSigner:!1,isWritable:!1}],programId:i,data:k}),I="processed",we=await e.sendTransaction(w,[r,n],{preflightCommitment:I}),{context:Ae,value:Be}=await e.confirmTransaction({signature:we,lastValidBlockHeight:w.lastValidBlockHeight,blockhash:w.recentBlockhash},I);if(Be.err)throw new Error(`Transaction ${we} failed (${JSON.stringify(Be)})`);for(;;){try{if(await e.getSlot({commitment:I})>Ae.slot)break}catch{}await new Promise((e=>setTimeout(e,Math.round(200))))}}return!0}}Loader.chunkSize=di;const li=new PublicKey("BPFLoader2111111111111111111111111111111111");class BpfLoader{static getMinNumSignatures(e){return Loader.getMinNumSignatures(e)}static load(e,r,n,i,s){return Loader.load(e,r,n,s,i)}}function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var hi=Object.prototype.toString,fi=Object.keys||function(e){var r=[];for(var n in e)r.push(n);return r};function stringify(e,r){var n,i,s,a,k,w,I;if(!0===e)return"true";if(!1===e)return"false";switch(typeof e){case"object":if(null===e)return null;if(e.toJSON&&"function"==typeof e.toJSON)return stringify(e.toJSON(),r);if("[object Array]"===(I=hi.call(e))){for(s="[",i=e.length-1,n=0;n<i;n++)s+=stringify(e[n],!0)+",";return i>-1&&(s+=stringify(e[n],!0)),s+"]"}if("[object Object]"===I){for(i=(a=fi(e).sort()).length,s="",n=0;n<i;)void 0!==(w=stringify(e[k=a[n]],!1))&&(s&&(s+=","),s+=JSON.stringify(k)+":"+w),n++;return"{"+s+"}"}return JSON.stringify(e);case"function":case"undefined":return r?null:void 0;case"string":return JSON.stringify(e);default:return isFinite(e)?e:null}}var pi=getDefaultExportFromCjs((function(e){var r=stringify(e,!1);if(void 0!==r)return""+r}));function trailingZeros(e){let r=0;for(;e>1;)e/=2,r++;return r}class EpochSchedule{constructor(e,r,n,i,s){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=r,this.warmup=n,this.firstNormalEpoch=i,this.firstNormalSlot=s}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const r=trailingZeros(function nextPowerOfTwo(e){return 0===e?1:(e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,1+(e|=e>>32))}(e+32+1))-trailingZeros(32)-1;return[r,e-(this.getSlotsInEpoch(r)-32)]}{const r=e-this.firstNormalSlot,n=Math.floor(r/this.slotsPerEpoch);return[this.firstNormalEpoch+n,r%this.slotsPerEpoch]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?32*(Math.pow(2,e)-1):(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+trailingZeros(32)):this.slotsPerEpoch}}class SendTransactionError extends Error{constructor(e,r){super(e),this.logs=void 0,this.logs=r}}const gi={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class SolanaJSONRPCError extends Error{constructor({code:e,message:r,data:n},i){super(null!=i?`${i}: ${r}`:r),this.code=void 0,this.data=void 0,this.code=e,this.data=n,this.name="SolanaJSONRPCError"}}var yi=globalThis.fetch;class RpcWebSocketClient extends Tr.A{constructor(e,r,n){super((e=>{const n=(0,Pr.A)(e,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...r});return this.underlyingSocket="socket"in n?n.socket:n,n}),e,r,n),this.underlyingSocket=void 0}call(...e){const r=this.underlyingSocket?.readyState;return 1===r?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}notify(...e){const r=this.underlyingSocket?.readyState;return 1===r?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}}class AddressLookupTableAccount{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const r=function decodeData(e,r){let n;try{n=e.layout.decode(r)}catch(e){throw new Error("invalid instruction; "+e)}if(n.typeIndex!==e.index)throw new Error(`invalid account data; account type mismatch ${n.typeIndex} != ${e.index}`);return n}(mi,e),n=e.length-56;index_browser_esm_assert(n>=0,"lookup table is invalid"),index_browser_esm_assert(n%32==0,"lookup table is invalid");const i=n/32,{addresses:s}=Sr.struct([Sr.seq(publicKey(),i,"addresses")]).decode(e.slice(56));return{deactivationSlot:r.deactivationSlot,lastExtendedSlot:r.lastExtendedSlot,lastExtendedSlotStartIndex:r.lastExtendedStartIndex,authority:0!==r.authority.length?new PublicKey(r.authority[0]):void 0,addresses:s.map((e=>new PublicKey(e)))}}}const mi={index:1,layout:Sr.struct([Sr.u32("typeIndex"),ai("deactivationSlot"),Sr.nu64("lastExtendedSlot"),Sr.u8("lastExtendedStartIndex"),Sr.u8(),Sr.seq(publicKey(),Sr.offset(Sr.u8(),-1),"authority")])},bi=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;const ki=coerce(instance(PublicKey),string(),(e=>new PublicKey(e))),wi=tuple([string(),literal("base64")]),Ii=coerce(instance(s.Buffer),wi,(e=>s.Buffer.from(e[0],"base64"))),_i=3e4;function extractCommitmentFromConfig(e){let r,n;if("string"==typeof e)r=e;else if(e){const{commitment:i,...s}=e;r=i,n=s}return{commitment:r,config:n}}function createRpcResult(e){return union([type({jsonrpc:literal("2.0"),id:string(),result:e}),type({jsonrpc:literal("2.0"),id:string(),error:type({code:unknown(),message:string(),data:optional(index_es_define("any",(()=>!0)))})})])}const Si=createRpcResult(unknown());function jsonRpcResult(e){return coerce(createRpcResult(e),Si,(r=>"error"in r?r:{...r,result:create(r.result,e)}))}function jsonRpcResultAndContext(e){return jsonRpcResult(type({context:type({slot:index_es_number()}),value:e}))}function notificationResultAndContext(e){return type({context:type({slot:index_es_number()}),value:e})}function versionedMessageFromResponse(e,r){return 0===e?new MessageV0({header:r.header,staticAccountKeys:r.accountKeys.map((e=>new PublicKey(e))),recentBlockhash:r.recentBlockhash,compiledInstructions:r.instructions.map((e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:mr().decode(e.data)}))),addressTableLookups:r.addressTableLookups}):new Message(r)}const Ei=type({foundation:index_es_number(),foundationTerm:index_es_number(),initial:index_es_number(),taper:index_es_number(),terminal:index_es_number()}),vi=jsonRpcResult(array(nullable(type({epoch:index_es_number(),effectiveSlot:index_es_number(),amount:index_es_number(),postBalance:index_es_number(),commission:optional(nullable(index_es_number()))})))),Ai=array(type({slot:index_es_number(),prioritizationFee:index_es_number()})),Ti=type({total:index_es_number(),validator:index_es_number(),foundation:index_es_number(),epoch:index_es_number()}),Pi=type({epoch:index_es_number(),slotIndex:index_es_number(),slotsInEpoch:index_es_number(),absoluteSlot:index_es_number(),blockHeight:optional(index_es_number()),transactionCount:optional(index_es_number())}),Oi=type({slotsPerEpoch:index_es_number(),leaderScheduleSlotOffset:index_es_number(),warmup:index_es_boolean(),firstNormalEpoch:index_es_number(),firstNormalSlot:index_es_number()}),Mi=record(string(),array(index_es_number())),xi=nullable(union([type({}),string()])),Bi=type({err:xi}),Ri=literal("receivedSignature"),Ci=type({"solana-core":string(),"feature-set":optional(index_es_number())}),Di=jsonRpcResultAndContext(type({err:nullable(union([type({}),string()])),logs:nullable(array(string())),accounts:optional(nullable(array(nullable(type({executable:index_es_boolean(),owner:string(),lamports:index_es_number(),data:array(string()),rentEpoch:optional(index_es_number())}))))),unitsConsumed:optional(index_es_number()),returnData:optional(nullable(type({programId:string(),data:tuple([string(),literal("base64")])})))})),Ni=jsonRpcResultAndContext(type({byIdentity:record(string(),array(index_es_number())),range:type({firstSlot:index_es_number(),lastSlot:index_es_number()})}));const zi=jsonRpcResult(Ei),Wi=jsonRpcResult(Ti),ji=jsonRpcResult(Ai),Li=jsonRpcResult(Pi),Ki=jsonRpcResult(Oi),Fi=jsonRpcResult(Mi),Ui=jsonRpcResult(index_es_number()),Vi=jsonRpcResultAndContext(type({total:index_es_number(),circulating:index_es_number(),nonCirculating:index_es_number(),nonCirculatingAccounts:array(ki)})),qi=type({amount:string(),uiAmount:nullable(index_es_number()),decimals:index_es_number(),uiAmountString:optional(string())}),Hi=jsonRpcResultAndContext(array(type({address:ki,amount:string(),uiAmount:nullable(index_es_number()),decimals:index_es_number(),uiAmountString:optional(string())}))),Gi=jsonRpcResultAndContext(array(type({pubkey:ki,account:type({executable:index_es_boolean(),owner:ki,lamports:index_es_number(),data:Ii,rentEpoch:index_es_number()})}))),$i=type({program:string(),parsed:unknown(),space:index_es_number()}),Yi=jsonRpcResultAndContext(array(type({pubkey:ki,account:type({executable:index_es_boolean(),owner:ki,lamports:index_es_number(),data:$i,rentEpoch:index_es_number()})}))),Zi=jsonRpcResultAndContext(array(type({lamports:index_es_number(),address:ki}))),Ji=type({executable:index_es_boolean(),owner:ki,lamports:index_es_number(),data:Ii,rentEpoch:index_es_number()}),Qi=type({pubkey:ki,account:Ji}),Xi=coerce(union([instance(s.Buffer),$i]),union([wi,$i]),(e=>Array.isArray(e)?create(e,Ii):e)),eo=type({executable:index_es_boolean(),owner:ki,lamports:index_es_number(),data:Xi,rentEpoch:index_es_number()}),to=type({pubkey:ki,account:eo}),ro=type({state:union([literal("active"),literal("inactive"),literal("activating"),literal("deactivating")]),active:index_es_number(),inactive:index_es_number()}),no=jsonRpcResult(array(type({signature:string(),slot:index_es_number(),err:xi,memo:nullable(string()),blockTime:optional(nullable(index_es_number()))}))),io=jsonRpcResult(array(type({signature:string(),slot:index_es_number(),err:xi,memo:nullable(string()),blockTime:optional(nullable(index_es_number()))}))),oo=type({subscription:index_es_number(),result:notificationResultAndContext(Ji)}),so=type({pubkey:ki,account:Ji}),ao=type({subscription:index_es_number(),result:notificationResultAndContext(so)}),co=type({parent:index_es_number(),slot:index_es_number(),root:index_es_number()}),uo=type({subscription:index_es_number(),result:co}),lo=union([type({type:union([literal("firstShredReceived"),literal("completed"),literal("optimisticConfirmation"),literal("root")]),slot:index_es_number(),timestamp:index_es_number()}),type({type:literal("createdBank"),parent:index_es_number(),slot:index_es_number(),timestamp:index_es_number()}),type({type:literal("frozen"),slot:index_es_number(),timestamp:index_es_number(),stats:type({numTransactionEntries:index_es_number(),numSuccessfulTransactions:index_es_number(),numFailedTransactions:index_es_number(),maxTransactionsPerEntry:index_es_number()})}),type({type:literal("dead"),slot:index_es_number(),timestamp:index_es_number(),err:string()})]),ho=type({subscription:index_es_number(),result:lo}),fo=type({subscription:index_es_number(),result:notificationResultAndContext(union([Bi,Ri]))}),po=type({subscription:index_es_number(),result:index_es_number()}),go=type({pubkey:string(),gossip:nullable(string()),tpu:nullable(string()),rpc:nullable(string()),version:nullable(string())}),yo=type({votePubkey:string(),nodePubkey:string(),activatedStake:index_es_number(),epochVoteAccount:index_es_boolean(),epochCredits:array(tuple([index_es_number(),index_es_number(),index_es_number()])),commission:index_es_number(),lastVote:index_es_number(),rootSlot:nullable(index_es_number())}),mo=jsonRpcResult(type({current:array(yo),delinquent:array(yo)})),bo=union([literal("processed"),literal("confirmed"),literal("finalized")]),ko=type({slot:index_es_number(),confirmations:nullable(index_es_number()),err:xi,confirmationStatus:optional(bo)}),wo=jsonRpcResultAndContext(array(nullable(ko))),Io=jsonRpcResult(index_es_number()),_o=type({accountKey:ki,writableIndexes:array(index_es_number()),readonlyIndexes:array(index_es_number())}),So=type({signatures:array(string()),message:type({accountKeys:array(string()),header:type({numRequiredSignatures:index_es_number(),numReadonlySignedAccounts:index_es_number(),numReadonlyUnsignedAccounts:index_es_number()}),instructions:array(type({accounts:array(index_es_number()),data:string(),programIdIndex:index_es_number()})),recentBlockhash:string(),addressTableLookups:optional(array(_o))})}),Eo=type({pubkey:ki,signer:index_es_boolean(),writable:index_es_boolean(),source:optional(union([literal("transaction"),literal("lookupTable")]))}),vo=type({accountKeys:array(Eo),signatures:array(string())}),Ao=type({parsed:unknown(),program:string(),programId:ki}),To=type({accounts:array(ki),data:string(),programId:ki}),Po=coerce(union([To,Ao]),union([type({parsed:unknown(),program:string(),programId:string()}),type({accounts:array(string()),data:string(),programId:string()})]),(e=>create(e,"accounts"in e?To:Ao))),Oo=type({signatures:array(string()),message:type({accountKeys:array(Eo),instructions:array(Po),recentBlockhash:string(),addressTableLookups:optional(nullable(array(_o)))})}),Mo=type({accountIndex:index_es_number(),mint:string(),owner:optional(string()),uiTokenAmount:qi}),xo=type({writable:array(ki),readonly:array(ki)}),Bo=type({err:xi,fee:index_es_number(),innerInstructions:optional(nullable(array(type({index:index_es_number(),instructions:array(type({accounts:array(index_es_number()),data:string(),programIdIndex:index_es_number()}))})))),preBalances:array(index_es_number()),postBalances:array(index_es_number()),logMessages:optional(nullable(array(string()))),preTokenBalances:optional(nullable(array(Mo))),postTokenBalances:optional(nullable(array(Mo))),loadedAddresses:optional(xo),computeUnitsConsumed:optional(index_es_number())}),Ro=type({err:xi,fee:index_es_number(),innerInstructions:optional(nullable(array(type({index:index_es_number(),instructions:array(Po)})))),preBalances:array(index_es_number()),postBalances:array(index_es_number()),logMessages:optional(nullable(array(string()))),preTokenBalances:optional(nullable(array(Mo))),postTokenBalances:optional(nullable(array(Mo))),loadedAddresses:optional(xo),computeUnitsConsumed:optional(index_es_number())}),Co=union([literal(0),literal("legacy")]),Do=type({pubkey:string(),lamports:index_es_number(),postBalance:nullable(index_es_number()),rewardType:nullable(string()),commission:optional(nullable(index_es_number()))}),No=jsonRpcResult(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:index_es_number(),transactions:array(type({transaction:So,meta:nullable(Bo),version:optional(Co)})),rewards:optional(array(Do)),blockTime:nullable(index_es_number()),blockHeight:nullable(index_es_number())}))),zo=jsonRpcResult(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:index_es_number(),rewards:optional(array(Do)),blockTime:nullable(index_es_number()),blockHeight:nullable(index_es_number())}))),Wo=jsonRpcResult(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:index_es_number(),transactions:array(type({transaction:vo,meta:nullable(Bo),version:optional(Co)})),rewards:optional(array(Do)),blockTime:nullable(index_es_number()),blockHeight:nullable(index_es_number())}))),jo=jsonRpcResult(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:index_es_number(),transactions:array(type({transaction:Oo,meta:nullable(Ro),version:optional(Co)})),rewards:optional(array(Do)),blockTime:nullable(index_es_number()),blockHeight:nullable(index_es_number())}))),Lo=jsonRpcResult(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:index_es_number(),transactions:array(type({transaction:vo,meta:nullable(Ro),version:optional(Co)})),rewards:optional(array(Do)),blockTime:nullable(index_es_number()),blockHeight:nullable(index_es_number())}))),Ko=jsonRpcResult(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:index_es_number(),rewards:optional(array(Do)),blockTime:nullable(index_es_number()),blockHeight:nullable(index_es_number())}))),Fo=jsonRpcResult(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:index_es_number(),transactions:array(type({transaction:So,meta:nullable(Bo)})),rewards:optional(array(Do)),blockTime:nullable(index_es_number())}))),Uo=jsonRpcResult(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:index_es_number(),signatures:array(string()),blockTime:nullable(index_es_number())}))),Vo=jsonRpcResult(nullable(type({slot:index_es_number(),meta:nullable(Bo),blockTime:optional(nullable(index_es_number())),transaction:So,version:optional(Co)}))),qo=jsonRpcResult(nullable(type({slot:index_es_number(),transaction:Oo,meta:nullable(Ro),blockTime:optional(nullable(index_es_number())),version:optional(Co)}))),Ho=jsonRpcResultAndContext(type({blockhash:string(),feeCalculator:type({lamportsPerSignature:index_es_number()})})),Go=jsonRpcResultAndContext(type({blockhash:string(),lastValidBlockHeight:index_es_number()})),$o=jsonRpcResultAndContext(index_es_boolean()),Yo=jsonRpcResult(array(type({slot:index_es_number(),numTransactions:index_es_number(),numSlots:index_es_number(),samplePeriodSecs:index_es_number()}))),Zo=jsonRpcResultAndContext(nullable(type({feeCalculator:type({lamportsPerSignature:index_es_number()})}))),Jo=jsonRpcResult(string()),Qo=jsonRpcResult(string()),Xo=type({err:xi,logs:array(string()),signature:string()}),es=type({result:notificationResultAndContext(Xo),subscription:index_es_number()}),ts={"solana-client":"js/0.0.0-development"};class Connection{constructor(e,r){let n,i,s,a,k,w;this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const e={};return async r=>{const{commitment:n,config:i}=extractCommitmentFromConfig(r),s=this._buildArgs([],n,void 0,i),a=pi(s);return e[a]=e[a]??(async()=>{try{const e=create(await this._rpcRequest("getBlockHeight",s),jsonRpcResult(index_es_number()));if("error"in e)throw new SolanaJSONRPCError(e.error,"failed to get block height information");return e.result}finally{delete e[a]}})(),await e[a]}})(),r&&"string"==typeof r?this._commitment=r:r&&(this._commitment=r.commitment,this._confirmTransactionInitialTimeout=r.confirmTransactionInitialTimeout,n=r.wsEndpoint,i=r.httpHeaders,s=r.fetch,a=r.fetchMiddleware,k=r.disableRetryOnRateLimit,w=r.httpAgent),this._rpcEndpoint=function assertEndpointUrl(e){if(!1===/^https?:/.test(e))throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return e}(e),this._rpcWsEndpoint=n||function makeWebsocketUrl(e){const r=e.match(bi);if(null==r)throw TypeError(`Failed to validate endpoint URL \`${e}\``);const[n,i,s,a]=r,k=e.startsWith("https:")?"wss:":"ws:",w=null==s?null:parseInt(s.slice(1),10);return`${k}//${i}${null==w?"":`:${w+1}`}${a}`}(e),this._rpcClient=function createRpcClient(e,r,n,i,s,a){const k=n||yi;let w;return null!=a&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments."),i&&(w=async(e,r)=>{const n=await new Promise(((n,s)=>{try{i(e,r,((e,r)=>n([e,r])))}catch(e){s(e)}}));return await k(...n)}),new(Ar())((async(n,i)=>{const a={method:"POST",body:n,agent:void 0,headers:Object.assign({"Content-Type":"application/json"},r||{},ts)};try{let r,n=5,I=500;for(;r=w?await w(e,a):await k(e,a),429===r.status&&!0!==s&&(n-=1,0!==n);)console.error(`Server responded with ${r.status} ${r.statusText}.  Retrying after ${I}ms delay...`),await sleep(I),I*=2;const we=await r.text();r.ok?i(null,we):i(new Error(`${r.status} ${r.statusText}: ${we}`))}catch(e){e instanceof Error&&i(e)}}),{})}(e,i,s,a,k,w),this._rpcRequest=function createRpcRequest(e){return(r,n)=>new Promise(((i,s)=>{e.request(r,n,((e,r)=>{e?s(e):i(r)}))}))}(this._rpcClient),this._rpcBatchRequest=function createRpcBatchRequest(e){return r=>new Promise(((n,i)=>{0===r.length&&n([]);const s=r.map((r=>e.request(r.methodName,r.args)));e.request(s,((e,r)=>{e?i(e):n(r)}))}))}(this._rpcClient),this._rpcWebSocket=new RpcWebSocketClient(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,r){const{commitment:n,config:i}=extractCommitmentFromConfig(r),s=this._buildArgs([e.toBase58()],n,void 0,i),a=create(await this._rpcRequest("getBalance",s),jsonRpcResultAndContext(index_es_number()));if("error"in a)throw new SolanaJSONRPCError(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,r){return await this.getBalanceAndContext(e,r).then((e=>e.value)).catch((r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)}))}async getBlockTime(e){const r=create(await this._rpcRequest("getBlockTime",[e]),jsonRpcResult(nullable(index_es_number())));if("error"in r)throw new SolanaJSONRPCError(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=create(await this._rpcRequest("minimumLedgerSlot",[]),jsonRpcResult(index_es_number()));if("error"in e)throw new SolanaJSONRPCError(e.error,"failed to get minimum ledger slot");return e.result}async getFirstAvailableBlock(){const e=create(await this._rpcRequest("getFirstAvailableBlock",[]),Ui);if("error"in e)throw new SolanaJSONRPCError(e.error,"failed to get first available block");return e.result}async getSupply(e){let r={};r="string"==typeof e?{commitment:e}:e?{...e,commitment:e&&e.commitment||this.commitment}:{commitment:this.commitment};const n=create(await this._rpcRequest("getSupply",[r]),Vi);if("error"in n)throw new SolanaJSONRPCError(n.error,"failed to get supply");return n.result}async getTokenSupply(e,r){const n=this._buildArgs([e.toBase58()],r),i=create(await this._rpcRequest("getTokenSupply",n),jsonRpcResultAndContext(qi));if("error"in i)throw new SolanaJSONRPCError(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(e,r){const n=this._buildArgs([e.toBase58()],r),i=create(await this._rpcRequest("getTokenAccountBalance",n),jsonRpcResultAndContext(qi));if("error"in i)throw new SolanaJSONRPCError(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(e,r,n){const{commitment:i,config:s}=extractCommitmentFromConfig(n);let a=[e.toBase58()];"mint"in r?a.push({mint:r.mint.toBase58()}):a.push({programId:r.programId.toBase58()});const k=this._buildArgs(a,i,"base64",s),w=create(await this._rpcRequest("getTokenAccountsByOwner",k),Gi);if("error"in w)throw new SolanaJSONRPCError(w.error,`failed to get token accounts owned by account ${e.toBase58()}`);return w.result}async getParsedTokenAccountsByOwner(e,r,n){let i=[e.toBase58()];"mint"in r?i.push({mint:r.mint.toBase58()}):i.push({programId:r.programId.toBase58()});const s=this._buildArgs(i,n,"jsonParsed"),a=create(await this._rpcRequest("getTokenAccountsByOwner",s),Yi);if("error"in a)throw new SolanaJSONRPCError(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const r={...e,commitment:e&&e.commitment||this.commitment},n=r.filter||r.commitment?[r]:[],i=create(await this._rpcRequest("getLargestAccounts",n),Zi);if("error"in i)throw new SolanaJSONRPCError(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(e,r){const n=this._buildArgs([e.toBase58()],r),i=create(await this._rpcRequest("getTokenLargestAccounts",n),Hi);if("error"in i)throw new SolanaJSONRPCError(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(e,r){const{commitment:n,config:i}=extractCommitmentFromConfig(r),s=this._buildArgs([e.toBase58()],n,"base64",i),a=create(await this._rpcRequest("getAccountInfo",s),jsonRpcResultAndContext(nullable(Ji)));if("error"in a)throw new SolanaJSONRPCError(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,r){const{commitment:n,config:i}=extractCommitmentFromConfig(r),s=this._buildArgs([e.toBase58()],n,"jsonParsed",i),a=create(await this._rpcRequest("getAccountInfo",s),jsonRpcResultAndContext(nullable(eo)));if("error"in a)throw new SolanaJSONRPCError(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,r){try{return(await this.getAccountInfoAndContext(e,r)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,r){const{commitment:n,config:i}=extractCommitmentFromConfig(r),s=e.map((e=>e.toBase58())),a=this._buildArgs([s],n,"jsonParsed",i),k=create(await this._rpcRequest("getMultipleAccounts",a),jsonRpcResultAndContext(array(nullable(eo))));if("error"in k)throw new SolanaJSONRPCError(k.error,`failed to get info for accounts ${s}`);return k.result}async getMultipleAccountsInfoAndContext(e,r){const{commitment:n,config:i}=extractCommitmentFromConfig(r),s=e.map((e=>e.toBase58())),a=this._buildArgs([s],n,"base64",i),k=create(await this._rpcRequest("getMultipleAccounts",a),jsonRpcResultAndContext(array(nullable(Ji))));if("error"in k)throw new SolanaJSONRPCError(k.error,`failed to get info for accounts ${s}`);return k.result}async getMultipleAccountsInfo(e,r){return(await this.getMultipleAccountsInfoAndContext(e,r)).value}async getStakeActivation(e,r,n){const{commitment:i,config:s}=extractCommitmentFromConfig(r),a=this._buildArgs([e.toBase58()],i,void 0,{...s,epoch:null!=n?n:s?.epoch}),k=create(await this._rpcRequest("getStakeActivation",a),jsonRpcResult(ro));if("error"in k)throw new SolanaJSONRPCError(k.error,`failed to get Stake Activation ${e.toBase58()}`);return k.result}async getProgramAccounts(e,r){const{commitment:n,config:i}=extractCommitmentFromConfig(r),{encoding:s,...a}=i||{},k=this._buildArgs([e.toBase58()],n,s||"base64",a),w=await this._rpcRequest("getProgramAccounts",k),I=array(Qi),we=!0===a.withContext?create(w,jsonRpcResultAndContext(I)):create(w,jsonRpcResult(I));if("error"in we)throw new SolanaJSONRPCError(we.error,`failed to get accounts owned by program ${e.toBase58()}`);return we.result}async getParsedProgramAccounts(e,r){const{commitment:n,config:i}=extractCommitmentFromConfig(r),s=this._buildArgs([e.toBase58()],n,"jsonParsed",i),a=create(await this._rpcRequest("getProgramAccounts",s),jsonRpcResult(array(to)));if("error"in a)throw new SolanaJSONRPCError(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,r){let n,i;if("string"==typeof e)n=e;else{const r=e;if(r.abortSignal?.aborted)return Promise.reject(r.abortSignal.reason);n=r.signature}try{i=mr().decode(n)}catch(e){throw new Error("signature must be base58 encoded: "+n)}return index_browser_esm_assert(64===i.length,"signature has invalid length"),"string"==typeof e?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:r||this.commitment,signature:n}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:r||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:r||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise(((r,n)=>{null!=e&&(e.aborted?n(e.reason):e.addEventListener("abort",(()=>{n(e.reason)})))}))}getTransactionConfirmationPromise({commitment:e,signature:r}){let n,i,s=!1;return{abortConfirmation:()=>{i&&(i(),i=void 0),null!=n&&(this.removeSignatureListener(n),n=void 0)},confirmationPromise:new Promise(((a,k)=>{try{n=this.onSignature(r,((e,r)=>{n=void 0;const i={context:r,value:e};a({__type:Mn.PROCESSED,response:i})}),e);const w=new Promise((e=>{null==n?e():i=this._onSubscriptionStateChange(n,(r=>{"subscribed"===r&&e()}))}));(async()=>{if(await w,s)return;const n=await this.getSignatureStatus(r);if(s)return;if(null==n)return;const{context:i,value:I}=n;if(null!=I)if(I?.err)k(I.err);else{switch(e){case"confirmed":case"single":case"singleGossip":if("processed"===I.confirmationStatus)return;break;case"finalized":case"max":case"root":if("processed"===I.confirmationStatus||"confirmed"===I.confirmationStatus)return}s=!0,a({__type:Mn.PROCESSED,response:{context:i,value:I}})}})()}catch(e){k(e)}}))}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:r,lastValidBlockHeight:n,signature:i}}){let s=!1;const a=new Promise((r=>{const checkBlockHeight=async()=>{try{return await this.getBlockHeight(e)}catch(e){return-1}};(async()=>{let e=await checkBlockHeight();if(!s){for(;e<=n;){if(await sleep(1e3),s)return;if(e=await checkBlockHeight(),s)return}r({__type:Mn.BLOCKHEIGHT_EXCEEDED})}})()})),{abortConfirmation:k,confirmationPromise:w}=this.getTransactionConfirmationPromise({commitment:e,signature:i}),I=this.getCancellationPromise(r);let we;try{const e=await Promise.race([I,w,a]);if(e.__type!==Mn.PROCESSED)throw new TransactionExpiredBlockheightExceededError(i);we=e.response}finally{s=!0,k()}return we}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:r,minContextSlot:n,nonceAccountPubkey:i,nonceValue:s,signature:a}}){let k=!1;const w=new Promise((r=>{let a=s,w=null;const getCurrentNonceValue=async()=>{try{const{context:r,value:s}=await this.getNonceAndContext(i,{commitment:e,minContextSlot:n});return w=r.slot,s?.nonce}catch(e){return a}};(async()=>{if(a=await getCurrentNonceValue(),!k)for(;;){if(s!==a)return void r({__type:Mn.NONCE_INVALID,slotInWhichNonceDidAdvance:w});if(await sleep(2e3),k)return;if(a=await getCurrentNonceValue(),k)return}})()})),{abortConfirmation:I,confirmationPromise:we}=this.getTransactionConfirmationPromise({commitment:e,signature:a}),Ae=this.getCancellationPromise(r);let Be;try{const r=await Promise.race([Ae,we,w]);if(r.__type===Mn.PROCESSED)Be=r.response;else{let i;for(;;){const e=await this.getSignatureStatus(a);if(null==e)break;if(!(e.context.slot<(r.slotInWhichNonceDidAdvance??n))){i=e;break}await sleep(400)}if(!i?.value)throw new TransactionExpiredNonceInvalidError(a);{const r=e||"finalized",{confirmationStatus:n}=i.value;switch(r){case"processed":case"recent":if("processed"!==n&&"confirmed"!==n&&"finalized"!==n)throw new TransactionExpiredNonceInvalidError(a);break;case"confirmed":case"single":case"singleGossip":if("confirmed"!==n&&"finalized"!==n)throw new TransactionExpiredNonceInvalidError(a);break;case"finalized":case"max":case"root":if("finalized"!==n)throw new TransactionExpiredNonceInvalidError(a)}Be={context:i.context,value:{err:i.value.err}}}}}finally{k=!0,I()}return Be}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:r}){let n;const i=new Promise((r=>{let i=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":i=this._confirmTransactionInitialTimeout||3e4}n=setTimeout((()=>r({__type:Mn.TIMED_OUT,timeoutMs:i})),i)})),{abortConfirmation:s,confirmationPromise:a}=this.getTransactionConfirmationPromise({commitment:e,signature:r});let k;try{const e=await Promise.race([a,i]);if(e.__type!==Mn.PROCESSED)throw new TransactionExpiredTimeoutError(r,e.timeoutMs/1e3);k=e.response}finally{clearTimeout(n),s()}return k}async getClusterNodes(){const e=create(await this._rpcRequest("getClusterNodes",[]),jsonRpcResult(array(go)));if("error"in e)throw new SolanaJSONRPCError(e.error,"failed to get cluster nodes");return e.result}async getVoteAccounts(e){const r=this._buildArgs([],e),n=create(await this._rpcRequest("getVoteAccounts",r),mo);if("error"in n)throw new SolanaJSONRPCError(n.error,"failed to get vote accounts");return n.result}async getSlot(e){const{commitment:r,config:n}=extractCommitmentFromConfig(e),i=this._buildArgs([],r,void 0,n),s=create(await this._rpcRequest("getSlot",i),jsonRpcResult(index_es_number()));if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get slot");return s.result}async getSlotLeader(e){const{commitment:r,config:n}=extractCommitmentFromConfig(e),i=this._buildArgs([],r,void 0,n),s=create(await this._rpcRequest("getSlotLeader",i),jsonRpcResult(string()));if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get slot leader");return s.result}async getSlotLeaders(e,r){const n=[e,r],i=create(await this._rpcRequest("getSlotLeaders",n),jsonRpcResult(array(ki)));if("error"in i)throw new SolanaJSONRPCError(i.error,"failed to get slot leaders");return i.result}async getSignatureStatus(e,r){const{context:n,value:i}=await this.getSignatureStatuses([e],r);index_browser_esm_assert(1===i.length);return{context:n,value:i[0]}}async getSignatureStatuses(e,r){const n=[e];r&&n.push(r);const i=create(await this._rpcRequest("getSignatureStatuses",n),wo);if("error"in i)throw new SolanaJSONRPCError(i.error,"failed to get signature status");return i.result}async getTransactionCount(e){const{commitment:r,config:n}=extractCommitmentFromConfig(e),i=this._buildArgs([],r,void 0,n),s=create(await this._rpcRequest("getTransactionCount",i),jsonRpcResult(index_es_number()));if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get transaction count");return s.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const r=this._buildArgs([],e),n=create(await this._rpcRequest("getInflationGovernor",r),zi);if("error"in n)throw new SolanaJSONRPCError(n.error,"failed to get inflation");return n.result}async getInflationReward(e,r,n){const{commitment:i,config:s}=extractCommitmentFromConfig(n),a=this._buildArgs([e.map((e=>e.toBase58()))],i,void 0,{...s,epoch:null!=r?r:s?.epoch}),k=create(await this._rpcRequest("getInflationReward",a),vi);if("error"in k)throw new SolanaJSONRPCError(k.error,"failed to get inflation reward");return k.result}async getInflationRate(){const e=create(await this._rpcRequest("getInflationRate",[]),Wi);if("error"in e)throw new SolanaJSONRPCError(e.error,"failed to get inflation rate");return e.result}async getEpochInfo(e){const{commitment:r,config:n}=extractCommitmentFromConfig(e),i=this._buildArgs([],r,void 0,n),s=create(await this._rpcRequest("getEpochInfo",i),Li);if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get epoch info");return s.result}async getEpochSchedule(){const e=create(await this._rpcRequest("getEpochSchedule",[]),Ki);if("error"in e)throw new SolanaJSONRPCError(e.error,"failed to get epoch schedule");const r=e.result;return new EpochSchedule(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=create(await this._rpcRequest("getLeaderSchedule",[]),Fi);if("error"in e)throw new SolanaJSONRPCError(e.error,"failed to get leader schedule");return e.result}async getMinimumBalanceForRentExemption(e,r){const n=this._buildArgs([e],r),i=create(await this._rpcRequest("getMinimumBalanceForRentExemption",n),Io);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(e){const r=this._buildArgs([],e),n=create(await this._rpcRequest("getRecentBlockhash",r),Ho);if("error"in n)throw new SolanaJSONRPCError(n.error,"failed to get recent blockhash");return n.result}async getRecentPerformanceSamples(e){const r=create(await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),Yo);if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,r){const n=this._buildArgs([e],r),i=create(await this._rpcRequest("getFeeCalculatorForBlockhash",n),Zo);if("error"in i)throw new SolanaJSONRPCError(i.error,"failed to get fee calculator");const{context:s,value:a}=i.result;return{context:s,value:null!==a?a.feeCalculator:null}}async getFeeForMessage(e,r){const n=toBuffer(e.serialize()).toString("base64"),i=this._buildArgs([n],r),s=create(await this._rpcRequest("getFeeForMessage",i),jsonRpcResultAndContext(nullable(index_es_number())));if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get fee for message");if(null===s.result)throw new Error("invalid blockhash");return s.result}async getRecentPrioritizationFees(e){const r=e?.lockedWritableAccounts?.map((e=>e.toBase58())),n=r?.length?[r]:[],i=create(await this._rpcRequest("getRecentPrioritizationFees",n),ji);if("error"in i)throw new SolanaJSONRPCError(i.error,"failed to get recent prioritization fees");return i.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(e){throw new Error("failed to get recent blockhash: "+e)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(e){throw new Error("failed to get recent blockhash: "+e)}}async getLatestBlockhashAndContext(e){const{commitment:r,config:n}=extractCommitmentFromConfig(e),i=this._buildArgs([],r,void 0,n),s=create(await this._rpcRequest("getLatestBlockhash",i),Go);if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get latest blockhash");return s.result}async isBlockhashValid(e,r){const{commitment:n,config:i}=extractCommitmentFromConfig(r),s=this._buildArgs([e],n,void 0,i),a=create(await this._rpcRequest("isBlockhashValid",s),$o);if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=create(await this._rpcRequest("getVersion",[]),jsonRpcResult(Ci));if("error"in e)throw new SolanaJSONRPCError(e.error,"failed to get version");return e.result}async getGenesisHash(){const e=create(await this._rpcRequest("getGenesisHash",[]),jsonRpcResult(string()));if("error"in e)throw new SolanaJSONRPCError(e.error,"failed to get genesis hash");return e.result}async getBlock(e,r){const{commitment:n,config:i}=extractCommitmentFromConfig(r),s=this._buildArgsAtLeastConfirmed([e],n,void 0,i),a=await this._rpcRequest("getBlock",s);try{switch(i?.transactionDetails){case"accounts":{const e=create(a,Wo);if("error"in e)throw e.error;return e.result}case"none":{const e=create(a,zo);if("error"in e)throw e.error;return e.result}default:{const e=create(a,No);if("error"in e)throw e.error;const{result:r}=e;return r?{...r,transactions:r.transactions.map((({transaction:e,meta:r,version:n})=>({meta:r,transaction:{...e,message:versionedMessageFromResponse(n,e.message)},version:n})))}:null}}}catch(e){throw new SolanaJSONRPCError(e,"failed to get confirmed block")}}async getParsedBlock(e,r){const{commitment:n,config:i}=extractCommitmentFromConfig(r),s=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",i),a=await this._rpcRequest("getBlock",s);try{switch(i?.transactionDetails){case"accounts":{const e=create(a,Lo);if("error"in e)throw e.error;return e.result}case"none":{const e=create(a,Ko);if("error"in e)throw e.error;return e.result}default:{const e=create(a,jo);if("error"in e)throw e.error;return e.result}}}catch(e){throw new SolanaJSONRPCError(e,"failed to get block")}}async getBlockProduction(e){let r,n;if("string"==typeof e)n=e;else if(e){const{commitment:i,...s}=e;n=i,r=s}const i=this._buildArgs([],n,"base64",r),s=create(await this._rpcRequest("getBlockProduction",i),Ni);if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get block production information");return s.result}async getTransaction(e,r){const{commitment:n,config:i}=extractCommitmentFromConfig(r),s=this._buildArgsAtLeastConfirmed([e],n,void 0,i),a=create(await this._rpcRequest("getTransaction",s),Vo);if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get transaction");const k=a.result;return k?{...k,transaction:{...k.transaction,message:versionedMessageFromResponse(k.version,k.transaction.message)}}:k}async getParsedTransaction(e,r){const{commitment:n,config:i}=extractCommitmentFromConfig(r),s=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",i),a=create(await this._rpcRequest("getTransaction",s),qo);if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,r){const{commitment:n,config:i}=extractCommitmentFromConfig(r),s=e.map((e=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",i)})));return(await this._rpcBatchRequest(s)).map((e=>{const r=create(e,qo);if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get transactions");return r.result}))}async getTransactions(e,r){const{commitment:n,config:i}=extractCommitmentFromConfig(r),s=e.map((e=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([e],n,void 0,i)})));return(await this._rpcBatchRequest(s)).map((e=>{const r=create(e,Vo);if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get transactions");const n=r.result;return n?{...n,transaction:{...n.transaction,message:versionedMessageFromResponse(n.version,n.transaction.message)}}:n}))}async getConfirmedBlock(e,r){const n=this._buildArgsAtLeastConfirmed([e],r),i=create(await this._rpcRequest("getConfirmedBlock",n),Fo);if("error"in i)throw new SolanaJSONRPCError(i.error,"failed to get confirmed block");const s=i.result;if(!s)throw new Error("Confirmed block "+e+" not found");const a={...s,transactions:s.transactions.map((({transaction:e,meta:r})=>{const n=new Message(e.message);return{meta:r,transaction:{...e,message:n}}}))};return{...a,transactions:a.transactions.map((({transaction:e,meta:r})=>({meta:r,transaction:Transaction.populate(e.message,e.signatures)})))}}async getBlocks(e,r,n){const i=this._buildArgsAtLeastConfirmed(void 0!==r?[e,r]:[e],n),s=create(await this._rpcRequest("getBlocks",i),jsonRpcResult(array(index_es_number())));if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get blocks");return s.result}async getBlockSignatures(e,r){const n=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),i=create(await this._rpcRequest("getBlock",n),Uo);if("error"in i)throw new SolanaJSONRPCError(i.error,"failed to get block");const s=i.result;if(!s)throw new Error("Block "+e+" not found");return s}async getConfirmedBlockSignatures(e,r){const n=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),i=create(await this._rpcRequest("getConfirmedBlock",n),Uo);if("error"in i)throw new SolanaJSONRPCError(i.error,"failed to get confirmed block");const s=i.result;if(!s)throw new Error("Confirmed block "+e+" not found");return s}async getConfirmedTransaction(e,r){const n=this._buildArgsAtLeastConfirmed([e],r),i=create(await this._rpcRequest("getConfirmedTransaction",n),Vo);if("error"in i)throw new SolanaJSONRPCError(i.error,"failed to get transaction");const s=i.result;if(!s)return s;const a=new Message(s.transaction.message),k=s.transaction.signatures;return{...s,transaction:Transaction.populate(a,k)}}async getParsedConfirmedTransaction(e,r){const n=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed"),i=create(await this._rpcRequest("getConfirmedTransaction",n),qo);if("error"in i)throw new SolanaJSONRPCError(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(e,r){const n=e.map((e=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([e],r,"jsonParsed")})));return(await this._rpcBatchRequest(n)).map((e=>{const r=create(e,qo);if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get confirmed transactions");return r.result}))}async getConfirmedSignaturesForAddress(e,r,n){let i={},s=await this.getFirstAvailableBlock();for(;!("until"in i)&&!(--r<=0||r<s);)try{const e=await this.getConfirmedBlockSignatures(r,"finalized");e.signatures.length>0&&(i.until=e.signatures[e.signatures.length-1].toString())}catch(e){if(e instanceof Error&&e.message.includes("skipped"))continue;throw e}let a=await this.getSlot("finalized");for(;!("before"in i||++n>a);)try{const e=await this.getConfirmedBlockSignatures(n);e.signatures.length>0&&(i.before=e.signatures[e.signatures.length-1].toString())}catch(e){if(e instanceof Error&&e.message.includes("skipped"))continue;throw e}return(await this.getConfirmedSignaturesForAddress2(e,i)).map((e=>e.signature))}async getConfirmedSignaturesForAddress2(e,r,n){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,r),s=create(await this._rpcRequest("getConfirmedSignaturesForAddress2",i),no);if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get confirmed signatures for address");return s.result}async getSignaturesForAddress(e,r,n){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,r),s=create(await this._rpcRequest("getSignaturesForAddress",i),io);if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get signatures for address");return s.result}async getAddressLookupTable(e,r){const{context:n,value:i}=await this.getAccountInfoAndContext(e,r);let s=null;return null!==i&&(s=new AddressLookupTableAccount({key:e,state:AddressLookupTableAccount.deserialize(i.data)})),{context:n,value:s}}async getNonceAndContext(e,r){const{context:n,value:i}=await this.getAccountInfoAndContext(e,r);let s=null;return null!==i&&(s=NonceAccount.fromAccountData(i.data)),{context:n,value:s}}async getNonce(e,r){return await this.getNonceAndContext(e,r).then((e=>e.value)).catch((r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)}))}async requestAirdrop(e,r){const n=create(await this._rpcRequest("requestAirdrop",[e.toBase58(),r]),Jo);if("error"in n)throw new SolanaJSONRPCError(n.error,`airdrop to ${e.toBase58()} failed`);return n.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await sleep(100);const e=Date.now()-this._blockhashInfo.lastFetch>=_i;if(null!==this._blockhashInfo.latestBlockhash&&!e)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),r=this._blockhashInfo.latestBlockhash,n=r?r.blockhash:null;for(let e=0;e<50;e++){const e=await this.getLatestBlockhash("finalized");if(n!==e.blockhash)return this._blockhashInfo={latestBlockhash:e,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},e;await sleep(200)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:r,config:n}=extractCommitmentFromConfig(e),i=this._buildArgs([],r,"base64",n),s=create(await this._rpcRequest("getStakeMinimumDelegation",i),jsonRpcResultAndContext(index_es_number()));if("error"in s)throw new SolanaJSONRPCError(s.error,"failed to get stake minimum delegation");return s.result}async simulateTransaction(e,r,n){if("message"in e){const i=e.serialize(),a=s.Buffer.from(i).toString("base64");if(Array.isArray(r)||void 0!==n)throw new Error("Invalid arguments");const k=r||{};k.encoding="base64","commitment"in k||(k.commitment=this.commitment);const w=[a,k],I=create(await this._rpcRequest("simulateTransaction",w),Di);if("error"in I)throw new Error("failed to simulate transaction: "+I.error.message);return I.result}let i;if(e instanceof Transaction){let r=e;i=new Transaction,i.feePayer=r.feePayer,i.instructions=e.instructions,i.nonceInfo=r.nonceInfo,i.signatures=r.signatures}else i=Transaction.populate(e),i._message=i._json=void 0;if(void 0!==r&&!Array.isArray(r))throw new Error("Invalid arguments");const a=r;if(i.nonceInfo&&a)i.sign(...a);else{let e=this._disableBlockhashCaching;for(;;){const r=await this._blockhashWithExpiryBlockHeight(e);if(i.lastValidBlockHeight=r.lastValidBlockHeight,i.recentBlockhash=r.blockhash,!a)break;if(i.sign(...a),!i.signature)throw new Error("!signature");const n=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(n)&&!this._blockhashInfo.transactionSignatures.includes(n)){this._blockhashInfo.simulatedSignatures.push(n);break}e=!0}}const k=i._compile(),w=k.serialize(),I=i._serialize(w).toString("base64"),we={encoding:"base64",commitment:this.commitment};if(n){const e=(Array.isArray(n)?n:k.nonProgramIds()).map((e=>e.toBase58()));we.accounts={encoding:"base64",addresses:e}}a&&(we.sigVerify=!0);const Ae=[I,we],Be=create(await this._rpcRequest("simulateTransaction",Ae),Di);if("error"in Be){let e;if("data"in Be.error&&(e=Be.error.data.logs,e&&Array.isArray(e))){const r="\n    ",n=r+e.join(r);console.error(Be.error.message,n)}throw new SendTransactionError("failed to simulate transaction: "+Be.error.message,e)}return Be.result}async sendTransaction(e,r,n){if("version"in e){if(r&&Array.isArray(r))throw new Error("Invalid arguments");const n=e.serialize();return await this.sendRawTransaction(n,r)}if(void 0===r||!Array.isArray(r))throw new Error("Invalid arguments");const i=r;if(e.nonceInfo)e.sign(...i);else{let r=this._disableBlockhashCaching;for(;;){const n=await this._blockhashWithExpiryBlockHeight(r);if(e.lastValidBlockHeight=n.lastValidBlockHeight,e.recentBlockhash=n.blockhash,e.sign(...i),!e.signature)throw new Error("!signature");const s=e.signature.toString("base64");if(!this._blockhashInfo.transactionSignatures.includes(s)){this._blockhashInfo.transactionSignatures.push(s);break}r=!0}}const s=e.serialize();return await this.sendRawTransaction(s,n)}async sendRawTransaction(e,r){const n=toBuffer(e).toString("base64");return await this.sendEncodedTransaction(n,r)}async sendEncodedTransaction(e,r){const n={encoding:"base64"},i=r&&r.skipPreflight,s=!0===i?"processed":r&&r.preflightCommitment||this.commitment;r&&null!=r.maxRetries&&(n.maxRetries=r.maxRetries),r&&null!=r.minContextSlot&&(n.minContextSlot=r.minContextSlot),i&&(n.skipPreflight=i),s&&(n.preflightCommitment=s);const a=[e,n],k=create(await this._rpcRequest("sendTransaction",a),Qo);if("error"in k){let e;throw"data"in k.error&&(e=k.error.data.logs),new SendTransactionError("failed to send transaction: "+k.error.message,e)}return k.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval((()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()}),5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),1e3!==e?(this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach((([e,r])=>{this._setSubscription(e,{...r,state:"pending"})}))):this._updateSubscriptions()}_setSubscription(e,r){const n=this._subscriptionsByHash[e]?.state;if(this._subscriptionsByHash[e]=r,n!==r.state){const n=this._subscriptionStateChangeCallbacksByHash[e];n&&n.forEach((e=>{try{e(r.state)}catch{}}))}}_onSubscriptionStateChange(e,r){const n=this._subscriptionHashByClientSubscriptionId[e];if(null==n)return()=>{};const i=this._subscriptionStateChangeCallbacksByHash[n]||=new Set;return i.add(r),()=>{i.delete(r),0===i.size&&delete this._subscriptionStateChangeCallbacksByHash[n]}}async _updateSubscriptions(){if(0===Object.keys(this._subscriptionsByHash).length)return void(this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout((()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(e){e instanceof Error&&console.log(`Error when closing socket connection: ${e.message}`)}}),500)));if(null!==this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected)return void this._rpcWebSocket.connect();const e=this._rpcWebSocketGeneration,isCurrentConnectionStillActive=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map((async e=>{const r=this._subscriptionsByHash[e];if(void 0!==r)switch(r.state){case"pending":case"unsubscribed":if(0===r.callbacks.size)return delete this._subscriptionsByHash[e],"unsubscribed"===r.state&&delete this._subscriptionCallbacksByServerSubscriptionId[r.serverSubscriptionId],void await this._updateSubscriptions();await(async()=>{const{args:n,method:i}=r;try{this._setSubscription(e,{...r,state:"subscribing"});const s=await this._rpcWebSocket.call(i,n);this._setSubscription(e,{...r,serverSubscriptionId:s,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[s]=r.callbacks,await this._updateSubscriptions()}catch(s){if(s instanceof Error&&console.error(`${i} error for argument`,n,s.message),!isCurrentConnectionStillActive())return;this._setSubscription(e,{...r,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":0===r.callbacks.size&&await(async()=>{const{serverSubscriptionId:n,unsubscribeMethod:i}=r;if(this._subscriptionsAutoDisposedByRpc.has(n))this._subscriptionsAutoDisposedByRpc.delete(n);else{this._setSubscription(e,{...r,state:"unsubscribing"}),this._setSubscription(e,{...r,state:"unsubscribing"});try{await this._rpcWebSocket.call(i,[n])}catch(n){if(n instanceof Error&&console.error(`${i} error:`,n.message),!isCurrentConnectionStillActive())return;return this._setSubscription(e,{...r,state:"subscribed"}),void await this._updateSubscriptions()}}this._setSubscription(e,{...r,state:"unsubscribed"}),await this._updateSubscriptions()})()}})))}_handleServerNotification(e,r){const n=this._subscriptionCallbacksByServerSubscriptionId[e];void 0!==n&&n.forEach((e=>{try{e(...r)}catch(e){console.error(e)}}))}_wsOnAccountNotification(e){const{result:r,subscription:n}=create(e,oo);this._handleServerNotification(n,[r.value,r.context])}_makeSubscription(e,r){const n=this._nextClientSubscriptionId++,i=pi([e.method,r]),s=this._subscriptionsByHash[i];return void 0===s?this._subscriptionsByHash[i]={...e,args:r,callbacks:new Set([e.callback]),state:"pending"}:s.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[n]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[n],delete this._subscriptionHashByClientSubscriptionId[n];const r=this._subscriptionsByHash[i];index_browser_esm_assert(void 0!==r,`Could not find a \`Subscription\` when tearing down client subscription #${n}`),r.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),n}onAccountChange(e,r,n){const i=this._buildArgs([e.toBase58()],n||this._commitment||"finalized","base64");return this._makeSubscription({callback:r,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},i)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:r,subscription:n}=create(e,ao);this._handleServerNotification(n,[{accountId:r.value.pubkey,accountInfo:r.value.account},r.context])}onProgramAccountChange(e,r,n,i){const s=this._buildArgs([e.toBase58()],n||this._commitment||"finalized","base64",i?{filters:i}:void 0);return this._makeSubscription({callback:r,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},s)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,r,n){const i=this._buildArgs(["object"==typeof e?{mentions:[e.toString()]}:e],n||this._commitment||"finalized");return this._makeSubscription({callback:r,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:r,subscription:n}=create(e,es);this._handleServerNotification(n,[r.value,r.context])}_wsOnSlotNotification(e){const{result:r,subscription:n}=create(e,uo);this._handleServerNotification(n,[r])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:r,subscription:n}=create(e,ho);this._handleServerNotification(n,[r])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,r){const n=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];n?await n():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${r}' events could not be found.`)}_buildArgs(e,r,n,i){const s=r||this._commitment;if(s||n||i){let r={};n&&(r.encoding=n),s&&(r.commitment=s),i&&(r=Object.assign(r,i)),e.push(r)}return e}_buildArgsAtLeastConfirmed(e,r,n,i){const s=r||this._commitment;if(s&&!["confirmed","finalized"].includes(s))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,r,n,i)}_wsOnSignatureNotification(e){const{result:r,subscription:n}=create(e,fo);"receivedSignature"!==r.value&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,"receivedSignature"===r.value?[{type:"received"},r.context]:[{type:"status",result:r.value},r.context])}onSignature(e,r,n){const i=this._buildArgs([e],n||this._commitment||"finalized"),s=this._makeSubscription({callback:(e,n)=>{if("status"===e.type){r(e.result,n);try{this.removeSignatureListener(s)}catch(e){}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return s}onSignatureWithOptions(e,r,n){const{commitment:i,...s}={...n,commitment:n&&n.commitment||this._commitment||"finalized"},a=this._buildArgs([e],i,void 0,s),k=this._makeSubscription({callback:(e,n)=>{r(e,n);try{this.removeSignatureListener(k)}catch(e){}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},a);return k}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:r,subscription:n}=create(e,po);this._handleServerNotification(n,[r])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class Keypair{constructor(e){this._keypair=void 0,this._keypair=e??generateKeypair()}static generate(){return new Keypair(generateKeypair())}static fromSecretKey(e,r){if(64!==e.byteLength)throw new Error("bad secret key size");const n=e.slice(32,64);if(!r||!r.skipValidation){const r=e.slice(0,32),i=sn(r);for(let e=0;e<32;e++)if(n[e]!==i[e])throw new Error("provided secretKey is invalid")}return new Keypair({publicKey:n,secretKey:e})}static fromSeed(e){const r=sn(e),n=new Uint8Array(64);return n.set(e),n.set(r,32),new Keypair({publicKey:r,secretKey:n})}get publicKey(){return new PublicKey(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const rs=Object.freeze({CreateLookupTable:{index:0,layout:Sr.struct([Sr.u32("instruction"),ai("recentSlot"),Sr.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:Sr.struct([Sr.u32("instruction")])},ExtendLookupTable:{index:2,layout:Sr.struct([Sr.u32("instruction"),ai(),Sr.seq(publicKey(),Sr.offset(Sr.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:Sr.struct([Sr.u32("instruction")])},CloseLookupTable:{index:4,layout:Sr.struct([Sr.u32("instruction")])}});class AddressLookupTableInstruction{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=Sr.u32("instruction").decode(e.data);let n;for(const[e,i]of Object.entries(rs))if(i.index==r){n=e;break}if(!n)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return n}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:r}=decodeData$1(rs.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(r)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:r}=decodeData$1(rs.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:r.map((e=>new PublicKey(e)))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(AddressLookupTableProgram.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}}class AddressLookupTableProgram{constructor(){}static createLookupTable(e){const[r,n]=PublicKey.findProgramAddressSync([e.authority.toBuffer(),(0,Er.toBufferLE)(BigInt(e.recentSlot),8)],this.programId),i=encodeData(rs.CreateLookupTable,{recentSlot:BigInt(e.recentSlot),bumpSeed:n}),s=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:SystemProgram.programId,isSigner:!1,isWritable:!1}];return[new TransactionInstruction({programId:this.programId,keys:s,data:i}),r]}static freezeLookupTable(e){const r=encodeData(rs.FreezeLookupTable),n=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new TransactionInstruction({programId:this.programId,keys:n,data:r})}static extendLookupTable(e){const r=encodeData(rs.ExtendLookupTable,{addresses:e.addresses.map((e=>e.toBytes()))}),n=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&n.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:SystemProgram.programId,isSigner:!1,isWritable:!1}),new TransactionInstruction({programId:this.programId,keys:n,data:r})}static deactivateLookupTable(e){const r=encodeData(rs.DeactivateLookupTable),n=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new TransactionInstruction({programId:this.programId,keys:n,data:r})}static closeLookupTable(e){const r=encodeData(rs.CloseLookupTable),n=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new TransactionInstruction({programId:this.programId,keys:n,data:r})}}AddressLookupTableProgram.programId=new PublicKey("AddressLookupTab1e1111111111111111111111111");class ComputeBudgetInstruction{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=Sr.u8("instruction").decode(e.data);let n;for(const[e,i]of Object.entries(ns))if(i.index==r){n=e;break}if(!n)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return n}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:r,additionalFee:n}=decodeData$1(ns.RequestUnits,e.data);return{units:r,additionalFee:n}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:r}=decodeData$1(ns.RequestHeapFrame,e.data);return{bytes:r}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:r}=decodeData$1(ns.SetComputeUnitLimit,e.data);return{units:r}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:r}=decodeData$1(ns.SetComputeUnitPrice,e.data);return{microLamports:r}}static checkProgramId(e){if(!e.equals(ComputeBudgetProgram.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const ns=Object.freeze({RequestUnits:{index:0,layout:Sr.struct([Sr.u8("instruction"),Sr.u32("units"),Sr.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:Sr.struct([Sr.u8("instruction"),Sr.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:Sr.struct([Sr.u8("instruction"),Sr.u32("units")])},SetComputeUnitPrice:{index:3,layout:Sr.struct([Sr.u8("instruction"),ai("microLamports")])}});class ComputeBudgetProgram{constructor(){}static requestUnits(e){const r=encodeData(ns.RequestUnits,e);return new TransactionInstruction({keys:[],programId:this.programId,data:r})}static requestHeapFrame(e){const r=encodeData(ns.RequestHeapFrame,e);return new TransactionInstruction({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(e){const r=encodeData(ns.SetComputeUnitLimit,e);return new TransactionInstruction({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(e){const r=encodeData(ns.SetComputeUnitPrice,{microLamports:BigInt(e.microLamports)});return new TransactionInstruction({keys:[],programId:this.programId,data:r})}}ComputeBudgetProgram.programId=new PublicKey("ComputeBudget111111111111111111111111111111");const os=Sr.struct([Sr.u8("numSignatures"),Sr.u8("padding"),Sr.u16("signatureOffset"),Sr.u16("signatureInstructionIndex"),Sr.u16("publicKeyOffset"),Sr.u16("publicKeyInstructionIndex"),Sr.u16("messageDataOffset"),Sr.u16("messageDataSize"),Sr.u16("messageInstructionIndex")]);class Ed25519Program{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:r,message:n,signature:i,instructionIndex:a}=e;index_browser_esm_assert(32===r.length,`Public Key must be 32 bytes but received ${r.length} bytes`),index_browser_esm_assert(64===i.length,`Signature must be 64 bytes but received ${i.length} bytes`);const k=os.span,w=k+r.length,I=w+i.length,we=s.Buffer.alloc(I+n.length),Ae=null==a?65535:a;return os.encode({numSignatures:1,padding:0,signatureOffset:w,signatureInstructionIndex:Ae,publicKeyOffset:k,publicKeyInstructionIndex:Ae,messageDataOffset:I,messageDataSize:n.length,messageInstructionIndex:Ae},we),we.fill(r,k),we.fill(i,w),we.fill(n,I),new TransactionInstruction({keys:[],programId:Ed25519Program.programId,data:we})}static createInstructionWithPrivateKey(e){const{privateKey:r,message:n,instructionIndex:i}=e;index_browser_esm_assert(64===r.length,`Private key must be 64 bytes but received ${r.length} bytes`);try{const e=Keypair.fromSecretKey(r),s=e.publicKey.toBytes(),a=sign(n,e.secretKey);return this.createInstructionWithPublicKey({publicKey:s,message:n,signature:a,instructionIndex:i})}catch(e){throw new Error(`Error creating instruction; ${e}`)}}}Ed25519Program.programId=new PublicKey("Ed25519SigVerify111111111111111111111111111");Qr.utils.isValidPrivateKey;const ss=Qr.getPublicKey,as=Sr.struct([Sr.u8("numSignatures"),Sr.u16("signatureOffset"),Sr.u8("signatureInstructionIndex"),Sr.u16("ethAddressOffset"),Sr.u8("ethAddressInstructionIndex"),Sr.u16("messageDataOffset"),Sr.u16("messageDataSize"),Sr.u8("messageInstructionIndex"),Sr.blob(20,"ethAddress"),Sr.blob(64,"signature"),Sr.u8("recoveryId")]);class Secp256k1Program{constructor(){}static publicKeyToEthAddress(e){index_browser_esm_assert(64===e.length,`Public key must be 64 bytes but received ${e.length} bytes`);try{return s.Buffer.from(Lr(toBuffer(e))).slice(-20)}catch(e){throw new Error(`Error constructing Ethereum address: ${e}`)}}static createInstructionWithPublicKey(e){const{publicKey:r,message:n,signature:i,recoveryId:s,instructionIndex:a}=e;return Secp256k1Program.createInstructionWithEthAddress({ethAddress:Secp256k1Program.publicKeyToEthAddress(r),message:n,signature:i,recoveryId:s,instructionIndex:a})}static createInstructionWithEthAddress(e){const{ethAddress:r,message:n,signature:i,recoveryId:a,instructionIndex:k=0}=e;let w;w="string"==typeof r?r.startsWith("0x")?s.Buffer.from(r.substr(2),"hex"):s.Buffer.from(r,"hex"):r,index_browser_esm_assert(20===w.length,`Address must be 20 bytes but received ${w.length} bytes`);const I=12+w.length,we=I+i.length+1,Ae=s.Buffer.alloc(as.span+n.length);return as.encode({numSignatures:1,signatureOffset:I,signatureInstructionIndex:k,ethAddressOffset:12,ethAddressInstructionIndex:k,messageDataOffset:we,messageDataSize:n.length,messageInstructionIndex:k,signature:toBuffer(i),ethAddress:toBuffer(w),recoveryId:a},Ae),Ae.fill(toBuffer(n),as.span),new TransactionInstruction({keys:[],programId:Secp256k1Program.programId,data:Ae})}static createInstructionWithPrivateKey(e){const{privateKey:r,message:n,instructionIndex:i}=e;index_browser_esm_assert(32===r.length,`Private key must be 32 bytes but received ${r.length} bytes`);try{const e=toBuffer(r),a=ss(e,!1).slice(1),k=s.Buffer.from(Lr(toBuffer(n))),[w,I]=((e,r)=>{const n=Qr.sign(e,r);return[n.toCompactRawBytes(),n.recovery]})(k,e);return this.createInstructionWithPublicKey({publicKey:a,message:n,signature:w,recoveryId:I,instructionIndex:i})}catch(e){throw new Error(`Error creating instruction; ${e}`)}}}var cs;Secp256k1Program.programId=new PublicKey("KeccakSecp256k11111111111111111111111111111");const us=new PublicKey("StakeConfig11111111111111111111111111111111");class Authorized{constructor(e,r){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=r}}class Lockup{constructor(e,r,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=r,this.custodian=n}}cs=Lockup,Lockup.default=new cs(0,0,PublicKey.default);class StakeInstruction{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=Sr.u32("instruction").decode(e.data);let n;for(const[e,i]of Object.entries(ds))if(i.index==r){n=e;break}if(!n)throw new Error("Instruction type incorrect; not a StakeInstruction");return n}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:r,lockup:n}=decodeData$1(ds.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new Authorized(new PublicKey(r.staker),new PublicKey(r.withdrawer)),lockup:new Lockup(n.unixTimestamp,n.epoch,new PublicKey(n.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),decodeData$1(ds.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:r,stakeAuthorizationType:n}=decodeData$1(ds.Authorize,e.data),i={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new PublicKey(r),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(i.custodianPubkey=e.keys[3].pubkey),i}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:r,stakeAuthorizationType:n,authoritySeed:i,authorityOwner:s}=decodeData$1(ds.AuthorizeWithSeed,e.data),a={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:i,authorityOwner:new PublicKey(s),newAuthorizedPubkey:new PublicKey(r),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(a.custodianPubkey=e.keys[3].pubkey),a}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:r}=decodeData$1(ds.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:r}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),decodeData$1(ds.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:r}=decodeData$1(ds.Withdraw,e.data),n={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:r};return e.keys.length>5&&(n.custodianPubkey=e.keys[5].pubkey),n}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),decodeData$1(ds.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(StakeProgram.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}}const ds=Object.freeze({Initialize:{index:0,layout:Sr.struct([Sr.u32("instruction"),((e="authorized")=>Sr.struct([publicKey("staker"),publicKey("withdrawer")],e))(),((e="lockup")=>Sr.struct([Sr.ns64("unixTimestamp"),Sr.ns64("epoch"),publicKey("custodian")],e))()])},Authorize:{index:1,layout:Sr.struct([Sr.u32("instruction"),publicKey("newAuthorized"),Sr.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:Sr.struct([Sr.u32("instruction")])},Split:{index:3,layout:Sr.struct([Sr.u32("instruction"),Sr.ns64("lamports")])},Withdraw:{index:4,layout:Sr.struct([Sr.u32("instruction"),Sr.ns64("lamports")])},Deactivate:{index:5,layout:Sr.struct([Sr.u32("instruction")])},Merge:{index:7,layout:Sr.struct([Sr.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:Sr.struct([Sr.u32("instruction"),publicKey("newAuthorized"),Sr.u32("stakeAuthorizationType"),rustString("authoritySeed"),publicKey("authorityOwner")])}}),ls=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class StakeProgram{constructor(){}static initialize(e){const{stakePubkey:r,authorized:n,lockup:i}=e,s=i||Lockup.default,a=encodeData(ds.Initialize,{authorized:{staker:toBuffer(n.staker.toBuffer()),withdrawer:toBuffer(n.withdrawer.toBuffer())},lockup:{unixTimestamp:s.unixTimestamp,epoch:s.epoch,custodian:toBuffer(s.custodian.toBuffer())}}),k={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Qn,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new TransactionInstruction(k)}static createAccountWithSeed(e){const r=new Transaction;r.add(SystemProgram.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:n,authorized:i,lockup:s}=e;return r.add(this.initialize({stakePubkey:n,authorized:i,lockup:s}))}static createAccount(e){const r=new Transaction;r.add(SystemProgram.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:n,authorized:i,lockup:s}=e;return r.add(this.initialize({stakePubkey:n,authorized:i,lockup:s}))}static delegate(e){const{stakePubkey:r,authorizedPubkey:n,votePubkey:i}=e,s=encodeData(ds.Delegate);return(new Transaction).add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:Cn,isSigner:!1,isWritable:!1},{pubkey:ni,isSigner:!1,isWritable:!1},{pubkey:us,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static authorize(e){const{stakePubkey:r,authorizedPubkey:n,newAuthorizedPubkey:i,stakeAuthorizationType:s,custodianPubkey:a}=e,k=encodeData(ds.Authorize,{newAuthorized:toBuffer(i.toBuffer()),stakeAuthorizationType:s.index}),w=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Cn,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return a&&w.push({pubkey:a,isSigner:!0,isWritable:!1}),(new Transaction).add({keys:w,programId:this.programId,data:k})}static authorizeWithSeed(e){const{stakePubkey:r,authorityBase:n,authoritySeed:i,authorityOwner:s,newAuthorizedPubkey:a,stakeAuthorizationType:k,custodianPubkey:w}=e,I=encodeData(ds.AuthorizeWithSeed,{newAuthorized:toBuffer(a.toBuffer()),stakeAuthorizationType:k.index,authoritySeed:i,authorityOwner:toBuffer(s.toBuffer())}),we=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:Cn,isSigner:!1,isWritable:!1}];return w&&we.push({pubkey:w,isSigner:!0,isWritable:!1}),(new Transaction).add({keys:we,programId:this.programId,data:I})}static splitInstruction(e){const{stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,lamports:s}=e,a=encodeData(ds.Split,{lamports:s});return new TransactionInstruction({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e,r){const n=new Transaction;return n.add(SystemProgram.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:r,space:this.space,programId:this.programId})),n.add(this.splitInstruction(e))}static splitWithSeed(e,r){const{stakePubkey:n,authorizedPubkey:i,splitStakePubkey:s,basePubkey:a,seed:k,lamports:w}=e,I=new Transaction;return I.add(SystemProgram.allocate({accountPubkey:s,basePubkey:a,seed:k,space:this.space,programId:this.programId})),r&&r>0&&I.add(SystemProgram.transfer({fromPubkey:e.authorizedPubkey,toPubkey:s,lamports:r})),I.add(this.splitInstruction({stakePubkey:n,authorizedPubkey:i,splitStakePubkey:s,lamports:w}))}static merge(e){const{stakePubkey:r,sourceStakePubKey:n,authorizedPubkey:i}=e,s=encodeData(ds.Merge);return(new Transaction).add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Cn,isSigner:!1,isWritable:!1},{pubkey:ni,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static withdraw(e){const{stakePubkey:r,authorizedPubkey:n,toPubkey:i,lamports:s,custodianPubkey:a}=e,k=encodeData(ds.Withdraw,{lamports:s}),w=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:Cn,isSigner:!1,isWritable:!1},{pubkey:ni,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return a&&w.push({pubkey:a,isSigner:!0,isWritable:!1}),(new Transaction).add({keys:w,programId:this.programId,data:k})}static deactivate(e){const{stakePubkey:r,authorizedPubkey:n}=e,i=encodeData(ds.Deactivate);return(new Transaction).add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Cn,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}}StakeProgram.programId=new PublicKey("Stake11111111111111111111111111111111111111"),StakeProgram.space=200;class VoteInit{constructor(e,r,n,i){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=r,this.authorizedWithdrawer=n,this.commission=i}}class VoteInstruction{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=Sr.u32("instruction").decode(e.data);let n;for(const[e,i]of Object.entries(hs))if(i.index==r){n=e;break}if(!n)throw new Error("Instruction type incorrect; not a VoteInstruction");return n}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:r}=decodeData$1(hs.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new VoteInit(new PublicKey(r.nodePubkey),new PublicKey(r.authorizedVoter),new PublicKey(r.authorizedWithdrawer),r.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:r,voteAuthorizationType:n}=decodeData$1(hs.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new PublicKey(r),voteAuthorizationType:{index:n}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:n,newAuthorized:i,voteAuthorizationType:s}}=decodeData$1(hs.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new PublicKey(r),currentAuthorityDerivedKeySeed:n,newAuthorizedPubkey:new PublicKey(i),voteAuthorizationType:{index:s},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:r}=decodeData$1(hs.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:r,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(VoteProgram.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}}const hs=Object.freeze({InitializeAccount:{index:0,layout:Sr.struct([Sr.u32("instruction"),((e="voteInit")=>Sr.struct([publicKey("nodePubkey"),publicKey("authorizedVoter"),publicKey("authorizedWithdrawer"),Sr.u8("commission")],e))()])},Authorize:{index:1,layout:Sr.struct([Sr.u32("instruction"),publicKey("newAuthorized"),Sr.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:Sr.struct([Sr.u32("instruction"),Sr.ns64("lamports")])},UpdateValidatorIdentity:{index:4,layout:Sr.struct([Sr.u32("instruction")])},AuthorizeWithSeed:{index:10,layout:Sr.struct([Sr.u32("instruction"),((e="voteAuthorizeWithSeedArgs")=>Sr.struct([Sr.u32("voteAuthorizationType"),publicKey("currentAuthorityDerivedKeyOwnerPubkey"),rustString("currentAuthorityDerivedKeySeed"),publicKey("newAuthorized")],e))()])}}),fs=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class VoteProgram{constructor(){}static initializeAccount(e){const{votePubkey:r,nodePubkey:n,voteInit:i}=e,s=encodeData(hs.InitializeAccount,{voteInit:{nodePubkey:toBuffer(i.nodePubkey.toBuffer()),authorizedVoter:toBuffer(i.authorizedVoter.toBuffer()),authorizedWithdrawer:toBuffer(i.authorizedWithdrawer.toBuffer()),commission:i.commission}}),a={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Qn,isSigner:!1,isWritable:!1},{pubkey:Cn,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:s};return new TransactionInstruction(a)}static createAccount(e){const r=new Transaction;return r.add(SystemProgram.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),r.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:r,authorizedPubkey:n,newAuthorizedPubkey:i,voteAuthorizationType:s}=e,a=encodeData(hs.Authorize,{newAuthorized:toBuffer(i.toBuffer()),voteAuthorizationType:s.index}),k=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Cn,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return(new Transaction).add({keys:k,programId:this.programId,data:a})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:r,currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:i,newAuthorizedPubkey:s,voteAuthorizationType:a,votePubkey:k}=e,w=encodeData(hs.AuthorizeWithSeed,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:toBuffer(n.toBuffer()),currentAuthorityDerivedKeySeed:i,newAuthorized:toBuffer(s.toBuffer()),voteAuthorizationType:a.index}}),I=[{pubkey:k,isSigner:!1,isWritable:!0},{pubkey:Cn,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return(new Transaction).add({keys:I,programId:this.programId,data:w})}static withdraw(e){const{votePubkey:r,authorizedWithdrawerPubkey:n,lamports:i,toPubkey:s}=e,a=encodeData(hs.Withdraw,{lamports:i}),k=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return(new Transaction).add({keys:k,programId:this.programId,data:a})}static safeWithdraw(e,r,n){if(e.lamports>r-n)throw new Error("Withdraw will leave vote account with insufficient funds.");return VoteProgram.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:r,authorizedWithdrawerPubkey:n,nodePubkey:i}=e,s=encodeData(hs.UpdateValidatorIdentity),a=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return(new Transaction).add({keys:a,programId:this.programId,data:s})}}VoteProgram.programId=new PublicKey("Vote111111111111111111111111111111111111111"),VoteProgram.space=3762;const ps=new PublicKey("Va1idator1nfo111111111111111111111111111111"),gs=type({name:string(),website:optional(string()),details:optional(string()),keybaseUsername:optional(string())});class ValidatorInfo{constructor(e,r){this.key=void 0,this.info=void 0,this.key=e,this.info=r}static fromConfigData(e){let r=[...e];if(2!==decodeLength(r))return null;const n=[];for(let e=0;e<2;e++){const e=new PublicKey(guardedSplice(r,0,ln)),i=1===guardedShift(r);n.push({publicKey:e,isSigner:i})}if(n[0].publicKey.equals(ps)&&n[1].isSigner){const e=rustString().decode(s.Buffer.from(r)),i=JSON.parse(e);return index_es_assert(i,gs),new ValidatorInfo(n[1].publicKey,i)}return null}}const ys=new PublicKey("Vote111111111111111111111111111111111111111"),ms=Sr.struct([publicKey("nodePubkey"),publicKey("authorizedWithdrawer"),Sr.u8("commission"),Sr.nu64(),Sr.seq(Sr.struct([Sr.nu64("slot"),Sr.u32("confirmationCount")]),Sr.offset(Sr.u32(),-8),"votes"),Sr.u8("rootSlotValid"),Sr.nu64("rootSlot"),Sr.nu64(),Sr.seq(Sr.struct([Sr.nu64("epoch"),publicKey("authorizedVoter")]),Sr.offset(Sr.u32(),-8),"authorizedVoters"),Sr.struct([Sr.seq(Sr.struct([publicKey("authorizedPubkey"),Sr.nu64("epochOfLastAuthorizedSwitch"),Sr.nu64("targetEpoch")]),32,"buf"),Sr.nu64("idx"),Sr.u8("isEmpty")],"priorVoters"),Sr.nu64(),Sr.seq(Sr.struct([Sr.nu64("epoch"),Sr.nu64("credits"),Sr.nu64("prevCredits")]),Sr.offset(Sr.u32(),-8),"epochCredits"),Sr.struct([Sr.nu64("slot"),Sr.nu64("timestamp")],"lastTimestamp")]);class VoteAccount{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const r=ms.decode(toBuffer(e),4);let n=r.rootSlot;return r.rootSlotValid||(n=null),new VoteAccount({nodePubkey:new PublicKey(r.nodePubkey),authorizedWithdrawer:new PublicKey(r.authorizedWithdrawer),commission:r.commission,votes:r.votes,rootSlot:n,authorizedVoters:r.authorizedVoters.map(parseAuthorizedVoter),priorVoters:getPriorVoters(r.priorVoters),epochCredits:r.epochCredits,lastTimestamp:r.lastTimestamp})}}function parseAuthorizedVoter({authorizedVoter:e,epoch:r}){return{epoch:r,authorizedVoter:new PublicKey(e)}}function parsePriorVoters({authorizedPubkey:e,epochOfLastAuthorizedSwitch:r,targetEpoch:n}){return{authorizedPubkey:new PublicKey(e),epochOfLastAuthorizedSwitch:r,targetEpoch:n}}function getPriorVoters({buf:e,idx:r,isEmpty:n}){return n?[]:[...e.slice(r+1).map(parsePriorVoters),...e.slice(0,r).map(parsePriorVoters)]}const bs={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function clusterApiUrl(e,r){const n=!1===r?"http":"https";if(!e)return bs[n].devnet;const i=bs[n][e];if(!i)throw new Error(`Unknown ${n} cluster: ${e}`);return i}async function sendAndConfirmRawTransaction(e,r,n,i){let s,a;n&&Object.prototype.hasOwnProperty.call(n,"lastValidBlockHeight")||n&&Object.prototype.hasOwnProperty.call(n,"nonceValue")?(s=n,a=i):a=n;const k=a&&{skipPreflight:a.skipPreflight,preflightCommitment:a.preflightCommitment||a.commitment,minContextSlot:a.minContextSlot},w=await e.sendRawTransaction(r,k),I=a&&a.commitment,we=s?e.confirmTransaction(s,I):e.confirmTransaction(w,I),Ae=(await we).value;if(Ae.err)throw new Error(`Raw transaction ${w} failed (${JSON.stringify(Ae)})`);return w}const ks=1e9},50162:(e,r,n)=>{"use strict";var i=n(901048).Buffer;const s=n(828985),a=n(678180);class CommonClient extends s.EventEmitter{address;rpc_id;queue;options;autoconnect;ready;reconnect;reconnect_timer_id;reconnect_interval;max_reconnects;rest_options;current_reconnects;generate_request_id;socket;webSocketFactory;dataPack;constructor(e,r="ws://localhost:8080",{autoconnect:n=!0,reconnect:i=!0,reconnect_interval:s=1e3,max_reconnects:k=5,...w}={},I,we){super(),this.webSocketFactory=e,this.queue={},this.rpc_id=0,this.address=r,this.autoconnect=n,this.ready=!1,this.reconnect=i,this.reconnect_timer_id=void 0,this.reconnect_interval=s,this.max_reconnects=k,this.rest_options=w,this.current_reconnects=0,this.generate_request_id=I||(()=>++this.rpc_id),this.dataPack=we||new a.DefaultDataPack,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(e,r,n,i){return i||"object"!=typeof n||(i=n,n=null),new Promise(((s,a)=>{if(!this.ready)return a(new Error("socket not ready"));const k=this.generate_request_id(e,r),w={jsonrpc:"2.0",method:e,params:r||void 0,id:k};this.socket.send(this.dataPack.encode(w),i,(e=>{if(e)return a(e);this.queue[k]={promise:[s,a]},n&&(this.queue[k].timeout=setTimeout((()=>{delete this.queue[k],a(new Error("reply timeout"))}),n))}))}))}async login(e){const r=await this.call("rpc.login",e);if(!r)throw new Error("authentication failed");return r}async listMethods(){return await this.call("__listMethods")}notify(e,r){return new Promise(((n,i)=>{if(!this.ready)return i(new Error("socket not ready"));const s={jsonrpc:"2.0",method:e,params:r};this.socket.send(this.dataPack.encode(s),(e=>{if(e)return i(e);n()}))}))}async subscribe(e){"string"==typeof e&&(e=[e]);const r=await this.call("rpc.on",e);if("string"==typeof e&&"ok"!==r[e])throw new Error("Failed subscribing to an event '"+e+"' with: "+r[e]);return r}async unsubscribe(e){"string"==typeof e&&(e=[e]);const r=await this.call("rpc.off",e);if("string"==typeof e&&"ok"!==r[e])throw new Error("Failed unsubscribing from an event with: "+r);return r}close(e,r){this.socket.close(e||1e3,r)}setAutoReconnect(e){this.reconnect=e}setReconnectInterval(e){this.reconnect_interval=e}setMaxReconnects(e){this.max_reconnects=e}_connect(e,r){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(e,r),this.socket.addEventListener("open",(()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0})),this.socket.addEventListener("message",(({data:e})=>{e instanceof ArrayBuffer&&(e=i.from(e).toString());try{e=this.dataPack.decode(e)}catch(e){return}if(e.notification&&this.listeners(e.notification).length){if(!Object.keys(e.params).length)return this.emit(e.notification);const r=[e.notification];if(e.params.constructor===Object)r.push(e.params);else for(let n=0;n<e.params.length;n++)r.push(e.params[n]);return Promise.resolve().then((()=>{this.emit.apply(this,r)}))}if(!this.queue[e.id])return e.method?Promise.resolve().then((()=>{this.emit(e.method,e?.params)})):void 0;"error"in e=="result"in e&&this.queue[e.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[e.id].timeout&&clearTimeout(this.queue[e.id].timeout),e.error?this.queue[e.id].promise[1](e.error):this.queue[e.id].promise[0](e.result),delete this.queue[e.id]})),this.socket.addEventListener("error",(e=>this.emit("error",e))),this.socket.addEventListener("close",(({code:n,reason:i})=>{this.ready&&setTimeout((()=>this.emit("close",n,i)),0),this.ready=!1,this.socket=void 0,1e3!==n&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||0===this.max_reconnects)&&(this.reconnect_timer_id=setTimeout((()=>this._connect(e,r)),this.reconnect_interval)))}))}}r.A=CommonClient},172208:(e,r,n)=>{"use strict";const i=n(828985);class WebSocketBrowserImpl extends i.EventEmitter{socket;constructor(e,r,n){super(),this.socket=new window.WebSocket(e,n),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=e=>this.emit("message",e.data),this.socket.onerror=e=>this.emit("error",e),this.socket.onclose=e=>{this.emit("close",e.code,e.reason)}}send(e,r,n){const i=n||r;try{this.socket.send(e),i()}catch(e){i(e)}}close(e,r){this.socket.close(e,r)}addEventListener(e,r,n){this.socket.addEventListener(e,r,n)}}r.A=function default_1(e,r){return new WebSocketBrowserImpl(e,r)}},678180:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.createError=r.DefaultDataPack=void 0;const n=new Map([[-32e3,"Event not provided"],[-32600,"Invalid Request"],[-32601,"Method not found"],[-32602,"Invalid params"],[-32603,"Internal error"],[-32604,"Params not found"],[-32605,"Method forbidden"],[-32606,"Event forbidden"],[-32700,"Parse error"]]);r.DefaultDataPack=class DefaultDataPack{encode(e){return JSON.stringify(e)}decode(e){return JSON.parse(e)}},r.createError=function createError(e,r){const i={code:e,message:n.get(e)||"Internal Server Error"};return r&&(i.data=r),i}},790988:(e,r,n)=>{var i=n(351187);e.exports=function baseExtremum(e,r,n){for(var s=-1,a=e.length;++s<a;){var k=e[s],w=r(k);if(null!=w&&(void 0===I?w==w&&!i(w):n(w,I)))var I=w,we=k}return we}},802840:e=>{e.exports=function baseGt(e,r){return e>r}},647217:(e,r,n)=>{var i=n(790988),s=n(802840),a=n(922053);e.exports=function max(e){return e&&e.length?i(e,a,s):void 0}},411769:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.KeyNotFoundError=r.ImmutableMetadataError=r.IncorrectUpdateAuthorityError=r.IncorrectMintAuthorityError=r.MintHasNoMintAuthorityError=r.IncorrectAccountError=r.TokenMetadataError=void 0;class TokenMetadataError extends Error{constructor(e){super(e)}}r.TokenMetadataError=TokenMetadataError;r.IncorrectAccountError=class IncorrectAccountError extends TokenMetadataError{constructor(){super(...arguments),this.name="IncorrectAccountError"}};r.MintHasNoMintAuthorityError=class MintHasNoMintAuthorityError extends TokenMetadataError{constructor(){super(...arguments),this.name="MintHasNoMintAuthorityError"}};r.IncorrectMintAuthorityError=class IncorrectMintAuthorityError extends TokenMetadataError{constructor(){super(...arguments),this.name="IncorrectMintAuthorityError"}};r.IncorrectUpdateAuthorityError=class IncorrectUpdateAuthorityError extends TokenMetadataError{constructor(){super(...arguments),this.name="IncorrectUpdateAuthorityError"}};r.ImmutableMetadataError=class ImmutableMetadataError extends TokenMetadataError{constructor(){super(...arguments),this.name="ImmutableMetadataError"}};r.KeyNotFoundError=class KeyNotFoundError extends TokenMetadataError{constructor(){super(...arguments),this.name="KeyNotFoundError"}}},398356:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getFieldConfig=r.getFieldCodec=r.Field=void 0;const i=n(822319);var s;!function(e){e[e.Name=0]="Name",e[e.Symbol=1]="Symbol",e[e.Uri=2]="Uri"}(s||(r.Field=s={}));r.getFieldCodec=()=>[["Name",(0,i.getUnitCodec)()],["Symbol",(0,i.getUnitCodec)()],["Uri",(0,i.getUnitCodec)()],["Key",(0,i.getStructCodec)([["value",(0,i.getTupleCodec)([(0,i.getStringCodec)()])]])]],r.getFieldConfig=function getFieldConfig(e){return e===s.Name||"Name"===e||"name"===e?{__kind:"Name"}:e===s.Symbol||"Symbol"===e||"symbol"===e?{__kind:"Symbol"}:e===s.Uri||"Uri"===e||"uri"===e?{__kind:"Uri"}:{__kind:"Key",value:[e]}}},486104:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__exportStar||function(e,r){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||i(r,e,n)};Object.defineProperty(r,"__esModule",{value:!0}),s(n(411769),r),s(n(398356),r),s(n(915612),r),s(n(589801),r)},915612:(e,r,n)=>{"use strict";var i=n(901048).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.createEmitInstruction=r.createUpdateAuthorityInstruction=r.createRemoveKeyInstruction=r.createUpdateFieldInstruction=r.createInitializeInstruction=void 0;const s=n(822319),a=n(258858),k=n(228598),w=n(398356);function getInstructionEncoder(e,r){return(0,s.mapEncoder)((0,s.getTupleEncoder)([(0,s.getBytesEncoder)(),r]),(r=>[e,r]))}r.createInitializeInstruction=function createInitializeInstruction(e){const{programId:r,metadata:n,updateAuthority:w,mint:I,mintAuthority:we,name:Ae,symbol:Be,uri:Ce}=e;return new k.TransactionInstruction({programId:r,keys:[{isSigner:!1,isWritable:!0,pubkey:n},{isSigner:!1,isWritable:!1,pubkey:w},{isSigner:!1,isWritable:!1,pubkey:I},{isSigner:!0,isWritable:!1,pubkey:we}],data:i.from(getInstructionEncoder((0,a.splDiscriminate)("spl_token_metadata_interface:initialize_account"),(0,s.getStructEncoder)([["name",(0,s.getStringEncoder)()],["symbol",(0,s.getStringEncoder)()],["uri",(0,s.getStringEncoder)()]])).encode({name:Ae,symbol:Be,uri:Ce}))})},r.createUpdateFieldInstruction=function createUpdateFieldInstruction(e){const{programId:r,metadata:n,updateAuthority:I,field:we,value:Ae}=e;return new k.TransactionInstruction({programId:r,keys:[{isSigner:!1,isWritable:!0,pubkey:n},{isSigner:!0,isWritable:!1,pubkey:I}],data:i.from(getInstructionEncoder((0,a.splDiscriminate)("spl_token_metadata_interface:updating_field"),(0,s.getStructEncoder)([["field",(0,s.getDataEnumCodec)((0,w.getFieldCodec)())],["value",(0,s.getStringEncoder)()]])).encode({field:(0,w.getFieldConfig)(we),value:Ae}))})},r.createRemoveKeyInstruction=function createRemoveKeyInstruction(e){const{programId:r,metadata:n,updateAuthority:w,key:I,idempotent:we}=e;return new k.TransactionInstruction({programId:r,keys:[{isSigner:!1,isWritable:!0,pubkey:n},{isSigner:!0,isWritable:!1,pubkey:w}],data:i.from(getInstructionEncoder((0,a.splDiscriminate)("spl_token_metadata_interface:remove_key_ix"),(0,s.getStructEncoder)([["idempotent",(0,s.getBooleanEncoder)()],["key",(0,s.getStringEncoder)()]])).encode({idempotent:we,key:I}))})},r.createUpdateAuthorityInstruction=function createUpdateAuthorityInstruction(e){const{programId:r,metadata:n,oldAuthority:w,newAuthority:I}=e;return new k.TransactionInstruction({programId:r,keys:[{isSigner:!1,isWritable:!0,pubkey:n},{isSigner:!0,isWritable:!1,pubkey:w}],data:i.from(getInstructionEncoder((0,a.splDiscriminate)("spl_token_metadata_interface:update_the_authority"),(0,s.getStructEncoder)([["newAuthority",(0,s.mapEncoder)((0,s.getBytesEncoder)({size:32}),(e=>e.toBytes()))]])).encode({newAuthority:null!=I?I:k.SystemProgram.programId}))})},r.createEmitInstruction=function createEmitInstruction(e){const{programId:r,metadata:n,start:w,end:I}=e;return new k.TransactionInstruction({programId:r,keys:[{isSigner:!1,isWritable:!1,pubkey:n}],data:i.from(getInstructionEncoder((0,a.splDiscriminate)("spl_token_metadata_interface:emitter"),(0,s.getStructEncoder)([["start",(0,s.getOptionEncoder)((0,s.getU64Encoder)())],["end",(0,s.getOptionEncoder)((0,s.getU64Encoder)())]])).encode({start:null!=w?w:null,end:null!=I?I:null}))})}},589801:(e,r,n)=>{"use strict";var i=n(901048).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.unpack=r.pack=r.TOKEN_METADATA_DISCRIMINATOR=void 0;const s=n(228598),a=n(822319);r.TOKEN_METADATA_DISCRIMINATOR=i.from([112,132,90,90,11,88,157,87]);const k=(0,a.getStructCodec)([["updateAuthority",(0,a.getBytesCodec)({size:32})],["mint",(0,a.getBytesCodec)({size:32})],["name",(0,a.getStringCodec)()],["symbol",(0,a.getStringCodec)()],["uri",(0,a.getStringCodec)()],["additionalMetadata",(0,a.getArrayCodec)((0,a.getTupleCodec)([(0,a.getStringCodec)(),(0,a.getStringCodec)()]))]]);r.pack=function pack(e){var r;const n=null!==(r=e.updateAuthority)&&void 0!==r?r:s.PublicKey.default;return k.encode(Object.assign(Object.assign({},e),{updateAuthority:n.toBuffer(),mint:e.mint.toBuffer()}))},r.unpack=function unpack(e){const r=k.decode(e);return function isNonePubkey(e){for(let r=0;r<e.length;r++)if(0!==e[r])return!1;return!0}(r.updateAuthority)?{mint:new s.PublicKey(r.mint),name:r.name,symbol:r.symbol,uri:r.uri,additionalMetadata:r.additionalMetadata}:{updateAuthority:new s.PublicKey(r.updateAuthority),mint:new s.PublicKey(r.mint),name:r.name,symbol:r.symbol,uri:r.uri,additionalMetadata:r.additionalMetadata}}},193605:function(e,r,n){"use strict";var i=n(901048).Buffer,s=this&&this.__awaiter||function(e,r,n,i){return new(n||(n=Promise))((function(s,a){function fulfilled(e){try{step(i.next(e))}catch(e){a(e)}}function rejected(e){try{step(i.throw(e))}catch(e){a(e)}}function step(e){e.done?s(e.value):function adopt(e){return e instanceof n?e:new n((function(r){r(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.amountToUiAmount=void 0;const a=n(228598),k=n(359157),w=n(496245);r.amountToUiAmount=function amountToUiAmount(e,r,n,I,we=k.TOKEN_PROGRAM_ID){return s(this,void 0,void 0,(function*(){const s=(new a.Transaction).add((0,w.createAmountToUiAmountInstruction)(n,I,we)),{returnData:k,err:Ae}=(yield e.simulateTransaction(s,[r],!1)).value;return(null==k?void 0:k.data)?i.from(k.data[0],k.data[1]).toString("utf-8"):Ae}))}},350401:function(e,r,n){"use strict";var i=this&&this.__awaiter||function(e,r,n,i){return new(n||(n=Promise))((function(s,a){function fulfilled(e){try{step(i.next(e))}catch(e){a(e)}}function rejected(e){try{step(i.throw(e))}catch(e){a(e)}}function step(e){e.done?s(e.value):function adopt(e){return e instanceof n?e:new n((function(r){r(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.approve=void 0;const s=n(228598),a=n(359157),k=n(218641),w=n(716083);r.approve=function approve(e,r,n,I,we,Ae,Be=[],Ce,ze=a.TOKEN_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const[i,a]=(0,w.getSigners)(we,Be),qe=(new s.Transaction).add((0,k.createApproveInstruction)(n,I,i,Ae,Be,ze));return yield(0,s.sendAndConfirmTransaction)(e,qe,[r,...a],Ce)}))}},771364:function(e,r,n){"use strict";var i=this&&this.__awaiter||function(e,r,n,i){return new(n||(n=Promise))((function(s,a){function fulfilled(e){try{step(i.next(e))}catch(e){a(e)}}function rejected(e){try{step(i.throw(e))}catch(e){a(e)}}function step(e){e.done?s(e.value):function adopt(e){return e instanceof n?e:new n((function(r){r(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.approveChecked=void 0;const s=n(228598),a=n(359157),k=n(899220),w=n(716083);r.approveChecked=function approveChecked(e,r,n,I,we,Ae,Be,Ce,ze=[],qe,$e=a.TOKEN_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const[i,a]=(0,w.getSigners)(Ae,ze),Ye=(new s.Transaction).add((0,k.createApproveCheckedInstruction)(I,n,we,i,Be,Ce,ze,$e));return yield(0,s.sendAndConfirmTransaction)(e,Ye,[r,...a],qe)}))}},571675:function(e,r,n){"use strict";var i=this&&this.__awaiter||function(e,r,n,i){return new(n||(n=Promise))((function(s,a){function fulfilled(e){try{step(i.next(e))}catch(e){a(e)}}function rejected(e){try{step(i.throw(e))}catch(e){a(e)}}function step(e){e.done?s(e.value):function adopt(e){return e instanceof n?e:new n((function(r){r(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.burn=void 0;const s=n(228598),a=n(359157),k=n(403787),w=n(716083);r.burn=function burn(e,r,n,I,we,Ae,Be=[],Ce,ze=a.TOKEN_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const[i,a]=(0,w.getSigners)(we,Be),qe=(new s.Transaction).add((0,k.createBurnInstruction)(n,I,i,Ae,Be,ze));return yield(0,s.sendAndConfirmTransaction)(e,qe,[r,...a],Ce)}))}},655838:function(e,r,n){"use strict";var i=this&&this.__awaiter||function(e,r,n,i){return new(n||(n=Promise))((function(s,a){function fulfilled(e){try{step(i.next(e))}catch(e){a(e)}}function rejected(e){try{step(i.throw(e))}catch(e){a(e)}}function step(e){e.done?s(e.value):function adopt(e){return e instanceof n?e:new n((function(r){r(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.burnChecked=void 0;const s=n(228598),a=n(359157),k=n(352942),w=n(716083);r.burnChecked=function burnChecked(e,r,n,I,we,Ae,Be,Ce=[],ze,qe=a.TOKEN_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const[i,a]=(0,w.getSigners)(we,Ce),$e=(new s.Transaction).add((0,k.createBurnCheckedInstruction)(n,I,i,Ae,Be,Ce,qe));return yield(0,s.sendAndConfirmTransaction)(e,$e,[r,...a],ze)}))}},808245:function(e,r,n){"use strict";var i=this&&this.__awaiter||function(e,r,n,i){return new(n||(n=Promise))((function(s,a){function fulfilled(e){try{step(i.next(e))}catch(e){a(e)}}function rejected(e){try{step(i.throw(e))}catch(e){a(e)}}function step(e){e.done?s(e.value):function adopt(e){return e instanceof n?e:new n((function(r){r(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.closeAccount=void 0;const s=n(228598),a=n(359157),k=n(183621),w=n(716083);r.closeAccount=function closeAccount(e,r,n,I,we,Ae=[],Be,Ce=a.TOKEN_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const[i,a]=(0,w.getSigners)(we,Ae),ze=(new s.Transaction).add((0,k.createCloseAccountInstruction)(n,I,i,Ae,Ce));return yield(0,s.sendAndConfirmTransaction)(e,ze,[r,...a],Be)}))}},340927:function(e,r,n){"use strict";var i=this&&this.__awaiter||function(e,r,n,i){return new(n||(n=Promise))((function(s,a){function fulfilled(e){try{step(i.next(e))}catch(e){a(e)}}function rejected(e){try{step(i.throw(e))}catch(e){a(e)}}function step(e){e.done?s(e.value):function adopt(e){return e instanceof n?e:new n((function(r){r(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.createAccount=void 0;const s=n(228598),a=n(359157),k=n(738522),w=n(250333),I=n(754008),we=n(642760);r.createAccount=function createAccount(e,r,n,Ae,Be,Ce,ze=a.TOKEN_PROGRAM_ID){return i(this,void 0,void 0,(function*(){if(!Be)return yield(0,we.createAssociatedTokenAccount)(e,r,n,Ae,Ce,ze);const i=yield(0,I.getMint)(e,n,null==Ce?void 0:Ce.commitment,ze),a=(0,k.getAccountLenForMint)(i),qe=yield e.getMinimumBalanceForRentExemption(a),$e=(new s.Transaction).add(s.SystemProgram.createAccount({fromPubkey:r.publicKey,newAccountPubkey:Be.publicKey,space:a,lamports:qe,programId:ze}),(0,w.createInitializeAccountInstruction)(Be.publicKey,n,Ae,ze));return yield(0,s.sendAndConfirmTransaction)(e,$e,[r,Be],Ce),Be.publicKey}))}},642760:function(e,r,n){"use strict";var i=this&&this.__awaiter||function(e,r,n,i){return new(n||(n=Promise))((function(s,a){function fulfilled(e){try{step(i.next(e))}catch(e){a(e)}}function rejected(e){try{step(i.throw(e))}catch(e){a(e)}}function step(e){e.done?s(e.value):function adopt(e){return e instanceof n?e:new n((function(r){r(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.createAssociatedTokenAccount=void 0;const s=n(228598),a=n(359157),k=n(172048),w=n(754008);r.createAssociatedTokenAccount=function createAssociatedTokenAccount(e,r,n,I,we,Ae=a.TOKEN_PROGRAM_ID,Be=a.ASSOCIATED_TOKEN_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const i=(0,w.getAssociatedTokenAddressSync)(n,I,!1,Ae,Be),a=(new s.Transaction).add((0,k.createAssociatedTokenAccountInstruction)(r.publicKey,i,I,n,Ae,Be));return yield(0,s.sendAndConfirmTransaction)(e,a,[r],we),i}))}},37755:function(e,r,n){"use strict";var i=this&&this.__awaiter||function(e,r,n,i){return new(n||(n=Promise))((function(s,a){function fulfilled(e){try{step(i.next(e))}catch(e){a(e)}}function rejected(e){try{step(i.throw(e))}catch(e){a(e)}}function step(e){e.done?s(e.value):function adopt(e){return e instanceof n?e:new n((function(r){r(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.createAssociatedTokenAccountIdempotent=void 0;const s=n(228598),a=n(359157),k=n(172048),w=n(754008);r.createAssociatedTokenAccountIdempotent=function createAssociatedTokenAccountIdempotent(e,r,n,I,we,Ae=a.TOKEN_PROGRAM_ID,Be=a.ASSOCIATED_TOKEN_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const i=(0,w.getAssociatedTokenAddressSync)(n,I,!1,Ae,Be),a=(new s.Transaction).add((0,k.createAssociatedTokenAccountIdempotentInstruction)(r.publicKey,i,I,n,Ae,Be));return yield(0,s.sendAndConfirmTransaction)(e,a,[r],we),i}))}},524078:function(e,r,n){"use strict";var i=this&&this.__awaiter||function(e,r,n,i){return new(n||(n=Promise))((function(s,a){function fulfilled(e){try{step(i.next(e))}catch(e){a(e)}}function rejected(e){try{step(i.throw(e))}catch(e){a(e)}}function step(e){e.done?s(e.value):function adopt(e){return e instanceof n?e:new n((function(r){r(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.createMint=void 0;const s=n(228598),a=n(359157),k=n(668916),w=n(754008);r.createMint=function createMint(e,r,n,I,we,Ae=s.Keypair.generate(),Be,Ce=a.TOKEN_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const i=yield(0,w.getMinimumBalanceForRentExemptMint)(e),a=(new s.Transaction).add(s.SystemProgram.createAccount({fromPubkey:r.publicKey,newAccountPubkey:Ae.publicKey,space:w.MINT_SIZE,lamports:i,programId:Ce}),(0,k.createInitializeMint2Instruction)(Ae.publicKey,we,n,I,Ce));return yield(0,s.sendAndConfirmTransaction)(e,a,[r,Ae],Be),Ae.publicKey}))}},836348:function(e,r,n){"use strict";var i=this&&this.__awaiter||function(e,r,n,i){return new(n||(n=Promise))((function(s,a){function fulfilled(e){try{step(i.next(e))}catch(e){a(e)}}function rejected(e){try{step(i.throw(e))}catch(e){a(e)}}function step(e){e.done?s(e.value):function adopt(e){return e instanceof n?e:new n((function(r){r(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.createMultisig=void 0;const s=n(228598),a=n(359157),k=n(402830),w=n(799282);r.createMultisig=function createMultisig(e,r,n,I,we=s.Keypair.generate(),Ae,Be=a.TOKEN_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const i=yield(0,w.getMinimumBalanceForRentExemptMultisig)(e),a=(new s.Transaction).add(s.SystemProgram.createAccount({fromPubkey:r.publicKey,newAccountPubkey:we.publicKey,space:w.MULTISIG_SIZE,lamports:i,programId:Be}),(0,k.createInitializeMultisigInstruction)(we.publicKey,n,I,Be));return yield(0,s.sendAndConfirmTransaction)(e,a,[r,we],Ae),we.publicKey}))}},168389:function(e,r,n){"use strict";var i=this&&this.__awaiter||function(e,r,n,i){return new(n||(n=Promise))((function(s,a){function fulfilled(e){try{step(i.next(e))}catch(e){a(e)}}function rejected(e){try{step(i.throw(e))}catch(e){a(e)}}function step(e){e.done?s(e.value):function adopt(e){return e instanceof n?e:new n((function(r){r(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.createNativeMint=void 0;const s=n(228598),a=n(359157),k=n(835733);r.createNativeMint=function createNativeMint(e,r,n,w=a.NATIVE_MINT_2022,I=a.TOKEN_2022_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const i=(new s.Transaction).add((0,k.createCreateNativeMintInstruction)(r.publicKey,w,I));yield(0,s.sendAndConfirmTransaction)(e,i,[r],n)}))}},437731:function(e,r,n){"use strict";var i=this&&this.__awaiter||function(e,r,n,i){return new(n||(n=Promise))((function(s,a){function fulfilled(e){try{step(i.next(e))}catch(e){a(e)}}function rejected(e){try{step(i.throw(e))}catch(e){a(e)}}function step(e){e.done?s(e.value):function adopt(e){return e instanceof n?e:new n((function(r){r(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.createWrappedNativeAccount=void 0;const s=n(228598),a=n(359157),k=n(172048),w=n(250333),I=n(371322),we=n(393457),Ae=n(754008),Be=n(340927);r.createWrappedNativeAccount=function createWrappedNativeAccount(e,r,n,Ce,ze,qe,$e=a.TOKEN_PROGRAM_ID,Ye=a.NATIVE_MINT){return i(this,void 0,void 0,(function*(){if(!Ce)return yield(0,Be.createAccount)(e,r,Ye,n,ze,qe,$e);if(!ze){const i=(0,Ae.getAssociatedTokenAddressSync)(Ye,n,!1,$e,a.ASSOCIATED_TOKEN_PROGRAM_ID),w=(new s.Transaction).add((0,k.createAssociatedTokenAccountInstruction)(r.publicKey,i,n,Ye,$e,a.ASSOCIATED_TOKEN_PROGRAM_ID),s.SystemProgram.transfer({fromPubkey:r.publicKey,toPubkey:i,lamports:Ce}),(0,I.createSyncNativeInstruction)(i,$e));return yield(0,s.sendAndConfirmTransaction)(e,w,[r],qe),i}const i=yield(0,we.getMinimumBalanceForRentExemptAccount)(e),Je=(new s.Transaction).add(s.SystemProgram.createAccount({fromPubkey:r.publicKey,newAccountPubkey:ze.publicKey,space:we.ACCOUNT_SIZE,lamports:i,programId:$e}),s.SystemProgram.transfer({fromPubkey:r.publicKey,toPubkey:ze.publicKey,lamports:Ce}),(0,w.createInitializeAccountInstruction)(ze.publicKey,Ye,n,$e));return yield(0,s.sendAndConfirmTransaction)(e,Je,[r,ze],qe),ze.publicKey}))}},292690:function(e,r,n){"use strict";var i=this&&this.__awaiter||function(e,r,n,i){return new(n||(n=Promise))((function(s,a){function fulfilled(e){try{step(i.next(e))}catch(e){a(e)}}function rejected(e){try{step(i.throw(e))}catch(e){a(e)}}function step(e){e.done?s(e.value):function adopt(e){return e instanceof n?e:new n((function(r){r(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.freezeAccount=void 0;const s=n(228598),a=n(359157),k=n(668258),w=n(716083);r.freezeAccount=function freezeAccount(e,r,n,I,we,Ae=[],Be,Ce=a.TOKEN_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const[i,a]=(0,w.getSigners)(we,Ae),ze=(new s.Transaction).add((0,k.createFreezeAccountInstruction)(n,I,i,Ae,Ce));return yield(0,s.sendAndConfirmTransaction)(e,ze,[r,...a],Be)}))}},792491:function(e,r,n){"use strict";var i=this&&this.__awaiter||function(e,r,n,i){return new(n||(n=Promise))((function(s,a){function fulfilled(e){try{step(i.next(e))}catch(e){a(e)}}function rejected(e){try{step(i.throw(e))}catch(e){a(e)}}function step(e){e.done?s(e.value):function adopt(e){return e instanceof n?e:new n((function(r){r(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.getOrCreateAssociatedTokenAccount=void 0;const s=n(228598),a=n(359157),k=n(718385),w=n(172048),I=n(393457),we=n(754008);r.getOrCreateAssociatedTokenAccount=function getOrCreateAssociatedTokenAccount(e,r,n,Ae,Be=!1,Ce,ze,qe=a.TOKEN_PROGRAM_ID,$e=a.ASSOCIATED_TOKEN_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const i=(0,we.getAssociatedTokenAddressSync)(n,Ae,Be,qe,$e);let a;try{a=yield(0,I.getAccount)(e,i,Ce,qe)}catch(we){if(!(we instanceof k.TokenAccountNotFoundError||we instanceof k.TokenInvalidAccountOwnerError))throw we;try{const a=(new s.Transaction).add((0,w.createAssociatedTokenAccountInstruction)(r.publicKey,i,Ae,n,qe,$e));yield(0,s.sendAndConfirmTransaction)(e,a,[r],ze)}catch(e){}a=yield(0,I.getAccount)(e,i,Ce,qe)}if(!a.mint.equals(n))throw new k.TokenInvalidMintError;if(!a.owner.equals(Ae))throw new k.TokenInvalidOwnerError;return a}))}},264868:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__exportStar||function(e,r){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||i(r,e,n)};Object.defineProperty(r,"__esModule",{value:!0}),s(n(193605),r),s(n(350401),r),s(n(771364),r),s(n(571675),r),s(n(655838),r),s(n(808245),r),s(n(340927),r),s(n(642760),r),s(n(37755),r),s(n(524078),r),s(n(836348),r),s(n(168389),r),s(n(437731),r),s(n(292690),r),s(n(792491),r),s(n(561339),r),s(n(341694),r),s(n(461299),r),s(n(415052),r),s(n(451851),r),s(n(845770),r),s(n(746471),r),s(n(971845),r),s(n(410408),r),s(n(257749),r)},716083:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getSigners=void 0;const i=n(228598);r.getSigners=function getSigners(e,r){return e instanceof i.PublicKey?[e,r]:[e.publicKey,[e]]}},561339:function(e,r,n){"use strict";var i=this&&this.__awaiter||function(e,r,n,i){return new(n||(n=Promise))((function(s,a){function fulfilled(e){try{step(i.next(e))}catch(e){a(e)}}function rejected(e){try{step(i.throw(e))}catch(e){a(e)}}function step(e){e.done?s(e.value):function adopt(e){return e instanceof n?e:new n((function(r){r(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.mintTo=void 0;const s=n(228598),a=n(359157),k=n(88235),w=n(716083);r.mintTo=function mintTo(e,r,n,I,we,Ae,Be=[],Ce,ze=a.TOKEN_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const[i,a]=(0,w.getSigners)(we,Be),qe=(new s.Transaction).add((0,k.createMintToInstruction)(n,I,i,Ae,Be,ze));return yield(0,s.sendAndConfirmTransaction)(e,qe,[r,...a],Ce)}))}},341694:function(e,r,n){"use strict";var i=this&&this.__awaiter||function(e,r,n,i){return new(n||(n=Promise))((function(s,a){function fulfilled(e){try{step(i.next(e))}catch(e){a(e)}}function rejected(e){try{step(i.throw(e))}catch(e){a(e)}}function step(e){e.done?s(e.value):function adopt(e){return e instanceof n?e:new n((function(r){r(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.mintToChecked=void 0;const s=n(228598),a=n(359157),k=n(788558),w=n(716083);r.mintToChecked=function mintToChecked(e,r,n,I,we,Ae,Be,Ce=[],ze,qe=a.TOKEN_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const[i,a]=(0,w.getSigners)(we,Ce),$e=(new s.Transaction).add((0,k.createMintToCheckedInstruction)(n,I,i,Ae,Be,Ce,qe));return yield(0,s.sendAndConfirmTransaction)(e,$e,[r,...a],ze)}))}},461299:function(e,r,n){"use strict";var i=this&&this.__awaiter||function(e,r,n,i){return new(n||(n=Promise))((function(s,a){function fulfilled(e){try{step(i.next(e))}catch(e){a(e)}}function rejected(e){try{step(i.throw(e))}catch(e){a(e)}}function step(e){e.done?s(e.value):function adopt(e){return e instanceof n?e:new n((function(r){r(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.recoverNested=void 0;const s=n(228598),a=n(359157),k=n(172048),w=n(754008);r.recoverNested=function recoverNested(e,r,n,I,we,Ae,Be=a.TOKEN_PROGRAM_ID,Ce=a.ASSOCIATED_TOKEN_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const i=(0,w.getAssociatedTokenAddressSync)(I,n.publicKey,!1,Be,Ce),a=(0,w.getAssociatedTokenAddressSync)(we,n.publicKey,!1,Be,Ce),ze=(0,w.getAssociatedTokenAddressSync)(we,i,!0,Be,Ce),qe=(new s.Transaction).add((0,k.createRecoverNestedInstruction)(ze,we,a,i,I,n.publicKey,Be,Ce));return yield(0,s.sendAndConfirmTransaction)(e,qe,[r,n],Ae)}))}},415052:function(e,r,n){"use strict";var i=this&&this.__awaiter||function(e,r,n,i){return new(n||(n=Promise))((function(s,a){function fulfilled(e){try{step(i.next(e))}catch(e){a(e)}}function rejected(e){try{step(i.throw(e))}catch(e){a(e)}}function step(e){e.done?s(e.value):function adopt(e){return e instanceof n?e:new n((function(r){r(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.revoke=void 0;const s=n(228598),a=n(359157),k=n(395580),w=n(716083);r.revoke=function revoke(e,r,n,I,we=[],Ae,Be=a.TOKEN_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const[i,a]=(0,w.getSigners)(I,we),Ce=(new s.Transaction).add((0,k.createRevokeInstruction)(n,i,we,Be));return yield(0,s.sendAndConfirmTransaction)(e,Ce,[r,...a],Ae)}))}},451851:function(e,r,n){"use strict";var i=this&&this.__awaiter||function(e,r,n,i){return new(n||(n=Promise))((function(s,a){function fulfilled(e){try{step(i.next(e))}catch(e){a(e)}}function rejected(e){try{step(i.throw(e))}catch(e){a(e)}}function step(e){e.done?s(e.value):function adopt(e){return e instanceof n?e:new n((function(r){r(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.setAuthority=void 0;const s=n(228598),a=n(359157),k=n(699419),w=n(716083);r.setAuthority=function setAuthority(e,r,n,I,we,Ae,Be=[],Ce,ze=a.TOKEN_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const[i,a]=(0,w.getSigners)(I,Be),qe=(new s.Transaction).add((0,k.createSetAuthorityInstruction)(n,i,we,Ae,Be,ze));return yield(0,s.sendAndConfirmTransaction)(e,qe,[r,...a],Ce)}))}},845770:function(e,r,n){"use strict";var i=this&&this.__awaiter||function(e,r,n,i){return new(n||(n=Promise))((function(s,a){function fulfilled(e){try{step(i.next(e))}catch(e){a(e)}}function rejected(e){try{step(i.throw(e))}catch(e){a(e)}}function step(e){e.done?s(e.value):function adopt(e){return e instanceof n?e:new n((function(r){r(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.syncNative=void 0;const s=n(228598),a=n(359157),k=n(371322);r.syncNative=function syncNative(e,r,n,w,I=a.TOKEN_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const i=(new s.Transaction).add((0,k.createSyncNativeInstruction)(n,I));return yield(0,s.sendAndConfirmTransaction)(e,i,[r],w)}))}},746471:function(e,r,n){"use strict";var i=this&&this.__awaiter||function(e,r,n,i){return new(n||(n=Promise))((function(s,a){function fulfilled(e){try{step(i.next(e))}catch(e){a(e)}}function rejected(e){try{step(i.throw(e))}catch(e){a(e)}}function step(e){e.done?s(e.value):function adopt(e){return e instanceof n?e:new n((function(r){r(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.thawAccount=void 0;const s=n(228598),a=n(359157),k=n(729975),w=n(716083);r.thawAccount=function thawAccount(e,r,n,I,we,Ae=[],Be,Ce=a.TOKEN_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const[i,a]=(0,w.getSigners)(we,Ae),ze=(new s.Transaction).add((0,k.createThawAccountInstruction)(n,I,i,Ae,Ce));return yield(0,s.sendAndConfirmTransaction)(e,ze,[r,...a],Be)}))}},971845:function(e,r,n){"use strict";var i=this&&this.__awaiter||function(e,r,n,i){return new(n||(n=Promise))((function(s,a){function fulfilled(e){try{step(i.next(e))}catch(e){a(e)}}function rejected(e){try{step(i.throw(e))}catch(e){a(e)}}function step(e){e.done?s(e.value):function adopt(e){return e instanceof n?e:new n((function(r){r(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.transfer=void 0;const s=n(228598),a=n(359157),k=n(585781),w=n(716083);r.transfer=function transfer(e,r,n,I,we,Ae,Be=[],Ce,ze=a.TOKEN_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const[i,a]=(0,w.getSigners)(we,Be),qe=(new s.Transaction).add((0,k.createTransferInstruction)(n,I,i,Ae,Be,ze));return yield(0,s.sendAndConfirmTransaction)(e,qe,[r,...a],Ce)}))}},410408:function(e,r,n){"use strict";var i=this&&this.__awaiter||function(e,r,n,i){return new(n||(n=Promise))((function(s,a){function fulfilled(e){try{step(i.next(e))}catch(e){a(e)}}function rejected(e){try{step(i.throw(e))}catch(e){a(e)}}function step(e){e.done?s(e.value):function adopt(e){return e instanceof n?e:new n((function(r){r(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.transferChecked=void 0;const s=n(228598),a=n(359157),k=n(256056),w=n(716083);r.transferChecked=function transferChecked(e,r,n,I,we,Ae,Be,Ce,ze=[],qe,$e=a.TOKEN_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const[i,a]=(0,w.getSigners)(Ae,ze),Ye=(new s.Transaction).add((0,k.createTransferCheckedInstruction)(n,I,we,i,Be,Ce,ze,$e));return yield(0,s.sendAndConfirmTransaction)(e,Ye,[r,...a],qe)}))}},257749:function(e,r,n){"use strict";var i=n(901048).Buffer,s=this&&this.__awaiter||function(e,r,n,i){return new(n||(n=Promise))((function(s,a){function fulfilled(e){try{step(i.next(e))}catch(e){a(e)}}function rejected(e){try{step(i.throw(e))}catch(e){a(e)}}function step(e){e.done?s(e.value):function adopt(e){return e instanceof n?e:new n((function(r){r(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.uiAmountToAmount=void 0;const a=n(432510),k=n(228598),w=n(359157),I=n(685829);r.uiAmountToAmount=function uiAmountToAmount(e,r,n,we,Ae=w.TOKEN_PROGRAM_ID){return s(this,void 0,void 0,(function*(){const s=(new k.Transaction).add((0,I.createUiAmountToAmountInstruction)(n,we,Ae)),{returnData:w,err:Be}=(yield e.simulateTransaction(s,[r],!1)).value;if(w){const e=i.from(w.data[0],w.data[1]);return(0,a.u64)().decode(e)}return Be}))}},359157:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.programSupportsExtensions=r.NATIVE_MINT_2022=r.NATIVE_MINT=r.ASSOCIATED_TOKEN_PROGRAM_ID=r.TOKEN_2022_PROGRAM_ID=r.TOKEN_PROGRAM_ID=void 0;const i=n(228598);r.TOKEN_PROGRAM_ID=new i.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.TOKEN_2022_PROGRAM_ID=new i.PublicKey("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"),r.ASSOCIATED_TOKEN_PROGRAM_ID=new i.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r.NATIVE_MINT=new i.PublicKey("So11111111111111111111111111111111111111112"),r.NATIVE_MINT_2022=new i.PublicKey("9pan9bMn5HatX4EJdBwg9VgCa7Uz5HL8N1m5D3NdXejP"),r.programSupportsExtensions=function programSupportsExtensions(e){return e!==r.TOKEN_PROGRAM_ID}},718385:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.TokenTransferHookAccountDataNotFound=r.TokenTransferHookInvalidSeed=r.TokenTransferHookAccountNotFound=r.TokenUnsupportedInstructionError=r.TokenInvalidInstructionTypeError=r.TokenInvalidInstructionDataError=r.TokenInvalidInstructionKeysError=r.TokenInvalidInstructionProgramError=r.TokenOwnerOffCurveError=r.TokenInvalidOwnerError=r.TokenInvalidMintError=r.TokenInvalidAccountSizeError=r.TokenInvalidAccountOwnerError=r.TokenInvalidAccountDataError=r.TokenInvalidAccountError=r.TokenAccountNotFoundError=r.TokenError=void 0;class TokenError extends Error{constructor(e){super(e)}}r.TokenError=TokenError;r.TokenAccountNotFoundError=class TokenAccountNotFoundError extends TokenError{constructor(){super(...arguments),this.name="TokenAccountNotFoundError"}};r.TokenInvalidAccountError=class TokenInvalidAccountError extends TokenError{constructor(){super(...arguments),this.name="TokenInvalidAccountError"}};r.TokenInvalidAccountDataError=class TokenInvalidAccountDataError extends TokenError{constructor(){super(...arguments),this.name="TokenInvalidAccountDataError"}};r.TokenInvalidAccountOwnerError=class TokenInvalidAccountOwnerError extends TokenError{constructor(){super(...arguments),this.name="TokenInvalidAccountOwnerError"}};r.TokenInvalidAccountSizeError=class TokenInvalidAccountSizeError extends TokenError{constructor(){super(...arguments),this.name="TokenInvalidAccountSizeError"}};r.TokenInvalidMintError=class TokenInvalidMintError extends TokenError{constructor(){super(...arguments),this.name="TokenInvalidMintError"}};r.TokenInvalidOwnerError=class TokenInvalidOwnerError extends TokenError{constructor(){super(...arguments),this.name="TokenInvalidOwnerError"}};r.TokenOwnerOffCurveError=class TokenOwnerOffCurveError extends TokenError{constructor(){super(...arguments),this.name="TokenOwnerOffCurveError"}};r.TokenInvalidInstructionProgramError=class TokenInvalidInstructionProgramError extends TokenError{constructor(){super(...arguments),this.name="TokenInvalidInstructionProgramError"}};r.TokenInvalidInstructionKeysError=class TokenInvalidInstructionKeysError extends TokenError{constructor(){super(...arguments),this.name="TokenInvalidInstructionKeysError"}};r.TokenInvalidInstructionDataError=class TokenInvalidInstructionDataError extends TokenError{constructor(){super(...arguments),this.name="TokenInvalidInstructionDataError"}};r.TokenInvalidInstructionTypeError=class TokenInvalidInstructionTypeError extends TokenError{constructor(){super(...arguments),this.name="TokenInvalidInstructionTypeError"}};r.TokenUnsupportedInstructionError=class TokenUnsupportedInstructionError extends TokenError{constructor(){super(...arguments),this.name="TokenUnsupportedInstructionError"}};r.TokenTransferHookAccountNotFound=class TokenTransferHookAccountNotFound extends TokenError{constructor(){super(...arguments),this.name="TokenTransferHookAccountNotFound"}};r.TokenTransferHookInvalidSeed=class TokenTransferHookInvalidSeed extends TokenError{constructor(){super(...arguments),this.name="TokenTransferHookInvalidSeed"}};r.TokenTransferHookAccountDataNotFound=class TokenTransferHookAccountDataNotFound extends TokenError{constructor(){super(...arguments),this.name="TokenTransferHookAccountDataNotFound"}}},490536:(e,r)=>{"use strict";var n;Object.defineProperty(r,"__esModule",{value:!0}),r.ACCOUNT_TYPE_SIZE=r.AccountType=void 0,function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Mint=1]="Mint",e[e.Account=2]="Account"}(n||(r.AccountType=n={})),r.ACCOUNT_TYPE_SIZE=1},893092:function(e,r,n){"use strict";var i=this&&this.__awaiter||function(e,r,n,i){return new(n||(n=Promise))((function(s,a){function fulfilled(e){try{step(i.next(e))}catch(e){a(e)}}function rejected(e){try{step(i.throw(e))}catch(e){a(e)}}function step(e){e.done?s(e.value):function adopt(e){return e instanceof n?e:new n((function(r){r(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.disableCpiGuard=r.enableCpiGuard=void 0;const s=n(228598),a=n(716083),k=n(359157),w=n(683126);r.enableCpiGuard=function enableCpiGuard(e,r,n,I,we=[],Ae,Be=k.TOKEN_2022_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const[i,k]=(0,a.getSigners)(I,we),Ce=(new s.Transaction).add((0,w.createEnableCpiGuardInstruction)(n,i,k,Be));return yield(0,s.sendAndConfirmTransaction)(e,Ce,[r,...k],Ae)}))},r.disableCpiGuard=function disableCpiGuard(e,r,n,I,we=[],Ae,Be=k.TOKEN_2022_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const[i,k]=(0,a.getSigners)(I,we),Ce=(new s.Transaction).add((0,w.createDisableCpiGuardInstruction)(n,i,k,Be));return yield(0,s.sendAndConfirmTransaction)(e,Ce,[r,...k],Ae)}))}},296711:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__exportStar||function(e,r){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||i(r,e,n)};Object.defineProperty(r,"__esModule",{value:!0}),s(n(893092),r),s(n(683126),r),s(n(9002),r)},683126:(e,r,n)=>{"use strict";var i=n(901048).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.createDisableCpiGuardInstruction=r.createEnableCpiGuardInstruction=r.cpiGuardInstructionData=r.CpiGuardInstruction=void 0;const s=n(878918),a=n(228598),k=n(359157),w=n(718385),I=n(508003),we=n(829105);var Ae;function createCpiGuardInstruction(e,n,s,Ae,Be){if(!(0,k.programSupportsExtensions)(Be))throw new w.TokenUnsupportedInstructionError;const Ce=(0,I.addSigners)([{pubkey:n,isSigner:!1,isWritable:!0}],s,Ae),ze=i.alloc(r.cpiGuardInstructionData.span);return r.cpiGuardInstructionData.encode({instruction:we.TokenInstruction.CpiGuardExtension,cpiGuardInstruction:e},ze),new a.TransactionInstruction({keys:Ce,programId:Be,data:ze})}!function(e){e[e.Enable=0]="Enable",e[e.Disable=1]="Disable"}(Ae||(r.CpiGuardInstruction=Ae={})),r.cpiGuardInstructionData=(0,s.struct)([(0,s.u8)("instruction"),(0,s.u8)("cpiGuardInstruction")]),r.createEnableCpiGuardInstruction=function createEnableCpiGuardInstruction(e,r,n=[],i=k.TOKEN_2022_PROGRAM_ID){return createCpiGuardInstruction(Ae.Enable,e,r,n,i)},r.createDisableCpiGuardInstruction=function createDisableCpiGuardInstruction(e,r,n=[],i=k.TOKEN_2022_PROGRAM_ID){return createCpiGuardInstruction(Ae.Disable,e,r,n,i)}},9002:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getCpiGuard=r.CPI_GUARD_SIZE=r.CpiGuardLayout=void 0;const i=n(878918),s=n(432510),a=n(738522);r.CpiGuardLayout=(0,i.struct)([(0,s.bool)("lockCpi")]),r.CPI_GUARD_SIZE=r.CpiGuardLayout.span,r.getCpiGuard=function getCpiGuard(e){const n=(0,a.getExtensionData)(a.ExtensionType.CpiGuard,e.tlvData);return null!==n?r.CpiGuardLayout.decode(n):null}},930166:function(e,r,n){"use strict";var i=this&&this.__awaiter||function(e,r,n,i){return new(n||(n=Promise))((function(s,a){function fulfilled(e){try{step(i.next(e))}catch(e){a(e)}}function rejected(e){try{step(i.throw(e))}catch(e){a(e)}}function step(e){e.done?s(e.value):function adopt(e){return e instanceof n?e:new n((function(r){r(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.updateDefaultAccountState=r.initializeDefaultAccountState=void 0;const s=n(228598),a=n(716083),k=n(359157),w=n(359928);r.initializeDefaultAccountState=function initializeDefaultAccountState(e,r,n,a,I,we=k.TOKEN_2022_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const i=(new s.Transaction).add((0,w.createInitializeDefaultAccountStateInstruction)(n,a,we));return yield(0,s.sendAndConfirmTransaction)(e,i,[r],I)}))},r.updateDefaultAccountState=function updateDefaultAccountState(e,r,n,I,we,Ae=[],Be,Ce=k.TOKEN_2022_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const[i,k]=(0,a.getSigners)(we,Ae),ze=(new s.Transaction).add((0,w.createUpdateDefaultAccountStateInstruction)(n,I,i,k,Ce));return yield(0,s.sendAndConfirmTransaction)(e,ze,[r,...k],Be)}))}},400101:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__exportStar||function(e,r){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||i(r,e,n)};Object.defineProperty(r,"__esModule",{value:!0}),s(n(930166),r),s(n(359928),r),s(n(610104),r)},359928:(e,r,n)=>{"use strict";var i=n(901048).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.createUpdateDefaultAccountStateInstruction=r.createInitializeDefaultAccountStateInstruction=r.defaultAccountStateInstructionData=r.DefaultAccountStateInstruction=void 0;const s=n(878918),a=n(228598),k=n(359157),w=n(718385),I=n(508003),we=n(829105);var Ae;!function(e){e[e.Initialize=0]="Initialize",e[e.Update=1]="Update"}(Ae||(r.DefaultAccountStateInstruction=Ae={})),r.defaultAccountStateInstructionData=(0,s.struct)([(0,s.u8)("instruction"),(0,s.u8)("defaultAccountStateInstruction"),(0,s.u8)("accountState")]),r.createInitializeDefaultAccountStateInstruction=function createInitializeDefaultAccountStateInstruction(e,n,s=k.TOKEN_2022_PROGRAM_ID){if(!(0,k.programSupportsExtensions)(s))throw new w.TokenUnsupportedInstructionError;const I=[{pubkey:e,isSigner:!1,isWritable:!0}],Be=i.alloc(r.defaultAccountStateInstructionData.span);return r.defaultAccountStateInstructionData.encode({instruction:we.TokenInstruction.DefaultAccountStateExtension,defaultAccountStateInstruction:Ae.Initialize,accountState:n},Be),new a.TransactionInstruction({keys:I,programId:s,data:Be})},r.createUpdateDefaultAccountStateInstruction=function createUpdateDefaultAccountStateInstruction(e,n,s,Be=[],Ce=k.TOKEN_2022_PROGRAM_ID){if(!(0,k.programSupportsExtensions)(Ce))throw new w.TokenUnsupportedInstructionError;const ze=(0,I.addSigners)([{pubkey:e,isSigner:!1,isWritable:!0}],s,Be),qe=i.alloc(r.defaultAccountStateInstructionData.span);return r.defaultAccountStateInstructionData.encode({instruction:we.TokenInstruction.DefaultAccountStateExtension,defaultAccountStateInstruction:Ae.Update,accountState:n},qe),new a.TransactionInstruction({keys:ze,programId:Ce,data:qe})}},610104:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getDefaultAccountState=r.DEFAULT_ACCOUNT_STATE_SIZE=r.DefaultAccountStateLayout=void 0;const i=n(878918),s=n(738522);r.DefaultAccountStateLayout=(0,i.struct)([(0,i.u8)("state")]),r.DEFAULT_ACCOUNT_STATE_SIZE=r.DefaultAccountStateLayout.span,r.getDefaultAccountState=function getDefaultAccountState(e){const n=(0,s.getExtensionData)(s.ExtensionType.DefaultAccountState,e.tlvData);return null!==n?r.DefaultAccountStateLayout.decode(n):null}},738522:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getNewAccountLenForExtensionLen=r.getAccountLenForMint=r.getExtensionTypes=r.getExtensionData=r.getAccountLen=r.getMintLen=r.getAccountTypeOfMintType=r.isAccountExtension=r.isMintExtension=r.getTypeLen=r.LENGTH_SIZE=r.TYPE_SIZE=r.ExtensionType=void 0;const i=n(393457),s=n(754008),a=n(799282),k=n(490536),w=n(296711),I=n(400101),we=n(906036),Ae=n(884413),Be=n(721965),Ce=n(757091),ze=n(408582),qe=n(624275),$e=n(737462),Ye=n(29501),Je=n(880864),et=n(359157);var rt;function addTypeAndLengthToLen(e){return e+r.TYPE_SIZE+r.LENGTH_SIZE}function getTypeLen(e){switch(e){case rt.Uninitialized:return 0;case rt.TransferFeeConfig:return Ye.TRANSFER_FEE_CONFIG_SIZE;case rt.TransferFeeAmount:return Ye.TRANSFER_FEE_AMOUNT_SIZE;case rt.MintCloseAuthority:return ze.MINT_CLOSE_AUTHORITY_SIZE;case rt.ConfidentialTransferMint:return 97;case rt.ConfidentialTransferAccount:return 286;case rt.CpiGuard:return w.CPI_GUARD_SIZE;case rt.DefaultAccountState:return I.DEFAULT_ACCOUNT_STATE_SIZE;case rt.ImmutableOwner:return we.IMMUTABLE_OWNER_SIZE;case rt.MemoTransfer:return Be.MEMO_TRANSFER_SIZE;case rt.MetadataPointer:return Ce.METADATA_POINTER_SIZE;case rt.NonTransferable:return qe.NON_TRANSFERABLE_SIZE;case rt.InterestBearingConfig:return Ae.INTEREST_BEARING_MINT_CONFIG_STATE_SIZE;case rt.PermanentDelegate:return $e.PERMANENT_DELEGATE_SIZE;case rt.NonTransferableAccount:return qe.NON_TRANSFERABLE_ACCOUNT_SIZE;case rt.TransferHook:return Je.TRANSFER_HOOK_SIZE;case rt.TransferHookAccount:return Je.TRANSFER_HOOK_ACCOUNT_SIZE;case rt.TokenMetadata:throw Error(`Cannot get type length for variable extension type: ${e}`);default:throw Error(`Unknown extension type: ${e}`)}}function getAccountTypeOfMintType(e){switch(e){case rt.TransferFeeConfig:return rt.TransferFeeAmount;case rt.ConfidentialTransferMint:return rt.ConfidentialTransferAccount;case rt.NonTransferable:return rt.NonTransferableAccount;case rt.TransferHook:return rt.TransferHookAccount;case rt.TransferFeeAmount:case rt.ConfidentialTransferAccount:case rt.CpiGuard:case rt.DefaultAccountState:case rt.ImmutableOwner:case rt.MemoTransfer:case rt.MintCloseAuthority:case rt.MetadataPointer:case rt.TokenMetadata:case rt.Uninitialized:case rt.InterestBearingConfig:case rt.PermanentDelegate:case rt.NonTransferableAccount:case rt.TransferHookAccount:return rt.Uninitialized}}function getLen(e,n,s={}){if(0===e.length&&0===Object.keys(s).length)return n;{const n=i.ACCOUNT_SIZE+k.ACCOUNT_TYPE_SIZE+e.filter(((r,n)=>n===e.indexOf(r))).map((e=>addTypeAndLengthToLen(getTypeLen(e)))).reduce(((e,r)=>e+r),0)+Object.entries(s).map((([e,r])=>{if(!function isVariableLengthExtension(e){return e===rt.TokenMetadata}(Number(e)))throw Error(`Extension ${e} is not variable length`);return addTypeAndLengthToLen(r)})).reduce(((e,r)=>e+r),0);return n===a.MULTISIG_SIZE?n+r.TYPE_SIZE:n}}function getAccountLen(e){return getLen(e,i.ACCOUNT_SIZE)}function getExtensionData(e,n){let i=0;for(;addTypeAndLengthToLen(i)<=n.length;){const s=n.readUInt16LE(i),a=n.readUInt16LE(i+r.TYPE_SIZE),k=addTypeAndLengthToLen(i);if(s==e)return n.slice(k,k+a);i=k+a}return null}function getExtensionTypes(e){const n=[];let i=0;for(;i<e.length;){const s=e.readUInt16LE(i);n.push(s);i+=addTypeAndLengthToLen(e.readUInt16LE(i+r.TYPE_SIZE))}return n}!function(e){e[e.Uninitialized=0]="Uninitialized",e[e.TransferFeeConfig=1]="TransferFeeConfig",e[e.TransferFeeAmount=2]="TransferFeeAmount",e[e.MintCloseAuthority=3]="MintCloseAuthority",e[e.ConfidentialTransferMint=4]="ConfidentialTransferMint",e[e.ConfidentialTransferAccount=5]="ConfidentialTransferAccount",e[e.DefaultAccountState=6]="DefaultAccountState",e[e.ImmutableOwner=7]="ImmutableOwner",e[e.MemoTransfer=8]="MemoTransfer",e[e.NonTransferable=9]="NonTransferable",e[e.InterestBearingConfig=10]="InterestBearingConfig",e[e.CpiGuard=11]="CpiGuard",e[e.PermanentDelegate=12]="PermanentDelegate",e[e.NonTransferableAccount=13]="NonTransferableAccount",e[e.TransferHook=14]="TransferHook",e[e.TransferHookAccount=15]="TransferHookAccount",e[e.MetadataPointer=18]="MetadataPointer",e[e.TokenMetadata=19]="TokenMetadata"}(rt||(r.ExtensionType=rt={})),r.TYPE_SIZE=2,r.LENGTH_SIZE=2,r.getTypeLen=getTypeLen,r.isMintExtension=function isMintExtension(e){switch(e){case rt.TransferFeeConfig:case rt.MintCloseAuthority:case rt.ConfidentialTransferMint:case rt.DefaultAccountState:case rt.NonTransferable:case rt.InterestBearingConfig:case rt.PermanentDelegate:case rt.TransferHook:case rt.MetadataPointer:case rt.TokenMetadata:return!0;case rt.Uninitialized:case rt.TransferFeeAmount:case rt.ConfidentialTransferAccount:case rt.ImmutableOwner:case rt.MemoTransfer:case rt.CpiGuard:case rt.NonTransferableAccount:case rt.TransferHookAccount:return!1;default:throw Error(`Unknown extension type: ${e}`)}},r.isAccountExtension=function isAccountExtension(e){switch(e){case rt.TransferFeeAmount:case rt.ConfidentialTransferAccount:case rt.ImmutableOwner:case rt.MemoTransfer:case rt.CpiGuard:case rt.NonTransferableAccount:case rt.TransferHookAccount:return!0;case rt.Uninitialized:case rt.TransferFeeConfig:case rt.MintCloseAuthority:case rt.ConfidentialTransferMint:case rt.DefaultAccountState:case rt.NonTransferable:case rt.InterestBearingConfig:case rt.PermanentDelegate:case rt.TransferHook:case rt.MetadataPointer:case rt.TokenMetadata:return!1;default:throw Error(`Unknown extension type: ${e}`)}},r.getAccountTypeOfMintType=getAccountTypeOfMintType,r.getMintLen=function getMintLen(e,r={}){return getLen(e,s.MINT_SIZE,r)},r.getAccountLen=getAccountLen,r.getExtensionData=getExtensionData,r.getExtensionTypes=getExtensionTypes,r.getAccountLenForMint=function getAccountLenForMint(e){return getAccountLen(getExtensionTypes(e.tlvData).map(getAccountTypeOfMintType))},r.getNewAccountLenForExtensionLen=function getNewAccountLenForExtensionLen(e,r,n,i,a=et.TOKEN_2022_PROGRAM_ID){const k=getExtensionData(n,(0,s.unpackMint)(r,e,a).tlvData),w=k?addTypeAndLengthToLen(k.length):0,I=addTypeAndLengthToLen(i);return e.data.length+I-w}},906036:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getImmutableOwner=r.IMMUTABLE_OWNER_SIZE=r.ImmutableOwnerLayout=void 0;const i=n(878918),s=n(738522);r.ImmutableOwnerLayout=(0,i.struct)([]),r.IMMUTABLE_OWNER_SIZE=r.ImmutableOwnerLayout.span,r.getImmutableOwner=function getImmutableOwner(e){const n=(0,s.getExtensionData)(s.ExtensionType.ImmutableOwner,e.tlvData);return null!==n?r.ImmutableOwnerLayout.decode(n):null}},68583:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__exportStar||function(e,r){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||i(r,e,n)};Object.defineProperty(r,"__esModule",{value:!0}),s(n(490536),r),s(n(296711),r),s(n(400101),r),s(n(738522),r),s(n(906036),r),s(n(799772),r),s(n(721965),r),s(n(715098),r),s(n(677916),r),s(n(408582),r),s(n(624275),r),s(n(29501),r),s(n(737462),r),s(n(880864),r)},547943:function(e,r,n){"use strict";var i=this&&this.__awaiter||function(e,r,n,i){return new(n||(n=Promise))((function(s,a){function fulfilled(e){try{step(i.next(e))}catch(e){a(e)}}function rejected(e){try{step(i.throw(e))}catch(e){a(e)}}function step(e){e.done?s(e.value):function adopt(e){return e instanceof n?e:new n((function(r){r(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.updateRateInterestBearingMint=r.createInterestBearingMint=void 0;const s=n(228598),a=n(716083),k=n(359157),w=n(706132),I=n(738522),we=n(560999);r.createInterestBearingMint=function createInterestBearingMint(e,r,n,a,Ae,Be,Ce,ze=s.Keypair.generate(),qe,$e=k.TOKEN_2022_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const i=(0,I.getMintLen)([I.ExtensionType.InterestBearingConfig]),k=yield e.getMinimumBalanceForRentExemption(i),Ye=(new s.Transaction).add(s.SystemProgram.createAccount({fromPubkey:r.publicKey,newAccountPubkey:ze.publicKey,space:i,lamports:k,programId:$e}),(0,we.createInitializeInterestBearingMintInstruction)(ze.publicKey,Ae,Be,$e),(0,w.createInitializeMintInstruction)(ze.publicKey,Ce,n,a,$e));return yield(0,s.sendAndConfirmTransaction)(e,Ye,[r,ze],qe),ze.publicKey}))},r.updateRateInterestBearingMint=function updateRateInterestBearingMint(e,r,n,w,I,Ae=[],Be,Ce=k.TOKEN_2022_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const[i,k]=(0,a.getSigners)(w,Ae),ze=(new s.Transaction).add((0,we.createUpdateRateInterestBearingMintInstruction)(n,i,I,k,Ce));return yield(0,s.sendAndConfirmTransaction)(e,ze,[r,w,...k],Be)}))}},799772:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__exportStar||function(e,r){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||i(r,e,n)};Object.defineProperty(r,"__esModule",{value:!0}),s(n(547943),r),s(n(560999),r),s(n(884413),r)},560999:(e,r,n)=>{"use strict";var i=n(901048).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.createUpdateRateInterestBearingMintInstruction=r.createInitializeInterestBearingMintInstruction=r.interestBearingMintUpdateRateInstructionData=r.interestBearingMintInitializeInstructionData=r.InterestBearingMintInstruction=void 0;const s=n(878918),a=n(432510),k=n(228598),w=n(359157),I=n(508003),we=n(829105);var Ae;!function(e){e[e.Initialize=0]="Initialize",e[e.UpdateRate=1]="UpdateRate"}(Ae||(r.InterestBearingMintInstruction=Ae={})),r.interestBearingMintInitializeInstructionData=(0,s.struct)([(0,s.u8)("instruction"),(0,s.u8)("interestBearingMintInstruction"),(0,a.publicKey)("rateAuthority"),(0,s.s16)("rate")]),r.interestBearingMintUpdateRateInstructionData=(0,s.struct)([(0,s.u8)("instruction"),(0,s.u8)("interestBearingMintInstruction"),(0,s.s16)("rate")]),r.createInitializeInterestBearingMintInstruction=function createInitializeInterestBearingMintInstruction(e,n,s,a=w.TOKEN_2022_PROGRAM_ID){const I=[{pubkey:e,isSigner:!1,isWritable:!0}],Be=i.alloc(r.interestBearingMintInitializeInstructionData.span);return r.interestBearingMintInitializeInstructionData.encode({instruction:we.TokenInstruction.InterestBearingMintExtension,interestBearingMintInstruction:Ae.Initialize,rateAuthority:n,rate:s},Be),new k.TransactionInstruction({keys:I,programId:a,data:Be})},r.createUpdateRateInterestBearingMintInstruction=function createUpdateRateInterestBearingMintInstruction(e,n,s,a=[],Be=w.TOKEN_2022_PROGRAM_ID){const Ce=(0,I.addSigners)([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!a.length,isWritable:!1}],n,a),ze=i.alloc(r.interestBearingMintUpdateRateInstructionData.span);return r.interestBearingMintUpdateRateInstructionData.encode({instruction:we.TokenInstruction.InterestBearingMintExtension,interestBearingMintInstruction:Ae.UpdateRate,rate:s},ze),new k.TransactionInstruction({keys:Ce,programId:Be,data:ze})}},884413:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getInterestBearingMintConfigState=r.INTEREST_BEARING_MINT_CONFIG_STATE_SIZE=r.InterestBearingMintConfigStateLayout=void 0;const i=n(878918),s=n(432510),a=n(738522);r.InterestBearingMintConfigStateLayout=(0,i.struct)([(0,s.publicKey)("rateAuthority"),(0,i.ns64)("initializationTimestamp"),(0,i.s16)("preUpdateAverageRate"),(0,i.ns64)("lastUpdateTimestamp"),(0,i.s16)("currentRate")]),r.INTEREST_BEARING_MINT_CONFIG_STATE_SIZE=r.InterestBearingMintConfigStateLayout.span,r.getInterestBearingMintConfigState=function getInterestBearingMintConfigState(e){const n=(0,a.getExtensionData)(a.ExtensionType.InterestBearingConfig,e.tlvData);return null!==n?r.InterestBearingMintConfigStateLayout.decode(n):null}},405406:function(e,r,n){"use strict";var i=this&&this.__awaiter||function(e,r,n,i){return new(n||(n=Promise))((function(s,a){function fulfilled(e){try{step(i.next(e))}catch(e){a(e)}}function rejected(e){try{step(i.throw(e))}catch(e){a(e)}}function step(e){e.done?s(e.value):function adopt(e){return e instanceof n?e:new n((function(r){r(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.disableRequiredMemoTransfers=r.enableRequiredMemoTransfers=void 0;const s=n(228598),a=n(716083),k=n(359157),w=n(123088);r.enableRequiredMemoTransfers=function enableRequiredMemoTransfers(e,r,n,I,we=[],Ae,Be=k.TOKEN_2022_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const[i,k]=(0,a.getSigners)(I,we),Ce=(new s.Transaction).add((0,w.createEnableRequiredMemoTransfersInstruction)(n,i,k,Be));return yield(0,s.sendAndConfirmTransaction)(e,Ce,[r,...k],Ae)}))},r.disableRequiredMemoTransfers=function disableRequiredMemoTransfers(e,r,n,I,we=[],Ae,Be=k.TOKEN_2022_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const[i,k]=(0,a.getSigners)(I,we),Ce=(new s.Transaction).add((0,w.createDisableRequiredMemoTransfersInstruction)(n,i,k,Be));return yield(0,s.sendAndConfirmTransaction)(e,Ce,[r,...k],Ae)}))}},721965:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__exportStar||function(e,r){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||i(r,e,n)};Object.defineProperty(r,"__esModule",{value:!0}),s(n(405406),r),s(n(123088),r),s(n(45904),r)},123088:(e,r,n)=>{"use strict";var i=n(901048).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.createDisableRequiredMemoTransfersInstruction=r.createEnableRequiredMemoTransfersInstruction=r.memoTransferInstructionData=r.MemoTransferInstruction=void 0;const s=n(878918),a=n(228598),k=n(359157),w=n(718385),I=n(508003),we=n(829105);var Ae;function createMemoTransferInstruction(e,n,s,Ae,Be){if(!(0,k.programSupportsExtensions)(Be))throw new w.TokenUnsupportedInstructionError;const Ce=(0,I.addSigners)([{pubkey:n,isSigner:!1,isWritable:!0}],s,Ae),ze=i.alloc(r.memoTransferInstructionData.span);return r.memoTransferInstructionData.encode({instruction:we.TokenInstruction.MemoTransferExtension,memoTransferInstruction:e},ze),new a.TransactionInstruction({keys:Ce,programId:Be,data:ze})}!function(e){e[e.Enable=0]="Enable",e[e.Disable=1]="Disable"}(Ae||(r.MemoTransferInstruction=Ae={})),r.memoTransferInstructionData=(0,s.struct)([(0,s.u8)("instruction"),(0,s.u8)("memoTransferInstruction")]),r.createEnableRequiredMemoTransfersInstruction=function createEnableRequiredMemoTransfersInstruction(e,r,n=[],i=k.TOKEN_2022_PROGRAM_ID){return createMemoTransferInstruction(Ae.Enable,e,r,n,i)},r.createDisableRequiredMemoTransfersInstruction=function createDisableRequiredMemoTransfersInstruction(e,r,n=[],i=k.TOKEN_2022_PROGRAM_ID){return createMemoTransferInstruction(Ae.Disable,e,r,n,i)}},45904:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getMemoTransfer=r.MEMO_TRANSFER_SIZE=r.MemoTransferLayout=void 0;const i=n(878918),s=n(432510),a=n(738522);r.MemoTransferLayout=(0,i.struct)([(0,s.bool)("requireIncomingTransferMemos")]),r.MEMO_TRANSFER_SIZE=r.MemoTransferLayout.span,r.getMemoTransfer=function getMemoTransfer(e){const n=(0,a.getExtensionData)(a.ExtensionType.MemoTransfer,e.tlvData);return null!==n?r.MemoTransferLayout.decode(n):null}},715098:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__exportStar||function(e,r){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||i(r,e,n)};Object.defineProperty(r,"__esModule",{value:!0}),s(n(749393),r),s(n(757091),r)},749393:(e,r,n)=>{"use strict";var i=n(901048).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.createUpdateMetadataPointerInstruction=r.updateMetadataPointerData=r.createInitializeMetadataPointerInstruction=r.initializeMetadataPointerData=r.MetadataPointerInstruction=void 0;const s=n(878918),a=n(432510),k=n(228598),w=n(359157),I=n(718385),we=n(829105),Ae=n(508003);var Be;!function(e){e[e.Initialize=0]="Initialize",e[e.Update=1]="Update"}(Be||(r.MetadataPointerInstruction=Be={})),r.initializeMetadataPointerData=(0,s.struct)([(0,s.u8)("instruction"),(0,s.u8)("metadataPointerInstruction"),(0,a.publicKey)("authority"),(0,a.publicKey)("metadataAddress")]),r.createInitializeMetadataPointerInstruction=function createInitializeMetadataPointerInstruction(e,n,s,a){if(!(0,w.programSupportsExtensions)(a))throw new I.TokenUnsupportedInstructionError;const Ae=[{pubkey:e,isSigner:!1,isWritable:!0}],Ce=i.alloc(r.initializeMetadataPointerData.span);return r.initializeMetadataPointerData.encode({instruction:we.TokenInstruction.MetadataPointerExtension,metadataPointerInstruction:Be.Initialize,authority:null!=n?n:k.PublicKey.default,metadataAddress:null!=s?s:k.PublicKey.default},Ce),new k.TransactionInstruction({keys:Ae,programId:a,data:Ce})},r.updateMetadataPointerData=(0,s.struct)([(0,s.u8)("instruction"),(0,s.u8)("metadataPointerInstruction"),(0,a.publicKey)("metadataAddress")]),r.createUpdateMetadataPointerInstruction=function createUpdateMetadataPointerInstruction(e,n,s,a=[],Ce=w.TOKEN_2022_PROGRAM_ID){if(!(0,w.programSupportsExtensions)(Ce))throw new I.TokenUnsupportedInstructionError;const ze=(0,Ae.addSigners)([{pubkey:e,isSigner:!1,isWritable:!0}],n,a),qe=i.alloc(r.updateMetadataPointerData.span);return r.updateMetadataPointerData.encode({instruction:we.TokenInstruction.MetadataPointerExtension,metadataPointerInstruction:Be.Update,metadataAddress:null!=s?s:k.PublicKey.default},qe),new k.TransactionInstruction({keys:ze,programId:Ce,data:qe})}},757091:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getMetadataPointerState=r.METADATA_POINTER_SIZE=r.MetadataPointerLayout=void 0;const i=n(878918),s=n(432510),a=n(228598),k=n(738522);r.MetadataPointerLayout=(0,i.struct)([(0,s.publicKey)("authority"),(0,s.publicKey)("metadataAddress")]),r.METADATA_POINTER_SIZE=r.MetadataPointerLayout.span,r.getMetadataPointerState=function getMetadataPointerState(e){const n=(0,k.getExtensionData)(k.ExtensionType.MetadataPointer,e.tlvData);if(null!==n){const{authority:e,metadataAddress:i}=r.MetadataPointerLayout.decode(n);return{authority:e.equals(a.PublicKey.default)?null:e,metadataAddress:i.equals(a.PublicKey.default)?null:i}}return null}},408582:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getMintCloseAuthority=r.MINT_CLOSE_AUTHORITY_SIZE=r.MintCloseAuthorityLayout=void 0;const i=n(878918),s=n(432510),a=n(738522);r.MintCloseAuthorityLayout=(0,i.struct)([(0,s.publicKey)("closeAuthority")]),r.MINT_CLOSE_AUTHORITY_SIZE=r.MintCloseAuthorityLayout.span,r.getMintCloseAuthority=function getMintCloseAuthority(e){const n=(0,a.getExtensionData)(a.ExtensionType.MintCloseAuthority,e.tlvData);return null!==n?r.MintCloseAuthorityLayout.decode(n):null}},624275:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getNonTransferableAccount=r.getNonTransferable=r.NON_TRANSFERABLE_ACCOUNT_SIZE=r.NON_TRANSFERABLE_SIZE=r.NonTransferableLayout=void 0;const i=n(878918),s=n(738522);r.NonTransferableLayout=(0,i.struct)([]),r.NON_TRANSFERABLE_SIZE=r.NonTransferableLayout.span,r.NON_TRANSFERABLE_ACCOUNT_SIZE=r.NonTransferableLayout.span,r.getNonTransferable=function getNonTransferable(e){const n=(0,s.getExtensionData)(s.ExtensionType.NonTransferable,e.tlvData);return null!==n?r.NonTransferableLayout.decode(n):null},r.getNonTransferableAccount=function getNonTransferableAccount(e){const n=(0,s.getExtensionData)(s.ExtensionType.NonTransferableAccount,e.tlvData);return null!==n?r.NonTransferableLayout.decode(n):null}},737462:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getPermanentDelegate=r.PERMANENT_DELEGATE_SIZE=r.PermanentDelegateLayout=void 0;const i=n(878918),s=n(432510),a=n(738522);r.PermanentDelegateLayout=(0,i.struct)([(0,s.publicKey)("delegate")]),r.PERMANENT_DELEGATE_SIZE=r.PermanentDelegateLayout.span,r.getPermanentDelegate=function getPermanentDelegate(e){const n=(0,a.getExtensionData)(a.ExtensionType.PermanentDelegate,e.tlvData);return null!==n?r.PermanentDelegateLayout.decode(n):null}},84967:function(e,r,n){"use strict";var i=this&&this.__awaiter||function(e,r,n,i){return new(n||(n=Promise))((function(s,a){function fulfilled(e){try{step(i.next(e))}catch(e){a(e)}}function rejected(e){try{step(i.throw(e))}catch(e){a(e)}}function step(e){e.done?s(e.value):function adopt(e){return e instanceof n?e:new n((function(r){r(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.tokenMetadataUpdateAuthority=r.tokenMetadataRemoveKey=r.tokenMetadataUpdateFieldWithRentTransfer=r.tokenMetadataUpdateField=r.tokenMetadataInitializeWithRentTransfer=r.tokenMetadataInitialize=void 0;const s=n(228598),a=n(486104),k=n(359157),w=n(716083),I=n(738522),we=n(936829),Ae=n(718385),Be=n(412378);r.tokenMetadataInitialize=function tokenMetadataInitialize(e,r,n,I,we,Ae,Be,Ce,ze=[],qe,$e=k.TOKEN_2022_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const[i,k]=(0,w.getSigners)(we,ze),Ye=(new s.Transaction).add((0,a.createInitializeInstruction)({programId:$e,metadata:n,updateAuthority:I,mint:n,mintAuthority:i,name:Ae,symbol:Be,uri:Ce}));return yield(0,s.sendAndConfirmTransaction)(e,Ye,[r,...k],qe)}))},r.tokenMetadataInitializeWithRentTransfer=function tokenMetadataInitializeWithRentTransfer(e,r,n,we,Be,Ce,ze,qe,$e=[],Ye,Je=k.TOKEN_2022_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const[et,rt]=(0,w.getSigners)(Be,$e),it=new s.Transaction,ot=yield function getAdditionalRentForNewMetadata(e,r,n,s=k.TOKEN_2022_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const i=yield e.getAccountInfo(r);if(!i)throw new Ae.TokenAccountNotFoundError;const k=(0,a.pack)(n).length,w=(0,I.getNewAccountLenForExtensionLen)(i,r,I.ExtensionType.TokenMetadata,k,s);return w<=i.data.length?0:(yield e.getMinimumBalanceForRentExemption(w))-i.lamports}))}(e,n,{updateAuthority:we,mint:n,name:Ce,symbol:ze,uri:qe,additionalMetadata:[]},Je);return ot>0&&it.add(s.SystemProgram.transfer({fromPubkey:r.publicKey,toPubkey:n,lamports:ot})),it.add((0,a.createInitializeInstruction)({programId:Je,metadata:n,updateAuthority:we,mint:n,mintAuthority:et,name:Ce,symbol:ze,uri:qe})),yield(0,s.sendAndConfirmTransaction)(e,it,[r,...rt],Ye)}))},r.tokenMetadataUpdateField=function tokenMetadataUpdateField(e,r,n,I,we,Ae,Be=[],Ce,ze=k.TOKEN_2022_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const[i,k]=(0,w.getSigners)(I,Be),qe=(new s.Transaction).add((0,a.createUpdateFieldInstruction)({programId:ze,metadata:n,updateAuthority:i,field:we,value:Ae}));return yield(0,s.sendAndConfirmTransaction)(e,qe,[r,...k],Ce)}))},r.tokenMetadataUpdateFieldWithRentTransfer=function tokenMetadataUpdateFieldWithRentTransfer(e,r,n,Ce,ze,qe,$e=[],Ye,Je=k.TOKEN_2022_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const[et,rt]=(0,w.getSigners)(Ce,$e),it=new s.Transaction,ot=yield function getAdditionalRentForUpdatedMetadata(e,r,n,s,w=k.TOKEN_2022_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const i=yield e.getAccountInfo(r);if(!i)throw new Ae.TokenAccountNotFoundError;const k=(0,Be.unpackMint)(r,i,w),Ce=(0,I.getExtensionData)(I.ExtensionType.TokenMetadata,k.tlvData);if(null===Ce)throw new Error("TokenMetadata extension not initialized");const ze=(0,we.updateTokenMetadata)((0,a.unpack)(Ce),n,s),qe=(0,a.pack)(ze).length,$e=(0,I.getNewAccountLenForExtensionLen)(i,r,I.ExtensionType.TokenMetadata,qe,w);return $e<=i.data.length?0:(yield e.getMinimumBalanceForRentExemption($e))-i.lamports}))}(e,n,ze,qe,Je);return ot>0&&it.add(s.SystemProgram.transfer({fromPubkey:r.publicKey,toPubkey:n,lamports:ot})),it.add((0,a.createUpdateFieldInstruction)({programId:Je,metadata:n,updateAuthority:et,field:ze,value:qe})),yield(0,s.sendAndConfirmTransaction)(e,it,[r,...rt],Ye)}))},r.tokenMetadataRemoveKey=function tokenMetadataRemoveKey(e,r,n,I,we,Ae,Be=[],Ce,ze=k.TOKEN_2022_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const[i,k]=(0,w.getSigners)(I,Be),qe=(new s.Transaction).add((0,a.createRemoveKeyInstruction)({programId:ze,metadata:n,updateAuthority:i,key:we,idempotent:Ae}));return yield(0,s.sendAndConfirmTransaction)(e,qe,[r,...k],Ce)}))},r.tokenMetadataUpdateAuthority=function tokenMetadataUpdateAuthority(e,r,n,I,we,Ae=[],Be,Ce=k.TOKEN_2022_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const[i,k]=(0,w.getSigners)(I,Ae),ze=(new s.Transaction).add((0,a.createUpdateAuthorityInstruction)({programId:Ce,metadata:n,oldAuthority:i,newAuthority:we}));return yield(0,s.sendAndConfirmTransaction)(e,ze,[r,...k],Be)}))}},677916:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__exportStar||function(e,r){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||i(r,e,n)};Object.defineProperty(r,"__esModule",{value:!0}),s(n(84967),r),s(n(936829),r)},936829:function(e,r,n){"use strict";var i=this&&this.__awaiter||function(e,r,n,i){return new(n||(n=Promise))((function(s,a){function fulfilled(e){try{step(i.next(e))}catch(e){a(e)}}function rejected(e){try{step(i.throw(e))}catch(e){a(e)}}function step(e){e.done?s(e.value):function adopt(e){return e instanceof n?e:new n((function(r){r(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.getTokenMetadata=r.updateTokenMetadata=void 0;const s=n(486104),a=n(359157),k=n(738522),w=n(754008);r.updateTokenMetadata=function updateTokenMetadata(e,r,n){const i=(e=>e===s.Field.Name||"Name"===e||"name"===e?"name":e===s.Field.Symbol||"Symbol"===e||"symbol"===e?"symbol":e===s.Field.Uri||"Uri"===e||"uri"===e?"uri":e)(r);if("mint"===i||"updateAuthority"===i)throw new Error(`Cannot update ${i} via this instruction`);if(["name","symbol","uri"].includes(i))return Object.assign(Object.assign({},e),{[i]:n});const a=[...e.additionalMetadata],k=e.additionalMetadata.findIndex((e=>e[0]===i));return-1===k?a.push([i,n]):a[k]=[i,n],Object.assign(Object.assign({},e),{additionalMetadata:a})},r.getTokenMetadata=function getTokenMetadata(e,r,n,I=a.TOKEN_2022_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const i=yield(0,w.getMint)(e,r,n,I),a=(0,k.getExtensionData)(k.ExtensionType.TokenMetadata,i.tlvData);return null===a?null:(0,s.unpack)(a)}))}},714126:function(e,r,n){"use strict";var i=this&&this.__awaiter||function(e,r,n,i){return new(n||(n=Promise))((function(s,a){function fulfilled(e){try{step(i.next(e))}catch(e){a(e)}}function rejected(e){try{step(i.throw(e))}catch(e){a(e)}}function step(e){e.done?s(e.value):function adopt(e){return e instanceof n?e:new n((function(r){r(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.harvestWithheldTokensToMint=r.withdrawWithheldTokensFromAccounts=r.withdrawWithheldTokensFromMint=r.transferCheckedWithFee=void 0;const s=n(228598),a=n(716083),k=n(359157),w=n(879328);r.transferCheckedWithFee=function transferCheckedWithFee(e,r,n,I,we,Ae,Be,Ce,ze,qe=[],$e,Ye=k.TOKEN_2022_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const[i,k]=(0,a.getSigners)(Ae,qe),Je=(new s.Transaction).add((0,w.createTransferCheckedWithFeeInstruction)(n,I,we,i,Be,Ce,ze,qe,Ye));return yield(0,s.sendAndConfirmTransaction)(e,Je,[r,...k],$e)}))},r.withdrawWithheldTokensFromMint=function withdrawWithheldTokensFromMint(e,r,n,I,we,Ae=[],Be,Ce=k.TOKEN_2022_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const[i,k]=(0,a.getSigners)(we,Ae),ze=(new s.Transaction).add((0,w.createWithdrawWithheldTokensFromMintInstruction)(n,I,i,k,Ce));return yield(0,s.sendAndConfirmTransaction)(e,ze,[r,...k],Be)}))},r.withdrawWithheldTokensFromAccounts=function withdrawWithheldTokensFromAccounts(e,r,n,I,we,Ae,Be,Ce,ze=k.TOKEN_2022_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const[i,k]=(0,a.getSigners)(we,Ae),qe=(new s.Transaction).add((0,w.createWithdrawWithheldTokensFromAccountsInstruction)(n,I,i,k,Be,ze));return yield(0,s.sendAndConfirmTransaction)(e,qe,[r,...k],Ce)}))},r.harvestWithheldTokensToMint=function harvestWithheldTokensToMint(e,r,n,a,I,we=k.TOKEN_2022_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const i=(new s.Transaction).add((0,w.createHarvestWithheldTokensToMintInstruction)(n,a,we));return yield(0,s.sendAndConfirmTransaction)(e,i,[r],I)}))}},29501:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__exportStar||function(e,r){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||i(r,e,n)};Object.defineProperty(r,"__esModule",{value:!0}),s(n(714126),r),s(n(879328),r),s(n(474400),r)},879328:(e,r,n)=>{"use strict";var i=n(901048).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.decodeHarvestWithheldTokensToMintInstructionUnchecked=r.decodeHarvestWithheldTokensToMintInstruction=r.createHarvestWithheldTokensToMintInstruction=r.harvestWithheldTokensToMintInstructionData=r.decodeWithdrawWithheldTokensFromAccountsInstructionUnchecked=r.decodeWithdrawWithheldTokensFromAccountsInstruction=r.createWithdrawWithheldTokensFromAccountsInstruction=r.withdrawWithheldTokensFromAccountsInstructionData=r.decodeWithdrawWithheldTokensFromMintInstructionUnchecked=r.decodeWithdrawWithheldTokensFromMintInstruction=r.createWithdrawWithheldTokensFromMintInstruction=r.withdrawWithheldTokensFromMintInstructionData=r.decodeTransferCheckedWithFeeInstructionUnchecked=r.decodeTransferCheckedWithFeeInstruction=r.createTransferCheckedWithFeeInstruction=r.transferCheckedWithFeeInstructionData=r.decodeInitializeTransferFeeConfigInstructionUnchecked=r.decodeInitializeTransferFeeConfigInstruction=r.createInitializeTransferFeeConfigInstruction=r.initializeTransferFeeConfigInstructionData=r.TransferFeeInstruction=void 0;const s=n(878918),a=n(432510),k=n(228598),w=n(359157),I=n(718385),we=n(508003),Ae=n(829105);var Be;function decodeInitializeTransferFeeConfigInstructionUnchecked({programId:e,keys:[n],data:i}){const{instruction:s,transferFeeInstruction:a,transferFeeConfigAuthorityOption:k,transferFeeConfigAuthority:w,withdrawWithheldAuthorityOption:I,withdrawWithheldAuthority:we,transferFeeBasisPoints:Ae,maximumFee:Be}=r.initializeTransferFeeConfigInstructionData.decode(i);return{programId:e,keys:{mint:n},data:{instruction:s,transferFeeInstruction:a,transferFeeConfigAuthority:k?w:null,withdrawWithheldAuthority:I?we:null,transferFeeBasisPoints:Ae,maximumFee:Be}}}function decodeTransferCheckedWithFeeInstructionUnchecked({programId:e,keys:[n,i,s,a,...k],data:w}){const{instruction:I,transferFeeInstruction:we,amount:Ae,decimals:Be,fee:Ce}=r.transferCheckedWithFeeInstructionData.decode(w);return{programId:e,keys:{source:n,mint:i,destination:s,authority:a,signers:k},data:{instruction:I,transferFeeInstruction:we,amount:Ae,decimals:Be,fee:Ce}}}function decodeWithdrawWithheldTokensFromMintInstructionUnchecked({programId:e,keys:[n,i,s,...a],data:k}){const{instruction:w,transferFeeInstruction:I}=r.withdrawWithheldTokensFromMintInstructionData.decode(k);return{programId:e,keys:{mint:n,destination:i,authority:s,signers:a},data:{instruction:w,transferFeeInstruction:I}}}function decodeWithdrawWithheldTokensFromAccountsInstructionUnchecked({programId:e,keys:n,data:i}){const{instruction:s,transferFeeInstruction:a,numTokenAccounts:k}=r.withdrawWithheldTokensFromAccountsInstructionData.decode(i),[w,I,we,Ae,Be]=[n[0],n[1],n[2],n.slice(3,3+k),n.slice(-1*k)];return{programId:e,keys:{mint:w,destination:I,authority:we,signers:Ae,sources:Be},data:{instruction:s,transferFeeInstruction:a,numTokenAccounts:k}}}function decodeHarvestWithheldTokensToMintInstructionUnchecked({programId:e,keys:[n,...i],data:s}){const{instruction:a,transferFeeInstruction:k}=r.harvestWithheldTokensToMintInstructionData.decode(s);return{programId:e,keys:{mint:n,sources:i},data:{instruction:a,transferFeeInstruction:k}}}!function(e){e[e.InitializeTransferFeeConfig=0]="InitializeTransferFeeConfig",e[e.TransferCheckedWithFee=1]="TransferCheckedWithFee",e[e.WithdrawWithheldTokensFromMint=2]="WithdrawWithheldTokensFromMint",e[e.WithdrawWithheldTokensFromAccounts=3]="WithdrawWithheldTokensFromAccounts",e[e.HarvestWithheldTokensToMint=4]="HarvestWithheldTokensToMint",e[e.SetTransferFee=5]="SetTransferFee"}(Be||(r.TransferFeeInstruction=Be={})),r.initializeTransferFeeConfigInstructionData=(0,s.struct)([(0,s.u8)("instruction"),(0,s.u8)("transferFeeInstruction"),(0,s.u8)("transferFeeConfigAuthorityOption"),(0,a.publicKey)("transferFeeConfigAuthority"),(0,s.u8)("withdrawWithheldAuthorityOption"),(0,a.publicKey)("withdrawWithheldAuthority"),(0,s.u16)("transferFeeBasisPoints"),(0,a.u64)("maximumFee")]),r.createInitializeTransferFeeConfigInstruction=function createInitializeTransferFeeConfigInstruction(e,n,s,a,we,Ce=w.TOKEN_2022_PROGRAM_ID){if(!(0,w.programSupportsExtensions)(Ce))throw new I.TokenUnsupportedInstructionError;const ze=[{pubkey:e,isSigner:!1,isWritable:!0}],qe=i.alloc(r.initializeTransferFeeConfigInstructionData.span);return r.initializeTransferFeeConfigInstructionData.encode({instruction:Ae.TokenInstruction.TransferFeeExtension,transferFeeInstruction:Be.InitializeTransferFeeConfig,transferFeeConfigAuthorityOption:n?1:0,transferFeeConfigAuthority:n||new k.PublicKey(0),withdrawWithheldAuthorityOption:s?1:0,withdrawWithheldAuthority:s||new k.PublicKey(0),transferFeeBasisPoints:a,maximumFee:we},qe),new k.TransactionInstruction({keys:ze,programId:Ce,data:qe})},r.decodeInitializeTransferFeeConfigInstruction=function decodeInitializeTransferFeeConfigInstruction(e,n){if(!e.programId.equals(n))throw new I.TokenInvalidInstructionProgramError;if(e.data.length!==r.initializeTransferFeeConfigInstructionData.span)throw new I.TokenInvalidInstructionDataError;const{keys:{mint:i},data:s}=decodeInitializeTransferFeeConfigInstructionUnchecked(e);if(s.instruction!==Ae.TokenInstruction.TransferFeeExtension||s.transferFeeInstruction!==Be.InitializeTransferFeeConfig)throw new I.TokenInvalidInstructionTypeError;if(!i)throw new I.TokenInvalidInstructionKeysError;return{programId:n,keys:{mint:i},data:s}},r.decodeInitializeTransferFeeConfigInstructionUnchecked=decodeInitializeTransferFeeConfigInstructionUnchecked,r.transferCheckedWithFeeInstructionData=(0,s.struct)([(0,s.u8)("instruction"),(0,s.u8)("transferFeeInstruction"),(0,a.u64)("amount"),(0,s.u8)("decimals"),(0,a.u64)("fee")]),r.createTransferCheckedWithFeeInstruction=function createTransferCheckedWithFeeInstruction(e,n,s,a,Ce,ze,qe,$e=[],Ye=w.TOKEN_2022_PROGRAM_ID){if(!(0,w.programSupportsExtensions)(Ye))throw new I.TokenUnsupportedInstructionError;const Je=i.alloc(r.transferCheckedWithFeeInstructionData.span);r.transferCheckedWithFeeInstructionData.encode({instruction:Ae.TokenInstruction.TransferFeeExtension,transferFeeInstruction:Be.TransferCheckedWithFee,amount:Ce,decimals:ze,fee:qe},Je);const et=(0,we.addSigners)([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!0}],a,$e);return new k.TransactionInstruction({keys:et,programId:Ye,data:Je})},r.decodeTransferCheckedWithFeeInstruction=function decodeTransferCheckedWithFeeInstruction(e,n){if(!e.programId.equals(n))throw new I.TokenInvalidInstructionProgramError;if(e.data.length!==r.transferCheckedWithFeeInstructionData.span)throw new I.TokenInvalidInstructionDataError;const{keys:{source:i,mint:s,destination:a,authority:k,signers:w},data:we}=decodeTransferCheckedWithFeeInstructionUnchecked(e);if(we.instruction!==Ae.TokenInstruction.TransferFeeExtension||we.transferFeeInstruction!==Be.TransferCheckedWithFee)throw new I.TokenInvalidInstructionTypeError;if(!s)throw new I.TokenInvalidInstructionKeysError;return{programId:n,keys:{source:i,mint:s,destination:a,authority:k,signers:w||null},data:we}},r.decodeTransferCheckedWithFeeInstructionUnchecked=decodeTransferCheckedWithFeeInstructionUnchecked,r.withdrawWithheldTokensFromMintInstructionData=(0,s.struct)([(0,s.u8)("instruction"),(0,s.u8)("transferFeeInstruction")]),r.createWithdrawWithheldTokensFromMintInstruction=function createWithdrawWithheldTokensFromMintInstruction(e,n,s,a=[],Ce=w.TOKEN_2022_PROGRAM_ID){if(!(0,w.programSupportsExtensions)(Ce))throw new I.TokenUnsupportedInstructionError;const ze=i.alloc(r.withdrawWithheldTokensFromMintInstructionData.span);r.withdrawWithheldTokensFromMintInstructionData.encode({instruction:Ae.TokenInstruction.TransferFeeExtension,transferFeeInstruction:Be.WithdrawWithheldTokensFromMint},ze);const qe=(0,we.addSigners)([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0}],s,a);return new k.TransactionInstruction({keys:qe,programId:Ce,data:ze})},r.decodeWithdrawWithheldTokensFromMintInstruction=function decodeWithdrawWithheldTokensFromMintInstruction(e,n){if(!e.programId.equals(n))throw new I.TokenInvalidInstructionProgramError;if(e.data.length!==r.withdrawWithheldTokensFromMintInstructionData.span)throw new I.TokenInvalidInstructionDataError;const{keys:{mint:i,destination:s,authority:a,signers:k},data:w}=decodeWithdrawWithheldTokensFromMintInstructionUnchecked(e);if(w.instruction!==Ae.TokenInstruction.TransferFeeExtension||w.transferFeeInstruction!==Be.WithdrawWithheldTokensFromMint)throw new I.TokenInvalidInstructionTypeError;if(!i)throw new I.TokenInvalidInstructionKeysError;return{programId:n,keys:{mint:i,destination:s,authority:a,signers:k||null},data:w}},r.decodeWithdrawWithheldTokensFromMintInstructionUnchecked=decodeWithdrawWithheldTokensFromMintInstructionUnchecked,r.withdrawWithheldTokensFromAccountsInstructionData=(0,s.struct)([(0,s.u8)("instruction"),(0,s.u8)("transferFeeInstruction"),(0,s.u8)("numTokenAccounts")]),r.createWithdrawWithheldTokensFromAccountsInstruction=function createWithdrawWithheldTokensFromAccountsInstruction(e,n,s,a,Ce,ze=w.TOKEN_2022_PROGRAM_ID){if(!(0,w.programSupportsExtensions)(ze))throw new I.TokenUnsupportedInstructionError;const qe=i.alloc(r.withdrawWithheldTokensFromAccountsInstructionData.span);r.withdrawWithheldTokensFromAccountsInstructionData.encode({instruction:Ae.TokenInstruction.TransferFeeExtension,transferFeeInstruction:Be.WithdrawWithheldTokensFromAccounts,numTokenAccounts:Ce.length},qe);const $e=(0,we.addSigners)([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0}],s,a);for(const e of Ce)$e.push({pubkey:e,isSigner:!1,isWritable:!0});return new k.TransactionInstruction({keys:$e,programId:ze,data:qe})},r.decodeWithdrawWithheldTokensFromAccountsInstruction=function decodeWithdrawWithheldTokensFromAccountsInstruction(e,n){if(!e.programId.equals(n))throw new I.TokenInvalidInstructionProgramError;if(e.data.length!==r.withdrawWithheldTokensFromAccountsInstructionData.span)throw new I.TokenInvalidInstructionDataError;const{keys:{mint:i,destination:s,authority:a,signers:k,sources:w},data:we}=decodeWithdrawWithheldTokensFromAccountsInstructionUnchecked(e);if(we.instruction!==Ae.TokenInstruction.TransferFeeExtension||we.transferFeeInstruction!==Be.WithdrawWithheldTokensFromAccounts)throw new I.TokenInvalidInstructionTypeError;if(!i)throw new I.TokenInvalidInstructionKeysError;return{programId:n,keys:{mint:i,destination:s,authority:a,signers:k||null,sources:w||null},data:we}},r.decodeWithdrawWithheldTokensFromAccountsInstructionUnchecked=decodeWithdrawWithheldTokensFromAccountsInstructionUnchecked,r.harvestWithheldTokensToMintInstructionData=(0,s.struct)([(0,s.u8)("instruction"),(0,s.u8)("transferFeeInstruction")]),r.createHarvestWithheldTokensToMintInstruction=function createHarvestWithheldTokensToMintInstruction(e,n,s=w.TOKEN_2022_PROGRAM_ID){if(!(0,w.programSupportsExtensions)(s))throw new I.TokenUnsupportedInstructionError;const a=i.alloc(r.harvestWithheldTokensToMintInstructionData.span);r.harvestWithheldTokensToMintInstructionData.encode({instruction:Ae.TokenInstruction.TransferFeeExtension,transferFeeInstruction:Be.HarvestWithheldTokensToMint},a);const we=[];we.push({pubkey:e,isSigner:!1,isWritable:!0});for(const e of n)we.push({pubkey:e,isSigner:!1,isWritable:!0});return new k.TransactionInstruction({keys:we,programId:s,data:a})},r.decodeHarvestWithheldTokensToMintInstruction=function decodeHarvestWithheldTokensToMintInstruction(e,n){if(!e.programId.equals(n))throw new I.TokenInvalidInstructionProgramError;if(e.data.length!==r.harvestWithheldTokensToMintInstructionData.span)throw new I.TokenInvalidInstructionDataError;const{keys:{mint:i,sources:s},data:a}=decodeHarvestWithheldTokensToMintInstructionUnchecked(e);if(a.instruction!==Ae.TokenInstruction.TransferFeeExtension||a.transferFeeInstruction!==Be.HarvestWithheldTokensToMint)throw new I.TokenInvalidInstructionTypeError;if(!i)throw new I.TokenInvalidInstructionKeysError;return{programId:n,keys:{mint:i,sources:s},data:a}},r.decodeHarvestWithheldTokensToMintInstructionUnchecked=decodeHarvestWithheldTokensToMintInstructionUnchecked},474400:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getTransferFeeAmount=r.getTransferFeeConfig=r.TRANSFER_FEE_AMOUNT_SIZE=r.TransferFeeAmountLayout=r.calculateEpochFee=r.getEpochFee=r.TRANSFER_FEE_CONFIG_SIZE=r.TransferFeeConfigLayout=r.calculateFee=r.transferFeeLayout=r.ONE_IN_BASIS_POINTS=r.MAX_FEE_BASIS_POINTS=void 0;const i=n(878918),s=n(432510),a=n(738522);function transferFeeLayout(e){return(0,i.struct)([(0,s.u64)("epoch"),(0,s.u64)("maximumFee"),(0,i.u16)("transferFeeBasisPoints")],e)}function calculateFee(e,n){const i=e.transferFeeBasisPoints;if(0===i||n===BigInt(0))return BigInt(0);{const s=(n*BigInt(i)+r.ONE_IN_BASIS_POINTS-BigInt(1))/r.ONE_IN_BASIS_POINTS,a=s>e.maximumFee?e.maximumFee:s;return BigInt(a)}}function getEpochFee(e,r){return r>=e.newerTransferFee.epoch?e.newerTransferFee:e.olderTransferFee}r.MAX_FEE_BASIS_POINTS=1e4,r.ONE_IN_BASIS_POINTS=BigInt(r.MAX_FEE_BASIS_POINTS),r.transferFeeLayout=transferFeeLayout,r.calculateFee=calculateFee,r.TransferFeeConfigLayout=(0,i.struct)([(0,s.publicKey)("transferFeeConfigAuthority"),(0,s.publicKey)("withdrawWithheldAuthority"),(0,s.u64)("withheldAmount"),transferFeeLayout("olderTransferFee"),transferFeeLayout("newerTransferFee")]),r.TRANSFER_FEE_CONFIG_SIZE=r.TransferFeeConfigLayout.span,r.getEpochFee=getEpochFee,r.calculateEpochFee=function calculateEpochFee(e,r,n){return calculateFee(getEpochFee(e,r),n)},r.TransferFeeAmountLayout=(0,i.struct)([(0,s.u64)("withheldAmount")]),r.TRANSFER_FEE_AMOUNT_SIZE=r.TransferFeeAmountLayout.span,r.getTransferFeeConfig=function getTransferFeeConfig(e){const n=(0,a.getExtensionData)(a.ExtensionType.TransferFeeConfig,e.tlvData);return null!==n?r.TransferFeeConfigLayout.decode(n):null},r.getTransferFeeAmount=function getTransferFeeAmount(e){const n=(0,a.getExtensionData)(a.ExtensionType.TransferFeeAmount,e.tlvData);return null!==n?r.TransferFeeAmountLayout.decode(n):null}},638235:function(e,r,n){"use strict";var i=this&&this.__awaiter||function(e,r,n,i){return new(n||(n=Promise))((function(s,a){function fulfilled(e){try{step(i.next(e))}catch(e){a(e)}}function rejected(e){try{step(i.throw(e))}catch(e){a(e)}}function step(e){e.done?s(e.value):function adopt(e){return e instanceof n?e:new n((function(r){r(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.transferCheckedWithFeeAndTransferHook=r.transferCheckedWithTransferHook=r.updateTransferHook=r.initializeTransferHook=void 0;const s=n(228598),a=n(716083),k=n(359157),w=n(750379);r.initializeTransferHook=function initializeTransferHook(e,r,n,a,I,we,Ae=k.TOKEN_2022_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const i=(new s.Transaction).add((0,w.createInitializeTransferHookInstruction)(n,a,I,Ae));return yield(0,s.sendAndConfirmTransaction)(e,i,[r],we)}))},r.updateTransferHook=function updateTransferHook(e,r,n,I,we,Ae=[],Be,Ce=k.TOKEN_2022_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const[i,k]=(0,a.getSigners)(we,Ae),ze=(new s.Transaction).add((0,w.createUpdateTransferHookInstruction)(n,i,I,k,Ce));return yield(0,s.sendAndConfirmTransaction)(e,ze,[r,...k],Be)}))},r.transferCheckedWithTransferHook=function transferCheckedWithTransferHook(e,r,n,I,we,Ae,Be,Ce,ze=[],qe,$e=k.TOKEN_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const[i,k]=(0,a.getSigners)(Ae,ze),Ye=(new s.Transaction).add(yield(0,w.createTransferCheckedWithTransferHookInstruction)(e,n,I,we,i,Be,Ce,k,null==qe?void 0:qe.commitment,$e));return yield(0,s.sendAndConfirmTransaction)(e,Ye,[r,...k],qe)}))},r.transferCheckedWithFeeAndTransferHook=function transferCheckedWithFeeAndTransferHook(e,r,n,I,we,Ae,Be,Ce,ze,qe=[],$e,Ye=k.TOKEN_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const[i,k]=(0,a.getSigners)(Ae,qe),Je=(new s.Transaction).add(yield(0,w.createTransferCheckedWithFeeAndTransferHookInstruction)(e,n,I,we,i,Be,Ce,ze,k,null==$e?void 0:$e.commitment,Ye));return yield(0,s.sendAndConfirmTransaction)(e,Je,[r,...k],$e)}))}},880864:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__exportStar||function(e,r){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||i(r,e,n)};Object.defineProperty(r,"__esModule",{value:!0}),s(n(638235),r),s(n(750379),r),s(n(206286),r),s(n(637441),r)},750379:function(e,r,n){"use strict";var i=n(901048).Buffer,s=this&&this.__awaiter||function(e,r,n,i){return new(n||(n=Promise))((function(s,a){function fulfilled(e){try{step(i.next(e))}catch(e){a(e)}}function rejected(e){try{step(i.throw(e))}catch(e){a(e)}}function step(e){e.done?s(e.value):function adopt(e){return e instanceof n?e:new n((function(r){r(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.createTransferCheckedWithFeeAndTransferHookInstruction=r.createTransferCheckedWithTransferHookInstruction=r.addExtraAccountsToInstruction=r.createUpdateTransferHookInstruction=r.updateTransferHookInstructionData=r.createInitializeTransferHookInstruction=r.initializeTransferHookInstructionData=r.TransferHookInstruction=void 0;const a=n(878918),k=n(228598),w=n(359157),I=n(718385),we=n(508003),Ae=n(829105),Be=n(432510),Ce=n(256056),ze=n(879328),qe=n(754008),$e=n(637441);var Ye;function deEscalateAccountMeta(e,r){const n=r.filter((r=>r.pubkey===e.pubkey)).reduce(((e,r)=>e?{isSigner:e.isSigner||r.isSigner,isWritable:e.isWritable||r.isWritable}:{isSigner:r.isSigner,isWritable:r.isWritable}),void 0);if(n){const{isSigner:r,isWritable:i}=n;r||r===e.isSigner||(e.isSigner=!1),i||i===e.isWritable||(e.isWritable=!1)}return e}function addExtraAccountsToInstruction(e,r,n,i,a=w.TOKEN_PROGRAM_ID){return s(this,void 0,void 0,(function*(){if(!(0,w.programSupportsExtensions)(a))throw new I.TokenUnsupportedInstructionError;const s=yield(0,qe.getMint)(e,n,i,a),we=(0,$e.getTransferHook)(s);if(null==we)return r;const Ae=(0,$e.getExtraAccountMetaAddress)(n,we.programId),Be=yield e.getAccountInfo(Ae,i);if(null==Be)return r;const Ce=(0,$e.getExtraAccountMetas)(Be),ze=r.keys;for(const n of Ce){const i=deEscalateAccountMeta(yield(0,$e.resolveExtraAccountMeta)(e,n,ze,r.data,we.programId),ze);ze.push(i)}return ze.push({pubkey:we.programId,isSigner:!1,isWritable:!1}),ze.push({pubkey:Ae,isSigner:!1,isWritable:!1}),new k.TransactionInstruction({keys:ze,programId:a,data:r.data})}))}!function(e){e[e.Initialize=0]="Initialize",e[e.Update=1]="Update"}(Ye||(r.TransferHookInstruction=Ye={})),r.initializeTransferHookInstructionData=(0,a.struct)([(0,a.u8)("instruction"),(0,a.u8)("transferHookInstruction"),(0,Be.publicKey)("authority"),(0,Be.publicKey)("transferHookProgramId")]),r.createInitializeTransferHookInstruction=function createInitializeTransferHookInstruction(e,n,s,a){if(!(0,w.programSupportsExtensions)(a))throw new I.TokenUnsupportedInstructionError;const we=[{pubkey:e,isSigner:!1,isWritable:!0}],Be=i.alloc(r.initializeTransferHookInstructionData.span);return r.initializeTransferHookInstructionData.encode({instruction:Ae.TokenInstruction.TransferHookExtension,transferHookInstruction:Ye.Initialize,authority:n,transferHookProgramId:s},Be),new k.TransactionInstruction({keys:we,programId:a,data:Be})},r.updateTransferHookInstructionData=(0,a.struct)([(0,a.u8)("instruction"),(0,a.u8)("transferHookInstruction"),(0,Be.publicKey)("transferHookProgramId")]),r.createUpdateTransferHookInstruction=function createUpdateTransferHookInstruction(e,n,s,a=[],Be=w.TOKEN_2022_PROGRAM_ID){if(!(0,w.programSupportsExtensions)(Be))throw new I.TokenUnsupportedInstructionError;const Ce=(0,we.addSigners)([{pubkey:e,isSigner:!1,isWritable:!0}],n,a),ze=i.alloc(r.updateTransferHookInstructionData.span);return r.updateTransferHookInstructionData.encode({instruction:Ae.TokenInstruction.TransferHookExtension,transferHookInstruction:Ye.Update,transferHookProgramId:s},ze),new k.TransactionInstruction({keys:Ce,programId:Be,data:ze})},r.addExtraAccountsToInstruction=addExtraAccountsToInstruction,r.createTransferCheckedWithTransferHookInstruction=function createTransferCheckedWithTransferHookInstruction(e,r,n,i,a,k,I,we=[],Ae,Be=w.TOKEN_PROGRAM_ID){return s(this,void 0,void 0,(function*(){const s=(0,Ce.createTransferCheckedInstruction)(r,n,i,a,k,I,we,Be);return yield addExtraAccountsToInstruction(e,s,n,Ae,Be)}))},r.createTransferCheckedWithFeeAndTransferHookInstruction=function createTransferCheckedWithFeeAndTransferHookInstruction(e,r,n,i,a,k,I,we,Ae=[],Be,Ce=w.TOKEN_PROGRAM_ID){return s(this,void 0,void 0,(function*(){const s=(0,ze.createTransferCheckedWithFeeInstruction)(r,n,i,a,k,I,we,Ae,Ce);return yield addExtraAccountsToInstruction(e,s,n,Be,Ce)}))}},206286:function(e,r,n){"use strict";var i=n(901048).Buffer,s=this&&this.__awaiter||function(e,r,n,i){return new(n||(n=Promise))((function(s,a){function fulfilled(e){try{step(i.next(e))}catch(e){a(e)}}function rejected(e){try{step(i.throw(e))}catch(e){a(e)}}function step(e){e.done?s(e.value):function adopt(e){return e instanceof n?e:new n((function(r){r(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.unpackSeeds=void 0;const a=n(718385),k=1,w=1,I=1,we=1,Ae=1,Be=1,Ce=1,ze=1;function unpackFirstSeed(e,r,n,qe){return s(this,void 0,void 0,(function*(){const[$e,...Ye]=e,Je=new Uint8Array(Ye);switch($e){case 0:return null;case 1:return function unpackSeedLiteral(e){if(e.length<1)throw new a.TokenTransferHookInvalidSeed;const[r,...n]=e;if(n.length<r)throw new a.TokenTransferHookInvalidSeed;return{data:i.from(n.slice(0,r)),packedLength:k+w+r}}(Je);case 2:return function unpackSeedInstructionArg(e,r){if(e.length<2)throw new a.TokenTransferHookInvalidSeed;const[n,i]=e;if(r.length<i+n)throw new a.TokenTransferHookInvalidSeed;return{data:r.subarray(n,n+i),packedLength:k+I+we}}(Je,n);case 3:return function unpackSeedAccountKey(e,r){if(e.length<1)throw new a.TokenTransferHookInvalidSeed;const[n]=e;if(r.length<=n)throw new a.TokenTransferHookInvalidSeed;return{data:r[n].pubkey.toBuffer(),packedLength:k+Ae}}(Je,r);case 4:return function unpackSeedAccountData(e,r,n){return s(this,void 0,void 0,(function*(){if(e.length<3)throw new a.TokenTransferHookInvalidSeed;const[i,s,w]=e;if(r.length<=i)throw new a.TokenTransferHookInvalidSeed;const I=yield n.getAccountInfo(r[i].pubkey);if(null==I)throw new a.TokenTransferHookAccountDataNotFound;if(I.data.length<s+w)throw new a.TokenTransferHookInvalidSeed;return{data:I.data.subarray(s,s+w),packedLength:k+Be+Ce+ze}}))}(Je,r,qe);default:throw new a.TokenTransferHookInvalidSeed}}))}r.unpackSeeds=function unpackSeeds(e,r,n,i){return s(this,void 0,void 0,(function*(){const s=[];let a=0;for(;a<32;){const k=yield unpackFirstSeed(e.slice(a),r,n,i);if(null==k)break;s.push(k.data),a+=k.packedLength}return s}))}},637441:function(e,r,n){"use strict";var i=n(901048).Buffer,s=this&&this.__awaiter||function(e,r,n,i){return new(n||(n=Promise))((function(s,a){function fulfilled(e){try{step(i.next(e))}catch(e){a(e)}}function rejected(e){try{step(i.throw(e))}catch(e){a(e)}}function step(e){e.done?s(e.value):function adopt(e){return e instanceof n?e:new n((function(r){r(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.resolveExtraAccountMeta=r.getExtraAccountMetas=r.ExtraAccountMetaAccountDataLayout=r.ExtraAccountMetaListLayout=r.ExtraAccountMetaLayout=r.getExtraAccountMetaAddress=r.getTransferHookAccount=r.TRANSFER_HOOK_ACCOUNT_SIZE=r.TransferHookAccountLayout=r.getTransferHook=r.TRANSFER_HOOK_SIZE=r.TransferHookLayout=void 0;const a=n(878918),k=n(738522),w=n(228598),I=n(432510),we=n(718385),Ae=n(206286);r.TransferHookLayout=(0,a.struct)([(0,I.publicKey)("authority"),(0,I.publicKey)("programId")]),r.TRANSFER_HOOK_SIZE=r.TransferHookLayout.span,r.getTransferHook=function getTransferHook(e){const n=(0,k.getExtensionData)(k.ExtensionType.TransferHook,e.tlvData);return null!==n?r.TransferHookLayout.decode(n):null},r.TransferHookAccountLayout=(0,a.struct)([(0,I.bool)("transferring")]),r.TRANSFER_HOOK_ACCOUNT_SIZE=r.TransferHookAccountLayout.span,r.getTransferHookAccount=function getTransferHookAccount(e){const n=(0,k.getExtensionData)(k.ExtensionType.TransferHookAccount,e.tlvData);return null!==n?r.TransferHookAccountLayout.decode(n):null},r.getExtraAccountMetaAddress=function getExtraAccountMetaAddress(e,r){const n=[i.from("extra-account-metas"),e.toBuffer()];return w.PublicKey.findProgramAddressSync(n,r)[0]},r.ExtraAccountMetaLayout=(0,a.struct)([(0,a.u8)("discriminator"),(0,a.blob)(32,"addressConfig"),(0,I.bool)("isSigner"),(0,I.bool)("isWritable")]),r.ExtraAccountMetaListLayout=(0,a.struct)([(0,a.u32)("count"),(0,a.seq)(r.ExtraAccountMetaLayout,(0,a.greedy)(r.ExtraAccountMetaLayout.span),"extraAccounts")]),r.ExtraAccountMetaAccountDataLayout=(0,a.struct)([(0,I.u64)("instructionDiscriminator"),(0,a.u32)("length"),r.ExtraAccountMetaListLayout.replicate("extraAccountsList")]),r.getExtraAccountMetas=function getExtraAccountMetas(e){const n=r.ExtraAccountMetaAccountDataLayout.decode(e.data).extraAccountsList;return n.extraAccounts.slice(0,n.count)},r.resolveExtraAccountMeta=function resolveExtraAccountMeta(e,r,n,i,a){return s(this,void 0,void 0,(function*(){if(0===r.discriminator)return{pubkey:new w.PublicKey(r.addressConfig),isSigner:r.isSigner,isWritable:r.isWritable};let s=w.PublicKey.default;if(1===r.discriminator)s=a;else{const e=r.discriminator-128;if(n.length<=e)throw new we.TokenTransferHookAccountNotFound;s=n[e].pubkey}const k=yield(0,Ae.unpackSeeds)(r.addressConfig,n,i,e);return{pubkey:w.PublicKey.findProgramAddressSync(k,s)[0],isSigner:r.isSigner,isWritable:r.isWritable}}))}},853152:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__exportStar||function(e,r){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||i(r,e,n)};Object.defineProperty(r,"__esModule",{value:!0}),s(n(264868),r),s(n(359157),r),s(n(718385),r),s(n(68583),r),s(n(974932),r),s(n(412378),r)},496245:(e,r,n)=>{"use strict";var i=n(901048).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.decodeAmountToUiAmountInstructionUnchecked=r.decodeAmountToUiAmountInstruction=r.createAmountToUiAmountInstruction=r.amountToUiAmountInstructionData=void 0;const s=n(878918),a=n(432510),k=n(228598),w=n(359157),I=n(718385),we=n(829105);function decodeAmountToUiAmountInstructionUnchecked({programId:e,keys:[n],data:i}){return{programId:e,keys:{mint:n},data:r.amountToUiAmountInstructionData.decode(i)}}r.amountToUiAmountInstructionData=(0,s.struct)([(0,s.u8)("instruction"),(0,a.u64)("amount")]),r.createAmountToUiAmountInstruction=function createAmountToUiAmountInstruction(e,n,s=w.TOKEN_PROGRAM_ID){const a=[{pubkey:e,isSigner:!1,isWritable:!1}],I=i.alloc(r.amountToUiAmountInstructionData.span);return r.amountToUiAmountInstructionData.encode({instruction:we.TokenInstruction.AmountToUiAmount,amount:BigInt(n)},I),new k.TransactionInstruction({keys:a,programId:s,data:I})},r.decodeAmountToUiAmountInstruction=function decodeAmountToUiAmountInstruction(e,n=w.TOKEN_PROGRAM_ID){if(!e.programId.equals(n))throw new I.TokenInvalidInstructionProgramError;if(e.data.length!==r.amountToUiAmountInstructionData.span)throw new I.TokenInvalidInstructionDataError;const{keys:{mint:i},data:s}=decodeAmountToUiAmountInstructionUnchecked(e);if(s.instruction!==we.TokenInstruction.AmountToUiAmount)throw new I.TokenInvalidInstructionTypeError;if(!i)throw new I.TokenInvalidInstructionKeysError;return{programId:n,keys:{mint:i},data:s}},r.decodeAmountToUiAmountInstructionUnchecked=decodeAmountToUiAmountInstructionUnchecked},218641:(e,r,n)=>{"use strict";var i=n(901048).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.decodeApproveInstructionUnchecked=r.decodeApproveInstruction=r.createApproveInstruction=r.approveInstructionData=void 0;const s=n(878918),a=n(432510),k=n(228598),w=n(359157),I=n(718385),we=n(508003),Ae=n(829105);function decodeApproveInstructionUnchecked({programId:e,keys:[n,i,s,...a],data:k}){return{programId:e,keys:{account:n,delegate:i,owner:s,multiSigners:a},data:r.approveInstructionData.decode(k)}}r.approveInstructionData=(0,s.struct)([(0,s.u8)("instruction"),(0,a.u64)("amount")]),r.createApproveInstruction=function createApproveInstruction(e,n,s,a,I=[],Be=w.TOKEN_PROGRAM_ID){const Ce=(0,we.addSigners)([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1}],s,I),ze=i.alloc(r.approveInstructionData.span);return r.approveInstructionData.encode({instruction:Ae.TokenInstruction.Approve,amount:BigInt(a)},ze),new k.TransactionInstruction({keys:Ce,programId:Be,data:ze})},r.decodeApproveInstruction=function decodeApproveInstruction(e,n=w.TOKEN_PROGRAM_ID){if(!e.programId.equals(n))throw new I.TokenInvalidInstructionProgramError;if(e.data.length!==r.approveInstructionData.span)throw new I.TokenInvalidInstructionDataError;const{keys:{account:i,delegate:s,owner:a,multiSigners:k},data:we}=decodeApproveInstructionUnchecked(e);if(we.instruction!==Ae.TokenInstruction.Approve)throw new I.TokenInvalidInstructionTypeError;if(!i||!s||!a)throw new I.TokenInvalidInstructionKeysError;return{programId:n,keys:{account:i,delegate:s,owner:a,multiSigners:k},data:we}},r.decodeApproveInstructionUnchecked=decodeApproveInstructionUnchecked},899220:(e,r,n)=>{"use strict";var i=n(901048).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.decodeApproveCheckedInstructionUnchecked=r.decodeApproveCheckedInstruction=r.createApproveCheckedInstruction=r.approveCheckedInstructionData=void 0;const s=n(878918),a=n(432510),k=n(228598),w=n(359157),I=n(718385),we=n(508003),Ae=n(829105);function decodeApproveCheckedInstructionUnchecked({programId:e,keys:[n,i,s,a,...k],data:w}){return{programId:e,keys:{account:n,mint:i,delegate:s,owner:a,multiSigners:k},data:r.approveCheckedInstructionData.decode(w)}}r.approveCheckedInstructionData=(0,s.struct)([(0,s.u8)("instruction"),(0,a.u64)("amount"),(0,s.u8)("decimals")]),r.createApproveCheckedInstruction=function createApproveCheckedInstruction(e,n,s,a,I,Be,Ce=[],ze=w.TOKEN_PROGRAM_ID){const qe=(0,we.addSigners)([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!1}],a,Ce),$e=i.alloc(r.approveCheckedInstructionData.span);return r.approveCheckedInstructionData.encode({instruction:Ae.TokenInstruction.ApproveChecked,amount:BigInt(I),decimals:Be},$e),new k.TransactionInstruction({keys:qe,programId:ze,data:$e})},r.decodeApproveCheckedInstruction=function decodeApproveCheckedInstruction(e,n=w.TOKEN_PROGRAM_ID){if(!e.programId.equals(n))throw new I.TokenInvalidInstructionProgramError;if(e.data.length!==r.approveCheckedInstructionData.span)throw new I.TokenInvalidInstructionDataError;const{keys:{account:i,mint:s,delegate:a,owner:k,multiSigners:we},data:Be}=decodeApproveCheckedInstructionUnchecked(e);if(Be.instruction!==Ae.TokenInstruction.ApproveChecked)throw new I.TokenInvalidInstructionTypeError;if(!(i&&s&&a&&k))throw new I.TokenInvalidInstructionKeysError;return{programId:n,keys:{account:i,mint:s,delegate:a,owner:k,multiSigners:we},data:Be}},r.decodeApproveCheckedInstructionUnchecked=decodeApproveCheckedInstructionUnchecked},172048:(e,r,n)=>{"use strict";var i=n(901048).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.createRecoverNestedInstruction=r.createAssociatedTokenAccountIdempotentInstruction=r.createAssociatedTokenAccountInstruction=void 0;const s=n(228598),a=n(359157);function buildAssociatedTokenAccountInstruction(e,r,n,i,k,w=a.TOKEN_PROGRAM_ID,I=a.ASSOCIATED_TOKEN_PROGRAM_ID){const we=[{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:s.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:w,isSigner:!1,isWritable:!1}];return new s.TransactionInstruction({keys:we,programId:I,data:k})}r.createAssociatedTokenAccountInstruction=function createAssociatedTokenAccountInstruction(e,r,n,s,k=a.TOKEN_PROGRAM_ID,w=a.ASSOCIATED_TOKEN_PROGRAM_ID){return buildAssociatedTokenAccountInstruction(e,r,n,s,i.alloc(0),k,w)},r.createAssociatedTokenAccountIdempotentInstruction=function createAssociatedTokenAccountIdempotentInstruction(e,r,n,s,k=a.TOKEN_PROGRAM_ID,w=a.ASSOCIATED_TOKEN_PROGRAM_ID){return buildAssociatedTokenAccountInstruction(e,r,n,s,i.from([1]),k,w)},r.createRecoverNestedInstruction=function createRecoverNestedInstruction(e,r,n,k,w,I,we=a.TOKEN_PROGRAM_ID,Ae=a.ASSOCIATED_TOKEN_PROGRAM_ID){const Be=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:k,isSigner:!1,isWritable:!0},{pubkey:w,isSigner:!1,isWritable:!1},{pubkey:I,isSigner:!0,isWritable:!0},{pubkey:we,isSigner:!1,isWritable:!1}];return new s.TransactionInstruction({keys:Be,programId:Ae,data:i.from([2])})}},403787:(e,r,n)=>{"use strict";var i=n(901048).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.decodeBurnInstructionUnchecked=r.decodeBurnInstruction=r.createBurnInstruction=r.burnInstructionData=void 0;const s=n(878918),a=n(432510),k=n(228598),w=n(359157),I=n(718385),we=n(508003),Ae=n(829105);function decodeBurnInstructionUnchecked({programId:e,keys:[n,i,s,...a],data:k}){return{programId:e,keys:{account:n,mint:i,owner:s,multiSigners:a},data:r.burnInstructionData.decode(k)}}r.burnInstructionData=(0,s.struct)([(0,s.u8)("instruction"),(0,a.u64)("amount")]),r.createBurnInstruction=function createBurnInstruction(e,n,s,a,I=[],Be=w.TOKEN_PROGRAM_ID){const Ce=(0,we.addSigners)([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0}],s,I),ze=i.alloc(r.burnInstructionData.span);return r.burnInstructionData.encode({instruction:Ae.TokenInstruction.Burn,amount:BigInt(a)},ze),new k.TransactionInstruction({keys:Ce,programId:Be,data:ze})},r.decodeBurnInstruction=function decodeBurnInstruction(e,n=w.TOKEN_PROGRAM_ID){if(!e.programId.equals(n))throw new I.TokenInvalidInstructionProgramError;if(e.data.length!==r.burnInstructionData.span)throw new I.TokenInvalidInstructionDataError;const{keys:{account:i,mint:s,owner:a,multiSigners:k},data:we}=decodeBurnInstructionUnchecked(e);if(we.instruction!==Ae.TokenInstruction.Burn)throw new I.TokenInvalidInstructionTypeError;if(!i||!s||!a)throw new I.TokenInvalidInstructionKeysError;return{programId:n,keys:{account:i,mint:s,owner:a,multiSigners:k},data:we}},r.decodeBurnInstructionUnchecked=decodeBurnInstructionUnchecked},352942:(e,r,n)=>{"use strict";var i=n(901048).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.decodeBurnCheckedInstructionUnchecked=r.decodeBurnCheckedInstruction=r.createBurnCheckedInstruction=r.burnCheckedInstructionData=void 0;const s=n(878918),a=n(432510),k=n(228598),w=n(359157),I=n(718385),we=n(508003),Ae=n(829105);function decodeBurnCheckedInstructionUnchecked({programId:e,keys:[n,i,s,...a],data:k}){return{programId:e,keys:{account:n,mint:i,owner:s,multiSigners:a},data:r.burnCheckedInstructionData.decode(k)}}r.burnCheckedInstructionData=(0,s.struct)([(0,s.u8)("instruction"),(0,a.u64)("amount"),(0,s.u8)("decimals")]),r.createBurnCheckedInstruction=function createBurnCheckedInstruction(e,n,s,a,I,Be=[],Ce=w.TOKEN_PROGRAM_ID){const ze=(0,we.addSigners)([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0}],s,Be),qe=i.alloc(r.burnCheckedInstructionData.span);return r.burnCheckedInstructionData.encode({instruction:Ae.TokenInstruction.BurnChecked,amount:BigInt(a),decimals:I},qe),new k.TransactionInstruction({keys:ze,programId:Ce,data:qe})},r.decodeBurnCheckedInstruction=function decodeBurnCheckedInstruction(e,n=w.TOKEN_PROGRAM_ID){if(!e.programId.equals(n))throw new I.TokenInvalidInstructionProgramError;if(e.data.length!==r.burnCheckedInstructionData.span)throw new I.TokenInvalidInstructionDataError;const{keys:{account:i,mint:s,owner:a,multiSigners:k},data:we}=decodeBurnCheckedInstructionUnchecked(e);if(we.instruction!==Ae.TokenInstruction.BurnChecked)throw new I.TokenInvalidInstructionTypeError;if(!i||!s||!a)throw new I.TokenInvalidInstructionKeysError;return{programId:n,keys:{account:i,mint:s,owner:a,multiSigners:k},data:we}},r.decodeBurnCheckedInstructionUnchecked=decodeBurnCheckedInstructionUnchecked},183621:(e,r,n)=>{"use strict";var i=n(901048).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.decodeCloseAccountInstructionUnchecked=r.decodeCloseAccountInstruction=r.createCloseAccountInstruction=r.closeAccountInstructionData=void 0;const s=n(878918),a=n(228598),k=n(359157),w=n(718385),I=n(508003),we=n(829105);function decodeCloseAccountInstructionUnchecked({programId:e,keys:[n,i,s,...a],data:k}){return{programId:e,keys:{account:n,destination:i,authority:s,multiSigners:a},data:r.closeAccountInstructionData.decode(k)}}r.closeAccountInstructionData=(0,s.struct)([(0,s.u8)("instruction")]),r.createCloseAccountInstruction=function createCloseAccountInstruction(e,n,s,w=[],Ae=k.TOKEN_PROGRAM_ID){const Be=(0,I.addSigners)([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0}],s,w),Ce=i.alloc(r.closeAccountInstructionData.span);return r.closeAccountInstructionData.encode({instruction:we.TokenInstruction.CloseAccount},Ce),new a.TransactionInstruction({keys:Be,programId:Ae,data:Ce})},r.decodeCloseAccountInstruction=function decodeCloseAccountInstruction(e,n=k.TOKEN_PROGRAM_ID){if(!e.programId.equals(n))throw new w.TokenInvalidInstructionProgramError;if(e.data.length!==r.closeAccountInstructionData.span)throw new w.TokenInvalidInstructionDataError;const{keys:{account:i,destination:s,authority:a,multiSigners:I},data:Ae}=decodeCloseAccountInstructionUnchecked(e);if(Ae.instruction!==we.TokenInstruction.CloseAccount)throw new w.TokenInvalidInstructionTypeError;if(!i||!s||!a)throw new w.TokenInvalidInstructionKeysError;return{programId:n,keys:{account:i,destination:s,authority:a,multiSigners:I},data:Ae}},r.decodeCloseAccountInstructionUnchecked=decodeCloseAccountInstructionUnchecked},835733:(e,r,n)=>{"use strict";var i=n(901048).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.createCreateNativeMintInstruction=r.createNativeMintInstructionData=void 0;const s=n(878918),a=n(228598),k=n(359157),w=n(718385),I=n(829105);r.createNativeMintInstructionData=(0,s.struct)([(0,s.u8)("instruction")]),r.createCreateNativeMintInstruction=function createCreateNativeMintInstruction(e,n=k.NATIVE_MINT_2022,s=k.TOKEN_2022_PROGRAM_ID){if(!(0,k.programSupportsExtensions)(s))throw new w.TokenUnsupportedInstructionError;const we=[{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:a.SystemProgram.programId,isSigner:!1,isWritable:!1}],Ae=i.alloc(r.createNativeMintInstructionData.span);return r.createNativeMintInstructionData.encode({instruction:I.TokenInstruction.CreateNativeMint},Ae),new a.TransactionInstruction({keys:we,programId:s,data:Ae})}},230512:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isUiamountToAmountInstruction=r.isAmountToUiAmountInstruction=r.isInitializeMint2Instruction=r.isInitializeAccount3Instruction=r.isSyncNativeInstruction=r.isInitializeAccount2Instruction=r.isBurnCheckedInstruction=r.isMintToCheckedInstruction=r.isApproveCheckedInstruction=r.isTransferCheckedInstruction=r.isThawAccountInstruction=r.isFreezeAccountInstruction=r.isCloseAccountInstruction=r.isBurnInstruction=r.isMintToInstruction=r.isSetAuthorityInstruction=r.isRevokeInstruction=r.isApproveInstruction=r.isTransferInstruction=r.isInitializeMultisigInstruction=r.isInitializeAccountInstruction=r.isInitializeMintInstruction=r.decodeInstruction=void 0;const i=n(878918),s=n(359157),a=n(718385),k=n(496245),w=n(218641),I=n(899220),we=n(403787),Ae=n(352942),Be=n(183621),Ce=n(668258),ze=n(250333),qe=n(518991),$e=n(384632),Ye=n(706132),Je=n(668916),et=n(402830),rt=n(88235),it=n(788558),ot=n(395580),ht=n(699419),ft=n(371322),pt=n(729975),yt=n(585781),kt=n(256056),_t=n(829105),St=n(685829);r.decodeInstruction=function decodeInstruction(e,r=s.TOKEN_PROGRAM_ID){if(!e.data.length)throw new a.TokenInvalidInstructionDataError;const n=(0,i.u8)().decode(e.data);if(n===_t.TokenInstruction.InitializeMint)return(0,Ye.decodeInitializeMintInstruction)(e,r);if(n===_t.TokenInstruction.InitializeAccount)return(0,ze.decodeInitializeAccountInstruction)(e,r);if(n===_t.TokenInstruction.InitializeMultisig)return(0,et.decodeInitializeMultisigInstruction)(e,r);if(n===_t.TokenInstruction.Transfer)return(0,yt.decodeTransferInstruction)(e,r);if(n===_t.TokenInstruction.Approve)return(0,w.decodeApproveInstruction)(e,r);if(n===_t.TokenInstruction.Revoke)return(0,ot.decodeRevokeInstruction)(e,r);if(n===_t.TokenInstruction.SetAuthority)return(0,ht.decodeSetAuthorityInstruction)(e,r);if(n===_t.TokenInstruction.MintTo)return(0,rt.decodeMintToInstruction)(e,r);if(n===_t.TokenInstruction.Burn)return(0,we.decodeBurnInstruction)(e,r);if(n===_t.TokenInstruction.CloseAccount)return(0,Be.decodeCloseAccountInstruction)(e,r);if(n===_t.TokenInstruction.FreezeAccount)return(0,Ce.decodeFreezeAccountInstruction)(e,r);if(n===_t.TokenInstruction.ThawAccount)return(0,pt.decodeThawAccountInstruction)(e,r);if(n===_t.TokenInstruction.TransferChecked)return(0,kt.decodeTransferCheckedInstruction)(e,r);if(n===_t.TokenInstruction.ApproveChecked)return(0,I.decodeApproveCheckedInstruction)(e,r);if(n===_t.TokenInstruction.MintToChecked)return(0,it.decodeMintToCheckedInstruction)(e,r);if(n===_t.TokenInstruction.BurnChecked)return(0,Ae.decodeBurnCheckedInstruction)(e,r);if(n===_t.TokenInstruction.InitializeAccount2)return(0,qe.decodeInitializeAccount2Instruction)(e,r);if(n===_t.TokenInstruction.SyncNative)return(0,ft.decodeSyncNativeInstruction)(e,r);if(n===_t.TokenInstruction.InitializeAccount3)return(0,$e.decodeInitializeAccount3Instruction)(e,r);if(n===_t.TokenInstruction.InitializeMint2)return(0,Je.decodeInitializeMint2Instruction)(e,r);if(n===_t.TokenInstruction.AmountToUiAmount)return(0,k.decodeAmountToUiAmountInstruction)(e,r);if(n===_t.TokenInstruction.UiAmountToAmount)return(0,St.decodeUiAmountToAmountInstruction)(e,r);if(n===_t.TokenInstruction.InitializeMultisig2)throw new a.TokenInvalidInstructionTypeError;throw new a.TokenInvalidInstructionTypeError},r.isInitializeMintInstruction=function isInitializeMintInstruction(e){return e.data.instruction===_t.TokenInstruction.InitializeMint},r.isInitializeAccountInstruction=function isInitializeAccountInstruction(e){return e.data.instruction===_t.TokenInstruction.InitializeAccount},r.isInitializeMultisigInstruction=function isInitializeMultisigInstruction(e){return e.data.instruction===_t.TokenInstruction.InitializeMultisig},r.isTransferInstruction=function isTransferInstruction(e){return e.data.instruction===_t.TokenInstruction.Transfer},r.isApproveInstruction=function isApproveInstruction(e){return e.data.instruction===_t.TokenInstruction.Approve},r.isRevokeInstruction=function isRevokeInstruction(e){return e.data.instruction===_t.TokenInstruction.Revoke},r.isSetAuthorityInstruction=function isSetAuthorityInstruction(e){return e.data.instruction===_t.TokenInstruction.SetAuthority},r.isMintToInstruction=function isMintToInstruction(e){return e.data.instruction===_t.TokenInstruction.MintTo},r.isBurnInstruction=function isBurnInstruction(e){return e.data.instruction===_t.TokenInstruction.Burn},r.isCloseAccountInstruction=function isCloseAccountInstruction(e){return e.data.instruction===_t.TokenInstruction.CloseAccount},r.isFreezeAccountInstruction=function isFreezeAccountInstruction(e){return e.data.instruction===_t.TokenInstruction.FreezeAccount},r.isThawAccountInstruction=function isThawAccountInstruction(e){return e.data.instruction===_t.TokenInstruction.ThawAccount},r.isTransferCheckedInstruction=function isTransferCheckedInstruction(e){return e.data.instruction===_t.TokenInstruction.TransferChecked},r.isApproveCheckedInstruction=function isApproveCheckedInstruction(e){return e.data.instruction===_t.TokenInstruction.ApproveChecked},r.isMintToCheckedInstruction=function isMintToCheckedInstruction(e){return e.data.instruction===_t.TokenInstruction.MintToChecked},r.isBurnCheckedInstruction=function isBurnCheckedInstruction(e){return e.data.instruction===_t.TokenInstruction.BurnChecked},r.isInitializeAccount2Instruction=function isInitializeAccount2Instruction(e){return e.data.instruction===_t.TokenInstruction.InitializeAccount2},r.isSyncNativeInstruction=function isSyncNativeInstruction(e){return e.data.instruction===_t.TokenInstruction.SyncNative},r.isInitializeAccount3Instruction=function isInitializeAccount3Instruction(e){return e.data.instruction===_t.TokenInstruction.InitializeAccount3},r.isInitializeMint2Instruction=function isInitializeMint2Instruction(e){return e.data.instruction===_t.TokenInstruction.InitializeMint2},r.isAmountToUiAmountInstruction=function isAmountToUiAmountInstruction(e){return e.data.instruction===_t.TokenInstruction.AmountToUiAmount},r.isUiamountToAmountInstruction=function isUiamountToAmountInstruction(e){return e.data.instruction===_t.TokenInstruction.UiAmountToAmount}},668258:(e,r,n)=>{"use strict";var i=n(901048).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.decodeFreezeAccountInstructionUnchecked=r.decodeFreezeAccountInstruction=r.createFreezeAccountInstruction=r.freezeAccountInstructionData=void 0;const s=n(878918),a=n(228598),k=n(359157),w=n(718385),I=n(508003),we=n(829105);function decodeFreezeAccountInstructionUnchecked({programId:e,keys:[n,i,s,...a],data:k}){return{programId:e,keys:{account:n,mint:i,authority:s,multiSigners:a},data:r.freezeAccountInstructionData.decode(k)}}r.freezeAccountInstructionData=(0,s.struct)([(0,s.u8)("instruction")]),r.createFreezeAccountInstruction=function createFreezeAccountInstruction(e,n,s,w=[],Ae=k.TOKEN_PROGRAM_ID){const Be=(0,I.addSigners)([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1}],s,w),Ce=i.alloc(r.freezeAccountInstructionData.span);return r.freezeAccountInstructionData.encode({instruction:we.TokenInstruction.FreezeAccount},Ce),new a.TransactionInstruction({keys:Be,programId:Ae,data:Ce})},r.decodeFreezeAccountInstruction=function decodeFreezeAccountInstruction(e,n=k.TOKEN_PROGRAM_ID){if(!e.programId.equals(n))throw new w.TokenInvalidInstructionProgramError;if(e.data.length!==r.freezeAccountInstructionData.span)throw new w.TokenInvalidInstructionDataError;const{keys:{account:i,mint:s,authority:a,multiSigners:I},data:Ae}=decodeFreezeAccountInstructionUnchecked(e);if(Ae.instruction!==we.TokenInstruction.FreezeAccount)throw new w.TokenInvalidInstructionTypeError;if(!i||!s||!a)throw new w.TokenInvalidInstructionKeysError;return{programId:n,keys:{account:i,mint:s,authority:a,multiSigners:I},data:Ae}},r.decodeFreezeAccountInstructionUnchecked=decodeFreezeAccountInstructionUnchecked},974932:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__exportStar||function(e,r){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||i(r,e,n)};Object.defineProperty(r,"__esModule",{value:!0}),r.createEmitInstruction=r.createUpdateAuthorityInstruction=r.createRemoveKeyInstruction=r.createUpdateFieldInstruction=r.createInitializeInstruction=void 0;var a=n(486104);Object.defineProperty(r,"createInitializeInstruction",{enumerable:!0,get:function(){return a.createInitializeInstruction}}),Object.defineProperty(r,"createUpdateFieldInstruction",{enumerable:!0,get:function(){return a.createUpdateFieldInstruction}}),Object.defineProperty(r,"createRemoveKeyInstruction",{enumerable:!0,get:function(){return a.createRemoveKeyInstruction}}),Object.defineProperty(r,"createUpdateAuthorityInstruction",{enumerable:!0,get:function(){return a.createUpdateAuthorityInstruction}}),Object.defineProperty(r,"createEmitInstruction",{enumerable:!0,get:function(){return a.createEmitInstruction}}),s(n(172048),r),s(n(230512),r),s(n(829105),r),s(n(706132),r),s(n(250333),r),s(n(402830),r),s(n(585781),r),s(n(218641),r),s(n(395580),r),s(n(699419),r),s(n(88235),r),s(n(403787),r),s(n(183621),r),s(n(668258),r),s(n(729975),r),s(n(256056),r),s(n(899220),r),s(n(788558),r),s(n(352942),r),s(n(518991),r),s(n(371322),r),s(n(384632),r),s(n(983398),r),s(n(668916),r),s(n(450479),r),s(n(496245),r),s(n(685829),r),s(n(908961),r),s(n(274648),r),s(n(835733),r),s(n(430114),r),s(n(744031),r)},250333:(e,r,n)=>{"use strict";var i=n(901048).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.decodeInitializeAccountInstructionUnchecked=r.decodeInitializeAccountInstruction=r.createInitializeAccountInstruction=r.initializeAccountInstructionData=void 0;const s=n(878918),a=n(228598),k=n(359157),w=n(718385),I=n(829105);function decodeInitializeAccountInstructionUnchecked({programId:e,keys:[n,i,s,a],data:k}){return{programId:e,keys:{account:n,mint:i,owner:s,rent:a},data:r.initializeAccountInstructionData.decode(k)}}r.initializeAccountInstructionData=(0,s.struct)([(0,s.u8)("instruction")]),r.createInitializeAccountInstruction=function createInitializeAccountInstruction(e,n,s,w=k.TOKEN_PROGRAM_ID){const we=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:a.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],Ae=i.alloc(r.initializeAccountInstructionData.span);return r.initializeAccountInstructionData.encode({instruction:I.TokenInstruction.InitializeAccount},Ae),new a.TransactionInstruction({keys:we,programId:w,data:Ae})},r.decodeInitializeAccountInstruction=function decodeInitializeAccountInstruction(e,n=k.TOKEN_PROGRAM_ID){if(!e.programId.equals(n))throw new w.TokenInvalidInstructionProgramError;if(e.data.length!==r.initializeAccountInstructionData.span)throw new w.TokenInvalidInstructionDataError;const{keys:{account:i,mint:s,owner:a,rent:we},data:Ae}=decodeInitializeAccountInstructionUnchecked(e);if(Ae.instruction!==I.TokenInstruction.InitializeAccount)throw new w.TokenInvalidInstructionTypeError;if(!(i&&s&&a&&we))throw new w.TokenInvalidInstructionKeysError;return{programId:n,keys:{account:i,mint:s,owner:a,rent:we},data:Ae}},r.decodeInitializeAccountInstructionUnchecked=decodeInitializeAccountInstructionUnchecked},518991:(e,r,n)=>{"use strict";var i=n(901048).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.decodeInitializeAccount2InstructionUnchecked=r.decodeInitializeAccount2Instruction=r.createInitializeAccount2Instruction=r.initializeAccount2InstructionData=void 0;const s=n(878918),a=n(432510),k=n(228598),w=n(359157),I=n(718385),we=n(829105);function decodeInitializeAccount2InstructionUnchecked({programId:e,keys:[n,i,s],data:a}){return{programId:e,keys:{account:n,mint:i,rent:s},data:r.initializeAccount2InstructionData.decode(a)}}r.initializeAccount2InstructionData=(0,s.struct)([(0,s.u8)("instruction"),(0,a.publicKey)("owner")]),r.createInitializeAccount2Instruction=function createInitializeAccount2Instruction(e,n,s,a=w.TOKEN_PROGRAM_ID){const I=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:k.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],Ae=i.alloc(r.initializeAccount2InstructionData.span);return r.initializeAccount2InstructionData.encode({instruction:we.TokenInstruction.InitializeAccount2,owner:s},Ae),new k.TransactionInstruction({keys:I,programId:a,data:Ae})},r.decodeInitializeAccount2Instruction=function decodeInitializeAccount2Instruction(e,n=w.TOKEN_PROGRAM_ID){if(!e.programId.equals(n))throw new I.TokenInvalidInstructionProgramError;if(e.data.length!==r.initializeAccount2InstructionData.span)throw new I.TokenInvalidInstructionDataError;const{keys:{account:i,mint:s,rent:a},data:k}=decodeInitializeAccount2InstructionUnchecked(e);if(k.instruction!==we.TokenInstruction.InitializeAccount2)throw new I.TokenInvalidInstructionTypeError;if(!i||!s||!a)throw new I.TokenInvalidInstructionKeysError;return{programId:n,keys:{account:i,mint:s,rent:a},data:k}},r.decodeInitializeAccount2InstructionUnchecked=decodeInitializeAccount2InstructionUnchecked},384632:(e,r,n)=>{"use strict";var i=n(901048).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.decodeInitializeAccount3InstructionUnchecked=r.decodeInitializeAccount3Instruction=r.createInitializeAccount3Instruction=r.initializeAccount3InstructionData=void 0;const s=n(878918),a=n(432510),k=n(228598),w=n(359157),I=n(718385),we=n(829105);function decodeInitializeAccount3InstructionUnchecked({programId:e,keys:[n,i],data:s}){return{programId:e,keys:{account:n,mint:i},data:r.initializeAccount3InstructionData.decode(s)}}r.initializeAccount3InstructionData=(0,s.struct)([(0,s.u8)("instruction"),(0,a.publicKey)("owner")]),r.createInitializeAccount3Instruction=function createInitializeAccount3Instruction(e,n,s,a=w.TOKEN_PROGRAM_ID){const I=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1}],Ae=i.alloc(r.initializeAccount3InstructionData.span);return r.initializeAccount3InstructionData.encode({instruction:we.TokenInstruction.InitializeAccount3,owner:s},Ae),new k.TransactionInstruction({keys:I,programId:a,data:Ae})},r.decodeInitializeAccount3Instruction=function decodeInitializeAccount3Instruction(e,n=w.TOKEN_PROGRAM_ID){if(!e.programId.equals(n))throw new I.TokenInvalidInstructionProgramError;if(e.data.length!==r.initializeAccount3InstructionData.span)throw new I.TokenInvalidInstructionDataError;const{keys:{account:i,mint:s},data:a}=decodeInitializeAccount3InstructionUnchecked(e);if(a.instruction!==we.TokenInstruction.InitializeAccount3)throw new I.TokenInvalidInstructionTypeError;if(!i||!s)throw new I.TokenInvalidInstructionKeysError;return{programId:n,keys:{account:i,mint:s},data:a}},r.decodeInitializeAccount3InstructionUnchecked=decodeInitializeAccount3InstructionUnchecked},450479:(e,r,n)=>{"use strict";var i=n(901048).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.decodeInitializeImmutableOwnerInstructionUnchecked=r.decodeInitializeImmutableOwnerInstruction=r.createInitializeImmutableOwnerInstruction=r.initializeImmutableOwnerInstructionData=void 0;const s=n(878918),a=n(228598),k=n(718385),w=n(829105);function decodeInitializeImmutableOwnerInstructionUnchecked({programId:e,keys:[n],data:i}){const{instruction:s}=r.initializeImmutableOwnerInstructionData.decode(i);return{programId:e,keys:{account:n},data:{instruction:s}}}r.initializeImmutableOwnerInstructionData=(0,s.struct)([(0,s.u8)("instruction")]),r.createInitializeImmutableOwnerInstruction=function createInitializeImmutableOwnerInstruction(e,n){const s=[{pubkey:e,isSigner:!1,isWritable:!0}],k=i.alloc(r.initializeImmutableOwnerInstructionData.span);return r.initializeImmutableOwnerInstructionData.encode({instruction:w.TokenInstruction.InitializeImmutableOwner},k),new a.TransactionInstruction({keys:s,programId:n,data:k})},r.decodeInitializeImmutableOwnerInstruction=function decodeInitializeImmutableOwnerInstruction(e,n){if(!e.programId.equals(n))throw new k.TokenInvalidInstructionProgramError;if(e.data.length!==r.initializeImmutableOwnerInstructionData.span)throw new k.TokenInvalidInstructionDataError;const{keys:{account:i},data:s}=decodeInitializeImmutableOwnerInstructionUnchecked(e);if(s.instruction!==w.TokenInstruction.InitializeImmutableOwner)throw new k.TokenInvalidInstructionTypeError;if(!i)throw new k.TokenInvalidInstructionKeysError;return{programId:n,keys:{account:i},data:s}},r.decodeInitializeImmutableOwnerInstructionUnchecked=decodeInitializeImmutableOwnerInstructionUnchecked},706132:(e,r,n)=>{"use strict";var i=n(901048).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.decodeInitializeMintInstructionUnchecked=r.decodeInitializeMintInstruction=r.createInitializeMintInstruction=r.initializeMintInstructionData=void 0;const s=n(878918),a=n(432510),k=n(228598),w=n(359157),I=n(718385),we=n(829105);function decodeInitializeMintInstructionUnchecked({programId:e,keys:[n,i],data:s}){const{instruction:a,decimals:k,mintAuthority:w,freezeAuthorityOption:I,freezeAuthority:we}=r.initializeMintInstructionData.decode(s);return{programId:e,keys:{mint:n,rent:i},data:{instruction:a,decimals:k,mintAuthority:w,freezeAuthority:I?we:null}}}r.initializeMintInstructionData=(0,s.struct)([(0,s.u8)("instruction"),(0,s.u8)("decimals"),(0,a.publicKey)("mintAuthority"),(0,s.u8)("freezeAuthorityOption"),(0,a.publicKey)("freezeAuthority")]),r.createInitializeMintInstruction=function createInitializeMintInstruction(e,n,s,a,I=w.TOKEN_PROGRAM_ID){const Ae=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:k.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],Be=i.alloc(r.initializeMintInstructionData.span);return r.initializeMintInstructionData.encode({instruction:we.TokenInstruction.InitializeMint,decimals:n,mintAuthority:s,freezeAuthorityOption:a?1:0,freezeAuthority:a||new k.PublicKey(0)},Be),new k.TransactionInstruction({keys:Ae,programId:I,data:Be})},r.decodeInitializeMintInstruction=function decodeInitializeMintInstruction(e,n=w.TOKEN_PROGRAM_ID){if(!e.programId.equals(n))throw new I.TokenInvalidInstructionProgramError;if(e.data.length!==r.initializeMintInstructionData.span)throw new I.TokenInvalidInstructionDataError;const{keys:{mint:i,rent:s},data:a}=decodeInitializeMintInstructionUnchecked(e);if(a.instruction!==we.TokenInstruction.InitializeMint)throw new I.TokenInvalidInstructionTypeError;if(!i||!s)throw new I.TokenInvalidInstructionKeysError;return{programId:n,keys:{mint:i,rent:s},data:a}},r.decodeInitializeMintInstructionUnchecked=decodeInitializeMintInstructionUnchecked},668916:(e,r,n)=>{"use strict";var i=n(901048).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.decodeInitializeMint2InstructionUnchecked=r.decodeInitializeMint2Instruction=r.createInitializeMint2Instruction=r.initializeMint2InstructionData=void 0;const s=n(878918),a=n(432510),k=n(228598),w=n(359157),I=n(718385),we=n(829105);function decodeInitializeMint2InstructionUnchecked({programId:e,keys:[n],data:i}){const{instruction:s,decimals:a,mintAuthority:k,freezeAuthorityOption:w,freezeAuthority:I}=r.initializeMint2InstructionData.decode(i);return{programId:e,keys:{mint:n},data:{instruction:s,decimals:a,mintAuthority:k,freezeAuthority:w?I:null}}}r.initializeMint2InstructionData=(0,s.struct)([(0,s.u8)("instruction"),(0,s.u8)("decimals"),(0,a.publicKey)("mintAuthority"),(0,s.u8)("freezeAuthorityOption"),(0,a.publicKey)("freezeAuthority")]),r.createInitializeMint2Instruction=function createInitializeMint2Instruction(e,n,s,a,I=w.TOKEN_PROGRAM_ID){const Ae=[{pubkey:e,isSigner:!1,isWritable:!0}],Be=i.alloc(r.initializeMint2InstructionData.span);return r.initializeMint2InstructionData.encode({instruction:we.TokenInstruction.InitializeMint2,decimals:n,mintAuthority:s,freezeAuthorityOption:a?1:0,freezeAuthority:a||new k.PublicKey(0)},Be),new k.TransactionInstruction({keys:Ae,programId:I,data:Be})},r.decodeInitializeMint2Instruction=function decodeInitializeMint2Instruction(e,n=w.TOKEN_PROGRAM_ID){if(!e.programId.equals(n))throw new I.TokenInvalidInstructionProgramError;if(e.data.length!==r.initializeMint2InstructionData.span)throw new I.TokenInvalidInstructionDataError;const{keys:{mint:i},data:s}=decodeInitializeMint2InstructionUnchecked(e);if(s.instruction!==we.TokenInstruction.InitializeMint2)throw new I.TokenInvalidInstructionTypeError;if(!i)throw new I.TokenInvalidInstructionKeysError;return{programId:n,keys:{mint:i},data:s}},r.decodeInitializeMint2InstructionUnchecked=decodeInitializeMint2InstructionUnchecked},908961:(e,r,n)=>{"use strict";var i=n(901048).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.decodeInitializeMintCloseAuthorityInstructionUnchecked=r.decodeInitializeMintCloseAuthorityInstruction=r.createInitializeMintCloseAuthorityInstruction=r.initializeMintCloseAuthorityInstructionData=void 0;const s=n(878918),a=n(432510),k=n(228598),w=n(359157),I=n(718385),we=n(829105);function decodeInitializeMintCloseAuthorityInstructionUnchecked({programId:e,keys:[n],data:i}){const{instruction:s,closeAuthorityOption:a,closeAuthority:k}=r.initializeMintCloseAuthorityInstructionData.decode(i);return{programId:e,keys:{mint:n},data:{instruction:s,closeAuthority:a?k:null}}}r.initializeMintCloseAuthorityInstructionData=(0,s.struct)([(0,s.u8)("instruction"),(0,s.u8)("closeAuthorityOption"),(0,a.publicKey)("closeAuthority")]),r.createInitializeMintCloseAuthorityInstruction=function createInitializeMintCloseAuthorityInstruction(e,n,s){if(!(0,w.programSupportsExtensions)(s))throw new I.TokenUnsupportedInstructionError;const a=[{pubkey:e,isSigner:!1,isWritable:!0}],Ae=i.alloc(r.initializeMintCloseAuthorityInstructionData.span);return r.initializeMintCloseAuthorityInstructionData.encode({instruction:we.TokenInstruction.InitializeMintCloseAuthority,closeAuthorityOption:n?1:0,closeAuthority:n||new k.PublicKey(0)},Ae),new k.TransactionInstruction({keys:a,programId:s,data:Ae})},r.decodeInitializeMintCloseAuthorityInstruction=function decodeInitializeMintCloseAuthorityInstruction(e,n){if(!e.programId.equals(n))throw new I.TokenInvalidInstructionProgramError;if(e.data.length!==r.initializeMintCloseAuthorityInstructionData.span)throw new I.TokenInvalidInstructionDataError;const{keys:{mint:i},data:s}=decodeInitializeMintCloseAuthorityInstructionUnchecked(e);if(s.instruction!==we.TokenInstruction.InitializeMintCloseAuthority)throw new I.TokenInvalidInstructionTypeError;if(!i)throw new I.TokenInvalidInstructionKeysError;return{programId:n,keys:{mint:i},data:s}},r.decodeInitializeMintCloseAuthorityInstructionUnchecked=decodeInitializeMintCloseAuthorityInstructionUnchecked},402830:(e,r,n)=>{"use strict";var i=n(901048).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.decodeInitializeMultisigInstructionUnchecked=r.decodeInitializeMultisigInstruction=r.createInitializeMultisigInstruction=r.initializeMultisigInstructionData=void 0;const s=n(878918),a=n(228598),k=n(359157),w=n(718385),I=n(829105);function decodeInitializeMultisigInstructionUnchecked({programId:e,keys:[n,i,...s],data:a}){return{programId:e,keys:{account:n,rent:i,signers:s},data:r.initializeMultisigInstructionData.decode(a)}}r.initializeMultisigInstructionData=(0,s.struct)([(0,s.u8)("instruction"),(0,s.u8)("m")]),r.createInitializeMultisigInstruction=function createInitializeMultisigInstruction(e,n,s,w=k.TOKEN_PROGRAM_ID){const we=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:a.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];for(const e of n)we.push({pubkey:e instanceof a.PublicKey?e:e.publicKey,isSigner:!1,isWritable:!1});const Ae=i.alloc(r.initializeMultisigInstructionData.span);return r.initializeMultisigInstructionData.encode({instruction:I.TokenInstruction.InitializeMultisig,m:s},Ae),new a.TransactionInstruction({keys:we,programId:w,data:Ae})},r.decodeInitializeMultisigInstruction=function decodeInitializeMultisigInstruction(e,n=k.TOKEN_PROGRAM_ID){if(!e.programId.equals(n))throw new w.TokenInvalidInstructionProgramError;if(e.data.length!==r.initializeMultisigInstructionData.span)throw new w.TokenInvalidInstructionDataError;const{keys:{account:i,rent:s,signers:a},data:we}=decodeInitializeMultisigInstructionUnchecked(e);if(we.instruction!==I.TokenInstruction.InitializeMultisig)throw new w.TokenInvalidInstructionTypeError;if(!i||!s||!a.length)throw new w.TokenInvalidInstructionKeysError;return{programId:n,keys:{account:i,rent:s,signers:a},data:we}},r.decodeInitializeMultisigInstructionUnchecked=decodeInitializeMultisigInstructionUnchecked},983398:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},430114:(e,r,n)=>{"use strict";var i=n(901048).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.createInitializeNonTransferableMintInstruction=r.initializeNonTransferableMintInstructionData=void 0;const s=n(878918),a=n(228598),k=n(359157),w=n(718385),I=n(829105);r.initializeNonTransferableMintInstructionData=(0,s.struct)([(0,s.u8)("instruction")]),r.createInitializeNonTransferableMintInstruction=function createInitializeNonTransferableMintInstruction(e,n){if(!(0,k.programSupportsExtensions)(n))throw new w.TokenUnsupportedInstructionError;const s=[{pubkey:e,isSigner:!1,isWritable:!0}],we=i.alloc(r.initializeNonTransferableMintInstructionData.span);return r.initializeNonTransferableMintInstructionData.encode({instruction:I.TokenInstruction.InitializeNonTransferableMint},we),new a.TransactionInstruction({keys:s,programId:n,data:we})}},744031:(e,r,n)=>{"use strict";var i=n(901048).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.decodeInitializePermanentDelegateInstructionUnchecked=r.decodeInitializePermanentDelegateInstruction=r.createInitializePermanentDelegateInstruction=r.initializePermanentDelegateInstructionData=void 0;const s=n(878918),a=n(432510),k=n(228598),w=n(228598),I=n(359157),we=n(718385),Ae=n(829105);function decodeInitializePermanentDelegateInstructionUnchecked({programId:e,keys:[n],data:i}){const{instruction:s,delegate:a}=r.initializePermanentDelegateInstructionData.decode(i);return{programId:e,keys:{mint:n},data:{instruction:s,delegate:a}}}r.initializePermanentDelegateInstructionData=(0,s.struct)([(0,s.u8)("instruction"),(0,a.publicKey)("delegate")]),r.createInitializePermanentDelegateInstruction=function createInitializePermanentDelegateInstruction(e,n,s){if(!(0,I.programSupportsExtensions)(s))throw new we.TokenUnsupportedInstructionError;const a=[{pubkey:e,isSigner:!1,isWritable:!0}],Be=i.alloc(r.initializePermanentDelegateInstructionData.span);return r.initializePermanentDelegateInstructionData.encode({instruction:Ae.TokenInstruction.InitializePermanentDelegate,delegate:n||new k.PublicKey(0)},Be),new w.TransactionInstruction({keys:a,programId:s,data:Be})},r.decodeInitializePermanentDelegateInstruction=function decodeInitializePermanentDelegateInstruction(e,n){if(!e.programId.equals(n))throw new we.TokenInvalidInstructionProgramError;if(e.data.length!==r.initializePermanentDelegateInstructionData.span)throw new we.TokenInvalidInstructionDataError;const{keys:{mint:i},data:s}=decodeInitializePermanentDelegateInstructionUnchecked(e);if(s.instruction!==Ae.TokenInstruction.InitializePermanentDelegate)throw new we.TokenInvalidInstructionTypeError;if(!i)throw new we.TokenInvalidInstructionKeysError;return{programId:n,keys:{mint:i},data:s}},r.decodeInitializePermanentDelegateInstructionUnchecked=decodeInitializePermanentDelegateInstructionUnchecked},508003:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.addSigners=void 0;const i=n(228598);r.addSigners=function addSigners(e,r,n){if(n.length){e.push({pubkey:r,isSigner:!1,isWritable:!1});for(const r of n)e.push({pubkey:r instanceof i.PublicKey?r:r.publicKey,isSigner:!0,isWritable:!1})}else e.push({pubkey:r,isSigner:!0,isWritable:!1});return e}},88235:(e,r,n)=>{"use strict";var i=n(901048).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.decodeMintToInstructionUnchecked=r.decodeMintToInstruction=r.createMintToInstruction=r.mintToInstructionData=void 0;const s=n(878918),a=n(432510),k=n(228598),w=n(359157),I=n(718385),we=n(508003),Ae=n(829105);function decodeMintToInstructionUnchecked({programId:e,keys:[n,i,s,...a],data:k}){return{programId:e,keys:{mint:n,destination:i,authority:s,multiSigners:a},data:r.mintToInstructionData.decode(k)}}r.mintToInstructionData=(0,s.struct)([(0,s.u8)("instruction"),(0,a.u64)("amount")]),r.createMintToInstruction=function createMintToInstruction(e,n,s,a,I=[],Be=w.TOKEN_PROGRAM_ID){const Ce=(0,we.addSigners)([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0}],s,I),ze=i.alloc(r.mintToInstructionData.span);return r.mintToInstructionData.encode({instruction:Ae.TokenInstruction.MintTo,amount:BigInt(a)},ze),new k.TransactionInstruction({keys:Ce,programId:Be,data:ze})},r.decodeMintToInstruction=function decodeMintToInstruction(e,n=w.TOKEN_PROGRAM_ID){if(!e.programId.equals(n))throw new I.TokenInvalidInstructionProgramError;if(e.data.length!==r.mintToInstructionData.span)throw new I.TokenInvalidInstructionDataError;const{keys:{mint:i,destination:s,authority:a,multiSigners:k},data:we}=decodeMintToInstructionUnchecked(e);if(we.instruction!==Ae.TokenInstruction.MintTo)throw new I.TokenInvalidInstructionTypeError;if(!i||!s||!a)throw new I.TokenInvalidInstructionKeysError;return{programId:n,keys:{mint:i,destination:s,authority:a,multiSigners:k},data:we}},r.decodeMintToInstructionUnchecked=decodeMintToInstructionUnchecked},788558:(e,r,n)=>{"use strict";var i=n(901048).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.decodeMintToCheckedInstructionUnchecked=r.decodeMintToCheckedInstruction=r.createMintToCheckedInstruction=r.mintToCheckedInstructionData=void 0;const s=n(878918),a=n(432510),k=n(228598),w=n(359157),I=n(718385),we=n(508003),Ae=n(829105);function decodeMintToCheckedInstructionUnchecked({programId:e,keys:[n,i,s,...a],data:k}){return{programId:e,keys:{mint:n,destination:i,authority:s,multiSigners:a},data:r.mintToCheckedInstructionData.decode(k)}}r.mintToCheckedInstructionData=(0,s.struct)([(0,s.u8)("instruction"),(0,a.u64)("amount"),(0,s.u8)("decimals")]),r.createMintToCheckedInstruction=function createMintToCheckedInstruction(e,n,s,a,I,Be=[],Ce=w.TOKEN_PROGRAM_ID){const ze=(0,we.addSigners)([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0}],s,Be),qe=i.alloc(r.mintToCheckedInstructionData.span);return r.mintToCheckedInstructionData.encode({instruction:Ae.TokenInstruction.MintToChecked,amount:BigInt(a),decimals:I},qe),new k.TransactionInstruction({keys:ze,programId:Ce,data:qe})},r.decodeMintToCheckedInstruction=function decodeMintToCheckedInstruction(e,n=w.TOKEN_PROGRAM_ID){if(!e.programId.equals(n))throw new I.TokenInvalidInstructionProgramError;if(e.data.length!==r.mintToCheckedInstructionData.span)throw new I.TokenInvalidInstructionDataError;const{keys:{mint:i,destination:s,authority:a,multiSigners:k},data:we}=decodeMintToCheckedInstructionUnchecked(e);if(we.instruction!==Ae.TokenInstruction.MintToChecked)throw new I.TokenInvalidInstructionTypeError;if(!i||!s||!a)throw new I.TokenInvalidInstructionKeysError;return{programId:n,keys:{mint:i,destination:s,authority:a,multiSigners:k},data:we}},r.decodeMintToCheckedInstructionUnchecked=decodeMintToCheckedInstructionUnchecked},274648:(e,r,n)=>{"use strict";var i=n(901048).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.createReallocateInstruction=void 0;const s=n(878918),a=n(228598),k=n(359157),w=n(718385),I=n(508003),we=n(829105);r.createReallocateInstruction=function createReallocateInstruction(e,r,n,Ae,Be=[],Ce=k.TOKEN_2022_PROGRAM_ID){if(!(0,k.programSupportsExtensions)(Ce))throw new w.TokenUnsupportedInstructionError;const ze=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!0},{pubkey:a.SystemProgram.programId,isSigner:!1,isWritable:!1}],qe=(0,I.addSigners)(ze,Ae,Be),$e=(0,s.struct)([(0,s.u8)("instruction"),(0,s.seq)((0,s.u16)(),n.length,"extensionTypes")]),Ye=i.alloc($e.span);return $e.encode({instruction:we.TokenInstruction.Reallocate,extensionTypes:n},Ye),new a.TransactionInstruction({keys:qe,programId:Ce,data:Ye})}},395580:(e,r,n)=>{"use strict";var i=n(901048).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.decodeRevokeInstructionUnchecked=r.decodeRevokeInstruction=r.createRevokeInstruction=r.revokeInstructionData=void 0;const s=n(878918),a=n(228598),k=n(359157),w=n(718385),I=n(508003),we=n(829105);function decodeRevokeInstructionUnchecked({programId:e,keys:[n,i,...s],data:a}){return{programId:e,keys:{account:n,owner:i,multiSigners:s},data:r.revokeInstructionData.decode(a)}}r.revokeInstructionData=(0,s.struct)([(0,s.u8)("instruction")]),r.createRevokeInstruction=function createRevokeInstruction(e,n,s=[],w=k.TOKEN_PROGRAM_ID){const Ae=(0,I.addSigners)([{pubkey:e,isSigner:!1,isWritable:!0}],n,s),Be=i.alloc(r.revokeInstructionData.span);return r.revokeInstructionData.encode({instruction:we.TokenInstruction.Revoke},Be),new a.TransactionInstruction({keys:Ae,programId:w,data:Be})},r.decodeRevokeInstruction=function decodeRevokeInstruction(e,n=k.TOKEN_PROGRAM_ID){if(!e.programId.equals(n))throw new w.TokenInvalidInstructionProgramError;if(e.data.length!==r.revokeInstructionData.span)throw new w.TokenInvalidInstructionDataError;const{keys:{account:i,owner:s,multiSigners:a},data:I}=decodeRevokeInstructionUnchecked(e);if(I.instruction!==we.TokenInstruction.Revoke)throw new w.TokenInvalidInstructionTypeError;if(!i||!s)throw new w.TokenInvalidInstructionKeysError;return{programId:n,keys:{account:i,owner:s,multiSigners:a},data:I}},r.decodeRevokeInstructionUnchecked=decodeRevokeInstructionUnchecked},699419:(e,r,n)=>{"use strict";var i=n(901048).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.decodeSetAuthorityInstructionUnchecked=r.decodeSetAuthorityInstruction=r.createSetAuthorityInstruction=r.setAuthorityInstructionData=r.AuthorityType=void 0;const s=n(878918),a=n(432510),k=n(228598),w=n(359157),I=n(718385),we=n(508003),Ae=n(829105);var Be;function decodeSetAuthorityInstructionUnchecked({programId:e,keys:[n,i,...s],data:a}){const{instruction:k,authorityType:w,newAuthorityOption:I,newAuthority:we}=r.setAuthorityInstructionData.decode(a);return{programId:e,keys:{account:n,currentAuthority:i,multiSigners:s},data:{instruction:k,authorityType:w,newAuthority:I?we:null}}}!function(e){e[e.MintTokens=0]="MintTokens",e[e.FreezeAccount=1]="FreezeAccount",e[e.AccountOwner=2]="AccountOwner",e[e.CloseAccount=3]="CloseAccount",e[e.TransferFeeConfig=4]="TransferFeeConfig",e[e.WithheldWithdraw=5]="WithheldWithdraw",e[e.CloseMint=6]="CloseMint",e[e.InterestRate=7]="InterestRate",e[e.PermanentDelegate=8]="PermanentDelegate",e[e.ConfidentialTransferMint=9]="ConfidentialTransferMint",e[e.TransferHookProgramId=10]="TransferHookProgramId",e[e.ConfidentialTransferFeeConfig=11]="ConfidentialTransferFeeConfig",e[e.MetadataPointer=12]="MetadataPointer"}(Be||(r.AuthorityType=Be={})),r.setAuthorityInstructionData=(0,s.struct)([(0,s.u8)("instruction"),(0,s.u8)("authorityType"),(0,s.u8)("newAuthorityOption"),(0,a.publicKey)("newAuthority")]),r.createSetAuthorityInstruction=function createSetAuthorityInstruction(e,n,s,a,I=[],Be=w.TOKEN_PROGRAM_ID){const Ce=(0,we.addSigners)([{pubkey:e,isSigner:!1,isWritable:!0}],n,I),ze=i.alloc(r.setAuthorityInstructionData.span);return r.setAuthorityInstructionData.encode({instruction:Ae.TokenInstruction.SetAuthority,authorityType:s,newAuthorityOption:a?1:0,newAuthority:a||new k.PublicKey(0)},ze),new k.TransactionInstruction({keys:Ce,programId:Be,data:ze})},r.decodeSetAuthorityInstruction=function decodeSetAuthorityInstruction(e,n=w.TOKEN_PROGRAM_ID){if(!e.programId.equals(n))throw new I.TokenInvalidInstructionProgramError;if(e.data.length!==r.setAuthorityInstructionData.span)throw new I.TokenInvalidInstructionDataError;const{keys:{account:i,currentAuthority:s,multiSigners:a},data:k}=decodeSetAuthorityInstructionUnchecked(e);if(k.instruction!==Ae.TokenInstruction.SetAuthority)throw new I.TokenInvalidInstructionTypeError;if(!i||!s)throw new I.TokenInvalidInstructionKeysError;return{programId:n,keys:{account:i,currentAuthority:s,multiSigners:a},data:k}},r.decodeSetAuthorityInstructionUnchecked=decodeSetAuthorityInstructionUnchecked},371322:(e,r,n)=>{"use strict";var i=n(901048).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.decodeSyncNativeInstructionUnchecked=r.decodeSyncNativeInstruction=r.createSyncNativeInstruction=r.syncNativeInstructionData=void 0;const s=n(878918),a=n(228598),k=n(359157),w=n(718385),I=n(829105);function decodeSyncNativeInstructionUnchecked({programId:e,keys:[n],data:i}){return{programId:e,keys:{account:n},data:r.syncNativeInstructionData.decode(i)}}r.syncNativeInstructionData=(0,s.struct)([(0,s.u8)("instruction")]),r.createSyncNativeInstruction=function createSyncNativeInstruction(e,n=k.TOKEN_PROGRAM_ID){const s=[{pubkey:e,isSigner:!1,isWritable:!0}],w=i.alloc(r.syncNativeInstructionData.span);return r.syncNativeInstructionData.encode({instruction:I.TokenInstruction.SyncNative},w),new a.TransactionInstruction({keys:s,programId:n,data:w})},r.decodeSyncNativeInstruction=function decodeSyncNativeInstruction(e,n=k.TOKEN_PROGRAM_ID){if(!e.programId.equals(n))throw new w.TokenInvalidInstructionProgramError;if(e.data.length!==r.syncNativeInstructionData.span)throw new w.TokenInvalidInstructionDataError;const{keys:{account:i},data:s}=decodeSyncNativeInstructionUnchecked(e);if(s.instruction!==I.TokenInstruction.SyncNative)throw new w.TokenInvalidInstructionTypeError;if(!i)throw new w.TokenInvalidInstructionKeysError;return{programId:n,keys:{account:i},data:s}},r.decodeSyncNativeInstructionUnchecked=decodeSyncNativeInstructionUnchecked},729975:(e,r,n)=>{"use strict";var i=n(901048).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.decodeThawAccountInstructionUnchecked=r.decodeThawAccountInstruction=r.createThawAccountInstruction=r.thawAccountInstructionData=void 0;const s=n(878918),a=n(228598),k=n(359157),w=n(718385),I=n(508003),we=n(829105);function decodeThawAccountInstructionUnchecked({programId:e,keys:[n,i,s,...a],data:k}){return{programId:e,keys:{account:n,mint:i,authority:s,multiSigners:a},data:r.thawAccountInstructionData.decode(k)}}r.thawAccountInstructionData=(0,s.struct)([(0,s.u8)("instruction")]),r.createThawAccountInstruction=function createThawAccountInstruction(e,n,s,w=[],Ae=k.TOKEN_PROGRAM_ID){const Be=(0,I.addSigners)([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1}],s,w),Ce=i.alloc(r.thawAccountInstructionData.span);return r.thawAccountInstructionData.encode({instruction:we.TokenInstruction.ThawAccount},Ce),new a.TransactionInstruction({keys:Be,programId:Ae,data:Ce})},r.decodeThawAccountInstruction=function decodeThawAccountInstruction(e,n=k.TOKEN_PROGRAM_ID){if(!e.programId.equals(n))throw new w.TokenInvalidInstructionProgramError;if(e.data.length!==r.thawAccountInstructionData.span)throw new w.TokenInvalidInstructionDataError;const{keys:{account:i,mint:s,authority:a,multiSigners:I},data:Ae}=decodeThawAccountInstructionUnchecked(e);if(Ae.instruction!==we.TokenInstruction.ThawAccount)throw new w.TokenInvalidInstructionTypeError;if(!i||!s||!a)throw new w.TokenInvalidInstructionKeysError;return{programId:n,keys:{account:i,mint:s,authority:a,multiSigners:I},data:Ae}},r.decodeThawAccountInstructionUnchecked=decodeThawAccountInstructionUnchecked},585781:(e,r,n)=>{"use strict";var i=n(901048).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.decodeTransferInstructionUnchecked=r.decodeTransferInstruction=r.createTransferInstruction=r.transferInstructionData=void 0;const s=n(878918),a=n(432510),k=n(228598),w=n(359157),I=n(718385),we=n(508003),Ae=n(829105);function decodeTransferInstructionUnchecked({programId:e,keys:[n,i,s,...a],data:k}){return{programId:e,keys:{source:n,destination:i,owner:s,multiSigners:a},data:r.transferInstructionData.decode(k)}}r.transferInstructionData=(0,s.struct)([(0,s.u8)("instruction"),(0,a.u64)("amount")]),r.createTransferInstruction=function createTransferInstruction(e,n,s,a,I=[],Be=w.TOKEN_PROGRAM_ID){const Ce=(0,we.addSigners)([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0}],s,I),ze=i.alloc(r.transferInstructionData.span);return r.transferInstructionData.encode({instruction:Ae.TokenInstruction.Transfer,amount:BigInt(a)},ze),new k.TransactionInstruction({keys:Ce,programId:Be,data:ze})},r.decodeTransferInstruction=function decodeTransferInstruction(e,n=w.TOKEN_PROGRAM_ID){if(!e.programId.equals(n))throw new I.TokenInvalidInstructionProgramError;if(e.data.length!==r.transferInstructionData.span)throw new I.TokenInvalidInstructionDataError;const{keys:{source:i,destination:s,owner:a,multiSigners:k},data:we}=decodeTransferInstructionUnchecked(e);if(we.instruction!==Ae.TokenInstruction.Transfer)throw new I.TokenInvalidInstructionTypeError;if(!i||!s||!a)throw new I.TokenInvalidInstructionKeysError;return{programId:n,keys:{source:i,destination:s,owner:a,multiSigners:k},data:we}},r.decodeTransferInstructionUnchecked=decodeTransferInstructionUnchecked},256056:(e,r,n)=>{"use strict";var i=n(901048).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.decodeTransferCheckedInstructionUnchecked=r.decodeTransferCheckedInstruction=r.createTransferCheckedInstruction=r.transferCheckedInstructionData=void 0;const s=n(878918),a=n(432510),k=n(228598),w=n(359157),I=n(718385),we=n(508003),Ae=n(829105);function decodeTransferCheckedInstructionUnchecked({programId:e,keys:[n,i,s,a,...k],data:w}){return{programId:e,keys:{source:n,mint:i,destination:s,owner:a,multiSigners:k},data:r.transferCheckedInstructionData.decode(w)}}r.transferCheckedInstructionData=(0,s.struct)([(0,s.u8)("instruction"),(0,a.u64)("amount"),(0,s.u8)("decimals")]),r.createTransferCheckedInstruction=function createTransferCheckedInstruction(e,n,s,a,I,Be,Ce=[],ze=w.TOKEN_PROGRAM_ID){const qe=(0,we.addSigners)([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!0}],a,Ce),$e=i.alloc(r.transferCheckedInstructionData.span);return r.transferCheckedInstructionData.encode({instruction:Ae.TokenInstruction.TransferChecked,amount:BigInt(I),decimals:Be},$e),new k.TransactionInstruction({keys:qe,programId:ze,data:$e})},r.decodeTransferCheckedInstruction=function decodeTransferCheckedInstruction(e,n=w.TOKEN_PROGRAM_ID){if(!e.programId.equals(n))throw new I.TokenInvalidInstructionProgramError;if(e.data.length!==r.transferCheckedInstructionData.span)throw new I.TokenInvalidInstructionDataError;const{keys:{source:i,mint:s,destination:a,owner:k,multiSigners:we},data:Be}=decodeTransferCheckedInstructionUnchecked(e);if(Be.instruction!==Ae.TokenInstruction.TransferChecked)throw new I.TokenInvalidInstructionTypeError;if(!(i&&s&&a&&k))throw new I.TokenInvalidInstructionKeysError;return{programId:n,keys:{source:i,mint:s,destination:a,owner:k,multiSigners:we},data:Be}},r.decodeTransferCheckedInstructionUnchecked=decodeTransferCheckedInstructionUnchecked},829105:(e,r)=>{"use strict";var n;Object.defineProperty(r,"__esModule",{value:!0}),r.TokenInstruction=void 0,function(e){e[e.InitializeMint=0]="InitializeMint",e[e.InitializeAccount=1]="InitializeAccount",e[e.InitializeMultisig=2]="InitializeMultisig",e[e.Transfer=3]="Transfer",e[e.Approve=4]="Approve",e[e.Revoke=5]="Revoke",e[e.SetAuthority=6]="SetAuthority",e[e.MintTo=7]="MintTo",e[e.Burn=8]="Burn",e[e.CloseAccount=9]="CloseAccount",e[e.FreezeAccount=10]="FreezeAccount",e[e.ThawAccount=11]="ThawAccount",e[e.TransferChecked=12]="TransferChecked",e[e.ApproveChecked=13]="ApproveChecked",e[e.MintToChecked=14]="MintToChecked",e[e.BurnChecked=15]="BurnChecked",e[e.InitializeAccount2=16]="InitializeAccount2",e[e.SyncNative=17]="SyncNative",e[e.InitializeAccount3=18]="InitializeAccount3",e[e.InitializeMultisig2=19]="InitializeMultisig2",e[e.InitializeMint2=20]="InitializeMint2",e[e.GetAccountDataSize=21]="GetAccountDataSize",e[e.InitializeImmutableOwner=22]="InitializeImmutableOwner",e[e.AmountToUiAmount=23]="AmountToUiAmount",e[e.UiAmountToAmount=24]="UiAmountToAmount",e[e.InitializeMintCloseAuthority=25]="InitializeMintCloseAuthority",e[e.TransferFeeExtension=26]="TransferFeeExtension",e[e.ConfidentialTransferExtension=27]="ConfidentialTransferExtension",e[e.DefaultAccountStateExtension=28]="DefaultAccountStateExtension",e[e.Reallocate=29]="Reallocate",e[e.MemoTransferExtension=30]="MemoTransferExtension",e[e.CreateNativeMint=31]="CreateNativeMint",e[e.InitializeNonTransferableMint=32]="InitializeNonTransferableMint",e[e.InterestBearingMintExtension=33]="InterestBearingMintExtension",e[e.CpiGuardExtension=34]="CpiGuardExtension",e[e.InitializePermanentDelegate=35]="InitializePermanentDelegate",e[e.TransferHookExtension=36]="TransferHookExtension",e[e.MetadataPointerExtension=39]="MetadataPointerExtension"}(n||(r.TokenInstruction=n={}))},685829:(e,r,n)=>{"use strict";var i=n(901048).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.decodeUiAmountToAmountInstructionUnchecked=r.decodeUiAmountToAmountInstruction=r.createUiAmountToAmountInstruction=void 0;const s=n(878918),a=n(228598),k=n(359157),w=n(718385),I=n(829105);function decodeUiAmountToAmountInstructionUnchecked({programId:e,keys:[r],data:n}){return{programId:e,keys:{mint:r},data:(0,s.struct)([(0,s.u8)("instruction"),(0,s.blob)(n.length-1,"amount")]).decode(n)}}r.createUiAmountToAmountInstruction=function createUiAmountToAmountInstruction(e,r,n=k.TOKEN_PROGRAM_ID){const w=[{pubkey:e,isSigner:!1,isWritable:!1}],we=i.from(r,"utf8"),Ae=(0,s.struct)([(0,s.u8)("instruction"),(0,s.blob)(we.length,"amount")]),Be=i.alloc(Ae.span);return Ae.encode({instruction:I.TokenInstruction.UiAmountToAmount,amount:we},Be),new a.TransactionInstruction({keys:w,programId:n,data:Be})},r.decodeUiAmountToAmountInstruction=function decodeUiAmountToAmountInstruction(e,r=k.TOKEN_PROGRAM_ID){if(!e.programId.equals(r))throw new w.TokenInvalidInstructionProgramError;const n=(0,s.struct)([(0,s.u8)("instruction"),(0,s.blob)(e.data.length-1,"amount")]);if(e.data.length!==n.span)throw new w.TokenInvalidInstructionDataError;const{keys:{mint:i},data:a}=decodeUiAmountToAmountInstructionUnchecked(e);if(a.instruction!==I.TokenInstruction.UiAmountToAmount)throw new w.TokenInvalidInstructionTypeError;if(!i)throw new w.TokenInvalidInstructionKeysError;return{programId:r,keys:{mint:i},data:a}},r.decodeUiAmountToAmountInstructionUnchecked=decodeUiAmountToAmountInstructionUnchecked},393457:function(e,r,n){"use strict";var i=n(901048).Buffer,s=this&&this.__awaiter||function(e,r,n,i){return new(n||(n=Promise))((function(s,a){function fulfilled(e){try{step(i.next(e))}catch(e){a(e)}}function rejected(e){try{step(i.throw(e))}catch(e){a(e)}}function step(e){e.done?s(e.value):function adopt(e){return e instanceof n?e:new n((function(r){r(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.unpackAccount=r.getMinimumBalanceForRentExemptAccountWithExtensions=r.getMinimumBalanceForRentExemptAccount=r.getMultipleAccounts=r.getAccount=r.ACCOUNT_SIZE=r.AccountLayout=r.AccountState=void 0;const a=n(878918),k=n(432510),w=n(359157),I=n(718385),we=n(490536),Ae=n(738522),Be=n(799282);var Ce;function getMinimumBalanceForRentExemptAccountWithExtensions(e,r,n){return s(this,void 0,void 0,(function*(){const i=(0,Ae.getAccountLen)(r);return yield e.getMinimumBalanceForRentExemption(i,n)}))}function unpackAccount(e,n,s=w.TOKEN_PROGRAM_ID){if(!n)throw new I.TokenAccountNotFoundError;if(!n.owner.equals(s))throw new I.TokenInvalidAccountOwnerError;if(n.data.length<r.ACCOUNT_SIZE)throw new I.TokenInvalidAccountSizeError;const a=r.AccountLayout.decode(n.data.slice(0,r.ACCOUNT_SIZE));let k=i.alloc(0);if(n.data.length>r.ACCOUNT_SIZE){if(n.data.length===Be.MULTISIG_SIZE)throw new I.TokenInvalidAccountSizeError;if(n.data[r.ACCOUNT_SIZE]!=we.AccountType.Account)throw new I.TokenInvalidAccountError;k=n.data.slice(r.ACCOUNT_SIZE+we.ACCOUNT_TYPE_SIZE)}return{address:e,mint:a.mint,owner:a.owner,amount:a.amount,delegate:a.delegateOption?a.delegate:null,delegatedAmount:a.delegatedAmount,isInitialized:a.state!==Ce.Uninitialized,isFrozen:a.state===Ce.Frozen,isNative:!!a.isNativeOption,rentExemptReserve:a.isNativeOption?a.isNative:null,closeAuthority:a.closeAuthorityOption?a.closeAuthority:null,tlvData:k}}!function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initialized=1]="Initialized",e[e.Frozen=2]="Frozen"}(Ce||(r.AccountState=Ce={})),r.AccountLayout=(0,a.struct)([(0,k.publicKey)("mint"),(0,k.publicKey)("owner"),(0,k.u64)("amount"),(0,a.u32)("delegateOption"),(0,k.publicKey)("delegate"),(0,a.u8)("state"),(0,a.u32)("isNativeOption"),(0,k.u64)("isNative"),(0,k.u64)("delegatedAmount"),(0,a.u32)("closeAuthorityOption"),(0,k.publicKey)("closeAuthority")]),r.ACCOUNT_SIZE=r.AccountLayout.span,r.getAccount=function getAccount(e,r,n,i=w.TOKEN_PROGRAM_ID){return s(this,void 0,void 0,(function*(){const s=yield e.getAccountInfo(r,n);return unpackAccount(r,s,i)}))},r.getMultipleAccounts=function getMultipleAccounts(e,r,n,i=w.TOKEN_PROGRAM_ID){return s(this,void 0,void 0,(function*(){const s=yield e.getMultipleAccountsInfo(r,n);return r.map(((e,r)=>unpackAccount(e,s[r],i)))}))},r.getMinimumBalanceForRentExemptAccount=function getMinimumBalanceForRentExemptAccount(e,r){return s(this,void 0,void 0,(function*(){return yield getMinimumBalanceForRentExemptAccountWithExtensions(e,[],r)}))},r.getMinimumBalanceForRentExemptAccountWithExtensions=getMinimumBalanceForRentExemptAccountWithExtensions,r.unpackAccount=unpackAccount},412378:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__exportStar||function(e,r){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||i(r,e,n)};Object.defineProperty(r,"__esModule",{value:!0}),s(n(393457),r),s(n(754008),r),s(n(799282),r)},754008:function(e,r,n){"use strict";var i=n(901048).Buffer,s=this&&this.__awaiter||function(e,r,n,i){return new(n||(n=Promise))((function(s,a){function fulfilled(e){try{step(i.next(e))}catch(e){a(e)}}function rejected(e){try{step(i.throw(e))}catch(e){a(e)}}function step(e){e.done?s(e.value):function adopt(e){return e instanceof n?e:new n((function(r){r(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.getAssociatedTokenAddressSync=r.getAssociatedTokenAddress=r.getMinimumBalanceForRentExemptMintWithExtensions=r.getMinimumBalanceForRentExemptMint=r.unpackMint=r.getMint=r.MINT_SIZE=r.MintLayout=void 0;const a=n(878918),k=n(432510),w=n(228598),I=n(359157),we=n(718385),Ae=n(490536),Be=n(738522),Ce=n(393457),ze=n(799282);function unpackMint(e,n,s=I.TOKEN_PROGRAM_ID){if(!n)throw new we.TokenAccountNotFoundError;if(!n.owner.equals(s))throw new we.TokenInvalidAccountOwnerError;if(n.data.length<r.MINT_SIZE)throw new we.TokenInvalidAccountSizeError;const a=r.MintLayout.decode(n.data.slice(0,r.MINT_SIZE));let k=i.alloc(0);if(n.data.length>r.MINT_SIZE){if(n.data.length<=Ce.ACCOUNT_SIZE)throw new we.TokenInvalidAccountSizeError;if(n.data.length===ze.MULTISIG_SIZE)throw new we.TokenInvalidAccountSizeError;if(n.data[Ce.ACCOUNT_SIZE]!=Ae.AccountType.Mint)throw new we.TokenInvalidMintError;k=n.data.slice(Ce.ACCOUNT_SIZE+Ae.ACCOUNT_TYPE_SIZE)}return{address:e,mintAuthority:a.mintAuthorityOption?a.mintAuthority:null,supply:a.supply,decimals:a.decimals,isInitialized:a.isInitialized,freezeAuthority:a.freezeAuthorityOption?a.freezeAuthority:null,tlvData:k}}function getMinimumBalanceForRentExemptMintWithExtensions(e,r,n){return s(this,void 0,void 0,(function*(){const i=(0,Be.getMintLen)(r);return yield e.getMinimumBalanceForRentExemption(i,n)}))}r.MintLayout=(0,a.struct)([(0,a.u32)("mintAuthorityOption"),(0,k.publicKey)("mintAuthority"),(0,k.u64)("supply"),(0,a.u8)("decimals"),(0,k.bool)("isInitialized"),(0,a.u32)("freezeAuthorityOption"),(0,k.publicKey)("freezeAuthority")]),r.MINT_SIZE=r.MintLayout.span,r.getMint=function getMint(e,r,n,i=I.TOKEN_PROGRAM_ID){return s(this,void 0,void 0,(function*(){const s=yield e.getAccountInfo(r,n);return unpackMint(r,s,i)}))},r.unpackMint=unpackMint,r.getMinimumBalanceForRentExemptMint=function getMinimumBalanceForRentExemptMint(e,r){return s(this,void 0,void 0,(function*(){return yield getMinimumBalanceForRentExemptMintWithExtensions(e,[],r)}))},r.getMinimumBalanceForRentExemptMintWithExtensions=getMinimumBalanceForRentExemptMintWithExtensions,r.getAssociatedTokenAddress=function getAssociatedTokenAddress(e,r,n=!1,i=I.TOKEN_PROGRAM_ID,a=I.ASSOCIATED_TOKEN_PROGRAM_ID){return s(this,void 0,void 0,(function*(){if(!n&&!w.PublicKey.isOnCurve(r.toBuffer()))throw new we.TokenOwnerOffCurveError;const[s]=yield w.PublicKey.findProgramAddress([r.toBuffer(),i.toBuffer(),e.toBuffer()],a);return s}))},r.getAssociatedTokenAddressSync=function getAssociatedTokenAddressSync(e,r,n=!1,i=I.TOKEN_PROGRAM_ID,s=I.ASSOCIATED_TOKEN_PROGRAM_ID){if(!n&&!w.PublicKey.isOnCurve(r.toBuffer()))throw new we.TokenOwnerOffCurveError;const[a]=w.PublicKey.findProgramAddressSync([r.toBuffer(),i.toBuffer(),e.toBuffer()],s);return a}},799282:function(e,r,n){"use strict";var i=this&&this.__awaiter||function(e,r,n,i){return new(n||(n=Promise))((function(s,a){function fulfilled(e){try{step(i.next(e))}catch(e){a(e)}}function rejected(e){try{step(i.throw(e))}catch(e){a(e)}}function step(e){e.done?s(e.value):function adopt(e){return e instanceof n?e:new n((function(r){r(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.getMinimumBalanceForRentExemptMultisig=r.unpackMultisig=r.getMultisig=r.MULTISIG_SIZE=r.MultisigLayout=void 0;const s=n(878918),a=n(432510),k=n(359157),w=n(718385);function unpackMultisig(e,n,i=k.TOKEN_PROGRAM_ID){if(!n)throw new w.TokenAccountNotFoundError;if(!n.owner.equals(i))throw new w.TokenInvalidAccountOwnerError;if(n.data.length!=r.MULTISIG_SIZE)throw new w.TokenInvalidAccountSizeError;const s=r.MultisigLayout.decode(n.data);return Object.assign({address:e},s)}r.MultisigLayout=(0,s.struct)([(0,s.u8)("m"),(0,s.u8)("n"),(0,a.bool)("isInitialized"),(0,a.publicKey)("signer1"),(0,a.publicKey)("signer2"),(0,a.publicKey)("signer3"),(0,a.publicKey)("signer4"),(0,a.publicKey)("signer5"),(0,a.publicKey)("signer6"),(0,a.publicKey)("signer7"),(0,a.publicKey)("signer8"),(0,a.publicKey)("signer9"),(0,a.publicKey)("signer10"),(0,a.publicKey)("signer11")]),r.MULTISIG_SIZE=r.MultisigLayout.span,r.getMultisig=function getMultisig(e,r,n,s=k.TOKEN_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const i=yield e.getAccountInfo(r,n);return unpackMultisig(r,i,s)}))},r.unpackMultisig=unpackMultisig,r.getMinimumBalanceForRentExemptMultisig=function getMinimumBalanceForRentExemptMultisig(e,n){return i(this,void 0,void 0,(function*(){return yield e.getMinimumBalanceForRentExemption(r.MULTISIG_SIZE,n)}))}},903487:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.KeyNotFoundError=r.ImmutableMetadataError=r.IncorrectUpdateAuthorityError=r.IncorrectMintAuthorityError=r.MintHasNoMintAuthorityError=r.IncorrectAccountError=r.TokenMetadataError=void 0;class TokenMetadataError extends Error{constructor(e){super(e)}}r.TokenMetadataError=TokenMetadataError;r.IncorrectAccountError=class IncorrectAccountError extends TokenMetadataError{constructor(){super(...arguments),this.name="IncorrectAccountError"}};r.MintHasNoMintAuthorityError=class MintHasNoMintAuthorityError extends TokenMetadataError{constructor(){super(...arguments),this.name="MintHasNoMintAuthorityError"}};r.IncorrectMintAuthorityError=class IncorrectMintAuthorityError extends TokenMetadataError{constructor(){super(...arguments),this.name="IncorrectMintAuthorityError"}};r.IncorrectUpdateAuthorityError=class IncorrectUpdateAuthorityError extends TokenMetadataError{constructor(){super(...arguments),this.name="IncorrectUpdateAuthorityError"}};r.ImmutableMetadataError=class ImmutableMetadataError extends TokenMetadataError{constructor(){super(...arguments),this.name="ImmutableMetadataError"}};r.KeyNotFoundError=class KeyNotFoundError extends TokenMetadataError{constructor(){super(...arguments),this.name="KeyNotFoundError"}}},103262:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getFieldConfig=r.getFieldCodec=r.Field=void 0;const i=n(822319);var s;!function(e){e[e.Name=0]="Name",e[e.Symbol=1]="Symbol",e[e.Uri=2]="Uri"}(s||(r.Field=s={}));r.getFieldCodec=()=>[["Name",(0,i.getUnitCodec)()],["Symbol",(0,i.getUnitCodec)()],["Uri",(0,i.getUnitCodec)()],["Key",(0,i.getStructCodec)([["value",(0,i.getTupleCodec)([(0,i.getStringCodec)()])]])]],r.getFieldConfig=function getFieldConfig(e){return e===s.Name||"Name"===e||"name"===e?{__kind:"Name"}:e===s.Symbol||"Symbol"===e||"symbol"===e?{__kind:"Symbol"}:e===s.Uri||"Uri"===e||"uri"===e?{__kind:"Uri"}:{__kind:"Key",value:[e]}}},691706:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__exportStar||function(e,r){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||i(r,e,n)};Object.defineProperty(r,"__esModule",{value:!0}),s(n(903487),r),s(n(103262),r),s(n(739186),r),s(n(435459),r)},739186:(e,r,n)=>{"use strict";var i=n(901048).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.createEmitInstruction=r.createUpdateAuthorityInstruction=r.createRemoveKeyInstruction=r.createUpdateFieldInstruction=r.createInitializeInstruction=void 0;const s=n(822319),a=n(258858),k=n(958966),w=n(103262);function getInstructionEncoder(e,r){return(0,s.mapEncoder)((0,s.getTupleEncoder)([(0,s.getBytesEncoder)(),r]),(r=>[e,r]))}r.createInitializeInstruction=function createInitializeInstruction(e){const{programId:r,metadata:n,updateAuthority:w,mint:I,mintAuthority:we,name:Ae,symbol:Be,uri:Ce}=e;return new k.TransactionInstruction({programId:r,keys:[{isSigner:!1,isWritable:!0,pubkey:n},{isSigner:!1,isWritable:!1,pubkey:w},{isSigner:!1,isWritable:!1,pubkey:I},{isSigner:!0,isWritable:!1,pubkey:we}],data:i.from(getInstructionEncoder((0,a.splDiscriminate)("spl_token_metadata_interface:initialize_account"),(0,s.getStructEncoder)([["name",(0,s.getStringEncoder)()],["symbol",(0,s.getStringEncoder)()],["uri",(0,s.getStringEncoder)()]])).encode({name:Ae,symbol:Be,uri:Ce}))})},r.createUpdateFieldInstruction=function createUpdateFieldInstruction(e){const{programId:r,metadata:n,updateAuthority:I,field:we,value:Ae}=e;return new k.TransactionInstruction({programId:r,keys:[{isSigner:!1,isWritable:!0,pubkey:n},{isSigner:!0,isWritable:!1,pubkey:I}],data:i.from(getInstructionEncoder((0,a.splDiscriminate)("spl_token_metadata_interface:updating_field"),(0,s.getStructEncoder)([["field",(0,s.getDataEnumCodec)((0,w.getFieldCodec)())],["value",(0,s.getStringEncoder)()]])).encode({field:(0,w.getFieldConfig)(we),value:Ae}))})},r.createRemoveKeyInstruction=function createRemoveKeyInstruction(e){const{programId:r,metadata:n,updateAuthority:w,key:I,idempotent:we}=e;return new k.TransactionInstruction({programId:r,keys:[{isSigner:!1,isWritable:!0,pubkey:n},{isSigner:!0,isWritable:!1,pubkey:w}],data:i.from(getInstructionEncoder((0,a.splDiscriminate)("spl_token_metadata_interface:remove_key_ix"),(0,s.getStructEncoder)([["idempotent",(0,s.getBooleanEncoder)()],["key",(0,s.getStringEncoder)()]])).encode({idempotent:we,key:I}))})},r.createUpdateAuthorityInstruction=function createUpdateAuthorityInstruction(e){const{programId:r,metadata:n,oldAuthority:w,newAuthority:I}=e;return new k.TransactionInstruction({programId:r,keys:[{isSigner:!1,isWritable:!0,pubkey:n},{isSigner:!0,isWritable:!1,pubkey:w}],data:i.from(getInstructionEncoder((0,a.splDiscriminate)("spl_token_metadata_interface:update_the_authority"),(0,s.getStructEncoder)([["newAuthority",(0,s.mapEncoder)((0,s.getBytesEncoder)({size:32}),(e=>e.toBytes()))]])).encode({newAuthority:null!=I?I:k.SystemProgram.programId}))})},r.createEmitInstruction=function createEmitInstruction(e){const{programId:r,metadata:n,start:w,end:I}=e;return new k.TransactionInstruction({programId:r,keys:[{isSigner:!1,isWritable:!1,pubkey:n}],data:i.from(getInstructionEncoder((0,a.splDiscriminate)("spl_token_metadata_interface:emitter"),(0,s.getStructEncoder)([["start",(0,s.getOptionEncoder)((0,s.getU64Encoder)())],["end",(0,s.getOptionEncoder)((0,s.getU64Encoder)())]])).encode({start:null!=w?w:null,end:null!=I?I:null}))})}},435459:(e,r,n)=>{"use strict";var i=n(901048).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.unpack=r.pack=r.TOKEN_METADATA_DISCRIMINATOR=void 0;const s=n(958966),a=n(822319);r.TOKEN_METADATA_DISCRIMINATOR=i.from([112,132,90,90,11,88,157,87]);const k=(0,a.getStructCodec)([["updateAuthority",(0,a.getBytesCodec)({size:32})],["mint",(0,a.getBytesCodec)({size:32})],["name",(0,a.getStringCodec)()],["symbol",(0,a.getStringCodec)()],["uri",(0,a.getStringCodec)()],["additionalMetadata",(0,a.getArrayCodec)((0,a.getTupleCodec)([(0,a.getStringCodec)(),(0,a.getStringCodec)()]))]]);r.pack=function pack(e){var r;const n=null!==(r=e.updateAuthority)&&void 0!==r?r:s.PublicKey.default;return k.encode(Object.assign(Object.assign({},e),{updateAuthority:n.toBuffer(),mint:e.mint.toBuffer()}))},r.unpack=function unpack(e){const r=k.decode(e);return function isNonePubkey(e){for(let r=0;r<e.length;r++)if(0!==e[r])return!1;return!0}(r.updateAuthority)?{mint:new s.PublicKey(r.mint),name:r.name,symbol:r.symbol,uri:r.uri,additionalMetadata:r.additionalMetadata}:{updateAuthority:new s.PublicKey(r.updateAuthority),mint:new s.PublicKey(r.mint),name:r.name,symbol:r.symbol,uri:r.uri,additionalMetadata:r.additionalMetadata}}},100323:function(e,r,n){"use strict";var i=n(901048).Buffer,s=this&&this.__awaiter||function(e,r,n,i){return new(n||(n=Promise))((function(s,a){function fulfilled(e){try{step(i.next(e))}catch(e){a(e)}}function rejected(e){try{step(i.throw(e))}catch(e){a(e)}}function step(e){e.done?s(e.value):function adopt(e){return e instanceof n?e:new n((function(r){r(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.amountToUiAmount=void 0;const a=n(958966),k=n(378471),w=n(282075);r.amountToUiAmount=function amountToUiAmount(e,r,n,I,we=k.TOKEN_PROGRAM_ID){return s(this,void 0,void 0,(function*(){const s=(new a.Transaction).add((0,w.createAmountToUiAmountInstruction)(n,I,we)),{returnData:k,err:Ae}=(yield e.simulateTransaction(s,[r],!1)).value;return(null==k?void 0:k.data)?i.from(k.data[0],k.data[1]).toString("utf-8"):Ae}))}},372643:function(e,r,n){"use strict";var i=this&&this.__awaiter||function(e,r,n,i){return new(n||(n=Promise))((function(s,a){function fulfilled(e){try{step(i.next(e))}catch(e){a(e)}}function rejected(e){try{step(i.throw(e))}catch(e){a(e)}}function step(e){e.done?s(e.value):function adopt(e){return e instanceof n?e:new n((function(r){r(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.approve=void 0;const s=n(958966),a=n(378471),k=n(618555),w=n(409537);r.approve=function approve(e,r,n,I,we,Ae,Be=[],Ce,ze=a.TOKEN_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const[i,a]=(0,w.getSigners)(we,Be),qe=(new s.Transaction).add((0,k.createApproveInstruction)(n,I,i,Ae,Be,ze));return yield(0,s.sendAndConfirmTransaction)(e,qe,[r,...a],Ce)}))}},432630:function(e,r,n){"use strict";var i=this&&this.__awaiter||function(e,r,n,i){return new(n||(n=Promise))((function(s,a){function fulfilled(e){try{step(i.next(e))}catch(e){a(e)}}function rejected(e){try{step(i.throw(e))}catch(e){a(e)}}function step(e){e.done?s(e.value):function adopt(e){return e instanceof n?e:new n((function(r){r(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.approveChecked=void 0;const s=n(958966),a=n(378471),k=n(186750),w=n(409537);r.approveChecked=function approveChecked(e,r,n,I,we,Ae,Be,Ce,ze=[],qe,$e=a.TOKEN_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const[i,a]=(0,w.getSigners)(Ae,ze),Ye=(new s.Transaction).add((0,k.createApproveCheckedInstruction)(I,n,we,i,Be,Ce,ze,$e));return yield(0,s.sendAndConfirmTransaction)(e,Ye,[r,...a],qe)}))}},414265:function(e,r,n){"use strict";var i=this&&this.__awaiter||function(e,r,n,i){return new(n||(n=Promise))((function(s,a){function fulfilled(e){try{step(i.next(e))}catch(e){a(e)}}function rejected(e){try{step(i.throw(e))}catch(e){a(e)}}function step(e){e.done?s(e.value):function adopt(e){return e instanceof n?e:new n((function(r){r(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.burn=void 0;const s=n(958966),a=n(378471),k=n(795521),w=n(409537);r.burn=function burn(e,r,n,I,we,Ae,Be=[],Ce,ze=a.TOKEN_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const[i,a]=(0,w.getSigners)(we,Be),qe=(new s.Transaction).add((0,k.createBurnInstruction)(n,I,i,Ae,Be,ze));return yield(0,s.sendAndConfirmTransaction)(e,qe,[r,...a],Ce)}))}},527692:function(e,r,n){"use strict";var i=this&&this.__awaiter||function(e,r,n,i){return new(n||(n=Promise))((function(s,a){function fulfilled(e){try{step(i.next(e))}catch(e){a(e)}}function rejected(e){try{step(i.throw(e))}catch(e){a(e)}}function step(e){e.done?s(e.value):function adopt(e){return e instanceof n?e:new n((function(r){r(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.burnChecked=void 0;const s=n(958966),a=n(378471),k=n(1316),w=n(409537);r.burnChecked=function burnChecked(e,r,n,I,we,Ae,Be,Ce=[],ze,qe=a.TOKEN_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const[i,a]=(0,w.getSigners)(we,Ce),$e=(new s.Transaction).add((0,k.createBurnCheckedInstruction)(n,I,i,Ae,Be,Ce,qe));return yield(0,s.sendAndConfirmTransaction)(e,$e,[r,...a],ze)}))}},559203:function(e,r,n){"use strict";var i=this&&this.__awaiter||function(e,r,n,i){return new(n||(n=Promise))((function(s,a){function fulfilled(e){try{step(i.next(e))}catch(e){a(e)}}function rejected(e){try{step(i.throw(e))}catch(e){a(e)}}function step(e){e.done?s(e.value):function adopt(e){return e instanceof n?e:new n((function(r){r(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.closeAccount=void 0;const s=n(958966),a=n(378471),k=n(710171),w=n(409537);r.closeAccount=function closeAccount(e,r,n,I,we,Ae=[],Be,Ce=a.TOKEN_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const[i,a]=(0,w.getSigners)(we,Ae),ze=(new s.Transaction).add((0,k.createCloseAccountInstruction)(n,I,i,Ae,Ce));return yield(0,s.sendAndConfirmTransaction)(e,ze,[r,...a],Be)}))}},744941:function(e,r,n){"use strict";var i=this&&this.__awaiter||function(e,r,n,i){return new(n||(n=Promise))((function(s,a){function fulfilled(e){try{step(i.next(e))}catch(e){a(e)}}function rejected(e){try{step(i.throw(e))}catch(e){a(e)}}function step(e){e.done?s(e.value):function adopt(e){return e instanceof n?e:new n((function(r){r(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.createAccount=void 0;const s=n(958966),a=n(378471),k=n(852016),w=n(72523),I=n(441154),we=n(411006);r.createAccount=function createAccount(e,r,n,Ae,Be,Ce,ze=a.TOKEN_PROGRAM_ID){return i(this,void 0,void 0,(function*(){if(!Be)return yield(0,we.createAssociatedTokenAccount)(e,r,n,Ae,Ce,ze);const i=yield(0,I.getMint)(e,n,null==Ce?void 0:Ce.commitment,ze),a=(0,k.getAccountLenForMint)(i),qe=yield e.getMinimumBalanceForRentExemption(a),$e=(new s.Transaction).add(s.SystemProgram.createAccount({fromPubkey:r.publicKey,newAccountPubkey:Be.publicKey,space:a,lamports:qe,programId:ze}),(0,w.createInitializeAccountInstruction)(Be.publicKey,n,Ae,ze));return yield(0,s.sendAndConfirmTransaction)(e,$e,[r,Be],Ce),Be.publicKey}))}},411006:function(e,r,n){"use strict";var i=this&&this.__awaiter||function(e,r,n,i){return new(n||(n=Promise))((function(s,a){function fulfilled(e){try{step(i.next(e))}catch(e){a(e)}}function rejected(e){try{step(i.throw(e))}catch(e){a(e)}}function step(e){e.done?s(e.value):function adopt(e){return e instanceof n?e:new n((function(r){r(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.createAssociatedTokenAccount=void 0;const s=n(958966),a=n(378471),k=n(386806),w=n(441154);r.createAssociatedTokenAccount=function createAssociatedTokenAccount(e,r,n,I,we,Ae=a.TOKEN_PROGRAM_ID,Be=a.ASSOCIATED_TOKEN_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const i=(0,w.getAssociatedTokenAddressSync)(n,I,!1,Ae,Be),a=(new s.Transaction).add((0,k.createAssociatedTokenAccountInstruction)(r.publicKey,i,I,n,Ae,Be));return yield(0,s.sendAndConfirmTransaction)(e,a,[r],we),i}))}},504897:function(e,r,n){"use strict";var i=this&&this.__awaiter||function(e,r,n,i){return new(n||(n=Promise))((function(s,a){function fulfilled(e){try{step(i.next(e))}catch(e){a(e)}}function rejected(e){try{step(i.throw(e))}catch(e){a(e)}}function step(e){e.done?s(e.value):function adopt(e){return e instanceof n?e:new n((function(r){r(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.createAssociatedTokenAccountIdempotent=void 0;const s=n(958966),a=n(378471),k=n(386806),w=n(441154);r.createAssociatedTokenAccountIdempotent=function createAssociatedTokenAccountIdempotent(e,r,n,I,we,Ae=a.TOKEN_PROGRAM_ID,Be=a.ASSOCIATED_TOKEN_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const i=(0,w.getAssociatedTokenAddressSync)(n,I,!1,Ae,Be),a=(new s.Transaction).add((0,k.createAssociatedTokenAccountIdempotentInstruction)(r.publicKey,i,I,n,Ae,Be));return yield(0,s.sendAndConfirmTransaction)(e,a,[r],we),i}))}},356964:function(e,r,n){"use strict";var i=this&&this.__awaiter||function(e,r,n,i){return new(n||(n=Promise))((function(s,a){function fulfilled(e){try{step(i.next(e))}catch(e){a(e)}}function rejected(e){try{step(i.throw(e))}catch(e){a(e)}}function step(e){e.done?s(e.value):function adopt(e){return e instanceof n?e:new n((function(r){r(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.createMint=void 0;const s=n(958966),a=n(378471),k=n(371290),w=n(441154);r.createMint=function createMint(e,r,n,I,we,Ae=s.Keypair.generate(),Be,Ce=a.TOKEN_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const i=yield(0,w.getMinimumBalanceForRentExemptMint)(e),a=(new s.Transaction).add(s.SystemProgram.createAccount({fromPubkey:r.publicKey,newAccountPubkey:Ae.publicKey,space:w.MINT_SIZE,lamports:i,programId:Ce}),(0,k.createInitializeMint2Instruction)(Ae.publicKey,we,n,I,Ce));return yield(0,s.sendAndConfirmTransaction)(e,a,[r,Ae],Be),Ae.publicKey}))}},347294:function(e,r,n){"use strict";var i=this&&this.__awaiter||function(e,r,n,i){return new(n||(n=Promise))((function(s,a){function fulfilled(e){try{step(i.next(e))}catch(e){a(e)}}function rejected(e){try{step(i.throw(e))}catch(e){a(e)}}function step(e){e.done?s(e.value):function adopt(e){return e instanceof n?e:new n((function(r){r(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.createMultisig=void 0;const s=n(958966),a=n(378471),k=n(983272),w=n(517971);r.createMultisig=function createMultisig(e,r,n,I,we=s.Keypair.generate(),Ae,Be=a.TOKEN_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const i=yield(0,w.getMinimumBalanceForRentExemptMultisig)(e),a=(new s.Transaction).add(s.SystemProgram.createAccount({fromPubkey:r.publicKey,newAccountPubkey:we.publicKey,space:w.MULTISIG_SIZE,lamports:i,programId:Be}),(0,k.createInitializeMultisigInstruction)(we.publicKey,n,I,Be));return yield(0,s.sendAndConfirmTransaction)(e,a,[r,we],Ae),we.publicKey}))}},320739:function(e,r,n){"use strict";var i=this&&this.__awaiter||function(e,r,n,i){return new(n||(n=Promise))((function(s,a){function fulfilled(e){try{step(i.next(e))}catch(e){a(e)}}function rejected(e){try{step(i.throw(e))}catch(e){a(e)}}function step(e){e.done?s(e.value):function adopt(e){return e instanceof n?e:new n((function(r){r(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.createNativeMint=void 0;const s=n(958966),a=n(378471),k=n(999147);r.createNativeMint=function createNativeMint(e,r,n,w=a.NATIVE_MINT_2022,I=a.TOKEN_2022_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const i=(new s.Transaction).add((0,k.createCreateNativeMintInstruction)(r.publicKey,w,I));yield(0,s.sendAndConfirmTransaction)(e,i,[r],n)}))}},878405:function(e,r,n){"use strict";var i=this&&this.__awaiter||function(e,r,n,i){return new(n||(n=Promise))((function(s,a){function fulfilled(e){try{step(i.next(e))}catch(e){a(e)}}function rejected(e){try{step(i.throw(e))}catch(e){a(e)}}function step(e){e.done?s(e.value):function adopt(e){return e instanceof n?e:new n((function(r){r(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.createWrappedNativeAccount=void 0;const s=n(958966),a=n(378471),k=n(386806),w=n(72523),I=n(466704),we=n(118323),Ae=n(441154),Be=n(744941);r.createWrappedNativeAccount=function createWrappedNativeAccount(e,r,n,Ce,ze,qe,$e=a.TOKEN_PROGRAM_ID,Ye=a.NATIVE_MINT){return i(this,void 0,void 0,(function*(){if(!Ce)return yield(0,Be.createAccount)(e,r,Ye,n,ze,qe,$e);if(!ze){const i=(0,Ae.getAssociatedTokenAddressSync)(Ye,n,!1,$e,a.ASSOCIATED_TOKEN_PROGRAM_ID),w=(new s.Transaction).add((0,k.createAssociatedTokenAccountInstruction)(r.publicKey,i,n,Ye,$e,a.ASSOCIATED_TOKEN_PROGRAM_ID),s.SystemProgram.transfer({fromPubkey:r.publicKey,toPubkey:i,lamports:Ce}),(0,I.createSyncNativeInstruction)(i,$e));return yield(0,s.sendAndConfirmTransaction)(e,w,[r],qe),i}const i=yield(0,we.getMinimumBalanceForRentExemptAccount)(e),Je=(new s.Transaction).add(s.SystemProgram.createAccount({fromPubkey:r.publicKey,newAccountPubkey:ze.publicKey,space:we.ACCOUNT_SIZE,lamports:i,programId:$e}),s.SystemProgram.transfer({fromPubkey:r.publicKey,toPubkey:ze.publicKey,lamports:Ce}),(0,w.createInitializeAccountInstruction)(ze.publicKey,Ye,n,$e));return yield(0,s.sendAndConfirmTransaction)(e,Je,[r,ze],qe),ze.publicKey}))}},565420:function(e,r,n){"use strict";var i=this&&this.__awaiter||function(e,r,n,i){return new(n||(n=Promise))((function(s,a){function fulfilled(e){try{step(i.next(e))}catch(e){a(e)}}function rejected(e){try{step(i.throw(e))}catch(e){a(e)}}function step(e){e.done?s(e.value):function adopt(e){return e instanceof n?e:new n((function(r){r(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.freezeAccount=void 0;const s=n(958966),a=n(378471),k=n(948900),w=n(409537);r.freezeAccount=function freezeAccount(e,r,n,I,we,Ae=[],Be,Ce=a.TOKEN_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const[i,a]=(0,w.getSigners)(we,Ae),ze=(new s.Transaction).add((0,k.createFreezeAccountInstruction)(n,I,i,Ae,Ce));return yield(0,s.sendAndConfirmTransaction)(e,ze,[r,...a],Be)}))}},879585:function(e,r,n){"use strict";var i=this&&this.__awaiter||function(e,r,n,i){return new(n||(n=Promise))((function(s,a){function fulfilled(e){try{step(i.next(e))}catch(e){a(e)}}function rejected(e){try{step(i.throw(e))}catch(e){a(e)}}function step(e){e.done?s(e.value):function adopt(e){return e instanceof n?e:new n((function(r){r(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.getOrCreateAssociatedTokenAccount=void 0;const s=n(958966),a=n(378471),k=n(951531),w=n(386806),I=n(118323),we=n(441154);r.getOrCreateAssociatedTokenAccount=function getOrCreateAssociatedTokenAccount(e,r,n,Ae,Be=!1,Ce,ze,qe=a.TOKEN_PROGRAM_ID,$e=a.ASSOCIATED_TOKEN_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const i=(0,we.getAssociatedTokenAddressSync)(n,Ae,Be,qe,$e);let a;try{a=yield(0,I.getAccount)(e,i,Ce,qe)}catch(we){if(!(we instanceof k.TokenAccountNotFoundError||we instanceof k.TokenInvalidAccountOwnerError))throw we;try{const a=(new s.Transaction).add((0,w.createAssociatedTokenAccountInstruction)(r.publicKey,i,Ae,n,qe,$e));yield(0,s.sendAndConfirmTransaction)(e,a,[r],ze)}catch(e){}a=yield(0,I.getAccount)(e,i,Ce,qe)}if(!a.mint.equals(n))throw new k.TokenInvalidMintError;if(!a.owner.equals(Ae))throw new k.TokenInvalidOwnerError;return a}))}},89950:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__exportStar||function(e,r){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||i(r,e,n)};Object.defineProperty(r,"__esModule",{value:!0}),s(n(100323),r),s(n(372643),r),s(n(432630),r),s(n(414265),r),s(n(527692),r),s(n(559203),r),s(n(744941),r),s(n(411006),r),s(n(504897),r),s(n(356964),r),s(n(347294),r),s(n(320739),r),s(n(878405),r),s(n(565420),r),s(n(879585),r),s(n(871957),r),s(n(15320),r),s(n(768997),r),s(n(410510),r),s(n(420553),r),s(n(251256),r),s(n(513305),r),s(n(339459),r),s(n(114966),r),s(n(617371),r)},409537:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getSigners=void 0;const i=n(958966);r.getSigners=function getSigners(e,r){return e instanceof i.PublicKey?[e,r]:[e.publicKey,[e]]}},871957:function(e,r,n){"use strict";var i=this&&this.__awaiter||function(e,r,n,i){return new(n||(n=Promise))((function(s,a){function fulfilled(e){try{step(i.next(e))}catch(e){a(e)}}function rejected(e){try{step(i.throw(e))}catch(e){a(e)}}function step(e){e.done?s(e.value):function adopt(e){return e instanceof n?e:new n((function(r){r(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.mintTo=void 0;const s=n(958966),a=n(378471),k=n(752205),w=n(409537);r.mintTo=function mintTo(e,r,n,I,we,Ae,Be=[],Ce,ze=a.TOKEN_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const[i,a]=(0,w.getSigners)(we,Be),qe=(new s.Transaction).add((0,k.createMintToInstruction)(n,I,i,Ae,Be,ze));return yield(0,s.sendAndConfirmTransaction)(e,qe,[r,...a],Ce)}))}},15320:function(e,r,n){"use strict";var i=this&&this.__awaiter||function(e,r,n,i){return new(n||(n=Promise))((function(s,a){function fulfilled(e){try{step(i.next(e))}catch(e){a(e)}}function rejected(e){try{step(i.throw(e))}catch(e){a(e)}}function step(e){e.done?s(e.value):function adopt(e){return e instanceof n?e:new n((function(r){r(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.mintToChecked=void 0;const s=n(958966),a=n(378471),k=n(662560),w=n(409537);r.mintToChecked=function mintToChecked(e,r,n,I,we,Ae,Be,Ce=[],ze,qe=a.TOKEN_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const[i,a]=(0,w.getSigners)(we,Ce),$e=(new s.Transaction).add((0,k.createMintToCheckedInstruction)(n,I,i,Ae,Be,Ce,qe));return yield(0,s.sendAndConfirmTransaction)(e,$e,[r,...a],ze)}))}},768997:function(e,r,n){"use strict";var i=this&&this.__awaiter||function(e,r,n,i){return new(n||(n=Promise))((function(s,a){function fulfilled(e){try{step(i.next(e))}catch(e){a(e)}}function rejected(e){try{step(i.throw(e))}catch(e){a(e)}}function step(e){e.done?s(e.value):function adopt(e){return e instanceof n?e:new n((function(r){r(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.recoverNested=void 0;const s=n(958966),a=n(378471),k=n(386806),w=n(441154);r.recoverNested=function recoverNested(e,r,n,I,we,Ae,Be=a.TOKEN_PROGRAM_ID,Ce=a.ASSOCIATED_TOKEN_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const i=(0,w.getAssociatedTokenAddressSync)(I,n.publicKey,!1,Be,Ce),a=(0,w.getAssociatedTokenAddressSync)(we,n.publicKey,!1,Be,Ce),ze=(0,w.getAssociatedTokenAddressSync)(we,i,!0,Be,Ce),qe=(new s.Transaction).add((0,k.createRecoverNestedInstruction)(ze,we,a,i,I,n.publicKey,Be,Ce));return yield(0,s.sendAndConfirmTransaction)(e,qe,[r,n],Ae)}))}},410510:function(e,r,n){"use strict";var i=this&&this.__awaiter||function(e,r,n,i){return new(n||(n=Promise))((function(s,a){function fulfilled(e){try{step(i.next(e))}catch(e){a(e)}}function rejected(e){try{step(i.throw(e))}catch(e){a(e)}}function step(e){e.done?s(e.value):function adopt(e){return e instanceof n?e:new n((function(r){r(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.revoke=void 0;const s=n(958966),a=n(378471),k=n(742534),w=n(409537);r.revoke=function revoke(e,r,n,I,we=[],Ae,Be=a.TOKEN_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const[i,a]=(0,w.getSigners)(I,we),Ce=(new s.Transaction).add((0,k.createRevokeInstruction)(n,i,we,Be));return yield(0,s.sendAndConfirmTransaction)(e,Ce,[r,...a],Ae)}))}},420553:function(e,r,n){"use strict";var i=this&&this.__awaiter||function(e,r,n,i){return new(n||(n=Promise))((function(s,a){function fulfilled(e){try{step(i.next(e))}catch(e){a(e)}}function rejected(e){try{step(i.throw(e))}catch(e){a(e)}}function step(e){e.done?s(e.value):function adopt(e){return e instanceof n?e:new n((function(r){r(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.setAuthority=void 0;const s=n(958966),a=n(378471),k=n(296481),w=n(409537);r.setAuthority=function setAuthority(e,r,n,I,we,Ae,Be=[],Ce,ze=a.TOKEN_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const[i,a]=(0,w.getSigners)(I,Be),qe=(new s.Transaction).add((0,k.createSetAuthorityInstruction)(n,i,we,Ae,Be,ze));return yield(0,s.sendAndConfirmTransaction)(e,qe,[r,...a],Ce)}))}},251256:function(e,r,n){"use strict";var i=this&&this.__awaiter||function(e,r,n,i){return new(n||(n=Promise))((function(s,a){function fulfilled(e){try{step(i.next(e))}catch(e){a(e)}}function rejected(e){try{step(i.throw(e))}catch(e){a(e)}}function step(e){e.done?s(e.value):function adopt(e){return e instanceof n?e:new n((function(r){r(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.syncNative=void 0;const s=n(958966),a=n(378471),k=n(466704);r.syncNative=function syncNative(e,r,n,w,I=a.TOKEN_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const i=(new s.Transaction).add((0,k.createSyncNativeInstruction)(n,I));return yield(0,s.sendAndConfirmTransaction)(e,i,[r],w)}))}},513305:function(e,r,n){"use strict";var i=this&&this.__awaiter||function(e,r,n,i){return new(n||(n=Promise))((function(s,a){function fulfilled(e){try{step(i.next(e))}catch(e){a(e)}}function rejected(e){try{step(i.throw(e))}catch(e){a(e)}}function step(e){e.done?s(e.value):function adopt(e){return e instanceof n?e:new n((function(r){r(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.thawAccount=void 0;const s=n(958966),a=n(378471),k=n(589137),w=n(409537);r.thawAccount=function thawAccount(e,r,n,I,we,Ae=[],Be,Ce=a.TOKEN_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const[i,a]=(0,w.getSigners)(we,Ae),ze=(new s.Transaction).add((0,k.createThawAccountInstruction)(n,I,i,Ae,Ce));return yield(0,s.sendAndConfirmTransaction)(e,ze,[r,...a],Be)}))}},339459:function(e,r,n){"use strict";var i=this&&this.__awaiter||function(e,r,n,i){return new(n||(n=Promise))((function(s,a){function fulfilled(e){try{step(i.next(e))}catch(e){a(e)}}function rejected(e){try{step(i.throw(e))}catch(e){a(e)}}function step(e){e.done?s(e.value):function adopt(e){return e instanceof n?e:new n((function(r){r(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.transfer=void 0;const s=n(958966),a=n(378471),k=n(747435),w=n(409537);r.transfer=function transfer(e,r,n,I,we,Ae,Be=[],Ce,ze=a.TOKEN_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const[i,a]=(0,w.getSigners)(we,Be),qe=(new s.Transaction).add((0,k.createTransferInstruction)(n,I,i,Ae,Be,ze));return yield(0,s.sendAndConfirmTransaction)(e,qe,[r,...a],Ce)}))}},114966:function(e,r,n){"use strict";var i=this&&this.__awaiter||function(e,r,n,i){return new(n||(n=Promise))((function(s,a){function fulfilled(e){try{step(i.next(e))}catch(e){a(e)}}function rejected(e){try{step(i.throw(e))}catch(e){a(e)}}function step(e){e.done?s(e.value):function adopt(e){return e instanceof n?e:new n((function(r){r(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.transferChecked=void 0;const s=n(958966),a=n(378471),k=n(460174),w=n(409537);r.transferChecked=function transferChecked(e,r,n,I,we,Ae,Be,Ce,ze=[],qe,$e=a.TOKEN_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const[i,a]=(0,w.getSigners)(Ae,ze),Ye=(new s.Transaction).add((0,k.createTransferCheckedInstruction)(n,I,we,i,Be,Ce,ze,$e));return yield(0,s.sendAndConfirmTransaction)(e,Ye,[r,...a],qe)}))}},617371:function(e,r,n){"use strict";var i=n(901048).Buffer,s=this&&this.__awaiter||function(e,r,n,i){return new(n||(n=Promise))((function(s,a){function fulfilled(e){try{step(i.next(e))}catch(e){a(e)}}function rejected(e){try{step(i.throw(e))}catch(e){a(e)}}function step(e){e.done?s(e.value):function adopt(e){return e instanceof n?e:new n((function(r){r(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.uiAmountToAmount=void 0;const a=n(432510),k=n(958966),w=n(378471),I=n(124691);r.uiAmountToAmount=function uiAmountToAmount(e,r,n,we,Ae=w.TOKEN_PROGRAM_ID){return s(this,void 0,void 0,(function*(){const s=(new k.Transaction).add((0,I.createUiAmountToAmountInstruction)(n,we,Ae)),{returnData:w,err:Be}=(yield e.simulateTransaction(s,[r],!1)).value;if(w){const e=i.from(w.data[0],w.data[1]);return(0,a.u64)().decode(e)}return Be}))}},378471:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.programSupportsExtensions=r.NATIVE_MINT_2022=r.NATIVE_MINT=r.ASSOCIATED_TOKEN_PROGRAM_ID=r.TOKEN_2022_PROGRAM_ID=r.TOKEN_PROGRAM_ID=void 0;const i=n(958966);r.TOKEN_PROGRAM_ID=new i.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.TOKEN_2022_PROGRAM_ID=new i.PublicKey("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"),r.ASSOCIATED_TOKEN_PROGRAM_ID=new i.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r.NATIVE_MINT=new i.PublicKey("So11111111111111111111111111111111111111112"),r.NATIVE_MINT_2022=new i.PublicKey("9pan9bMn5HatX4EJdBwg9VgCa7Uz5HL8N1m5D3NdXejP"),r.programSupportsExtensions=function programSupportsExtensions(e){return e!==r.TOKEN_PROGRAM_ID}},951531:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.TokenTransferHookAccountDataNotFound=r.TokenTransferHookInvalidSeed=r.TokenTransferHookAccountNotFound=r.TokenUnsupportedInstructionError=r.TokenInvalidInstructionTypeError=r.TokenInvalidInstructionDataError=r.TokenInvalidInstructionKeysError=r.TokenInvalidInstructionProgramError=r.TokenOwnerOffCurveError=r.TokenInvalidOwnerError=r.TokenInvalidMintError=r.TokenInvalidAccountSizeError=r.TokenInvalidAccountOwnerError=r.TokenInvalidAccountDataError=r.TokenInvalidAccountError=r.TokenAccountNotFoundError=r.TokenError=void 0;class TokenError extends Error{constructor(e){super(e)}}r.TokenError=TokenError;r.TokenAccountNotFoundError=class TokenAccountNotFoundError extends TokenError{constructor(){super(...arguments),this.name="TokenAccountNotFoundError"}};r.TokenInvalidAccountError=class TokenInvalidAccountError extends TokenError{constructor(){super(...arguments),this.name="TokenInvalidAccountError"}};r.TokenInvalidAccountDataError=class TokenInvalidAccountDataError extends TokenError{constructor(){super(...arguments),this.name="TokenInvalidAccountDataError"}};r.TokenInvalidAccountOwnerError=class TokenInvalidAccountOwnerError extends TokenError{constructor(){super(...arguments),this.name="TokenInvalidAccountOwnerError"}};r.TokenInvalidAccountSizeError=class TokenInvalidAccountSizeError extends TokenError{constructor(){super(...arguments),this.name="TokenInvalidAccountSizeError"}};r.TokenInvalidMintError=class TokenInvalidMintError extends TokenError{constructor(){super(...arguments),this.name="TokenInvalidMintError"}};r.TokenInvalidOwnerError=class TokenInvalidOwnerError extends TokenError{constructor(){super(...arguments),this.name="TokenInvalidOwnerError"}};r.TokenOwnerOffCurveError=class TokenOwnerOffCurveError extends TokenError{constructor(){super(...arguments),this.name="TokenOwnerOffCurveError"}};r.TokenInvalidInstructionProgramError=class TokenInvalidInstructionProgramError extends TokenError{constructor(){super(...arguments),this.name="TokenInvalidInstructionProgramError"}};r.TokenInvalidInstructionKeysError=class TokenInvalidInstructionKeysError extends TokenError{constructor(){super(...arguments),this.name="TokenInvalidInstructionKeysError"}};r.TokenInvalidInstructionDataError=class TokenInvalidInstructionDataError extends TokenError{constructor(){super(...arguments),this.name="TokenInvalidInstructionDataError"}};r.TokenInvalidInstructionTypeError=class TokenInvalidInstructionTypeError extends TokenError{constructor(){super(...arguments),this.name="TokenInvalidInstructionTypeError"}};r.TokenUnsupportedInstructionError=class TokenUnsupportedInstructionError extends TokenError{constructor(){super(...arguments),this.name="TokenUnsupportedInstructionError"}};r.TokenTransferHookAccountNotFound=class TokenTransferHookAccountNotFound extends TokenError{constructor(){super(...arguments),this.name="TokenTransferHookAccountNotFound"}};r.TokenTransferHookInvalidSeed=class TokenTransferHookInvalidSeed extends TokenError{constructor(){super(...arguments),this.name="TokenTransferHookInvalidSeed"}};r.TokenTransferHookAccountDataNotFound=class TokenTransferHookAccountDataNotFound extends TokenError{constructor(){super(...arguments),this.name="TokenTransferHookAccountDataNotFound"}}},169574:(e,r)=>{"use strict";var n;Object.defineProperty(r,"__esModule",{value:!0}),r.ACCOUNT_TYPE_SIZE=r.AccountType=void 0,function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Mint=1]="Mint",e[e.Account=2]="Account"}(n||(r.AccountType=n={})),r.ACCOUNT_TYPE_SIZE=1},717350:function(e,r,n){"use strict";var i=this&&this.__awaiter||function(e,r,n,i){return new(n||(n=Promise))((function(s,a){function fulfilled(e){try{step(i.next(e))}catch(e){a(e)}}function rejected(e){try{step(i.throw(e))}catch(e){a(e)}}function step(e){e.done?s(e.value):function adopt(e){return e instanceof n?e:new n((function(r){r(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.disableCpiGuard=r.enableCpiGuard=void 0;const s=n(958966),a=n(409537),k=n(378471),w=n(817416);r.enableCpiGuard=function enableCpiGuard(e,r,n,I,we=[],Ae,Be=k.TOKEN_2022_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const[i,k]=(0,a.getSigners)(I,we),Ce=(new s.Transaction).add((0,w.createEnableCpiGuardInstruction)(n,i,k,Be));return yield(0,s.sendAndConfirmTransaction)(e,Ce,[r,...k],Ae)}))},r.disableCpiGuard=function disableCpiGuard(e,r,n,I,we=[],Ae,Be=k.TOKEN_2022_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const[i,k]=(0,a.getSigners)(I,we),Ce=(new s.Transaction).add((0,w.createDisableCpiGuardInstruction)(n,i,k,Be));return yield(0,s.sendAndConfirmTransaction)(e,Ce,[r,...k],Ae)}))}},228981:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__exportStar||function(e,r){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||i(r,e,n)};Object.defineProperty(r,"__esModule",{value:!0}),s(n(717350),r),s(n(817416),r),s(n(567432),r)},817416:(e,r,n)=>{"use strict";var i=n(901048).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.createDisableCpiGuardInstruction=r.createEnableCpiGuardInstruction=r.cpiGuardInstructionData=r.CpiGuardInstruction=void 0;const s=n(878918),a=n(958966),k=n(378471),w=n(951531),I=n(454713),we=n(573355);var Ae;function createCpiGuardInstruction(e,n,s,Ae,Be){if(!(0,k.programSupportsExtensions)(Be))throw new w.TokenUnsupportedInstructionError;const Ce=(0,I.addSigners)([{pubkey:n,isSigner:!1,isWritable:!0}],s,Ae),ze=i.alloc(r.cpiGuardInstructionData.span);return r.cpiGuardInstructionData.encode({instruction:we.TokenInstruction.CpiGuardExtension,cpiGuardInstruction:e},ze),new a.TransactionInstruction({keys:Ce,programId:Be,data:ze})}!function(e){e[e.Enable=0]="Enable",e[e.Disable=1]="Disable"}(Ae||(r.CpiGuardInstruction=Ae={})),r.cpiGuardInstructionData=(0,s.struct)([(0,s.u8)("instruction"),(0,s.u8)("cpiGuardInstruction")]),r.createEnableCpiGuardInstruction=function createEnableCpiGuardInstruction(e,r,n=[],i=k.TOKEN_2022_PROGRAM_ID){return createCpiGuardInstruction(Ae.Enable,e,r,n,i)},r.createDisableCpiGuardInstruction=function createDisableCpiGuardInstruction(e,r,n=[],i=k.TOKEN_2022_PROGRAM_ID){return createCpiGuardInstruction(Ae.Disable,e,r,n,i)}},567432:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getCpiGuard=r.CPI_GUARD_SIZE=r.CpiGuardLayout=void 0;const i=n(878918),s=n(432510),a=n(852016);r.CpiGuardLayout=(0,i.struct)([(0,s.bool)("lockCpi")]),r.CPI_GUARD_SIZE=r.CpiGuardLayout.span,r.getCpiGuard=function getCpiGuard(e){const n=(0,a.getExtensionData)(a.ExtensionType.CpiGuard,e.tlvData);return null!==n?r.CpiGuardLayout.decode(n):null}},219144:function(e,r,n){"use strict";var i=this&&this.__awaiter||function(e,r,n,i){return new(n||(n=Promise))((function(s,a){function fulfilled(e){try{step(i.next(e))}catch(e){a(e)}}function rejected(e){try{step(i.throw(e))}catch(e){a(e)}}function step(e){e.done?s(e.value):function adopt(e){return e instanceof n?e:new n((function(r){r(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.updateDefaultAccountState=r.initializeDefaultAccountState=void 0;const s=n(958966),a=n(409537),k=n(378471),w=n(354522);r.initializeDefaultAccountState=function initializeDefaultAccountState(e,r,n,a,I,we=k.TOKEN_2022_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const i=(new s.Transaction).add((0,w.createInitializeDefaultAccountStateInstruction)(n,a,we));return yield(0,s.sendAndConfirmTransaction)(e,i,[r],I)}))},r.updateDefaultAccountState=function updateDefaultAccountState(e,r,n,I,we,Ae=[],Be,Ce=k.TOKEN_2022_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const[i,k]=(0,a.getSigners)(we,Ae),ze=(new s.Transaction).add((0,w.createUpdateDefaultAccountStateInstruction)(n,I,i,k,Ce));return yield(0,s.sendAndConfirmTransaction)(e,ze,[r,...k],Be)}))}},191339:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__exportStar||function(e,r){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||i(r,e,n)};Object.defineProperty(r,"__esModule",{value:!0}),s(n(219144),r),s(n(354522),r),s(n(221614),r)},354522:(e,r,n)=>{"use strict";var i=n(901048).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.createUpdateDefaultAccountStateInstruction=r.createInitializeDefaultAccountStateInstruction=r.defaultAccountStateInstructionData=r.DefaultAccountStateInstruction=void 0;const s=n(878918),a=n(958966),k=n(378471),w=n(951531),I=n(454713),we=n(573355);var Ae;!function(e){e[e.Initialize=0]="Initialize",e[e.Update=1]="Update"}(Ae||(r.DefaultAccountStateInstruction=Ae={})),r.defaultAccountStateInstructionData=(0,s.struct)([(0,s.u8)("instruction"),(0,s.u8)("defaultAccountStateInstruction"),(0,s.u8)("accountState")]),r.createInitializeDefaultAccountStateInstruction=function createInitializeDefaultAccountStateInstruction(e,n,s=k.TOKEN_2022_PROGRAM_ID){if(!(0,k.programSupportsExtensions)(s))throw new w.TokenUnsupportedInstructionError;const I=[{pubkey:e,isSigner:!1,isWritable:!0}],Be=i.alloc(r.defaultAccountStateInstructionData.span);return r.defaultAccountStateInstructionData.encode({instruction:we.TokenInstruction.DefaultAccountStateExtension,defaultAccountStateInstruction:Ae.Initialize,accountState:n},Be),new a.TransactionInstruction({keys:I,programId:s,data:Be})},r.createUpdateDefaultAccountStateInstruction=function createUpdateDefaultAccountStateInstruction(e,n,s,Be=[],Ce=k.TOKEN_2022_PROGRAM_ID){if(!(0,k.programSupportsExtensions)(Ce))throw new w.TokenUnsupportedInstructionError;const ze=(0,I.addSigners)([{pubkey:e,isSigner:!1,isWritable:!0}],s,Be),qe=i.alloc(r.defaultAccountStateInstructionData.span);return r.defaultAccountStateInstructionData.encode({instruction:we.TokenInstruction.DefaultAccountStateExtension,defaultAccountStateInstruction:Ae.Update,accountState:n},qe),new a.TransactionInstruction({keys:ze,programId:Ce,data:qe})}},221614:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getDefaultAccountState=r.DEFAULT_ACCOUNT_STATE_SIZE=r.DefaultAccountStateLayout=void 0;const i=n(878918),s=n(852016);r.DefaultAccountStateLayout=(0,i.struct)([(0,i.u8)("state")]),r.DEFAULT_ACCOUNT_STATE_SIZE=r.DefaultAccountStateLayout.span,r.getDefaultAccountState=function getDefaultAccountState(e){const n=(0,s.getExtensionData)(s.ExtensionType.DefaultAccountState,e.tlvData);return null!==n?r.DefaultAccountStateLayout.decode(n):null}},852016:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getNewAccountLenForExtensionLen=r.getAccountLenForMint=r.getExtensionTypes=r.getExtensionData=r.getAccountLen=r.getMintLen=r.getAccountTypeOfMintType=r.isAccountExtension=r.isMintExtension=r.getTypeLen=r.LENGTH_SIZE=r.TYPE_SIZE=r.ExtensionType=void 0;const i=n(118323),s=n(441154),a=n(517971),k=n(169574),w=n(228981),I=n(191339),we=n(523730),Ae=n(598915),Be=n(403015),Ce=n(633725),ze=n(288584),qe=n(745325),$e=n(778588),Ye=n(744099),Je=n(292618),et=n(378471);var rt;function addTypeAndLengthToLen(e){return e+r.TYPE_SIZE+r.LENGTH_SIZE}function getTypeLen(e){switch(e){case rt.Uninitialized:return 0;case rt.TransferFeeConfig:return Ye.TRANSFER_FEE_CONFIG_SIZE;case rt.TransferFeeAmount:return Ye.TRANSFER_FEE_AMOUNT_SIZE;case rt.MintCloseAuthority:return ze.MINT_CLOSE_AUTHORITY_SIZE;case rt.ConfidentialTransferMint:return 97;case rt.ConfidentialTransferAccount:return 286;case rt.CpiGuard:return w.CPI_GUARD_SIZE;case rt.DefaultAccountState:return I.DEFAULT_ACCOUNT_STATE_SIZE;case rt.ImmutableOwner:return we.IMMUTABLE_OWNER_SIZE;case rt.MemoTransfer:return Be.MEMO_TRANSFER_SIZE;case rt.MetadataPointer:return Ce.METADATA_POINTER_SIZE;case rt.NonTransferable:return qe.NON_TRANSFERABLE_SIZE;case rt.InterestBearingConfig:return Ae.INTEREST_BEARING_MINT_CONFIG_STATE_SIZE;case rt.PermanentDelegate:return $e.PERMANENT_DELEGATE_SIZE;case rt.NonTransferableAccount:return qe.NON_TRANSFERABLE_ACCOUNT_SIZE;case rt.TransferHook:return Je.TRANSFER_HOOK_SIZE;case rt.TransferHookAccount:return Je.TRANSFER_HOOK_ACCOUNT_SIZE;case rt.TokenMetadata:throw Error(`Cannot get type length for variable extension type: ${e}`);default:throw Error(`Unknown extension type: ${e}`)}}function getAccountTypeOfMintType(e){switch(e){case rt.TransferFeeConfig:return rt.TransferFeeAmount;case rt.ConfidentialTransferMint:return rt.ConfidentialTransferAccount;case rt.NonTransferable:return rt.NonTransferableAccount;case rt.TransferHook:return rt.TransferHookAccount;case rt.TransferFeeAmount:case rt.ConfidentialTransferAccount:case rt.CpiGuard:case rt.DefaultAccountState:case rt.ImmutableOwner:case rt.MemoTransfer:case rt.MintCloseAuthority:case rt.MetadataPointer:case rt.TokenMetadata:case rt.Uninitialized:case rt.InterestBearingConfig:case rt.PermanentDelegate:case rt.NonTransferableAccount:case rt.TransferHookAccount:return rt.Uninitialized}}function getLen(e,n,s={}){if(0===e.length&&0===Object.keys(s).length)return n;{const n=i.ACCOUNT_SIZE+k.ACCOUNT_TYPE_SIZE+e.filter(((r,n)=>n===e.indexOf(r))).map((e=>addTypeAndLengthToLen(getTypeLen(e)))).reduce(((e,r)=>e+r),0)+Object.entries(s).map((([e,r])=>{if(!function isVariableLengthExtension(e){return e===rt.TokenMetadata}(Number(e)))throw Error(`Extension ${e} is not variable length`);return addTypeAndLengthToLen(r)})).reduce(((e,r)=>e+r),0);return n===a.MULTISIG_SIZE?n+r.TYPE_SIZE:n}}function getAccountLen(e){return getLen(e,i.ACCOUNT_SIZE)}function getExtensionData(e,n){let i=0;for(;addTypeAndLengthToLen(i)<=n.length;){const s=n.readUInt16LE(i),a=n.readUInt16LE(i+r.TYPE_SIZE),k=addTypeAndLengthToLen(i);if(s==e)return n.slice(k,k+a);i=k+a}return null}function getExtensionTypes(e){const n=[];let i=0;for(;i<e.length;){const s=e.readUInt16LE(i);n.push(s);i+=addTypeAndLengthToLen(e.readUInt16LE(i+r.TYPE_SIZE))}return n}!function(e){e[e.Uninitialized=0]="Uninitialized",e[e.TransferFeeConfig=1]="TransferFeeConfig",e[e.TransferFeeAmount=2]="TransferFeeAmount",e[e.MintCloseAuthority=3]="MintCloseAuthority",e[e.ConfidentialTransferMint=4]="ConfidentialTransferMint",e[e.ConfidentialTransferAccount=5]="ConfidentialTransferAccount",e[e.DefaultAccountState=6]="DefaultAccountState",e[e.ImmutableOwner=7]="ImmutableOwner",e[e.MemoTransfer=8]="MemoTransfer",e[e.NonTransferable=9]="NonTransferable",e[e.InterestBearingConfig=10]="InterestBearingConfig",e[e.CpiGuard=11]="CpiGuard",e[e.PermanentDelegate=12]="PermanentDelegate",e[e.NonTransferableAccount=13]="NonTransferableAccount",e[e.TransferHook=14]="TransferHook",e[e.TransferHookAccount=15]="TransferHookAccount",e[e.MetadataPointer=18]="MetadataPointer",e[e.TokenMetadata=19]="TokenMetadata"}(rt||(r.ExtensionType=rt={})),r.TYPE_SIZE=2,r.LENGTH_SIZE=2,r.getTypeLen=getTypeLen,r.isMintExtension=function isMintExtension(e){switch(e){case rt.TransferFeeConfig:case rt.MintCloseAuthority:case rt.ConfidentialTransferMint:case rt.DefaultAccountState:case rt.NonTransferable:case rt.InterestBearingConfig:case rt.PermanentDelegate:case rt.TransferHook:case rt.MetadataPointer:case rt.TokenMetadata:return!0;case rt.Uninitialized:case rt.TransferFeeAmount:case rt.ConfidentialTransferAccount:case rt.ImmutableOwner:case rt.MemoTransfer:case rt.CpiGuard:case rt.NonTransferableAccount:case rt.TransferHookAccount:return!1;default:throw Error(`Unknown extension type: ${e}`)}},r.isAccountExtension=function isAccountExtension(e){switch(e){case rt.TransferFeeAmount:case rt.ConfidentialTransferAccount:case rt.ImmutableOwner:case rt.MemoTransfer:case rt.CpiGuard:case rt.NonTransferableAccount:case rt.TransferHookAccount:return!0;case rt.Uninitialized:case rt.TransferFeeConfig:case rt.MintCloseAuthority:case rt.ConfidentialTransferMint:case rt.DefaultAccountState:case rt.NonTransferable:case rt.InterestBearingConfig:case rt.PermanentDelegate:case rt.TransferHook:case rt.MetadataPointer:case rt.TokenMetadata:return!1;default:throw Error(`Unknown extension type: ${e}`)}},r.getAccountTypeOfMintType=getAccountTypeOfMintType,r.getMintLen=function getMintLen(e,r={}){return getLen(e,s.MINT_SIZE,r)},r.getAccountLen=getAccountLen,r.getExtensionData=getExtensionData,r.getExtensionTypes=getExtensionTypes,r.getAccountLenForMint=function getAccountLenForMint(e){return getAccountLen(getExtensionTypes(e.tlvData).map(getAccountTypeOfMintType))},r.getNewAccountLenForExtensionLen=function getNewAccountLenForExtensionLen(e,r,n,i,a=et.TOKEN_2022_PROGRAM_ID){const k=getExtensionData(n,(0,s.unpackMint)(r,e,a).tlvData),w=k?addTypeAndLengthToLen(k.length):0,I=addTypeAndLengthToLen(i);return e.data.length+I-w}},523730:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getImmutableOwner=r.IMMUTABLE_OWNER_SIZE=r.ImmutableOwnerLayout=void 0;const i=n(878918),s=n(852016);r.ImmutableOwnerLayout=(0,i.struct)([]),r.IMMUTABLE_OWNER_SIZE=r.ImmutableOwnerLayout.span,r.getImmutableOwner=function getImmutableOwner(e){const n=(0,s.getExtensionData)(s.ExtensionType.ImmutableOwner,e.tlvData);return null!==n?r.ImmutableOwnerLayout.decode(n):null}},120873:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__exportStar||function(e,r){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||i(r,e,n)};Object.defineProperty(r,"__esModule",{value:!0}),s(n(169574),r),s(n(228981),r),s(n(191339),r),s(n(852016),r),s(n(523730),r),s(n(87674),r),s(n(403015),r),s(n(374812),r),s(n(43262),r),s(n(288584),r),s(n(745325),r),s(n(744099),r),s(n(778588),r),s(n(292618),r)},170841:function(e,r,n){"use strict";var i=this&&this.__awaiter||function(e,r,n,i){return new(n||(n=Promise))((function(s,a){function fulfilled(e){try{step(i.next(e))}catch(e){a(e)}}function rejected(e){try{step(i.throw(e))}catch(e){a(e)}}function step(e){e.done?s(e.value):function adopt(e){return e instanceof n?e:new n((function(r){r(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.updateRateInterestBearingMint=r.createInterestBearingMint=void 0;const s=n(958966),a=n(409537),k=n(378471),w=n(708666),I=n(852016),we=n(669681);r.createInterestBearingMint=function createInterestBearingMint(e,r,n,a,Ae,Be,Ce,ze=s.Keypair.generate(),qe,$e=k.TOKEN_2022_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const i=(0,I.getMintLen)([I.ExtensionType.InterestBearingConfig]),k=yield e.getMinimumBalanceForRentExemption(i),Ye=(new s.Transaction).add(s.SystemProgram.createAccount({fromPubkey:r.publicKey,newAccountPubkey:ze.publicKey,space:i,lamports:k,programId:$e}),(0,we.createInitializeInterestBearingMintInstruction)(ze.publicKey,Ae,Be,$e),(0,w.createInitializeMintInstruction)(ze.publicKey,Ce,n,a,$e));return yield(0,s.sendAndConfirmTransaction)(e,Ye,[r,ze],qe),ze.publicKey}))},r.updateRateInterestBearingMint=function updateRateInterestBearingMint(e,r,n,w,I,Ae=[],Be,Ce=k.TOKEN_2022_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const[i,k]=(0,a.getSigners)(w,Ae),ze=(new s.Transaction).add((0,we.createUpdateRateInterestBearingMintInstruction)(n,i,I,k,Ce));return yield(0,s.sendAndConfirmTransaction)(e,ze,[r,w,...k],Be)}))}},87674:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__exportStar||function(e,r){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||i(r,e,n)};Object.defineProperty(r,"__esModule",{value:!0}),s(n(170841),r),s(n(669681),r),s(n(598915),r)},669681:(e,r,n)=>{"use strict";var i=n(901048).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.createUpdateRateInterestBearingMintInstruction=r.createInitializeInterestBearingMintInstruction=r.interestBearingMintUpdateRateInstructionData=r.interestBearingMintInitializeInstructionData=r.InterestBearingMintInstruction=void 0;const s=n(878918),a=n(432510),k=n(958966),w=n(378471),I=n(454713),we=n(573355);var Ae;!function(e){e[e.Initialize=0]="Initialize",e[e.UpdateRate=1]="UpdateRate"}(Ae||(r.InterestBearingMintInstruction=Ae={})),r.interestBearingMintInitializeInstructionData=(0,s.struct)([(0,s.u8)("instruction"),(0,s.u8)("interestBearingMintInstruction"),(0,a.publicKey)("rateAuthority"),(0,s.s16)("rate")]),r.interestBearingMintUpdateRateInstructionData=(0,s.struct)([(0,s.u8)("instruction"),(0,s.u8)("interestBearingMintInstruction"),(0,s.s16)("rate")]),r.createInitializeInterestBearingMintInstruction=function createInitializeInterestBearingMintInstruction(e,n,s,a=w.TOKEN_2022_PROGRAM_ID){const I=[{pubkey:e,isSigner:!1,isWritable:!0}],Be=i.alloc(r.interestBearingMintInitializeInstructionData.span);return r.interestBearingMintInitializeInstructionData.encode({instruction:we.TokenInstruction.InterestBearingMintExtension,interestBearingMintInstruction:Ae.Initialize,rateAuthority:n,rate:s},Be),new k.TransactionInstruction({keys:I,programId:a,data:Be})},r.createUpdateRateInterestBearingMintInstruction=function createUpdateRateInterestBearingMintInstruction(e,n,s,a=[],Be=w.TOKEN_2022_PROGRAM_ID){const Ce=(0,I.addSigners)([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!a.length,isWritable:!1}],n,a),ze=i.alloc(r.interestBearingMintUpdateRateInstructionData.span);return r.interestBearingMintUpdateRateInstructionData.encode({instruction:we.TokenInstruction.InterestBearingMintExtension,interestBearingMintInstruction:Ae.UpdateRate,rate:s},ze),new k.TransactionInstruction({keys:Ce,programId:Be,data:ze})}},598915:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getInterestBearingMintConfigState=r.INTEREST_BEARING_MINT_CONFIG_STATE_SIZE=r.InterestBearingMintConfigStateLayout=void 0;const i=n(878918),s=n(432510),a=n(852016);r.InterestBearingMintConfigStateLayout=(0,i.struct)([(0,s.publicKey)("rateAuthority"),(0,i.ns64)("initializationTimestamp"),(0,i.s16)("preUpdateAverageRate"),(0,i.ns64)("lastUpdateTimestamp"),(0,i.s16)("currentRate")]),r.INTEREST_BEARING_MINT_CONFIG_STATE_SIZE=r.InterestBearingMintConfigStateLayout.span,r.getInterestBearingMintConfigState=function getInterestBearingMintConfigState(e){const n=(0,a.getExtensionData)(a.ExtensionType.InterestBearingConfig,e.tlvData);return null!==n?r.InterestBearingMintConfigStateLayout.decode(n):null}},423716:function(e,r,n){"use strict";var i=this&&this.__awaiter||function(e,r,n,i){return new(n||(n=Promise))((function(s,a){function fulfilled(e){try{step(i.next(e))}catch(e){a(e)}}function rejected(e){try{step(i.throw(e))}catch(e){a(e)}}function step(e){e.done?s(e.value):function adopt(e){return e instanceof n?e:new n((function(r){r(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.disableRequiredMemoTransfers=r.enableRequiredMemoTransfers=void 0;const s=n(958966),a=n(409537),k=n(378471),w=n(420214);r.enableRequiredMemoTransfers=function enableRequiredMemoTransfers(e,r,n,I,we=[],Ae,Be=k.TOKEN_2022_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const[i,k]=(0,a.getSigners)(I,we),Ce=(new s.Transaction).add((0,w.createEnableRequiredMemoTransfersInstruction)(n,i,k,Be));return yield(0,s.sendAndConfirmTransaction)(e,Ce,[r,...k],Ae)}))},r.disableRequiredMemoTransfers=function disableRequiredMemoTransfers(e,r,n,I,we=[],Ae,Be=k.TOKEN_2022_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const[i,k]=(0,a.getSigners)(I,we),Ce=(new s.Transaction).add((0,w.createDisableRequiredMemoTransfersInstruction)(n,i,k,Be));return yield(0,s.sendAndConfirmTransaction)(e,Ce,[r,...k],Ae)}))}},403015:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__exportStar||function(e,r){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||i(r,e,n)};Object.defineProperty(r,"__esModule",{value:!0}),s(n(423716),r),s(n(420214),r),s(n(598954),r)},420214:(e,r,n)=>{"use strict";var i=n(901048).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.createDisableRequiredMemoTransfersInstruction=r.createEnableRequiredMemoTransfersInstruction=r.memoTransferInstructionData=r.MemoTransferInstruction=void 0;const s=n(878918),a=n(958966),k=n(378471),w=n(951531),I=n(454713),we=n(573355);var Ae;function createMemoTransferInstruction(e,n,s,Ae,Be){if(!(0,k.programSupportsExtensions)(Be))throw new w.TokenUnsupportedInstructionError;const Ce=(0,I.addSigners)([{pubkey:n,isSigner:!1,isWritable:!0}],s,Ae),ze=i.alloc(r.memoTransferInstructionData.span);return r.memoTransferInstructionData.encode({instruction:we.TokenInstruction.MemoTransferExtension,memoTransferInstruction:e},ze),new a.TransactionInstruction({keys:Ce,programId:Be,data:ze})}!function(e){e[e.Enable=0]="Enable",e[e.Disable=1]="Disable"}(Ae||(r.MemoTransferInstruction=Ae={})),r.memoTransferInstructionData=(0,s.struct)([(0,s.u8)("instruction"),(0,s.u8)("memoTransferInstruction")]),r.createEnableRequiredMemoTransfersInstruction=function createEnableRequiredMemoTransfersInstruction(e,r,n=[],i=k.TOKEN_2022_PROGRAM_ID){return createMemoTransferInstruction(Ae.Enable,e,r,n,i)},r.createDisableRequiredMemoTransfersInstruction=function createDisableRequiredMemoTransfersInstruction(e,r,n=[],i=k.TOKEN_2022_PROGRAM_ID){return createMemoTransferInstruction(Ae.Disable,e,r,n,i)}},598954:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getMemoTransfer=r.MEMO_TRANSFER_SIZE=r.MemoTransferLayout=void 0;const i=n(878918),s=n(432510),a=n(852016);r.MemoTransferLayout=(0,i.struct)([(0,s.bool)("requireIncomingTransferMemos")]),r.MEMO_TRANSFER_SIZE=r.MemoTransferLayout.span,r.getMemoTransfer=function getMemoTransfer(e){const n=(0,a.getExtensionData)(a.ExtensionType.MemoTransfer,e.tlvData);return null!==n?r.MemoTransferLayout.decode(n):null}},374812:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__exportStar||function(e,r){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||i(r,e,n)};Object.defineProperty(r,"__esModule",{value:!0}),s(n(648423),r),s(n(633725),r)},648423:(e,r,n)=>{"use strict";var i=n(901048).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.createUpdateMetadataPointerInstruction=r.updateMetadataPointerData=r.createInitializeMetadataPointerInstruction=r.initializeMetadataPointerData=r.MetadataPointerInstruction=void 0;const s=n(878918),a=n(432510),k=n(958966),w=n(378471),I=n(951531),we=n(573355),Ae=n(454713);var Be;!function(e){e[e.Initialize=0]="Initialize",e[e.Update=1]="Update"}(Be||(r.MetadataPointerInstruction=Be={})),r.initializeMetadataPointerData=(0,s.struct)([(0,s.u8)("instruction"),(0,s.u8)("metadataPointerInstruction"),(0,a.publicKey)("authority"),(0,a.publicKey)("metadataAddress")]),r.createInitializeMetadataPointerInstruction=function createInitializeMetadataPointerInstruction(e,n,s,a){if(!(0,w.programSupportsExtensions)(a))throw new I.TokenUnsupportedInstructionError;const Ae=[{pubkey:e,isSigner:!1,isWritable:!0}],Ce=i.alloc(r.initializeMetadataPointerData.span);return r.initializeMetadataPointerData.encode({instruction:we.TokenInstruction.MetadataPointerExtension,metadataPointerInstruction:Be.Initialize,authority:null!=n?n:k.PublicKey.default,metadataAddress:null!=s?s:k.PublicKey.default},Ce),new k.TransactionInstruction({keys:Ae,programId:a,data:Ce})},r.updateMetadataPointerData=(0,s.struct)([(0,s.u8)("instruction"),(0,s.u8)("metadataPointerInstruction"),(0,a.publicKey)("metadataAddress")]),r.createUpdateMetadataPointerInstruction=function createUpdateMetadataPointerInstruction(e,n,s,a=[],Ce=w.TOKEN_2022_PROGRAM_ID){if(!(0,w.programSupportsExtensions)(Ce))throw new I.TokenUnsupportedInstructionError;const ze=(0,Ae.addSigners)([{pubkey:e,isSigner:!1,isWritable:!0}],n,a),qe=i.alloc(r.updateMetadataPointerData.span);return r.updateMetadataPointerData.encode({instruction:we.TokenInstruction.MetadataPointerExtension,metadataPointerInstruction:Be.Update,metadataAddress:null!=s?s:k.PublicKey.default},qe),new k.TransactionInstruction({keys:ze,programId:Ce,data:qe})}},633725:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getMetadataPointerState=r.METADATA_POINTER_SIZE=r.MetadataPointerLayout=void 0;const i=n(878918),s=n(432510),a=n(958966),k=n(852016);r.MetadataPointerLayout=(0,i.struct)([(0,s.publicKey)("authority"),(0,s.publicKey)("metadataAddress")]),r.METADATA_POINTER_SIZE=r.MetadataPointerLayout.span,r.getMetadataPointerState=function getMetadataPointerState(e){const n=(0,k.getExtensionData)(k.ExtensionType.MetadataPointer,e.tlvData);if(null!==n){const{authority:e,metadataAddress:i}=r.MetadataPointerLayout.decode(n);return{authority:e.equals(a.PublicKey.default)?null:e,metadataAddress:i.equals(a.PublicKey.default)?null:i}}return null}},288584:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getMintCloseAuthority=r.MINT_CLOSE_AUTHORITY_SIZE=r.MintCloseAuthorityLayout=void 0;const i=n(878918),s=n(432510),a=n(852016);r.MintCloseAuthorityLayout=(0,i.struct)([(0,s.publicKey)("closeAuthority")]),r.MINT_CLOSE_AUTHORITY_SIZE=r.MintCloseAuthorityLayout.span,r.getMintCloseAuthority=function getMintCloseAuthority(e){const n=(0,a.getExtensionData)(a.ExtensionType.MintCloseAuthority,e.tlvData);return null!==n?r.MintCloseAuthorityLayout.decode(n):null}},745325:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getNonTransferableAccount=r.getNonTransferable=r.NON_TRANSFERABLE_ACCOUNT_SIZE=r.NON_TRANSFERABLE_SIZE=r.NonTransferableLayout=void 0;const i=n(878918),s=n(852016);r.NonTransferableLayout=(0,i.struct)([]),r.NON_TRANSFERABLE_SIZE=r.NonTransferableLayout.span,r.NON_TRANSFERABLE_ACCOUNT_SIZE=r.NonTransferableLayout.span,r.getNonTransferable=function getNonTransferable(e){const n=(0,s.getExtensionData)(s.ExtensionType.NonTransferable,e.tlvData);return null!==n?r.NonTransferableLayout.decode(n):null},r.getNonTransferableAccount=function getNonTransferableAccount(e){const n=(0,s.getExtensionData)(s.ExtensionType.NonTransferableAccount,e.tlvData);return null!==n?r.NonTransferableLayout.decode(n):null}},778588:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getPermanentDelegate=r.PERMANENT_DELEGATE_SIZE=r.PermanentDelegateLayout=void 0;const i=n(878918),s=n(432510),a=n(852016);r.PermanentDelegateLayout=(0,i.struct)([(0,s.publicKey)("delegate")]),r.PERMANENT_DELEGATE_SIZE=r.PermanentDelegateLayout.span,r.getPermanentDelegate=function getPermanentDelegate(e){const n=(0,a.getExtensionData)(a.ExtensionType.PermanentDelegate,e.tlvData);return null!==n?r.PermanentDelegateLayout.decode(n):null}},440221:function(e,r,n){"use strict";var i=this&&this.__awaiter||function(e,r,n,i){return new(n||(n=Promise))((function(s,a){function fulfilled(e){try{step(i.next(e))}catch(e){a(e)}}function rejected(e){try{step(i.throw(e))}catch(e){a(e)}}function step(e){e.done?s(e.value):function adopt(e){return e instanceof n?e:new n((function(r){r(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.tokenMetadataUpdateAuthority=r.tokenMetadataRemoveKey=r.tokenMetadataUpdateFieldWithRentTransfer=r.tokenMetadataUpdateField=r.tokenMetadataInitializeWithRentTransfer=r.tokenMetadataInitialize=void 0;const s=n(958966),a=n(691706),k=n(378471),w=n(409537),I=n(852016),we=n(579879),Ae=n(951531),Be=n(994152);r.tokenMetadataInitialize=function tokenMetadataInitialize(e,r,n,I,we,Ae,Be,Ce,ze=[],qe,$e=k.TOKEN_2022_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const[i,k]=(0,w.getSigners)(we,ze),Ye=(new s.Transaction).add((0,a.createInitializeInstruction)({programId:$e,metadata:n,updateAuthority:I,mint:n,mintAuthority:i,name:Ae,symbol:Be,uri:Ce}));return yield(0,s.sendAndConfirmTransaction)(e,Ye,[r,...k],qe)}))},r.tokenMetadataInitializeWithRentTransfer=function tokenMetadataInitializeWithRentTransfer(e,r,n,we,Be,Ce,ze,qe,$e=[],Ye,Je=k.TOKEN_2022_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const[et,rt]=(0,w.getSigners)(Be,$e),it=new s.Transaction,ot=yield function getAdditionalRentForNewMetadata(e,r,n,s=k.TOKEN_2022_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const i=yield e.getAccountInfo(r);if(!i)throw new Ae.TokenAccountNotFoundError;const k=(0,a.pack)(n).length,w=(0,I.getNewAccountLenForExtensionLen)(i,r,I.ExtensionType.TokenMetadata,k,s);return w<=i.data.length?0:(yield e.getMinimumBalanceForRentExemption(w))-i.lamports}))}(e,n,{updateAuthority:we,mint:n,name:Ce,symbol:ze,uri:qe,additionalMetadata:[]},Je);return ot>0&&it.add(s.SystemProgram.transfer({fromPubkey:r.publicKey,toPubkey:n,lamports:ot})),it.add((0,a.createInitializeInstruction)({programId:Je,metadata:n,updateAuthority:we,mint:n,mintAuthority:et,name:Ce,symbol:ze,uri:qe})),yield(0,s.sendAndConfirmTransaction)(e,it,[r,...rt],Ye)}))},r.tokenMetadataUpdateField=function tokenMetadataUpdateField(e,r,n,I,we,Ae,Be=[],Ce,ze=k.TOKEN_2022_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const[i,k]=(0,w.getSigners)(I,Be),qe=(new s.Transaction).add((0,a.createUpdateFieldInstruction)({programId:ze,metadata:n,updateAuthority:i,field:we,value:Ae}));return yield(0,s.sendAndConfirmTransaction)(e,qe,[r,...k],Ce)}))},r.tokenMetadataUpdateFieldWithRentTransfer=function tokenMetadataUpdateFieldWithRentTransfer(e,r,n,Ce,ze,qe,$e=[],Ye,Je=k.TOKEN_2022_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const[et,rt]=(0,w.getSigners)(Ce,$e),it=new s.Transaction,ot=yield function getAdditionalRentForUpdatedMetadata(e,r,n,s,w=k.TOKEN_2022_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const i=yield e.getAccountInfo(r);if(!i)throw new Ae.TokenAccountNotFoundError;const k=(0,Be.unpackMint)(r,i,w),Ce=(0,I.getExtensionData)(I.ExtensionType.TokenMetadata,k.tlvData);if(null===Ce)throw new Error("TokenMetadata extension not initialized");const ze=(0,we.updateTokenMetadata)((0,a.unpack)(Ce),n,s),qe=(0,a.pack)(ze).length,$e=(0,I.getNewAccountLenForExtensionLen)(i,r,I.ExtensionType.TokenMetadata,qe,w);return $e<=i.data.length?0:(yield e.getMinimumBalanceForRentExemption($e))-i.lamports}))}(e,n,ze,qe,Je);return ot>0&&it.add(s.SystemProgram.transfer({fromPubkey:r.publicKey,toPubkey:n,lamports:ot})),it.add((0,a.createUpdateFieldInstruction)({programId:Je,metadata:n,updateAuthority:et,field:ze,value:qe})),yield(0,s.sendAndConfirmTransaction)(e,it,[r,...rt],Ye)}))},r.tokenMetadataRemoveKey=function tokenMetadataRemoveKey(e,r,n,I,we,Ae,Be=[],Ce,ze=k.TOKEN_2022_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const[i,k]=(0,w.getSigners)(I,Be),qe=(new s.Transaction).add((0,a.createRemoveKeyInstruction)({programId:ze,metadata:n,updateAuthority:i,key:we,idempotent:Ae}));return yield(0,s.sendAndConfirmTransaction)(e,qe,[r,...k],Ce)}))},r.tokenMetadataUpdateAuthority=function tokenMetadataUpdateAuthority(e,r,n,I,we,Ae=[],Be,Ce=k.TOKEN_2022_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const[i,k]=(0,w.getSigners)(I,Ae),ze=(new s.Transaction).add((0,a.createUpdateAuthorityInstruction)({programId:Ce,metadata:n,oldAuthority:i,newAuthority:we}));return yield(0,s.sendAndConfirmTransaction)(e,ze,[r,...k],Be)}))}},43262:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__exportStar||function(e,r){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||i(r,e,n)};Object.defineProperty(r,"__esModule",{value:!0}),s(n(440221),r),s(n(579879),r)},579879:function(e,r,n){"use strict";var i=this&&this.__awaiter||function(e,r,n,i){return new(n||(n=Promise))((function(s,a){function fulfilled(e){try{step(i.next(e))}catch(e){a(e)}}function rejected(e){try{step(i.throw(e))}catch(e){a(e)}}function step(e){e.done?s(e.value):function adopt(e){return e instanceof n?e:new n((function(r){r(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.getTokenMetadata=r.updateTokenMetadata=void 0;const s=n(691706),a=n(378471),k=n(852016),w=n(441154);r.updateTokenMetadata=function updateTokenMetadata(e,r,n){const i=(e=>e===s.Field.Name||"Name"===e||"name"===e?"name":e===s.Field.Symbol||"Symbol"===e||"symbol"===e?"symbol":e===s.Field.Uri||"Uri"===e||"uri"===e?"uri":e)(r);if("mint"===i||"updateAuthority"===i)throw new Error(`Cannot update ${i} via this instruction`);if(["name","symbol","uri"].includes(i))return Object.assign(Object.assign({},e),{[i]:n});const a=[...e.additionalMetadata],k=e.additionalMetadata.findIndex((e=>e[0]===i));return-1===k?a.push([i,n]):a[k]=[i,n],Object.assign(Object.assign({},e),{additionalMetadata:a})},r.getTokenMetadata=function getTokenMetadata(e,r,n,I=a.TOKEN_2022_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const i=yield(0,w.getMint)(e,r,n,I),a=(0,k.getExtensionData)(k.ExtensionType.TokenMetadata,i.tlvData);return null===a?null:(0,s.unpack)(a)}))}},456576:function(e,r,n){"use strict";var i=this&&this.__awaiter||function(e,r,n,i){return new(n||(n=Promise))((function(s,a){function fulfilled(e){try{step(i.next(e))}catch(e){a(e)}}function rejected(e){try{step(i.throw(e))}catch(e){a(e)}}function step(e){e.done?s(e.value):function adopt(e){return e instanceof n?e:new n((function(r){r(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.harvestWithheldTokensToMint=r.withdrawWithheldTokensFromAccounts=r.withdrawWithheldTokensFromMint=r.transferCheckedWithFee=void 0;const s=n(958966),a=n(409537),k=n(378471),w=n(566338);r.transferCheckedWithFee=function transferCheckedWithFee(e,r,n,I,we,Ae,Be,Ce,ze,qe=[],$e,Ye=k.TOKEN_2022_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const[i,k]=(0,a.getSigners)(Ae,qe),Je=(new s.Transaction).add((0,w.createTransferCheckedWithFeeInstruction)(n,I,we,i,Be,Ce,ze,qe,Ye));return yield(0,s.sendAndConfirmTransaction)(e,Je,[r,...k],$e)}))},r.withdrawWithheldTokensFromMint=function withdrawWithheldTokensFromMint(e,r,n,I,we,Ae=[],Be,Ce=k.TOKEN_2022_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const[i,k]=(0,a.getSigners)(we,Ae),ze=(new s.Transaction).add((0,w.createWithdrawWithheldTokensFromMintInstruction)(n,I,i,k,Ce));return yield(0,s.sendAndConfirmTransaction)(e,ze,[r,...k],Be)}))},r.withdrawWithheldTokensFromAccounts=function withdrawWithheldTokensFromAccounts(e,r,n,I,we,Ae,Be,Ce,ze=k.TOKEN_2022_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const[i,k]=(0,a.getSigners)(we,Ae),qe=(new s.Transaction).add((0,w.createWithdrawWithheldTokensFromAccountsInstruction)(n,I,i,k,Be,ze));return yield(0,s.sendAndConfirmTransaction)(e,qe,[r,...k],Ce)}))},r.harvestWithheldTokensToMint=function harvestWithheldTokensToMint(e,r,n,a,I,we=k.TOKEN_2022_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const i=(new s.Transaction).add((0,w.createHarvestWithheldTokensToMintInstruction)(n,a,we));return yield(0,s.sendAndConfirmTransaction)(e,i,[r],I)}))}},744099:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__exportStar||function(e,r){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||i(r,e,n)};Object.defineProperty(r,"__esModule",{value:!0}),s(n(456576),r),s(n(566338),r),s(n(680950),r)},566338:(e,r,n)=>{"use strict";var i=n(901048).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.decodeHarvestWithheldTokensToMintInstructionUnchecked=r.decodeHarvestWithheldTokensToMintInstruction=r.createHarvestWithheldTokensToMintInstruction=r.harvestWithheldTokensToMintInstructionData=r.decodeWithdrawWithheldTokensFromAccountsInstructionUnchecked=r.decodeWithdrawWithheldTokensFromAccountsInstruction=r.createWithdrawWithheldTokensFromAccountsInstruction=r.withdrawWithheldTokensFromAccountsInstructionData=r.decodeWithdrawWithheldTokensFromMintInstructionUnchecked=r.decodeWithdrawWithheldTokensFromMintInstruction=r.createWithdrawWithheldTokensFromMintInstruction=r.withdrawWithheldTokensFromMintInstructionData=r.decodeTransferCheckedWithFeeInstructionUnchecked=r.decodeTransferCheckedWithFeeInstruction=r.createTransferCheckedWithFeeInstruction=r.transferCheckedWithFeeInstructionData=r.decodeInitializeTransferFeeConfigInstructionUnchecked=r.decodeInitializeTransferFeeConfigInstruction=r.createInitializeTransferFeeConfigInstruction=r.initializeTransferFeeConfigInstructionData=r.TransferFeeInstruction=void 0;const s=n(878918),a=n(432510),k=n(958966),w=n(378471),I=n(951531),we=n(454713),Ae=n(573355);var Be;function decodeInitializeTransferFeeConfigInstructionUnchecked({programId:e,keys:[n],data:i}){const{instruction:s,transferFeeInstruction:a,transferFeeConfigAuthorityOption:k,transferFeeConfigAuthority:w,withdrawWithheldAuthorityOption:I,withdrawWithheldAuthority:we,transferFeeBasisPoints:Ae,maximumFee:Be}=r.initializeTransferFeeConfigInstructionData.decode(i);return{programId:e,keys:{mint:n},data:{instruction:s,transferFeeInstruction:a,transferFeeConfigAuthority:k?w:null,withdrawWithheldAuthority:I?we:null,transferFeeBasisPoints:Ae,maximumFee:Be}}}function decodeTransferCheckedWithFeeInstructionUnchecked({programId:e,keys:[n,i,s,a,...k],data:w}){const{instruction:I,transferFeeInstruction:we,amount:Ae,decimals:Be,fee:Ce}=r.transferCheckedWithFeeInstructionData.decode(w);return{programId:e,keys:{source:n,mint:i,destination:s,authority:a,signers:k},data:{instruction:I,transferFeeInstruction:we,amount:Ae,decimals:Be,fee:Ce}}}function decodeWithdrawWithheldTokensFromMintInstructionUnchecked({programId:e,keys:[n,i,s,...a],data:k}){const{instruction:w,transferFeeInstruction:I}=r.withdrawWithheldTokensFromMintInstructionData.decode(k);return{programId:e,keys:{mint:n,destination:i,authority:s,signers:a},data:{instruction:w,transferFeeInstruction:I}}}function decodeWithdrawWithheldTokensFromAccountsInstructionUnchecked({programId:e,keys:n,data:i}){const{instruction:s,transferFeeInstruction:a,numTokenAccounts:k}=r.withdrawWithheldTokensFromAccountsInstructionData.decode(i),[w,I,we,Ae,Be]=[n[0],n[1],n[2],n.slice(3,3+k),n.slice(-1*k)];return{programId:e,keys:{mint:w,destination:I,authority:we,signers:Ae,sources:Be},data:{instruction:s,transferFeeInstruction:a,numTokenAccounts:k}}}function decodeHarvestWithheldTokensToMintInstructionUnchecked({programId:e,keys:[n,...i],data:s}){const{instruction:a,transferFeeInstruction:k}=r.harvestWithheldTokensToMintInstructionData.decode(s);return{programId:e,keys:{mint:n,sources:i},data:{instruction:a,transferFeeInstruction:k}}}!function(e){e[e.InitializeTransferFeeConfig=0]="InitializeTransferFeeConfig",e[e.TransferCheckedWithFee=1]="TransferCheckedWithFee",e[e.WithdrawWithheldTokensFromMint=2]="WithdrawWithheldTokensFromMint",e[e.WithdrawWithheldTokensFromAccounts=3]="WithdrawWithheldTokensFromAccounts",e[e.HarvestWithheldTokensToMint=4]="HarvestWithheldTokensToMint",e[e.SetTransferFee=5]="SetTransferFee"}(Be||(r.TransferFeeInstruction=Be={})),r.initializeTransferFeeConfigInstructionData=(0,s.struct)([(0,s.u8)("instruction"),(0,s.u8)("transferFeeInstruction"),(0,s.u8)("transferFeeConfigAuthorityOption"),(0,a.publicKey)("transferFeeConfigAuthority"),(0,s.u8)("withdrawWithheldAuthorityOption"),(0,a.publicKey)("withdrawWithheldAuthority"),(0,s.u16)("transferFeeBasisPoints"),(0,a.u64)("maximumFee")]),r.createInitializeTransferFeeConfigInstruction=function createInitializeTransferFeeConfigInstruction(e,n,s,a,we,Ce=w.TOKEN_2022_PROGRAM_ID){if(!(0,w.programSupportsExtensions)(Ce))throw new I.TokenUnsupportedInstructionError;const ze=[{pubkey:e,isSigner:!1,isWritable:!0}],qe=i.alloc(r.initializeTransferFeeConfigInstructionData.span);return r.initializeTransferFeeConfigInstructionData.encode({instruction:Ae.TokenInstruction.TransferFeeExtension,transferFeeInstruction:Be.InitializeTransferFeeConfig,transferFeeConfigAuthorityOption:n?1:0,transferFeeConfigAuthority:n||new k.PublicKey(0),withdrawWithheldAuthorityOption:s?1:0,withdrawWithheldAuthority:s||new k.PublicKey(0),transferFeeBasisPoints:a,maximumFee:we},qe),new k.TransactionInstruction({keys:ze,programId:Ce,data:qe})},r.decodeInitializeTransferFeeConfigInstruction=function decodeInitializeTransferFeeConfigInstruction(e,n){if(!e.programId.equals(n))throw new I.TokenInvalidInstructionProgramError;if(e.data.length!==r.initializeTransferFeeConfigInstructionData.span)throw new I.TokenInvalidInstructionDataError;const{keys:{mint:i},data:s}=decodeInitializeTransferFeeConfigInstructionUnchecked(e);if(s.instruction!==Ae.TokenInstruction.TransferFeeExtension||s.transferFeeInstruction!==Be.InitializeTransferFeeConfig)throw new I.TokenInvalidInstructionTypeError;if(!i)throw new I.TokenInvalidInstructionKeysError;return{programId:n,keys:{mint:i},data:s}},r.decodeInitializeTransferFeeConfigInstructionUnchecked=decodeInitializeTransferFeeConfigInstructionUnchecked,r.transferCheckedWithFeeInstructionData=(0,s.struct)([(0,s.u8)("instruction"),(0,s.u8)("transferFeeInstruction"),(0,a.u64)("amount"),(0,s.u8)("decimals"),(0,a.u64)("fee")]),r.createTransferCheckedWithFeeInstruction=function createTransferCheckedWithFeeInstruction(e,n,s,a,Ce,ze,qe,$e=[],Ye=w.TOKEN_2022_PROGRAM_ID){if(!(0,w.programSupportsExtensions)(Ye))throw new I.TokenUnsupportedInstructionError;const Je=i.alloc(r.transferCheckedWithFeeInstructionData.span);r.transferCheckedWithFeeInstructionData.encode({instruction:Ae.TokenInstruction.TransferFeeExtension,transferFeeInstruction:Be.TransferCheckedWithFee,amount:Ce,decimals:ze,fee:qe},Je);const et=(0,we.addSigners)([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!0}],a,$e);return new k.TransactionInstruction({keys:et,programId:Ye,data:Je})},r.decodeTransferCheckedWithFeeInstruction=function decodeTransferCheckedWithFeeInstruction(e,n){if(!e.programId.equals(n))throw new I.TokenInvalidInstructionProgramError;if(e.data.length!==r.transferCheckedWithFeeInstructionData.span)throw new I.TokenInvalidInstructionDataError;const{keys:{source:i,mint:s,destination:a,authority:k,signers:w},data:we}=decodeTransferCheckedWithFeeInstructionUnchecked(e);if(we.instruction!==Ae.TokenInstruction.TransferFeeExtension||we.transferFeeInstruction!==Be.TransferCheckedWithFee)throw new I.TokenInvalidInstructionTypeError;if(!s)throw new I.TokenInvalidInstructionKeysError;return{programId:n,keys:{source:i,mint:s,destination:a,authority:k,signers:w||null},data:we}},r.decodeTransferCheckedWithFeeInstructionUnchecked=decodeTransferCheckedWithFeeInstructionUnchecked,r.withdrawWithheldTokensFromMintInstructionData=(0,s.struct)([(0,s.u8)("instruction"),(0,s.u8)("transferFeeInstruction")]),r.createWithdrawWithheldTokensFromMintInstruction=function createWithdrawWithheldTokensFromMintInstruction(e,n,s,a=[],Ce=w.TOKEN_2022_PROGRAM_ID){if(!(0,w.programSupportsExtensions)(Ce))throw new I.TokenUnsupportedInstructionError;const ze=i.alloc(r.withdrawWithheldTokensFromMintInstructionData.span);r.withdrawWithheldTokensFromMintInstructionData.encode({instruction:Ae.TokenInstruction.TransferFeeExtension,transferFeeInstruction:Be.WithdrawWithheldTokensFromMint},ze);const qe=(0,we.addSigners)([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0}],s,a);return new k.TransactionInstruction({keys:qe,programId:Ce,data:ze})},r.decodeWithdrawWithheldTokensFromMintInstruction=function decodeWithdrawWithheldTokensFromMintInstruction(e,n){if(!e.programId.equals(n))throw new I.TokenInvalidInstructionProgramError;if(e.data.length!==r.withdrawWithheldTokensFromMintInstructionData.span)throw new I.TokenInvalidInstructionDataError;const{keys:{mint:i,destination:s,authority:a,signers:k},data:w}=decodeWithdrawWithheldTokensFromMintInstructionUnchecked(e);if(w.instruction!==Ae.TokenInstruction.TransferFeeExtension||w.transferFeeInstruction!==Be.WithdrawWithheldTokensFromMint)throw new I.TokenInvalidInstructionTypeError;if(!i)throw new I.TokenInvalidInstructionKeysError;return{programId:n,keys:{mint:i,destination:s,authority:a,signers:k||null},data:w}},r.decodeWithdrawWithheldTokensFromMintInstructionUnchecked=decodeWithdrawWithheldTokensFromMintInstructionUnchecked,r.withdrawWithheldTokensFromAccountsInstructionData=(0,s.struct)([(0,s.u8)("instruction"),(0,s.u8)("transferFeeInstruction"),(0,s.u8)("numTokenAccounts")]),r.createWithdrawWithheldTokensFromAccountsInstruction=function createWithdrawWithheldTokensFromAccountsInstruction(e,n,s,a,Ce,ze=w.TOKEN_2022_PROGRAM_ID){if(!(0,w.programSupportsExtensions)(ze))throw new I.TokenUnsupportedInstructionError;const qe=i.alloc(r.withdrawWithheldTokensFromAccountsInstructionData.span);r.withdrawWithheldTokensFromAccountsInstructionData.encode({instruction:Ae.TokenInstruction.TransferFeeExtension,transferFeeInstruction:Be.WithdrawWithheldTokensFromAccounts,numTokenAccounts:Ce.length},qe);const $e=(0,we.addSigners)([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0}],s,a);for(const e of Ce)$e.push({pubkey:e,isSigner:!1,isWritable:!0});return new k.TransactionInstruction({keys:$e,programId:ze,data:qe})},r.decodeWithdrawWithheldTokensFromAccountsInstruction=function decodeWithdrawWithheldTokensFromAccountsInstruction(e,n){if(!e.programId.equals(n))throw new I.TokenInvalidInstructionProgramError;if(e.data.length!==r.withdrawWithheldTokensFromAccountsInstructionData.span)throw new I.TokenInvalidInstructionDataError;const{keys:{mint:i,destination:s,authority:a,signers:k,sources:w},data:we}=decodeWithdrawWithheldTokensFromAccountsInstructionUnchecked(e);if(we.instruction!==Ae.TokenInstruction.TransferFeeExtension||we.transferFeeInstruction!==Be.WithdrawWithheldTokensFromAccounts)throw new I.TokenInvalidInstructionTypeError;if(!i)throw new I.TokenInvalidInstructionKeysError;return{programId:n,keys:{mint:i,destination:s,authority:a,signers:k||null,sources:w||null},data:we}},r.decodeWithdrawWithheldTokensFromAccountsInstructionUnchecked=decodeWithdrawWithheldTokensFromAccountsInstructionUnchecked,r.harvestWithheldTokensToMintInstructionData=(0,s.struct)([(0,s.u8)("instruction"),(0,s.u8)("transferFeeInstruction")]),r.createHarvestWithheldTokensToMintInstruction=function createHarvestWithheldTokensToMintInstruction(e,n,s=w.TOKEN_2022_PROGRAM_ID){if(!(0,w.programSupportsExtensions)(s))throw new I.TokenUnsupportedInstructionError;const a=i.alloc(r.harvestWithheldTokensToMintInstructionData.span);r.harvestWithheldTokensToMintInstructionData.encode({instruction:Ae.TokenInstruction.TransferFeeExtension,transferFeeInstruction:Be.HarvestWithheldTokensToMint},a);const we=[];we.push({pubkey:e,isSigner:!1,isWritable:!0});for(const e of n)we.push({pubkey:e,isSigner:!1,isWritable:!0});return new k.TransactionInstruction({keys:we,programId:s,data:a})},r.decodeHarvestWithheldTokensToMintInstruction=function decodeHarvestWithheldTokensToMintInstruction(e,n){if(!e.programId.equals(n))throw new I.TokenInvalidInstructionProgramError;if(e.data.length!==r.harvestWithheldTokensToMintInstructionData.span)throw new I.TokenInvalidInstructionDataError;const{keys:{mint:i,sources:s},data:a}=decodeHarvestWithheldTokensToMintInstructionUnchecked(e);if(a.instruction!==Ae.TokenInstruction.TransferFeeExtension||a.transferFeeInstruction!==Be.HarvestWithheldTokensToMint)throw new I.TokenInvalidInstructionTypeError;if(!i)throw new I.TokenInvalidInstructionKeysError;return{programId:n,keys:{mint:i,sources:s},data:a}},r.decodeHarvestWithheldTokensToMintInstructionUnchecked=decodeHarvestWithheldTokensToMintInstructionUnchecked},680950:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getTransferFeeAmount=r.getTransferFeeConfig=r.TRANSFER_FEE_AMOUNT_SIZE=r.TransferFeeAmountLayout=r.calculateEpochFee=r.getEpochFee=r.TRANSFER_FEE_CONFIG_SIZE=r.TransferFeeConfigLayout=r.calculateFee=r.transferFeeLayout=r.ONE_IN_BASIS_POINTS=r.MAX_FEE_BASIS_POINTS=void 0;const i=n(878918),s=n(432510),a=n(852016);function transferFeeLayout(e){return(0,i.struct)([(0,s.u64)("epoch"),(0,s.u64)("maximumFee"),(0,i.u16)("transferFeeBasisPoints")],e)}function calculateFee(e,n){const i=e.transferFeeBasisPoints;if(0===i||n===BigInt(0))return BigInt(0);{const s=(n*BigInt(i)+r.ONE_IN_BASIS_POINTS-BigInt(1))/r.ONE_IN_BASIS_POINTS,a=s>e.maximumFee?e.maximumFee:s;return BigInt(a)}}function getEpochFee(e,r){return r>=e.newerTransferFee.epoch?e.newerTransferFee:e.olderTransferFee}r.MAX_FEE_BASIS_POINTS=1e4,r.ONE_IN_BASIS_POINTS=BigInt(r.MAX_FEE_BASIS_POINTS),r.transferFeeLayout=transferFeeLayout,r.calculateFee=calculateFee,r.TransferFeeConfigLayout=(0,i.struct)([(0,s.publicKey)("transferFeeConfigAuthority"),(0,s.publicKey)("withdrawWithheldAuthority"),(0,s.u64)("withheldAmount"),transferFeeLayout("olderTransferFee"),transferFeeLayout("newerTransferFee")]),r.TRANSFER_FEE_CONFIG_SIZE=r.TransferFeeConfigLayout.span,r.getEpochFee=getEpochFee,r.calculateEpochFee=function calculateEpochFee(e,r,n){return calculateFee(getEpochFee(e,r),n)},r.TransferFeeAmountLayout=(0,i.struct)([(0,s.u64)("withheldAmount")]),r.TRANSFER_FEE_AMOUNT_SIZE=r.TransferFeeAmountLayout.span,r.getTransferFeeConfig=function getTransferFeeConfig(e){const n=(0,a.getExtensionData)(a.ExtensionType.TransferFeeConfig,e.tlvData);return null!==n?r.TransferFeeConfigLayout.decode(n):null},r.getTransferFeeAmount=function getTransferFeeAmount(e){const n=(0,a.getExtensionData)(a.ExtensionType.TransferFeeAmount,e.tlvData);return null!==n?r.TransferFeeAmountLayout.decode(n):null}},67145:function(e,r,n){"use strict";var i=this&&this.__awaiter||function(e,r,n,i){return new(n||(n=Promise))((function(s,a){function fulfilled(e){try{step(i.next(e))}catch(e){a(e)}}function rejected(e){try{step(i.throw(e))}catch(e){a(e)}}function step(e){e.done?s(e.value):function adopt(e){return e instanceof n?e:new n((function(r){r(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.transferCheckedWithFeeAndTransferHook=r.transferCheckedWithTransferHook=r.updateTransferHook=r.initializeTransferHook=void 0;const s=n(958966),a=n(409537),k=n(378471),w=n(560321);r.initializeTransferHook=function initializeTransferHook(e,r,n,a,I,we,Ae=k.TOKEN_2022_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const i=(new s.Transaction).add((0,w.createInitializeTransferHookInstruction)(n,a,I,Ae));return yield(0,s.sendAndConfirmTransaction)(e,i,[r],we)}))},r.updateTransferHook=function updateTransferHook(e,r,n,I,we,Ae=[],Be,Ce=k.TOKEN_2022_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const[i,k]=(0,a.getSigners)(we,Ae),ze=(new s.Transaction).add((0,w.createUpdateTransferHookInstruction)(n,i,I,k,Ce));return yield(0,s.sendAndConfirmTransaction)(e,ze,[r,...k],Be)}))},r.transferCheckedWithTransferHook=function transferCheckedWithTransferHook(e,r,n,I,we,Ae,Be,Ce,ze=[],qe,$e=k.TOKEN_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const[i,k]=(0,a.getSigners)(Ae,ze),Ye=(new s.Transaction).add(yield(0,w.createTransferCheckedWithTransferHookInstruction)(e,n,I,we,i,Be,Ce,k,null==qe?void 0:qe.commitment,$e));return yield(0,s.sendAndConfirmTransaction)(e,Ye,[r,...k],qe)}))},r.transferCheckedWithFeeAndTransferHook=function transferCheckedWithFeeAndTransferHook(e,r,n,I,we,Ae,Be,Ce,ze,qe=[],$e,Ye=k.TOKEN_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const[i,k]=(0,a.getSigners)(Ae,qe),Je=(new s.Transaction).add(yield(0,w.createTransferCheckedWithFeeAndTransferHookInstruction)(e,n,I,we,i,Be,Ce,ze,k,null==$e?void 0:$e.commitment,Ye));return yield(0,s.sendAndConfirmTransaction)(e,Je,[r,...k],$e)}))}},292618:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__exportStar||function(e,r){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||i(r,e,n)};Object.defineProperty(r,"__esModule",{value:!0}),s(n(67145),r),s(n(560321),r),s(n(483644),r),s(n(703635),r)},560321:function(e,r,n){"use strict";var i=n(901048).Buffer,s=this&&this.__awaiter||function(e,r,n,i){return new(n||(n=Promise))((function(s,a){function fulfilled(e){try{step(i.next(e))}catch(e){a(e)}}function rejected(e){try{step(i.throw(e))}catch(e){a(e)}}function step(e){e.done?s(e.value):function adopt(e){return e instanceof n?e:new n((function(r){r(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.createTransferCheckedWithFeeAndTransferHookInstruction=r.createTransferCheckedWithTransferHookInstruction=r.addExtraAccountsToInstruction=r.createUpdateTransferHookInstruction=r.updateTransferHookInstructionData=r.createInitializeTransferHookInstruction=r.initializeTransferHookInstructionData=r.TransferHookInstruction=void 0;const a=n(878918),k=n(958966),w=n(378471),I=n(951531),we=n(454713),Ae=n(573355),Be=n(432510),Ce=n(460174),ze=n(566338),qe=n(441154),$e=n(703635);var Ye;function deEscalateAccountMeta(e,r){const n=r.filter((r=>r.pubkey===e.pubkey)).reduce(((e,r)=>e?{isSigner:e.isSigner||r.isSigner,isWritable:e.isWritable||r.isWritable}:{isSigner:r.isSigner,isWritable:r.isWritable}),void 0);if(n){const{isSigner:r,isWritable:i}=n;r||r===e.isSigner||(e.isSigner=!1),i||i===e.isWritable||(e.isWritable=!1)}return e}function addExtraAccountsToInstruction(e,r,n,i,a=w.TOKEN_PROGRAM_ID){return s(this,void 0,void 0,(function*(){if(!(0,w.programSupportsExtensions)(a))throw new I.TokenUnsupportedInstructionError;const s=yield(0,qe.getMint)(e,n,i,a),we=(0,$e.getTransferHook)(s);if(null==we)return r;const Ae=(0,$e.getExtraAccountMetaAddress)(n,we.programId),Be=yield e.getAccountInfo(Ae,i);if(null==Be)return r;const Ce=(0,$e.getExtraAccountMetas)(Be),ze=r.keys;for(const n of Ce){const i=deEscalateAccountMeta(yield(0,$e.resolveExtraAccountMeta)(e,n,ze,r.data,we.programId),ze);ze.push(i)}return ze.push({pubkey:we.programId,isSigner:!1,isWritable:!1}),ze.push({pubkey:Ae,isSigner:!1,isWritable:!1}),new k.TransactionInstruction({keys:ze,programId:a,data:r.data})}))}!function(e){e[e.Initialize=0]="Initialize",e[e.Update=1]="Update"}(Ye||(r.TransferHookInstruction=Ye={})),r.initializeTransferHookInstructionData=(0,a.struct)([(0,a.u8)("instruction"),(0,a.u8)("transferHookInstruction"),(0,Be.publicKey)("authority"),(0,Be.publicKey)("transferHookProgramId")]),r.createInitializeTransferHookInstruction=function createInitializeTransferHookInstruction(e,n,s,a){if(!(0,w.programSupportsExtensions)(a))throw new I.TokenUnsupportedInstructionError;const we=[{pubkey:e,isSigner:!1,isWritable:!0}],Be=i.alloc(r.initializeTransferHookInstructionData.span);return r.initializeTransferHookInstructionData.encode({instruction:Ae.TokenInstruction.TransferHookExtension,transferHookInstruction:Ye.Initialize,authority:n,transferHookProgramId:s},Be),new k.TransactionInstruction({keys:we,programId:a,data:Be})},r.updateTransferHookInstructionData=(0,a.struct)([(0,a.u8)("instruction"),(0,a.u8)("transferHookInstruction"),(0,Be.publicKey)("transferHookProgramId")]),r.createUpdateTransferHookInstruction=function createUpdateTransferHookInstruction(e,n,s,a=[],Be=w.TOKEN_2022_PROGRAM_ID){if(!(0,w.programSupportsExtensions)(Be))throw new I.TokenUnsupportedInstructionError;const Ce=(0,we.addSigners)([{pubkey:e,isSigner:!1,isWritable:!0}],n,a),ze=i.alloc(r.updateTransferHookInstructionData.span);return r.updateTransferHookInstructionData.encode({instruction:Ae.TokenInstruction.TransferHookExtension,transferHookInstruction:Ye.Update,transferHookProgramId:s},ze),new k.TransactionInstruction({keys:Ce,programId:Be,data:ze})},r.addExtraAccountsToInstruction=addExtraAccountsToInstruction,r.createTransferCheckedWithTransferHookInstruction=function createTransferCheckedWithTransferHookInstruction(e,r,n,i,a,k,I,we=[],Ae,Be=w.TOKEN_PROGRAM_ID){return s(this,void 0,void 0,(function*(){const s=(0,Ce.createTransferCheckedInstruction)(r,n,i,a,k,I,we,Be);return yield addExtraAccountsToInstruction(e,s,n,Ae,Be)}))},r.createTransferCheckedWithFeeAndTransferHookInstruction=function createTransferCheckedWithFeeAndTransferHookInstruction(e,r,n,i,a,k,I,we,Ae=[],Be,Ce=w.TOKEN_PROGRAM_ID){return s(this,void 0,void 0,(function*(){const s=(0,ze.createTransferCheckedWithFeeInstruction)(r,n,i,a,k,I,we,Ae,Ce);return yield addExtraAccountsToInstruction(e,s,n,Be,Ce)}))}},483644:function(e,r,n){"use strict";var i=n(901048).Buffer,s=this&&this.__awaiter||function(e,r,n,i){return new(n||(n=Promise))((function(s,a){function fulfilled(e){try{step(i.next(e))}catch(e){a(e)}}function rejected(e){try{step(i.throw(e))}catch(e){a(e)}}function step(e){e.done?s(e.value):function adopt(e){return e instanceof n?e:new n((function(r){r(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.unpackSeeds=void 0;const a=n(951531),k=1,w=1,I=1,we=1,Ae=1,Be=1,Ce=1,ze=1;function unpackFirstSeed(e,r,n,qe){return s(this,void 0,void 0,(function*(){const[$e,...Ye]=e,Je=new Uint8Array(Ye);switch($e){case 0:return null;case 1:return function unpackSeedLiteral(e){if(e.length<1)throw new a.TokenTransferHookInvalidSeed;const[r,...n]=e;if(n.length<r)throw new a.TokenTransferHookInvalidSeed;return{data:i.from(n.slice(0,r)),packedLength:k+w+r}}(Je);case 2:return function unpackSeedInstructionArg(e,r){if(e.length<2)throw new a.TokenTransferHookInvalidSeed;const[n,i]=e;if(r.length<i+n)throw new a.TokenTransferHookInvalidSeed;return{data:r.subarray(n,n+i),packedLength:k+I+we}}(Je,n);case 3:return function unpackSeedAccountKey(e,r){if(e.length<1)throw new a.TokenTransferHookInvalidSeed;const[n]=e;if(r.length<=n)throw new a.TokenTransferHookInvalidSeed;return{data:r[n].pubkey.toBuffer(),packedLength:k+Ae}}(Je,r);case 4:return function unpackSeedAccountData(e,r,n){return s(this,void 0,void 0,(function*(){if(e.length<3)throw new a.TokenTransferHookInvalidSeed;const[i,s,w]=e;if(r.length<=i)throw new a.TokenTransferHookInvalidSeed;const I=yield n.getAccountInfo(r[i].pubkey);if(null==I)throw new a.TokenTransferHookAccountDataNotFound;if(I.data.length<s+w)throw new a.TokenTransferHookInvalidSeed;return{data:I.data.subarray(s,s+w),packedLength:k+Be+Ce+ze}}))}(Je,r,qe);default:throw new a.TokenTransferHookInvalidSeed}}))}r.unpackSeeds=function unpackSeeds(e,r,n,i){return s(this,void 0,void 0,(function*(){const s=[];let a=0;for(;a<32;){const k=yield unpackFirstSeed(e.slice(a),r,n,i);if(null==k)break;s.push(k.data),a+=k.packedLength}return s}))}},703635:function(e,r,n){"use strict";var i=n(901048).Buffer,s=this&&this.__awaiter||function(e,r,n,i){return new(n||(n=Promise))((function(s,a){function fulfilled(e){try{step(i.next(e))}catch(e){a(e)}}function rejected(e){try{step(i.throw(e))}catch(e){a(e)}}function step(e){e.done?s(e.value):function adopt(e){return e instanceof n?e:new n((function(r){r(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.resolveExtraAccountMeta=r.getExtraAccountMetas=r.ExtraAccountMetaAccountDataLayout=r.ExtraAccountMetaListLayout=r.ExtraAccountMetaLayout=r.getExtraAccountMetaAddress=r.getTransferHookAccount=r.TRANSFER_HOOK_ACCOUNT_SIZE=r.TransferHookAccountLayout=r.getTransferHook=r.TRANSFER_HOOK_SIZE=r.TransferHookLayout=void 0;const a=n(878918),k=n(852016),w=n(958966),I=n(432510),we=n(951531),Ae=n(483644);r.TransferHookLayout=(0,a.struct)([(0,I.publicKey)("authority"),(0,I.publicKey)("programId")]),r.TRANSFER_HOOK_SIZE=r.TransferHookLayout.span,r.getTransferHook=function getTransferHook(e){const n=(0,k.getExtensionData)(k.ExtensionType.TransferHook,e.tlvData);return null!==n?r.TransferHookLayout.decode(n):null},r.TransferHookAccountLayout=(0,a.struct)([(0,I.bool)("transferring")]),r.TRANSFER_HOOK_ACCOUNT_SIZE=r.TransferHookAccountLayout.span,r.getTransferHookAccount=function getTransferHookAccount(e){const n=(0,k.getExtensionData)(k.ExtensionType.TransferHookAccount,e.tlvData);return null!==n?r.TransferHookAccountLayout.decode(n):null},r.getExtraAccountMetaAddress=function getExtraAccountMetaAddress(e,r){const n=[i.from("extra-account-metas"),e.toBuffer()];return w.PublicKey.findProgramAddressSync(n,r)[0]},r.ExtraAccountMetaLayout=(0,a.struct)([(0,a.u8)("discriminator"),(0,a.blob)(32,"addressConfig"),(0,I.bool)("isSigner"),(0,I.bool)("isWritable")]),r.ExtraAccountMetaListLayout=(0,a.struct)([(0,a.u32)("count"),(0,a.seq)(r.ExtraAccountMetaLayout,(0,a.greedy)(r.ExtraAccountMetaLayout.span),"extraAccounts")]),r.ExtraAccountMetaAccountDataLayout=(0,a.struct)([(0,I.u64)("instructionDiscriminator"),(0,a.u32)("length"),r.ExtraAccountMetaListLayout.replicate("extraAccountsList")]),r.getExtraAccountMetas=function getExtraAccountMetas(e){const n=r.ExtraAccountMetaAccountDataLayout.decode(e.data).extraAccountsList;return n.extraAccounts.slice(0,n.count)},r.resolveExtraAccountMeta=function resolveExtraAccountMeta(e,r,n,i,a){return s(this,void 0,void 0,(function*(){if(0===r.discriminator)return{pubkey:new w.PublicKey(r.addressConfig),isSigner:r.isSigner,isWritable:r.isWritable};let s=w.PublicKey.default;if(1===r.discriminator)s=a;else{const e=r.discriminator-128;if(n.length<=e)throw new we.TokenTransferHookAccountNotFound;s=n[e].pubkey}const k=yield(0,Ae.unpackSeeds)(r.addressConfig,n,i,e);return{pubkey:w.PublicKey.findProgramAddressSync(k,s)[0],isSigner:r.isSigner,isWritable:r.isWritable}}))}},827510:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__exportStar||function(e,r){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||i(r,e,n)};Object.defineProperty(r,"__esModule",{value:!0}),s(n(89950),r),s(n(378471),r),s(n(951531),r),s(n(120873),r),s(n(302806),r),s(n(994152),r)},282075:(e,r,n)=>{"use strict";var i=n(901048).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.decodeAmountToUiAmountInstructionUnchecked=r.decodeAmountToUiAmountInstruction=r.createAmountToUiAmountInstruction=r.amountToUiAmountInstructionData=void 0;const s=n(878918),a=n(432510),k=n(958966),w=n(378471),I=n(951531),we=n(573355);function decodeAmountToUiAmountInstructionUnchecked({programId:e,keys:[n],data:i}){return{programId:e,keys:{mint:n},data:r.amountToUiAmountInstructionData.decode(i)}}r.amountToUiAmountInstructionData=(0,s.struct)([(0,s.u8)("instruction"),(0,a.u64)("amount")]),r.createAmountToUiAmountInstruction=function createAmountToUiAmountInstruction(e,n,s=w.TOKEN_PROGRAM_ID){const a=[{pubkey:e,isSigner:!1,isWritable:!1}],I=i.alloc(r.amountToUiAmountInstructionData.span);return r.amountToUiAmountInstructionData.encode({instruction:we.TokenInstruction.AmountToUiAmount,amount:BigInt(n)},I),new k.TransactionInstruction({keys:a,programId:s,data:I})},r.decodeAmountToUiAmountInstruction=function decodeAmountToUiAmountInstruction(e,n=w.TOKEN_PROGRAM_ID){if(!e.programId.equals(n))throw new I.TokenInvalidInstructionProgramError;if(e.data.length!==r.amountToUiAmountInstructionData.span)throw new I.TokenInvalidInstructionDataError;const{keys:{mint:i},data:s}=decodeAmountToUiAmountInstructionUnchecked(e);if(s.instruction!==we.TokenInstruction.AmountToUiAmount)throw new I.TokenInvalidInstructionTypeError;if(!i)throw new I.TokenInvalidInstructionKeysError;return{programId:n,keys:{mint:i},data:s}},r.decodeAmountToUiAmountInstructionUnchecked=decodeAmountToUiAmountInstructionUnchecked},618555:(e,r,n)=>{"use strict";var i=n(901048).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.decodeApproveInstructionUnchecked=r.decodeApproveInstruction=r.createApproveInstruction=r.approveInstructionData=void 0;const s=n(878918),a=n(432510),k=n(958966),w=n(378471),I=n(951531),we=n(454713),Ae=n(573355);function decodeApproveInstructionUnchecked({programId:e,keys:[n,i,s,...a],data:k}){return{programId:e,keys:{account:n,delegate:i,owner:s,multiSigners:a},data:r.approveInstructionData.decode(k)}}r.approveInstructionData=(0,s.struct)([(0,s.u8)("instruction"),(0,a.u64)("amount")]),r.createApproveInstruction=function createApproveInstruction(e,n,s,a,I=[],Be=w.TOKEN_PROGRAM_ID){const Ce=(0,we.addSigners)([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1}],s,I),ze=i.alloc(r.approveInstructionData.span);return r.approveInstructionData.encode({instruction:Ae.TokenInstruction.Approve,amount:BigInt(a)},ze),new k.TransactionInstruction({keys:Ce,programId:Be,data:ze})},r.decodeApproveInstruction=function decodeApproveInstruction(e,n=w.TOKEN_PROGRAM_ID){if(!e.programId.equals(n))throw new I.TokenInvalidInstructionProgramError;if(e.data.length!==r.approveInstructionData.span)throw new I.TokenInvalidInstructionDataError;const{keys:{account:i,delegate:s,owner:a,multiSigners:k},data:we}=decodeApproveInstructionUnchecked(e);if(we.instruction!==Ae.TokenInstruction.Approve)throw new I.TokenInvalidInstructionTypeError;if(!i||!s||!a)throw new I.TokenInvalidInstructionKeysError;return{programId:n,keys:{account:i,delegate:s,owner:a,multiSigners:k},data:we}},r.decodeApproveInstructionUnchecked=decodeApproveInstructionUnchecked},186750:(e,r,n)=>{"use strict";var i=n(901048).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.decodeApproveCheckedInstructionUnchecked=r.decodeApproveCheckedInstruction=r.createApproveCheckedInstruction=r.approveCheckedInstructionData=void 0;const s=n(878918),a=n(432510),k=n(958966),w=n(378471),I=n(951531),we=n(454713),Ae=n(573355);function decodeApproveCheckedInstructionUnchecked({programId:e,keys:[n,i,s,a,...k],data:w}){return{programId:e,keys:{account:n,mint:i,delegate:s,owner:a,multiSigners:k},data:r.approveCheckedInstructionData.decode(w)}}r.approveCheckedInstructionData=(0,s.struct)([(0,s.u8)("instruction"),(0,a.u64)("amount"),(0,s.u8)("decimals")]),r.createApproveCheckedInstruction=function createApproveCheckedInstruction(e,n,s,a,I,Be,Ce=[],ze=w.TOKEN_PROGRAM_ID){const qe=(0,we.addSigners)([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!1}],a,Ce),$e=i.alloc(r.approveCheckedInstructionData.span);return r.approveCheckedInstructionData.encode({instruction:Ae.TokenInstruction.ApproveChecked,amount:BigInt(I),decimals:Be},$e),new k.TransactionInstruction({keys:qe,programId:ze,data:$e})},r.decodeApproveCheckedInstruction=function decodeApproveCheckedInstruction(e,n=w.TOKEN_PROGRAM_ID){if(!e.programId.equals(n))throw new I.TokenInvalidInstructionProgramError;if(e.data.length!==r.approveCheckedInstructionData.span)throw new I.TokenInvalidInstructionDataError;const{keys:{account:i,mint:s,delegate:a,owner:k,multiSigners:we},data:Be}=decodeApproveCheckedInstructionUnchecked(e);if(Be.instruction!==Ae.TokenInstruction.ApproveChecked)throw new I.TokenInvalidInstructionTypeError;if(!(i&&s&&a&&k))throw new I.TokenInvalidInstructionKeysError;return{programId:n,keys:{account:i,mint:s,delegate:a,owner:k,multiSigners:we},data:Be}},r.decodeApproveCheckedInstructionUnchecked=decodeApproveCheckedInstructionUnchecked},386806:(e,r,n)=>{"use strict";var i=n(901048).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.createRecoverNestedInstruction=r.createAssociatedTokenAccountIdempotentInstruction=r.createAssociatedTokenAccountInstruction=void 0;const s=n(958966),a=n(378471);function buildAssociatedTokenAccountInstruction(e,r,n,i,k,w=a.TOKEN_PROGRAM_ID,I=a.ASSOCIATED_TOKEN_PROGRAM_ID){const we=[{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:s.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:w,isSigner:!1,isWritable:!1}];return new s.TransactionInstruction({keys:we,programId:I,data:k})}r.createAssociatedTokenAccountInstruction=function createAssociatedTokenAccountInstruction(e,r,n,s,k=a.TOKEN_PROGRAM_ID,w=a.ASSOCIATED_TOKEN_PROGRAM_ID){return buildAssociatedTokenAccountInstruction(e,r,n,s,i.alloc(0),k,w)},r.createAssociatedTokenAccountIdempotentInstruction=function createAssociatedTokenAccountIdempotentInstruction(e,r,n,s,k=a.TOKEN_PROGRAM_ID,w=a.ASSOCIATED_TOKEN_PROGRAM_ID){return buildAssociatedTokenAccountInstruction(e,r,n,s,i.from([1]),k,w)},r.createRecoverNestedInstruction=function createRecoverNestedInstruction(e,r,n,k,w,I,we=a.TOKEN_PROGRAM_ID,Ae=a.ASSOCIATED_TOKEN_PROGRAM_ID){const Be=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:k,isSigner:!1,isWritable:!0},{pubkey:w,isSigner:!1,isWritable:!1},{pubkey:I,isSigner:!0,isWritable:!0},{pubkey:we,isSigner:!1,isWritable:!1}];return new s.TransactionInstruction({keys:Be,programId:Ae,data:i.from([2])})}},795521:(e,r,n)=>{"use strict";var i=n(901048).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.decodeBurnInstructionUnchecked=r.decodeBurnInstruction=r.createBurnInstruction=r.burnInstructionData=void 0;const s=n(878918),a=n(432510),k=n(958966),w=n(378471),I=n(951531),we=n(454713),Ae=n(573355);function decodeBurnInstructionUnchecked({programId:e,keys:[n,i,s,...a],data:k}){return{programId:e,keys:{account:n,mint:i,owner:s,multiSigners:a},data:r.burnInstructionData.decode(k)}}r.burnInstructionData=(0,s.struct)([(0,s.u8)("instruction"),(0,a.u64)("amount")]),r.createBurnInstruction=function createBurnInstruction(e,n,s,a,I=[],Be=w.TOKEN_PROGRAM_ID){const Ce=(0,we.addSigners)([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0}],s,I),ze=i.alloc(r.burnInstructionData.span);return r.burnInstructionData.encode({instruction:Ae.TokenInstruction.Burn,amount:BigInt(a)},ze),new k.TransactionInstruction({keys:Ce,programId:Be,data:ze})},r.decodeBurnInstruction=function decodeBurnInstruction(e,n=w.TOKEN_PROGRAM_ID){if(!e.programId.equals(n))throw new I.TokenInvalidInstructionProgramError;if(e.data.length!==r.burnInstructionData.span)throw new I.TokenInvalidInstructionDataError;const{keys:{account:i,mint:s,owner:a,multiSigners:k},data:we}=decodeBurnInstructionUnchecked(e);if(we.instruction!==Ae.TokenInstruction.Burn)throw new I.TokenInvalidInstructionTypeError;if(!i||!s||!a)throw new I.TokenInvalidInstructionKeysError;return{programId:n,keys:{account:i,mint:s,owner:a,multiSigners:k},data:we}},r.decodeBurnInstructionUnchecked=decodeBurnInstructionUnchecked},1316:(e,r,n)=>{"use strict";var i=n(901048).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.decodeBurnCheckedInstructionUnchecked=r.decodeBurnCheckedInstruction=r.createBurnCheckedInstruction=r.burnCheckedInstructionData=void 0;const s=n(878918),a=n(432510),k=n(958966),w=n(378471),I=n(951531),we=n(454713),Ae=n(573355);function decodeBurnCheckedInstructionUnchecked({programId:e,keys:[n,i,s,...a],data:k}){return{programId:e,keys:{account:n,mint:i,owner:s,multiSigners:a},data:r.burnCheckedInstructionData.decode(k)}}r.burnCheckedInstructionData=(0,s.struct)([(0,s.u8)("instruction"),(0,a.u64)("amount"),(0,s.u8)("decimals")]),r.createBurnCheckedInstruction=function createBurnCheckedInstruction(e,n,s,a,I,Be=[],Ce=w.TOKEN_PROGRAM_ID){const ze=(0,we.addSigners)([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0}],s,Be),qe=i.alloc(r.burnCheckedInstructionData.span);return r.burnCheckedInstructionData.encode({instruction:Ae.TokenInstruction.BurnChecked,amount:BigInt(a),decimals:I},qe),new k.TransactionInstruction({keys:ze,programId:Ce,data:qe})},r.decodeBurnCheckedInstruction=function decodeBurnCheckedInstruction(e,n=w.TOKEN_PROGRAM_ID){if(!e.programId.equals(n))throw new I.TokenInvalidInstructionProgramError;if(e.data.length!==r.burnCheckedInstructionData.span)throw new I.TokenInvalidInstructionDataError;const{keys:{account:i,mint:s,owner:a,multiSigners:k},data:we}=decodeBurnCheckedInstructionUnchecked(e);if(we.instruction!==Ae.TokenInstruction.BurnChecked)throw new I.TokenInvalidInstructionTypeError;if(!i||!s||!a)throw new I.TokenInvalidInstructionKeysError;return{programId:n,keys:{account:i,mint:s,owner:a,multiSigners:k},data:we}},r.decodeBurnCheckedInstructionUnchecked=decodeBurnCheckedInstructionUnchecked},710171:(e,r,n)=>{"use strict";var i=n(901048).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.decodeCloseAccountInstructionUnchecked=r.decodeCloseAccountInstruction=r.createCloseAccountInstruction=r.closeAccountInstructionData=void 0;const s=n(878918),a=n(958966),k=n(378471),w=n(951531),I=n(454713),we=n(573355);function decodeCloseAccountInstructionUnchecked({programId:e,keys:[n,i,s,...a],data:k}){return{programId:e,keys:{account:n,destination:i,authority:s,multiSigners:a},data:r.closeAccountInstructionData.decode(k)}}r.closeAccountInstructionData=(0,s.struct)([(0,s.u8)("instruction")]),r.createCloseAccountInstruction=function createCloseAccountInstruction(e,n,s,w=[],Ae=k.TOKEN_PROGRAM_ID){const Be=(0,I.addSigners)([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0}],s,w),Ce=i.alloc(r.closeAccountInstructionData.span);return r.closeAccountInstructionData.encode({instruction:we.TokenInstruction.CloseAccount},Ce),new a.TransactionInstruction({keys:Be,programId:Ae,data:Ce})},r.decodeCloseAccountInstruction=function decodeCloseAccountInstruction(e,n=k.TOKEN_PROGRAM_ID){if(!e.programId.equals(n))throw new w.TokenInvalidInstructionProgramError;if(e.data.length!==r.closeAccountInstructionData.span)throw new w.TokenInvalidInstructionDataError;const{keys:{account:i,destination:s,authority:a,multiSigners:I},data:Ae}=decodeCloseAccountInstructionUnchecked(e);if(Ae.instruction!==we.TokenInstruction.CloseAccount)throw new w.TokenInvalidInstructionTypeError;if(!i||!s||!a)throw new w.TokenInvalidInstructionKeysError;return{programId:n,keys:{account:i,destination:s,authority:a,multiSigners:I},data:Ae}},r.decodeCloseAccountInstructionUnchecked=decodeCloseAccountInstructionUnchecked},999147:(e,r,n)=>{"use strict";var i=n(901048).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.createCreateNativeMintInstruction=r.createNativeMintInstructionData=void 0;const s=n(878918),a=n(958966),k=n(378471),w=n(951531),I=n(573355);r.createNativeMintInstructionData=(0,s.struct)([(0,s.u8)("instruction")]),r.createCreateNativeMintInstruction=function createCreateNativeMintInstruction(e,n=k.NATIVE_MINT_2022,s=k.TOKEN_2022_PROGRAM_ID){if(!(0,k.programSupportsExtensions)(s))throw new w.TokenUnsupportedInstructionError;const we=[{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:a.SystemProgram.programId,isSigner:!1,isWritable:!1}],Ae=i.alloc(r.createNativeMintInstructionData.span);return r.createNativeMintInstructionData.encode({instruction:I.TokenInstruction.CreateNativeMint},Ae),new a.TransactionInstruction({keys:we,programId:s,data:Ae})}},970826:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isUiamountToAmountInstruction=r.isAmountToUiAmountInstruction=r.isInitializeMint2Instruction=r.isInitializeAccount3Instruction=r.isSyncNativeInstruction=r.isInitializeAccount2Instruction=r.isBurnCheckedInstruction=r.isMintToCheckedInstruction=r.isApproveCheckedInstruction=r.isTransferCheckedInstruction=r.isThawAccountInstruction=r.isFreezeAccountInstruction=r.isCloseAccountInstruction=r.isBurnInstruction=r.isMintToInstruction=r.isSetAuthorityInstruction=r.isRevokeInstruction=r.isApproveInstruction=r.isTransferInstruction=r.isInitializeMultisigInstruction=r.isInitializeAccountInstruction=r.isInitializeMintInstruction=r.decodeInstruction=void 0;const i=n(878918),s=n(378471),a=n(951531),k=n(282075),w=n(618555),I=n(186750),we=n(795521),Ae=n(1316),Be=n(710171),Ce=n(948900),ze=n(72523),qe=n(661277),$e=n(551358),Ye=n(708666),Je=n(371290),et=n(983272),rt=n(752205),it=n(662560),ot=n(742534),ht=n(296481),ft=n(466704),pt=n(589137),yt=n(747435),kt=n(460174),_t=n(573355),St=n(124691);r.decodeInstruction=function decodeInstruction(e,r=s.TOKEN_PROGRAM_ID){if(!e.data.length)throw new a.TokenInvalidInstructionDataError;const n=(0,i.u8)().decode(e.data);if(n===_t.TokenInstruction.InitializeMint)return(0,Ye.decodeInitializeMintInstruction)(e,r);if(n===_t.TokenInstruction.InitializeAccount)return(0,ze.decodeInitializeAccountInstruction)(e,r);if(n===_t.TokenInstruction.InitializeMultisig)return(0,et.decodeInitializeMultisigInstruction)(e,r);if(n===_t.TokenInstruction.Transfer)return(0,yt.decodeTransferInstruction)(e,r);if(n===_t.TokenInstruction.Approve)return(0,w.decodeApproveInstruction)(e,r);if(n===_t.TokenInstruction.Revoke)return(0,ot.decodeRevokeInstruction)(e,r);if(n===_t.TokenInstruction.SetAuthority)return(0,ht.decodeSetAuthorityInstruction)(e,r);if(n===_t.TokenInstruction.MintTo)return(0,rt.decodeMintToInstruction)(e,r);if(n===_t.TokenInstruction.Burn)return(0,we.decodeBurnInstruction)(e,r);if(n===_t.TokenInstruction.CloseAccount)return(0,Be.decodeCloseAccountInstruction)(e,r);if(n===_t.TokenInstruction.FreezeAccount)return(0,Ce.decodeFreezeAccountInstruction)(e,r);if(n===_t.TokenInstruction.ThawAccount)return(0,pt.decodeThawAccountInstruction)(e,r);if(n===_t.TokenInstruction.TransferChecked)return(0,kt.decodeTransferCheckedInstruction)(e,r);if(n===_t.TokenInstruction.ApproveChecked)return(0,I.decodeApproveCheckedInstruction)(e,r);if(n===_t.TokenInstruction.MintToChecked)return(0,it.decodeMintToCheckedInstruction)(e,r);if(n===_t.TokenInstruction.BurnChecked)return(0,Ae.decodeBurnCheckedInstruction)(e,r);if(n===_t.TokenInstruction.InitializeAccount2)return(0,qe.decodeInitializeAccount2Instruction)(e,r);if(n===_t.TokenInstruction.SyncNative)return(0,ft.decodeSyncNativeInstruction)(e,r);if(n===_t.TokenInstruction.InitializeAccount3)return(0,$e.decodeInitializeAccount3Instruction)(e,r);if(n===_t.TokenInstruction.InitializeMint2)return(0,Je.decodeInitializeMint2Instruction)(e,r);if(n===_t.TokenInstruction.AmountToUiAmount)return(0,k.decodeAmountToUiAmountInstruction)(e,r);if(n===_t.TokenInstruction.UiAmountToAmount)return(0,St.decodeUiAmountToAmountInstruction)(e,r);if(n===_t.TokenInstruction.InitializeMultisig2)throw new a.TokenInvalidInstructionTypeError;throw new a.TokenInvalidInstructionTypeError},r.isInitializeMintInstruction=function isInitializeMintInstruction(e){return e.data.instruction===_t.TokenInstruction.InitializeMint},r.isInitializeAccountInstruction=function isInitializeAccountInstruction(e){return e.data.instruction===_t.TokenInstruction.InitializeAccount},r.isInitializeMultisigInstruction=function isInitializeMultisigInstruction(e){return e.data.instruction===_t.TokenInstruction.InitializeMultisig},r.isTransferInstruction=function isTransferInstruction(e){return e.data.instruction===_t.TokenInstruction.Transfer},r.isApproveInstruction=function isApproveInstruction(e){return e.data.instruction===_t.TokenInstruction.Approve},r.isRevokeInstruction=function isRevokeInstruction(e){return e.data.instruction===_t.TokenInstruction.Revoke},r.isSetAuthorityInstruction=function isSetAuthorityInstruction(e){return e.data.instruction===_t.TokenInstruction.SetAuthority},r.isMintToInstruction=function isMintToInstruction(e){return e.data.instruction===_t.TokenInstruction.MintTo},r.isBurnInstruction=function isBurnInstruction(e){return e.data.instruction===_t.TokenInstruction.Burn},r.isCloseAccountInstruction=function isCloseAccountInstruction(e){return e.data.instruction===_t.TokenInstruction.CloseAccount},r.isFreezeAccountInstruction=function isFreezeAccountInstruction(e){return e.data.instruction===_t.TokenInstruction.FreezeAccount},r.isThawAccountInstruction=function isThawAccountInstruction(e){return e.data.instruction===_t.TokenInstruction.ThawAccount},r.isTransferCheckedInstruction=function isTransferCheckedInstruction(e){return e.data.instruction===_t.TokenInstruction.TransferChecked},r.isApproveCheckedInstruction=function isApproveCheckedInstruction(e){return e.data.instruction===_t.TokenInstruction.ApproveChecked},r.isMintToCheckedInstruction=function isMintToCheckedInstruction(e){return e.data.instruction===_t.TokenInstruction.MintToChecked},r.isBurnCheckedInstruction=function isBurnCheckedInstruction(e){return e.data.instruction===_t.TokenInstruction.BurnChecked},r.isInitializeAccount2Instruction=function isInitializeAccount2Instruction(e){return e.data.instruction===_t.TokenInstruction.InitializeAccount2},r.isSyncNativeInstruction=function isSyncNativeInstruction(e){return e.data.instruction===_t.TokenInstruction.SyncNative},r.isInitializeAccount3Instruction=function isInitializeAccount3Instruction(e){return e.data.instruction===_t.TokenInstruction.InitializeAccount3},r.isInitializeMint2Instruction=function isInitializeMint2Instruction(e){return e.data.instruction===_t.TokenInstruction.InitializeMint2},r.isAmountToUiAmountInstruction=function isAmountToUiAmountInstruction(e){return e.data.instruction===_t.TokenInstruction.AmountToUiAmount},r.isUiamountToAmountInstruction=function isUiamountToAmountInstruction(e){return e.data.instruction===_t.TokenInstruction.UiAmountToAmount}},948900:(e,r,n)=>{"use strict";var i=n(901048).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.decodeFreezeAccountInstructionUnchecked=r.decodeFreezeAccountInstruction=r.createFreezeAccountInstruction=r.freezeAccountInstructionData=void 0;const s=n(878918),a=n(958966),k=n(378471),w=n(951531),I=n(454713),we=n(573355);function decodeFreezeAccountInstructionUnchecked({programId:e,keys:[n,i,s,...a],data:k}){return{programId:e,keys:{account:n,mint:i,authority:s,multiSigners:a},data:r.freezeAccountInstructionData.decode(k)}}r.freezeAccountInstructionData=(0,s.struct)([(0,s.u8)("instruction")]),r.createFreezeAccountInstruction=function createFreezeAccountInstruction(e,n,s,w=[],Ae=k.TOKEN_PROGRAM_ID){const Be=(0,I.addSigners)([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1}],s,w),Ce=i.alloc(r.freezeAccountInstructionData.span);return r.freezeAccountInstructionData.encode({instruction:we.TokenInstruction.FreezeAccount},Ce),new a.TransactionInstruction({keys:Be,programId:Ae,data:Ce})},r.decodeFreezeAccountInstruction=function decodeFreezeAccountInstruction(e,n=k.TOKEN_PROGRAM_ID){if(!e.programId.equals(n))throw new w.TokenInvalidInstructionProgramError;if(e.data.length!==r.freezeAccountInstructionData.span)throw new w.TokenInvalidInstructionDataError;const{keys:{account:i,mint:s,authority:a,multiSigners:I},data:Ae}=decodeFreezeAccountInstructionUnchecked(e);if(Ae.instruction!==we.TokenInstruction.FreezeAccount)throw new w.TokenInvalidInstructionTypeError;if(!i||!s||!a)throw new w.TokenInvalidInstructionKeysError;return{programId:n,keys:{account:i,mint:s,authority:a,multiSigners:I},data:Ae}},r.decodeFreezeAccountInstructionUnchecked=decodeFreezeAccountInstructionUnchecked},302806:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__exportStar||function(e,r){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||i(r,e,n)};Object.defineProperty(r,"__esModule",{value:!0}),r.createEmitInstruction=r.createUpdateAuthorityInstruction=r.createRemoveKeyInstruction=r.createUpdateFieldInstruction=r.createInitializeInstruction=void 0;var a=n(691706);Object.defineProperty(r,"createInitializeInstruction",{enumerable:!0,get:function(){return a.createInitializeInstruction}}),Object.defineProperty(r,"createUpdateFieldInstruction",{enumerable:!0,get:function(){return a.createUpdateFieldInstruction}}),Object.defineProperty(r,"createRemoveKeyInstruction",{enumerable:!0,get:function(){return a.createRemoveKeyInstruction}}),Object.defineProperty(r,"createUpdateAuthorityInstruction",{enumerable:!0,get:function(){return a.createUpdateAuthorityInstruction}}),Object.defineProperty(r,"createEmitInstruction",{enumerable:!0,get:function(){return a.createEmitInstruction}}),s(n(386806),r),s(n(970826),r),s(n(573355),r),s(n(708666),r),s(n(72523),r),s(n(983272),r),s(n(747435),r),s(n(618555),r),s(n(742534),r),s(n(296481),r),s(n(752205),r),s(n(795521),r),s(n(710171),r),s(n(948900),r),s(n(589137),r),s(n(460174),r),s(n(186750),r),s(n(662560),r),s(n(1316),r),s(n(661277),r),s(n(466704),r),s(n(551358),r),s(n(319392),r),s(n(371290),r),s(n(656861),r),s(n(282075),r),s(n(124691),r),s(n(318939),r),s(n(822326),r),s(n(999147),r),s(n(718152),r),s(n(588957),r)},72523:(e,r,n)=>{"use strict";var i=n(901048).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.decodeInitializeAccountInstructionUnchecked=r.decodeInitializeAccountInstruction=r.createInitializeAccountInstruction=r.initializeAccountInstructionData=void 0;const s=n(878918),a=n(958966),k=n(378471),w=n(951531),I=n(573355);function decodeInitializeAccountInstructionUnchecked({programId:e,keys:[n,i,s,a],data:k}){return{programId:e,keys:{account:n,mint:i,owner:s,rent:a},data:r.initializeAccountInstructionData.decode(k)}}r.initializeAccountInstructionData=(0,s.struct)([(0,s.u8)("instruction")]),r.createInitializeAccountInstruction=function createInitializeAccountInstruction(e,n,s,w=k.TOKEN_PROGRAM_ID){const we=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:a.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],Ae=i.alloc(r.initializeAccountInstructionData.span);return r.initializeAccountInstructionData.encode({instruction:I.TokenInstruction.InitializeAccount},Ae),new a.TransactionInstruction({keys:we,programId:w,data:Ae})},r.decodeInitializeAccountInstruction=function decodeInitializeAccountInstruction(e,n=k.TOKEN_PROGRAM_ID){if(!e.programId.equals(n))throw new w.TokenInvalidInstructionProgramError;if(e.data.length!==r.initializeAccountInstructionData.span)throw new w.TokenInvalidInstructionDataError;const{keys:{account:i,mint:s,owner:a,rent:we},data:Ae}=decodeInitializeAccountInstructionUnchecked(e);if(Ae.instruction!==I.TokenInstruction.InitializeAccount)throw new w.TokenInvalidInstructionTypeError;if(!(i&&s&&a&&we))throw new w.TokenInvalidInstructionKeysError;return{programId:n,keys:{account:i,mint:s,owner:a,rent:we},data:Ae}},r.decodeInitializeAccountInstructionUnchecked=decodeInitializeAccountInstructionUnchecked},661277:(e,r,n)=>{"use strict";var i=n(901048).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.decodeInitializeAccount2InstructionUnchecked=r.decodeInitializeAccount2Instruction=r.createInitializeAccount2Instruction=r.initializeAccount2InstructionData=void 0;const s=n(878918),a=n(432510),k=n(958966),w=n(378471),I=n(951531),we=n(573355);function decodeInitializeAccount2InstructionUnchecked({programId:e,keys:[n,i,s],data:a}){return{programId:e,keys:{account:n,mint:i,rent:s},data:r.initializeAccount2InstructionData.decode(a)}}r.initializeAccount2InstructionData=(0,s.struct)([(0,s.u8)("instruction"),(0,a.publicKey)("owner")]),r.createInitializeAccount2Instruction=function createInitializeAccount2Instruction(e,n,s,a=w.TOKEN_PROGRAM_ID){const I=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:k.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],Ae=i.alloc(r.initializeAccount2InstructionData.span);return r.initializeAccount2InstructionData.encode({instruction:we.TokenInstruction.InitializeAccount2,owner:s},Ae),new k.TransactionInstruction({keys:I,programId:a,data:Ae})},r.decodeInitializeAccount2Instruction=function decodeInitializeAccount2Instruction(e,n=w.TOKEN_PROGRAM_ID){if(!e.programId.equals(n))throw new I.TokenInvalidInstructionProgramError;if(e.data.length!==r.initializeAccount2InstructionData.span)throw new I.TokenInvalidInstructionDataError;const{keys:{account:i,mint:s,rent:a},data:k}=decodeInitializeAccount2InstructionUnchecked(e);if(k.instruction!==we.TokenInstruction.InitializeAccount2)throw new I.TokenInvalidInstructionTypeError;if(!i||!s||!a)throw new I.TokenInvalidInstructionKeysError;return{programId:n,keys:{account:i,mint:s,rent:a},data:k}},r.decodeInitializeAccount2InstructionUnchecked=decodeInitializeAccount2InstructionUnchecked},551358:(e,r,n)=>{"use strict";var i=n(901048).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.decodeInitializeAccount3InstructionUnchecked=r.decodeInitializeAccount3Instruction=r.createInitializeAccount3Instruction=r.initializeAccount3InstructionData=void 0;const s=n(878918),a=n(432510),k=n(958966),w=n(378471),I=n(951531),we=n(573355);function decodeInitializeAccount3InstructionUnchecked({programId:e,keys:[n,i],data:s}){return{programId:e,keys:{account:n,mint:i},data:r.initializeAccount3InstructionData.decode(s)}}r.initializeAccount3InstructionData=(0,s.struct)([(0,s.u8)("instruction"),(0,a.publicKey)("owner")]),r.createInitializeAccount3Instruction=function createInitializeAccount3Instruction(e,n,s,a=w.TOKEN_PROGRAM_ID){const I=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1}],Ae=i.alloc(r.initializeAccount3InstructionData.span);return r.initializeAccount3InstructionData.encode({instruction:we.TokenInstruction.InitializeAccount3,owner:s},Ae),new k.TransactionInstruction({keys:I,programId:a,data:Ae})},r.decodeInitializeAccount3Instruction=function decodeInitializeAccount3Instruction(e,n=w.TOKEN_PROGRAM_ID){if(!e.programId.equals(n))throw new I.TokenInvalidInstructionProgramError;if(e.data.length!==r.initializeAccount3InstructionData.span)throw new I.TokenInvalidInstructionDataError;const{keys:{account:i,mint:s},data:a}=decodeInitializeAccount3InstructionUnchecked(e);if(a.instruction!==we.TokenInstruction.InitializeAccount3)throw new I.TokenInvalidInstructionTypeError;if(!i||!s)throw new I.TokenInvalidInstructionKeysError;return{programId:n,keys:{account:i,mint:s},data:a}},r.decodeInitializeAccount3InstructionUnchecked=decodeInitializeAccount3InstructionUnchecked},656861:(e,r,n)=>{"use strict";var i=n(901048).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.decodeInitializeImmutableOwnerInstructionUnchecked=r.decodeInitializeImmutableOwnerInstruction=r.createInitializeImmutableOwnerInstruction=r.initializeImmutableOwnerInstructionData=void 0;const s=n(878918),a=n(958966),k=n(951531),w=n(573355);function decodeInitializeImmutableOwnerInstructionUnchecked({programId:e,keys:[n],data:i}){const{instruction:s}=r.initializeImmutableOwnerInstructionData.decode(i);return{programId:e,keys:{account:n},data:{instruction:s}}}r.initializeImmutableOwnerInstructionData=(0,s.struct)([(0,s.u8)("instruction")]),r.createInitializeImmutableOwnerInstruction=function createInitializeImmutableOwnerInstruction(e,n){const s=[{pubkey:e,isSigner:!1,isWritable:!0}],k=i.alloc(r.initializeImmutableOwnerInstructionData.span);return r.initializeImmutableOwnerInstructionData.encode({instruction:w.TokenInstruction.InitializeImmutableOwner},k),new a.TransactionInstruction({keys:s,programId:n,data:k})},r.decodeInitializeImmutableOwnerInstruction=function decodeInitializeImmutableOwnerInstruction(e,n){if(!e.programId.equals(n))throw new k.TokenInvalidInstructionProgramError;if(e.data.length!==r.initializeImmutableOwnerInstructionData.span)throw new k.TokenInvalidInstructionDataError;const{keys:{account:i},data:s}=decodeInitializeImmutableOwnerInstructionUnchecked(e);if(s.instruction!==w.TokenInstruction.InitializeImmutableOwner)throw new k.TokenInvalidInstructionTypeError;if(!i)throw new k.TokenInvalidInstructionKeysError;return{programId:n,keys:{account:i},data:s}},r.decodeInitializeImmutableOwnerInstructionUnchecked=decodeInitializeImmutableOwnerInstructionUnchecked},708666:(e,r,n)=>{"use strict";var i=n(901048).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.decodeInitializeMintInstructionUnchecked=r.decodeInitializeMintInstruction=r.createInitializeMintInstruction=r.initializeMintInstructionData=void 0;const s=n(878918),a=n(432510),k=n(958966),w=n(378471),I=n(951531),we=n(573355);function decodeInitializeMintInstructionUnchecked({programId:e,keys:[n,i],data:s}){const{instruction:a,decimals:k,mintAuthority:w,freezeAuthorityOption:I,freezeAuthority:we}=r.initializeMintInstructionData.decode(s);return{programId:e,keys:{mint:n,rent:i},data:{instruction:a,decimals:k,mintAuthority:w,freezeAuthority:I?we:null}}}r.initializeMintInstructionData=(0,s.struct)([(0,s.u8)("instruction"),(0,s.u8)("decimals"),(0,a.publicKey)("mintAuthority"),(0,s.u8)("freezeAuthorityOption"),(0,a.publicKey)("freezeAuthority")]),r.createInitializeMintInstruction=function createInitializeMintInstruction(e,n,s,a,I=w.TOKEN_PROGRAM_ID){const Ae=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:k.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],Be=i.alloc(r.initializeMintInstructionData.span);return r.initializeMintInstructionData.encode({instruction:we.TokenInstruction.InitializeMint,decimals:n,mintAuthority:s,freezeAuthorityOption:a?1:0,freezeAuthority:a||new k.PublicKey(0)},Be),new k.TransactionInstruction({keys:Ae,programId:I,data:Be})},r.decodeInitializeMintInstruction=function decodeInitializeMintInstruction(e,n=w.TOKEN_PROGRAM_ID){if(!e.programId.equals(n))throw new I.TokenInvalidInstructionProgramError;if(e.data.length!==r.initializeMintInstructionData.span)throw new I.TokenInvalidInstructionDataError;const{keys:{mint:i,rent:s},data:a}=decodeInitializeMintInstructionUnchecked(e);if(a.instruction!==we.TokenInstruction.InitializeMint)throw new I.TokenInvalidInstructionTypeError;if(!i||!s)throw new I.TokenInvalidInstructionKeysError;return{programId:n,keys:{mint:i,rent:s},data:a}},r.decodeInitializeMintInstructionUnchecked=decodeInitializeMintInstructionUnchecked},371290:(e,r,n)=>{"use strict";var i=n(901048).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.decodeInitializeMint2InstructionUnchecked=r.decodeInitializeMint2Instruction=r.createInitializeMint2Instruction=r.initializeMint2InstructionData=void 0;const s=n(878918),a=n(432510),k=n(958966),w=n(378471),I=n(951531),we=n(573355);function decodeInitializeMint2InstructionUnchecked({programId:e,keys:[n],data:i}){const{instruction:s,decimals:a,mintAuthority:k,freezeAuthorityOption:w,freezeAuthority:I}=r.initializeMint2InstructionData.decode(i);return{programId:e,keys:{mint:n},data:{instruction:s,decimals:a,mintAuthority:k,freezeAuthority:w?I:null}}}r.initializeMint2InstructionData=(0,s.struct)([(0,s.u8)("instruction"),(0,s.u8)("decimals"),(0,a.publicKey)("mintAuthority"),(0,s.u8)("freezeAuthorityOption"),(0,a.publicKey)("freezeAuthority")]),r.createInitializeMint2Instruction=function createInitializeMint2Instruction(e,n,s,a,I=w.TOKEN_PROGRAM_ID){const Ae=[{pubkey:e,isSigner:!1,isWritable:!0}],Be=i.alloc(r.initializeMint2InstructionData.span);return r.initializeMint2InstructionData.encode({instruction:we.TokenInstruction.InitializeMint2,decimals:n,mintAuthority:s,freezeAuthorityOption:a?1:0,freezeAuthority:a||new k.PublicKey(0)},Be),new k.TransactionInstruction({keys:Ae,programId:I,data:Be})},r.decodeInitializeMint2Instruction=function decodeInitializeMint2Instruction(e,n=w.TOKEN_PROGRAM_ID){if(!e.programId.equals(n))throw new I.TokenInvalidInstructionProgramError;if(e.data.length!==r.initializeMint2InstructionData.span)throw new I.TokenInvalidInstructionDataError;const{keys:{mint:i},data:s}=decodeInitializeMint2InstructionUnchecked(e);if(s.instruction!==we.TokenInstruction.InitializeMint2)throw new I.TokenInvalidInstructionTypeError;if(!i)throw new I.TokenInvalidInstructionKeysError;return{programId:n,keys:{mint:i},data:s}},r.decodeInitializeMint2InstructionUnchecked=decodeInitializeMint2InstructionUnchecked},318939:(e,r,n)=>{"use strict";var i=n(901048).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.decodeInitializeMintCloseAuthorityInstructionUnchecked=r.decodeInitializeMintCloseAuthorityInstruction=r.createInitializeMintCloseAuthorityInstruction=r.initializeMintCloseAuthorityInstructionData=void 0;const s=n(878918),a=n(432510),k=n(958966),w=n(378471),I=n(951531),we=n(573355);function decodeInitializeMintCloseAuthorityInstructionUnchecked({programId:e,keys:[n],data:i}){const{instruction:s,closeAuthorityOption:a,closeAuthority:k}=r.initializeMintCloseAuthorityInstructionData.decode(i);return{programId:e,keys:{mint:n},data:{instruction:s,closeAuthority:a?k:null}}}r.initializeMintCloseAuthorityInstructionData=(0,s.struct)([(0,s.u8)("instruction"),(0,s.u8)("closeAuthorityOption"),(0,a.publicKey)("closeAuthority")]),r.createInitializeMintCloseAuthorityInstruction=function createInitializeMintCloseAuthorityInstruction(e,n,s){if(!(0,w.programSupportsExtensions)(s))throw new I.TokenUnsupportedInstructionError;const a=[{pubkey:e,isSigner:!1,isWritable:!0}],Ae=i.alloc(r.initializeMintCloseAuthorityInstructionData.span);return r.initializeMintCloseAuthorityInstructionData.encode({instruction:we.TokenInstruction.InitializeMintCloseAuthority,closeAuthorityOption:n?1:0,closeAuthority:n||new k.PublicKey(0)},Ae),new k.TransactionInstruction({keys:a,programId:s,data:Ae})},r.decodeInitializeMintCloseAuthorityInstruction=function decodeInitializeMintCloseAuthorityInstruction(e,n){if(!e.programId.equals(n))throw new I.TokenInvalidInstructionProgramError;if(e.data.length!==r.initializeMintCloseAuthorityInstructionData.span)throw new I.TokenInvalidInstructionDataError;const{keys:{mint:i},data:s}=decodeInitializeMintCloseAuthorityInstructionUnchecked(e);if(s.instruction!==we.TokenInstruction.InitializeMintCloseAuthority)throw new I.TokenInvalidInstructionTypeError;if(!i)throw new I.TokenInvalidInstructionKeysError;return{programId:n,keys:{mint:i},data:s}},r.decodeInitializeMintCloseAuthorityInstructionUnchecked=decodeInitializeMintCloseAuthorityInstructionUnchecked},983272:(e,r,n)=>{"use strict";var i=n(901048).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.decodeInitializeMultisigInstructionUnchecked=r.decodeInitializeMultisigInstruction=r.createInitializeMultisigInstruction=r.initializeMultisigInstructionData=void 0;const s=n(878918),a=n(958966),k=n(378471),w=n(951531),I=n(573355);function decodeInitializeMultisigInstructionUnchecked({programId:e,keys:[n,i,...s],data:a}){return{programId:e,keys:{account:n,rent:i,signers:s},data:r.initializeMultisigInstructionData.decode(a)}}r.initializeMultisigInstructionData=(0,s.struct)([(0,s.u8)("instruction"),(0,s.u8)("m")]),r.createInitializeMultisigInstruction=function createInitializeMultisigInstruction(e,n,s,w=k.TOKEN_PROGRAM_ID){const we=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:a.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];for(const e of n)we.push({pubkey:e instanceof a.PublicKey?e:e.publicKey,isSigner:!1,isWritable:!1});const Ae=i.alloc(r.initializeMultisigInstructionData.span);return r.initializeMultisigInstructionData.encode({instruction:I.TokenInstruction.InitializeMultisig,m:s},Ae),new a.TransactionInstruction({keys:we,programId:w,data:Ae})},r.decodeInitializeMultisigInstruction=function decodeInitializeMultisigInstruction(e,n=k.TOKEN_PROGRAM_ID){if(!e.programId.equals(n))throw new w.TokenInvalidInstructionProgramError;if(e.data.length!==r.initializeMultisigInstructionData.span)throw new w.TokenInvalidInstructionDataError;const{keys:{account:i,rent:s,signers:a},data:we}=decodeInitializeMultisigInstructionUnchecked(e);if(we.instruction!==I.TokenInstruction.InitializeMultisig)throw new w.TokenInvalidInstructionTypeError;if(!i||!s||!a.length)throw new w.TokenInvalidInstructionKeysError;return{programId:n,keys:{account:i,rent:s,signers:a},data:we}},r.decodeInitializeMultisigInstructionUnchecked=decodeInitializeMultisigInstructionUnchecked},319392:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},718152:(e,r,n)=>{"use strict";var i=n(901048).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.createInitializeNonTransferableMintInstruction=r.initializeNonTransferableMintInstructionData=void 0;const s=n(878918),a=n(958966),k=n(378471),w=n(951531),I=n(573355);r.initializeNonTransferableMintInstructionData=(0,s.struct)([(0,s.u8)("instruction")]),r.createInitializeNonTransferableMintInstruction=function createInitializeNonTransferableMintInstruction(e,n){if(!(0,k.programSupportsExtensions)(n))throw new w.TokenUnsupportedInstructionError;const s=[{pubkey:e,isSigner:!1,isWritable:!0}],we=i.alloc(r.initializeNonTransferableMintInstructionData.span);return r.initializeNonTransferableMintInstructionData.encode({instruction:I.TokenInstruction.InitializeNonTransferableMint},we),new a.TransactionInstruction({keys:s,programId:n,data:we})}},588957:(e,r,n)=>{"use strict";var i=n(901048).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.decodeInitializePermanentDelegateInstructionUnchecked=r.decodeInitializePermanentDelegateInstruction=r.createInitializePermanentDelegateInstruction=r.initializePermanentDelegateInstructionData=void 0;const s=n(878918),a=n(432510),k=n(958966),w=n(958966),I=n(378471),we=n(951531),Ae=n(573355);function decodeInitializePermanentDelegateInstructionUnchecked({programId:e,keys:[n],data:i}){const{instruction:s,delegate:a}=r.initializePermanentDelegateInstructionData.decode(i);return{programId:e,keys:{mint:n},data:{instruction:s,delegate:a}}}r.initializePermanentDelegateInstructionData=(0,s.struct)([(0,s.u8)("instruction"),(0,a.publicKey)("delegate")]),r.createInitializePermanentDelegateInstruction=function createInitializePermanentDelegateInstruction(e,n,s){if(!(0,I.programSupportsExtensions)(s))throw new we.TokenUnsupportedInstructionError;const a=[{pubkey:e,isSigner:!1,isWritable:!0}],Be=i.alloc(r.initializePermanentDelegateInstructionData.span);return r.initializePermanentDelegateInstructionData.encode({instruction:Ae.TokenInstruction.InitializePermanentDelegate,delegate:n||new k.PublicKey(0)},Be),new w.TransactionInstruction({keys:a,programId:s,data:Be})},r.decodeInitializePermanentDelegateInstruction=function decodeInitializePermanentDelegateInstruction(e,n){if(!e.programId.equals(n))throw new we.TokenInvalidInstructionProgramError;if(e.data.length!==r.initializePermanentDelegateInstructionData.span)throw new we.TokenInvalidInstructionDataError;const{keys:{mint:i},data:s}=decodeInitializePermanentDelegateInstructionUnchecked(e);if(s.instruction!==Ae.TokenInstruction.InitializePermanentDelegate)throw new we.TokenInvalidInstructionTypeError;if(!i)throw new we.TokenInvalidInstructionKeysError;return{programId:n,keys:{mint:i},data:s}},r.decodeInitializePermanentDelegateInstructionUnchecked=decodeInitializePermanentDelegateInstructionUnchecked},454713:(e,r,n)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.addSigners=void 0;const i=n(958966);r.addSigners=function addSigners(e,r,n){if(n.length){e.push({pubkey:r,isSigner:!1,isWritable:!1});for(const r of n)e.push({pubkey:r instanceof i.PublicKey?r:r.publicKey,isSigner:!0,isWritable:!1})}else e.push({pubkey:r,isSigner:!0,isWritable:!1});return e}},752205:(e,r,n)=>{"use strict";var i=n(901048).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.decodeMintToInstructionUnchecked=r.decodeMintToInstruction=r.createMintToInstruction=r.mintToInstructionData=void 0;const s=n(878918),a=n(432510),k=n(958966),w=n(378471),I=n(951531),we=n(454713),Ae=n(573355);function decodeMintToInstructionUnchecked({programId:e,keys:[n,i,s,...a],data:k}){return{programId:e,keys:{mint:n,destination:i,authority:s,multiSigners:a},data:r.mintToInstructionData.decode(k)}}r.mintToInstructionData=(0,s.struct)([(0,s.u8)("instruction"),(0,a.u64)("amount")]),r.createMintToInstruction=function createMintToInstruction(e,n,s,a,I=[],Be=w.TOKEN_PROGRAM_ID){const Ce=(0,we.addSigners)([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0}],s,I),ze=i.alloc(r.mintToInstructionData.span);return r.mintToInstructionData.encode({instruction:Ae.TokenInstruction.MintTo,amount:BigInt(a)},ze),new k.TransactionInstruction({keys:Ce,programId:Be,data:ze})},r.decodeMintToInstruction=function decodeMintToInstruction(e,n=w.TOKEN_PROGRAM_ID){if(!e.programId.equals(n))throw new I.TokenInvalidInstructionProgramError;if(e.data.length!==r.mintToInstructionData.span)throw new I.TokenInvalidInstructionDataError;const{keys:{mint:i,destination:s,authority:a,multiSigners:k},data:we}=decodeMintToInstructionUnchecked(e);if(we.instruction!==Ae.TokenInstruction.MintTo)throw new I.TokenInvalidInstructionTypeError;if(!i||!s||!a)throw new I.TokenInvalidInstructionKeysError;return{programId:n,keys:{mint:i,destination:s,authority:a,multiSigners:k},data:we}},r.decodeMintToInstructionUnchecked=decodeMintToInstructionUnchecked},662560:(e,r,n)=>{"use strict";var i=n(901048).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.decodeMintToCheckedInstructionUnchecked=r.decodeMintToCheckedInstruction=r.createMintToCheckedInstruction=r.mintToCheckedInstructionData=void 0;const s=n(878918),a=n(432510),k=n(958966),w=n(378471),I=n(951531),we=n(454713),Ae=n(573355);function decodeMintToCheckedInstructionUnchecked({programId:e,keys:[n,i,s,...a],data:k}){return{programId:e,keys:{mint:n,destination:i,authority:s,multiSigners:a},data:r.mintToCheckedInstructionData.decode(k)}}r.mintToCheckedInstructionData=(0,s.struct)([(0,s.u8)("instruction"),(0,a.u64)("amount"),(0,s.u8)("decimals")]),r.createMintToCheckedInstruction=function createMintToCheckedInstruction(e,n,s,a,I,Be=[],Ce=w.TOKEN_PROGRAM_ID){const ze=(0,we.addSigners)([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0}],s,Be),qe=i.alloc(r.mintToCheckedInstructionData.span);return r.mintToCheckedInstructionData.encode({instruction:Ae.TokenInstruction.MintToChecked,amount:BigInt(a),decimals:I},qe),new k.TransactionInstruction({keys:ze,programId:Ce,data:qe})},r.decodeMintToCheckedInstruction=function decodeMintToCheckedInstruction(e,n=w.TOKEN_PROGRAM_ID){if(!e.programId.equals(n))throw new I.TokenInvalidInstructionProgramError;if(e.data.length!==r.mintToCheckedInstructionData.span)throw new I.TokenInvalidInstructionDataError;const{keys:{mint:i,destination:s,authority:a,multiSigners:k},data:we}=decodeMintToCheckedInstructionUnchecked(e);if(we.instruction!==Ae.TokenInstruction.MintToChecked)throw new I.TokenInvalidInstructionTypeError;if(!i||!s||!a)throw new I.TokenInvalidInstructionKeysError;return{programId:n,keys:{mint:i,destination:s,authority:a,multiSigners:k},data:we}},r.decodeMintToCheckedInstructionUnchecked=decodeMintToCheckedInstructionUnchecked},822326:(e,r,n)=>{"use strict";var i=n(901048).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.createReallocateInstruction=void 0;const s=n(878918),a=n(958966),k=n(378471),w=n(951531),I=n(454713),we=n(573355);r.createReallocateInstruction=function createReallocateInstruction(e,r,n,Ae,Be=[],Ce=k.TOKEN_2022_PROGRAM_ID){if(!(0,k.programSupportsExtensions)(Ce))throw new w.TokenUnsupportedInstructionError;const ze=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!0},{pubkey:a.SystemProgram.programId,isSigner:!1,isWritable:!1}],qe=(0,I.addSigners)(ze,Ae,Be),$e=(0,s.struct)([(0,s.u8)("instruction"),(0,s.seq)((0,s.u16)(),n.length,"extensionTypes")]),Ye=i.alloc($e.span);return $e.encode({instruction:we.TokenInstruction.Reallocate,extensionTypes:n},Ye),new a.TransactionInstruction({keys:qe,programId:Ce,data:Ye})}},742534:(e,r,n)=>{"use strict";var i=n(901048).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.decodeRevokeInstructionUnchecked=r.decodeRevokeInstruction=r.createRevokeInstruction=r.revokeInstructionData=void 0;const s=n(878918),a=n(958966),k=n(378471),w=n(951531),I=n(454713),we=n(573355);function decodeRevokeInstructionUnchecked({programId:e,keys:[n,i,...s],data:a}){return{programId:e,keys:{account:n,owner:i,multiSigners:s},data:r.revokeInstructionData.decode(a)}}r.revokeInstructionData=(0,s.struct)([(0,s.u8)("instruction")]),r.createRevokeInstruction=function createRevokeInstruction(e,n,s=[],w=k.TOKEN_PROGRAM_ID){const Ae=(0,I.addSigners)([{pubkey:e,isSigner:!1,isWritable:!0}],n,s),Be=i.alloc(r.revokeInstructionData.span);return r.revokeInstructionData.encode({instruction:we.TokenInstruction.Revoke},Be),new a.TransactionInstruction({keys:Ae,programId:w,data:Be})},r.decodeRevokeInstruction=function decodeRevokeInstruction(e,n=k.TOKEN_PROGRAM_ID){if(!e.programId.equals(n))throw new w.TokenInvalidInstructionProgramError;if(e.data.length!==r.revokeInstructionData.span)throw new w.TokenInvalidInstructionDataError;const{keys:{account:i,owner:s,multiSigners:a},data:I}=decodeRevokeInstructionUnchecked(e);if(I.instruction!==we.TokenInstruction.Revoke)throw new w.TokenInvalidInstructionTypeError;if(!i||!s)throw new w.TokenInvalidInstructionKeysError;return{programId:n,keys:{account:i,owner:s,multiSigners:a},data:I}},r.decodeRevokeInstructionUnchecked=decodeRevokeInstructionUnchecked},296481:(e,r,n)=>{"use strict";var i=n(901048).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.decodeSetAuthorityInstructionUnchecked=r.decodeSetAuthorityInstruction=r.createSetAuthorityInstruction=r.setAuthorityInstructionData=r.AuthorityType=void 0;const s=n(878918),a=n(432510),k=n(958966),w=n(378471),I=n(951531),we=n(454713),Ae=n(573355);var Be;function decodeSetAuthorityInstructionUnchecked({programId:e,keys:[n,i,...s],data:a}){const{instruction:k,authorityType:w,newAuthorityOption:I,newAuthority:we}=r.setAuthorityInstructionData.decode(a);return{programId:e,keys:{account:n,currentAuthority:i,multiSigners:s},data:{instruction:k,authorityType:w,newAuthority:I?we:null}}}!function(e){e[e.MintTokens=0]="MintTokens",e[e.FreezeAccount=1]="FreezeAccount",e[e.AccountOwner=2]="AccountOwner",e[e.CloseAccount=3]="CloseAccount",e[e.TransferFeeConfig=4]="TransferFeeConfig",e[e.WithheldWithdraw=5]="WithheldWithdraw",e[e.CloseMint=6]="CloseMint",e[e.InterestRate=7]="InterestRate",e[e.PermanentDelegate=8]="PermanentDelegate",e[e.ConfidentialTransferMint=9]="ConfidentialTransferMint",e[e.TransferHookProgramId=10]="TransferHookProgramId",e[e.ConfidentialTransferFeeConfig=11]="ConfidentialTransferFeeConfig",e[e.MetadataPointer=12]="MetadataPointer"}(Be||(r.AuthorityType=Be={})),r.setAuthorityInstructionData=(0,s.struct)([(0,s.u8)("instruction"),(0,s.u8)("authorityType"),(0,s.u8)("newAuthorityOption"),(0,a.publicKey)("newAuthority")]),r.createSetAuthorityInstruction=function createSetAuthorityInstruction(e,n,s,a,I=[],Be=w.TOKEN_PROGRAM_ID){const Ce=(0,we.addSigners)([{pubkey:e,isSigner:!1,isWritable:!0}],n,I),ze=i.alloc(r.setAuthorityInstructionData.span);return r.setAuthorityInstructionData.encode({instruction:Ae.TokenInstruction.SetAuthority,authorityType:s,newAuthorityOption:a?1:0,newAuthority:a||new k.PublicKey(0)},ze),new k.TransactionInstruction({keys:Ce,programId:Be,data:ze})},r.decodeSetAuthorityInstruction=function decodeSetAuthorityInstruction(e,n=w.TOKEN_PROGRAM_ID){if(!e.programId.equals(n))throw new I.TokenInvalidInstructionProgramError;if(e.data.length!==r.setAuthorityInstructionData.span)throw new I.TokenInvalidInstructionDataError;const{keys:{account:i,currentAuthority:s,multiSigners:a},data:k}=decodeSetAuthorityInstructionUnchecked(e);if(k.instruction!==Ae.TokenInstruction.SetAuthority)throw new I.TokenInvalidInstructionTypeError;if(!i||!s)throw new I.TokenInvalidInstructionKeysError;return{programId:n,keys:{account:i,currentAuthority:s,multiSigners:a},data:k}},r.decodeSetAuthorityInstructionUnchecked=decodeSetAuthorityInstructionUnchecked},466704:(e,r,n)=>{"use strict";var i=n(901048).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.decodeSyncNativeInstructionUnchecked=r.decodeSyncNativeInstruction=r.createSyncNativeInstruction=r.syncNativeInstructionData=void 0;const s=n(878918),a=n(958966),k=n(378471),w=n(951531),I=n(573355);function decodeSyncNativeInstructionUnchecked({programId:e,keys:[n],data:i}){return{programId:e,keys:{account:n},data:r.syncNativeInstructionData.decode(i)}}r.syncNativeInstructionData=(0,s.struct)([(0,s.u8)("instruction")]),r.createSyncNativeInstruction=function createSyncNativeInstruction(e,n=k.TOKEN_PROGRAM_ID){const s=[{pubkey:e,isSigner:!1,isWritable:!0}],w=i.alloc(r.syncNativeInstructionData.span);return r.syncNativeInstructionData.encode({instruction:I.TokenInstruction.SyncNative},w),new a.TransactionInstruction({keys:s,programId:n,data:w})},r.decodeSyncNativeInstruction=function decodeSyncNativeInstruction(e,n=k.TOKEN_PROGRAM_ID){if(!e.programId.equals(n))throw new w.TokenInvalidInstructionProgramError;if(e.data.length!==r.syncNativeInstructionData.span)throw new w.TokenInvalidInstructionDataError;const{keys:{account:i},data:s}=decodeSyncNativeInstructionUnchecked(e);if(s.instruction!==I.TokenInstruction.SyncNative)throw new w.TokenInvalidInstructionTypeError;if(!i)throw new w.TokenInvalidInstructionKeysError;return{programId:n,keys:{account:i},data:s}},r.decodeSyncNativeInstructionUnchecked=decodeSyncNativeInstructionUnchecked},589137:(e,r,n)=>{"use strict";var i=n(901048).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.decodeThawAccountInstructionUnchecked=r.decodeThawAccountInstruction=r.createThawAccountInstruction=r.thawAccountInstructionData=void 0;const s=n(878918),a=n(958966),k=n(378471),w=n(951531),I=n(454713),we=n(573355);function decodeThawAccountInstructionUnchecked({programId:e,keys:[n,i,s,...a],data:k}){return{programId:e,keys:{account:n,mint:i,authority:s,multiSigners:a},data:r.thawAccountInstructionData.decode(k)}}r.thawAccountInstructionData=(0,s.struct)([(0,s.u8)("instruction")]),r.createThawAccountInstruction=function createThawAccountInstruction(e,n,s,w=[],Ae=k.TOKEN_PROGRAM_ID){const Be=(0,I.addSigners)([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1}],s,w),Ce=i.alloc(r.thawAccountInstructionData.span);return r.thawAccountInstructionData.encode({instruction:we.TokenInstruction.ThawAccount},Ce),new a.TransactionInstruction({keys:Be,programId:Ae,data:Ce})},r.decodeThawAccountInstruction=function decodeThawAccountInstruction(e,n=k.TOKEN_PROGRAM_ID){if(!e.programId.equals(n))throw new w.TokenInvalidInstructionProgramError;if(e.data.length!==r.thawAccountInstructionData.span)throw new w.TokenInvalidInstructionDataError;const{keys:{account:i,mint:s,authority:a,multiSigners:I},data:Ae}=decodeThawAccountInstructionUnchecked(e);if(Ae.instruction!==we.TokenInstruction.ThawAccount)throw new w.TokenInvalidInstructionTypeError;if(!i||!s||!a)throw new w.TokenInvalidInstructionKeysError;return{programId:n,keys:{account:i,mint:s,authority:a,multiSigners:I},data:Ae}},r.decodeThawAccountInstructionUnchecked=decodeThawAccountInstructionUnchecked},747435:(e,r,n)=>{"use strict";var i=n(901048).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.decodeTransferInstructionUnchecked=r.decodeTransferInstruction=r.createTransferInstruction=r.transferInstructionData=void 0;const s=n(878918),a=n(432510),k=n(958966),w=n(378471),I=n(951531),we=n(454713),Ae=n(573355);function decodeTransferInstructionUnchecked({programId:e,keys:[n,i,s,...a],data:k}){return{programId:e,keys:{source:n,destination:i,owner:s,multiSigners:a},data:r.transferInstructionData.decode(k)}}r.transferInstructionData=(0,s.struct)([(0,s.u8)("instruction"),(0,a.u64)("amount")]),r.createTransferInstruction=function createTransferInstruction(e,n,s,a,I=[],Be=w.TOKEN_PROGRAM_ID){const Ce=(0,we.addSigners)([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0}],s,I),ze=i.alloc(r.transferInstructionData.span);return r.transferInstructionData.encode({instruction:Ae.TokenInstruction.Transfer,amount:BigInt(a)},ze),new k.TransactionInstruction({keys:Ce,programId:Be,data:ze})},r.decodeTransferInstruction=function decodeTransferInstruction(e,n=w.TOKEN_PROGRAM_ID){if(!e.programId.equals(n))throw new I.TokenInvalidInstructionProgramError;if(e.data.length!==r.transferInstructionData.span)throw new I.TokenInvalidInstructionDataError;const{keys:{source:i,destination:s,owner:a,multiSigners:k},data:we}=decodeTransferInstructionUnchecked(e);if(we.instruction!==Ae.TokenInstruction.Transfer)throw new I.TokenInvalidInstructionTypeError;if(!i||!s||!a)throw new I.TokenInvalidInstructionKeysError;return{programId:n,keys:{source:i,destination:s,owner:a,multiSigners:k},data:we}},r.decodeTransferInstructionUnchecked=decodeTransferInstructionUnchecked},460174:(e,r,n)=>{"use strict";var i=n(901048).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.decodeTransferCheckedInstructionUnchecked=r.decodeTransferCheckedInstruction=r.createTransferCheckedInstruction=r.transferCheckedInstructionData=void 0;const s=n(878918),a=n(432510),k=n(958966),w=n(378471),I=n(951531),we=n(454713),Ae=n(573355);function decodeTransferCheckedInstructionUnchecked({programId:e,keys:[n,i,s,a,...k],data:w}){return{programId:e,keys:{source:n,mint:i,destination:s,owner:a,multiSigners:k},data:r.transferCheckedInstructionData.decode(w)}}r.transferCheckedInstructionData=(0,s.struct)([(0,s.u8)("instruction"),(0,a.u64)("amount"),(0,s.u8)("decimals")]),r.createTransferCheckedInstruction=function createTransferCheckedInstruction(e,n,s,a,I,Be,Ce=[],ze=w.TOKEN_PROGRAM_ID){const qe=(0,we.addSigners)([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!0}],a,Ce),$e=i.alloc(r.transferCheckedInstructionData.span);return r.transferCheckedInstructionData.encode({instruction:Ae.TokenInstruction.TransferChecked,amount:BigInt(I),decimals:Be},$e),new k.TransactionInstruction({keys:qe,programId:ze,data:$e})},r.decodeTransferCheckedInstruction=function decodeTransferCheckedInstruction(e,n=w.TOKEN_PROGRAM_ID){if(!e.programId.equals(n))throw new I.TokenInvalidInstructionProgramError;if(e.data.length!==r.transferCheckedInstructionData.span)throw new I.TokenInvalidInstructionDataError;const{keys:{source:i,mint:s,destination:a,owner:k,multiSigners:we},data:Be}=decodeTransferCheckedInstructionUnchecked(e);if(Be.instruction!==Ae.TokenInstruction.TransferChecked)throw new I.TokenInvalidInstructionTypeError;if(!(i&&s&&a&&k))throw new I.TokenInvalidInstructionKeysError;return{programId:n,keys:{source:i,mint:s,destination:a,owner:k,multiSigners:we},data:Be}},r.decodeTransferCheckedInstructionUnchecked=decodeTransferCheckedInstructionUnchecked},573355:(e,r)=>{"use strict";var n;Object.defineProperty(r,"__esModule",{value:!0}),r.TokenInstruction=void 0,function(e){e[e.InitializeMint=0]="InitializeMint",e[e.InitializeAccount=1]="InitializeAccount",e[e.InitializeMultisig=2]="InitializeMultisig",e[e.Transfer=3]="Transfer",e[e.Approve=4]="Approve",e[e.Revoke=5]="Revoke",e[e.SetAuthority=6]="SetAuthority",e[e.MintTo=7]="MintTo",e[e.Burn=8]="Burn",e[e.CloseAccount=9]="CloseAccount",e[e.FreezeAccount=10]="FreezeAccount",e[e.ThawAccount=11]="ThawAccount",e[e.TransferChecked=12]="TransferChecked",e[e.ApproveChecked=13]="ApproveChecked",e[e.MintToChecked=14]="MintToChecked",e[e.BurnChecked=15]="BurnChecked",e[e.InitializeAccount2=16]="InitializeAccount2",e[e.SyncNative=17]="SyncNative",e[e.InitializeAccount3=18]="InitializeAccount3",e[e.InitializeMultisig2=19]="InitializeMultisig2",e[e.InitializeMint2=20]="InitializeMint2",e[e.GetAccountDataSize=21]="GetAccountDataSize",e[e.InitializeImmutableOwner=22]="InitializeImmutableOwner",e[e.AmountToUiAmount=23]="AmountToUiAmount",e[e.UiAmountToAmount=24]="UiAmountToAmount",e[e.InitializeMintCloseAuthority=25]="InitializeMintCloseAuthority",e[e.TransferFeeExtension=26]="TransferFeeExtension",e[e.ConfidentialTransferExtension=27]="ConfidentialTransferExtension",e[e.DefaultAccountStateExtension=28]="DefaultAccountStateExtension",e[e.Reallocate=29]="Reallocate",e[e.MemoTransferExtension=30]="MemoTransferExtension",e[e.CreateNativeMint=31]="CreateNativeMint",e[e.InitializeNonTransferableMint=32]="InitializeNonTransferableMint",e[e.InterestBearingMintExtension=33]="InterestBearingMintExtension",e[e.CpiGuardExtension=34]="CpiGuardExtension",e[e.InitializePermanentDelegate=35]="InitializePermanentDelegate",e[e.TransferHookExtension=36]="TransferHookExtension",e[e.MetadataPointerExtension=39]="MetadataPointerExtension"}(n||(r.TokenInstruction=n={}))},124691:(e,r,n)=>{"use strict";var i=n(901048).Buffer;Object.defineProperty(r,"__esModule",{value:!0}),r.decodeUiAmountToAmountInstructionUnchecked=r.decodeUiAmountToAmountInstruction=r.createUiAmountToAmountInstruction=void 0;const s=n(878918),a=n(958966),k=n(378471),w=n(951531),I=n(573355);function decodeUiAmountToAmountInstructionUnchecked({programId:e,keys:[r],data:n}){return{programId:e,keys:{mint:r},data:(0,s.struct)([(0,s.u8)("instruction"),(0,s.blob)(n.length-1,"amount")]).decode(n)}}r.createUiAmountToAmountInstruction=function createUiAmountToAmountInstruction(e,r,n=k.TOKEN_PROGRAM_ID){const w=[{pubkey:e,isSigner:!1,isWritable:!1}],we=i.from(r,"utf8"),Ae=(0,s.struct)([(0,s.u8)("instruction"),(0,s.blob)(we.length,"amount")]),Be=i.alloc(Ae.span);return Ae.encode({instruction:I.TokenInstruction.UiAmountToAmount,amount:we},Be),new a.TransactionInstruction({keys:w,programId:n,data:Be})},r.decodeUiAmountToAmountInstruction=function decodeUiAmountToAmountInstruction(e,r=k.TOKEN_PROGRAM_ID){if(!e.programId.equals(r))throw new w.TokenInvalidInstructionProgramError;const n=(0,s.struct)([(0,s.u8)("instruction"),(0,s.blob)(e.data.length-1,"amount")]);if(e.data.length!==n.span)throw new w.TokenInvalidInstructionDataError;const{keys:{mint:i},data:a}=decodeUiAmountToAmountInstructionUnchecked(e);if(a.instruction!==I.TokenInstruction.UiAmountToAmount)throw new w.TokenInvalidInstructionTypeError;if(!i)throw new w.TokenInvalidInstructionKeysError;return{programId:r,keys:{mint:i},data:a}},r.decodeUiAmountToAmountInstructionUnchecked=decodeUiAmountToAmountInstructionUnchecked},118323:function(e,r,n){"use strict";var i=n(901048).Buffer,s=this&&this.__awaiter||function(e,r,n,i){return new(n||(n=Promise))((function(s,a){function fulfilled(e){try{step(i.next(e))}catch(e){a(e)}}function rejected(e){try{step(i.throw(e))}catch(e){a(e)}}function step(e){e.done?s(e.value):function adopt(e){return e instanceof n?e:new n((function(r){r(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.unpackAccount=r.getMinimumBalanceForRentExemptAccountWithExtensions=r.getMinimumBalanceForRentExemptAccount=r.getMultipleAccounts=r.getAccount=r.ACCOUNT_SIZE=r.AccountLayout=r.AccountState=void 0;const a=n(878918),k=n(432510),w=n(378471),I=n(951531),we=n(169574),Ae=n(852016),Be=n(517971);var Ce;function getMinimumBalanceForRentExemptAccountWithExtensions(e,r,n){return s(this,void 0,void 0,(function*(){const i=(0,Ae.getAccountLen)(r);return yield e.getMinimumBalanceForRentExemption(i,n)}))}function unpackAccount(e,n,s=w.TOKEN_PROGRAM_ID){if(!n)throw new I.TokenAccountNotFoundError;if(!n.owner.equals(s))throw new I.TokenInvalidAccountOwnerError;if(n.data.length<r.ACCOUNT_SIZE)throw new I.TokenInvalidAccountSizeError;const a=r.AccountLayout.decode(n.data.slice(0,r.ACCOUNT_SIZE));let k=i.alloc(0);if(n.data.length>r.ACCOUNT_SIZE){if(n.data.length===Be.MULTISIG_SIZE)throw new I.TokenInvalidAccountSizeError;if(n.data[r.ACCOUNT_SIZE]!=we.AccountType.Account)throw new I.TokenInvalidAccountError;k=n.data.slice(r.ACCOUNT_SIZE+we.ACCOUNT_TYPE_SIZE)}return{address:e,mint:a.mint,owner:a.owner,amount:a.amount,delegate:a.delegateOption?a.delegate:null,delegatedAmount:a.delegatedAmount,isInitialized:a.state!==Ce.Uninitialized,isFrozen:a.state===Ce.Frozen,isNative:!!a.isNativeOption,rentExemptReserve:a.isNativeOption?a.isNative:null,closeAuthority:a.closeAuthorityOption?a.closeAuthority:null,tlvData:k}}!function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initialized=1]="Initialized",e[e.Frozen=2]="Frozen"}(Ce||(r.AccountState=Ce={})),r.AccountLayout=(0,a.struct)([(0,k.publicKey)("mint"),(0,k.publicKey)("owner"),(0,k.u64)("amount"),(0,a.u32)("delegateOption"),(0,k.publicKey)("delegate"),(0,a.u8)("state"),(0,a.u32)("isNativeOption"),(0,k.u64)("isNative"),(0,k.u64)("delegatedAmount"),(0,a.u32)("closeAuthorityOption"),(0,k.publicKey)("closeAuthority")]),r.ACCOUNT_SIZE=r.AccountLayout.span,r.getAccount=function getAccount(e,r,n,i=w.TOKEN_PROGRAM_ID){return s(this,void 0,void 0,(function*(){const s=yield e.getAccountInfo(r,n);return unpackAccount(r,s,i)}))},r.getMultipleAccounts=function getMultipleAccounts(e,r,n,i=w.TOKEN_PROGRAM_ID){return s(this,void 0,void 0,(function*(){const s=yield e.getMultipleAccountsInfo(r,n);return r.map(((e,r)=>unpackAccount(e,s[r],i)))}))},r.getMinimumBalanceForRentExemptAccount=function getMinimumBalanceForRentExemptAccount(e,r){return s(this,void 0,void 0,(function*(){return yield getMinimumBalanceForRentExemptAccountWithExtensions(e,[],r)}))},r.getMinimumBalanceForRentExemptAccountWithExtensions=getMinimumBalanceForRentExemptAccountWithExtensions,r.unpackAccount=unpackAccount},994152:function(e,r,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,r,n,i){void 0===i&&(i=n);var s=Object.getOwnPropertyDescriptor(r,n);s&&!("get"in s?!r.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(e,i,s)}:function(e,r,n,i){void 0===i&&(i=n),e[i]=r[n]}),s=this&&this.__exportStar||function(e,r){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(r,n)||i(r,e,n)};Object.defineProperty(r,"__esModule",{value:!0}),s(n(118323),r),s(n(441154),r),s(n(517971),r)},441154:function(e,r,n){"use strict";var i=n(901048).Buffer,s=this&&this.__awaiter||function(e,r,n,i){return new(n||(n=Promise))((function(s,a){function fulfilled(e){try{step(i.next(e))}catch(e){a(e)}}function rejected(e){try{step(i.throw(e))}catch(e){a(e)}}function step(e){e.done?s(e.value):function adopt(e){return e instanceof n?e:new n((function(r){r(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.getAssociatedTokenAddressSync=r.getAssociatedTokenAddress=r.getMinimumBalanceForRentExemptMintWithExtensions=r.getMinimumBalanceForRentExemptMint=r.unpackMint=r.getMint=r.MINT_SIZE=r.MintLayout=void 0;const a=n(878918),k=n(432510),w=n(958966),I=n(378471),we=n(951531),Ae=n(169574),Be=n(852016),Ce=n(118323),ze=n(517971);function unpackMint(e,n,s=I.TOKEN_PROGRAM_ID){if(!n)throw new we.TokenAccountNotFoundError;if(!n.owner.equals(s))throw new we.TokenInvalidAccountOwnerError;if(n.data.length<r.MINT_SIZE)throw new we.TokenInvalidAccountSizeError;const a=r.MintLayout.decode(n.data.slice(0,r.MINT_SIZE));let k=i.alloc(0);if(n.data.length>r.MINT_SIZE){if(n.data.length<=Ce.ACCOUNT_SIZE)throw new we.TokenInvalidAccountSizeError;if(n.data.length===ze.MULTISIG_SIZE)throw new we.TokenInvalidAccountSizeError;if(n.data[Ce.ACCOUNT_SIZE]!=Ae.AccountType.Mint)throw new we.TokenInvalidMintError;k=n.data.slice(Ce.ACCOUNT_SIZE+Ae.ACCOUNT_TYPE_SIZE)}return{address:e,mintAuthority:a.mintAuthorityOption?a.mintAuthority:null,supply:a.supply,decimals:a.decimals,isInitialized:a.isInitialized,freezeAuthority:a.freezeAuthorityOption?a.freezeAuthority:null,tlvData:k}}function getMinimumBalanceForRentExemptMintWithExtensions(e,r,n){return s(this,void 0,void 0,(function*(){const i=(0,Be.getMintLen)(r);return yield e.getMinimumBalanceForRentExemption(i,n)}))}r.MintLayout=(0,a.struct)([(0,a.u32)("mintAuthorityOption"),(0,k.publicKey)("mintAuthority"),(0,k.u64)("supply"),(0,a.u8)("decimals"),(0,k.bool)("isInitialized"),(0,a.u32)("freezeAuthorityOption"),(0,k.publicKey)("freezeAuthority")]),r.MINT_SIZE=r.MintLayout.span,r.getMint=function getMint(e,r,n,i=I.TOKEN_PROGRAM_ID){return s(this,void 0,void 0,(function*(){const s=yield e.getAccountInfo(r,n);return unpackMint(r,s,i)}))},r.unpackMint=unpackMint,r.getMinimumBalanceForRentExemptMint=function getMinimumBalanceForRentExemptMint(e,r){return s(this,void 0,void 0,(function*(){return yield getMinimumBalanceForRentExemptMintWithExtensions(e,[],r)}))},r.getMinimumBalanceForRentExemptMintWithExtensions=getMinimumBalanceForRentExemptMintWithExtensions,r.getAssociatedTokenAddress=function getAssociatedTokenAddress(e,r,n=!1,i=I.TOKEN_PROGRAM_ID,a=I.ASSOCIATED_TOKEN_PROGRAM_ID){return s(this,void 0,void 0,(function*(){if(!n&&!w.PublicKey.isOnCurve(r.toBuffer()))throw new we.TokenOwnerOffCurveError;const[s]=yield w.PublicKey.findProgramAddress([r.toBuffer(),i.toBuffer(),e.toBuffer()],a);return s}))},r.getAssociatedTokenAddressSync=function getAssociatedTokenAddressSync(e,r,n=!1,i=I.TOKEN_PROGRAM_ID,s=I.ASSOCIATED_TOKEN_PROGRAM_ID){if(!n&&!w.PublicKey.isOnCurve(r.toBuffer()))throw new we.TokenOwnerOffCurveError;const[a]=w.PublicKey.findProgramAddressSync([r.toBuffer(),i.toBuffer(),e.toBuffer()],s);return a}},517971:function(e,r,n){"use strict";var i=this&&this.__awaiter||function(e,r,n,i){return new(n||(n=Promise))((function(s,a){function fulfilled(e){try{step(i.next(e))}catch(e){a(e)}}function rejected(e){try{step(i.throw(e))}catch(e){a(e)}}function step(e){e.done?s(e.value):function adopt(e){return e instanceof n?e:new n((function(r){r(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,r||[])).next())}))};Object.defineProperty(r,"__esModule",{value:!0}),r.getMinimumBalanceForRentExemptMultisig=r.unpackMultisig=r.getMultisig=r.MULTISIG_SIZE=r.MultisigLayout=void 0;const s=n(878918),a=n(432510),k=n(378471),w=n(951531);function unpackMultisig(e,n,i=k.TOKEN_PROGRAM_ID){if(!n)throw new w.TokenAccountNotFoundError;if(!n.owner.equals(i))throw new w.TokenInvalidAccountOwnerError;if(n.data.length!=r.MULTISIG_SIZE)throw new w.TokenInvalidAccountSizeError;const s=r.MultisigLayout.decode(n.data);return Object.assign({address:e},s)}r.MultisigLayout=(0,s.struct)([(0,s.u8)("m"),(0,s.u8)("n"),(0,a.bool)("isInitialized"),(0,a.publicKey)("signer1"),(0,a.publicKey)("signer2"),(0,a.publicKey)("signer3"),(0,a.publicKey)("signer4"),(0,a.publicKey)("signer5"),(0,a.publicKey)("signer6"),(0,a.publicKey)("signer7"),(0,a.publicKey)("signer8"),(0,a.publicKey)("signer9"),(0,a.publicKey)("signer10"),(0,a.publicKey)("signer11")]),r.MULTISIG_SIZE=r.MultisigLayout.span,r.getMultisig=function getMultisig(e,r,n,s=k.TOKEN_PROGRAM_ID){return i(this,void 0,void 0,(function*(){const i=yield e.getAccountInfo(r,n);return unpackMultisig(r,i,s)}))},r.unpackMultisig=unpackMultisig,r.getMinimumBalanceForRentExemptMultisig=function getMinimumBalanceForRentExemptMultisig(e,n){return i(this,void 0,void 0,(function*(){return yield e.getMinimumBalanceForRentExemption(r.MULTISIG_SIZE,n)}))}}}]);