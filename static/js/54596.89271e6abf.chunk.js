"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[54596],{354596:(e,n,t)=>{t.r(n),t.d(n,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var o=t(586330),i=t(514041),r=t(490343),s=t(498356),l=t(153763),c=t(392097),a=t(584186),u=t(654004),d=t(831085),CustomFooter=function({index:e,form:n}){(0,l.E)();var t=(0,r.useDialogInstance)();return(0,d.jsxs)(r.XStack,{gap:"$4",justifyContent:"center",children:[(0,d.jsx)(r.Button,{onPress:function(){t.close()},children:"Close"}),(0,d.jsx)(r.Button,{onPress:function(){r.Dialog.show({title:`#${e}`,renderContent:(0,d.jsx)(ContentA,{index:e}),showFooter:!1})},children:"New"})]})};function ContentA({index:e}){var n=(0,r.useForm)({});return(0,d.jsxs)(r.Form,{form:n,children:[(0,d.jsx)(r.Form.Field,{label:"Password",name:"password",children:(0,d.jsx)(r.Input,{})}),(0,d.jsx)(CustomFooter,{form:n,index:e+1})]})}function ScrollContent(){return(0,d.jsxs)(r.ScrollView,{height:200,children:[(0,d.jsx)(r.Stack,{height:150,bg:"red"}),(0,d.jsx)(r.Stack,{height:150,bg:"blue"}),(0,d.jsx)(r.Stack,{height:150,bg:"black"})]})}var DialogNavigatorDemo=function(){var e=(0,s.A)();return(0,d.jsxs)(r.YStack,{gap:"$3",children:[(0,d.jsx)(r.Button,{mt:"$4",onPress:function(){r.Toast.error({title:"Toaster is always on top 1",duration:3e3}),r.Dialog.show({title:"Confirm whether the Dialog is always on top.",renderContent:(0,d.jsx)(r.Input,{}),onConfirm:function(){}}),setTimeout((function(){r.Toast.error({title:"Toaster is always on top 2",duration:3e3}),e.push(c.Yd.Components)}),1500)},children:"Test Visibility in Navigator(Stack)"}),(0,d.jsx)(r.Button,{mt:"$4",onPress:function(){r.Toast.error({title:"Toaster is always on top 1",duration:3e3}),r.Dialog.show({title:"Confirm whether the Dialog is always on top.",renderContent:(0,d.jsx)(r.Input,{}),onConfirm:function(){}}),setTimeout((function(){r.Toast.error({title:"Toaster is always on top 2",duration:3e3}),e.pushModal(c.ry.TestModal,{screen:c.vK.TestSimpleModal})}),1500)},children:"Test Visibility in Navigator(Modal)"})]})};function ContentFooter({onConfirm:e}){var[n,t]=(0,i.useState)(!1),o=(0,i.useCallback)((function(){return new Promise((function(t){setTimeout((function(){e(n),t()}),1500)}))}),[n,e]),s=(0,i.useCallback)((function(){}),[]);return(0,d.jsxs)(r.YStack,{children:[(0,d.jsx)(r.Checkbox,{value:n,label:"Read it",onChange:t}),(0,d.jsx)(r.Dialog.Footer,{onConfirm:o,onCancel:s,onConfirmText:"Accept(wait 1.5s)",onCancelText:"Noop"})]})}const __WEBPACK_DEFAULT_EXPORT__=function(){return(0,d.jsx)(u.P,{description:"需要用户处理事务，又不希望跳转路由以致打断工作流程时，可以使用 Dialog 组件",suggestions:["Dialog 的呈现层级高于页面，但低于 Toast","需要避免在 Dialog 显示需要滚动操作的内容"],boundaryConditions:["禁止将 Dialog 作为路由页面使用"],elements:[{title:"Variants",element:(0,d.jsxs)(r.YStack,{gap:"$2",children:[(0,d.jsx)(r.Button,{onPress:(0,o.A)((function*(){var e=r.Dialog.show({title:"Lorem ipsum",icon:"PlaceholderOutline",description:"Lorem ipsum dolor sit amet consectetur. Nisi in arcu ultrices neque vel nec.",tone:"default"});yield a.A.wait(350),yield e.close()})),children:"ShowAndCloseDialog"}),(0,d.jsx)(r.Button,{onPress:function(){return r.Dialog.show({title:"Lorem ipsum",icon:"PlaceholderOutline",description:"Lorem ipsum dolor sit amet consectetur. Nisi in arcu ultrices neque vel nec.",tone:"default"})},children:"tone Default"}),(0,d.jsx)(r.Button,{onPress:function(){return r.Dialog.show({title:"Lorem ipsum",icon:"PlaceholderOutline",description:"Lorem ipsum dolor sit amet consectetur. Nisi in arcu ultrices neque vel nec.",tone:"destructive"})},children:"destructive"})]})},{title:"Hide Confirm Button",element:(0,d.jsx)(r.YStack,{children:(0,d.jsx)(r.Button,{onPress:function(){return r.Dialog.cancel({title:"Lorem ipsum",onCancelText:"Bye",description:"Lorem ipsum dolor sit amet consectetur. Nisi in arcu ultrices neque vel nec."})},children:"Hide Confirm Button"})})},{title:"Hide dialog footer",element:(0,d.jsx)(r.YStack,{children:(0,d.jsx)(r.Button,{onPress:function(){return r.Dialog.show({title:"Lorem ipsum",showFooter:!1,description:"Lorem ipsum dolor sit amet consectetur. Nisi in arcu ultrices neque vel nec."})},children:"Hide dialog footer"})})},{title:"Dialog.show & Dialog.confirm & Dialog.cancel",element:(0,d.jsxs)(r.YStack,{gap:"$4",children:[(0,d.jsx)(r.Button,{onPress:function(){return r.Dialog.show({title:"show",renderContent:(0,d.jsx)(r.SizableText,{children:"Show"})})},children:"Dialog.show"}),(0,d.jsx)(r.Button,{onPress:function(){return r.Dialog.confirm({title:"confirm",renderContent:(0,d.jsx)(r.SizableText,{children:"wait 1500ms"}),onConfirm:function(){return new Promise((function(e){setTimeout((function(){e()}),1500)}))}})},children:"Dialog.confirm"}),(0,d.jsx)(r.Button,{onPress:function(){return r.Dialog.cancel({title:"confirm",renderContent:(0,d.jsx)(r.SizableText,{children:"cancel"})})},children:"Dialog.cancel"})]})},{title:"Disabled Confirm Button",element:(0,d.jsxs)(r.YStack,{gap:"$4",children:[(0,d.jsx)(r.Button,{onPress:function(){return r.Dialog.confirm({title:"show",confirmButtonProps:{disabled:!0},renderContent:(0,d.jsx)(r.SizableText,{children:"Show"})})},children:"disabled Button"}),(0,d.jsx)(r.Button,{onPress:function(){return r.Dialog.confirm({title:"Only `RESET` can be accept",renderContent:(0,d.jsx)(r.Dialog.Form,{formProps:{defaultValues:{text:"hello"}},children:(0,d.jsx)(r.Dialog.FormField,{name:"text",rules:{required:{value:!0,message:"requied input text"}},children:(0,d.jsx)(r.Input,{autoFocus:!0,flex:1,placeholder:"only numeric value"})})}),confirmButtonProps:{disabledOn:function({getForm:e}){var{getValues:n}=e()||{};if(n){var{text:t}=n();return"RESET"!==t}return!0}},onConfirm:function(){return new Promise((function(e){setTimeout((function(){e()}),1500)}))}})},children:"disabled Button with Dialog Form"}),(0,d.jsx)(r.Button,{onPress:function(){return r.Dialog.confirm({title:"Only `RESET` can be accept",onConfirm:function({getForm:e}){e()},renderContent:(0,d.jsx)(r.Dialog.Form,{formProps:{mode:"onSubmit",reValidateMode:"onSubmit",defaultValues:{text:""}},children:(0,d.jsx)(r.Dialog.FormField,{name:"text",rules:{required:{value:!0,message:"requied input text"}},children:(0,d.jsx)(r.Input,{autoFocus:!0,flex:1,placeholder:"only numeric value"})})})})},children:"validate on Submit(not on blur)"})]})},{title:"命令式 API, Confirm Button Loading",element:(0,d.jsxs)(r.YStack,{children:[(0,d.jsx)(r.Button,{onPress:function(){return r.Dialog.show({title:"Lorem ipsum",description:"Lorem ipsum dolor sit amet consectetur. Nisi in arcu ultrices neque vel nec.",onConfirm:()=>new Promise((function(e){setTimeout((function(){alert("loaded successful"),e()}),3e3)}))})},children:"load remote data successfully"}),(0,d.jsx)(r.Button,{mt:"$4",onPress:function(){return r.Dialog.show({title:"Lorem ipsum",description:"Lorem ipsum dolor sit amet consectetur. Nisi in arcu ultrices neque vel nec.",onConfirm:()=>new Promise((function(e,n){return setTimeout((function(){alert("loaded failed"),n()}),3e3),!1}))})},children:"load remote data failed"})]})},{title:"Dialog Form",element:(0,d.jsxs)(r.YStack,{gap:"$4",children:[(0,d.jsx)(r.Button,{onPress:function(){return r.Dialog.confirm({title:"Password",description:"input password",renderContent:(0,d.jsx)(r.Dialog.Form,{formProps:{defaultValues:{a:"1234567"}},children:(0,d.jsx)(r.Dialog.FormField,{name:"a",rules:{maxLength:{value:6,message:"maxLength is 6"}},children:(0,d.jsx)(r.Input,{autoFocus:!0,flex:1,placeholder:"only numeric value"})})}),onConfirm:function(e){alert(JSON.stringify(e.getForm()?.getValues()))}})},children:"Open Dialog Form"}),(0,d.jsx)(r.Button,{onPress:function(){return r.Dialog.confirm({title:"Password",description:"input password",renderContent:(0,d.jsx)(r.Dialog.Form,{formProps:{defaultValues:{a:"1234567"}},children:(0,d.jsx)(r.Dialog.FormField,{name:"a",rules:{maxLength:{value:6,message:"maxLength is 6"}},children:(0,d.jsx)(r.Select,{title:"Demo Title",placeholder:"select",items:[{label:"Banana0",value:"Banana"},{label:"Apple1",value:"Apple"},{label:"Pear2",value:"Pear"},{label:"Blackberry3",value:"Blackberry"}]})})}),onConfirm:function(e){alert(JSON.stringify(e.getForm()?.getValues()))}})},children:"Open Dialog Form with Select"})]})},{title:"Execute a function call once the dialog is closed",element:(0,d.jsxs)(r.YStack,{gap:"$4",children:[(0,d.jsx)(r.Button,{onPress:function(){return r.Dialog.confirm({title:"call by Dismiss Function",description:"onClose",onClose:function(){alert("Execute it once the dialog is closed")}})},children:"onClose Function"}),(0,d.jsx)(r.Button,{onPress:function(){var e=r.Dialog.show({title:" Dialog.close Promise",description:" Dialog.close Promise",showFooter:!1,renderContent:(0,d.jsx)(r.Button,{onPress:(0,o.A)((function*(){yield e.close(),alert("Execute it once the dialog is closed")})),children:"Close"})})},children:"Dialog.close Promise"})]})},{title:"AutoFocus Input",element:(0,d.jsx)(r.YStack,{children:(0,d.jsx)(r.Button,{mt:"$4",onPress:function(){return r.Dialog.show({title:"Password",description:"input password",renderContent:(0,d.jsx)(r.Input,{autoFocus:!0,flex:1,placeholder:"only numeric value"}),onConfirm:function(){}})},children:"Open Dialog AutoFocus"})})},{title:"命令式 API, Close Dialog ",element:(0,d.jsxs)(r.YStack,{children:[(0,d.jsx)(r.Button,{mt:"$4",onPress:function(){var e=r.Dialog.show({title:"1500ms",renderContent:(0,d.jsx)(r.Input,{autoFocus:!0,flex:1,placeholder:"only numeric value"}),onConfirm:function(){}});setTimeout((function(){e.close()}),1500)},children:"Close Dialog!"}),(0,d.jsx)(r.Button,{mt:"$4",onPress:function(){r.Dialog.show({title:"#1",renderContent:(0,d.jsx)(ContentA,{index:1}),showFooter:!1})},children:"Close Dialog by Hooks !"}),(0,d.jsx)(r.Button,{mt:"$4",onPress:function(){r.Dialog.show({title:"the dialog cannot be closed by onConfirm Button",onConfirm:function(){return new Promise((function(e,n){n()}))}})},children:"the dialog cannot be closed by onConfirm Button"}),(0,d.jsx)(r.Button,{mt:"$4",onPress:function(){r.Dialog.show({title:"the dialog cannot be closed by onConfirm Button",onConfirm:function({close:e}){return new Promise((function(n){setTimeout((0,o.A)((function*(){yield e()})),100),setTimeout((function(){n()}),99999999)}))}})},children:"close func"}),(0,d.jsx)(r.Button,{mt:"$4",onPress:function(){r.Dialog.show({title:"preventClose",onConfirm:function({preventClose:e}){return new Promise((function(n){setTimeout((0,o.A)((function*(){e(),n()})),100)}))}})},children:"preventClose func"})]})},{title:"Dialog Footer within renderContent",element:(0,d.jsx)(r.Button,{mt:"$4",onPress:function(){r.Dialog.show({title:"#1",renderContent:(0,d.jsx)(ContentFooter,{onConfirm:function(e){}})})},children:"Dialog Footer within renderContent"})},{title:"ScrollView Demo(not recommand, use Modal Page instead it))",element:(0,d.jsx)(r.YStack,{children:(0,d.jsx)(r.Button,{onPress:function(){r.Dialog.show({title:"#ScrollContent",dismissOnOverlayPress:!1,disableDrag:!0,renderContent:(0,d.jsx)(ScrollContent,{})})},children:"Open ScrollContent"})})},{title:"Test Visibility in Navigator",element:(0,d.jsx)(DialogNavigatorDemo,{})},{title:"closeFlag",element:(0,d.jsx)(r.YStack,{children:(0,d.jsx)(r.Button,{onPress:function(){var e=r.Dialog.show({title:"show",onConfirm:function(){},onClose:function(e){},renderContent:(0,d.jsx)(r.SizableText,{children:"closeFlag"})});setTimeout((function(){e.close({flag:"closeFlag"})}),3e3)},children:"closeFlag"})})},{title:"showExit",element:(0,d.jsx)(r.YStack,{children:(0,d.jsx)(r.Button,{onPress:function(){var e=(0,i.forwardRef)((function(e,n){var t,[s,l]=(0,i.useState)(!1);return(0,i.useEffect)((function(){setTimeout((function(){l(!0)}),5e3)}),[]),(0,d.jsx)(r.DialogContainer,{title:"title",ref:n,showExitButton:s,renderContent:(0,d.jsx)(r.SizableText,{children:"content"}),onClose:(t=(0,o.A)((function*(e){})),function(e){return t.apply(this,arguments)})})}));r.Dialog.show({dialogContainer:function({ref:n}){return(0,d.jsx)(e,{ref:n,onClose:(t=(0,o.A)((function*(e){})),function(e){return t.apply(this,arguments)})});var t}})},children:"showExitButton"})})},{title:"Dialogs",element:(0,d.jsxs)(r.YStack,{gap:"$4",children:[(0,d.jsx)(r.Button,{onPress:function(){r.Dialog.show({title:"A",description:"AAAA",renderContent:(0,d.jsx)(r.Stack,{h:200})}),setTimeout((function(){r.Dialog.show({title:"B",description:"BBB",sheetProps:{zIndex:100002}})}),10)},children:"Dialogs"}),(0,d.jsx)(r.Button,{onPress:function(){r.Dialog.show({title:"A",description:"AAAA",renderContent:(0,d.jsx)(r.Stack,{h:200,children:(0,d.jsx)((function(){var[e,n]=(0,i.useState)("Apple");return(0,d.jsx)(r.Select,{items:new Array(5).fill(void 0).map((function(e,n){return{label:String(n),value:String(n)}})),value:e,onChange:n,title:"Demo Title",onOpenChange:function(){}})}),{})})})},children:"Select In Dialog"})]})},{title:"open & close test",element:(0,d.jsx)(r.YStack,{gap:"$4",children:(0,d.jsx)(r.Button,{onPress:(0,o.A)((function*(){var e=r.Dialog.show({title:"Lorem ipsum",icon:"PlaceholderOutline",description:"Lorem ipsum dolor sit amet consectetur. Nisi in arcu ultrices neque vel nec.",tone:"default"});yield a.A.wait(10),yield e.close()})),children:"ShowAndClose"})})}]})}},654004:(e,n,t)=>{t.d(n,{P:()=>Layout});var o=t(586330),i=t(654266),r=t(490343),s=t(989375),l=t(610421),c=t(498356),a=t(392097),u=t(831085),FormattedText=function({text:e}){return"string"==typeof e?(0,u.jsx)(r.Stack,{children:(0,u.jsxs)(r.SizableText,{children:[e,"。 "]})}):Array.isArray(e)&&0===e.length?null:(0,u.jsx)(r.Stack,{children:(0,u.jsx)(r.Stack,{gap:"$1",children:e.map((function(n,t){return(0,u.jsx)(r.Stack,{children:(0,u.jsxs)(r.SizableText,{children:[t+1,". ",n,t===e.length-1?"。":"；"]})},t.toString())}))})})};function Layout({description:e="",suggestions:n=[],boundaryConditions:t=[],elements:d=[],scrollEnabled:m=!0,contentInsetAdjustmentBehavior:h="never",skipLoading:f=!1,children:x}){var g=(0,s.U6)(),p=(0,c.A)();return(0,u.jsx)(r.Page,{skipLoading:f,children:(0,u.jsx)(r.ScrollView,{maxWidth:"100%",scrollEnabled:m,flex:1,marginBottom:g,paddingHorizontal:"$5",contentContainerStyle:{paddingTop:20,paddingBottom:280},keyboardDismissMode:"on-drag",contentInsetAdjustmentBehavior:h,children:(0,u.jsxs)(r.Stack,{marginHorizontal:"auto",maxWidth:"100%",width:576,gap:"$6",children:[(0,u.jsxs)(r.XStack,{children:[(0,u.jsx)(r.IconButton,{icon:"HomeLineOutline",onPress:function(){p.dispatch(i.y9.replace(a.WP.Main,{screen:a.V4.Developer,params:{screen:a.f$.TabDeveloper}}))}}),(0,u.jsx)(r.Button,{ml:"$4",onPress:(0,o.A)((function*(){yield l.A.serviceSetting.setTheme("light")})),children:"Light Theme"}),(0,u.jsx)(r.Button,{ml:"$4",variant:"primary",onPress:(0,o.A)((function*(){yield l.A.serviceSetting.setTheme("dark")})),children:"Dark Theme"})]}),e?(0,u.jsxs)(r.Stack,{gap:"$2",children:[(0,u.jsx)(r.Stack,{children:(0,u.jsx)(r.SizableText,{size:"$headingXl",children:"使用说明"})}),(0,u.jsx)(r.Stack,{children:(0,u.jsx)(FormattedText,{text:e})})]}):null,n?(0,u.jsxs)(r.Stack,{gap:"$2",children:[(0,u.jsx)(r.Stack,{children:(0,u.jsx)(r.SizableText,{size:"$headingXl",children:"使用建议"})}),(0,u.jsx)(FormattedText,{text:n})]}):null,t?.length>0?(0,u.jsxs)(r.Stack,{gap:"$2",children:[(0,u.jsx)(r.Stack,{children:(0,u.jsx)(r.SizableText,{size:"$headingXl",children:"注意事项"})}),(0,u.jsx)(FormattedText,{text:t})]}):null,(0,u.jsxs)(r.Stack,{gap:"$2",children:[(0,u.jsx)(r.Stack,{children:(0,u.jsx)(r.SizableText,{size:"$headingXl",children:"组件案例"})}),(0,u.jsx)(r.Stack,{children:d?.map((function(e,n){return(0,u.jsxs)(r.Stack,{gap:"$2",pb:"$8",mb:"$8",borderBottomWidth:"$px",borderBottomColor:"$borderSubdued",children:[(0,u.jsxs)(r.Stack,{flexDirection:"column",children:[(0,u.jsx)(r.SizableText,{size:"$headingLg",children:e.title}),e.description?(0,u.jsx)(r.Stack,{paddingTop:1,children:(0,u.jsxs)(r.SizableText,{children:[e.description,"。"]})}):null]}),(0,u.jsx)(r.Stack,{children:"function"==typeof e.element?(0,u.jsx)(e.element,{}):e.element})]},`elements-${n}`)}))}),(0,u.jsx)(r.Stack,{children:x?(0,u.jsx)(r.Stack,{gap:"$3",children:x}):null})]})]})})})}}}]);