"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[4358],{326745:(e,r,t)=>{t.d(r,{u:()=>useAppRoute});var n=t(654266);function useAppRoute(){return(0,n.lq)()}},338443:(e,r,t)=>{t.d(r,{m:()=>OptionList});var n=t(586330),a=t(514041),o=t(908867),i=t(17617),s=t(490343),d=t(391944),l=t(498356),c=t(259227),u=t(334439),m=t(831085),f=(0,a.createContext)({}),ExtraField=function({name:e,renderItem:r,item:t}){return(0,m.jsxs)(s.XStack,{justifyContent:"space-between",children:[(0,m.jsx)(s.SizableText,{size:"$bodyMd",color:"$textSubdued",children:e}),(0,m.jsx)(s.SizableText,{size:"$bodyMd",color:"$textSubdued",children:r({item:t})})]})},OptionItem=function({item:e,token:r,network:t,onPress:n}){var[{currencyInfo:{symbol:l}}]=(0,c.useSettingsPersistAtom)(),{extraFields:g,activeId:b}=(0,a.useContext)(f),x=b===e.id,p=(0,o.A)();return(0,m.jsx)(s.Stack,{px:"$5",py:"$2",children:(0,m.jsxs)(s.YStack,{group:!0,onPress:function(){return n?.({item:e})},borderWidth:i.A.hairlineWidth,borderColor:x?"$borderActive":"$borderSubdued",borderRadius:"$3",borderCurve:"continuous",overflow:"hidden",userSelect:"none",children:[(0,m.jsxs)(s.XStack,{bg:"$bgSubdued","$group-hover":{bg:"$bgHover"},"$group-press":{bg:"$bgActive"},"$group-":!0,px:14,py:12,jc:"space-between",ai:"center",children:[(0,m.jsxs)(s.XStack,{children:[(0,m.jsx)(s.Stack,{pr:"$3",children:(0,m.jsx)(d.o,{tokenImageUri:r.logoURI,networkImageUri:t?.logoURI})}),(0,m.jsxs)(s.YStack,{children:[(0,m.jsx)(s.NumberSizeableText,{size:"$bodyLgMedium",formatter:"balance",formatterOptions:{tokenSymbol:r?.symbol},children:e.amount}),(0,m.jsx)(s.NumberSizeableText,{size:"$bodyMd",color:"$textSubdued",formatter:"value",formatterOptions:{currency:l},children:e.fiatValue})]})]}),e.isPending?(0,m.jsx)(s.Stack,{children:(0,m.jsx)(s.Badge,{badgeType:"info",children:p.formatMessage({id:u.ETranslations.global_pending})})}):null]}),g&&g.length>0?(0,m.jsx)(s.YStack,{py:12,px:14,gap:10,children:g.map((function(r){return(0,m.jsx)(a.Suspense,{fallback:null,children:(0,m.jsx)(ExtraField,{name:r.name,renderItem:r.renderItem,item:e})},r.name)}))}):null]})})},ListEmptyComponent=function(){var e=(0,o.A)();return(0,m.jsx)(s.Empty,{icon:"ClockTimeHistoryOutline",title:e.formatMessage({id:u.ETranslations.earn_no_orders}),description:e.formatMessage({id:u.ETranslations.earn_no_orders_desc})})},OptionList=function({items:e,token:r,network:t,onPress:o,onConfirmText:i,extraFields:d,ListHeaderComponent:c}){var u=(0,l.A)(),[g,b]=(0,a.useState)(e[0]?.id),[x,p]=(0,a.useState)(!1),h=(0,a.useCallback)((function({item:e}){return(0,m.jsx)(OptionItem,{item:e,token:r,network:t,onPress:function({item:e}){return b(e.id)}})}),[r,t]),_=(0,a.useCallback)((0,n.A)((function*(){var r=e.find((function(e){return e.id===g}));if(r)try{p(!0),yield o?.({item:r})}finally{p(!1)}})),[e,g,o]),v=(0,a.useMemo)((function(){return{extraFields:d,activeId:g}}),[d,g]),w=(0,a.useMemo)((function(){return!g||!e.find((function(e){return e.id===g&&!e.isPending}))}),[g,e]);return(0,m.jsx)(f.Provider,{value:v,children:(0,m.jsxs)(s.Stack,{children:[(0,m.jsx)(s.ListView,{estimatedItemSize:"$5",data:e,renderItem:h,ListHeaderComponent:c,ListEmptyComponent}),(0,m.jsx)(s.Page.Footer,{onConfirmText:i,confirmButtonProps:{onPress:_,disabled:w,loading:x},cancelButtonProps:{onPress:function(){u.pop()}}})]})})}},138584:(e,r,t)=>{t.d(r,{Py:()=>SimpleSpinnerSkeleton,am:()=>isLoadingState,bU:()=>PageFrame,o0:()=>isErrorState});var n=t(908867),a=t(490343),o=t(791088),i=t(334439),s=t(831085),PageErrOccurred=function({onPress:e}){var r=(0,n.A)();return(0,s.jsx)(a.Empty,{pt:"$32",icon:"ErrorOutline",title:r.formatMessage({id:i.ETranslations.global_an_error_occurred}),description:r.formatMessage({id:i.ETranslations.global_an_error_occurred_desc}),buttonProps:{onPress:e,children:r.formatMessage({id:i.ETranslations.global_refresh})}})},SimpleSpinnerSkeleton=function(){return(0,s.jsxs)(a.Stack,{children:[(0,s.jsx)(a.Stack,{px:"$5",py:"$2",children:(0,s.jsx)(a.Skeleton.HeadingSm,{})}),Array.from({length:3}).map((function(e,r){return(0,s.jsxs)(o.c,{children:[(0,s.jsx)(a.Skeleton,{h:"$10",w:"$10",radius:"round"}),(0,s.jsxs)(a.Stack,{children:[(0,s.jsx)(a.Skeleton.BodyLg,{}),(0,s.jsx)(a.Skeleton.BodyMd,{})]})]},r)}))]})},isLoadingState=function({result:e,isLoading:r}){return Boolean(void 0===e&&(void 0===r||!0===r))},isErrorState=function({result:e,isLoading:r}){return Boolean(void 0===e&&!1===r)},PageFrame=function({children:e,loading:r,LoadingSkeleton:t,error:n,onRefresh:a}){return r?t?(0,s.jsx)(t,{}):null:n?(0,s.jsx)(PageErrOccurred,{onPress:a}):(0,s.jsx)(s.Fragment,{children:e})}},304358:(e,r,t)=>{t.r(r),t.d(r,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var n=t(514041),a=t(908867),o=t(490343),i=t(610421),s=t(498356),d=t(326745),l=t(911998),c=t(334439),u=t(392097),m=t(567807),f=t(553083),g=t(73197),b=t(338443),x=t(138584),p=t(544577),h=t(831085);const __WEBPACK_DEFAULT_EXPORT__=function(){var e,r=(0,d.u)(),t=(0,a.A)(),_=(0,s.A)(),{accountId:v,networkId:w,symbol:k,provider:j,details:y}=r.params,{result:S,isLoading:T,run:E}=(0,l.yk)((function(){return i.A.serviceStaking.getWithdrawList({networkId:w,accountId:v,symbol:k,provider:j})}),[v,w,k,j],{watchLoading:!0}),M=(0,n.useCallback)((function({item:e}){_.push(u.Ax.Withdraw,{accountId:v,networkId:w,symbol:k,provider:j,details:y,identity:e.id,amount:e.amount,onSuccess:function(){setTimeout((function(){return _.pop()}),4)}})}),[_,v,w,k,j,y]),$=(0,p.Bt)(),P=t.formatMessage({id:c.ETranslations.earn_select_an_order_to_withdraw});return j.toLowerCase()===g.e.Babylon.toLowerCase()&&(P=t.formatMessage({id:c.ETranslations.earn_select_for_early_withdrawal}),e=(0,h.jsx)(o.SectionList.SectionHeader,{title:t.formatMessage({id:c.ETranslations.earn_select_for_early_withdrawal_desc})})),(0,h.jsxs)(o.Page,{scrollEnabled:!0,children:[(0,h.jsx)(o.Page.Header,{title:P}),(0,h.jsx)(o.Page.Body,{children:(0,h.jsx)(x.bU,{LoadingSkeleton:x.Py,loading:(0,x.am)({result:S,isLoading:T}),error:(0,x.o0)({result:S,isLoading:T}),onRefresh:E,children:S?(0,h.jsx)(b.m,{ListHeaderComponent:S.items.length>0?e:void 0,items:S.items,token:S.token,network:S.network,onPress:M,onConfirmText:t.formatMessage({id:c.ETranslations.global_continue}),extraFields:f.Ay.isBTCNetwork(w)?[{name:t.formatMessage({id:c.ETranslations.global_status}),renderItem({item:e}){var r;return e.babylonExtra?null!=(r=$[(0,p.U4)(e.babylonExtra)])?r:e.babylonExtra.status:""}},{name:t.formatMessage({id:c.ETranslations.earn_unlock_time}),renderItem:({item:e})=>e.babylonExtra?.endTime?(0,m.Yq)(new Date(e.babylonExtra?.endTime),{hideTimeForever:!0}):""}]:void 0}):null})})]})}},544577:(e,r,t)=>{t.d(r,{Bt:()=>useBabylonStatusMap,U4:()=>getBabylonPortfolioStatus,rR:()=>getBabylonPortfolioTags});var n=t(514041),a=t(908867),o=t(334439),getBabylonPortfolioStatus=function(e){return e.isOverflow?"overflow":e.status},useBabylonStatusMap=function(){var e=(0,a.A)();return(0,n.useMemo)((function(){return{active:e.formatMessage({id:o.ETranslations.earn_active}),withdraw_requested:e.formatMessage({id:o.ETranslations.earn_withdrawal_requested}),overflow:e.formatMessage({id:o.ETranslations.earn_overflow}),claimable:e.formatMessage({id:o.ETranslations.earn_claimable}),claimed:e.formatMessage({id:o.ETranslations.earn_claimed}),local_pending_activation:e.formatMessage({id:o.ETranslations.earn_pending_activation})}}),[e])},getBabylonPortfolioTags=function(e){if(!e.isOverflow)switch(e.status){case"active":return["active"];case"withdraw_requested":return["active","withdraw_requested"];case"claimable":return["claimable"];case"claimed":return["claimed"];case"local_pending_activation":return["local_pending_activation"];default:return[]}switch(e.status){case"active":return["overflow"];case"withdraw_requested":return["withdraw_requested"];case"claimable":return["claimable"];case"claimed":return["claimed"];case"local_pending_activation":return["local_pending_activation"];default:return[]}}}}]);