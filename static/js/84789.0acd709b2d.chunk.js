"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[84789],{484789:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var s=n(503668),a=n.n(s),l=n(586330),i=n(514041),r=n(908867),o=n(490343),u=n(318822),c=n(334439),d=(n(663522),n(610421)),f=n(791088),p=n(911998),x=n(831085);function EmptyGuide(){return(0,x.jsx)(o.Stack,{w:"100%",px:22,py:"$2.5",alignItems:"center",justifyContent:"center",children:(0,x.jsx)(o.Image,{w:"$80",h:341,source:n(111340)})})}const g=function DefaultWalletSettingsModal(){var e,t=(0,r.A)(),{result:n,run:s}=(0,p.yk)((0,l.A)((function*(){return d.A.serviceContextMenu.getDefaultWalletSettingsWithIcon()})),[]),g=(0,i.useRef)(null);(0,i.useEffect)((function(){n&&(g.current=n)}),[n]),(0,i.useEffect)((function(){return u.iL.addListener(u.Tu.ExtensionContextMenuUpdate,s),function(){u.iL.removeListener(u.Tu.ExtensionContextMenuUpdate,s)}}),[s]);var _,m,h,w=(0,i.useCallback)((_=(0,l.A)((function*(e){yield d.A.serviceContextMenu.setIsDefaultWallet(e)})),function(e){return _.apply(this,arguments)}),[]),y=(0,i.useCallback)((function(){return new Promise((function(e,t){var n;chrome.tabs.query({active:!0,currentWindow:!0},(n=(0,l.A)((function*(n){if(n[0])try{var s,a=new URL(null!=(s=n[0]?.url)?s:"").origin;e(a)}catch(e){t(e)}})),function(e){return n.apply(this,arguments)}))}))}),[]),E=(0,i.useCallback)((m=(0,l.A)((function*(e){})),function(e){return m.apply(this,arguments)}),[y]),b=(0,i.useCallback)((0,l.A)((function*(){var e=!n?.isDefaultWallet;yield w(e),o.Toast.success({title:e?t.formatMessage({id:c.ETranslations.explore_default_wallet_set}):t.formatMessage({id:c.ETranslations.explore_default_wallet_canceled}),message:e?t.formatMessage({id:c.ETranslations.explore_set_default_wallet_description}):t.formatMessage({id:c.ETranslations.explore_default_wallet_canceled_desc})}),yield E(),setTimeout((function(){s()}),200)})),[t,E,n?.isDefaultWallet,s,w]),k=(0,i.useCallback)((h=(0,l.A)((function*(e){yield d.A.serviceContextMenu.removeExcludedDApp(e),n?.isDefaultWallet&&o.Toast.success({title:t.formatMessage({id:c.ETranslations.explore_default_wallet_set}),message:t.formatMessage({id:c.ETranslations.explore_set_default_wallet_description})}),yield E(e),s()})),function(e){return h.apply(this,arguments)}),[t,s,n?.isDefaultWallet,E]),D=(0,i.useMemo)((function(){return!("boolean"==typeof n?.isDefaultWallet&&!n.isDefaultWallet)}),[n?.isDefaultWallet]),M=(0,i.useCallback)((function({item:e}){return(0,x.jsx)(f.c,{title:new URL(e.origin).hostname,titleProps:{style:{wordBreak:"break-all"}},avatarProps:{src:e.logo,fallbackProps:{children:(0,x.jsx)(o.Skeleton,{w:"$10",h:"$10"})}},onPress:function(){return k(e.origin)},children:(0,x.jsx)(f.c.IconButton,{icon:"DeleteOutline",iconProps:{color:"$iconSubdued"}})},e.origin)}),[k]),W=(0,i.useCallback)((function(){return a()(n?.excludedDappListWithLogo)?null:0===n.excludedDappListWithLogo.length?(0,x.jsx)(EmptyGuide,{}):(0,x.jsx)(o.ListView,{keyExtractor:function(e){return e.origin},data:n.excludedDappListWithLogo,estimatedItemSize:"$10",renderItem:M})}),[n?.excludedDappListWithLogo,M]);return(0,x.jsxs)(o.Page,{children:[(0,x.jsx)(o.Page.Header,{title:t.formatMessage({id:c.ETranslations.settings_default_wallet_settings})}),(0,x.jsxs)(o.Page.Body,{children:[(0,x.jsx)(f.c,{title:t.formatMessage({id:c.ETranslations.explore_set_default}),subtitle:t.formatMessage({id:c.ETranslations.explore_set_default_wallet_description}),children:(0,x.jsx)(o.Switch,{size:o.ESwitchSize.small,value:null==(e=n?.isDefaultWallet)||e,onChange:b})}),D?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(o.Divider,{my:"$2.5"}),(0,x.jsx)(f.c,{title:t.formatMessage({id:c.ETranslations.explore_excluded_dapps}),subtitle:t.formatMessage({id:c.ETranslations.explore_excluded_dapps_description})}),W()]}):null]})]})}},111340:(e,t,n)=>{e.exports=n.p+"static/media/extension_menu.580af8018f976a70553a.png"}}]);