/*! For license information please see 27527.95e89ce614.chunk.js.LICENSE.txt */
(self.webpackChunkweb=self.webpackChunkweb||[]).push([[27527],{427527:(module,__unused_webpack_exports,__webpack_require__)=>{var Buffer=__webpack_require__(901048).Buffer;!function webpackUniversalModuleDefinition(e,t){module.exports=t()}(self,(()=>(()=>{var __webpack_modules__={5434:e=>{"use strict";var t,r="object"==typeof Reflect?Reflect:null,i=r&&"function"==typeof r.apply?r.apply:function ReflectApply(e,t,r){return Function.prototype.apply.call(e,t,r)};t=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function ReflectOwnKeys(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function ReflectOwnKeys(e){return Object.getOwnPropertyNames(e)};var n=Number.isNaN||function NumberIsNaN(e){return e!=e};function EventEmitter(){EventEmitter.init.call(this)}e.exports=EventEmitter,e.exports.once=function once(e,t){return new Promise((function(r,i){function errorListener(r){e.removeListener(t,resolver),i(r)}function resolver(){"function"==typeof e.removeListener&&e.removeListener("error",errorListener),r([].slice.call(arguments))}eventTargetAgnosticAddListener(e,t,resolver,{once:!0}),"error"!==t&&function addErrorHandlerIfEventEmitter(e,t,r){"function"==typeof e.on&&eventTargetAgnosticAddListener(e,"error",t,r)}(e,errorListener,{once:!0})}))},EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._eventsCount=0,EventEmitter.prototype._maxListeners=void 0;var s=10;function checkListener(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function _getMaxListeners(e){return void 0===e._maxListeners?EventEmitter.defaultMaxListeners:e._maxListeners}function _addListener(e,t,r,i){var n,s,a;if(checkListener(r),void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),s=e._events),a=s[t]),void 0===a)a=s[t]=r,++e._eventsCount;else if("function"==typeof a?a=s[t]=i?[r,a]:[a,r]:i?a.unshift(r):a.push(r),(n=_getMaxListeners(e))>0&&a.length>n&&!a.warned){a.warned=!0;var o=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");o.name="MaxListenersExceededWarning",o.emitter=e,o.type=t,o.count=a.length,function ProcessEmitWarning(e){console&&console.warn&&console.warn(e)}(o)}return e}function onceWrapper(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _onceWrap(e,t,r){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},n=onceWrapper.bind(i);return n.listener=r,i.wrapFn=n,n}function _listeners(e,t,r){var i=e._events;if(void 0===i)return[];var n=i[t];return void 0===n?[]:"function"==typeof n?r?[n.listener||n]:[n]:r?function unwrapListeners(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(n):arrayClone(n,n.length)}function listenerCount(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function arrayClone(e,t){for(var r=new Array(t),i=0;i<t;++i)r[i]=e[i];return r}function eventTargetAgnosticAddListener(e,t,r,i){if("function"==typeof e.on)i.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function wrapListener(n){i.once&&e.removeEventListener(t,wrapListener),r(n)}))}}Object.defineProperty(EventEmitter,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||n(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),EventEmitter.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},EventEmitter.prototype.setMaxListeners=function setMaxListeners(e){if("number"!=typeof e||e<0||n(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},EventEmitter.prototype.getMaxListeners=function getMaxListeners(){return _getMaxListeners(this)},EventEmitter.prototype.emit=function emit(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,s=this._events;if(void 0!==s)n=n&&void 0===s.error;else if(!n)return!1;if(n){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var o=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw o.context=a,o}var d=s[e];if(void 0===d)return!1;if("function"==typeof d)i(d,this,t);else{var u=d.length,l=arrayClone(d,u);for(r=0;r<u;++r)i(l[r],this,t)}return!0},EventEmitter.prototype.addListener=function addListener(e,t){return _addListener(this,e,t,!1)},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.prependListener=function prependListener(e,t){return _addListener(this,e,t,!0)},EventEmitter.prototype.once=function once(e,t){return checkListener(t),this.on(e,_onceWrap(this,e,t)),this},EventEmitter.prototype.prependOnceListener=function prependOnceListener(e,t){return checkListener(t),this.prependListener(e,_onceWrap(this,e,t)),this},EventEmitter.prototype.removeListener=function removeListener(e,t){var r,i,n,s,a;if(checkListener(t),void 0===(i=this._events))return this;if(void 0===(r=i[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(n=-1,s=r.length-1;s>=0;s--)if(r[s]===t||r[s].listener===t){a=r[s].listener,n=s;break}if(n<0)return this;0===n?r.shift():function spliceOne(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,n),1===r.length&&(i[e]=r[0]),void 0!==i.removeListener&&this.emit("removeListener",e,a||t)}return this},EventEmitter.prototype.off=EventEmitter.prototype.removeListener,EventEmitter.prototype.removeAllListeners=function removeAllListeners(e){var t,r,i;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var n,s=Object.keys(r);for(i=0;i<s.length;++i)"removeListener"!==(n=s[i])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},EventEmitter.prototype.listeners=function listeners(e){return _listeners(this,e,!0)},EventEmitter.prototype.rawListeners=function rawListeners(e){return _listeners(this,e,!1)},EventEmitter.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):listenerCount.call(e,t)},EventEmitter.prototype.listenerCount=listenerCount,EventEmitter.prototype.eventNames=function eventNames(){return this._eventsCount>0?t(this._events):[]}},3808:e=>{"use strict";e.exports=function asPromise(e,t){var r=new Array(arguments.length-1),i=0,n=2,s=!0;for(;n<arguments.length;)r[i++]=arguments[n++];return new Promise((function executor(n,a){r[i]=function callback(e){if(s)if(s=!1,e)a(e);else{for(var t=new Array(arguments.length-1),r=0;r<t.length;)t[r++]=arguments[r];n.apply(null,t)}};try{e.apply(t||null,r)}catch(e){s&&(s=!1,a(e))}}))}},3320:(e,t)=>{"use strict";var r=t;r.length=function length(e){var t=e.length;if(!t)return 0;for(var r=0;--t%4>1&&"="===e.charAt(t);)++r;return Math.ceil(3*e.length)/4-r};for(var i=new Array(64),n=new Array(123),s=0;s<64;)n[i[s]=s<26?s+65:s<52?s+71:s<62?s-4:s-59|43]=s++;r.encode=function encode(e,t,r){for(var n,s=null,a=[],o=0,d=0;t<r;){var u=e[t++];switch(d){case 0:a[o++]=i[u>>2],n=(3&u)<<4,d=1;break;case 1:a[o++]=i[n|u>>4],n=(15&u)<<2,d=2;break;case 2:a[o++]=i[n|u>>6],a[o++]=i[63&u],d=0}o>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,a)),o=0)}return d&&(a[o++]=i[n],a[o++]=61,1===d&&(a[o++]=61)),s?(o&&s.push(String.fromCharCode.apply(String,a.slice(0,o))),s.join("")):String.fromCharCode.apply(String,a.slice(0,o))};var a="invalid encoding";r.decode=function decode(e,t,r){for(var i,s=r,o=0,d=0;d<e.length;){var u=e.charCodeAt(d++);if(61===u&&o>1)break;if(void 0===(u=n[u]))throw Error(a);switch(o){case 0:i=u,o=1;break;case 1:t[r++]=i<<2|(48&u)>>4,i=u,o=2;break;case 2:t[r++]=(15&i)<<4|(60&u)>>2,i=u,o=3;break;case 3:t[r++]=(3&i)<<6|u,o=0}}if(1===o)throw Error(a);return r-s},r.test=function test(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},4132:e=>{"use strict";function codegen(e,t){"string"==typeof e&&(t=e,e=void 0);var r=[];function Codegen(e){if("string"!=typeof e){var t=toString();if(codegen.verbose&&console.log("codegen: "+t),t="return "+t,e){for(var i=Object.keys(e),n=new Array(i.length+1),s=new Array(i.length),a=0;a<i.length;)n[a]=i[a],s[a]=e[i[a++]];return n[a]=t,Function.apply(null,n).apply(null,s)}return Function(t)()}for(var o=new Array(arguments.length-1),d=0;d<o.length;)o[d]=arguments[++d];if(d=0,e=e.replace(/%([%dfijs])/g,(function replace(e,t){var r=o[d++];switch(t){case"d":case"f":return String(Number(r));case"i":return String(Math.floor(r));case"j":return JSON.stringify(r);case"s":return String(r)}return"%"})),d!==o.length)throw Error("parameter count mismatch");return r.push(e),Codegen}function toString(i){return"function "+(i||t||"")+"("+(e&&e.join(",")||"")+"){\n  "+r.join("\n  ")+"\n}"}return Codegen.toString=toString,Codegen}e.exports=codegen,codegen.verbose=!1},2149:e=>{"use strict";function EventEmitter(){this._listeners={}}e.exports=EventEmitter,EventEmitter.prototype.on=function on(e,t,r){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:r||this}),this},EventEmitter.prototype.off=function off(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var r=this._listeners[e],i=0;i<r.length;)r[i].fn===t?r.splice(i,1):++i;return this},EventEmitter.prototype.emit=function emit(e){var t=this._listeners[e];if(t){for(var r=[],i=1;i<arguments.length;)r.push(arguments[i++]);for(i=0;i<t.length;)t[i].fn.apply(t[i++].ctx,r)}return this}},177:(e,t,r)=>{"use strict";e.exports=fetch;var i=r(3808),n=r(3768)("fs");function fetch(e,t,r){return"function"==typeof t?(r=t,t={}):t||(t={}),r?!t.xhr&&n&&n.readFile?n.readFile(e,(function fetchReadFileCallback(i,n){return i&&"undefined"!=typeof XMLHttpRequest?fetch.xhr(e,t,r):i?r(i):r(null,t.binary?n:n.toString("utf8"))})):fetch.xhr(e,t,r):i(fetch,this,e,t)}fetch.xhr=function fetch_xhr(e,t,r){var i=new XMLHttpRequest;i.onreadystatechange=function fetchOnReadyStateChange(){if(4===i.readyState){if(0!==i.status&&200!==i.status)return r(Error("status "+i.status));if(t.binary){var e=i.response;if(!e){e=[];for(var n=0;n<i.responseText.length;++n)e.push(255&i.responseText.charCodeAt(n))}return r(null,"undefined"!=typeof Uint8Array?new Uint8Array(e):e)}return r(null,i.responseText)}},t.binary&&("overrideMimeType"in i&&i.overrideMimeType("text/plain; charset=x-user-defined"),i.responseType="arraybuffer"),i.open("GET",e),i.send()}},1727:e=>{"use strict";function factory(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),r=new Uint8Array(t.buffer),i=128===r[3];function writeFloat_f32_cpy(e,i,n){t[0]=e,i[n]=r[0],i[n+1]=r[1],i[n+2]=r[2],i[n+3]=r[3]}function writeFloat_f32_rev(e,i,n){t[0]=e,i[n]=r[3],i[n+1]=r[2],i[n+2]=r[1],i[n+3]=r[0]}function readFloat_f32_cpy(e,i){return r[0]=e[i],r[1]=e[i+1],r[2]=e[i+2],r[3]=e[i+3],t[0]}function readFloat_f32_rev(e,i){return r[3]=e[i],r[2]=e[i+1],r[1]=e[i+2],r[0]=e[i+3],t[0]}e.writeFloatLE=i?writeFloat_f32_cpy:writeFloat_f32_rev,e.writeFloatBE=i?writeFloat_f32_rev:writeFloat_f32_cpy,e.readFloatLE=i?readFloat_f32_cpy:readFloat_f32_rev,e.readFloatBE=i?readFloat_f32_rev:readFloat_f32_cpy}():function(){function writeFloat_ieee754(e,t,r,i){var n=t<0?1:0;if(n&&(t=-t),0===t)e(1/t>0?0:2147483648,r,i);else if(isNaN(t))e(2143289344,r,i);else if(t>34028234663852886e22)e((n<<31|2139095040)>>>0,r,i);else if(t<11754943508222875e-54)e((n<<31|Math.round(t/1401298464324817e-60))>>>0,r,i);else{var s=Math.floor(Math.log(t)/Math.LN2);e((n<<31|s+127<<23|8388607&Math.round(t*Math.pow(2,-s)*8388608))>>>0,r,i)}}function readFloat_ieee754(e,t,r){var i=e(t,r),n=2*(i>>31)+1,s=i>>>23&255,a=8388607&i;return 255===s?a?NaN:n*(1/0):0===s?1401298464324817e-60*n*a:n*Math.pow(2,s-150)*(a+8388608)}e.writeFloatLE=writeFloat_ieee754.bind(null,writeUintLE),e.writeFloatBE=writeFloat_ieee754.bind(null,writeUintBE),e.readFloatLE=readFloat_ieee754.bind(null,readUintLE),e.readFloatBE=readFloat_ieee754.bind(null,readUintBE)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),r=new Uint8Array(t.buffer),i=128===r[7];function writeDouble_f64_cpy(e,i,n){t[0]=e,i[n]=r[0],i[n+1]=r[1],i[n+2]=r[2],i[n+3]=r[3],i[n+4]=r[4],i[n+5]=r[5],i[n+6]=r[6],i[n+7]=r[7]}function writeDouble_f64_rev(e,i,n){t[0]=e,i[n]=r[7],i[n+1]=r[6],i[n+2]=r[5],i[n+3]=r[4],i[n+4]=r[3],i[n+5]=r[2],i[n+6]=r[1],i[n+7]=r[0]}function readDouble_f64_cpy(e,i){return r[0]=e[i],r[1]=e[i+1],r[2]=e[i+2],r[3]=e[i+3],r[4]=e[i+4],r[5]=e[i+5],r[6]=e[i+6],r[7]=e[i+7],t[0]}function readDouble_f64_rev(e,i){return r[7]=e[i],r[6]=e[i+1],r[5]=e[i+2],r[4]=e[i+3],r[3]=e[i+4],r[2]=e[i+5],r[1]=e[i+6],r[0]=e[i+7],t[0]}e.writeDoubleLE=i?writeDouble_f64_cpy:writeDouble_f64_rev,e.writeDoubleBE=i?writeDouble_f64_rev:writeDouble_f64_cpy,e.readDoubleLE=i?readDouble_f64_cpy:readDouble_f64_rev,e.readDoubleBE=i?readDouble_f64_rev:readDouble_f64_cpy}():function(){function writeDouble_ieee754(e,t,r,i,n,s){var a=i<0?1:0;if(a&&(i=-i),0===i)e(0,n,s+t),e(1/i>0?0:2147483648,n,s+r);else if(isNaN(i))e(0,n,s+t),e(2146959360,n,s+r);else if(i>17976931348623157e292)e(0,n,s+t),e((a<<31|2146435072)>>>0,n,s+r);else{var o;if(i<22250738585072014e-324)e((o=i/5e-324)>>>0,n,s+t),e((a<<31|o/4294967296)>>>0,n,s+r);else{var d=Math.floor(Math.log(i)/Math.LN2);1024===d&&(d=1023),e(4503599627370496*(o=i*Math.pow(2,-d))>>>0,n,s+t),e((a<<31|d+1023<<20|1048576*o&1048575)>>>0,n,s+r)}}}function readDouble_ieee754(e,t,r,i,n){var s=e(i,n+t),a=e(i,n+r),o=2*(a>>31)+1,d=a>>>20&2047,u=4294967296*(1048575&a)+s;return 2047===d?u?NaN:o*(1/0):0===d?5e-324*o*u:o*Math.pow(2,d-1075)*(u+4503599627370496)}e.writeDoubleLE=writeDouble_ieee754.bind(null,writeUintLE,0,4),e.writeDoubleBE=writeDouble_ieee754.bind(null,writeUintBE,4,0),e.readDoubleLE=readDouble_ieee754.bind(null,readUintLE,0,4),e.readDoubleBE=readDouble_ieee754.bind(null,readUintBE,4,0)}(),e}function writeUintLE(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}function writeUintBE(e,t,r){t[r]=e>>>24,t[r+1]=e>>>16&255,t[r+2]=e>>>8&255,t[r+3]=255&e}function readUintLE(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function readUintBE(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=factory(factory)},3768:module=>{"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},1080:(e,t)=>{"use strict";var r=t,i=r.isAbsolute=function isAbsolute(e){return/^(?:\/|\w+:)/.test(e)},n=r.normalize=function normalize(e){var t=(e=e.replace(/\\/g,"/").replace(/\/{2,}/g,"/")).split("/"),r=i(e),n="";r&&(n=t.shift()+"/");for(var s=0;s<t.length;)".."===t[s]?s>0&&".."!==t[s-1]?t.splice(--s,2):r?t.splice(s,1):++s:"."===t[s]?t.splice(s,1):++s;return n+t.join("/")};r.resolve=function resolve(e,t,r){return r||(t=n(t)),i(t)?t:(r||(e=n(e)),(e=e.replace(/(?:\/|^)[^/]+$/,"")).length?n(e+"/"+t):t)}},2461:e=>{"use strict";e.exports=function pool(e,t,r){var i=r||8192,n=i>>>1,s=null,a=i;return function pool_alloc(r){if(r<1||r>n)return e(r);a+r>i&&(s=e(i),a=0);var o=t.call(s,a,a+=r);return 7&a&&(a=1+(7|a)),o}}},5184:(e,t)=>{"use strict";var r=t;r.length=function utf8_length(e){for(var t=0,r=0,i=0;i<e.length;++i)(r=e.charCodeAt(i))<128?t+=1:r<2048?t+=2:55296==(64512&r)&&56320==(64512&e.charCodeAt(i+1))?(++i,t+=4):t+=3;return t},r.read=function utf8_read(e,t,r){if(r-t<1)return"";for(var i,n=null,s=[],a=0;t<r;)(i=e[t++])<128?s[a++]=i:i>191&&i<224?s[a++]=(31&i)<<6|63&e[t++]:i>239&&i<365?(i=((7&i)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,s[a++]=55296+(i>>10),s[a++]=56320+(1023&i)):s[a++]=(15&i)<<12|(63&e[t++])<<6|63&e[t++],a>8191&&((n||(n=[])).push(String.fromCharCode.apply(String,s)),a=0);return n?(a&&n.push(String.fromCharCode.apply(String,s.slice(0,a))),n.join("")):String.fromCharCode.apply(String,s.slice(0,a))},r.write=function utf8_write(e,t,r){for(var i,n,s=r,a=0;a<e.length;++a)(i=e.charCodeAt(a))<128?t[r++]=i:i<2048?(t[r++]=i>>6|192,t[r++]=63&i|128):55296==(64512&i)&&56320==(64512&(n=e.charCodeAt(a+1)))?(i=65536+((1023&i)<<10)+(1023&n),++a,t[r++]=i>>18|240,t[r++]=i>>12&63|128,t[r++]=i>>6&63|128,t[r++]=63&i|128):(t[r++]=i>>12|224,t[r++]=i>>6&63|128,t[r++]=63&i|128);return r-s}},6093:(e,t,r)=>{"use strict";function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}var i,n,s=r(1342).codes,a=s.ERR_AMBIGUOUS_ARGUMENT,o=s.ERR_INVALID_ARG_TYPE,d=s.ERR_INVALID_ARG_VALUE,u=s.ERR_INVALID_RETURN_VALUE,l=s.ERR_MISSING_ARGS,c=r(9801),p=r(9208).inspect,h=r(9208).types,y=h.isPromise,g=h.isRegExp,m=Object.assign?Object.assign:r(3046).assign,b=Object.is?Object.is:r(5968);new Map;function lazyLoadComparison(){var e=r(5656);i=e.isDeepEqual,n=e.isDeepStrictEqual}var v=!1,_=e.exports=ok,w={};function innerFail(e){if(e.message instanceof Error)throw e.message;throw new c(e)}function innerOk(e,t,r,i){if(!r){var n=!1;if(0===t)n=!0,i="No value argument passed to `assert.ok()`";else if(i instanceof Error)throw i;var s=new c({actual:r,expected:!0,message:i,operator:"==",stackStartFn:e});throw s.generatedMessage=n,s}}function ok(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];innerOk.apply(void 0,[ok,t.length].concat(t))}_.fail=function fail(e,t,r,i,n){var s,a=arguments.length;if(0===a)s="Failed";else if(1===a)r=e,e=void 0;else{if(!1===v)v=!0,({env:{ONEKEY_PROXY:void 0,NODE_ENV:"production",TAMAGUI_TARGET:"web"}}.emitWarning?{env:{ONEKEY_PROXY:void 0,NODE_ENV:"production",TAMAGUI_TARGET:"web"}}.emitWarning:console.warn.bind(console))("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094");2===a&&(i="!=")}if(r instanceof Error)throw r;var o={actual:e,expected:t,operator:void 0===i?"fail":i,stackStartFn:n||fail};void 0!==r&&(o.message=r);var d=new c(o);throw s&&(d.message=s,d.generatedMessage=!0),d},_.AssertionError=c,_.ok=ok,_.equal=function equal(e,t,r){if(arguments.length<2)throw new l("actual","expected");e!=t&&innerFail({actual:e,expected:t,message:r,operator:"==",stackStartFn:equal})},_.notEqual=function notEqual(e,t,r){if(arguments.length<2)throw new l("actual","expected");e==t&&innerFail({actual:e,expected:t,message:r,operator:"!=",stackStartFn:notEqual})},_.deepEqual=function deepEqual(e,t,r){if(arguments.length<2)throw new l("actual","expected");void 0===i&&lazyLoadComparison(),i(e,t)||innerFail({actual:e,expected:t,message:r,operator:"deepEqual",stackStartFn:deepEqual})},_.notDeepEqual=function notDeepEqual(e,t,r){if(arguments.length<2)throw new l("actual","expected");void 0===i&&lazyLoadComparison(),i(e,t)&&innerFail({actual:e,expected:t,message:r,operator:"notDeepEqual",stackStartFn:notDeepEqual})},_.deepStrictEqual=function deepStrictEqual(e,t,r){if(arguments.length<2)throw new l("actual","expected");void 0===i&&lazyLoadComparison(),n(e,t)||innerFail({actual:e,expected:t,message:r,operator:"deepStrictEqual",stackStartFn:deepStrictEqual})},_.notDeepStrictEqual=function notDeepStrictEqual(e,t,r){if(arguments.length<2)throw new l("actual","expected");void 0===i&&lazyLoadComparison();n(e,t)&&innerFail({actual:e,expected:t,message:r,operator:"notDeepStrictEqual",stackStartFn:notDeepStrictEqual})},_.strictEqual=function strictEqual(e,t,r){if(arguments.length<2)throw new l("actual","expected");b(e,t)||innerFail({actual:e,expected:t,message:r,operator:"strictEqual",stackStartFn:strictEqual})},_.notStrictEqual=function notStrictEqual(e,t,r){if(arguments.length<2)throw new l("actual","expected");b(e,t)&&innerFail({actual:e,expected:t,message:r,operator:"notStrictEqual",stackStartFn:notStrictEqual})};var E=function Comparison(e,t,r){var i=this;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Comparison),t.forEach((function(t){t in e&&(void 0!==r&&"string"==typeof r[t]&&g(e[t])&&e[t].test(r[t])?i[t]=r[t]:i[t]=e[t])}))};function expectedException(e,t,r,s){if("function"!=typeof t){if(g(t))return t.test(e);if(2===arguments.length)throw new o("expected",["Function","RegExp"],t);if("object"!==_typeof(e)||null===e){var a=new c({actual:e,expected:t,message:r,operator:"deepStrictEqual",stackStartFn:s});throw a.operator=s.name,a}var u=Object.keys(t);if(t instanceof Error)u.push("name","message");else if(0===u.length)throw new d("error",t,"may not be an empty object");return void 0===i&&lazyLoadComparison(),u.forEach((function(i){"string"==typeof e[i]&&g(t[i])&&t[i].test(e[i])||function compareExceptionKey(e,t,r,i,s,a){if(!(r in e)||!n(e[r],t[r])){if(!i){var o=new E(e,s),d=new E(t,s,e),u=new c({actual:o,expected:d,operator:"deepStrictEqual",stackStartFn:a});throw u.actual=e,u.expected=t,u.operator=a.name,u}innerFail({actual:e,expected:t,message:i,operator:a.name,stackStartFn:a})}}(e,t,i,r,u,s)})),!0}return void 0!==t.prototype&&e instanceof t||!Error.isPrototypeOf(t)&&!0===t.call({},e)}function getActual(e){if("function"!=typeof e)throw new o("fn","Function",e);try{e()}catch(e){return e}return w}function checkIsPromise(e){return y(e)||null!==e&&"object"===_typeof(e)&&"function"==typeof e.then&&"function"==typeof e.catch}function waitForActual(e){return Promise.resolve().then((function(){var t;if("function"==typeof e){if(!checkIsPromise(t=e()))throw new u("instance of Promise","promiseFn",t)}else{if(!checkIsPromise(e))throw new o("promiseFn",["Function","Promise"],e);t=e}return Promise.resolve().then((function(){return t})).then((function(){return w})).catch((function(e){return e}))}))}function expectsError(e,t,r,i){if("string"==typeof r){if(4===arguments.length)throw new o("error",["Object","Error","Function","RegExp"],r);if("object"===_typeof(t)&&null!==t){if(t.message===r)throw new a("error/message",'The error message "'.concat(t.message,'" is identical to the message.'))}else if(t===r)throw new a("error/message",'The error "'.concat(t,'" is identical to the message.'));i=r,r=void 0}else if(null!=r&&"object"!==_typeof(r)&&"function"!=typeof r)throw new o("error",["Object","Error","Function","RegExp"],r);if(t===w){var n="";r&&r.name&&(n+=" (".concat(r.name,")")),n+=i?": ".concat(i):".";var s="rejects"===e.name?"rejection":"exception";innerFail({actual:void 0,expected:r,operator:e.name,message:"Missing expected ".concat(s).concat(n),stackStartFn:e})}if(r&&!expectedException(t,r,i,e))throw t}function expectsNoError(e,t,r,i){if(t!==w){if("string"==typeof r&&(i=r,r=void 0),!r||expectedException(t,r)){var n=i?": ".concat(i):".",s="doesNotReject"===e.name?"rejection":"exception";innerFail({actual:t,expected:r,operator:e.name,message:"Got unwanted ".concat(s).concat(n,"\n")+'Actual message: "'.concat(t&&t.message,'"'),stackStartFn:e})}throw t}}function strict(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];innerOk.apply(void 0,[strict,t.length].concat(t))}_.throws=function throws(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];expectsError.apply(void 0,[throws,getActual(e)].concat(r))},_.rejects=function rejects(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return waitForActual(e).then((function(e){return expectsError.apply(void 0,[rejects,e].concat(r))}))},_.doesNotThrow=function doesNotThrow(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];expectsNoError.apply(void 0,[doesNotThrow,getActual(e)].concat(r))},_.doesNotReject=function doesNotReject(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return waitForActual(e).then((function(e){return expectsNoError.apply(void 0,[doesNotReject,e].concat(r))}))},_.ifError=function ifError(e){if(null!=e){var t="ifError got unwanted exception: ";"object"===_typeof(e)&&"string"==typeof e.message?0===e.message.length&&e.constructor?t+=e.constructor.name:t+=e.message:t+=p(e);var r=new c({actual:e,expected:null,operator:"ifError",message:t,stackStartFn:ifError}),i=e.stack;if("string"==typeof i){var n=i.split("\n");n.shift();for(var s=r.stack.split("\n"),a=0;a<n.length;a++){var o=s.indexOf(n[a]);if(-1!==o){s=s.slice(0,o);break}}r.stack="".concat(s.join("\n"),"\n").concat(n.join("\n"))}throw r}},_.strict=m(strict,_,{equal:_.strictEqual,deepEqual:_.deepStrictEqual,notEqual:_.notStrictEqual,notDeepEqual:_.notDeepStrictEqual}),_.strict.strict=_.strict},9801:(e,t,r)=>{"use strict";function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _wrapNativeSuper(e){var t="function"==typeof Map?new Map:void 0;return _wrapNativeSuper=function _wrapNativeSuper(e){if(null===e||!function _isNativeFunction(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,Wrapper)}function Wrapper(){return _construct(e,arguments,_getPrototypeOf(this).constructor)}return Wrapper.prototype=Object.create(e.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(Wrapper,e)},_wrapNativeSuper(e)}function _construct(e,t,r){return _construct=function isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct:function _construct(e,t,r){var i=[null];i.push.apply(i,t);var n=new(Function.bind.apply(e,i));return r&&_setPrototypeOf(n,r.prototype),n},_construct.apply(null,arguments)}function _setPrototypeOf(e,t){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e},_setPrototypeOf(e,t)}function _getPrototypeOf(e){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},_getPrototypeOf(e)}function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}var i=r(9208).inspect,n=r(1342).codes.ERR_INVALID_ARG_TYPE;function endsWith(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}var s="",a="",o="",d="",u={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"};function copyError(e){var t=Object.keys(e),r=Object.create(Object.getPrototypeOf(e));return t.forEach((function(t){r[t]=e[t]})),Object.defineProperty(r,"message",{value:e.message}),r}function inspectValue(e){return i(e,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function createErrDiff(e,t,r){var i="",n="",l=0,c="",p=!1,h=inspectValue(e),y=h.split("\n"),g=inspectValue(t).split("\n"),m=0,b="";if("strictEqual"===r&&"object"===_typeof(e)&&"object"===_typeof(t)&&null!==e&&null!==t&&(r="strictEqualObject"),1===y.length&&1===g.length&&y[0]!==g[0]){var v=y[0].length+g[0].length;if(v<=10){if(!("object"===_typeof(e)&&null!==e||"object"===_typeof(t)&&null!==t||0===e&&0===t))return"".concat(u[r],"\n\n")+"".concat(y[0]," !== ").concat(g[0],"\n")}else if("strictEqualObject"!==r){if(v<({env:{ONEKEY_PROXY:void 0,NODE_ENV:"production",TAMAGUI_TARGET:"web"}}.stderr&&{env:{ONEKEY_PROXY:void 0,NODE_ENV:"production",TAMAGUI_TARGET:"web"}}.stderr.isTTY?{env:{ONEKEY_PROXY:void 0,NODE_ENV:"production",TAMAGUI_TARGET:"web"}}.stderr.columns:80)){for(;y[0][m]===g[0][m];)m++;m>2&&(b="\n  ".concat(function repeat(e,t){if(t=Math.floor(t),0==e.length||0==t)return"";var r=e.length*t;for(t=Math.floor(Math.log(t)/Math.log(2));t;)e+=e,t--;return e+e.substring(0,r-e.length)}(" ",m),"^"),m=0)}}}for(var _=y[y.length-1],w=g[g.length-1];_===w&&(m++<2?c="\n  ".concat(_).concat(c):i=_,y.pop(),g.pop(),0!==y.length&&0!==g.length);)_=y[y.length-1],w=g[g.length-1];var E=Math.max(y.length,g.length);if(0===E){var T=h.split("\n");if(T.length>30)for(T[26]="".concat(s,"...").concat(d);T.length>27;)T.pop();return"".concat(u.notIdentical,"\n\n").concat(T.join("\n"),"\n")}m>3&&(c="\n".concat(s,"...").concat(d).concat(c),p=!0),""!==i&&(c="\n  ".concat(i).concat(c),i="");var A=0,M=u[r]+"\n".concat(a,"+ actual").concat(d," ").concat(o,"- expected").concat(d),O=" ".concat(s,"...").concat(d," Lines skipped");for(m=0;m<E;m++){var x=m-l;if(y.length<m+1)x>1&&m>2&&(x>4?(n+="\n".concat(s,"...").concat(d),p=!0):x>3&&(n+="\n  ".concat(g[m-2]),A++),n+="\n  ".concat(g[m-1]),A++),l=m,i+="\n".concat(o,"-").concat(d," ").concat(g[m]),A++;else if(g.length<m+1)x>1&&m>2&&(x>4?(n+="\n".concat(s,"...").concat(d),p=!0):x>3&&(n+="\n  ".concat(y[m-2]),A++),n+="\n  ".concat(y[m-1]),A++),l=m,n+="\n".concat(a,"+").concat(d," ").concat(y[m]),A++;else{var k=g[m],I=y[m],C=I!==k&&(!endsWith(I,",")||I.slice(0,-1)!==k);C&&endsWith(k,",")&&k.slice(0,-1)===I&&(C=!1,I+=","),C?(x>1&&m>2&&(x>4?(n+="\n".concat(s,"...").concat(d),p=!0):x>3&&(n+="\n  ".concat(y[m-2]),A++),n+="\n  ".concat(y[m-1]),A++),l=m,n+="\n".concat(a,"+").concat(d," ").concat(I),i+="\n".concat(o,"-").concat(d," ").concat(k),A+=2):(n+=i,i="",1!==x&&0!==m||(n+="\n  ".concat(I),A++))}if(A>20&&m<E-2)return"".concat(M).concat(O,"\n").concat(n,"\n").concat(s,"...").concat(d).concat(i,"\n")+"".concat(s,"...").concat(d)}return"".concat(M).concat(p?O:"","\n").concat(n).concat(i).concat(c).concat(b)}var l=function(e){function AssertionError(e){var t;if(function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AssertionError),"object"!==_typeof(e)||null===e)throw new n("options","Object",e);var r=e.message,i=e.operator,l=e.stackStartFn,c=e.actual,p=e.expected,h=Error.stackTraceLimit;if(Error.stackTraceLimit=0,null!=r)t=_possibleConstructorReturn(this,_getPrototypeOf(AssertionError).call(this,String(r)));else if({env:{ONEKEY_PROXY:void 0,NODE_ENV:"production",TAMAGUI_TARGET:"web"}}.stderr&&{env:{ONEKEY_PROXY:void 0,NODE_ENV:"production",TAMAGUI_TARGET:"web"}}.stderr.isTTY&&({env:{ONEKEY_PROXY:void 0,NODE_ENV:"production",TAMAGUI_TARGET:"web"}}.stderr&&{env:{ONEKEY_PROXY:void 0,NODE_ENV:"production",TAMAGUI_TARGET:"web"}}.stderr.getColorDepth&&1!=={env:{ONEKEY_PROXY:void 0,NODE_ENV:"production",TAMAGUI_TARGET:"web"}}.stderr.getColorDepth()?(s="[34m",a="[32m",d="[39m",o="[31m"):(s="",a="",d="",o="")),"object"===_typeof(c)&&null!==c&&"object"===_typeof(p)&&null!==p&&"stack"in c&&c instanceof Error&&"stack"in p&&p instanceof Error&&(c=copyError(c),p=copyError(p)),"deepStrictEqual"===i||"strictEqual"===i)t=_possibleConstructorReturn(this,_getPrototypeOf(AssertionError).call(this,createErrDiff(c,p,i)));else if("notDeepStrictEqual"===i||"notStrictEqual"===i){var y=u[i],g=inspectValue(c).split("\n");if("notStrictEqual"===i&&"object"===_typeof(c)&&null!==c&&(y=u.notStrictEqualObject),g.length>30)for(g[26]="".concat(s,"...").concat(d);g.length>27;)g.pop();t=1===g.length?_possibleConstructorReturn(this,_getPrototypeOf(AssertionError).call(this,"".concat(y," ").concat(g[0]))):_possibleConstructorReturn(this,_getPrototypeOf(AssertionError).call(this,"".concat(y,"\n\n").concat(g.join("\n"),"\n")))}else{var m=inspectValue(c),b="",v=u[i];"notDeepEqual"===i||"notEqual"===i?(m="".concat(u[i],"\n\n").concat(m)).length>1024&&(m="".concat(m.slice(0,1021),"...")):(b="".concat(inspectValue(p)),m.length>512&&(m="".concat(m.slice(0,509),"...")),b.length>512&&(b="".concat(b.slice(0,509),"...")),"deepEqual"===i||"equal"===i?m="".concat(v,"\n\n").concat(m,"\n\nshould equal\n\n"):b=" ".concat(i," ").concat(b)),t=_possibleConstructorReturn(this,_getPrototypeOf(AssertionError).call(this,"".concat(m).concat(b)))}return Error.stackTraceLimit=h,t.generatedMessage=!r,Object.defineProperty(_assertThisInitialized(t),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),t.code="ERR_ASSERTION",t.actual=c,t.expected=p,t.operator=i,Error.captureStackTrace&&Error.captureStackTrace(_assertThisInitialized(t),l),t.stack,t.name="AssertionError",_possibleConstructorReturn(t)}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(AssertionError,e),function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(AssertionError,[{key:"toString",value:function toString(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:i.custom,value:function value(e,t){return i(this,function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},i=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),i.forEach((function(t){_defineProperty(e,t,r[t])}))}return e}({},t,{customInspect:!1,depth:0}))}}]),AssertionError}(_wrapNativeSuper(Error));e.exports=l},1342:(e,t,r)=>{"use strict";function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)},_getPrototypeOf(e)}function _setPrototypeOf(e,t){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e},_setPrototypeOf(e,t)}var i,n,s={};function createErrorType(e,t,r){r||(r=Error);var i=function(r){function NodeError(r,i,n){var s;return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NodeError),s=_possibleConstructorReturn(this,_getPrototypeOf(NodeError).call(this,function getMessage(e,r,i){return"string"==typeof t?t:t(e,r,i)}(r,i,n))),s.code=e,s}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(NodeError,r),NodeError}(r);s[e]=i}function oneOf(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}createErrorType("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),createErrorType("ERR_INVALID_ARG_TYPE",(function(e,t,n){var s,a;if(void 0===i&&(i=r(6093)),i("string"==typeof e,"'name' must be a string"),"string"==typeof t&&function startsWith(e,t,r){return e.substr(!r||r<0?0:+r,t.length)===t}(t,"not ")?(s="must not be",t=t.replace(/^not /,"")):s="must be",function endsWith(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))a="The ".concat(e," ").concat(s," ").concat(oneOf(t,"type"));else{var o=function includes(e,t,r){return"number"!=typeof r&&(r=0),!(r+t.length>e.length)&&-1!==e.indexOf(t,r)}(e,".")?"property":"argument";a='The "'.concat(e,'" ').concat(o," ").concat(s," ").concat(oneOf(t,"type"))}return a+=". Received type ".concat(_typeof(n))}),TypeError),createErrorType("ERR_INVALID_ARG_VALUE",(function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"is invalid";void 0===n&&(n=r(9208));var s=n.inspect(t);return s.length>128&&(s="".concat(s.slice(0,128),"...")),"The argument '".concat(e,"' ").concat(i,". Received ").concat(s)}),TypeError,RangeError),createErrorType("ERR_INVALID_RETURN_VALUE",(function(e,t,r){var i;return i=r&&r.constructor&&r.constructor.name?"instance of ".concat(r.constructor.name):"type ".concat(_typeof(r)),"Expected ".concat(e,' to be returned from the "').concat(t,'"')+" function but got ".concat(i,".")}),TypeError),createErrorType("ERR_MISSING_ARGS",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];void 0===i&&(i=r(6093)),i(t.length>0,"At least one arg needs to be specified");var s="The ",a=t.length;switch(t=t.map((function(e){return'"'.concat(e,'"')})),a){case 1:s+="".concat(t[0]," argument");break;case 2:s+="".concat(t[0]," and ").concat(t[1]," arguments");break;default:s+=t.slice(0,a-1).join(", "),s+=", and ".concat(t[a-1]," arguments")}return"".concat(s," must be specified")}),TypeError),e.exports.codes=s},5656:(e,t,r)=>{"use strict";function _slicedToArray(e,t){return function _arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function _iterableToArrayLimit(e,t){var r=[],i=!0,n=!1,s=void 0;try{for(var a,o=e[Symbol.iterator]();!(i=(a=o.next()).done)&&(r.push(a.value),!t||r.length!==t);i=!0);}catch(e){n=!0,s=e}finally{try{i||null==o.return||o.return()}finally{if(n)throw s}}return r}(e,t)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}var i=void 0!==/a/g.flags,n=function arrayFromSet(e){var t=[];return e.forEach((function(e){return t.push(e)})),t},s=function arrayFromMap(e){var t=[];return e.forEach((function(e,r){return t.push([r,e])})),t},a=Object.is?Object.is:r(5968),o=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},d=Number.isNaN?Number.isNaN:r(7838);function uncurryThis(e){return e.call.bind(e)}var u=uncurryThis(Object.prototype.hasOwnProperty),l=uncurryThis(Object.prototype.propertyIsEnumerable),c=uncurryThis(Object.prototype.toString),p=r(9208).types,h=p.isAnyArrayBuffer,y=p.isArrayBufferView,g=p.isDate,m=p.isMap,b=p.isRegExp,v=p.isSet,_=p.isNativeError,w=p.isBoxedPrimitive,E=p.isNumberObject,T=p.isStringObject,A=p.isBooleanObject,M=p.isBigIntObject,O=p.isSymbolObject,x=p.isFloat32Array,k=p.isFloat64Array;function isNonIndex(e){if(0===e.length||e.length>10)return!0;for(var t=0;t<e.length;t++){var r=e.charCodeAt(t);if(r<48||r>57)return!0}return 10===e.length&&e>=Math.pow(2,32)}function getOwnNonIndexProperties(e){return Object.keys(e).filter(isNonIndex).concat(o(e).filter(Object.prototype.propertyIsEnumerable.bind(e)))}function compare(e,t){if(e===t)return 0;for(var r=e.length,i=t.length,n=0,s=Math.min(r,i);n<s;++n)if(e[n]!==t[n]){r=e[n],i=t[n];break}return r<i?-1:i<r?1:0}var I=0,C=1,B=2,N=3;function innerDeepEqual(e,t,r,n){if(e===t)return 0!==e||(!r||a(e,t));if(r){if("object"!==_typeof(e))return"number"==typeof e&&d(e)&&d(t);if("object"!==_typeof(t)||null===e||null===t)return!1;if(Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1}else{if(null===e||"object"!==_typeof(e))return(null===t||"object"!==_typeof(t))&&e==t;if(null===t||"object"!==_typeof(t))return!1}var s=c(e);if(s!==c(t))return!1;if(Array.isArray(e)){if(e.length!==t.length)return!1;var o=getOwnNonIndexProperties(e),u=getOwnNonIndexProperties(t);return o.length===u.length&&keyCheck(e,t,r,n,C,o)}if("[object Object]"===s&&(!m(e)&&m(t)||!v(e)&&v(t)))return!1;if(g(e)){if(!g(t)||Date.prototype.getTime.call(e)!==Date.prototype.getTime.call(t))return!1}else if(b(e)){if(!b(t)||!function areSimilarRegExps(e,t){return i?e.source===t.source&&e.flags===t.flags:RegExp.prototype.toString.call(e)===RegExp.prototype.toString.call(t)}(e,t))return!1}else if(_(e)||e instanceof Error){if(e.message!==t.message||e.name!==t.name)return!1}else{if(y(e)){if(r||!x(e)&&!k(e)){if(!function areSimilarTypedArrays(e,t){return e.byteLength===t.byteLength&&0===compare(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}(e,t))return!1}else if(!function areSimilarFloatArrays(e,t){if(e.byteLength!==t.byteLength)return!1;for(var r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0}(e,t))return!1;var l=getOwnNonIndexProperties(e),p=getOwnNonIndexProperties(t);return l.length===p.length&&keyCheck(e,t,r,n,I,l)}if(v(e))return!(!v(t)||e.size!==t.size)&&keyCheck(e,t,r,n,B);if(m(e))return!(!m(t)||e.size!==t.size)&&keyCheck(e,t,r,n,N);if(h(e)){if(!function areEqualArrayBuffers(e,t){return e.byteLength===t.byteLength&&0===compare(new Uint8Array(e),new Uint8Array(t))}(e,t))return!1}else if(w(e)&&!function isEqualBoxedPrimitive(e,t){return E(e)?E(t)&&a(Number.prototype.valueOf.call(e),Number.prototype.valueOf.call(t)):T(e)?T(t)&&String.prototype.valueOf.call(e)===String.prototype.valueOf.call(t):A(e)?A(t)&&Boolean.prototype.valueOf.call(e)===Boolean.prototype.valueOf.call(t):M(e)?M(t)&&BigInt.prototype.valueOf.call(e)===BigInt.prototype.valueOf.call(t):O(t)&&Symbol.prototype.valueOf.call(e)===Symbol.prototype.valueOf.call(t)}(e,t))return!1}return keyCheck(e,t,r,n,I)}function getEnumerables(e,t){return t.filter((function(t){return l(e,t)}))}function keyCheck(e,t,r,i,a,d){if(5===arguments.length){d=Object.keys(e);var c=Object.keys(t);if(d.length!==c.length)return!1}for(var p=0;p<d.length;p++)if(!u(t,d[p]))return!1;if(r&&5===arguments.length){var h=o(e);if(0!==h.length){var y=0;for(p=0;p<h.length;p++){var g=h[p];if(l(e,g)){if(!l(t,g))return!1;d.push(g),y++}else if(l(t,g))return!1}var m=o(t);if(h.length!==m.length&&getEnumerables(t,m).length!==y)return!1}else{var b=o(t);if(0!==b.length&&0!==getEnumerables(t,b).length)return!1}}if(0===d.length&&(a===I||a===C&&0===e.length||0===e.size))return!0;if(void 0===i)i={val1:new Map,val2:new Map,position:0};else{var v=i.val1.get(e);if(void 0!==v){var _=i.val2.get(t);if(void 0!==_)return v===_}i.position++}i.val1.set(e,i.position),i.val2.set(t,i.position);var w=function objEquiv(e,t,r,i,a,o){var d=0;if(o===B){if(!function setEquiv(e,t,r,i){for(var s=null,a=n(e),o=0;o<a.length;o++){var d=a[o];if("object"===_typeof(d)&&null!==d)null===s&&(s=new Set),s.add(d);else if(!t.has(d)){if(r)return!1;if(!setMightHaveLoosePrim(e,t,d))return!1;null===s&&(s=new Set),s.add(d)}}if(null!==s){for(var u=n(t),l=0;l<u.length;l++){var c=u[l];if("object"===_typeof(c)&&null!==c){if(!setHasEqualElement(s,c,r,i))return!1}else if(!r&&!e.has(c)&&!setHasEqualElement(s,c,r,i))return!1}return 0===s.size}return!0}(e,t,r,a))return!1}else if(o===N){if(!function mapEquiv(e,t,r,i){for(var n=null,a=s(e),o=0;o<a.length;o++){var d=_slicedToArray(a[o],2),u=d[0],l=d[1];if("object"===_typeof(u)&&null!==u)null===n&&(n=new Set),n.add(u);else{var c=t.get(u);if(void 0===c&&!t.has(u)||!innerDeepEqual(l,c,r,i)){if(r)return!1;if(!mapMightHaveLoosePrim(e,t,u,l,i))return!1;null===n&&(n=new Set),n.add(u)}}}if(null!==n){for(var p=s(t),h=0;h<p.length;h++){var y=_slicedToArray(p[h],2),g=(u=y[0],y[1]);if("object"===_typeof(u)&&null!==u){if(!mapHasEqualEntry(n,e,u,g,r,i))return!1}else if(!(r||e.has(u)&&innerDeepEqual(e.get(u),g,!1,i)||mapHasEqualEntry(n,e,u,g,!1,i)))return!1}return 0===n.size}return!0}(e,t,r,a))return!1}else if(o===C)for(;d<e.length;d++){if(!u(e,d)){if(u(t,d))return!1;for(var l=Object.keys(e);d<l.length;d++){var c=l[d];if(!u(t,c)||!innerDeepEqual(e[c],t[c],r,a))return!1}return l.length===Object.keys(t).length}if(!u(t,d)||!innerDeepEqual(e[d],t[d],r,a))return!1}for(d=0;d<i.length;d++){var p=i[d];if(!innerDeepEqual(e[p],t[p],r,a))return!1}return!0}(e,t,r,d,i,a);return i.val1.delete(e),i.val2.delete(t),w}function setHasEqualElement(e,t,r,i){for(var s=n(e),a=0;a<s.length;a++){var o=s[a];if(innerDeepEqual(t,o,r,i))return e.delete(o),!0}return!1}function findLooseMatchingPrimitives(e){switch(_typeof(e)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":e=+e;case"number":if(d(e))return!1}return!0}function setMightHaveLoosePrim(e,t,r){var i=findLooseMatchingPrimitives(r);return null!=i?i:t.has(i)&&!e.has(i)}function mapMightHaveLoosePrim(e,t,r,i,n){var s=findLooseMatchingPrimitives(r);if(null!=s)return s;var a=t.get(s);return!(void 0===a&&!t.has(s)||!innerDeepEqual(i,a,!1,n))&&(!e.has(s)&&innerDeepEqual(i,a,!1,n))}function mapHasEqualEntry(e,t,r,i,s,a){for(var o=n(e),d=0;d<o.length;d++){var u=o[d];if(innerDeepEqual(r,u,s,a)&&innerDeepEqual(i,t.get(u),s,a))return e.delete(u),!0}return!1}e.exports={isDeepEqual:function isDeepEqual(e,t){return innerDeepEqual(e,t,false)},isDeepStrictEqual:function isDeepStrictEqual(e,t){return innerDeepEqual(e,t,true)}}},6660:(e,t,r)=>{e.exports=r(8226)},8427:(e,t,r)=>{"use strict";var i=r(4345),n=r(6435),s=r(5905),a=r(3025),o=r(3916),d=r(6135),u=r(6923),l=r(3201),c=r(5400),p=r(5220),h=r(733);e.exports=function xhrAdapter(e){return new Promise((function dispatchXhrRequest(t,r){var y,g=e.data,m=e.headers,b=e.responseType;function done(){e.cancelToken&&e.cancelToken.unsubscribe(y),e.signal&&e.signal.removeEventListener("abort",y)}i.isFormData(g)&&i.isStandardBrowserEnv()&&delete m["Content-Type"];var v=new XMLHttpRequest;if(e.auth){var _=e.auth.username||"",w=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";m.Authorization="Basic "+btoa(_+":"+w)}var E=o(e.baseURL,e.url);function onloadend(){if(v){var i="getAllResponseHeaders"in v?d(v.getAllResponseHeaders()):null,s={data:b&&"text"!==b&&"json"!==b?v.response:v.responseText,status:v.status,statusText:v.statusText,headers:i,config:e,request:v};n((function _resolve(e){t(e),done()}),(function _reject(e){r(e),done()}),s),v=null}}if(v.open(e.method.toUpperCase(),a(E,e.params,e.paramsSerializer),!0),v.timeout=e.timeout,"onloadend"in v?v.onloadend=onloadend:v.onreadystatechange=function handleLoad(){v&&4===v.readyState&&(0!==v.status||v.responseURL&&0===v.responseURL.indexOf("file:"))&&setTimeout(onloadend)},v.onabort=function handleAbort(){v&&(r(new c("Request aborted",c.ECONNABORTED,e,v)),v=null)},v.onerror=function handleError(){r(new c("Network Error",c.ERR_NETWORK,e,v,v)),v=null},v.ontimeout=function handleTimeout(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",i=e.transitional||l;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),r(new c(t,i.clarifyTimeoutError?c.ETIMEDOUT:c.ECONNABORTED,e,v)),v=null},i.isStandardBrowserEnv()){var T=(e.withCredentials||u(E))&&e.xsrfCookieName?s.read(e.xsrfCookieName):void 0;T&&(m[e.xsrfHeaderName]=T)}"setRequestHeader"in v&&i.forEach(m,(function setRequestHeader(e,t){void 0===g&&"content-type"===t.toLowerCase()?delete m[t]:v.setRequestHeader(t,e)})),i.isUndefined(e.withCredentials)||(v.withCredentials=!!e.withCredentials),b&&"json"!==b&&(v.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&v.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&v.upload&&v.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(y=function(e){v&&(r(!e||e&&e.type?new p:e),v.abort(),v=null)},e.cancelToken&&e.cancelToken.subscribe(y),e.signal&&(e.signal.aborted?y():e.signal.addEventListener("abort",y))),g||(g=null);var A=h(E);A&&-1===["http","https","file"].indexOf(A)?r(new c("Unsupported protocol "+A+":",c.ERR_BAD_REQUEST,e)):v.send(g)}))}},8226:(e,t,r)=>{"use strict";var i=r(4345),n=r(5063),s=r(9560),a=r(4816);var o=function createInstance(e){var t=new s(e),r=n(s.prototype.request,t);return i.extend(r,s.prototype,t),i.extend(r,t),r.create=function create(t){return createInstance(a(e,t))},r}(r(6075));o.Axios=s,o.CanceledError=r(5220),o.CancelToken=r(5912),o.isCancel=r(6945),o.VERSION=r(9978).version,o.toFormData=r(4195),o.AxiosError=r(5400),o.Cancel=o.CanceledError,o.all=function all(e){return Promise.all(e)},o.spread=r(8127),o.isAxiosError=r(8568),e.exports=o,e.exports.default=o},5912:(e,t,r)=>{"use strict";var i=r(5220);function CancelToken(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function promiseExecutor(e){t=e}));var r=this;this.promise.then((function(e){if(r._listeners){var t,i=r._listeners.length;for(t=0;t<i;t++)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,i=new Promise((function(e){r.subscribe(e),t=e})).then(e);return i.cancel=function reject(){r.unsubscribe(t)},i},e((function cancel(e){r.reason||(r.reason=new i(e),t(r.reason))}))}CancelToken.prototype.throwIfRequested=function throwIfRequested(){if(this.reason)throw this.reason},CancelToken.prototype.subscribe=function subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},CancelToken.prototype.unsubscribe=function unsubscribe(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},CancelToken.source=function source(){var e;return{token:new CancelToken((function executor(t){e=t})),cancel:e}},e.exports=CancelToken},5220:(e,t,r)=>{"use strict";var i=r(5400);function CanceledError(e){i.call(this,null==e?"canceled":e,i.ERR_CANCELED),this.name="CanceledError"}r(4345).inherits(CanceledError,i,{__CANCEL__:!0}),e.exports=CanceledError},6945:e=>{"use strict";e.exports=function isCancel(e){return!(!e||!e.__CANCEL__)}},9560:(e,t,r)=>{"use strict";var i=r(4345),n=r(3025),s=r(546),a=r(1617),o=r(4816),d=r(3916),u=r(6552),l=u.validators;function Axios(e){this.defaults=e,this.interceptors={request:new s,response:new s}}Axios.prototype.request=function request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},(t=o(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var r=t.transitional;void 0!==r&&u.assertOptions(r,{silentJSONParsing:l.transitional(l.boolean),forcedJSONParsing:l.transitional(l.boolean),clarifyTimeoutError:l.transitional(l.boolean)},!1);var i=[],n=!0;this.interceptors.request.forEach((function unshiftRequestInterceptors(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(n=n&&e.synchronous,i.unshift(e.fulfilled,e.rejected))}));var s,d=[];if(this.interceptors.response.forEach((function pushResponseInterceptors(e){d.push(e.fulfilled,e.rejected)})),!n){var c=[a,void 0];for(Array.prototype.unshift.apply(c,i),c=c.concat(d),s=Promise.resolve(t);c.length;)s=s.then(c.shift(),c.shift());return s}for(var p=t;i.length;){var h=i.shift(),y=i.shift();try{p=h(p)}catch(e){y(e);break}}try{s=a(p)}catch(e){return Promise.reject(e)}for(;d.length;)s=s.then(d.shift(),d.shift());return s},Axios.prototype.getUri=function getUri(e){e=o(this.defaults,e);var t=d(e.baseURL,e.url);return n(t,e.params,e.paramsSerializer)},i.forEach(["delete","get","head","options"],(function forEachMethodNoData(e){Axios.prototype[e]=function(t,r){return this.request(o(r||{},{method:e,url:t,data:(r||{}).data}))}})),i.forEach(["post","put","patch"],(function forEachMethodWithData(e){function generateHTTPMethod(t){return function httpMethod(r,i,n){return this.request(o(n||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:i}))}}Axios.prototype[e]=generateHTTPMethod(),Axios.prototype[e+"Form"]=generateHTTPMethod(!0)})),e.exports=Axios},5400:(e,t,r)=>{"use strict";var i=r(4345);function AxiosError(e,t,r,i,n){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),i&&(this.request=i),n&&(this.response=n)}i.inherits(AxiosError,Error,{toJSON:function toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var n=AxiosError.prototype,s={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach((function(e){s[e]={value:e}})),Object.defineProperties(AxiosError,s),Object.defineProperty(n,"isAxiosError",{value:!0}),AxiosError.from=function(e,t,r,s,a,o){var d=Object.create(n);return i.toFlatObject(e,d,(function filter(e){return e!==Error.prototype})),AxiosError.call(d,e.message,t,r,s,a),d.name=e.name,o&&Object.assign(d,o),d},e.exports=AxiosError},546:(e,t,r)=>{"use strict";var i=r(4345);function InterceptorManager(){this.handlers=[]}InterceptorManager.prototype.use=function use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},InterceptorManager.prototype.eject=function eject(e){this.handlers[e]&&(this.handlers[e]=null)},InterceptorManager.prototype.forEach=function forEach(e){i.forEach(this.handlers,(function forEachHandler(t){null!==t&&e(t)}))},e.exports=InterceptorManager},3916:(e,t,r)=>{"use strict";var i=r(4860),n=r(7825);e.exports=function buildFullPath(e,t){return e&&!i(t)?n(e,t):t}},1617:(e,t,r)=>{"use strict";var i=r(4345),n=r(7638),s=r(6945),a=r(6075),o=r(5220);function throwIfCancellationRequested(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new o}e.exports=function dispatchRequest(e){return throwIfCancellationRequested(e),e.headers=e.headers||{},e.data=n.call(e,e.data,e.headers,e.transformRequest),e.headers=i.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),i.forEach(["delete","get","head","post","put","patch","common"],(function cleanHeaderConfig(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function onAdapterResolution(t){return throwIfCancellationRequested(e),t.data=n.call(e,t.data,t.headers,e.transformResponse),t}),(function onAdapterRejection(t){return s(t)||(throwIfCancellationRequested(e),t&&t.response&&(t.response.data=n.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},4816:(e,t,r)=>{"use strict";var i=r(4345);e.exports=function mergeConfig(e,t){t=t||{};var r={};function getMergedValue(e,t){return i.isPlainObject(e)&&i.isPlainObject(t)?i.merge(e,t):i.isPlainObject(t)?i.merge({},t):i.isArray(t)?t.slice():t}function mergeDeepProperties(r){return i.isUndefined(t[r])?i.isUndefined(e[r])?void 0:getMergedValue(void 0,e[r]):getMergedValue(e[r],t[r])}function valueFromConfig2(e){if(!i.isUndefined(t[e]))return getMergedValue(void 0,t[e])}function defaultToConfig2(r){return i.isUndefined(t[r])?i.isUndefined(e[r])?void 0:getMergedValue(void 0,e[r]):getMergedValue(void 0,t[r])}function mergeDirectKeys(r){return r in t?getMergedValue(e[r],t[r]):r in e?getMergedValue(void 0,e[r]):void 0}var n={url:valueFromConfig2,method:valueFromConfig2,data:valueFromConfig2,baseURL:defaultToConfig2,transformRequest:defaultToConfig2,transformResponse:defaultToConfig2,paramsSerializer:defaultToConfig2,timeout:defaultToConfig2,timeoutMessage:defaultToConfig2,withCredentials:defaultToConfig2,adapter:defaultToConfig2,responseType:defaultToConfig2,xsrfCookieName:defaultToConfig2,xsrfHeaderName:defaultToConfig2,onUploadProgress:defaultToConfig2,onDownloadProgress:defaultToConfig2,decompress:defaultToConfig2,maxContentLength:defaultToConfig2,maxBodyLength:defaultToConfig2,beforeRedirect:defaultToConfig2,transport:defaultToConfig2,httpAgent:defaultToConfig2,httpsAgent:defaultToConfig2,cancelToken:defaultToConfig2,socketPath:defaultToConfig2,responseEncoding:defaultToConfig2,validateStatus:mergeDirectKeys};return i.forEach(Object.keys(e).concat(Object.keys(t)),(function computeConfigValue(e){var t=n[e]||mergeDeepProperties,s=t(e);i.isUndefined(s)&&t!==mergeDirectKeys||(r[e]=s)})),r}},6435:(e,t,r)=>{"use strict";var i=r(5400);e.exports=function settle(e,t,r){var n=r.config.validateStatus;r.status&&n&&!n(r.status)?t(new i("Request failed with status code "+r.status,[i.ERR_BAD_REQUEST,i.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):e(r)}},7638:(e,t,r)=>{"use strict";var i=r(4345),n=r(6075);e.exports=function transformData(e,t,r){var s=this||n;return i.forEach(r,(function transform(r){e=r.call(s,e,t)})),e}},6075:(e,t,r)=>{"use strict";var i=r(4345),n=r(2327),s=r(5400),a=r(3201),o=r(4195),d={"Content-Type":"application/x-www-form-urlencoded"};function setContentTypeIfUnset(e,t){!i.isUndefined(e)&&i.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var u={transitional:a,adapter:function getDefaultAdapter(){var e;return("undefined"!=typeof XMLHttpRequest||"[object process]"===Object.prototype.toString.call({env:{ONEKEY_PROXY:void 0,NODE_ENV:"production",TAMAGUI_TARGET:"web"}}))&&(e=r(8427)),e}(),transformRequest:[function transformRequest(e,t){if(n(t,"Accept"),n(t,"Content-Type"),i.isFormData(e)||i.isArrayBuffer(e)||i.isBuffer(e)||i.isStream(e)||i.isFile(e)||i.isBlob(e))return e;if(i.isArrayBufferView(e))return e.buffer;if(i.isURLSearchParams(e))return setContentTypeIfUnset(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var r,s=i.isObject(e),a=t&&t["Content-Type"];if((r=i.isFileList(e))||s&&"multipart/form-data"===a){var d=this.env&&this.env.FormData;return o(r?{"files[]":e}:e,d&&new d)}return s||"application/json"===a?(setContentTypeIfUnset(t,"application/json"),function stringifySafely(e,t,r){if(i.isString(e))try{return(t||JSON.parse)(e),i.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function transformResponse(e){var t=this.transitional||u.transitional,r=t&&t.silentJSONParsing,n=t&&t.forcedJSONParsing,a=!r&&"json"===this.responseType;if(a||n&&i.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(a){if("SyntaxError"===e.name)throw s.from(e,s.ERR_BAD_RESPONSE,this,null,this.response);throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:r(1685)},validateStatus:function validateStatus(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};i.forEach(["delete","get","head"],(function forEachMethodNoData(e){u.headers[e]={}})),i.forEach(["post","put","patch"],(function forEachMethodWithData(e){u.headers[e]=i.merge(d)})),e.exports=u},3201:e=>{"use strict";e.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},9978:e=>{e.exports={version:"0.27.2"}},5063:e=>{"use strict";e.exports=function bind(e,t){return function wrap(){for(var r=new Array(arguments.length),i=0;i<r.length;i++)r[i]=arguments[i];return e.apply(t,r)}}},3025:(e,t,r)=>{"use strict";var i=r(4345);function encode(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function buildURL(e,t,r){if(!t)return e;var n;if(r)n=r(t);else if(i.isURLSearchParams(t))n=t.toString();else{var s=[];i.forEach(t,(function serialize(e,t){null!=e&&(i.isArray(e)?t+="[]":e=[e],i.forEach(e,(function parseValue(e){i.isDate(e)?e=e.toISOString():i.isObject(e)&&(e=JSON.stringify(e)),s.push(encode(t)+"="+encode(e))})))})),n=s.join("&")}if(n){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+n}return e}},7825:e=>{"use strict";e.exports=function combineURLs(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},5905:(e,t,r)=>{"use strict";var i=r(4345);e.exports=i.isStandardBrowserEnv()?function standardBrowserEnv(){return{write:function write(e,t,r,n,s,a){var o=[];o.push(e+"="+encodeURIComponent(t)),i.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),i.isString(n)&&o.push("path="+n),i.isString(s)&&o.push("domain="+s),!0===a&&o.push("secure"),document.cookie=o.join("; ")},read:function read(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function remove(e){this.write(e,"",Date.now()-864e5)}}}():{write:function write(){},read:function read(){return null},remove:function remove(){}}},4860:e=>{"use strict";e.exports=function isAbsoluteURL(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},8568:(e,t,r)=>{"use strict";var i=r(4345);e.exports=function isAxiosError(e){return i.isObject(e)&&!0===e.isAxiosError}},6923:(e,t,r)=>{"use strict";var i=r(4345);e.exports=i.isStandardBrowserEnv()?function standardBrowserEnv(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function resolveURL(e){var i=e;return t&&(r.setAttribute("href",i),i=r.href),r.setAttribute("href",i),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=resolveURL(window.location.href),function isURLSameOrigin(t){var r=i.isString(t)?resolveURL(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function isURLSameOrigin(){return!0}},2327:(e,t,r)=>{"use strict";var i=r(4345);e.exports=function normalizeHeaderName(e,t){i.forEach(e,(function processHeader(r,i){i!==t&&i.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[i])}))}},1685:e=>{e.exports=null},6135:(e,t,r)=>{"use strict";var i=r(4345),n=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function parseHeaders(e){var t,r,s,a={};return e?(i.forEach(e.split("\n"),(function parser(e){if(s=e.indexOf(":"),t=i.trim(e.substr(0,s)).toLowerCase(),r=i.trim(e.substr(s+1)),t){if(a[t]&&n.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([r]):a[t]?a[t]+", "+r:r}})),a):a}},733:e=>{"use strict";e.exports=function parseProtocol(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}},8127:e=>{"use strict";e.exports=function spread(e){return function wrap(t){return e.apply(null,t)}}},4195:(e,t,r)=>{"use strict";var i=r(4345);e.exports=function toFormData(e,t){t=t||new FormData;var r=[];function convertValue(e){return null===e?"":i.isDate(e)?e.toISOString():i.isArrayBuffer(e)||i.isTypedArray(e)?"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}return function build(e,n){if(i.isPlainObject(e)||i.isArray(e)){if(-1!==r.indexOf(e))throw Error("Circular reference detected in "+n);r.push(e),i.forEach(e,(function each(e,r){if(!i.isUndefined(e)){var s,a=n?n+"."+r:r;if(e&&!n&&"object"==typeof e)if(i.endsWith(r,"{}"))e=JSON.stringify(e);else if(i.endsWith(r,"[]")&&(s=i.toArray(e)))return void s.forEach((function(e){!i.isUndefined(e)&&t.append(a,convertValue(e))}));build(e,a)}})),r.pop()}else t.append(n,convertValue(e))}(e),t}},6552:(e,t,r)=>{"use strict";var i=r(9978).version,n=r(5400),s={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){s[e]=function validator(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}}));var a={};s.transitional=function transitional(e,t,r){function formatMessage(e,t){return"[Axios v"+i+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return function(r,i,s){if(!1===e)throw new n(formatMessage(i," has been removed"+(t?" in "+t:"")),n.ERR_DEPRECATED);return t&&!a[i]&&(a[i]=!0,console.warn(formatMessage(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,i,s)}},e.exports={assertOptions:function assertOptions(e,t,r){if("object"!=typeof e)throw new n("options must be an object",n.ERR_BAD_OPTION_VALUE);for(var i=Object.keys(e),s=i.length;s-- >0;){var a=i[s],o=t[a];if(o){var d=e[a],u=void 0===d||o(d,a,e);if(!0!==u)throw new n("option "+a+" must be "+u,n.ERR_BAD_OPTION_VALUE)}else if(!0!==r)throw new n("Unknown option "+a,n.ERR_BAD_OPTION)}},validators:s}},4345:(e,t,r)=>{"use strict";var i,n=r(5063),s=Object.prototype.toString,a=(i=Object.create(null),function(e){var t=s.call(e);return i[t]||(i[t]=t.slice(8,-1).toLowerCase())});function kindOfTest(e){return e=e.toLowerCase(),function isKindOf(t){return a(t)===e}}function isArray(e){return Array.isArray(e)}function isUndefined(e){return void 0===e}var o=kindOfTest("ArrayBuffer");function isObject(e){return null!==e&&"object"==typeof e}function isPlainObject(e){if("object"!==a(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}var d=kindOfTest("Date"),u=kindOfTest("File"),l=kindOfTest("Blob"),c=kindOfTest("FileList");function isFunction(e){return"[object Function]"===s.call(e)}var p=kindOfTest("URLSearchParams");function forEach(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),isArray(e))for(var r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.call(null,e[n],n,e)}var h,y=(h="undefined"!=typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),function(e){return h&&e instanceof h});e.exports={isArray,isArrayBuffer:o,isBuffer:function isBuffer(e){return null!==e&&!isUndefined(e)&&null!==e.constructor&&!isUndefined(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function isFormData(e){var t="[object FormData]";return e&&("function"==typeof FormData&&e instanceof FormData||s.call(e)===t||isFunction(e.toString)&&e.toString()===t)},isArrayBufferView:function isArrayBufferView(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&o(e.buffer)},isString:function isString(e){return"string"==typeof e},isNumber:function isNumber(e){return"number"==typeof e},isObject,isPlainObject,isUndefined,isDate:d,isFile:u,isBlob:l,isFunction,isStream:function isStream(e){return isObject(e)&&isFunction(e.pipe)},isURLSearchParams:p,isStandardBrowserEnv:function isStandardBrowserEnv(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach,merge:function merge(){var e={};function assignValue(t,r){isPlainObject(e[r])&&isPlainObject(t)?e[r]=merge(e[r],t):isPlainObject(t)?e[r]=merge({},t):isArray(t)?e[r]=t.slice():e[r]=t}for(var t=0,r=arguments.length;t<r;t++)forEach(arguments[t],assignValue);return e},extend:function extend(e,t,r){return forEach(t,(function assignValue(t,i){e[i]=r&&"function"==typeof t?n(t,r):t})),e},trim:function trim(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function stripBOM(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function inherits(e,t,r,i){e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,r&&Object.assign(e.prototype,r)},toFlatObject:function toFlatObject(e,t,r){var i,n,s,a={};t=t||{};do{for(n=(i=Object.getOwnPropertyNames(e)).length;n-- >0;)a[s=i[n]]||(t[s]=e[s],a[s]=!0);e=Object.getPrototypeOf(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:a,kindOfTest,endsWith:function endsWith(e,t,r){e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;var i=e.indexOf(t,r);return-1!==i&&i===r},toArray:function toArray(e){if(!e)return null;var t=e.length;if(isUndefined(t))return null;for(var r=new Array(t);t-- >0;)r[t]=e[t];return r},isTypedArray:y,isFileList:c}},4362:(e,t,r)=>{"use strict";var i=r(2722),n=r(8492),s=r(6660),a=r(5250),o=r(2943),d=r(7170),u=r(3599),l=r(4368),c=r(8219),p=r(3063),h=r(1592),y=r(6899),g=r(7732),m=r(311),b=r(1048);function _interopDefaultLegacy(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var v=_interopDefaultLegacy(i),_=_interopDefaultLegacy(s),w=_interopDefaultLegacy(o),E=_interopDefaultLegacy(d),T=_interopDefaultLegacy(h);const createCoreApi=e=>({getLogs:()=>e({method:"getLogs"}),searchDevices:()=>e({method:"searchDevices"}),getFeatures:(t,r)=>e(Object.assign(Object.assign({},r),{connectId:t,method:"getFeatures"})),getOnekeyFeatures:(t,r)=>e(Object.assign(Object.assign({},r),{connectId:t,method:"getOnekeyFeatures"})),checkFirmwareRelease:t=>e({connectId:t,method:"checkFirmwareRelease"}),checkBLEFirmwareRelease:t=>e({connectId:t,method:"checkBLEFirmwareRelease"}),checkTransportRelease:()=>e({method:"checkTransportRelease"}),checkBridgeStatus:()=>e({method:"checkBridgeStatus"}),checkBridgeRelease:(t,r)=>e(Object.assign(Object.assign({},r),{connectId:t,method:"checkBridgeRelease"})),checkBootloaderRelease:(t,r)=>e(Object.assign(Object.assign({},r),{connectId:t,method:"checkBootloaderRelease"})),checkAllFirmwareRelease:(t,r)=>e(Object.assign(Object.assign({},r),{connectId:t,method:"checkAllFirmwareRelease"})),cipherKeyValue:(t,r,i)=>e(Object.assign(Object.assign({},i),{connectId:t,deviceId:r,method:"cipherKeyValue"})),testInitializeDeviceDuration:(t,r)=>e(Object.assign(Object.assign({},r),{connectId:t,method:"testInitializeDeviceDuration"})),deviceBackup:t=>e({connectId:t,method:"deviceBackup"}),deviceChangePin:(t,r)=>e(Object.assign(Object.assign({},r),{connectId:t,method:"deviceChangePin"})),deviceFlags:(t,r)=>e(Object.assign(Object.assign({},r),{connectId:t,method:"deviceFlags"})),deviceRebootToBoardloader:t=>e({connectId:t,method:"deviceRebootToBoardloader"}),deviceRebootToBootloader:t=>e({connectId:t,method:"deviceRebootToBootloader"}),deviceRecovery:(t,r)=>e(Object.assign(Object.assign({},r),{connectId:t,method:"deviceRecovery"})),deviceReset:(t,r)=>e(Object.assign(Object.assign({},r),{connectId:t,method:"deviceReset"})),deviceSettings:(t,r)=>e(Object.assign(Object.assign({},r),{connectId:t,method:"deviceSettings"})),deviceUpdateReboot:t=>e({connectId:t,method:"deviceUpdateReboot"}),deviceUploadResource:(t,r)=>e(Object.assign(Object.assign({},r),{connectId:t,method:"deviceUploadResource"})),deviceSupportFeatures:t=>e({connectId:t,method:"deviceSupportFeatures"}),deviceVerify:(t,r)=>e(Object.assign(Object.assign({},r),{connectId:t,method:"deviceVerify"})),deviceWipe:t=>e({connectId:t,method:"deviceWipe"}),deviceFullyUploadResource:(t,r)=>e(Object.assign(Object.assign({},r),{connectId:t,method:"deviceFullyUploadResource"})),deviceUpdateBootloader:(t,r)=>e(Object.assign(Object.assign({},r),{connectId:t,method:"deviceUpdateBootloader"})),getPassphraseState:(t,r)=>e(Object.assign(Object.assign({},r),{connectId:t,method:"getPassphraseState"})),deviceCancel:(t,r)=>e(Object.assign(Object.assign({},r),{connectId:t,method:"deviceCancel"})),deviceLock:(t,r)=>e(Object.assign(Object.assign({},r),{connectId:t,method:"deviceLock"})),getNextU2FCounter:(t,r)=>e(Object.assign(Object.assign({},r),{connectId:t,method:"getNextU2FCounter"})),setU2FCounter:(t,r)=>e(Object.assign(Object.assign({},r),{connectId:t,method:"setU2FCounter"})),allNetworkGetAddress:(t,r,i)=>e(Object.assign(Object.assign({},i),{connectId:t,deviceId:r,method:"allNetworkGetAddress"})),evmGetAddress:(t,r,i)=>e(Object.assign(Object.assign({},i),{connectId:t,deviceId:r,method:"evmGetAddress"})),evmGetPublicKey:(t,r,i)=>e(Object.assign(Object.assign({},i),{connectId:t,deviceId:r,method:"evmGetPublicKey"})),evmSignMessage:(t,r,i)=>e(Object.assign(Object.assign({},i),{connectId:t,deviceId:r,method:"evmSignMessage"})),evmSignMessageEIP712:(t,r,i)=>e(Object.assign(Object.assign({},i),{connectId:t,deviceId:r,method:"evmSignMessageEIP712"})),evmSignTransaction:(t,r,i)=>e(Object.assign(Object.assign({},i),{connectId:t,deviceId:r,method:"evmSignTransaction"})),evmSignTypedData:(t,r,i)=>e(Object.assign(Object.assign({},i),{connectId:t,deviceId:r,method:"evmSignTypedData"})),evmVerifyMessage:(t,r,i)=>e(Object.assign(Object.assign({},i),{connectId:t,deviceId:r,method:"evmVerifyMessage"})),btcGetAddress:(t,r,i)=>e(Object.assign(Object.assign({},i),{connectId:t,deviceId:r,method:"btcGetAddress"})),btcGetPublicKey:(t,r,i)=>e(Object.assign(Object.assign({},i),{connectId:t,deviceId:r,method:"btcGetPublicKey"})),btcSignMessage:(t,r,i)=>e(Object.assign(Object.assign({},i),{connectId:t,deviceId:r,method:"btcSignMessage"})),btcSignPsbt:(t,r,i)=>e(Object.assign(Object.assign({},i),{connectId:t,deviceId:r,method:"btcSignPsbt"})),btcSignTransaction:(t,r,i)=>e(Object.assign(Object.assign({},i),{connectId:t,deviceId:r,method:"btcSignTransaction"})),btcVerifyMessage:(t,r,i)=>e(Object.assign(Object.assign({},i),{connectId:t,deviceId:r,method:"btcVerifyMessage"})),starcoinGetAddress:(t,r,i)=>e(Object.assign(Object.assign({},i),{connectId:t,deviceId:r,method:"starcoinGetAddress"})),starcoinGetPublicKey:(t,r,i)=>e(Object.assign(Object.assign({},i),{connectId:t,deviceId:r,method:"starcoinGetPublicKey"})),starcoinSignMessage:(t,r,i)=>e(Object.assign(Object.assign({},i),{connectId:t,deviceId:r,method:"starcoinSignMessage"})),starcoinSignTransaction:(t,r,i)=>e(Object.assign(Object.assign({},i),{connectId:t,deviceId:r,method:"starcoinSignTransaction"})),starcoinVerifyMessage:(t,r,i)=>e(Object.assign(Object.assign({},i),{connectId:t,deviceId:r,method:"starcoinVerifyMessage"})),nemGetAddress:(t,r,i)=>e(Object.assign(Object.assign({},i),{connectId:t,deviceId:r,method:"nemGetAddress"})),nemSignTransaction:(t,r,i)=>e(Object.assign(Object.assign({},i),{connectId:t,deviceId:r,method:"nemSignTransaction"})),solGetAddress:(t,r,i)=>e(Object.assign(Object.assign({},i),{connectId:t,deviceId:r,method:"solGetAddress"})),solSignTransaction:(t,r,i)=>e(Object.assign(Object.assign({},i),{connectId:t,deviceId:r,method:"solSignTransaction"})),stellarGetAddress:(t,r,i)=>e(Object.assign(Object.assign({},i),{connectId:t,deviceId:r,method:"stellarGetAddress"})),stellarSignTransaction:(t,r,i)=>e(Object.assign(Object.assign({},i),{connectId:t,deviceId:r,method:"stellarSignTransaction"})),firmwareUpdate:(t,r)=>e(Object.assign(Object.assign({},r),{connectId:t,method:"firmwareUpdate"})),firmwareUpdateV2:(t,r)=>e(Object.assign(Object.assign({},r),{connectId:t,method:"firmwareUpdateV2"})),requestWebUsbDevice:()=>e({method:"requestWebUsbDevice"}),tronGetAddress:(t,r,i)=>e(Object.assign(Object.assign({},i),{connectId:t,deviceId:r,method:"tronGetAddress"})),tronSignMessage:(t,r,i)=>e(Object.assign(Object.assign({},i),{connectId:t,deviceId:r,method:"tronSignMessage"})),tronSignTransaction:(t,r,i)=>e(Object.assign(Object.assign({},i),{connectId:t,deviceId:r,method:"tronSignTransaction"})),confluxGetAddress:(t,r,i)=>e(Object.assign(Object.assign({},i),{connectId:t,deviceId:r,method:"confluxGetAddress"})),confluxSignMessage:(t,r,i)=>e(Object.assign(Object.assign({},i),{connectId:t,deviceId:r,method:"confluxSignMessage"})),confluxSignMessageCIP23:(t,r,i)=>e(Object.assign(Object.assign({},i),{connectId:t,deviceId:r,method:"confluxSignMessageCIP23"})),confluxSignTransaction:(t,r,i)=>e(Object.assign(Object.assign({},i),{connectId:t,deviceId:r,method:"confluxSignTransaction"})),nearGetAddress:(t,r,i)=>e(Object.assign(Object.assign({},i),{connectId:t,deviceId:r,method:"nearGetAddress"})),nearSignTransaction:(t,r,i)=>e(Object.assign(Object.assign({},i),{connectId:t,deviceId:r,method:"nearSignTransaction"})),aptosGetAddress:(t,r,i)=>e(Object.assign(Object.assign({},i),{connectId:t,deviceId:r,method:"aptosGetAddress"})),aptosGetPublicKey:(t,r,i)=>e(Object.assign(Object.assign({},i),{connectId:t,deviceId:r,method:"aptosGetPublicKey"})),aptosSignMessage:(t,r,i)=>e(Object.assign(Object.assign({},i),{connectId:t,deviceId:r,method:"aptosSignMessage"})),aptosSignTransaction:(t,r,i)=>e(Object.assign(Object.assign({},i),{connectId:t,deviceId:r,method:"aptosSignTransaction"})),algoGetAddress:(t,r,i)=>e(Object.assign(Object.assign({},i),{connectId:t,deviceId:r,method:"algoGetAddress"})),algoSignTransaction:(t,r,i)=>e(Object.assign(Object.assign({},i),{connectId:t,deviceId:r,method:"algoSignTransaction"})),cosmosGetAddress:(t,r,i)=>e(Object.assign(Object.assign({},i),{connectId:t,deviceId:r,method:"cosmosGetAddress"})),cosmosGetPublicKey:(t,r,i)=>e(Object.assign(Object.assign({},i),{connectId:t,deviceId:r,method:"cosmosGetPublicKey"})),cosmosSignTransaction:(t,r,i)=>e(Object.assign(Object.assign({},i),{connectId:t,deviceId:r,method:"cosmosSignTransaction"})),xrpGetAddress:(t,r,i)=>e(Object.assign(Object.assign({},i),{connectId:t,deviceId:r,method:"xrpGetAddress"})),xrpSignTransaction:(t,r,i)=>e(Object.assign(Object.assign({},i),{connectId:t,deviceId:r,method:"xrpSignTransaction"})),suiGetAddress:(t,r,i)=>e(Object.assign(Object.assign({},i),{connectId:t,deviceId:r,method:"suiGetAddress"})),suiGetPublicKey:(t,r,i)=>e(Object.assign(Object.assign({},i),{connectId:t,deviceId:r,method:"suiGetPublicKey"})),suiSignMessage:(t,r,i)=>e(Object.assign(Object.assign({},i),{connectId:t,deviceId:r,method:"suiSignMessage"})),suiSignTransaction:(t,r,i)=>e(Object.assign(Object.assign({},i),{connectId:t,deviceId:r,method:"suiSignTransaction"})),cardanoGetAddress:(t,r,i)=>e(Object.assign(Object.assign({},i),{connectId:t,deviceId:r,method:"cardanoGetAddress"})),cardanoGetPublicKey:(t,r,i)=>e(Object.assign(Object.assign({},i),{connectId:t,deviceId:r,method:"cardanoGetPublicKey"})),cardanoSignTransaction:(t,r,i)=>e(Object.assign(Object.assign({},i),{connectId:t,deviceId:r,method:"cardanoSignTransaction"})),cardanoSignMessage:(t,r,i)=>e(Object.assign(Object.assign({},i),{connectId:t,deviceId:r,method:"cardanoSignMessage"})),filecoinGetAddress:(t,r,i)=>e(Object.assign(Object.assign({},i),{connectId:t,deviceId:r,method:"filecoinGetAddress"})),filecoinSignTransaction:(t,r,i)=>e(Object.assign(Object.assign({},i),{connectId:t,deviceId:r,method:"filecoinSignTransaction"})),polkadotGetAddress:(t,r,i)=>e(Object.assign(Object.assign({},i),{connectId:t,deviceId:r,method:"polkadotGetAddress"})),polkadotSignTransaction:(t,r,i)=>e(Object.assign(Object.assign({},i),{connectId:t,deviceId:r,method:"polkadotSignTransaction"})),kaspaGetAddress:(t,r,i)=>e(Object.assign(Object.assign({},i),{connectId:t,deviceId:r,method:"kaspaGetAddress"})),kaspaSignTransaction:(t,r,i)=>e(Object.assign(Object.assign({},i),{connectId:t,deviceId:r,method:"kaspaSignTransaction"})),nexaGetAddress:(t,r,i)=>e(Object.assign(Object.assign({},i),{connectId:t,deviceId:r,method:"nexaGetAddress"})),nexaSignTransaction:(t,r,i)=>e(Object.assign(Object.assign({},i),{connectId:t,deviceId:r,method:"nexaSignTransaction"})),nostrGetPublicKey:(t,r,i)=>e(Object.assign(Object.assign({},i),{connectId:t,deviceId:r,method:"nostrGetPublicKey"})),nostrSignEvent:(t,r,i)=>e(Object.assign(Object.assign({},i),{connectId:t,deviceId:r,method:"nostrSignEvent"})),nostrEncryptMessage:(t,r,i)=>e(Object.assign(Object.assign({},i),{connectId:t,deviceId:r,method:"nostrEncryptMessage"})),nostrDecryptMessage:(t,r,i)=>e(Object.assign(Object.assign({},i),{connectId:t,deviceId:r,method:"nostrDecryptMessage"})),nostrSignSchnorr:(t,r,i)=>e(Object.assign(Object.assign({},i),{connectId:t,deviceId:r,method:"nostrSignSchnorr"})),lnurlAuth:(t,r,i)=>e(Object.assign(Object.assign({},i),{connectId:t,deviceId:r,method:"lnurlAuth"})),nervosGetAddress:(t,r,i)=>e(Object.assign(Object.assign({},i),{connectId:t,deviceId:r,method:"nervosGetAddress"})),nervosSignTransaction:(t,r,i)=>e(Object.assign(Object.assign({},i),{connectId:t,deviceId:r,method:"nervosSignTransaction"})),dnxGetAddress:(t,r,i)=>e(Object.assign(Object.assign({},i),{connectId:t,deviceId:r,method:"dnxGetAddress"})),dnxSignTransaction:(t,r,i)=>e(Object.assign(Object.assign({},i),{connectId:t,deviceId:r,method:"dnxSignTransaction"})),tonGetAddress:(t,r,i)=>e(Object.assign(Object.assign({},i),{connectId:t,deviceId:r,method:"tonGetAddress"})),tonSignMessage:(t,r,i)=>e(Object.assign(Object.assign({},i),{connectId:t,deviceId:r,method:"tonSignMessage"})),tonSignProof:(t,r,i)=>e(Object.assign(Object.assign({},i),{connectId:t,deviceId:r,method:"tonSignProof"})),scdoGetAddress:(t,r,i)=>e(Object.assign(Object.assign({},i),{connectId:t,deviceId:r,method:"scdoGetAddress"})),scdoSignMessage:(t,r,i)=>e(Object.assign(Object.assign({},i),{connectId:t,deviceId:r,method:"scdoSignMessage"})),scdoSignTransaction:(t,r,i)=>e(Object.assign(Object.assign({},i),{connectId:t,deviceId:r,method:"scdoSignTransaction"})),alephiumGetAddress:(t,r,i)=>e(Object.assign(Object.assign({},i),{connectId:t,deviceId:r,method:"alephiumGetAddress"})),alephiumSignMessage:(t,r,i)=>e(Object.assign(Object.assign({},i),{connectId:t,deviceId:r,method:"alephiumSignMessage"})),alephiumSignTransaction:(t,r,i)=>e(Object.assign(Object.assign({},i),{connectId:t,deviceId:r,method:"alephiumSignTransaction"}))});var A,M={exports:{}},O="object"==typeof Reflect?Reflect:null,x=O&&"function"==typeof O.apply?O.apply:function ReflectApply(e,t,r){return Function.prototype.apply.call(e,t,r)};A=O&&"function"==typeof O.ownKeys?O.ownKeys:Object.getOwnPropertySymbols?function ReflectOwnKeys(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function ReflectOwnKeys(e){return Object.getOwnPropertyNames(e)};var k=Number.isNaN||function NumberIsNaN(e){return e!=e};function EventEmitter(){EventEmitter.init.call(this)}M.exports=EventEmitter,M.exports.once=function once(e,t){return new Promise((function(r,i){function errorListener(r){e.removeListener(t,resolver),i(r)}function resolver(){"function"==typeof e.removeListener&&e.removeListener("error",errorListener),r([].slice.call(arguments))}eventTargetAgnosticAddListener(e,t,resolver,{once:!0}),"error"!==t&&function addErrorHandlerIfEventEmitter(e,t,r){"function"==typeof e.on&&eventTargetAgnosticAddListener(e,"error",t,r)}(e,errorListener,{once:!0})}))},EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._eventsCount=0,EventEmitter.prototype._maxListeners=void 0;var I=10;function checkListener(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function _getMaxListeners(e){return void 0===e._maxListeners?EventEmitter.defaultMaxListeners:e._maxListeners}function _addListener(e,t,r,i){var n,s,a;if(checkListener(r),void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),s=e._events),a=s[t]),void 0===a)a=s[t]=r,++e._eventsCount;else if("function"==typeof a?a=s[t]=i?[r,a]:[a,r]:i?a.unshift(r):a.push(r),(n=_getMaxListeners(e))>0&&a.length>n&&!a.warned){a.warned=!0;var o=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");o.name="MaxListenersExceededWarning",o.emitter=e,o.type=t,o.count=a.length,function ProcessEmitWarning(e){console&&console.warn&&console.warn(e)}(o)}return e}function onceWrapper(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _onceWrap(e,t,r){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},n=onceWrapper.bind(i);return n.listener=r,i.wrapFn=n,n}function _listeners(e,t,r){var i=e._events;if(void 0===i)return[];var n=i[t];return void 0===n?[]:"function"==typeof n?r?[n.listener||n]:[n]:r?function unwrapListeners(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(n):arrayClone(n,n.length)}function listenerCount(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function arrayClone(e,t){for(var r=new Array(t),i=0;i<t;++i)r[i]=e[i];return r}function eventTargetAgnosticAddListener(e,t,r,i){if("function"==typeof e.on)i.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function wrapListener(n){i.once&&e.removeEventListener(t,wrapListener),r(n)}))}}Object.defineProperty(EventEmitter,"defaultMaxListeners",{enumerable:!0,get:function(){return I},set:function(e){if("number"!=typeof e||e<0||k(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");I=e}}),EventEmitter.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},EventEmitter.prototype.setMaxListeners=function setMaxListeners(e){if("number"!=typeof e||e<0||k(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},EventEmitter.prototype.getMaxListeners=function getMaxListeners(){return _getMaxListeners(this)},EventEmitter.prototype.emit=function emit(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var i="error"===e,n=this._events;if(void 0!==n)i=i&&void 0===n.error;else if(!i)return!1;if(i){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var o=n[e];if(void 0===o)return!1;if("function"==typeof o)x(o,this,t);else{var d=o.length,u=arrayClone(o,d);for(r=0;r<d;++r)x(u[r],this,t)}return!0},EventEmitter.prototype.addListener=function addListener(e,t){return _addListener(this,e,t,!1)},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.prependListener=function prependListener(e,t){return _addListener(this,e,t,!0)},EventEmitter.prototype.once=function once(e,t){return checkListener(t),this.on(e,_onceWrap(this,e,t)),this},EventEmitter.prototype.prependOnceListener=function prependOnceListener(e,t){return checkListener(t),this.prependListener(e,_onceWrap(this,e,t)),this},EventEmitter.prototype.removeListener=function removeListener(e,t){var r,i,n,s,a;if(checkListener(t),void 0===(i=this._events))return this;if(void 0===(r=i[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(n=-1,s=r.length-1;s>=0;s--)if(r[s]===t||r[s].listener===t){a=r[s].listener,n=s;break}if(n<0)return this;0===n?r.shift():function spliceOne(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,n),1===r.length&&(i[e]=r[0]),void 0!==i.removeListener&&this.emit("removeListener",e,a||t)}return this},EventEmitter.prototype.off=EventEmitter.prototype.removeListener,EventEmitter.prototype.removeAllListeners=function removeAllListeners(e){var t,r,i;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var n,s=Object.keys(r);for(i=0;i<s.length;++i)"removeListener"!==(n=s[i])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},EventEmitter.prototype.listeners=function listeners(e){return _listeners(this,e,!0)},EventEmitter.prototype.rawListeners=function rawListeners(e){return _listeners(this,e,!1)},EventEmitter.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):listenerCount.call(e,t)},EventEmitter.prototype.listenerCount=listenerCount,EventEmitter.prototype.eventNames=function eventNames(){return this._eventsCount>0?A(this._events):[]};const C=new M.exports;function __awaiter(e,t,r,i){return new(r||(r=Promise))((function(n,s){function fulfilled(e){try{step(i.next(e))}catch(e){s(e)}}function rejected(e){try{step(i.throw(e))}catch(e){s(e)}}function step(e){e.done?n(e.value):function adopt(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,t||[])).next())}))}function __values(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function __asyncValues(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=__values(e),t={},verb("next"),verb("throw"),verb("return"),t[Symbol.asyncIterator]=function(){return this},t);function verb(r){t[r]=e[r]&&function(t){return new Promise((function(i,n){(function settle(e,t,r,i){Promise.resolve(i).then((function(t){e({value:t,done:r})}),t)})(i,n,(t=e[r](t)).done,t.value)}))}}}"function"==typeof SuppressedError&&SuppressedError;const httpRequest=(e,t)=>((e,t="text")=>__awaiter(void 0,void 0,void 0,(function*(){const r={};e.indexOf("ngrok-free.app")>-1&&(r["ngrok-skip-browser-warning"]=!0);const i=yield _.default.request({url:e,withCredentials:!1,responseType:"binary"===t?"arraybuffer":"json",headers:r});if(200==+i.status)return i.data;throw new Error(`httpRequest error: ${e} ${i.statusText}`)})))(e,t),getTimeStamp=()=>(new Date).getTime(),B=new RegExp(/^[0-9]{1,3}(\.[0-9]{1,3}){0,2}$/),isValidVersionString=e=>B.test(e),isValidVersionArray=e=>{if(!Array.isArray(e))return!1;if(0===e.length||e.length>3)return!1;if(0===e[0])return!1;for(let t=0;t<e.length;t++)if("number"!=typeof e[t]||e[t]<0)return!1;return!0},normalizeVersionArray=e=>{if(3===e.length)return e;const t=[...e];for(let r=e.length;r<3;r++)t.push(0);return t},versionSplit=e=>isValidVersionString(e)?e.split(".").map((e=>Number(e))):[0,0,0];function patchFeatures(e){return"Features"!==e.type||e.message.major_version<1&&(e.message.major_version=1),e}var N;t.cW=void 0,(N=t.cW||(t.cW={})).bootloader="bootloader",N.normal="normal",N.notInitialized="notInitialized",N.backupMode="backupMode";const P={model_mini:["classic","classic1s","mini"],model_touch:["touch","pro"],model_classic:["classic","classic1s"]},D={classic:["model_classic","model_mini"],classic1s:["model_classic","model_mini"],mini:["model_mini"],touch:["model_touch"],pro:["model_touch"],unknown:[]},getDeviceType=e=>{if(!e||"object"!=typeof e)return"unknown";switch(e.onekey_device_type){case"CLASSIC":return"classic";case"CLASSIC1S":return"classic1s";case"MINI":return"mini";case"TOUCH":return"touch";case"PRO":return"pro";default:if(!a.isEmpty(e.onekey_serial_no))return"unknown"}const t=getDeviceUUID(e);if(a.isEmpty(t)&&!0===e.bootloader_mode&&"1"===e.model)return"classic";if(a.isEmpty(t))return"unknown";const r=t.slice(0,2);return"bi"===r.toLowerCase()||"cl"===r.toLowerCase()?"classic":"mi"===r.toLowerCase()?"mini":"tc"===r.toLowerCase()?"touch":"pr"===r.toLowerCase()?"pro":"unknown"},getDeviceTypeByBleName=e=>e?e.startsWith("BixinKey")||e.startsWith("K")?"classic":e.startsWith("T")||e.startsWith("Touch")?"touch":e.startsWith("Pro")?"pro":"unknown":"unknown",getDeviceBleName=e=>null==e?null:e.onekey_ble_name||e.ble_name||null,getDeviceUUID=e=>{const t=e.onekey_serial_no||e.onekey_serial||e.serial_no;return null!=t?t:""},getDeviceLabel=e=>{if(!e)return null;const t=getDeviceType(e);if(null==t)return null;if("string"==typeof e.label&&!a.isEmpty(e.label))return e.label;const r=getDeviceBleName(e);return a.isEmpty(r)?`OneKey ${t.charAt(0).toUpperCase()+t.slice(1)}`:r},getMethodVersionRange=(e,t)=>{const r=getDeviceType(e);let i=t(r);if(i)return i;const n=["model_classic","model_mini","model_touch"];for(const e of n)if(P[e].includes(r)&&(i=t(e),i))return i;return i},getDeviceFirmwareVersion=e=>{var t,r;return e?v.default.valid(e.onekey_firmware_version)?null===(t=e.onekey_firmware_version)||void 0===t?void 0:t.split("."):v.default.valid(e.onekey_version)?null===(r=e.onekey_version)||void 0===r?void 0:r.split("."):[0,0,0]:[0,0,0]},getDeviceBLEFirmwareVersion=e=>{const t=(null==e?void 0:e.onekey_ble_version)||(null==e?void 0:e.ble_ver);return t&&v.default.valid(t)?t.split("."):null},getDeviceBootloaderVersion=e=>{var t,r,i,n,s;return e?v.default.valid(e.onekey_boot_version)?null===(t=e.onekey_boot_version)||void 0===t?void 0:t.split("."):e.bootloader_version?v.default.valid(e.bootloader_version)?null===(s=e.bootloader_version)||void 0===s?void 0:s.split("."):[0,0,0]:e.bootloader_mode?[null!==(r=null==e?void 0:e.major_version)&&void 0!==r?r:0,null!==(i=null==e?void 0:e.minor_version)&&void 0!==i?i:0,null!==(n=null==e?void 0:e.patch_version)&&void 0!==n?n:0]:[0,0,0]:[0,0,0]},q=2147483648,toHardened=e=>(e|q)>>>0,fromHardened=e=>(2147483647&e)>>>0,L=n.ERRORS.TypedError(n.HardwareErrorCode.CallMethodInvalidParameter,"Not a valid path"),j=n.ERRORS.TypedError(n.HardwareErrorCode.CallMethodInvalidParameter,"Path cannot contain negative values"),getHDPath=e=>{const t=e.toLowerCase().split("/");if("m"!==t[0])throw L;return t.filter((e=>"m"!==e&&""!==e)).map((e=>{let t=!1;"'"===e.substr(e.length-1)&&(t=!0,e=e.substr(0,e.length-1));let r=parseInt(e);if(Number.isNaN(r))throw L;if(r<0)throw j;return t&&(r=toHardened(r)),r}))},getScriptType=e=>{if(!Array.isArray(e)||e.length<1)return"SPENDADDRESS";switch(fromHardened(e[0])){case 48:return"SPENDMULTISIG";case 49:return"SPENDP2SHWITNESS";case 84:return"SPENDWITNESS";case 86:case 10025:return"SPENDTAPROOT";default:return"SPENDADDRESS"}},getOutputScriptType=e=>{if(!Array.isArray(e)||e.length<1)return"PAYTOADDRESS";if(49===e[0])return"PAYTOP2SHWITNESS";switch(fromHardened(e[0])){case 48:return"PAYTOMULTISIG";case 49:return"PAYTOP2SHWITNESS";case 84:return"PAYTOWITNESS";case 86:case 10025:return"PAYTOTAPROOT";default:return"PAYTOADDRESS"}},serializedPath=e=>`m/${e.map((e=>e&q?(2147483647&e)+"'":e)).join("/")}`,validatePath=(e,t=0,r=!1)=>{let i;if(i="string"==typeof e?getHDPath(e):Array.isArray(e)?e.map((e=>{const t=parseInt(e);if(Number.isNaN(t))throw L;if(t<0)throw j;return t})):void 0,!i)throw L;if(t>0&&i.length<t)throw L;return r?i.splice(0,3):i};var F={nested:{AlephiumGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2},include_public_key:{type:"bool",id:3},target_group:{type:"uint32",id:4}}},AlephiumAddress:{fields:{address:{rule:"required",type:"string",id:1},public_key:{type:"bytes",id:2},derived_path:{rule:"repeated",type:"uint32",id:3,options:{packed:!1}}}},AlephiumSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},data_initial_chunk:{rule:"required",type:"bytes",id:2},data_length:{type:"uint32",id:3}}},AlephiumSignedTx:{fields:{signature:{rule:"required",type:"bytes",id:1},address:{rule:"required",type:"string",id:2}}},AlephiumTxRequest:{fields:{data_length:{type:"uint32",id:1},public_key:{type:"bytes",id:2},signature:{type:"bytes",id:3}}},AlephiumTxAck:{fields:{data_chunk:{rule:"required",type:"bytes",id:1}}},AlephiumBytecodeRequest:{fields:{data_length:{type:"uint32",id:1},public_key:{type:"bytes",id:2},signature:{type:"bytes",id:3}}},AlephiumBytecodeAck:{fields:{bytecode_data:{rule:"required",type:"bytes",id:1}}},AlephiumSignMessage:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},message:{type:"bytes",id:2},message_type:{type:"bytes",id:3}}},AlephiumMessageSignature:{fields:{signature:{type:"bytes",id:1},address:{type:"string",id:2}}},AlgorandGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:3}}},AlgorandAddress:{fields:{address:{type:"string",id:1}}},AlgorandSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},raw_tx:{rule:"required",type:"bytes",id:2}}},AlgorandSignedTx:{fields:{signature:{rule:"required",type:"bytes",id:1}}},AptosGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2}}},AptosAddress:{fields:{address:{type:"string",id:1}}},AptosSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},raw_tx:{rule:"required",type:"bytes",id:2}}},AptosSignedTx:{fields:{public_key:{rule:"required",type:"bytes",id:1},signature:{rule:"required",type:"bytes",id:2}}},AptosSignMessage:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},payload:{rule:"required",type:"AptosMessagePayload",id:2}},nested:{AptosMessagePayload:{fields:{address:{type:"string",id:2},chain_id:{type:"string",id:3},application:{type:"string",id:4},nonce:{rule:"required",type:"string",id:5},message:{rule:"required",type:"string",id:6}}}}},AptosMessageSignature:{fields:{signature:{rule:"required",type:"bytes",id:1},address:{rule:"required",type:"string",id:2}}},BinanceGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2}}},BinanceAddress:{fields:{address:{rule:"required",type:"string",id:1}}},BinanceGetPublicKey:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2}}},BinancePublicKey:{fields:{public_key:{rule:"required",type:"bytes",id:1}}},BinanceSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},msg_count:{type:"uint32",id:2},account_number:{type:"sint64",id:3},chain_id:{type:"string",id:4},memo:{type:"string",id:5},sequence:{type:"sint64",id:6},source:{type:"sint64",id:7}}},BinanceTxRequest:{fields:{}},BinanceTransferMsg:{fields:{inputs:{rule:"repeated",type:"BinanceInputOutput",id:1},outputs:{rule:"repeated",type:"BinanceInputOutput",id:2}},nested:{BinanceInputOutput:{fields:{address:{type:"string",id:1},coins:{rule:"repeated",type:"BinanceCoin",id:2}}},BinanceCoin:{fields:{amount:{type:"sint64",id:1},denom:{type:"string",id:2}}}}},BinanceOrderMsg:{fields:{id:{type:"string",id:1},ordertype:{type:"BinanceOrderType",id:2},price:{type:"sint64",id:3},quantity:{type:"sint64",id:4},sender:{type:"string",id:5},side:{type:"BinanceOrderSide",id:6},symbol:{type:"string",id:7},timeinforce:{type:"BinanceTimeInForce",id:8}},nested:{BinanceOrderType:{values:{OT_UNKNOWN:0,MARKET:1,LIMIT:2,OT_RESERVED:3}},BinanceOrderSide:{values:{SIDE_UNKNOWN:0,BUY:1,SELL:2}},BinanceTimeInForce:{values:{TIF_UNKNOWN:0,GTE:1,TIF_RESERVED:2,IOC:3}}}},BinanceCancelMsg:{fields:{refid:{type:"string",id:1},sender:{type:"string",id:2},symbol:{type:"string",id:3}}},BinanceSignedTx:{fields:{signature:{rule:"required",type:"bytes",id:1},public_key:{rule:"required",type:"bytes",id:2}}},InputScriptType:{values:{SPENDADDRESS:0,SPENDMULTISIG:1,EXTERNAL:2,SPENDWITNESS:3,SPENDP2SHWITNESS:4,SPENDTAPROOT:5}},OutputScriptType:{values:{PAYTOADDRESS:0,PAYTOSCRIPTHASH:1,PAYTOMULTISIG:2,PAYTOOPRETURN:3,PAYTOWITNESS:4,PAYTOP2SHWITNESS:5,PAYTOTAPROOT:6}},DecredStakingSpendType:{values:{SSGen:0,SSRTX:1}},AmountUnit:{values:{BITCOIN:0,MILLIBITCOIN:1,MICROBITCOIN:2,SATOSHI:3}},MultisigRedeemScriptType:{fields:{pubkeys:{rule:"repeated",type:"HDNodePathType",id:1},signatures:{rule:"repeated",type:"bytes",id:2},m:{rule:"required",type:"uint32",id:3},nodes:{rule:"repeated",type:"HDNodeType",id:4},address_n:{rule:"repeated",type:"uint32",id:5,options:{packed:!1}}},nested:{HDNodePathType:{fields:{node:{rule:"required",type:"HDNodeType",id:1},address_n:{rule:"repeated",type:"uint32",id:2,options:{packed:!1}}}}}},GetPublicKey:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},ecdsa_curve_name:{type:"string",id:2},show_display:{type:"bool",id:3},coin_name:{type:"string",id:4,options:{default:"Bitcoin"}},script_type:{type:"InputScriptType",id:5,options:{default:"SPENDADDRESS"}},ignore_xpub_magic:{type:"bool",id:6}}},PublicKey:{fields:{node:{rule:"required",type:"HDNodeType",id:1},xpub:{rule:"required",type:"string",id:2},root_fingerprint:{type:"uint32",id:3}}},GetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},coin_name:{type:"string",id:2,options:{default:"Bitcoin"}},show_display:{type:"bool",id:3},multisig:{type:"MultisigRedeemScriptType",id:4},script_type:{type:"InputScriptType",id:5,options:{default:"SPENDADDRESS"}},ignore_xpub_magic:{type:"bool",id:6}}},Address:{fields:{address:{rule:"required",type:"string",id:1}}},GetOwnershipId:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},coin_name:{type:"string",id:2,options:{default:"Bitcoin"}},multisig:{type:"MultisigRedeemScriptType",id:3},script_type:{type:"InputScriptType",id:4,options:{default:"SPENDADDRESS"}}}},OwnershipId:{fields:{ownership_id:{rule:"required",type:"bytes",id:1}}},SignMessage:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},message:{rule:"required",type:"bytes",id:2},coin_name:{type:"string",id:3,options:{default:"Bitcoin"}},script_type:{type:"InputScriptType",id:4,options:{default:"SPENDADDRESS"}},no_script_type:{type:"bool",id:5},is_bip322_simple:{type:"bool",id:10,options:{default:!1}}}},MessageSignature:{fields:{address:{rule:"required",type:"string",id:1},signature:{rule:"required",type:"bytes",id:2}}},VerifyMessage:{fields:{address:{rule:"required",type:"string",id:1},signature:{rule:"required",type:"bytes",id:2},message:{rule:"required",type:"bytes",id:3},coin_name:{type:"string",id:4,options:{default:"Bitcoin"}}}},SignTx:{fields:{outputs_count:{rule:"required",type:"uint32",id:1},inputs_count:{rule:"required",type:"uint32",id:2},coin_name:{type:"string",id:3,options:{default:"Bitcoin"}},version:{type:"uint32",id:4,options:{default:1}},lock_time:{type:"uint32",id:5,options:{default:0}},expiry:{type:"uint32",id:6},overwintered:{type:"bool",id:7,options:{deprecated:!0}},version_group_id:{type:"uint32",id:8},timestamp:{type:"uint32",id:9},branch_id:{type:"uint32",id:10},amount_unit:{type:"AmountUnit",id:11,options:{default:"BITCOIN"}},decred_staking_ticket:{type:"bool",id:12,options:{default:!1}}}},TxRequest:{fields:{request_type:{type:"RequestType",id:1},details:{type:"TxRequestDetailsType",id:2},serialized:{type:"TxRequestSerializedType",id:3}},nested:{RequestType:{values:{TXINPUT:0,TXOUTPUT:1,TXMETA:2,TXFINISHED:3,TXEXTRADATA:4,TXORIGINPUT:5,TXORIGOUTPUT:6}},TxRequestDetailsType:{fields:{request_index:{type:"uint32",id:1},tx_hash:{type:"bytes",id:2},extra_data_len:{type:"uint32",id:3},extra_data_offset:{type:"uint32",id:4}}},TxRequestSerializedType:{fields:{signature_index:{type:"uint32",id:1},signature:{type:"bytes",id:2},serialized_tx:{type:"bytes",id:3}}}}},TxAck:{options:{deprecated:!0},fields:{tx:{type:"TransactionType",id:1}},nested:{TransactionType:{fields:{version:{type:"uint32",id:1},inputs:{rule:"repeated",type:"TxInputType",id:2},bin_outputs:{rule:"repeated",type:"TxOutputBinType",id:3},lock_time:{type:"uint32",id:4},outputs:{rule:"repeated",type:"TxOutputType",id:5},inputs_cnt:{type:"uint32",id:6},outputs_cnt:{type:"uint32",id:7},extra_data:{type:"bytes",id:8},extra_data_len:{type:"uint32",id:9},expiry:{type:"uint32",id:10},overwintered:{type:"bool",id:11,options:{deprecated:!0}},version_group_id:{type:"uint32",id:12},timestamp:{type:"uint32",id:13},branch_id:{type:"uint32",id:14}},nested:{TxInputType:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},prev_hash:{rule:"required",type:"bytes",id:2},prev_index:{rule:"required",type:"uint32",id:3},script_sig:{type:"bytes",id:4},sequence:{type:"uint32",id:5,options:{default:4294967295}},script_type:{type:"InputScriptType",id:6,options:{default:"SPENDADDRESS"}},multisig:{type:"MultisigRedeemScriptType",id:7},amount:{type:"uint64",id:8},decred_tree:{type:"uint32",id:9},witness:{type:"bytes",id:13},ownership_proof:{type:"bytes",id:14},commitment_data:{type:"bytes",id:15},orig_hash:{type:"bytes",id:16},orig_index:{type:"uint32",id:17},decred_staking_spend:{type:"DecredStakingSpendType",id:18},script_pubkey:{type:"bytes",id:19}}},TxOutputBinType:{fields:{amount:{rule:"required",type:"uint64",id:1},script_pubkey:{rule:"required",type:"bytes",id:2},decred_script_version:{type:"uint32",id:3}}},TxOutputType:{fields:{address:{type:"string",id:1},address_n:{rule:"repeated",type:"uint32",id:2,options:{packed:!1}},amount:{rule:"required",type:"uint64",id:3},script_type:{type:"OutputScriptType",id:4,options:{default:"PAYTOADDRESS"}},multisig:{type:"MultisigRedeemScriptType",id:5},op_return_data:{type:"bytes",id:6},orig_hash:{type:"bytes",id:10},orig_index:{type:"uint32",id:11}}}}}}},TxInput:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},prev_hash:{rule:"required",type:"bytes",id:2},prev_index:{rule:"required",type:"uint32",id:3},script_sig:{type:"bytes",id:4},sequence:{type:"uint32",id:5,options:{default:4294967295}},script_type:{type:"InputScriptType",id:6,options:{default:"SPENDADDRESS"}},multisig:{type:"MultisigRedeemScriptType",id:7},amount:{rule:"required",type:"uint64",id:8},decred_tree:{type:"uint32",id:9},witness:{type:"bytes",id:13},ownership_proof:{type:"bytes",id:14},commitment_data:{type:"bytes",id:15},orig_hash:{type:"bytes",id:16},orig_index:{type:"uint32",id:17},decred_staking_spend:{type:"DecredStakingSpendType",id:18},script_pubkey:{type:"bytes",id:19}}},TxOutput:{fields:{address:{type:"string",id:1},address_n:{rule:"repeated",type:"uint32",id:2,options:{packed:!1}},amount:{rule:"required",type:"uint64",id:3},script_type:{type:"OutputScriptType",id:4,options:{default:"PAYTOADDRESS"}},multisig:{type:"MultisigRedeemScriptType",id:5},op_return_data:{type:"bytes",id:6},orig_hash:{type:"bytes",id:10},orig_index:{type:"uint32",id:11}}},PrevTx:{fields:{version:{rule:"required",type:"uint32",id:1},lock_time:{rule:"required",type:"uint32",id:4},inputs_count:{rule:"required",type:"uint32",id:6},outputs_count:{rule:"required",type:"uint32",id:7},extra_data_len:{type:"uint32",id:9,options:{default:0}},expiry:{type:"uint32",id:10},version_group_id:{type:"uint32",id:12},timestamp:{type:"uint32",id:13},branch_id:{type:"uint32",id:14}}},PrevInput:{fields:{prev_hash:{rule:"required",type:"bytes",id:2},prev_index:{rule:"required",type:"uint32",id:3},script_sig:{rule:"required",type:"bytes",id:4},sequence:{rule:"required",type:"uint32",id:5},decred_tree:{type:"uint32",id:9}}},PrevOutput:{fields:{amount:{rule:"required",type:"uint64",id:1},script_pubkey:{rule:"required",type:"bytes",id:2},decred_script_version:{type:"uint32",id:3}}},TxAckInput:{options:{"(wire_type)":22},fields:{tx:{rule:"required",type:"TxAckInputWrapper",id:1}},nested:{TxAckInputWrapper:{fields:{input:{rule:"required",type:"TxInput",id:2}}}}},TxAckOutput:{options:{"(wire_type)":22},fields:{tx:{rule:"required",type:"TxAckOutputWrapper",id:1}},nested:{TxAckOutputWrapper:{fields:{output:{rule:"required",type:"TxOutput",id:5}}}}},TxAckPrevMeta:{options:{"(wire_type)":22},fields:{tx:{rule:"required",type:"PrevTx",id:1}}},TxAckPrevInput:{options:{"(wire_type)":22},fields:{tx:{rule:"required",type:"TxAckPrevInputWrapper",id:1}},nested:{TxAckPrevInputWrapper:{fields:{input:{rule:"required",type:"PrevInput",id:2}}}}},TxAckPrevOutput:{options:{"(wire_type)":22},fields:{tx:{rule:"required",type:"TxAckPrevOutputWrapper",id:1}},nested:{TxAckPrevOutputWrapper:{fields:{output:{rule:"required",type:"PrevOutput",id:3}}}}},TxAckPrevExtraData:{options:{"(wire_type)":22},fields:{tx:{rule:"required",type:"TxAckPrevExtraDataWrapper",id:1}},nested:{TxAckPrevExtraDataWrapper:{fields:{extra_data_chunk:{rule:"required",type:"bytes",id:8}}}}},GetOwnershipProof:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},coin_name:{type:"string",id:2,options:{default:"Bitcoin"}},script_type:{type:"InputScriptType",id:3,options:{default:"SPENDWITNESS"}},multisig:{type:"MultisigRedeemScriptType",id:4},user_confirmation:{type:"bool",id:5,options:{default:!1}},ownership_ids:{rule:"repeated",type:"bytes",id:6},commitment_data:{type:"bytes",id:7,options:{default:""}}}},OwnershipProof:{fields:{ownership_proof:{rule:"required",type:"bytes",id:1},signature:{rule:"required",type:"bytes",id:2}}},AuthorizeCoinJoin:{options:{"(unstable)":!0},fields:{coordinator:{rule:"required",type:"string",id:1},max_total_fee:{rule:"required",type:"uint64",id:2},fee_per_anonymity:{type:"uint32",id:3,options:{default:0}},address_n:{rule:"repeated",type:"uint32",id:4,options:{packed:!1}},coin_name:{type:"string",id:5,options:{default:"Bitcoin"}},script_type:{type:"InputScriptType",id:6,options:{default:"SPENDADDRESS"}},amount_unit:{type:"AmountUnit",id:11,options:{default:"BITCOIN"}}}},GetPublicKeyMultiple:{fields:{addresses:{rule:"repeated",type:"BIP32Address",id:1},ecdsa_curve_name:{type:"string",id:2},show_display:{type:"bool",id:3},coin_name:{type:"string",id:4,options:{default:"Bitcoin"}},script_type:{type:"InputScriptType",id:5,options:{default:"SPENDADDRESS"}},ignore_xpub_magic:{type:"bool",id:6}},nested:{BIP32Address:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}}}}}},PublicKeyMultiple:{fields:{xpubs:{rule:"repeated",type:"string",id:1}}},SignPsbt:{fields:{psbt:{rule:"required",type:"bytes",id:1},coin_name:{type:"string",id:2,options:{default:"Bitcoin"}}}},SignedPsbt:{fields:{psbt:{rule:"required",type:"bytes",id:1}}},FirmwareErase:{fields:{length:{type:"uint32",id:1}}},FirmwareRequest:{fields:{offset:{type:"uint32",id:1},length:{type:"uint32",id:2}}},FirmwareUpload:{fields:{payload:{rule:"required",type:"bytes",id:1},hash:{type:"bytes",id:2}}},SelfTest:{fields:{payload:{type:"bytes",id:1}}},FirmwareErase_ex:{fields:{length:{type:"uint32",id:1}}},RebootType:{values:{Normal:0,Boardloader:1,BootLoader:2}},Reboot:{fields:{reboot_type:{rule:"required",type:"RebootType",id:1}}},FirmwareUpdateEmmc:{fields:{path:{rule:"required",type:"string",id:1},reboot_on_success:{type:"bool",id:2}}},CardanoDerivationType:{values:{LEDGER:0,ICARUS:1,ICARUS_TREZOR:2}},CardanoAddressType:{values:{BASE:0,BASE_SCRIPT_KEY:1,BASE_KEY_SCRIPT:2,BASE_SCRIPT_SCRIPT:3,POINTER:4,POINTER_SCRIPT:5,ENTERPRISE:6,ENTERPRISE_SCRIPT:7,BYRON:8,REWARD:14,REWARD_SCRIPT:15}},CardanoNativeScriptType:{values:{PUB_KEY:0,ALL:1,ANY:2,N_OF_K:3,INVALID_BEFORE:4,INVALID_HEREAFTER:5}},CardanoNativeScriptHashDisplayFormat:{values:{HIDE:0,BECH32:1,POLICY_ID:2}},CardanoTxOutputSerializationFormat:{values:{ARRAY_LEGACY:0,MAP_BABBAGE:1}},CardanoCertificateType:{values:{STAKE_REGISTRATION:0,STAKE_DEREGISTRATION:1,STAKE_DELEGATION:2,STAKE_POOL_REGISTRATION:3}},CardanoPoolRelayType:{values:{SINGLE_HOST_IP:0,SINGLE_HOST_NAME:1,MULTIPLE_HOST_NAME:2}},CardanoTxAuxiliaryDataSupplementType:{values:{NONE:0,GOVERNANCE_REGISTRATION_SIGNATURE:1}},CardanoGovernanceRegistrationFormat:{values:{CIP15:0,CIP36:1}},CardanoTxSigningMode:{values:{ORDINARY_TRANSACTION:0,POOL_REGISTRATION_AS_OWNER:1,MULTISIG_TRANSACTION:2,PLUTUS_TRANSACTION:3}},CardanoTxWitnessType:{values:{BYRON_WITNESS:0,SHELLEY_WITNESS:1}},CardanoBlockchainPointerType:{fields:{block_index:{rule:"required",type:"uint32",id:1},tx_index:{rule:"required",type:"uint32",id:2},certificate_index:{rule:"required",type:"uint32",id:3}}},CardanoNativeScript:{fields:{type:{rule:"required",type:"CardanoNativeScriptType",id:1},scripts:{rule:"repeated",type:"CardanoNativeScript",id:2},key_hash:{type:"bytes",id:3},key_path:{rule:"repeated",type:"uint32",id:4,options:{packed:!1}},required_signatures_count:{type:"uint32",id:5},invalid_before:{type:"uint64",id:6},invalid_hereafter:{type:"uint64",id:7}}},CardanoGetNativeScriptHash:{fields:{script:{rule:"required",type:"CardanoNativeScript",id:1},display_format:{rule:"required",type:"CardanoNativeScriptHashDisplayFormat",id:2},derivation_type:{rule:"required",type:"CardanoDerivationType",id:3}}},CardanoNativeScriptHash:{fields:{script_hash:{rule:"required",type:"bytes",id:1}}},CardanoAddressParametersType:{fields:{address_type:{rule:"required",type:"CardanoAddressType",id:1},address_n:{rule:"repeated",type:"uint32",id:2,options:{packed:!1}},address_n_staking:{rule:"repeated",type:"uint32",id:3,options:{packed:!1}},staking_key_hash:{type:"bytes",id:4},certificate_pointer:{type:"CardanoBlockchainPointerType",id:5},script_payment_hash:{type:"bytes",id:6},script_staking_hash:{type:"bytes",id:7}}},CardanoGetAddress:{fields:{show_display:{type:"bool",id:2,options:{default:!1}},protocol_magic:{rule:"required",type:"uint32",id:3},network_id:{rule:"required",type:"uint32",id:4},address_parameters:{rule:"required",type:"CardanoAddressParametersType",id:5},derivation_type:{rule:"required",type:"CardanoDerivationType",id:6}}},CardanoAddress:{fields:{address:{rule:"required",type:"string",id:1}}},CardanoGetPublicKey:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2},derivation_type:{rule:"required",type:"CardanoDerivationType",id:3}}},CardanoPublicKey:{fields:{xpub:{rule:"required",type:"string",id:1},node:{rule:"required",type:"HDNodeType",id:2}}},CardanoSignTxInit:{fields:{signing_mode:{rule:"required",type:"CardanoTxSigningMode",id:1},protocol_magic:{rule:"required",type:"uint32",id:2},network_id:{rule:"required",type:"uint32",id:3},inputs_count:{rule:"required",type:"uint32",id:4},outputs_count:{rule:"required",type:"uint32",id:5},fee:{rule:"required",type:"uint64",id:6},ttl:{type:"uint64",id:7},certificates_count:{rule:"required",type:"uint32",id:8},withdrawals_count:{rule:"required",type:"uint32",id:9},has_auxiliary_data:{rule:"required",type:"bool",id:10},validity_interval_start:{type:"uint64",id:11},witness_requests_count:{rule:"required",type:"uint32",id:12},minting_asset_groups_count:{rule:"required",type:"uint32",id:13},derivation_type:{rule:"required",type:"CardanoDerivationType",id:14},include_network_id:{type:"bool",id:15,options:{default:!1}},script_data_hash:{type:"bytes",id:16},collateral_inputs_count:{rule:"required",type:"uint32",id:17},required_signers_count:{rule:"required",type:"uint32",id:18},has_collateral_return:{type:"bool",id:19,options:{default:!1}},total_collateral:{type:"uint64",id:20},reference_inputs_count:{type:"uint32",id:21,options:{default:0}}}},CardanoTxInput:{fields:{prev_hash:{rule:"required",type:"bytes",id:1},prev_index:{rule:"required",type:"uint32",id:2}}},CardanoTxOutput:{fields:{address:{type:"string",id:1},address_parameters:{type:"CardanoAddressParametersType",id:2},amount:{rule:"required",type:"uint64",id:3},asset_groups_count:{rule:"required",type:"uint32",id:4},datum_hash:{type:"bytes",id:5},format:{type:"CardanoTxOutputSerializationFormat",id:6,options:{default:"ARRAY_LEGACY"}},inline_datum_size:{type:"uint32",id:7,options:{default:0}},reference_script_size:{type:"uint32",id:8,options:{default:0}}}},CardanoAssetGroup:{fields:{policy_id:{rule:"required",type:"bytes",id:1},tokens_count:{rule:"required",type:"uint32",id:2}}},CardanoToken:{fields:{asset_name_bytes:{rule:"required",type:"bytes",id:1},amount:{type:"uint64",id:2},mint_amount:{type:"sint64",id:3}}},CardanoTxInlineDatumChunk:{fields:{data:{rule:"required",type:"bytes",id:1}}},CardanoTxReferenceScriptChunk:{fields:{data:{rule:"required",type:"bytes",id:1}}},CardanoPoolOwner:{fields:{staking_key_path:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},staking_key_hash:{type:"bytes",id:2}}},CardanoPoolRelayParameters:{fields:{type:{rule:"required",type:"CardanoPoolRelayType",id:1},ipv4_address:{type:"bytes",id:2},ipv6_address:{type:"bytes",id:3},host_name:{type:"string",id:4},port:{type:"uint32",id:5}}},CardanoPoolMetadataType:{fields:{url:{rule:"required",type:"string",id:1},hash:{rule:"required",type:"bytes",id:2}}},CardanoPoolParametersType:{fields:{pool_id:{rule:"required",type:"bytes",id:1},vrf_key_hash:{rule:"required",type:"bytes",id:2},pledge:{rule:"required",type:"uint64",id:3},cost:{rule:"required",type:"uint64",id:4},margin_numerator:{rule:"required",type:"uint64",id:5},margin_denominator:{rule:"required",type:"uint64",id:6},reward_account:{rule:"required",type:"string",id:7},metadata:{type:"CardanoPoolMetadataType",id:10},owners_count:{rule:"required",type:"uint32",id:11},relays_count:{rule:"required",type:"uint32",id:12}}},CardanoTxCertificate:{fields:{type:{rule:"required",type:"CardanoCertificateType",id:1},path:{rule:"repeated",type:"uint32",id:2,options:{packed:!1}},pool:{type:"bytes",id:3},pool_parameters:{type:"CardanoPoolParametersType",id:4},script_hash:{type:"bytes",id:5},key_hash:{type:"bytes",id:6}}},CardanoTxWithdrawal:{fields:{path:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},amount:{rule:"required",type:"uint64",id:2},script_hash:{type:"bytes",id:3},key_hash:{type:"bytes",id:4}}},CardanoGovernanceRegistrationDelegation:{fields:{voting_public_key:{rule:"required",type:"bytes",id:1},weight:{rule:"required",type:"uint32",id:2}}},CardanoGovernanceRegistrationParametersType:{fields:{voting_public_key:{type:"bytes",id:1},staking_path:{rule:"repeated",type:"uint32",id:2,options:{packed:!1}},reward_address_parameters:{rule:"required",type:"CardanoAddressParametersType",id:3},nonce:{rule:"required",type:"uint64",id:4},format:{type:"CardanoGovernanceRegistrationFormat",id:5,options:{default:"CIP15"}},delegations:{rule:"repeated",type:"CardanoGovernanceRegistrationDelegation",id:6},voting_purpose:{type:"uint64",id:7}}},CardanoTxAuxiliaryData:{fields:{governance_registration_parameters:{type:"CardanoGovernanceRegistrationParametersType",id:1},hash:{type:"bytes",id:2}}},CardanoTxMint:{fields:{asset_groups_count:{rule:"required",type:"uint32",id:1}}},CardanoTxCollateralInput:{fields:{prev_hash:{rule:"required",type:"bytes",id:1},prev_index:{rule:"required",type:"uint32",id:2}}},CardanoTxRequiredSigner:{fields:{key_hash:{type:"bytes",id:1},key_path:{rule:"repeated",type:"uint32",id:2,options:{packed:!1}}}},CardanoTxReferenceInput:{fields:{prev_hash:{rule:"required",type:"bytes",id:1},prev_index:{rule:"required",type:"uint32",id:2}}},CardanoTxItemAck:{fields:{}},CardanoTxAuxiliaryDataSupplement:{fields:{type:{rule:"required",type:"CardanoTxAuxiliaryDataSupplementType",id:1},auxiliary_data_hash:{type:"bytes",id:2},governance_signature:{type:"bytes",id:3}}},CardanoTxWitnessRequest:{fields:{path:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}}}},CardanoTxWitnessResponse:{fields:{type:{rule:"required",type:"CardanoTxWitnessType",id:1},pub_key:{rule:"required",type:"bytes",id:2},signature:{rule:"required",type:"bytes",id:3},chain_code:{type:"bytes",id:4}}},CardanoTxHostAck:{fields:{}},CardanoTxBodyHash:{fields:{tx_hash:{rule:"required",type:"bytes",id:1}}},CardanoSignTxFinished:{fields:{}},CardanoSignMessage:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},message:{rule:"required",type:"bytes",id:2},derivation_type:{rule:"required",type:"CardanoDerivationType",id:3},network_id:{rule:"required",type:"uint32",id:4},address_type:{type:"CardanoAddressType",id:5}}},CardanoMessageSignature:{fields:{signature:{rule:"required",type:"bytes",id:1},key:{rule:"required",type:"bytes",id:2}}},Success:{fields:{message:{type:"string",id:1,options:{default:""}}}},Failure:{fields:{code:{type:"FailureType",id:1},message:{type:"string",id:2}},nested:{FailureType:{values:{Failure_UnexpectedMessage:1,Failure_ButtonExpected:2,Failure_DataError:3,Failure_ActionCancelled:4,Failure_PinExpected:5,Failure_PinCancelled:6,Failure_PinInvalid:7,Failure_InvalidSignature:8,Failure_ProcessError:9,Failure_NotEnoughFunds:10,Failure_NotInitialized:11,Failure_PinMismatch:12,Failure_WipeCodeMismatch:13,Failure_InvalidSession:14,Failure_FirmwareError:99}}}},ButtonRequest:{fields:{code:{type:"ButtonRequestType",id:1},pages:{type:"uint32",id:2}},nested:{ButtonRequestType:{values:{ButtonRequest_Other:1,ButtonRequest_FeeOverThreshold:2,ButtonRequest_ConfirmOutput:3,ButtonRequest_ResetDevice:4,ButtonRequest_ConfirmWord:5,ButtonRequest_WipeDevice:6,ButtonRequest_ProtectCall:7,ButtonRequest_SignTx:8,ButtonRequest_FirmwareCheck:9,ButtonRequest_Address:10,ButtonRequest_PublicKey:11,ButtonRequest_MnemonicWordCount:12,ButtonRequest_MnemonicInput:13,_Deprecated_ButtonRequest_PassphraseType:14,ButtonRequest_UnknownDerivationPath:15,ButtonRequest_RecoveryHomepage:16,ButtonRequest_Success:17,ButtonRequest_Warning:18,ButtonRequest_PassphraseEntry:19,ButtonRequest_PinEntry:20}}}},ButtonAck:{fields:{}},PinMatrixRequest:{fields:{type:{type:"PinMatrixRequestType",id:1}},nested:{PinMatrixRequestType:{values:{PinMatrixRequestType_Current:1,PinMatrixRequestType_NewFirst:2,PinMatrixRequestType_NewSecond:3,PinMatrixRequestType_WipeCodeFirst:4,PinMatrixRequestType_WipeCodeSecond:5,PinMatrixRequestType_BackupFirst:6,PinMatrixRequestType_BackupSecond:7}}}},PinMatrixAck:{fields:{pin:{rule:"required",type:"string",id:1},new_pin:{type:"string",id:2}}},PassphraseRequest:{fields:{_on_device:{type:"bool",id:1,options:{deprecated:!0}}}},PassphraseAck:{fields:{passphrase:{type:"string",id:1},_state:{type:"bytes",id:2,options:{deprecated:!0}},on_device:{type:"bool",id:3}}},Deprecated_PassphraseStateRequest:{options:{deprecated:!0},fields:{state:{type:"bytes",id:1}}},Deprecated_PassphraseStateAck:{options:{deprecated:!0},fields:{}},HDNodeType:{fields:{depth:{rule:"required",type:"uint32",id:1},fingerprint:{rule:"required",type:"uint32",id:2},child_num:{rule:"required",type:"uint32",id:3},chain_code:{rule:"required",type:"bytes",id:4},private_key:{type:"bytes",id:5},public_key:{rule:"required",type:"bytes",id:6}}},BixinPinInputOnDevice:{fields:{}},ConfluxGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2},chain_id:{type:"uint32",id:3}}},ConfluxAddress:{fields:{address:{type:"string",id:1}}},ConfluxSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},nonce:{type:"bytes",id:2},gas_price:{type:"bytes",id:3},gas_limit:{type:"bytes",id:4},to:{type:"string",id:5},value:{type:"bytes",id:6},epoch_height:{type:"bytes",id:7},storage_limit:{type:"bytes",id:8},data_initial_chunk:{type:"bytes",id:9},data_length:{type:"uint32",id:10},chain_id:{type:"uint32",id:11}}},ConfluxTxRequest:{fields:{data_length:{type:"uint32",id:1},signature_v:{type:"uint32",id:2},signature_r:{type:"bytes",id:3},signature_s:{type:"bytes",id:4}}},ConfluxTxAck:{fields:{data_chunk:{type:"bytes",id:1}}},ConfluxSignMessage:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},message:{type:"bytes",id:2}}},ConfluxMessageSignature:{fields:{signature:{type:"bytes",id:2},address:{type:"string",id:3}}},ConfluxSignMessageCIP23:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},domain_hash:{type:"bytes",id:2},message_hash:{type:"bytes",id:3}}},CosmosGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},hrp:{type:"string",id:2},show_display:{type:"bool",id:3}}},CosmosAddress:{fields:{address:{type:"string",id:1}}},CosmosSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},raw_tx:{rule:"required",type:"bytes",id:2}}},CosmosSignedTx:{fields:{signature:{rule:"required",type:"bytes",id:1}}},CipherKeyValue:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},key:{rule:"required",type:"string",id:2},value:{rule:"required",type:"bytes",id:3},encrypt:{type:"bool",id:4},ask_on_encrypt:{type:"bool",id:5},ask_on_decrypt:{type:"bool",id:6},iv:{type:"bytes",id:7}}},CipheredKeyValue:{fields:{value:{rule:"required",type:"bytes",id:1}}},IdentityType:{fields:{proto:{type:"string",id:1},user:{type:"string",id:2},host:{type:"string",id:3},port:{type:"string",id:4},path:{type:"string",id:5},index:{type:"uint32",id:6,options:{default:0}}}},SignIdentity:{fields:{identity:{rule:"required",type:"IdentityType",id:1},challenge_hidden:{type:"bytes",id:2,options:{default:""}},challenge_visual:{type:"string",id:3,options:{default:""}},ecdsa_curve_name:{type:"string",id:4}}},SignedIdentity:{fields:{address:{type:"string",id:1},public_key:{rule:"required",type:"bytes",id:2},signature:{rule:"required",type:"bytes",id:3}}},GetECDHSessionKey:{fields:{identity:{rule:"required",type:"IdentityType",id:1},peer_public_key:{rule:"required",type:"bytes",id:2},ecdsa_curve_name:{type:"string",id:3}}},ECDHSessionKey:{fields:{session_key:{rule:"required",type:"bytes",id:1},public_key:{type:"bytes",id:2}}},CosiCommit:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},data:{type:"bytes",id:2}}},CosiCommitment:{fields:{commitment:{type:"bytes",id:1},pubkey:{type:"bytes",id:2}}},CosiSign:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},data:{type:"bytes",id:2},global_commitment:{type:"bytes",id:3},global_pubkey:{type:"bytes",id:4}}},CosiSignature:{fields:{signature:{rule:"required",type:"bytes",id:1}}},BatchGetPublickeys:{fields:{ecdsa_curve_name:{type:"string",id:1,options:{default:"ed25519"}},paths:{rule:"repeated",type:"Path",id:2}},nested:{Path:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}}}}}},EcdsaPublicKeys:{fields:{public_keys:{rule:"repeated",type:"bytes",id:1}}},DebugLinkDecision:{fields:{yes_no:{type:"bool",id:1},swipe:{type:"DebugSwipeDirection",id:2},input:{type:"string",id:3},x:{type:"uint32",id:4},y:{type:"uint32",id:5},wait:{type:"bool",id:6},hold_ms:{type:"uint32",id:7}},nested:{DebugSwipeDirection:{values:{UP:0,DOWN:1,LEFT:2,RIGHT:3}}}},DebugLinkLayout:{fields:{lines:{rule:"repeated",type:"string",id:1}}},DebugLinkReseedRandom:{fields:{value:{type:"uint32",id:1}}},DebugLinkRecordScreen:{fields:{target_directory:{type:"string",id:1}}},DebugLinkGetState:{fields:{wait_word_list:{type:"bool",id:1},wait_word_pos:{type:"bool",id:2},wait_layout:{type:"bool",id:3}}},DebugLinkState:{fields:{layout:{type:"bytes",id:1},pin:{type:"string",id:2},matrix:{type:"string",id:3},mnemonic_secret:{type:"bytes",id:4},node:{type:"HDNodeType",id:5},passphrase_protection:{type:"bool",id:6},reset_word:{type:"string",id:7},reset_entropy:{type:"bytes",id:8},recovery_fake_word:{type:"string",id:9},recovery_word_pos:{type:"uint32",id:10},reset_word_pos:{type:"uint32",id:11},mnemonic_type:{type:"BackupType",id:12},layout_lines:{rule:"repeated",type:"string",id:13}}},DebugLinkStop:{fields:{}},DebugLinkLog:{fields:{level:{type:"uint32",id:1},bucket:{type:"string",id:2},text:{type:"string",id:3}}},DebugLinkMemoryRead:{fields:{address:{type:"uint32",id:1},length:{type:"uint32",id:2}}},DebugLinkMemory:{fields:{memory:{type:"bytes",id:1}}},DebugLinkMemoryWrite:{fields:{address:{type:"uint32",id:1},memory:{type:"bytes",id:2},flash:{type:"bool",id:3}}},DebugLinkFlashErase:{fields:{sector:{type:"uint32",id:1}}},DebugLinkEraseSdCard:{fields:{format:{type:"bool",id:1}}},DebugLinkWatchLayout:{fields:{watch:{type:"bool",id:1}}},DnxGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2}}},DnxAddress:{fields:{address:{type:"string",id:1}}},DnxSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},inputs_count:{rule:"required",type:"uint32",id:2},to_address:{rule:"required",type:"string",id:3},amount:{rule:"required",type:"uint64",id:4},fee:{rule:"required",type:"uint64",id:5},payment_id:{type:"bytes",id:6}}},DnxInputRequest:{fields:{request_index:{type:"uint32",id:1},tx_key:{type:"DnxTxKey",id:2},computed_key_image:{type:"DnxComputedKeyImage",id:3}},nested:{DnxTxKey:{fields:{ephemeral_tx_sec_key:{type:"bytes",id:1},ephemeral_tx_pub_key:{type:"bytes",id:2}}},DnxComputedKeyImage:{fields:{key_image:{type:"bytes",id:1}}}}},DnxInputAck:{fields:{prev_index:{rule:"required",type:"uint32",id:1},global_index:{rule:"required",type:"uint32",id:2},tx_pubkey:{rule:"required",type:"bytes",id:3},prev_out_pubkey:{rule:"required",type:"bytes",id:4},amount:{rule:"required",type:"uint64",id:5}}},DnxRTSigsRequest:{fields:{}},DnxSignedTx:{fields:{signatures:{rule:"repeated",type:"bytes",id:1},output_keys:{rule:"repeated",type:"bytes",id:2}}},EmmcFixPermission:{fields:{}},EmmcPath:{fields:{exist:{rule:"required",type:"bool",id:1},size:{rule:"required",type:"uint64",id:2},year:{rule:"required",type:"uint32",id:3},month:{rule:"required",type:"uint32",id:4},day:{rule:"required",type:"uint32",id:5},hour:{rule:"required",type:"uint32",id:6},minute:{rule:"required",type:"uint32",id:7},second:{rule:"required",type:"uint32",id:8},readonly:{rule:"required",type:"bool",id:9},hidden:{rule:"required",type:"bool",id:10},system:{rule:"required",type:"bool",id:11},archive:{rule:"required",type:"bool",id:12},directory:{rule:"required",type:"bool",id:13}}},EmmcPathInfo:{fields:{path:{rule:"required",type:"string",id:1}}},EmmcFile:{fields:{path:{rule:"required",type:"string",id:1},offset:{rule:"required",type:"uint32",id:2},len:{rule:"required",type:"uint32",id:3},data:{type:"bytes",id:4},data_hash:{type:"uint32",id:5},processed_byte:{type:"uint32",id:6}}},EmmcFileRead:{fields:{file:{rule:"required",type:"EmmcFile",id:1},ui_percentage:{type:"uint32",id:2}}},EmmcFileWrite:{fields:{file:{rule:"required",type:"EmmcFile",id:1},overwrite:{rule:"required",type:"bool",id:2},append:{rule:"required",type:"bool",id:3},ui_percentage:{type:"uint32",id:4}}},EmmcFileDelete:{fields:{path:{rule:"required",type:"string",id:1}}},EmmcDir:{fields:{path:{rule:"required",type:"string",id:1},child_dirs:{type:"string",id:2},child_files:{type:"string",id:3}}},EmmcDirList:{fields:{path:{rule:"required",type:"string",id:1}}},EmmcDirMake:{fields:{path:{rule:"required",type:"string",id:1}}},EmmcDirRemove:{fields:{path:{rule:"required",type:"string",id:1}}},EosGetPublicKey:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2}}},EosPublicKey:{fields:{wif_public_key:{rule:"required",type:"string",id:1},raw_public_key:{rule:"required",type:"bytes",id:2}}},EosSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},chain_id:{type:"bytes",id:2},header:{type:"EosTxHeader",id:3},num_actions:{type:"uint32",id:4}},nested:{EosTxHeader:{fields:{expiration:{rule:"required",type:"uint32",id:1},ref_block_num:{rule:"required",type:"uint32",id:2},ref_block_prefix:{rule:"required",type:"uint32",id:3},max_net_usage_words:{rule:"required",type:"uint32",id:4},max_cpu_usage_ms:{rule:"required",type:"uint32",id:5},delay_sec:{rule:"required",type:"uint32",id:6}}}}},EosTxActionRequest:{fields:{data_size:{type:"uint32",id:1}}},EosTxActionAck:{fields:{common:{type:"EosActionCommon",id:1},transfer:{type:"EosActionTransfer",id:2},delegate:{type:"EosActionDelegate",id:3},undelegate:{type:"EosActionUndelegate",id:4},refund:{type:"EosActionRefund",id:5},buy_ram:{type:"EosActionBuyRam",id:6},buy_ram_bytes:{type:"EosActionBuyRamBytes",id:7},sell_ram:{type:"EosActionSellRam",id:8},vote_producer:{type:"EosActionVoteProducer",id:9},update_auth:{type:"EosActionUpdateAuth",id:10},delete_auth:{type:"EosActionDeleteAuth",id:11},link_auth:{type:"EosActionLinkAuth",id:12},unlink_auth:{type:"EosActionUnlinkAuth",id:13},new_account:{type:"EosActionNewAccount",id:14},unknown:{type:"EosActionUnknown",id:15}},nested:{EosAsset:{fields:{amount:{type:"sint64",id:1},symbol:{type:"uint64",id:2}}},EosPermissionLevel:{fields:{actor:{type:"uint64",id:1},permission:{type:"uint64",id:2}}},EosAuthorizationKey:{fields:{type:{rule:"required",type:"uint32",id:1},key:{type:"bytes",id:2},address_n:{rule:"repeated",type:"uint32",id:3,options:{packed:!1}},weight:{rule:"required",type:"uint32",id:4}}},EosAuthorizationAccount:{fields:{account:{type:"EosPermissionLevel",id:1},weight:{type:"uint32",id:2}}},EosAuthorizationWait:{fields:{wait_sec:{type:"uint32",id:1},weight:{type:"uint32",id:2}}},EosAuthorization:{fields:{threshold:{type:"uint32",id:1},keys:{rule:"repeated",type:"EosAuthorizationKey",id:2},accounts:{rule:"repeated",type:"EosAuthorizationAccount",id:3},waits:{rule:"repeated",type:"EosAuthorizationWait",id:4}}},EosActionCommon:{fields:{account:{type:"uint64",id:1},name:{type:"uint64",id:2},authorization:{rule:"repeated",type:"EosPermissionLevel",id:3}}},EosActionTransfer:{fields:{sender:{type:"uint64",id:1},receiver:{type:"uint64",id:2},quantity:{type:"EosAsset",id:3},memo:{type:"string",id:4}}},EosActionDelegate:{fields:{sender:{type:"uint64",id:1},receiver:{type:"uint64",id:2},net_quantity:{type:"EosAsset",id:3},cpu_quantity:{type:"EosAsset",id:4},transfer:{type:"bool",id:5}}},EosActionUndelegate:{fields:{sender:{type:"uint64",id:1},receiver:{type:"uint64",id:2},net_quantity:{type:"EosAsset",id:3},cpu_quantity:{type:"EosAsset",id:4}}},EosActionRefund:{fields:{owner:{type:"uint64",id:1}}},EosActionBuyRam:{fields:{payer:{type:"uint64",id:1},receiver:{type:"uint64",id:2},quantity:{type:"EosAsset",id:3}}},EosActionBuyRamBytes:{fields:{payer:{type:"uint64",id:1},receiver:{type:"uint64",id:2},bytes:{type:"uint32",id:3}}},EosActionSellRam:{fields:{account:{type:"uint64",id:1},bytes:{type:"uint64",id:2}}},EosActionVoteProducer:{fields:{voter:{type:"uint64",id:1},proxy:{type:"uint64",id:2},producers:{rule:"repeated",type:"uint64",id:3,options:{packed:!1}}}},EosActionUpdateAuth:{fields:{account:{type:"uint64",id:1},permission:{type:"uint64",id:2},parent:{type:"uint64",id:3},auth:{type:"EosAuthorization",id:4}}},EosActionDeleteAuth:{fields:{account:{type:"uint64",id:1},permission:{type:"uint64",id:2}}},EosActionLinkAuth:{fields:{account:{type:"uint64",id:1},code:{type:"uint64",id:2},type:{type:"uint64",id:3},requirement:{type:"uint64",id:4}}},EosActionUnlinkAuth:{fields:{account:{type:"uint64",id:1},code:{type:"uint64",id:2},type:{type:"uint64",id:3}}},EosActionNewAccount:{fields:{creator:{type:"uint64",id:1},name:{type:"uint64",id:2},owner:{type:"EosAuthorization",id:3},active:{type:"EosAuthorization",id:4}}},EosActionUnknown:{fields:{data_size:{rule:"required",type:"uint32",id:1},data_chunk:{type:"bytes",id:2}}}}},EosSignedTx:{fields:{signature:{rule:"required",type:"string",id:1}}},EthereumDefinitionType:{values:{NETWORK:0,TOKEN:1}},EthereumNetworkInfo:{fields:{chain_id:{rule:"required",type:"uint64",id:1},symbol:{rule:"required",type:"string",id:2},slip44:{rule:"required",type:"uint32",id:3},name:{rule:"required",type:"string",id:4},icon:{type:"string",id:101},primary_color:{type:"uint64",id:102}}},EthereumTokenInfo:{fields:{address:{rule:"required",type:"bytes",id:1},chain_id:{rule:"required",type:"uint64",id:2},symbol:{rule:"required",type:"string",id:3},decimals:{rule:"required",type:"uint32",id:4},name:{rule:"required",type:"string",id:5}}},EthereumDefinitions:{fields:{encoded_network:{type:"bytes",id:1},encoded_token:{type:"bytes",id:2}}},EthereumSignTypedDataOneKey:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},primary_type:{rule:"required",type:"string",id:2},metamask_v4_compat:{type:"bool",id:3,options:{default:!0}},chain_id:{type:"uint64",id:4}}},EthereumTypedDataStructRequestOneKey:{fields:{name:{rule:"required",type:"string",id:1}}},EthereumTypedDataStructAckOneKey:{fields:{members:{rule:"repeated",type:"EthereumStructMemberOneKey",id:1}},nested:{EthereumStructMemberOneKey:{fields:{type:{rule:"required",type:"EthereumFieldTypeOneKey",id:1},name:{rule:"required",type:"string",id:2}}},EthereumFieldTypeOneKey:{fields:{data_type:{rule:"required",type:"EthereumDataTypeOneKey",id:1},size:{type:"uint32",id:2},entry_type:{type:"EthereumFieldTypeOneKey",id:3},struct_name:{type:"string",id:4}}},EthereumDataTypeOneKey:{values:{UINT:1,INT:2,BYTES:3,STRING:4,BOOL:5,ADDRESS:6,ARRAY:7,STRUCT:8}}}},EthereumTypedDataValueRequestOneKey:{fields:{member_path:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}}}},EthereumTypedDataValueAckOneKey:{fields:{value:{rule:"required",type:"bytes",id:1}}},EthereumSignTypedData:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},primary_type:{rule:"required",type:"string",id:2},metamask_v4_compat:{type:"bool",id:3,options:{default:!0}},definitions:{type:"EthereumDefinitions",id:4}}},EthereumTypedDataStructRequest:{fields:{name:{rule:"required",type:"string",id:1}}},EthereumTypedDataStructAck:{fields:{members:{rule:"repeated",type:"EthereumStructMember",id:1}},nested:{EthereumStructMember:{fields:{type:{rule:"required",type:"EthereumFieldType",id:1},name:{rule:"required",type:"string",id:2}}},EthereumFieldType:{fields:{data_type:{rule:"required",type:"EthereumDataType",id:1},size:{type:"uint32",id:2},entry_type:{type:"EthereumFieldType",id:3},struct_name:{type:"string",id:4}}},EthereumDataType:{values:{UINT:1,INT:2,BYTES:3,STRING:4,BOOL:5,ADDRESS:6,ARRAY:7,STRUCT:8}}}},EthereumTypedDataValueRequest:{fields:{member_path:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}}}},EthereumTypedDataValueAck:{fields:{value:{rule:"required",type:"bytes",id:1}}},EthereumGetPublicKeyOneKey:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2},chain_id:{type:"uint64",id:3}}},EthereumPublicKeyOneKey:{fields:{node:{rule:"required",type:"HDNodeType",id:1},xpub:{rule:"required",type:"string",id:2}}},EthereumGetAddressOneKey:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2},chain_id:{type:"uint64",id:3}}},EthereumAddressOneKey:{fields:{_old_address:{type:"bytes",id:1,options:{deprecated:!0}},address:{type:"string",id:2}}},EthereumSignTxOneKey:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},nonce:{type:"bytes",id:2,options:{default:""}},gas_price:{rule:"required",type:"bytes",id:3},gas_limit:{rule:"required",type:"bytes",id:4},to:{type:"string",id:11,options:{default:""}},value:{type:"bytes",id:6,options:{default:""}},data_initial_chunk:{type:"bytes",id:7,options:{default:""}},data_length:{type:"uint32",id:8,options:{default:0}},chain_id:{rule:"required",type:"uint64",id:9},tx_type:{type:"uint32",id:10}}},EthereumSignTxEIP1559OneKey:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},nonce:{rule:"required",type:"bytes",id:2},max_gas_fee:{rule:"required",type:"bytes",id:3},max_priority_fee:{rule:"required",type:"bytes",id:4},gas_limit:{rule:"required",type:"bytes",id:5},to:{type:"string",id:6,options:{default:""}},value:{rule:"required",type:"bytes",id:7},data_initial_chunk:{type:"bytes",id:8,options:{default:""}},data_length:{rule:"required",type:"uint32",id:9},chain_id:{rule:"required",type:"uint64",id:10},access_list:{rule:"repeated",type:"EthereumAccessListOneKey",id:11}},nested:{EthereumAccessListOneKey:{fields:{address:{rule:"required",type:"string",id:1},storage_keys:{rule:"repeated",type:"bytes",id:2}}}}},EthereumTxRequestOneKey:{fields:{data_length:{type:"uint32",id:1},signature_v:{type:"uint32",id:2},signature_r:{type:"bytes",id:3},signature_s:{type:"bytes",id:4}}},EthereumTxAckOneKey:{fields:{data_chunk:{rule:"required",type:"bytes",id:1}}},EthereumSignMessageOneKey:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},message:{rule:"required",type:"bytes",id:2},chain_id:{type:"uint64",id:3}}},EthereumMessageSignatureOneKey:{fields:{signature:{rule:"required",type:"bytes",id:2},address:{rule:"required",type:"string",id:3}}},EthereumVerifyMessageOneKey:{fields:{signature:{rule:"required",type:"bytes",id:2},message:{rule:"required",type:"bytes",id:3},address:{rule:"required",type:"string",id:4},chain_id:{type:"uint64",id:5}}},EthereumSignTypedHashOneKey:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},domain_separator_hash:{rule:"required",type:"bytes",id:2},message_hash:{type:"bytes",id:3},chain_id:{type:"uint64",id:4}}},EthereumTypedDataSignatureOneKey:{fields:{signature:{rule:"required",type:"bytes",id:1},address:{rule:"required",type:"string",id:2}}},EthereumSignMessageEIP712:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},domain_hash:{type:"bytes",id:2},message_hash:{type:"bytes",id:3}}},EthereumGetPublicKey:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2}}},EthereumPublicKey:{fields:{node:{rule:"required",type:"HDNodeType",id:1},xpub:{rule:"required",type:"string",id:2}}},EthereumGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2},encoded_network:{type:"bytes",id:3}}},EthereumAddress:{fields:{_old_address:{type:"bytes",id:1,options:{deprecated:!0}},address:{type:"string",id:2}}},EthereumSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},nonce:{type:"bytes",id:2,options:{default:""}},gas_price:{rule:"required",type:"bytes",id:3},gas_limit:{rule:"required",type:"bytes",id:4},to:{type:"string",id:11,options:{default:""}},value:{type:"bytes",id:6,options:{default:""}},data_initial_chunk:{type:"bytes",id:7,options:{default:""}},data_length:{type:"uint32",id:8,options:{default:0}},chain_id:{rule:"required",type:"uint64",id:9},tx_type:{type:"uint32",id:10},definitions:{type:"EthereumDefinitions",id:12}}},EthereumSignTxEIP1559:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},nonce:{rule:"required",type:"bytes",id:2},max_gas_fee:{rule:"required",type:"bytes",id:3},max_priority_fee:{rule:"required",type:"bytes",id:4},gas_limit:{rule:"required",type:"bytes",id:5},to:{type:"string",id:6,options:{default:""}},value:{rule:"required",type:"bytes",id:7},data_initial_chunk:{type:"bytes",id:8,options:{default:""}},data_length:{rule:"required",type:"uint32",id:9},chain_id:{rule:"required",type:"uint64",id:10},access_list:{rule:"repeated",type:"EthereumAccessList",id:11},definitions:{type:"EthereumDefinitions",id:12}},nested:{EthereumAccessList:{fields:{address:{rule:"required",type:"string",id:1},storage_keys:{rule:"repeated",type:"bytes",id:2}}}}},EthereumTxRequest:{fields:{data_length:{type:"uint32",id:1},signature_v:{type:"uint32",id:2},signature_r:{type:"bytes",id:3},signature_s:{type:"bytes",id:4}}},EthereumTxAck:{fields:{data_chunk:{rule:"required",type:"bytes",id:1}}},EthereumSignMessage:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},message:{rule:"required",type:"bytes",id:2},encoded_network:{type:"bytes",id:3}}},EthereumMessageSignature:{fields:{signature:{rule:"required",type:"bytes",id:2},address:{rule:"required",type:"string",id:3}}},EthereumVerifyMessage:{fields:{signature:{rule:"required",type:"bytes",id:2},message:{rule:"required",type:"bytes",id:3},address:{rule:"required",type:"string",id:4}}},EthereumSignTypedHash:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},domain_separator_hash:{rule:"required",type:"bytes",id:2},message_hash:{type:"bytes",id:3},encoded_network:{type:"bytes",id:4}}},EthereumTypedDataSignature:{fields:{signature:{rule:"required",type:"bytes",id:1},address:{rule:"required",type:"string",id:2}}},FilecoinGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2},testnet:{type:"bool",id:3}}},FilecoinAddress:{fields:{address:{type:"string",id:1}}},FilecoinSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},raw_tx:{rule:"required",type:"bytes",id:2},testnet:{type:"bool",id:3}}},FilecoinSignedTx:{fields:{signature:{rule:"required",type:"bytes",id:1}}},KaspaGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2},prefix:{type:"string",id:3,options:{default:"kaspa"}},scheme:{type:"string",id:4,options:{default:"schnorr"}}}},KaspaAddress:{fields:{address:{rule:"required",type:"string",id:1}}},KaspaSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},raw_message:{rule:"required",type:"bytes",id:2},scheme:{type:"string",id:3,options:{default:"schnorr"}},prefix:{type:"string",id:4,options:{default:"kaspa"}},input_count:{type:"uint32",id:5,options:{default:1}}}},KaspaTxInputRequest:{fields:{request_index:{rule:"required",type:"uint32",id:1},signature:{type:"bytes",id:2}}},KaspaTxInputAck:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},raw_message:{rule:"required",type:"bytes",id:2}}},KaspaSignedTx:{fields:{signature:{rule:"required",type:"bytes",id:2}}},LnurlAuth:{fields:{domain:{rule:"required",type:"bytes",id:2},data:{rule:"required",type:"bytes",id:3}}},LnurlAuthResp:{fields:{publickey:{type:"string",id:1},path:{type:"string",id:2},signature:{type:"bytes",id:3}}},BackupType:{values:{Bip39:0,Slip39_Basic:1,Slip39_Advanced:2}},SafetyCheckLevel:{values:{Strict:0,PromptAlways:1,PromptTemporarily:2}},Initialize:{fields:{session_id:{type:"bytes",id:1},_skip_passphrase:{type:"bool",id:2,options:{deprecated:!0}},derive_cardano:{type:"bool",id:3}}},GetFeatures:{fields:{}},OnekeyGetFeatures:{fields:{}},OneKeyDeviceType:{values:{CLASSIC:0,CLASSIC1S:1,MINI:2,TOUCH:3,PRO:5}},OneKeySeType:{values:{THD89:0,SE608A:1}},OneKeySEState:{values:{BOOT:0,APP:1}},Features:{fields:{vendor:{type:"string",id:1},major_version:{rule:"required",type:"uint32",id:2},minor_version:{rule:"required",type:"uint32",id:3},patch_version:{rule:"required",type:"uint32",id:4},bootloader_mode:{type:"bool",id:5},device_id:{type:"string",id:6},pin_protection:{type:"bool",id:7},passphrase_protection:{type:"bool",id:8},language:{type:"string",id:9},label:{type:"string",id:10},initialized:{type:"bool",id:12},revision:{type:"bytes",id:13},bootloader_hash:{type:"bytes",id:14},imported:{type:"bool",id:15},unlocked:{type:"bool",id:16},_passphrase_cached:{type:"bool",id:17,options:{deprecated:!0}},firmware_present:{type:"bool",id:18},needs_backup:{type:"bool",id:19},flags:{type:"uint32",id:20},model:{type:"string",id:21},fw_major:{type:"uint32",id:22},fw_minor:{type:"uint32",id:23},fw_patch:{type:"uint32",id:24},fw_vendor:{type:"string",id:25},unfinished_backup:{type:"bool",id:27},no_backup:{type:"bool",id:28},recovery_mode:{type:"bool",id:29},capabilities:{rule:"repeated",type:"Capability",id:30,options:{packed:!1}},backup_type:{type:"BackupType",id:31},sd_card_present:{type:"bool",id:32},sd_protection:{type:"bool",id:33},wipe_code_protection:{type:"bool",id:34},session_id:{type:"bytes",id:35},passphrase_always_on_device:{type:"bool",id:36},safety_checks:{type:"SafetyCheckLevel",id:37},auto_lock_delay_ms:{type:"uint32",id:38},display_rotation:{type:"uint32",id:39},experimental_features:{type:"bool",id:40},busy:{type:"bool",id:41},offset:{type:"uint32",id:500},ble_name:{type:"string",id:501},ble_ver:{type:"string",id:502},ble_enable:{type:"bool",id:503},se_enable:{type:"bool",id:504},se_ver:{type:"string",id:506},backup_only:{type:"bool",id:507},onekey_version:{type:"string",id:508},onekey_serial:{type:"string",id:509},bootloader_version:{type:"string",id:510},serial_no:{type:"string",id:511},spi_flash:{type:"string",id:512},initstates:{type:"uint32",id:513},NFT_voucher:{type:"bytes",id:514},cpu_info:{type:"string",id:515},pre_firmware:{type:"string",id:516},coin_switch:{type:"uint32",id:517},build_id:{type:"bytes",id:518},boardloader_version:{type:"string",id:519},battery_level:{type:"uint32",id:520},onekey_device_type:{type:"OneKeyDeviceType",id:600},onekey_se_type:{type:"OneKeySeType",id:601},onekey_board_version:{type:"string",id:602},onekey_board_hash:{type:"bytes",id:603},onekey_boot_version:{type:"string",id:604},onekey_boot_hash:{type:"bytes",id:605},onekey_se01_version:{type:"string",id:606},onekey_se01_hash:{type:"bytes",id:607},onekey_se01_build_id:{type:"string",id:608},onekey_firmware_version:{type:"string",id:609},onekey_firmware_hash:{type:"bytes",id:610},onekey_firmware_build_id:{type:"string",id:611},onekey_serial_no:{type:"string",id:612},onekey_boot_build_id:{type:"string",id:613},onekey_ble_name:{type:"string",id:614},onekey_ble_version:{type:"string",id:615},onekey_ble_build_id:{type:"string",id:616},onekey_ble_hash:{type:"bytes",id:617},onekey_se02_version:{type:"string",id:618},onekey_se03_version:{type:"string",id:619},onekey_se04_version:{type:"string",id:620},onekey_se01_state:{type:"OneKeySEState",id:621},onekey_se02_state:{type:"OneKeySEState",id:622},onekey_se03_state:{type:"OneKeySEState",id:623},onekey_se04_state:{type:"OneKeySEState",id:624}},nested:{Capability:{options:{"(has_bitcoin_only_values)":!0},values:{Capability_Bitcoin:1,Capability_Bitcoin_like:2,Capability_Binance:3,Capability_Cardano:4,Capability_Crypto:5,Capability_EOS:6,Capability_Ethereum:7,Capability_Lisk:8,Capability_Monero:9,Capability_NEM:10,Capability_Ripple:11,Capability_Stellar:12,Capability_Tezos:13,Capability_U2F:14,Capability_Shamir:15,Capability_ShamirGroups:16,Capability_PassphraseEntry:17}}}},OnekeyFeatures:{fields:{onekey_device_type:{type:"OneKeyDeviceType",id:1},onekey_board_version:{type:"string",id:2},onekey_boot_version:{type:"string",id:3},onekey_firmware_version:{type:"string",id:4},onekey_board_hash:{type:"bytes",id:5},onekey_boot_hash:{type:"bytes",id:6},onekey_firmware_hash:{type:"bytes",id:7},onekey_board_build_id:{type:"string",id:8},onekey_boot_build_id:{type:"string",id:9},onekey_firmware_build_id:{type:"string",id:10},onekey_serial_no:{type:"string",id:11},onekey_ble_name:{type:"string",id:12},onekey_ble_version:{type:"string",id:13},onekey_ble_build_id:{type:"string",id:14},onekey_ble_hash:{type:"bytes",id:15},onekey_se_type:{type:"OneKeySeType",id:16},onekey_se01_state:{type:"OneKeySEState",id:17},onekey_se02_state:{type:"OneKeySEState",id:18},onekey_se03_state:{type:"OneKeySEState",id:19},onekey_se04_state:{type:"OneKeySEState",id:20},onekey_se01_version:{type:"string",id:21},onekey_se02_version:{type:"string",id:22},onekey_se03_version:{type:"string",id:23},onekey_se04_version:{type:"string",id:24},onekey_se01_hash:{type:"bytes",id:25},onekey_se02_hash:{type:"bytes",id:26},onekey_se03_hash:{type:"bytes",id:27},onekey_se04_hash:{type:"bytes",id:28},onekey_se01_build_id:{type:"string",id:29},onekey_se02_build_id:{type:"string",id:30},onekey_se03_build_id:{type:"string",id:31},onekey_se04_build_id:{type:"string",id:32},onekey_se01_boot_version:{type:"string",id:33},onekey_se02_boot_version:{type:"string",id:34},onekey_se03_boot_version:{type:"string",id:35},onekey_se04_boot_version:{type:"string",id:36},onekey_se01_boot_hash:{type:"bytes",id:37},onekey_se02_boot_hash:{type:"bytes",id:38},onekey_se03_boot_hash:{type:"bytes",id:39},onekey_se04_boot_hash:{type:"bytes",id:40},onekey_se01_boot_build_id:{type:"string",id:41},onekey_se02_boot_build_id:{type:"string",id:42},onekey_se03_boot_build_id:{type:"string",id:43},onekey_se04_boot_build_id:{type:"string",id:44}}},LockDevice:{fields:{}},EndSession:{fields:{}},ApplySettings:{fields:{language:{type:"string",id:1},label:{type:"string",id:2},use_passphrase:{type:"bool",id:3},homescreen:{type:"bytes",id:4},_passphrase_source:{type:"uint32",id:5,options:{deprecated:!0}},auto_lock_delay_ms:{type:"uint32",id:6},display_rotation:{type:"uint32",id:7},passphrase_always_on_device:{type:"bool",id:8},safety_checks:{type:"SafetyCheckLevel",id:9},experimental_features:{type:"bool",id:10},use_ble:{type:"bool",id:100},use_se:{type:"bool",id:101},is_bixinapp:{type:"bool",id:102},fastpay_pin:{type:"bool",id:103},fastpay_confirm:{type:"bool",id:104},fastpay_money_limit:{type:"uint64",id:105},fastpay_times:{type:"uint32",id:106}},nested:{ExportType:{values:{SeedEncExportType_NO:0,SeedEncExportType_YES:1,MnemonicPlainExportType_YES:2}}}},ApplyFlags:{fields:{flags:{rule:"required",type:"uint32",id:1}}},ChangePin:{fields:{remove:{type:"bool",id:1}}},ChangeWipeCode:{fields:{remove:{type:"bool",id:1}}},SdProtect:{fields:{operation:{rule:"required",type:"SdProtectOperationType",id:1}},nested:{SdProtectOperationType:{values:{DISABLE:0,ENABLE:1,REFRESH:2}}}},Ping:{fields:{message:{type:"string",id:1,options:{default:""}},button_protection:{type:"bool",id:2}}},Cancel:{fields:{}},GetEntropy:{fields:{size:{rule:"required",type:"uint32",id:1}}},Entropy:{fields:{entropy:{rule:"required",type:"bytes",id:1}}},WipeDevice:{fields:{}},LoadDevice:{fields:{mnemonics:{rule:"repeated",type:"string",id:1},pin:{type:"string",id:3},passphrase_protection:{type:"bool",id:4},language:{type:"string",id:5,options:{default:"en-US"}},label:{type:"string",id:6},skip_checksum:{type:"bool",id:7},u2f_counter:{type:"uint32",id:8},needs_backup:{type:"bool",id:9},no_backup:{type:"bool",id:10}}},ResetDevice:{fields:{display_random:{type:"bool",id:1},strength:{type:"uint32",id:2,options:{default:256}},passphrase_protection:{type:"bool",id:3},pin_protection:{type:"bool",id:4},language:{type:"string",id:5,options:{default:"en-US"}},label:{type:"string",id:6},u2f_counter:{type:"uint32",id:7},skip_backup:{type:"bool",id:8},no_backup:{type:"bool",id:9},backup_type:{type:"BackupType",id:10,options:{default:"Bip39"}}}},BackupDevice:{fields:{}},EntropyRequest:{fields:{}},EntropyAck:{fields:{entropy:{rule:"required",type:"bytes",id:1}}},RecoveryDevice:{fields:{word_count:{type:"uint32",id:1},passphrase_protection:{type:"bool",id:2},pin_protection:{type:"bool",id:3},language:{type:"string",id:4},label:{type:"string",id:5},enforce_wordlist:{type:"bool",id:6},type:{type:"RecoveryDeviceType",id:8},u2f_counter:{type:"uint32",id:9},dry_run:{type:"bool",id:10}},nested:{RecoveryDeviceType:{values:{RecoveryDeviceType_ScrambledWords:0,RecoveryDeviceType_Matrix:1}}}},WordRequest:{fields:{type:{rule:"required",type:"WordRequestType",id:1}},nested:{WordRequestType:{values:{WordRequestType_Plain:0,WordRequestType_Matrix9:1,WordRequestType_Matrix6:2}}}},WordAck:{fields:{word:{rule:"required",type:"string",id:1}}},SetU2FCounter:{fields:{u2f_counter:{rule:"required",type:"uint32",id:1}}},GetNextU2FCounter:{fields:{}},NextU2FCounter:{fields:{u2f_counter:{rule:"required",type:"uint32",id:1}}},DoPreauthorized:{fields:{}},PreauthorizedRequest:{fields:{}},CancelAuthorization:{fields:{}},BixinSeedOperate:{fields:{type:{rule:"required",type:"SeedRequestType",id:1},seed_importData:{type:"bytes",id:2}},nested:{SeedRequestType:{values:{SeedRequestType_Gen:0,SeedRequestType_EncExport:1,SeedRequestType_EncImport:2}}}},BixinMessageSE:{fields:{inputmessage:{rule:"required",type:"bytes",id:1}}},BixinOutMessageSE:{fields:{outmessage:{type:"bytes",id:1}}},DeviceBackToBoot:{fields:{}},BixinBackupRequest:{fields:{}},BixinBackupAck:{fields:{data:{rule:"required",type:"bytes",id:1}}},BixinRestoreRequest:{fields:{data:{rule:"required",type:"bytes",id:1},language:{type:"string",id:2},label:{type:"string",id:3},passphrase_protection:{type:"bool",id:4}}},BixinRestoreAck:{fields:{data:{rule:"required",type:"bytes",id:1}}},BixinVerifyDeviceRequest:{fields:{data:{rule:"required",type:"bytes",id:1}}},BixinVerifyDeviceAck:{fields:{cert:{rule:"required",type:"bytes",id:1},signature:{rule:"required",type:"bytes",id:2}}},BixinWhiteListRequest:{fields:{type:{rule:"required",type:"WL_OperationType",id:1},addr_in:{type:"string",id:2}},nested:{WL_OperationType:{values:{WL_OperationType_Add:0,WL_OperationType_Delete:1,WL_OperationType_Inquire:2}}}},BixinWhiteListAck:{fields:{address:{rule:"repeated",type:"string",id:1}}},BixinLoadDevice:{fields:{mnemonics:{rule:"required",type:"string",id:1},language:{type:"string",id:5,options:{default:"en-US"}},label:{type:"string",id:6},skip_checksum:{type:"bool",id:7}}},BixinBackupDevice:{fields:{}},BixinBackupDeviceAck:{fields:{mnemonics:{rule:"required",type:"string",id:1}}},DeviceInfoSettings:{fields:{serial_no:{type:"string",id:1},cpu_info:{type:"string",id:2},pre_firmware:{type:"string",id:3}}},GetDeviceInfo:{fields:{}},DeviceInfo:{fields:{serial_no:{type:"string",id:1},spiFlash_info:{type:"string",id:2},SE_info:{type:"string",id:3},NFT_voucher:{type:"bytes",id:4},cpu_info:{type:"string",id:5},pre_firmware:{type:"string",id:6}}},ReadSEPublicKey:{fields:{}},SEPublicKey:{fields:{public_key:{rule:"required",type:"bytes",id:1}}},WriteSEPublicCert:{fields:{public_cert:{rule:"required",type:"bytes",id:1}}},ReadSEPublicCert:{fields:{}},SEPublicCert:{fields:{public_cert:{rule:"required",type:"bytes",id:1}}},SpiFlashWrite:{fields:{address:{rule:"required",type:"uint32",id:1},data:{rule:"required",type:"bytes",id:2}}},SpiFlashRead:{fields:{address:{rule:"required",type:"uint32",id:1},len:{rule:"required",type:"uint32",id:2}}},SpiFlashData:{fields:{data:{rule:"required",type:"bytes",id:1}}},SESignMessage:{fields:{message:{rule:"required",type:"bytes",id:1}}},SEMessageSignature:{fields:{signature:{rule:"required",type:"bytes",id:1}}},ResourceUpload:{fields:{extension:{rule:"required",type:"string",id:1},data_length:{rule:"required",type:"uint32",id:2},res_type:{rule:"required",type:"ResourceType",id:3},nft_meta_data:{type:"bytes",id:4},zoom_data_length:{rule:"required",type:"uint32",id:5},file_name_no_ext:{type:"string",id:6}},nested:{ResourceType:{values:{WallPaper:0,Nft:1}}}},ZoomRequest:{fields:{offset:{type:"uint32",id:1},data_length:{rule:"required",type:"uint32",id:2}}},ResourceRequest:{fields:{offset:{type:"uint32",id:1},data_length:{rule:"required",type:"uint32",id:2}}},ResourceAck:{fields:{data_chunk:{rule:"required",type:"bytes",id:1},hash:{type:"bytes",id:2}}},ResourceUpdate:{fields:{file_name:{rule:"required",type:"string",id:1},data_length:{rule:"required",type:"uint32",id:2},initial_data_chunk:{rule:"required",type:"bytes",id:3},hash:{type:"bytes",id:4}}},NFTWriteInfo:{fields:{index:{rule:"required",type:"uint32",id:1},width:{rule:"required",type:"uint32",id:2},height:{rule:"required",type:"uint32",id:3},name_zh:{type:"string",id:4},name_en:{type:"string",id:5}}},NFTWriteData:{fields:{index:{rule:"required",type:"uint32",id:1},data:{rule:"required",type:"bytes",id:2},offset:{rule:"required",type:"uint32",id:3}}},RebootToBootloader:{fields:{}},RebootToBoardloader:{fields:{}},ListResDir:{fields:{path:{rule:"required",type:"string",id:1}}},FileInfoList:{fields:{files:{rule:"repeated",type:"FileInfo",id:1}},nested:{FileInfo:{fields:{name:{rule:"required",type:"string",id:1},size:{rule:"required",type:"uint64",id:2}}}}},DeviceEraseSector:{fields:{sector:{rule:"required",type:"uint32",id:1}}},MoneroTransactionSourceEntry:{fields:{outputs:{rule:"repeated",type:"MoneroOutputEntry",id:1},real_output:{type:"uint64",id:2},real_out_tx_key:{type:"bytes",id:3},real_out_additional_tx_keys:{rule:"repeated",type:"bytes",id:4},real_output_in_tx_index:{type:"uint64",id:5},amount:{type:"uint64",id:6},rct:{type:"bool",id:7},mask:{type:"bytes",id:8},multisig_kLRki:{type:"MoneroMultisigKLRki",id:9},subaddr_minor:{type:"uint32",id:10}},nested:{MoneroOutputEntry:{fields:{idx:{type:"uint64",id:1},key:{type:"MoneroRctKeyPublic",id:2}},nested:{MoneroRctKeyPublic:{fields:{dest:{type:"bytes",id:1},commitment:{type:"bytes",id:2}}}}},MoneroMultisigKLRki:{fields:{K:{type:"bytes",id:1},L:{type:"bytes",id:2},R:{type:"bytes",id:3},ki:{type:"bytes",id:4}}}}},MoneroTransactionDestinationEntry:{fields:{amount:{type:"uint64",id:1},addr:{type:"MoneroAccountPublicAddress",id:2},is_subaddress:{type:"bool",id:3},original:{type:"bytes",id:4},is_integrated:{type:"bool",id:5}},nested:{MoneroAccountPublicAddress:{fields:{spend_public_key:{type:"bytes",id:1},view_public_key:{type:"bytes",id:2}}}}},MoneroTransactionRsigData:{fields:{rsig_type:{type:"uint32",id:1},offload_type:{type:"uint32",id:2},grouping:{rule:"repeated",type:"uint64",id:3,options:{packed:!1}},mask:{type:"bytes",id:4},rsig:{type:"bytes",id:5},rsig_parts:{rule:"repeated",type:"bytes",id:6},bp_version:{type:"uint32",id:7}}},MoneroGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2},network_type:{type:"uint32",id:3},account:{type:"uint32",id:4},minor:{type:"uint32",id:5},payment_id:{type:"bytes",id:6}}},MoneroAddress:{fields:{address:{type:"bytes",id:1}}},MoneroGetWatchKey:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},network_type:{type:"uint32",id:2}}},MoneroWatchKey:{fields:{watch_key:{type:"bytes",id:1},address:{type:"bytes",id:2}}},MoneroTransactionInitRequest:{fields:{version:{type:"uint32",id:1},address_n:{rule:"repeated",type:"uint32",id:2,options:{packed:!1}},network_type:{type:"uint32",id:3},tsx_data:{type:"MoneroTransactionData",id:4}},nested:{MoneroTransactionData:{fields:{version:{type:"uint32",id:1},payment_id:{type:"bytes",id:2},unlock_time:{type:"uint64",id:3},outputs:{rule:"repeated",type:"MoneroTransactionDestinationEntry",id:4},change_dts:{type:"MoneroTransactionDestinationEntry",id:5},num_inputs:{type:"uint32",id:6},mixin:{type:"uint32",id:7},fee:{type:"uint64",id:8},account:{type:"uint32",id:9},minor_indices:{rule:"repeated",type:"uint32",id:10,options:{packed:!1}},rsig_data:{type:"MoneroTransactionRsigData",id:11},integrated_indices:{rule:"repeated",type:"uint32",id:12,options:{packed:!1}},client_version:{type:"uint32",id:13},hard_fork:{type:"uint32",id:14},monero_version:{type:"bytes",id:15}}}}},MoneroTransactionInitAck:{fields:{hmacs:{rule:"repeated",type:"bytes",id:1},rsig_data:{type:"MoneroTransactionRsigData",id:2}}},MoneroTransactionSetInputRequest:{fields:{src_entr:{type:"MoneroTransactionSourceEntry",id:1}}},MoneroTransactionSetInputAck:{fields:{vini:{type:"bytes",id:1},vini_hmac:{type:"bytes",id:2},pseudo_out:{type:"bytes",id:3},pseudo_out_hmac:{type:"bytes",id:4},pseudo_out_alpha:{type:"bytes",id:5},spend_key:{type:"bytes",id:6}}},MoneroTransactionInputsPermutationRequest:{fields:{perm:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}}}},MoneroTransactionInputsPermutationAck:{fields:{}},MoneroTransactionInputViniRequest:{fields:{src_entr:{type:"MoneroTransactionSourceEntry",id:1},vini:{type:"bytes",id:2},vini_hmac:{type:"bytes",id:3},pseudo_out:{type:"bytes",id:4},pseudo_out_hmac:{type:"bytes",id:5},orig_idx:{type:"uint32",id:6}}},MoneroTransactionInputViniAck:{fields:{}},MoneroTransactionAllInputsSetRequest:{fields:{}},MoneroTransactionAllInputsSetAck:{fields:{rsig_data:{type:"MoneroTransactionRsigData",id:1}}},MoneroTransactionSetOutputRequest:{fields:{dst_entr:{type:"MoneroTransactionDestinationEntry",id:1},dst_entr_hmac:{type:"bytes",id:2},rsig_data:{type:"MoneroTransactionRsigData",id:3},is_offloaded_bp:{type:"bool",id:4}}},MoneroTransactionSetOutputAck:{fields:{tx_out:{type:"bytes",id:1},vouti_hmac:{type:"bytes",id:2},rsig_data:{type:"MoneroTransactionRsigData",id:3},out_pk:{type:"bytes",id:4},ecdh_info:{type:"bytes",id:5}}},MoneroTransactionAllOutSetRequest:{fields:{rsig_data:{type:"MoneroTransactionRsigData",id:1}}},MoneroTransactionAllOutSetAck:{fields:{extra:{type:"bytes",id:1},tx_prefix_hash:{type:"bytes",id:2},rv:{type:"MoneroRingCtSig",id:4},full_message_hash:{type:"bytes",id:5}},nested:{MoneroRingCtSig:{fields:{txn_fee:{type:"uint64",id:1},message:{type:"bytes",id:2},rv_type:{type:"uint32",id:3}}}}},MoneroTransactionSignInputRequest:{fields:{src_entr:{type:"MoneroTransactionSourceEntry",id:1},vini:{type:"bytes",id:2},vini_hmac:{type:"bytes",id:3},pseudo_out:{type:"bytes",id:4},pseudo_out_hmac:{type:"bytes",id:5},pseudo_out_alpha:{type:"bytes",id:6},spend_key:{type:"bytes",id:7},orig_idx:{type:"uint32",id:8}}},MoneroTransactionSignInputAck:{fields:{signature:{type:"bytes",id:1},pseudo_out:{type:"bytes",id:2}}},MoneroTransactionFinalRequest:{fields:{}},MoneroTransactionFinalAck:{fields:{cout_key:{type:"bytes",id:1},salt:{type:"bytes",id:2},rand_mult:{type:"bytes",id:3},tx_enc_keys:{type:"bytes",id:4},opening_key:{type:"bytes",id:5}}},MoneroKeyImageExportInitRequest:{fields:{num:{type:"uint64",id:1},hash:{type:"bytes",id:2},address_n:{rule:"repeated",type:"uint32",id:3,options:{packed:!1}},network_type:{type:"uint32",id:4},subs:{rule:"repeated",type:"MoneroSubAddressIndicesList",id:5}},nested:{MoneroSubAddressIndicesList:{fields:{account:{type:"uint32",id:1},minor_indices:{rule:"repeated",type:"uint32",id:2,options:{packed:!1}}}}}},MoneroKeyImageExportInitAck:{fields:{}},MoneroKeyImageSyncStepRequest:{fields:{tdis:{rule:"repeated",type:"MoneroTransferDetails",id:1}},nested:{MoneroTransferDetails:{fields:{out_key:{type:"bytes",id:1},tx_pub_key:{type:"bytes",id:2},additional_tx_pub_keys:{rule:"repeated",type:"bytes",id:3},internal_output_index:{type:"uint64",id:4},sub_addr_major:{type:"uint32",id:5},sub_addr_minor:{type:"uint32",id:6}}}}},MoneroKeyImageSyncStepAck:{fields:{kis:{rule:"repeated",type:"MoneroExportedKeyImage",id:1}},nested:{MoneroExportedKeyImage:{fields:{iv:{type:"bytes",id:1},blob:{type:"bytes",id:3}}}}},MoneroKeyImageSyncFinalRequest:{fields:{}},MoneroKeyImageSyncFinalAck:{fields:{enc_key:{type:"bytes",id:1}}},MoneroGetTxKeyRequest:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},network_type:{type:"uint32",id:2},salt1:{type:"bytes",id:3},salt2:{type:"bytes",id:4},tx_enc_keys:{type:"bytes",id:5},tx_prefix_hash:{type:"bytes",id:6},reason:{type:"uint32",id:7},view_public_key:{type:"bytes",id:8}}},MoneroGetTxKeyAck:{fields:{salt:{type:"bytes",id:1},tx_keys:{type:"bytes",id:2},tx_derivations:{type:"bytes",id:3}}},MoneroLiveRefreshStartRequest:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},network_type:{type:"uint32",id:2}}},MoneroLiveRefreshStartAck:{fields:{}},MoneroLiveRefreshStepRequest:{fields:{out_key:{type:"bytes",id:1},recv_deriv:{type:"bytes",id:2},real_out_idx:{type:"uint64",id:3},sub_addr_major:{type:"uint32",id:4},sub_addr_minor:{type:"uint32",id:5}}},MoneroLiveRefreshStepAck:{fields:{salt:{type:"bytes",id:1},key_image:{type:"bytes",id:2}}},MoneroLiveRefreshFinalRequest:{fields:{}},MoneroLiveRefreshFinalAck:{fields:{}},DebugMoneroDiagRequest:{fields:{ins:{type:"uint64",id:1},p1:{type:"uint64",id:2},p2:{type:"uint64",id:3},pd:{rule:"repeated",type:"uint64",id:4,options:{packed:!1}},data1:{type:"bytes",id:5},data2:{type:"bytes",id:6}}},DebugMoneroDiagAck:{fields:{ins:{type:"uint64",id:1},p1:{type:"uint64",id:2},p2:{type:"uint64",id:3},pd:{rule:"repeated",type:"uint64",id:4,options:{packed:!1}},data1:{type:"bytes",id:5},data2:{type:"bytes",id:6}}},NearGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2}}},NearAddress:{fields:{address:{type:"string",id:1}}},NearSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},raw_tx:{rule:"required",type:"bytes",id:2}}},NearSignedTx:{fields:{signature:{rule:"required",type:"bytes",id:1}}},NEMGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},network:{type:"uint32",id:2},show_display:{type:"bool",id:3}}},NEMAddress:{fields:{address:{rule:"required",type:"string",id:1}}},NEMSignTx:{fields:{transaction:{type:"NEMTransactionCommon",id:1},multisig:{type:"NEMTransactionCommon",id:2},transfer:{type:"NEMTransfer",id:3},cosigning:{type:"bool",id:4},provision_namespace:{type:"NEMProvisionNamespace",id:5},mosaic_creation:{type:"NEMMosaicCreation",id:6},supply_change:{type:"NEMMosaicSupplyChange",id:7},aggregate_modification:{type:"NEMAggregateModification",id:8},importance_transfer:{type:"NEMImportanceTransfer",id:9}},nested:{NEMTransactionCommon:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},network:{type:"uint32",id:2},timestamp:{type:"uint32",id:3},fee:{type:"uint64",id:4},deadline:{type:"uint32",id:5},signer:{type:"bytes",id:6}}},NEMTransfer:{fields:{recipient:{type:"string",id:1},amount:{type:"uint64",id:2},payload:{type:"bytes",id:3},public_key:{type:"bytes",id:4},mosaics:{rule:"repeated",type:"NEMMosaic",id:5}},nested:{NEMMosaic:{fields:{namespace:{type:"string",id:1},mosaic:{type:"string",id:2},quantity:{type:"uint64",id:3}}}}},NEMProvisionNamespace:{fields:{namespace:{type:"string",id:1},parent:{type:"string",id:2},sink:{type:"string",id:3},fee:{type:"uint64",id:4}}},NEMMosaicCreation:{fields:{definition:{type:"NEMMosaicDefinition",id:1},sink:{type:"string",id:2},fee:{type:"uint64",id:3}},nested:{NEMMosaicDefinition:{fields:{name:{type:"string",id:1},ticker:{type:"string",id:2},namespace:{type:"string",id:3},mosaic:{type:"string",id:4},divisibility:{type:"uint32",id:5},levy:{type:"NEMMosaicLevy",id:6},fee:{type:"uint64",id:7},levy_address:{type:"string",id:8},levy_namespace:{type:"string",id:9},levy_mosaic:{type:"string",id:10},supply:{type:"uint64",id:11},mutable_supply:{type:"bool",id:12},transferable:{type:"bool",id:13},description:{type:"string",id:14},networks:{rule:"repeated",type:"uint32",id:15,options:{packed:!1}}},nested:{NEMMosaicLevy:{values:{MosaicLevy_Absolute:1,MosaicLevy_Percentile:2}}}}}},NEMMosaicSupplyChange:{fields:{namespace:{type:"string",id:1},mosaic:{type:"string",id:2},type:{type:"NEMSupplyChangeType",id:3},delta:{type:"uint64",id:4}},nested:{NEMSupplyChangeType:{values:{SupplyChange_Increase:1,SupplyChange_Decrease:2}}}},NEMAggregateModification:{fields:{modifications:{rule:"repeated",type:"NEMCosignatoryModification",id:1},relative_change:{type:"sint32",id:2}},nested:{NEMCosignatoryModification:{fields:{type:{type:"NEMModificationType",id:1},public_key:{type:"bytes",id:2}},nested:{NEMModificationType:{values:{CosignatoryModification_Add:1,CosignatoryModification_Delete:2}}}}}},NEMImportanceTransfer:{fields:{mode:{type:"NEMImportanceTransferMode",id:1},public_key:{type:"bytes",id:2}},nested:{NEMImportanceTransferMode:{values:{ImportanceTransfer_Activate:1,ImportanceTransfer_Deactivate:2}}}}}},NEMSignedTx:{fields:{data:{rule:"required",type:"bytes",id:1},signature:{rule:"required",type:"bytes",id:2}}},NEMDecryptMessage:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},network:{type:"uint32",id:2},public_key:{type:"bytes",id:3},payload:{type:"bytes",id:4}}},NEMDecryptedMessage:{fields:{payload:{rule:"required",type:"bytes",id:1}}},NervosGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},network:{rule:"required",type:"string",id:2},show_display:{type:"bool",id:3}}},NervosAddress:{fields:{address:{rule:"required",type:"string",id:1}}},NervosSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},data_initial_chunk:{rule:"required",type:"bytes",id:2},witness_buffer:{rule:"required",type:"bytes",id:3},network:{rule:"required",type:"string",id:4},data_length:{type:"uint32",id:5}}},NervosSignedTx:{fields:{signature:{rule:"required",type:"bytes",id:1},address:{rule:"required",type:"string",id:2}}},NervosTxRequest:{fields:{data_length:{type:"uint32",id:1},public_key:{type:"bytes",id:2},signature:{type:"bytes",id:3}}},NervosTxAck:{fields:{data_chunk:{rule:"required",type:"bytes",id:1}}},NexaGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2},prefix:{type:"string",id:3,options:{default:"nexa"}}}},NexaAddress:{fields:{address:{rule:"required",type:"string",id:1},public_key:{rule:"required",type:"bytes",id:2}}},NexaSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},raw_message:{rule:"required",type:"bytes",id:2},prefix:{type:"string",id:3,options:{default:"nexa"}},input_count:{type:"uint32",id:4,options:{default:1}}}},NexaTxInputRequest:{fields:{request_index:{rule:"required",type:"uint32",id:1},signature:{type:"bytes",id:2}}},NexaTxInputAck:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},raw_message:{rule:"required",type:"bytes",id:2}}},NexaSignedTx:{fields:{signature:{rule:"required",type:"bytes",id:1}}},NostrGetPublicKey:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2}}},NostrPublicKey:{fields:{publickey:{type:"string",id:1},npub:{type:"string",id:2}}},NostrSignEvent:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},event:{rule:"required",type:"bytes",id:2}}},NostrSignedEvent:{fields:{event:{rule:"required",type:"bytes",id:1}}},NostrSignSchnorr:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},hash:{rule:"required",type:"string",id:2}}},NostrSignedSchnorr:{fields:{signature:{rule:"required",type:"bytes",id:1}}},NostrEncryptMessage:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},pubkey:{rule:"required",type:"string",id:2},msg:{rule:"required",type:"string",id:3},show_display:{type:"bool",id:4}}},NostrEncryptedMessage:{fields:{msg:{rule:"required",type:"string",id:1}}},NostrDecryptMessage:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},pubkey:{rule:"required",type:"string",id:2},msg:{rule:"required",type:"string",id:3},show_display:{type:"bool",id:4}}},NostrDecryptedMessage:{fields:{msg:{rule:"required",type:"string",id:1}}},PolkadotGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},prefix:{rule:"required",type:"uint32",id:2},network:{rule:"required",type:"string",id:3},show_display:{type:"bool",id:4}}},PolkadotAddress:{fields:{address:{type:"string",id:1},public_key:{type:"string",id:2}}},PolkadotSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},raw_tx:{rule:"required",type:"bytes",id:2},network:{rule:"required",type:"string",id:3}}},PolkadotSignedTx:{fields:{signature:{rule:"required",type:"bytes",id:1}}},RippleGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2}}},RippleAddress:{fields:{address:{rule:"required",type:"string",id:1}}},RippleSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},fee:{type:"uint64",id:2},flags:{type:"uint32",id:3},sequence:{type:"uint32",id:4},last_ledger_sequence:{type:"uint32",id:5},payment:{type:"RipplePayment",id:6}},nested:{RipplePayment:{fields:{amount:{rule:"required",type:"uint64",id:1},destination:{rule:"required",type:"string",id:2},destination_tag:{type:"uint32",id:3}}}}},RippleSignedTx:{fields:{signature:{rule:"required",type:"bytes",id:1},serialized_tx:{rule:"required",type:"bytes",id:2}}},ScdoGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2}}},ScdoAddress:{fields:{address:{rule:"required",type:"string",id:1}}},ScdoSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},nonce:{rule:"required",type:"bytes",id:2},gas_price:{rule:"required",type:"bytes",id:3},gas_limit:{rule:"required",type:"bytes",id:4},to:{rule:"required",type:"string",id:5},value:{rule:"required",type:"bytes",id:6},timestamp:{type:"bytes",id:7},data_initial_chunk:{type:"bytes",id:8,options:{default:""}},data_length:{type:"uint32",id:9,options:{default:0}},tx_type:{type:"uint32",id:10,options:{default:0}}}},ScdoSignedTx:{fields:{data_length:{type:"uint32",id:1},signature:{type:"bytes",id:2}}},ScdoTxAck:{fields:{data_chunk:{type:"bytes",id:1}}},ScdoSignMessage:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},message:{type:"bytes",id:2}}},ScdoSignedMessage:{fields:{signature:{type:"bytes",id:1},address:{type:"string",id:2}}},SolanaGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2}}},SolanaAddress:{fields:{address:{type:"string",id:1}}},SolanaSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},raw_tx:{rule:"required",type:"bytes",id:2}}},SolanaSignedTx:{fields:{signature:{type:"bytes",id:1}}},StarcoinGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2}}},StarcoinAddress:{fields:{address:{type:"string",id:1}}},StarcoinGetPublicKey:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2}}},StarcoinPublicKey:{fields:{public_key:{rule:"required",type:"bytes",id:1}}},StarcoinSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},raw_tx:{type:"bytes",id:2}}},StarcoinSignedTx:{fields:{public_key:{rule:"required",type:"bytes",id:1},signature:{rule:"required",type:"bytes",id:2}}},StarcoinSignMessage:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},message:{type:"bytes",id:2}}},StarcoinMessageSignature:{fields:{public_key:{rule:"required",type:"bytes",id:1},signature:{rule:"required",type:"bytes",id:2}}},StarcoinVerifyMessage:{fields:{public_key:{type:"bytes",id:1},signature:{type:"bytes",id:2},message:{type:"bytes",id:3}}},StellarAssetType:{values:{NATIVE:0,ALPHANUM4:1,ALPHANUM12:2}},StellarAsset:{fields:{type:{rule:"required",type:"StellarAssetType",id:1},code:{type:"string",id:2},issuer:{type:"string",id:3}}},StellarGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2}}},StellarAddress:{fields:{address:{rule:"required",type:"string",id:1}}},StellarSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:2,options:{packed:!1}},network_passphrase:{rule:"required",type:"string",id:3},source_account:{rule:"required",type:"string",id:4},fee:{rule:"required",type:"uint32",id:5},sequence_number:{rule:"required",type:"uint64",id:6},timebounds_start:{rule:"required",type:"uint32",id:8},timebounds_end:{rule:"required",type:"uint32",id:9},memo_type:{rule:"required",type:"StellarMemoType",id:10},memo_text:{type:"string",id:11},memo_id:{type:"uint64",id:12},memo_hash:{type:"bytes",id:13},num_operations:{rule:"required",type:"uint32",id:14}},nested:{StellarMemoType:{values:{NONE:0,TEXT:1,ID:2,HASH:3,RETURN:4}}}},StellarTxOpRequest:{fields:{}},StellarPaymentOp:{fields:{source_account:{type:"string",id:1},destination_account:{rule:"required",type:"string",id:2},asset:{rule:"required",type:"StellarAsset",id:3},amount:{rule:"required",type:"sint64",id:4}}},StellarCreateAccountOp:{fields:{source_account:{type:"string",id:1},new_account:{rule:"required",type:"string",id:2},starting_balance:{rule:"required",type:"sint64",id:3}}},StellarPathPaymentStrictReceiveOp:{fields:{source_account:{type:"string",id:1},send_asset:{rule:"required",type:"StellarAsset",id:2},send_max:{rule:"required",type:"sint64",id:3},destination_account:{rule:"required",type:"string",id:4},destination_asset:{rule:"required",type:"StellarAsset",id:5},destination_amount:{rule:"required",type:"sint64",id:6},paths:{rule:"repeated",type:"StellarAsset",id:7}}},StellarPathPaymentStrictSendOp:{fields:{source_account:{type:"string",id:1},send_asset:{rule:"required",type:"StellarAsset",id:2},send_amount:{rule:"required",type:"sint64",id:3},destination_account:{rule:"required",type:"string",id:4},destination_asset:{rule:"required",type:"StellarAsset",id:5},destination_min:{rule:"required",type:"sint64",id:6},paths:{rule:"repeated",type:"StellarAsset",id:7}}},StellarManageSellOfferOp:{fields:{source_account:{type:"string",id:1},selling_asset:{rule:"required",type:"StellarAsset",id:2},buying_asset:{rule:"required",type:"StellarAsset",id:3},amount:{rule:"required",type:"sint64",id:4},price_n:{rule:"required",type:"uint32",id:5},price_d:{rule:"required",type:"uint32",id:6},offer_id:{rule:"required",type:"uint64",id:7}}},StellarManageBuyOfferOp:{fields:{source_account:{type:"string",id:1},selling_asset:{rule:"required",type:"StellarAsset",id:2},buying_asset:{rule:"required",type:"StellarAsset",id:3},amount:{rule:"required",type:"sint64",id:4},price_n:{rule:"required",type:"uint32",id:5},price_d:{rule:"required",type:"uint32",id:6},offer_id:{rule:"required",type:"uint64",id:7}}},StellarCreatePassiveSellOfferOp:{fields:{source_account:{type:"string",id:1},selling_asset:{rule:"required",type:"StellarAsset",id:2},buying_asset:{rule:"required",type:"StellarAsset",id:3},amount:{rule:"required",type:"sint64",id:4},price_n:{rule:"required",type:"uint32",id:5},price_d:{rule:"required",type:"uint32",id:6}}},StellarSetOptionsOp:{fields:{source_account:{type:"string",id:1},inflation_destination_account:{type:"string",id:2},clear_flags:{type:"uint32",id:3},set_flags:{type:"uint32",id:4},master_weight:{type:"uint32",id:5},low_threshold:{type:"uint32",id:6},medium_threshold:{type:"uint32",id:7},high_threshold:{type:"uint32",id:8},home_domain:{type:"string",id:9},signer_type:{type:"StellarSignerType",id:10},signer_key:{type:"bytes",id:11},signer_weight:{type:"uint32",id:12}},nested:{StellarSignerType:{values:{ACCOUNT:0,PRE_AUTH:1,HASH:2}}}},StellarChangeTrustOp:{fields:{source_account:{type:"string",id:1},asset:{rule:"required",type:"StellarAsset",id:2},limit:{rule:"required",type:"uint64",id:3}}},StellarAllowTrustOp:{fields:{source_account:{type:"string",id:1},trusted_account:{rule:"required",type:"string",id:2},asset_type:{rule:"required",type:"StellarAssetType",id:3},asset_code:{type:"string",id:4},is_authorized:{rule:"required",type:"bool",id:5}}},StellarAccountMergeOp:{fields:{source_account:{type:"string",id:1},destination_account:{rule:"required",type:"string",id:2}}},StellarManageDataOp:{fields:{source_account:{type:"string",id:1},key:{rule:"required",type:"string",id:2},value:{type:"bytes",id:3}}},StellarBumpSequenceOp:{fields:{source_account:{type:"string",id:1},bump_to:{rule:"required",type:"uint64",id:2}}},StellarSignedTx:{fields:{public_key:{rule:"required",type:"bytes",id:1},signature:{rule:"required",type:"bytes",id:2}}},SuiGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2}}},SuiAddress:{fields:{address:{type:"string",id:1}}},SuiSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},raw_tx:{rule:"required",type:"bytes",id:2},data_initial_chunk:{type:"bytes",id:3,options:{default:""}},data_length:{type:"uint32",id:4}}},SuiSignedTx:{fields:{public_key:{rule:"required",type:"bytes",id:1},signature:{rule:"required",type:"bytes",id:2}}},SuiTxRequest:{fields:{data_length:{type:"uint32",id:1},public_key:{type:"bytes",id:2},signature:{type:"bytes",id:3}}},SuiTxAck:{fields:{data_chunk:{rule:"required",type:"bytes",id:1}}},SuiSignMessage:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},message:{rule:"required",type:"bytes",id:2}}},SuiMessageSignature:{fields:{signature:{rule:"required",type:"bytes",id:1},address:{rule:"required",type:"string",id:2}}},TezosGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2}}},TezosAddress:{fields:{address:{rule:"required",type:"string",id:1}}},TezosGetPublicKey:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2}}},TezosPublicKey:{fields:{public_key:{rule:"required",type:"string",id:1}}},TezosSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},branch:{rule:"required",type:"bytes",id:2},reveal:{type:"TezosRevealOp",id:3},transaction:{type:"TezosTransactionOp",id:4},origination:{type:"TezosOriginationOp",id:5},delegation:{type:"TezosDelegationOp",id:6},proposal:{type:"TezosProposalOp",id:7},ballot:{type:"TezosBallotOp",id:8}},nested:{TezosContractID:{fields:{tag:{rule:"required",type:"TezosContractType",id:1},hash:{rule:"required",type:"bytes",id:2}},nested:{TezosContractType:{values:{Implicit:0,Originated:1}}}},TezosRevealOp:{fields:{source:{rule:"required",type:"bytes",id:7},fee:{rule:"required",type:"uint64",id:2},counter:{rule:"required",type:"uint64",id:3},gas_limit:{rule:"required",type:"uint64",id:4},storage_limit:{rule:"required",type:"uint64",id:5},public_key:{rule:"required",type:"bytes",id:6}}},TezosTransactionOp:{fields:{source:{rule:"required",type:"bytes",id:9},fee:{rule:"required",type:"uint64",id:2},counter:{rule:"required",type:"uint64",id:3},gas_limit:{rule:"required",type:"uint64",id:4},storage_limit:{rule:"required",type:"uint64",id:5},amount:{rule:"required",type:"uint64",id:6},destination:{rule:"required",type:"TezosContractID",id:7},parameters:{type:"bytes",id:8},parameters_manager:{type:"TezosParametersManager",id:10}},nested:{TezosParametersManager:{fields:{set_delegate:{type:"bytes",id:1},cancel_delegate:{type:"bool",id:2},transfer:{type:"TezosManagerTransfer",id:3}},nested:{TezosManagerTransfer:{fields:{destination:{type:"TezosContractID",id:1},amount:{type:"uint64",id:2}}}}}}},TezosOriginationOp:{fields:{source:{rule:"required",type:"bytes",id:12},fee:{rule:"required",type:"uint64",id:2},counter:{rule:"required",type:"uint64",id:3},gas_limit:{rule:"required",type:"uint64",id:4},storage_limit:{rule:"required",type:"uint64",id:5},manager_pubkey:{type:"bytes",id:6},balance:{rule:"required",type:"uint64",id:7},spendable:{type:"bool",id:8},delegatable:{type:"bool",id:9},delegate:{type:"bytes",id:10},script:{rule:"required",type:"bytes",id:11}}},TezosDelegationOp:{fields:{source:{rule:"required",type:"bytes",id:7},fee:{rule:"required",type:"uint64",id:2},counter:{rule:"required",type:"uint64",id:3},gas_limit:{rule:"required",type:"uint64",id:4},storage_limit:{rule:"required",type:"uint64",id:5},delegate:{rule:"required",type:"bytes",id:6}}},TezosProposalOp:{fields:{source:{type:"bytes",id:1},period:{type:"uint64",id:2},proposals:{rule:"repeated",type:"bytes",id:4}}},TezosBallotOp:{fields:{source:{type:"bytes",id:1},period:{type:"uint64",id:2},proposal:{type:"bytes",id:3},ballot:{type:"TezosBallotType",id:4}},nested:{TezosBallotType:{values:{Yay:0,Nay:1,Pass:2}}}}}},TezosSignedTx:{fields:{signature:{rule:"required",type:"string",id:1},sig_op_contents:{rule:"required",type:"bytes",id:2},operation_hash:{rule:"required",type:"string",id:3}}},TonWalletVersion:{values:{V4R2:3}},TonWorkChain:{values:{BASECHAIN:0,MASTERCHAIN:1}},TonGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2},wallet_version:{type:"TonWalletVersion",id:3,options:{default:"V4R2"}},is_bounceable:{type:"bool",id:4,options:{default:!1}},is_testnet_only:{type:"bool",id:5,options:{default:!1}},workchain:{type:"TonWorkChain",id:6,options:{default:"BASECHAIN"}},wallet_id:{type:"uint32",id:7,options:{default:698983191}}}},TonAddress:{fields:{public_key:{rule:"required",type:"bytes",id:1},address:{rule:"required",type:"string",id:2}}},TonSignMessage:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},destination:{rule:"required",type:"string",id:2},jetton_master_address:{type:"string",id:3},jetton_wallet_address:{type:"string",id:4},ton_amount:{rule:"required",type:"uint64",id:5},jetton_amount:{type:"uint64",id:6},fwd_fee:{type:"uint64",id:7,options:{default:0}},comment:{type:"string",id:8},is_raw_data:{type:"bool",id:9,options:{default:!1}},mode:{type:"uint32",id:10,options:{default:3}},seqno:{rule:"required",type:"uint32",id:11},expire_at:{rule:"required",type:"uint64",id:12},wallet_version:{type:"TonWalletVersion",id:13,options:{default:"V4R2"}},wallet_id:{type:"uint32",id:14,options:{default:698983191}},workchain:{type:"TonWorkChain",id:15,options:{default:"BASECHAIN"}},is_bounceable:{type:"bool",id:16,options:{default:!1}},is_testnet_only:{type:"bool",id:17,options:{default:!1}},ext_destination:{rule:"repeated",type:"string",id:18},ext_ton_amount:{rule:"repeated",type:"uint64",id:19,options:{packed:!1}},ext_payload:{rule:"repeated",type:"string",id:20},jetton_amount_bytes:{type:"bytes",id:21}}},TonSignedMessage:{fields:{signature:{type:"bytes",id:1},signning_message:{type:"bytes",id:2}}},TonSignProof:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},appdomain:{rule:"required",type:"bytes",id:2},comment:{type:"bytes",id:3},expire_at:{rule:"required",type:"uint64",id:4},wallet_version:{type:"TonWalletVersion",id:5,options:{default:"V4R2"}},wallet_id:{type:"uint32",id:6,options:{default:698983191}},workchain:{type:"TonWorkChain",id:7,options:{default:"BASECHAIN"}},is_bounceable:{type:"bool",id:8,options:{default:!1}},is_testnet_only:{type:"bool",id:9,options:{default:!1}}}},TonSignedProof:{fields:{signature:{type:"bytes",id:1}}},TronGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2}}},TronAddress:{fields:{address:{type:"string",id:1}}},TronSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},ref_block_bytes:{rule:"required",type:"bytes",id:2},ref_block_hash:{rule:"required",type:"bytes",id:3},expiration:{rule:"required",type:"uint64",id:4},data:{type:"string",id:5},contract:{rule:"required",type:"TronContract",id:6},timestamp:{rule:"required",type:"uint64",id:7},fee_limit:{type:"uint64",id:8}},nested:{TronContract:{fields:{transfer_contract:{type:"TronTransferContract",id:2},freeze_balance_contract:{type:"TronFreezeBalanceContract",id:11},unfreeze_balance_contract:{type:"TronUnfreezeBalanceContract",id:12},withdraw_balance_contract:{type:"TronWithdrawBalanceContract",id:13},trigger_smart_contract:{type:"TronTriggerSmartContract",id:31},freeze_balance_v2_contract:{type:"TronFreezeBalanceV2Contract",id:54},unfreeze_balance_v2_contract:{type:"TronUnfreezeBalanceV2Contract",id:55},withdraw_expire_unfreeze_contract:{type:"TronWithdrawExpireUnfreezeContract",id:56},delegate_resource_contract:{type:"TronDelegateResourceContract",id:57},undelegate_resource_contract:{type:"TronUnDelegateResourceContract",id:58}},nested:{TronTransferContract:{fields:{to_address:{type:"string",id:2},amount:{type:"uint64",id:3}}},TronTriggerSmartContract:{fields:{contract_address:{type:"string",id:2},call_value:{type:"uint64",id:3},data:{type:"bytes",id:4},call_token_value:{type:"uint64",id:5},asset_id:{type:"uint64",id:6}}},TronResourceCode:{values:{BANDWIDTH:0,ENERGY:1}},TronFreezeBalanceContract:{fields:{frozen_balance:{type:"uint64",id:1},frozen_duration:{type:"uint64",id:2},resource:{type:"TronResourceCode",id:3},receiver_address:{type:"string",id:4}}},TronUnfreezeBalanceContract:{fields:{resource:{type:"TronResourceCode",id:1},receiver_address:{type:"string",id:2}}},TronWithdrawBalanceContract:{fields:{owner_address:{type:"bytes",id:1}}},TronFreezeBalanceV2Contract:{fields:{frozen_balance:{type:"uint64",id:2},resource:{type:"TronResourceCode",id:3}}},TronUnfreezeBalanceV2Contract:{fields:{unfreeze_balance:{type:"uint64",id:2},resource:{type:"TronResourceCode",id:3}}},TronWithdrawExpireUnfreezeContract:{fields:{}},TronDelegateResourceContract:{fields:{resource:{type:"TronResourceCode",id:2},balance:{type:"uint64",id:3},receiver_address:{type:"string",id:4},lock:{type:"bool",id:5}}},TronUnDelegateResourceContract:{fields:{resource:{type:"TronResourceCode",id:2},balance:{type:"uint64",id:3},receiver_address:{type:"string",id:4}}}}}}},TronSignedTx:{fields:{signature:{rule:"required",type:"bytes",id:1},serialized_tx:{type:"bytes",id:2}}},TronSignMessage:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},message:{rule:"required",type:"bytes",id:2}}},TronMessageSignature:{fields:{address:{rule:"required",type:"bytes",id:1},signature:{rule:"required",type:"bytes",id:2}}},WebAuthnListResidentCredentials:{fields:{}},WebAuthnAddResidentCredential:{fields:{credential_id:{type:"bytes",id:1}}},WebAuthnRemoveResidentCredential:{fields:{index:{type:"uint32",id:1}}},WebAuthnCredentials:{fields:{credentials:{rule:"repeated",type:"WebAuthnCredential",id:1}},nested:{WebAuthnCredential:{fields:{index:{type:"uint32",id:1},id:{type:"bytes",id:2},rp_id:{type:"string",id:3},rp_name:{type:"string",id:4},user_id:{type:"bytes",id:5},user_name:{type:"string",id:6},user_display_name:{type:"string",id:7},creation_time:{type:"uint32",id:8},hmac_secret:{type:"bool",id:9},use_sign_count:{type:"bool",id:10},algorithm:{type:"sint32",id:11},curve:{type:"sint32",id:12}}}}},wire_in:{type:"bool",id:50002,extend:"google.protobuf.EnumValueOptions"},wire_out:{type:"bool",id:50003,extend:"google.protobuf.EnumValueOptions"},wire_debug_in:{type:"bool",id:50004,extend:"google.protobuf.EnumValueOptions"},wire_debug_out:{type:"bool",id:50005,extend:"google.protobuf.EnumValueOptions"},wire_tiny:{type:"bool",id:50006,extend:"google.protobuf.EnumValueOptions"},wire_bootloader:{type:"bool",id:50007,extend:"google.protobuf.EnumValueOptions"},wire_no_fsm:{type:"bool",id:50008,extend:"google.protobuf.EnumValueOptions"},facotry:{type:"bool",id:50501,extend:"google.protobuf.EnumValueOptions"},bitcoin_only:{type:"bool",id:6e4,extend:"google.protobuf.EnumValueOptions"},has_bitcoin_only_values:{type:"bool",id:51001,extend:"google.protobuf.EnumOptions"},unstable:{type:"bool",id:52001,extend:"google.protobuf.MessageOptions"},wire_type:{type:"uint32",id:52002,extend:"google.protobuf.MessageOptions"},experimental:{type:"bool",id:53001,extend:"google.protobuf.FieldOptions"},include_in_bitcoin_only:{type:"bool",id:6e4,extend:"google.protobuf.FileOptions"},CommandFlags:{values:{Default:0,Factory_Only:1}},MessageType:{options:{"(has_bitcoin_only_values)":!0},values:{MessageType_Initialize:0,MessageType_Ping:1,MessageType_Success:2,MessageType_Failure:3,MessageType_ChangePin:4,MessageType_WipeDevice:5,MessageType_GetEntropy:9,MessageType_Entropy:10,MessageType_LoadDevice:13,MessageType_ResetDevice:14,MessageType_Features:17,MessageType_PinMatrixRequest:18,MessageType_PinMatrixAck:19,MessageType_Cancel:20,MessageType_LockDevice:24,MessageType_ApplySettings:25,MessageType_ButtonRequest:26,MessageType_ButtonAck:27,MessageType_ApplyFlags:28,MessageType_BackupDevice:34,MessageType_EntropyRequest:35,MessageType_EntropyAck:36,MessageType_PassphraseRequest:41,MessageType_PassphraseAck:42,MessageType_RecoveryDevice:45,MessageType_WordRequest:46,MessageType_WordAck:47,MessageType_GetFeatures:55,MessageType_SdProtect:79,MessageType_ChangeWipeCode:82,MessageType_EndSession:83,MessageType_DoPreauthorized:84,MessageType_PreauthorizedRequest:85,MessageType_CancelAuthorization:86,MessageType_RebootToBootloader:87,MessageType_SetU2FCounter:63,MessageType_GetNextU2FCounter:80,MessageType_NextU2FCounter:81,MessageType_Deprecated_PassphraseStateRequest:77,MessageType_Deprecated_PassphraseStateAck:78,MessageType_FirmwareErase:6,MessageType_FirmwareErase_ex:16,MessageType_FirmwareUpload:7,MessageType_FirmwareRequest:8,MessageType_SelfTest:32,MessageType_Reboot:3e4,MessageType_FirmwareUpdateEmmc:30001,MessageType_GetPublicKey:11,MessageType_PublicKey:12,MessageType_SignTx:15,MessageType_TxRequest:21,MessageType_TxAck:22,MessageType_GetAddress:29,MessageType_Address:30,MessageType_SignMessage:38,MessageType_VerifyMessage:39,MessageType_MessageSignature:40,MessageType_GetOwnershipId:43,MessageType_OwnershipId:44,MessageType_GetOwnershipProof:49,MessageType_OwnershipProof:50,MessageType_AuthorizeCoinJoin:51,MessageType_SignPsbt:10052,MessageType_SignedPsbt:10053,MessageType_CipherKeyValue:23,MessageType_CipheredKeyValue:48,MessageType_SignIdentity:53,MessageType_SignedIdentity:54,MessageType_GetECDHSessionKey:61,MessageType_ECDHSessionKey:62,MessageType_CosiCommit:71,MessageType_CosiCommitment:72,MessageType_CosiSign:73,MessageType_CosiSignature:74,MessageType_BatchGetPublickeys:10016,MessageType_EcdsaPublicKeys:10017,MessageType_DebugLinkDecision:100,MessageType_DebugLinkGetState:101,MessageType_DebugLinkState:102,MessageType_DebugLinkStop:103,MessageType_DebugLinkLog:104,MessageType_DebugLinkMemoryRead:110,MessageType_DebugLinkMemory:111,MessageType_DebugLinkMemoryWrite:112,MessageType_DebugLinkFlashErase:113,MessageType_DebugLinkLayout:9001,MessageType_DebugLinkReseedRandom:9002,MessageType_DebugLinkRecordScreen:9003,MessageType_DebugLinkEraseSdCard:9005,MessageType_DebugLinkWatchLayout:9006,MessageType_EmmcFixPermission:30100,MessageType_EmmcPath:30101,MessageType_EmmcPathInfo:30102,MessageType_EmmcFile:30103,MessageType_EmmcFileRead:30104,MessageType_EmmcFileWrite:30105,MessageType_EmmcFileDelete:30106,MessageType_EmmcDir:30107,MessageType_EmmcDirList:30108,MessageType_EmmcDirMake:30109,MessageType_EmmcDirRemove:30110,MessageType_EthereumGetPublicKey:450,MessageType_EthereumPublicKey:451,MessageType_EthereumGetAddress:56,MessageType_EthereumAddress:57,MessageType_EthereumSignTx:58,MessageType_EthereumSignTxEIP1559:452,MessageType_EthereumTxRequest:59,MessageType_EthereumTxAck:60,MessageType_EthereumSignMessage:64,MessageType_EthereumVerifyMessage:65,MessageType_EthereumMessageSignature:66,MessageType_EthereumSignTypedData:464,MessageType_EthereumTypedDataStructRequest:465,MessageType_EthereumTypedDataStructAck:466,MessageType_EthereumTypedDataValueRequest:467,MessageType_EthereumTypedDataValueAck:468,MessageType_EthereumTypedDataSignature:469,MessageType_EthereumSignTypedHash:470,MessageType_EthereumGetPublicKeyOneKey:20100,MessageType_EthereumPublicKeyOneKey:20101,MessageType_EthereumGetAddressOneKey:20102,MessageType_EthereumAddressOneKey:20103,MessageType_EthereumSignTxOneKey:20104,MessageType_EthereumSignTxEIP1559OneKey:20105,MessageType_EthereumTxRequestOneKey:20106,MessageType_EthereumTxAckOneKey:20107,MessageType_EthereumSignMessageOneKey:20108,MessageType_EthereumVerifyMessageOneKey:20109,MessageType_EthereumMessageSignatureOneKey:20110,MessageType_EthereumSignTypedDataOneKey:20111,MessageType_EthereumTypedDataStructRequestOneKey:20112,MessageType_EthereumTypedDataStructAckOneKey:20113,MessageType_EthereumTypedDataValueRequestOneKey:20114,MessageType_EthereumTypedDataValueAckOneKey:20115,MessageType_EthereumTypedDataSignatureOneKey:20116,MessageType_EthereumSignTypedHashOneKey:20117,MessageType_NEMGetAddress:67,MessageType_NEMAddress:68,MessageType_NEMSignTx:69,MessageType_NEMSignedTx:70,MessageType_NEMDecryptMessage:75,MessageType_NEMDecryptedMessage:76,MessageType_TezosGetAddress:150,MessageType_TezosAddress:151,MessageType_TezosSignTx:152,MessageType_TezosSignedTx:153,MessageType_TezosGetPublicKey:154,MessageType_TezosPublicKey:155,MessageType_StellarSignTx:202,MessageType_StellarTxOpRequest:203,MessageType_StellarGetAddress:207,MessageType_StellarAddress:208,MessageType_StellarCreateAccountOp:210,MessageType_StellarPaymentOp:211,MessageType_StellarPathPaymentStrictReceiveOp:212,MessageType_StellarManageSellOfferOp:213,MessageType_StellarCreatePassiveSellOfferOp:214,MessageType_StellarSetOptionsOp:215,MessageType_StellarChangeTrustOp:216,MessageType_StellarAllowTrustOp:217,MessageType_StellarAccountMergeOp:218,MessageType_StellarManageDataOp:220,MessageType_StellarBumpSequenceOp:221,MessageType_StellarManageBuyOfferOp:222,MessageType_StellarPathPaymentStrictSendOp:223,MessageType_StellarSignedTx:230,MessageType_CardanoGetPublicKey:305,MessageType_CardanoPublicKey:306,MessageType_CardanoGetAddress:307,MessageType_CardanoAddress:308,MessageType_CardanoTxItemAck:313,MessageType_CardanoTxAuxiliaryDataSupplement:314,MessageType_CardanoTxWitnessRequest:315,MessageType_CardanoTxWitnessResponse:316,MessageType_CardanoTxHostAck:317,MessageType_CardanoTxBodyHash:318,MessageType_CardanoSignTxFinished:319,MessageType_CardanoSignTxInit:320,MessageType_CardanoTxInput:321,MessageType_CardanoTxOutput:322,MessageType_CardanoAssetGroup:323,MessageType_CardanoToken:324,MessageType_CardanoTxCertificate:325,MessageType_CardanoTxWithdrawal:326,MessageType_CardanoTxAuxiliaryData:327,MessageType_CardanoPoolOwner:328,MessageType_CardanoPoolRelayParameters:329,MessageType_CardanoGetNativeScriptHash:330,MessageType_CardanoNativeScriptHash:331,MessageType_CardanoTxMint:332,MessageType_CardanoTxCollateralInput:333,MessageType_CardanoTxRequiredSigner:334,MessageType_CardanoTxInlineDatumChunk:335,MessageType_CardanoTxReferenceScriptChunk:336,MessageType_CardanoTxReferenceInput:337,MessageType_CardanoSignMessage:350,MessageType_CardanoMessageSignature:351,MessageType_RippleGetAddress:400,MessageType_RippleAddress:401,MessageType_RippleSignTx:402,MessageType_RippleSignedTx:403,MessageType_MoneroTransactionInitRequest:501,MessageType_MoneroTransactionInitAck:502,MessageType_MoneroTransactionSetInputRequest:503,MessageType_MoneroTransactionSetInputAck:504,MessageType_MoneroTransactionInputsPermutationRequest:505,MessageType_MoneroTransactionInputsPermutationAck:506,MessageType_MoneroTransactionInputViniRequest:507,MessageType_MoneroTransactionInputViniAck:508,MessageType_MoneroTransactionAllInputsSetRequest:509,MessageType_MoneroTransactionAllInputsSetAck:510,MessageType_MoneroTransactionSetOutputRequest:511,MessageType_MoneroTransactionSetOutputAck:512,MessageType_MoneroTransactionAllOutSetRequest:513,MessageType_MoneroTransactionAllOutSetAck:514,MessageType_MoneroTransactionSignInputRequest:515,MessageType_MoneroTransactionSignInputAck:516,MessageType_MoneroTransactionFinalRequest:517,MessageType_MoneroTransactionFinalAck:518,MessageType_MoneroKeyImageExportInitRequest:530,MessageType_MoneroKeyImageExportInitAck:531,MessageType_MoneroKeyImageSyncStepRequest:532,MessageType_MoneroKeyImageSyncStepAck:533,MessageType_MoneroKeyImageSyncFinalRequest:534,MessageType_MoneroKeyImageSyncFinalAck:535,MessageType_MoneroGetAddress:540,MessageType_MoneroAddress:541,MessageType_MoneroGetWatchKey:542,MessageType_MoneroWatchKey:543,MessageType_DebugMoneroDiagRequest:546,MessageType_DebugMoneroDiagAck:547,MessageType_MoneroGetTxKeyRequest:550,MessageType_MoneroGetTxKeyAck:551,MessageType_MoneroLiveRefreshStartRequest:552,MessageType_MoneroLiveRefreshStartAck:553,MessageType_MoneroLiveRefreshStepRequest:554,MessageType_MoneroLiveRefreshStepAck:555,MessageType_MoneroLiveRefreshFinalRequest:556,MessageType_MoneroLiveRefreshFinalAck:557,MessageType_EosGetPublicKey:600,MessageType_EosPublicKey:601,MessageType_EosSignTx:602,MessageType_EosTxActionRequest:603,MessageType_EosTxActionAck:604,MessageType_EosSignedTx:605,MessageType_BinanceGetAddress:700,MessageType_BinanceAddress:701,MessageType_BinanceGetPublicKey:702,MessageType_BinancePublicKey:703,MessageType_BinanceSignTx:704,MessageType_BinanceTxRequest:705,MessageType_BinanceTransferMsg:706,MessageType_BinanceOrderMsg:707,MessageType_BinanceCancelMsg:708,MessageType_BinanceSignedTx:709,MessageType_SolanaGetAddress:10100,MessageType_SolanaAddress:10101,MessageType_SolanaSignTx:10102,MessageType_SolanaSignedTx:10103,MessageType_StarcoinGetAddress:10300,MessageType_StarcoinAddress:10301,MessageType_StarcoinGetPublicKey:10302,MessageType_StarcoinPublicKey:10303,MessageType_StarcoinSignTx:10304,MessageType_StarcoinSignedTx:10305,MessageType_StarcoinSignMessage:10306,MessageType_StarcoinMessageSignature:10307,MessageType_StarcoinVerifyMessage:10308,MessageType_AptosGetAddress:10600,MessageType_AptosAddress:10601,MessageType_AptosSignTx:10602,MessageType_AptosSignedTx:10603,MessageType_AptosSignMessage:10604,MessageType_AptosMessageSignature:10605,MessageType_WebAuthnListResidentCredentials:800,MessageType_WebAuthnCredentials:801,MessageType_WebAuthnAddResidentCredential:802,MessageType_WebAuthnRemoveResidentCredential:803,MessageType_BixinSeedOperate:901,MessageType_BixinMessageSE:902,MessageType_BixinOutMessageSE:904,MessageType_BixinBackupRequest:905,MessageType_BixinBackupAck:906,MessageType_BixinRestoreRequest:907,MessageType_BixinRestoreAck:908,MessageType_BixinVerifyDeviceRequest:909,MessageType_BixinVerifyDeviceAck:910,MessageType_BixinWhiteListRequest:911,MessageType_BixinWhiteListAck:912,MessageType_BixinLoadDevice:913,MessageType_BixinBackupDevice:914,MessageType_BixinBackupDeviceAck:915,MessageType_BixinPinInputOnDevice:1e4,MessageType_EthereumSignMessageEIP712:10200,MessageType_GetPublicKeyMultiple:10210,MessageType_PublicKeyMultiple:10211,MessageType_ConfluxGetAddress:10112,MessageType_ConfluxAddress:10113,MessageType_ConfluxSignTx:10114,MessageType_ConfluxTxRequest:10115,MessageType_ConfluxTxAck:10116,MessageType_ConfluxSignMessage:10117,MessageType_ConfluxSignMessageCIP23:10118,MessageType_ConfluxMessageSignature:10119,MessageType_TronGetAddress:10501,MessageType_TronAddress:10502,MessageType_TronSignTx:10503,MessageType_TronSignedTx:10504,MessageType_TronSignMessage:10505,MessageType_TronMessageSignature:10506,MessageType_NearGetAddress:10701,MessageType_NearAddress:10702,MessageType_NearSignTx:10703,MessageType_NearSignedTx:10704,MessageType_CosmosGetAddress:10800,MessageType_CosmosAddress:10801,MessageType_CosmosSignTx:10802,MessageType_CosmosSignedTx:10803,MessageType_AlgorandGetAddress:10900,MessageType_AlgorandAddress:10901,MessageType_AlgorandSignTx:10902,MessageType_AlgorandSignedTx:10903,MessageType_PolkadotGetAddress:11e3,MessageType_PolkadotAddress:11001,MessageType_PolkadotSignTx:11002,MessageType_PolkadotSignedTx:11003,MessageType_SuiGetAddress:11100,MessageType_SuiAddress:11101,MessageType_SuiSignTx:11102,MessageType_SuiSignedTx:11103,MessageType_SuiSignMessage:11104,MessageType_SuiMessageSignature:11105,MessageType_SuiTxRequest:11106,MessageType_SuiTxAck:11107,MessageType_FilecoinGetAddress:11200,MessageType_FilecoinAddress:11201,MessageType_FilecoinSignTx:11202,MessageType_FilecoinSignedTx:11203,MessageType_KaspaGetAddress:11300,MessageType_KaspaAddress:11301,MessageType_KaspaSignTx:11302,MessageType_KaspaSignedTx:11303,MessageType_KaspaTxInputRequest:11304,MessageType_KaspaTxInputAck:11305,MessageType_NexaGetAddress:11400,MessageType_NexaAddress:11401,MessageType_NexaSignTx:11402,MessageType_NexaSignedTx:11403,MessageType_NexaTxInputRequest:11404,MessageType_NexaTxInputAck:11405,MessageType_NostrGetPublicKey:11500,MessageType_NostrPublicKey:11501,MessageType_NostrSignEvent:11502,MessageType_NostrSignedEvent:11503,MessageType_NostrEncryptMessage:11504,MessageType_NostrEncryptedMessage:11505,MessageType_NostrDecryptMessage:11506,MessageType_NostrDecryptedMessage:11507,MessageType_NostrSignSchnorr:11508,MessageType_NostrSignedSchnorr:11509,MessageType_LnurlAuth:11600,MessageType_LnurlAuthResp:11601,MessageType_NervosGetAddress:11701,MessageType_NervosAddress:11702,MessageType_NervosSignTx:11703,MessageType_NervosSignedTx:11704,MessageType_NervosTxRequest:11705,MessageType_NervosTxAck:11706,MessageType_DnxGetAddress:11800,MessageType_DnxAddress:11801,MessageType_DnxSignTx:11802,MessageType_DnxInputRequest:11803,MessageType_DnxInputAck:11804,MessageType_DnxRTSigsRequest:11805,MessageType_DnxSignedTx:11806,MessageType_TonGetAddress:11901,MessageType_TonAddress:11902,MessageType_TonSignMessage:11903,MessageType_TonSignedMessage:11904,MessageType_TonSignProof:11905,MessageType_TonSignedProof:11906,MessageType_ScdoGetAddress:12001,MessageType_ScdoAddress:12002,MessageType_ScdoSignTx:12003,MessageType_ScdoSignedTx:12004,MessageType_ScdoTxAck:12005,MessageType_ScdoSignMessage:12006,MessageType_ScdoSignedMessage:12007,MessageType_AlephiumGetAddress:12101,MessageType_AlephiumAddress:12102,MessageType_AlephiumSignTx:12103,MessageType_AlephiumSignedTx:12104,MessageType_AlephiumTxRequest:12105,MessageType_AlephiumTxAck:12106,MessageType_AlephiumBytecodeRequest:12107,MessageType_AlephiumBytecodeAck:12108,MessageType_AlephiumSignMessage:12109,MessageType_AlephiumMessageSignature:12110,MessageType_DeviceBackToBoot:903,MessageType_DeviceInfoSettings:10001,MessageType_GetDeviceInfo:10002,MessageType_DeviceInfo:10003,MessageType_ReadSEPublicKey:10004,MessageType_SEPublicKey:10005,MessageType_WriteSEPublicCert:10006,MessageType_ReadSEPublicCert:10007,MessageType_SEPublicCert:10008,MessageType_SpiFlashWrite:10009,MessageType_SpiFlashRead:10010,MessageType_SpiFlashData:10011,MessageType_SESignMessage:10012,MessageType_SEMessageSignature:10013,MessageType_NFTWriteInfo:10014,MessageType_NFTWriteData:10015,MessageType_ResourceUpload:10018,MessageType_ZoomRequest:10019,MessageType_ResourceRequest:10020,MessageType_ResourceAck:10021,MessageType_ResourceUpdate:10022,MessageType_ListResDir:10023,MessageType_FileInfoList:10024,MessageType_OnekeyGetFeatures:10025,MessageType_OnekeyFeatures:10026}},google:{nested:{protobuf:{nested:{FileDescriptorSet:{fields:{file:{rule:"repeated",type:"FileDescriptorProto",id:1}}},FileDescriptorProto:{fields:{name:{type:"string",id:1},package:{type:"string",id:2},dependency:{rule:"repeated",type:"string",id:3},public_dependency:{rule:"repeated",type:"int32",id:10,options:{packed:!1}},weak_dependency:{rule:"repeated",type:"int32",id:11,options:{packed:!1}},message_type:{rule:"repeated",type:"DescriptorProto",id:4},enum_type:{rule:"repeated",type:"EnumDescriptorProto",id:5},service:{rule:"repeated",type:"ServiceDescriptorProto",id:6},extension:{rule:"repeated",type:"FieldDescriptorProto",id:7},options:{type:"FileOptions",id:8},source_code_info:{type:"SourceCodeInfo",id:9},syntax:{type:"string",id:12}}},DescriptorProto:{fields:{name:{type:"string",id:1},field:{rule:"repeated",type:"FieldDescriptorProto",id:2},extension:{rule:"repeated",type:"FieldDescriptorProto",id:6},nested_type:{rule:"repeated",type:"DescriptorProto",id:3},enum_type:{rule:"repeated",type:"EnumDescriptorProto",id:4},extension_range:{rule:"repeated",type:"ExtensionRange",id:5},oneof_decl:{rule:"repeated",type:"OneofDescriptorProto",id:8},options:{type:"MessageOptions",id:7},reserved_range:{rule:"repeated",type:"ReservedRange",id:9},reserved_name:{rule:"repeated",type:"string",id:10}},nested:{ExtensionRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}},ReservedRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}}}},FieldDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:3},label:{type:"Label",id:4},type:{type:"Type",id:5},type_name:{type:"string",id:6},extendee:{type:"string",id:2},default_value:{type:"string",id:7},oneof_index:{type:"int32",id:9},json_name:{type:"string",id:10},options:{type:"FieldOptions",id:8}},nested:{Type:{values:{TYPE_DOUBLE:1,TYPE_FLOAT:2,TYPE_INT64:3,TYPE_UINT64:4,TYPE_INT32:5,TYPE_FIXED64:6,TYPE_FIXED32:7,TYPE_BOOL:8,TYPE_STRING:9,TYPE_GROUP:10,TYPE_MESSAGE:11,TYPE_BYTES:12,TYPE_UINT32:13,TYPE_ENUM:14,TYPE_SFIXED32:15,TYPE_SFIXED64:16,TYPE_SINT32:17,TYPE_SINT64:18}},Label:{values:{LABEL_OPTIONAL:1,LABEL_REQUIRED:2,LABEL_REPEATED:3}}}},OneofDescriptorProto:{fields:{name:{type:"string",id:1},options:{type:"OneofOptions",id:2}}},EnumDescriptorProto:{fields:{name:{type:"string",id:1},value:{rule:"repeated",type:"EnumValueDescriptorProto",id:2},options:{type:"EnumOptions",id:3}}},EnumValueDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:2},options:{type:"EnumValueOptions",id:3}}},ServiceDescriptorProto:{fields:{name:{type:"string",id:1},method:{rule:"repeated",type:"MethodDescriptorProto",id:2},options:{type:"ServiceOptions",id:3}}},MethodDescriptorProto:{fields:{name:{type:"string",id:1},input_type:{type:"string",id:2},output_type:{type:"string",id:3},options:{type:"MethodOptions",id:4},client_streaming:{type:"bool",id:5},server_streaming:{type:"bool",id:6}}},FileOptions:{fields:{java_package:{type:"string",id:1},java_outer_classname:{type:"string",id:8},java_multiple_files:{type:"bool",id:10},java_generate_equals_and_hash:{type:"bool",id:20,options:{deprecated:!0}},java_string_check_utf8:{type:"bool",id:27},optimize_for:{type:"OptimizeMode",id:9,options:{default:"SPEED"}},go_package:{type:"string",id:11},cc_generic_services:{type:"bool",id:16},java_generic_services:{type:"bool",id:17},py_generic_services:{type:"bool",id:18},deprecated:{type:"bool",id:23},cc_enable_arenas:{type:"bool",id:31},objc_class_prefix:{type:"string",id:36},csharp_namespace:{type:"string",id:37},uninterpreted_option:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[38,38]],nested:{OptimizeMode:{values:{SPEED:1,CODE_SIZE:2,LITE_RUNTIME:3}}}},MessageOptions:{fields:{message_set_wire_format:{type:"bool",id:1},no_standard_descriptor_accessor:{type:"bool",id:2},deprecated:{type:"bool",id:3},map_entry:{type:"bool",id:7},uninterpreted_option:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[8,8]]},FieldOptions:{fields:{ctype:{type:"CType",id:1,options:{default:"STRING"}},packed:{type:"bool",id:2},jstype:{type:"JSType",id:6,options:{default:"JS_NORMAL"}},lazy:{type:"bool",id:5},deprecated:{type:"bool",id:3},weak:{type:"bool",id:10},uninterpreted_option:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[4,4]],nested:{CType:{values:{STRING:0,CORD:1,STRING_PIECE:2}},JSType:{values:{JS_NORMAL:0,JS_STRING:1,JS_NUMBER:2}}}},OneofOptions:{fields:{uninterpreted_option:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumOptions:{fields:{allow_alias:{type:"bool",id:2},deprecated:{type:"bool",id:3},uninterpreted_option:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumValueOptions:{fields:{deprecated:{type:"bool",id:1},uninterpreted_option:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},ServiceOptions:{fields:{deprecated:{type:"bool",id:33},uninterpreted_option:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},MethodOptions:{fields:{deprecated:{type:"bool",id:33},uninterpreted_option:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},UninterpretedOption:{fields:{name:{rule:"repeated",type:"NamePart",id:2},identifier_value:{type:"string",id:3},positive_int_value:{type:"uint64",id:4},negative_int_value:{type:"int64",id:5},double_value:{type:"double",id:6},string_value:{type:"bytes",id:7},aggregate_value:{type:"string",id:8}},nested:{NamePart:{fields:{name_part:{rule:"required",type:"string",id:1},is_extension:{rule:"required",type:"bool",id:2}}}}},SourceCodeInfo:{fields:{location:{rule:"repeated",type:"Location",id:1}},nested:{Location:{fields:{path:{rule:"repeated",type:"int32",id:1},span:{rule:"repeated",type:"int32",id:2},leading_comments:{type:"string",id:3},trailing_comments:{type:"string",id:4},leading_detached_comments:{rule:"repeated",type:"string",id:6}}}}},GeneratedCodeInfo:{fields:{annotation:{rule:"repeated",type:"Annotation",id:1}},nested:{Annotation:{fields:{path:{rule:"repeated",type:"int32",id:1},source_file:{type:"string",id:2},begin:{type:"int32",id:3},end:{type:"int32",id:4}}}}}}}}}}},U={nested:{AlgorandGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:3}}},AlgorandAddress:{fields:{address:{type:"string",id:1}}},AlgorandSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},raw_tx:{rule:"required",type:"bytes",id:2}}},AlgorandSignedTx:{fields:{signature:{rule:"required",type:"bytes",id:1}}},AptosGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2}}},AptosAddress:{fields:{address:{type:"string",id:1}}},AptosSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},raw_tx:{rule:"required",type:"bytes",id:2}}},AptosSignedTx:{fields:{public_key:{rule:"required",type:"bytes",id:1},signature:{rule:"required",type:"bytes",id:2}}},AptosSignMessage:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},payload:{rule:"required",type:"AptosMessagePayload",id:2}},nested:{AptosMessagePayload:{fields:{address:{type:"string",id:2},chain_id:{type:"string",id:3},application:{type:"string",id:4},nonce:{rule:"required",type:"string",id:5},message:{rule:"required",type:"string",id:6}}}}},AptosMessageSignature:{fields:{signature:{rule:"required",type:"bytes",id:1},address:{rule:"required",type:"string",id:2}}},BinanceGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2}}},BinanceAddress:{fields:{address:{rule:"required",type:"string",id:1}}},BinanceGetPublicKey:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2}}},BinancePublicKey:{fields:{public_key:{rule:"required",type:"bytes",id:1}}},BinanceSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},msg_count:{type:"uint32",id:2},account_number:{type:"sint64",id:3},chain_id:{type:"string",id:4},memo:{type:"string",id:5},sequence:{type:"sint64",id:6},source:{type:"sint64",id:7}}},BinanceTxRequest:{fields:{}},BinanceTransferMsg:{fields:{inputs:{rule:"repeated",type:"BinanceInputOutput",id:1},outputs:{rule:"repeated",type:"BinanceInputOutput",id:2}},nested:{BinanceInputOutput:{fields:{address:{type:"string",id:1},coins:{rule:"repeated",type:"BinanceCoin",id:2}}},BinanceCoin:{fields:{amount:{type:"sint64",id:1},denom:{type:"string",id:2}}}}},BinanceOrderMsg:{fields:{id:{type:"string",id:1},ordertype:{type:"BinanceOrderType",id:2},price:{type:"sint64",id:3},quantity:{type:"sint64",id:4},sender:{type:"string",id:5},side:{type:"BinanceOrderSide",id:6},symbol:{type:"string",id:7},timeinforce:{type:"BinanceTimeInForce",id:8}},nested:{BinanceOrderType:{values:{OT_UNKNOWN:0,MARKET:1,LIMIT:2,OT_RESERVED:3}},BinanceOrderSide:{values:{SIDE_UNKNOWN:0,BUY:1,SELL:2}},BinanceTimeInForce:{values:{TIF_UNKNOWN:0,GTE:1,TIF_RESERVED:2,IOC:3}}}},BinanceCancelMsg:{fields:{refid:{type:"string",id:1},sender:{type:"string",id:2},symbol:{type:"string",id:3}}},BinanceSignedTx:{fields:{signature:{rule:"required",type:"bytes",id:1},public_key:{rule:"required",type:"bytes",id:2}}},InputScriptType:{values:{SPENDADDRESS:0,SPENDMULTISIG:1,EXTERNAL:2,SPENDWITNESS:3,SPENDP2SHWITNESS:4,SPENDTAPROOT:5}},OutputScriptType:{values:{PAYTOADDRESS:0,PAYTOSCRIPTHASH:1,PAYTOMULTISIG:2,PAYTOOPRETURN:3,PAYTOWITNESS:4,PAYTOP2SHWITNESS:5,PAYTOTAPROOT:6}},DecredStakingSpendType:{values:{SSGen:0,SSRTX:1}},AmountUnit:{values:{BITCOIN:0,MILLIBITCOIN:1,MICROBITCOIN:2,SATOSHI:3}},MultisigRedeemScriptType:{fields:{pubkeys:{rule:"repeated",type:"HDNodePathType",id:1},signatures:{rule:"repeated",type:"bytes",id:2},m:{rule:"required",type:"uint32",id:3},nodes:{rule:"repeated",type:"HDNodeType",id:4},address_n:{rule:"repeated",type:"uint32",id:5,options:{packed:!1}}},nested:{HDNodePathType:{fields:{node:{rule:"required",type:"HDNodeType",id:1},address_n:{rule:"repeated",type:"uint32",id:2,options:{packed:!1}}}}}},GetPublicKey:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},ecdsa_curve_name:{type:"string",id:2},show_display:{type:"bool",id:3},coin_name:{type:"string",id:4,options:{default:"Bitcoin"}},script_type:{type:"InputScriptType",id:5,options:{default:"SPENDADDRESS"}},ignore_xpub_magic:{type:"bool",id:6}}},PublicKey:{fields:{node:{rule:"required",type:"HDNodeType",id:1},xpub:{rule:"required",type:"string",id:2},root_fingerprint:{type:"uint32",id:3}}},GetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},coin_name:{type:"string",id:2,options:{default:"Bitcoin"}},show_display:{type:"bool",id:3},multisig:{type:"MultisigRedeemScriptType",id:4},script_type:{type:"InputScriptType",id:5,options:{default:"SPENDADDRESS"}},ignore_xpub_magic:{type:"bool",id:6}}},Address:{fields:{address:{rule:"required",type:"string",id:1}}},GetOwnershipId:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},coin_name:{type:"string",id:2,options:{default:"Bitcoin"}},multisig:{type:"MultisigRedeemScriptType",id:3},script_type:{type:"InputScriptType",id:4,options:{default:"SPENDADDRESS"}}}},OwnershipId:{fields:{ownership_id:{rule:"required",type:"bytes",id:1}}},SignMessage:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},message:{rule:"required",type:"bytes",id:2},coin_name:{type:"string",id:3,options:{default:"Bitcoin"}},script_type:{type:"InputScriptType",id:4,options:{default:"SPENDADDRESS"}},no_script_type:{type:"bool",id:5}}},MessageSignature:{fields:{address:{rule:"required",type:"string",id:1},signature:{rule:"required",type:"bytes",id:2}}},VerifyMessage:{fields:{address:{rule:"required",type:"string",id:1},signature:{rule:"required",type:"bytes",id:2},message:{rule:"required",type:"bytes",id:3},coin_name:{type:"string",id:4,options:{default:"Bitcoin"}}}},SignTx:{fields:{outputs_count:{rule:"required",type:"uint32",id:1},inputs_count:{rule:"required",type:"uint32",id:2},coin_name:{type:"string",id:3,options:{default:"Bitcoin"}},version:{type:"uint32",id:4,options:{default:1}},lock_time:{type:"uint32",id:5,options:{default:0}},expiry:{type:"uint32",id:6},overwintered:{type:"bool",id:7,options:{deprecated:!0}},version_group_id:{type:"uint32",id:8},timestamp:{type:"uint32",id:9},branch_id:{type:"uint32",id:10},amount_unit:{type:"AmountUnit",id:11,options:{default:"BITCOIN"}},decred_staking_ticket:{type:"bool",id:12,options:{default:!1}}}},TxRequest:{fields:{request_type:{type:"RequestType",id:1},details:{type:"TxRequestDetailsType",id:2},serialized:{type:"TxRequestSerializedType",id:3}},nested:{RequestType:{values:{TXINPUT:0,TXOUTPUT:1,TXMETA:2,TXFINISHED:3,TXEXTRADATA:4,TXORIGINPUT:5,TXORIGOUTPUT:6}},TxRequestDetailsType:{fields:{request_index:{type:"uint32",id:1},tx_hash:{type:"bytes",id:2},extra_data_len:{type:"uint32",id:3},extra_data_offset:{type:"uint32",id:4}}},TxRequestSerializedType:{fields:{signature_index:{type:"uint32",id:1},signature:{type:"bytes",id:2},serialized_tx:{type:"bytes",id:3}}}}},TxAck:{options:{deprecated:!0},fields:{tx:{type:"TransactionType",id:1}},nested:{TransactionType:{fields:{version:{type:"uint32",id:1},inputs:{rule:"repeated",type:"TxInputType",id:2},bin_outputs:{rule:"repeated",type:"TxOutputBinType",id:3},lock_time:{type:"uint32",id:4},outputs:{rule:"repeated",type:"TxOutputType",id:5},inputs_cnt:{type:"uint32",id:6},outputs_cnt:{type:"uint32",id:7},extra_data:{type:"bytes",id:8},extra_data_len:{type:"uint32",id:9},expiry:{type:"uint32",id:10},overwintered:{type:"bool",id:11,options:{deprecated:!0}},version_group_id:{type:"uint32",id:12},timestamp:{type:"uint32",id:13},branch_id:{type:"uint32",id:14}},nested:{TxInputType:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},prev_hash:{rule:"required",type:"bytes",id:2},prev_index:{rule:"required",type:"uint32",id:3},script_sig:{type:"bytes",id:4},sequence:{type:"uint32",id:5,options:{default:4294967295}},script_type:{type:"InputScriptType",id:6,options:{default:"SPENDADDRESS"}},multisig:{type:"MultisigRedeemScriptType",id:7},amount:{type:"uint64",id:8},decred_tree:{type:"uint32",id:9},witness:{type:"bytes",id:13},ownership_proof:{type:"bytes",id:14},commitment_data:{type:"bytes",id:15},orig_hash:{type:"bytes",id:16},orig_index:{type:"uint32",id:17},decred_staking_spend:{type:"DecredStakingSpendType",id:18},script_pubkey:{type:"bytes",id:19}}},TxOutputBinType:{fields:{amount:{rule:"required",type:"uint64",id:1},script_pubkey:{rule:"required",type:"bytes",id:2},decred_script_version:{type:"uint32",id:3}}},TxOutputType:{fields:{address:{type:"string",id:1},address_n:{rule:"repeated",type:"uint32",id:2,options:{packed:!1}},amount:{rule:"required",type:"uint64",id:3},script_type:{type:"OutputScriptType",id:4,options:{default:"PAYTOADDRESS"}},multisig:{type:"MultisigRedeemScriptType",id:5},op_return_data:{type:"bytes",id:6},orig_hash:{type:"bytes",id:10},orig_index:{type:"uint32",id:11}}}}}}},TxInput:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},prev_hash:{rule:"required",type:"bytes",id:2},prev_index:{rule:"required",type:"uint32",id:3},script_sig:{type:"bytes",id:4},sequence:{type:"uint32",id:5,options:{default:4294967295}},script_type:{type:"InputScriptType",id:6,options:{default:"SPENDADDRESS"}},multisig:{type:"MultisigRedeemScriptType",id:7},amount:{rule:"required",type:"uint64",id:8},decred_tree:{type:"uint32",id:9},witness:{type:"bytes",id:13},ownership_proof:{type:"bytes",id:14},commitment_data:{type:"bytes",id:15},orig_hash:{type:"bytes",id:16},orig_index:{type:"uint32",id:17},decred_staking_spend:{type:"DecredStakingSpendType",id:18},script_pubkey:{type:"bytes",id:19}}},TxOutput:{fields:{address:{type:"string",id:1},address_n:{rule:"repeated",type:"uint32",id:2,options:{packed:!1}},amount:{rule:"required",type:"uint64",id:3},script_type:{type:"OutputScriptType",id:4,options:{default:"PAYTOADDRESS"}},multisig:{type:"MultisigRedeemScriptType",id:5},op_return_data:{type:"bytes",id:6},orig_hash:{type:"bytes",id:10},orig_index:{type:"uint32",id:11}}},PrevTx:{fields:{version:{rule:"required",type:"uint32",id:1},lock_time:{rule:"required",type:"uint32",id:4},inputs_count:{rule:"required",type:"uint32",id:6},outputs_count:{rule:"required",type:"uint32",id:7},extra_data_len:{type:"uint32",id:9,options:{default:0}},expiry:{type:"uint32",id:10},version_group_id:{type:"uint32",id:12},timestamp:{type:"uint32",id:13},branch_id:{type:"uint32",id:14}}},PrevInput:{fields:{prev_hash:{rule:"required",type:"bytes",id:2},prev_index:{rule:"required",type:"uint32",id:3},script_sig:{rule:"required",type:"bytes",id:4},sequence:{rule:"required",type:"uint32",id:5},decred_tree:{type:"uint32",id:9}}},PrevOutput:{fields:{amount:{rule:"required",type:"uint64",id:1},script_pubkey:{rule:"required",type:"bytes",id:2},decred_script_version:{type:"uint32",id:3}}},TxAckInput:{options:{"(wire_type)":22},fields:{tx:{rule:"required",type:"TxAckInputWrapper",id:1}},nested:{TxAckInputWrapper:{fields:{input:{rule:"required",type:"TxInput",id:2}}}}},TxAckOutput:{options:{"(wire_type)":22},fields:{tx:{rule:"required",type:"TxAckOutputWrapper",id:1}},nested:{TxAckOutputWrapper:{fields:{output:{rule:"required",type:"TxOutput",id:5}}}}},TxAckPrevMeta:{options:{"(wire_type)":22},fields:{tx:{rule:"required",type:"PrevTx",id:1}}},TxAckPrevInput:{options:{"(wire_type)":22},fields:{tx:{rule:"required",type:"TxAckPrevInputWrapper",id:1}},nested:{TxAckPrevInputWrapper:{fields:{input:{rule:"required",type:"PrevInput",id:2}}}}},TxAckPrevOutput:{options:{"(wire_type)":22},fields:{tx:{rule:"required",type:"TxAckPrevOutputWrapper",id:1}},nested:{TxAckPrevOutputWrapper:{fields:{output:{rule:"required",type:"PrevOutput",id:3}}}}},TxAckPrevExtraData:{options:{"(wire_type)":22},fields:{tx:{rule:"required",type:"TxAckPrevExtraDataWrapper",id:1}},nested:{TxAckPrevExtraDataWrapper:{fields:{extra_data_chunk:{rule:"required",type:"bytes",id:8}}}}},GetOwnershipProof:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},coin_name:{type:"string",id:2,options:{default:"Bitcoin"}},script_type:{type:"InputScriptType",id:3,options:{default:"SPENDWITNESS"}},multisig:{type:"MultisigRedeemScriptType",id:4},user_confirmation:{type:"bool",id:5,options:{default:!1}},ownership_ids:{rule:"repeated",type:"bytes",id:6},commitment_data:{type:"bytes",id:7,options:{default:""}}}},OwnershipProof:{fields:{ownership_proof:{rule:"required",type:"bytes",id:1},signature:{rule:"required",type:"bytes",id:2}}},AuthorizeCoinJoin:{options:{"(unstable)":!0},fields:{coordinator:{rule:"required",type:"string",id:1},max_total_fee:{rule:"required",type:"uint64",id:2},fee_per_anonymity:{type:"uint32",id:3,options:{default:0}},address_n:{rule:"repeated",type:"uint32",id:4,options:{packed:!1}},coin_name:{type:"string",id:5,options:{default:"Bitcoin"}},script_type:{type:"InputScriptType",id:6,options:{default:"SPENDADDRESS"}},amount_unit:{type:"AmountUnit",id:11,options:{default:"BITCOIN"}}}},GetPublicKeyMultiple:{fields:{addresses:{rule:"repeated",type:"BIP32Address",id:1},ecdsa_curve_name:{type:"string",id:2},show_display:{type:"bool",id:3},coin_name:{type:"string",id:4,options:{default:"Bitcoin"}},script_type:{type:"InputScriptType",id:5,options:{default:"SPENDADDRESS"}},ignore_xpub_magic:{type:"bool",id:6}},nested:{BIP32Address:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}}}}}},PublicKeyMultiple:{fields:{xpubs:{rule:"repeated",type:"string",id:1}}},FirmwareErase:{fields:{length:{type:"uint32",id:1}}},FirmwareRequest:{fields:{offset:{type:"uint32",id:1},length:{type:"uint32",id:2}}},FirmwareUpload:{fields:{payload:{rule:"required",type:"bytes",id:1},hash:{type:"bytes",id:2}}},SelfTest:{fields:{payload:{type:"bytes",id:1}}},FirmwareErase_ex:{fields:{length:{type:"uint32",id:1}}},RebootType:{values:{Normal:0,Boardloader:1,BootLoader:2}},Reboot:{fields:{reboot_type:{rule:"required",type:"RebootType",id:1}}},FirmwareUpdateEmmc:{fields:{path:{rule:"required",type:"string",id:1},reboot_on_success:{type:"bool",id:2}}},CardanoDerivationType:{values:{LEDGER:0,ICARUS:1,ICARUS_TREZOR:2}},CardanoAddressType:{values:{BASE:0,BASE_SCRIPT_KEY:1,BASE_KEY_SCRIPT:2,BASE_SCRIPT_SCRIPT:3,POINTER:4,POINTER_SCRIPT:5,ENTERPRISE:6,ENTERPRISE_SCRIPT:7,BYRON:8,REWARD:14,REWARD_SCRIPT:15}},CardanoNativeScriptType:{values:{PUB_KEY:0,ALL:1,ANY:2,N_OF_K:3,INVALID_BEFORE:4,INVALID_HEREAFTER:5}},CardanoNativeScriptHashDisplayFormat:{values:{HIDE:0,BECH32:1,POLICY_ID:2}},CardanoTxOutputSerializationFormat:{values:{ARRAY_LEGACY:0,MAP_BABBAGE:1}},CardanoCertificateType:{values:{STAKE_REGISTRATION:0,STAKE_DEREGISTRATION:1,STAKE_DELEGATION:2,STAKE_POOL_REGISTRATION:3}},CardanoPoolRelayType:{values:{SINGLE_HOST_IP:0,SINGLE_HOST_NAME:1,MULTIPLE_HOST_NAME:2}},CardanoTxAuxiliaryDataSupplementType:{values:{NONE:0,GOVERNANCE_REGISTRATION_SIGNATURE:1}},CardanoGovernanceRegistrationFormat:{values:{CIP15:0,CIP36:1}},CardanoTxSigningMode:{values:{ORDINARY_TRANSACTION:0,POOL_REGISTRATION_AS_OWNER:1,MULTISIG_TRANSACTION:2,PLUTUS_TRANSACTION:3}},CardanoTxWitnessType:{values:{BYRON_WITNESS:0,SHELLEY_WITNESS:1}},CardanoBlockchainPointerType:{fields:{block_index:{rule:"required",type:"uint32",id:1},tx_index:{rule:"required",type:"uint32",id:2},certificate_index:{rule:"required",type:"uint32",id:3}}},CardanoNativeScript:{fields:{type:{rule:"required",type:"CardanoNativeScriptType",id:1},scripts:{rule:"repeated",type:"CardanoNativeScript",id:2},key_hash:{type:"bytes",id:3},key_path:{rule:"repeated",type:"uint32",id:4,options:{packed:!1}},required_signatures_count:{type:"uint32",id:5},invalid_before:{type:"uint64",id:6},invalid_hereafter:{type:"uint64",id:7}}},CardanoGetNativeScriptHash:{fields:{script:{rule:"required",type:"CardanoNativeScript",id:1},display_format:{rule:"required",type:"CardanoNativeScriptHashDisplayFormat",id:2},derivation_type:{rule:"required",type:"CardanoDerivationType",id:3}}},CardanoNativeScriptHash:{fields:{script_hash:{rule:"required",type:"bytes",id:1}}},CardanoAddressParametersType:{fields:{address_type:{rule:"required",type:"CardanoAddressType",id:1},address_n:{rule:"repeated",type:"uint32",id:2,options:{packed:!1}},address_n_staking:{rule:"repeated",type:"uint32",id:3,options:{packed:!1}},staking_key_hash:{type:"bytes",id:4},certificate_pointer:{type:"CardanoBlockchainPointerType",id:5},script_payment_hash:{type:"bytes",id:6},script_staking_hash:{type:"bytes",id:7}}},CardanoGetAddress:{fields:{show_display:{type:"bool",id:2,options:{default:!1}},protocol_magic:{rule:"required",type:"uint32",id:3},network_id:{rule:"required",type:"uint32",id:4},address_parameters:{rule:"required",type:"CardanoAddressParametersType",id:5},derivation_type:{rule:"required",type:"CardanoDerivationType",id:6}}},CardanoAddress:{fields:{address:{rule:"required",type:"string",id:1}}},CardanoGetPublicKey:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2},derivation_type:{rule:"required",type:"CardanoDerivationType",id:3}}},CardanoPublicKey:{fields:{xpub:{rule:"required",type:"string",id:1},node:{rule:"required",type:"HDNodeType",id:2}}},CardanoSignTxInit:{fields:{signing_mode:{rule:"required",type:"CardanoTxSigningMode",id:1},protocol_magic:{rule:"required",type:"uint32",id:2},network_id:{rule:"required",type:"uint32",id:3},inputs_count:{rule:"required",type:"uint32",id:4},outputs_count:{rule:"required",type:"uint32",id:5},fee:{rule:"required",type:"uint64",id:6},ttl:{type:"uint64",id:7},certificates_count:{rule:"required",type:"uint32",id:8},withdrawals_count:{rule:"required",type:"uint32",id:9},has_auxiliary_data:{rule:"required",type:"bool",id:10},validity_interval_start:{type:"uint64",id:11},witness_requests_count:{rule:"required",type:"uint32",id:12},minting_asset_groups_count:{rule:"required",type:"uint32",id:13},derivation_type:{rule:"required",type:"CardanoDerivationType",id:14},include_network_id:{type:"bool",id:15,options:{default:!1}},script_data_hash:{type:"bytes",id:16},collateral_inputs_count:{rule:"required",type:"uint32",id:17},required_signers_count:{rule:"required",type:"uint32",id:18},has_collateral_return:{type:"bool",id:19,options:{default:!1}},total_collateral:{type:"uint64",id:20},reference_inputs_count:{type:"uint32",id:21,options:{default:0}}}},CardanoTxInput:{fields:{prev_hash:{rule:"required",type:"bytes",id:1},prev_index:{rule:"required",type:"uint32",id:2}}},CardanoTxOutput:{fields:{address:{type:"string",id:1},address_parameters:{type:"CardanoAddressParametersType",id:2},amount:{rule:"required",type:"uint64",id:3},asset_groups_count:{rule:"required",type:"uint32",id:4},datum_hash:{type:"bytes",id:5},format:{type:"CardanoTxOutputSerializationFormat",id:6,options:{default:"ARRAY_LEGACY"}},inline_datum_size:{type:"uint32",id:7,options:{default:0}},reference_script_size:{type:"uint32",id:8,options:{default:0}}}},CardanoAssetGroup:{fields:{policy_id:{rule:"required",type:"bytes",id:1},tokens_count:{rule:"required",type:"uint32",id:2}}},CardanoToken:{fields:{asset_name_bytes:{rule:"required",type:"bytes",id:1},amount:{type:"uint64",id:2},mint_amount:{type:"sint64",id:3}}},CardanoTxInlineDatumChunk:{fields:{data:{rule:"required",type:"bytes",id:1}}},CardanoTxReferenceScriptChunk:{fields:{data:{rule:"required",type:"bytes",id:1}}},CardanoPoolOwner:{fields:{staking_key_path:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},staking_key_hash:{type:"bytes",id:2}}},CardanoPoolRelayParameters:{fields:{type:{rule:"required",type:"CardanoPoolRelayType",id:1},ipv4_address:{type:"bytes",id:2},ipv6_address:{type:"bytes",id:3},host_name:{type:"string",id:4},port:{type:"uint32",id:5}}},CardanoPoolMetadataType:{fields:{url:{rule:"required",type:"string",id:1},hash:{rule:"required",type:"bytes",id:2}}},CardanoPoolParametersType:{fields:{pool_id:{rule:"required",type:"bytes",id:1},vrf_key_hash:{rule:"required",type:"bytes",id:2},pledge:{rule:"required",type:"uint64",id:3},cost:{rule:"required",type:"uint64",id:4},margin_numerator:{rule:"required",type:"uint64",id:5},margin_denominator:{rule:"required",type:"uint64",id:6},reward_account:{rule:"required",type:"string",id:7},metadata:{type:"CardanoPoolMetadataType",id:10},owners_count:{rule:"required",type:"uint32",id:11},relays_count:{rule:"required",type:"uint32",id:12}}},CardanoTxCertificate:{fields:{type:{rule:"required",type:"CardanoCertificateType",id:1},path:{rule:"repeated",type:"uint32",id:2,options:{packed:!1}},pool:{type:"bytes",id:3},pool_parameters:{type:"CardanoPoolParametersType",id:4},script_hash:{type:"bytes",id:5},key_hash:{type:"bytes",id:6}}},CardanoTxWithdrawal:{fields:{path:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},amount:{rule:"required",type:"uint64",id:2},script_hash:{type:"bytes",id:3},key_hash:{type:"bytes",id:4}}},CardanoGovernanceRegistrationDelegation:{fields:{voting_public_key:{rule:"required",type:"bytes",id:1},weight:{rule:"required",type:"uint32",id:2}}},CardanoGovernanceRegistrationParametersType:{fields:{voting_public_key:{type:"bytes",id:1},staking_path:{rule:"repeated",type:"uint32",id:2,options:{packed:!1}},reward_address_parameters:{rule:"required",type:"CardanoAddressParametersType",id:3},nonce:{rule:"required",type:"uint64",id:4},format:{type:"CardanoGovernanceRegistrationFormat",id:5,options:{default:"CIP15"}},delegations:{rule:"repeated",type:"CardanoGovernanceRegistrationDelegation",id:6},voting_purpose:{type:"uint64",id:7}}},CardanoTxAuxiliaryData:{fields:{governance_registration_parameters:{type:"CardanoGovernanceRegistrationParametersType",id:1},hash:{type:"bytes",id:2}}},CardanoTxMint:{fields:{asset_groups_count:{rule:"required",type:"uint32",id:1}}},CardanoTxCollateralInput:{fields:{prev_hash:{rule:"required",type:"bytes",id:1},prev_index:{rule:"required",type:"uint32",id:2}}},CardanoTxRequiredSigner:{fields:{key_hash:{type:"bytes",id:1},key_path:{rule:"repeated",type:"uint32",id:2,options:{packed:!1}}}},CardanoTxReferenceInput:{fields:{prev_hash:{rule:"required",type:"bytes",id:1},prev_index:{rule:"required",type:"uint32",id:2}}},CardanoTxItemAck:{fields:{}},CardanoTxAuxiliaryDataSupplement:{fields:{type:{rule:"required",type:"CardanoTxAuxiliaryDataSupplementType",id:1},auxiliary_data_hash:{type:"bytes",id:2},governance_signature:{type:"bytes",id:3}}},CardanoTxWitnessRequest:{fields:{path:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}}}},CardanoTxWitnessResponse:{fields:{type:{rule:"required",type:"CardanoTxWitnessType",id:1},pub_key:{rule:"required",type:"bytes",id:2},signature:{rule:"required",type:"bytes",id:3},chain_code:{type:"bytes",id:4}}},CardanoTxHostAck:{fields:{}},CardanoTxBodyHash:{fields:{tx_hash:{rule:"required",type:"bytes",id:1}}},CardanoSignTxFinished:{fields:{}},CardanoSignMessage:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},message:{rule:"required",type:"bytes",id:2},derivation_type:{rule:"required",type:"CardanoDerivationType",id:3},network_id:{rule:"required",type:"uint32",id:4}}},CardanoMessageSignature:{fields:{signature:{rule:"required",type:"bytes",id:1},key:{rule:"required",type:"bytes",id:2}}},Success:{fields:{message:{type:"string",id:1,options:{default:""}}}},Failure:{fields:{code:{type:"FailureType",id:1},message:{type:"string",id:2}},nested:{FailureType:{values:{Failure_UnexpectedMessage:1,Failure_ButtonExpected:2,Failure_DataError:3,Failure_ActionCancelled:4,Failure_PinExpected:5,Failure_PinCancelled:6,Failure_PinInvalid:7,Failure_InvalidSignature:8,Failure_ProcessError:9,Failure_NotEnoughFunds:10,Failure_NotInitialized:11,Failure_PinMismatch:12,Failure_WipeCodeMismatch:13,Failure_InvalidSession:14,Failure_FirmwareError:99}}}},ButtonRequest:{fields:{code:{type:"ButtonRequestType",id:1},pages:{type:"uint32",id:2}},nested:{ButtonRequestType:{values:{ButtonRequest_Other:1,ButtonRequest_FeeOverThreshold:2,ButtonRequest_ConfirmOutput:3,ButtonRequest_ResetDevice:4,ButtonRequest_ConfirmWord:5,ButtonRequest_WipeDevice:6,ButtonRequest_ProtectCall:7,ButtonRequest_SignTx:8,ButtonRequest_FirmwareCheck:9,ButtonRequest_Address:10,ButtonRequest_PublicKey:11,ButtonRequest_MnemonicWordCount:12,ButtonRequest_MnemonicInput:13,_Deprecated_ButtonRequest_PassphraseType:14,ButtonRequest_UnknownDerivationPath:15,ButtonRequest_RecoveryHomepage:16,ButtonRequest_Success:17,ButtonRequest_Warning:18,ButtonRequest_PassphraseEntry:19,ButtonRequest_PinEntry:20}}}},ButtonAck:{fields:{}},PinMatrixRequest:{fields:{type:{type:"PinMatrixRequestType",id:1}},nested:{PinMatrixRequestType:{values:{PinMatrixRequestType_Current:1,PinMatrixRequestType_NewFirst:2,PinMatrixRequestType_NewSecond:3,PinMatrixRequestType_WipeCodeFirst:4,PinMatrixRequestType_WipeCodeSecond:5,PinMatrixRequestType_BackupFirst:6,PinMatrixRequestType_BackupSecond:7}}}},PinMatrixAck:{fields:{pin:{rule:"required",type:"string",id:1},new_pin:{type:"string",id:2}}},PassphraseRequest:{fields:{_on_device:{type:"bool",id:1,options:{deprecated:!0}}}},PassphraseAck:{fields:{passphrase:{type:"string",id:1},_state:{type:"bytes",id:2,options:{deprecated:!0}},on_device:{type:"bool",id:3}}},Deprecated_PassphraseStateRequest:{options:{deprecated:!0},fields:{state:{type:"bytes",id:1}}},Deprecated_PassphraseStateAck:{options:{deprecated:!0},fields:{}},HDNodeType:{fields:{depth:{rule:"required",type:"uint32",id:1},fingerprint:{rule:"required",type:"uint32",id:2},child_num:{rule:"required",type:"uint32",id:3},chain_code:{rule:"required",type:"bytes",id:4},private_key:{type:"bytes",id:5},public_key:{rule:"required",type:"bytes",id:6}}},BixinPinInputOnDevice:{fields:{}},ConfluxGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2},chain_id:{type:"uint32",id:3}}},ConfluxAddress:{fields:{address:{type:"string",id:1}}},ConfluxSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},nonce:{type:"bytes",id:2},gas_price:{type:"bytes",id:3},gas_limit:{type:"bytes",id:4},to:{type:"string",id:5},value:{type:"bytes",id:6},epoch_height:{type:"bytes",id:7},storage_limit:{type:"bytes",id:8},data_initial_chunk:{type:"bytes",id:9},data_length:{type:"uint32",id:10},chain_id:{type:"uint32",id:11}}},ConfluxTxRequest:{fields:{data_length:{type:"uint32",id:1},signature_v:{type:"uint32",id:2},signature_r:{type:"bytes",id:3},signature_s:{type:"bytes",id:4}}},ConfluxTxAck:{fields:{data_chunk:{type:"bytes",id:1}}},ConfluxSignMessage:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},message:{type:"bytes",id:2}}},ConfluxMessageSignature:{fields:{signature:{type:"bytes",id:2},address:{type:"string",id:3}}},ConfluxSignMessageCIP23:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},domain_hash:{type:"bytes",id:2},message_hash:{type:"bytes",id:3}}},CosmosGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},hrp:{type:"string",id:2},show_display:{type:"bool",id:3}}},CosmosAddress:{fields:{address:{type:"string",id:1}}},CosmosSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},raw_tx:{rule:"required",type:"bytes",id:2}}},CosmosSignedTx:{fields:{signature:{rule:"required",type:"bytes",id:1}}},CipherKeyValue:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},key:{rule:"required",type:"string",id:2},value:{rule:"required",type:"bytes",id:3},encrypt:{type:"bool",id:4},ask_on_encrypt:{type:"bool",id:5},ask_on_decrypt:{type:"bool",id:6},iv:{type:"bytes",id:7}}},CipheredKeyValue:{fields:{value:{rule:"required",type:"bytes",id:1}}},IdentityType:{fields:{proto:{type:"string",id:1},user:{type:"string",id:2},host:{type:"string",id:3},port:{type:"string",id:4},path:{type:"string",id:5},index:{type:"uint32",id:6,options:{default:0}}}},SignIdentity:{fields:{identity:{rule:"required",type:"IdentityType",id:1},challenge_hidden:{type:"bytes",id:2,options:{default:""}},challenge_visual:{type:"string",id:3,options:{default:""}},ecdsa_curve_name:{type:"string",id:4}}},SignedIdentity:{fields:{address:{type:"string",id:1},public_key:{rule:"required",type:"bytes",id:2},signature:{rule:"required",type:"bytes",id:3}}},GetECDHSessionKey:{fields:{identity:{rule:"required",type:"IdentityType",id:1},peer_public_key:{rule:"required",type:"bytes",id:2},ecdsa_curve_name:{type:"string",id:3}}},ECDHSessionKey:{fields:{session_key:{rule:"required",type:"bytes",id:1},public_key:{type:"bytes",id:2}}},CosiCommit:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},data:{type:"bytes",id:2}}},CosiCommitment:{fields:{commitment:{type:"bytes",id:1},pubkey:{type:"bytes",id:2}}},CosiSign:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},data:{type:"bytes",id:2},global_commitment:{type:"bytes",id:3},global_pubkey:{type:"bytes",id:4}}},CosiSignature:{fields:{signature:{rule:"required",type:"bytes",id:1}}},BatchGetPublickeys:{fields:{ecdsa_curve_name:{type:"string",id:1,options:{default:"ed25519"}},paths:{rule:"repeated",type:"Path",id:2}},nested:{Path:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}}}}}},EcdsaPublicKeys:{fields:{public_keys:{rule:"repeated",type:"bytes",id:1}}},DebugLinkDecision:{fields:{yes_no:{type:"bool",id:1},swipe:{type:"DebugSwipeDirection",id:2},input:{type:"string",id:3},x:{type:"uint32",id:4},y:{type:"uint32",id:5},wait:{type:"bool",id:6},hold_ms:{type:"uint32",id:7}},nested:{DebugSwipeDirection:{values:{UP:0,DOWN:1,LEFT:2,RIGHT:3}}}},DebugLinkLayout:{fields:{lines:{rule:"repeated",type:"string",id:1}}},DebugLinkReseedRandom:{fields:{value:{type:"uint32",id:1}}},DebugLinkRecordScreen:{fields:{target_directory:{type:"string",id:1}}},DebugLinkGetState:{fields:{wait_word_list:{type:"bool",id:1},wait_word_pos:{type:"bool",id:2},wait_layout:{type:"bool",id:3}}},DebugLinkState:{fields:{layout:{type:"bytes",id:1},pin:{type:"string",id:2},matrix:{type:"string",id:3},mnemonic_secret:{type:"bytes",id:4},node:{type:"HDNodeType",id:5},passphrase_protection:{type:"bool",id:6},reset_word:{type:"string",id:7},reset_entropy:{type:"bytes",id:8},recovery_fake_word:{type:"string",id:9},recovery_word_pos:{type:"uint32",id:10},reset_word_pos:{type:"uint32",id:11},mnemonic_type:{type:"BackupType",id:12},layout_lines:{rule:"repeated",type:"string",id:13}}},DebugLinkStop:{fields:{}},DebugLinkLog:{fields:{level:{type:"uint32",id:1},bucket:{type:"string",id:2},text:{type:"string",id:3}}},DebugLinkMemoryRead:{fields:{address:{type:"uint32",id:1},length:{type:"uint32",id:2}}},DebugLinkMemory:{fields:{memory:{type:"bytes",id:1}}},DebugLinkMemoryWrite:{fields:{address:{type:"uint32",id:1},memory:{type:"bytes",id:2},flash:{type:"bool",id:3}}},DebugLinkFlashErase:{fields:{sector:{type:"uint32",id:1}}},DebugLinkEraseSdCard:{fields:{format:{type:"bool",id:1}}},DebugLinkWatchLayout:{fields:{watch:{type:"bool",id:1}}},EmmcFixPermission:{fields:{}},EmmcPath:{fields:{exist:{rule:"required",type:"bool",id:1},size:{rule:"required",type:"uint64",id:2},year:{rule:"required",type:"uint32",id:3},month:{rule:"required",type:"uint32",id:4},day:{rule:"required",type:"uint32",id:5},hour:{rule:"required",type:"uint32",id:6},minute:{rule:"required",type:"uint32",id:7},second:{rule:"required",type:"uint32",id:8},readonly:{rule:"required",type:"bool",id:9},hidden:{rule:"required",type:"bool",id:10},system:{rule:"required",type:"bool",id:11},archive:{rule:"required",type:"bool",id:12},directory:{rule:"required",type:"bool",id:13}}},EmmcPathInfo:{fields:{path:{rule:"required",type:"string",id:1}}},EmmcFile:{fields:{path:{rule:"required",type:"string",id:1},offset:{rule:"required",type:"uint32",id:2},len:{rule:"required",type:"uint32",id:3},data:{type:"bytes",id:4},data_hash:{type:"uint32",id:5},processed_byte:{type:"uint32",id:6}}},EmmcFileRead:{fields:{file:{rule:"required",type:"EmmcFile",id:1},ui_percentage:{type:"uint32",id:2}}},EmmcFileWrite:{fields:{file:{rule:"required",type:"EmmcFile",id:1},overwrite:{rule:"required",type:"bool",id:2},append:{rule:"required",type:"bool",id:3},ui_percentage:{type:"uint32",id:4}}},EmmcFileDelete:{fields:{path:{rule:"required",type:"string",id:1}}},EmmcDir:{fields:{path:{rule:"required",type:"string",id:1},child_dirs:{type:"string",id:2},child_files:{type:"string",id:3}}},EmmcDirList:{fields:{path:{rule:"required",type:"string",id:1}}},EmmcDirMake:{fields:{path:{rule:"required",type:"string",id:1}}},EmmcDirRemove:{fields:{path:{rule:"required",type:"string",id:1}}},EosGetPublicKey:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2}}},EosPublicKey:{fields:{wif_public_key:{rule:"required",type:"string",id:1},raw_public_key:{rule:"required",type:"bytes",id:2}}},EosSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},chain_id:{type:"bytes",id:2},header:{type:"EosTxHeader",id:3},num_actions:{type:"uint32",id:4}},nested:{EosTxHeader:{fields:{expiration:{rule:"required",type:"uint32",id:1},ref_block_num:{rule:"required",type:"uint32",id:2},ref_block_prefix:{rule:"required",type:"uint32",id:3},max_net_usage_words:{rule:"required",type:"uint32",id:4},max_cpu_usage_ms:{rule:"required",type:"uint32",id:5},delay_sec:{rule:"required",type:"uint32",id:6}}}}},EosTxActionRequest:{fields:{data_size:{type:"uint32",id:1}}},EosTxActionAck:{fields:{common:{type:"EosActionCommon",id:1},transfer:{type:"EosActionTransfer",id:2},delegate:{type:"EosActionDelegate",id:3},undelegate:{type:"EosActionUndelegate",id:4},refund:{type:"EosActionRefund",id:5},buy_ram:{type:"EosActionBuyRam",id:6},buy_ram_bytes:{type:"EosActionBuyRamBytes",id:7},sell_ram:{type:"EosActionSellRam",id:8},vote_producer:{type:"EosActionVoteProducer",id:9},update_auth:{type:"EosActionUpdateAuth",id:10},delete_auth:{type:"EosActionDeleteAuth",id:11},link_auth:{type:"EosActionLinkAuth",id:12},unlink_auth:{type:"EosActionUnlinkAuth",id:13},new_account:{type:"EosActionNewAccount",id:14},unknown:{type:"EosActionUnknown",id:15}},nested:{EosAsset:{fields:{amount:{type:"sint64",id:1},symbol:{type:"uint64",id:2}}},EosPermissionLevel:{fields:{actor:{type:"uint64",id:1},permission:{type:"uint64",id:2}}},EosAuthorizationKey:{fields:{type:{rule:"required",type:"uint32",id:1},key:{type:"bytes",id:2},address_n:{rule:"repeated",type:"uint32",id:3,options:{packed:!1}},weight:{rule:"required",type:"uint32",id:4}}},EosAuthorizationAccount:{fields:{account:{type:"EosPermissionLevel",id:1},weight:{type:"uint32",id:2}}},EosAuthorizationWait:{fields:{wait_sec:{type:"uint32",id:1},weight:{type:"uint32",id:2}}},EosAuthorization:{fields:{threshold:{type:"uint32",id:1},keys:{rule:"repeated",type:"EosAuthorizationKey",id:2},accounts:{rule:"repeated",type:"EosAuthorizationAccount",id:3},waits:{rule:"repeated",type:"EosAuthorizationWait",id:4}}},EosActionCommon:{fields:{account:{type:"uint64",id:1},name:{type:"uint64",id:2},authorization:{rule:"repeated",type:"EosPermissionLevel",id:3}}},EosActionTransfer:{fields:{sender:{type:"uint64",id:1},receiver:{type:"uint64",id:2},quantity:{type:"EosAsset",id:3},memo:{type:"string",id:4}}},EosActionDelegate:{fields:{sender:{type:"uint64",id:1},receiver:{type:"uint64",id:2},net_quantity:{type:"EosAsset",id:3},cpu_quantity:{type:"EosAsset",id:4},transfer:{type:"bool",id:5}}},EosActionUndelegate:{fields:{sender:{type:"uint64",id:1},receiver:{type:"uint64",id:2},net_quantity:{type:"EosAsset",id:3},cpu_quantity:{type:"EosAsset",id:4}}},EosActionRefund:{fields:{owner:{type:"uint64",id:1}}},EosActionBuyRam:{fields:{payer:{type:"uint64",id:1},receiver:{type:"uint64",id:2},quantity:{type:"EosAsset",id:3}}},EosActionBuyRamBytes:{fields:{payer:{type:"uint64",id:1},receiver:{type:"uint64",id:2},bytes:{type:"uint32",id:3}}},EosActionSellRam:{fields:{account:{type:"uint64",id:1},bytes:{type:"uint64",id:2}}},EosActionVoteProducer:{fields:{voter:{type:"uint64",id:1},proxy:{type:"uint64",id:2},producers:{rule:"repeated",type:"uint64",id:3,options:{packed:!1}}}},EosActionUpdateAuth:{fields:{account:{type:"uint64",id:1},permission:{type:"uint64",id:2},parent:{type:"uint64",id:3},auth:{type:"EosAuthorization",id:4}}},EosActionDeleteAuth:{fields:{account:{type:"uint64",id:1},permission:{type:"uint64",id:2}}},EosActionLinkAuth:{fields:{account:{type:"uint64",id:1},code:{type:"uint64",id:2},type:{type:"uint64",id:3},requirement:{type:"uint64",id:4}}},EosActionUnlinkAuth:{fields:{account:{type:"uint64",id:1},code:{type:"uint64",id:2},type:{type:"uint64",id:3}}},EosActionNewAccount:{fields:{creator:{type:"uint64",id:1},name:{type:"uint64",id:2},owner:{type:"EosAuthorization",id:3},active:{type:"EosAuthorization",id:4}}},EosActionUnknown:{fields:{data_size:{rule:"required",type:"uint32",id:1},data_chunk:{type:"bytes",id:2}}}}},EosSignedTx:{fields:{signature:{rule:"required",type:"string",id:1}}},EthereumSignTypedData:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},primary_type:{rule:"required",type:"string",id:2},metamask_v4_compat:{type:"bool",id:3,options:{default:!0}},chain_id:{type:"uint64",id:4}}},EthereumTypedDataStructRequest:{fields:{name:{rule:"required",type:"string",id:1}}},EthereumTypedDataStructAck:{fields:{members:{rule:"repeated",type:"EthereumStructMember",id:1}},nested:{EthereumStructMember:{fields:{type:{rule:"required",type:"EthereumFieldType",id:1},name:{rule:"required",type:"string",id:2}}},EthereumFieldType:{fields:{data_type:{rule:"required",type:"EthereumDataType",id:1},size:{type:"uint32",id:2},entry_type:{type:"EthereumFieldType",id:3},struct_name:{type:"string",id:4}}},EthereumDataType:{values:{UINT:1,INT:2,BYTES:3,STRING:4,BOOL:5,ADDRESS:6,ARRAY:7,STRUCT:8}}}},EthereumTypedDataValueRequest:{fields:{member_path:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}}}},EthereumTypedDataValueAck:{fields:{value:{rule:"required",type:"bytes",id:1}}},EthereumGetPublicKey:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2},chain_id:{type:"uint64",id:3}}},EthereumPublicKey:{fields:{node:{rule:"required",type:"HDNodeType",id:1},xpub:{rule:"required",type:"string",id:2}}},EthereumGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2},chain_id:{type:"uint64",id:3}}},EthereumAddress:{fields:{_old_address:{type:"bytes",id:1,options:{deprecated:!0}},address:{type:"string",id:2}}},EthereumSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},nonce:{type:"bytes",id:2,options:{default:""}},gas_price:{rule:"required",type:"bytes",id:3},gas_limit:{rule:"required",type:"bytes",id:4},to:{type:"string",id:11,options:{default:""}},value:{type:"bytes",id:6,options:{default:""}},data_initial_chunk:{type:"bytes",id:7,options:{default:""}},data_length:{type:"uint32",id:8,options:{default:0}},chain_id:{rule:"required",type:"uint64",id:9},tx_type:{type:"uint32",id:10}}},EthereumSignTxEIP1559:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},nonce:{rule:"required",type:"bytes",id:2},max_gas_fee:{rule:"required",type:"bytes",id:3},max_priority_fee:{rule:"required",type:"bytes",id:4},gas_limit:{rule:"required",type:"bytes",id:5},to:{type:"string",id:6,options:{default:""}},value:{rule:"required",type:"bytes",id:7},data_initial_chunk:{type:"bytes",id:8,options:{default:""}},data_length:{rule:"required",type:"uint32",id:9},chain_id:{rule:"required",type:"uint64",id:10},access_list:{rule:"repeated",type:"EthereumAccessList",id:11}},nested:{EthereumAccessList:{fields:{address:{rule:"required",type:"string",id:1},storage_keys:{rule:"repeated",type:"bytes",id:2}}}}},EthereumTxRequest:{fields:{data_length:{type:"uint32",id:1},signature_v:{type:"uint32",id:2},signature_r:{type:"bytes",id:3},signature_s:{type:"bytes",id:4}}},EthereumTxAck:{fields:{data_chunk:{rule:"required",type:"bytes",id:1}}},EthereumSignMessage:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},message:{rule:"required",type:"bytes",id:2},chain_id:{type:"uint64",id:3}}},EthereumMessageSignature:{fields:{signature:{rule:"required",type:"bytes",id:2},address:{rule:"required",type:"string",id:3}}},EthereumVerifyMessage:{fields:{signature:{rule:"required",type:"bytes",id:2},message:{rule:"required",type:"bytes",id:3},address:{rule:"required",type:"string",id:4},chain_id:{type:"uint64",id:5}}},EthereumSignMessageEIP712:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},domain_hash:{type:"bytes",id:2},message_hash:{type:"bytes",id:3}}},EthereumSignTypedHash:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},domain_separator_hash:{rule:"required",type:"bytes",id:2},message_hash:{type:"bytes",id:3},chain_id:{type:"uint64",id:4}}},EthereumTypedDataSignature:{fields:{signature:{rule:"required",type:"bytes",id:1},address:{rule:"required",type:"string",id:2}}},FilecoinGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2},testnet:{type:"bool",id:3}}},FilecoinAddress:{fields:{address:{type:"string",id:1}}},FilecoinSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},raw_tx:{rule:"required",type:"bytes",id:2},testnet:{type:"bool",id:3}}},FilecoinSignedTx:{fields:{signature:{rule:"required",type:"bytes",id:1}}},KaspaGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2},prefix:{type:"string",id:3,options:{default:"kaspa"}},scheme:{type:"string",id:4,options:{default:"schnorr"}}}},KaspaAddress:{fields:{address:{rule:"required",type:"string",id:1}}},KaspaSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},raw_message:{rule:"required",type:"bytes",id:2},scheme:{type:"string",id:3,options:{default:"schnorr"}},prefix:{type:"string",id:4,options:{default:"kaspa"}},input_count:{type:"uint32",id:5,options:{default:1}}}},KaspaTxInputRequest:{fields:{request_index:{rule:"required",type:"uint32",id:1},signature:{type:"bytes",id:2}}},KaspaTxInputAck:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},raw_message:{rule:"required",type:"bytes",id:2}}},KaspaSignedTx:{fields:{signature:{rule:"required",type:"bytes",id:2}}},BackupType:{values:{Bip39:0,Slip39_Basic:1,Slip39_Advanced:2}},SafetyCheckLevel:{values:{Strict:0,PromptAlways:1,PromptTemporarily:2}},Initialize:{fields:{session_id:{type:"bytes",id:1},_skip_passphrase:{type:"bool",id:2,options:{deprecated:!0}},derive_cardano:{type:"bool",id:3}}},GetFeatures:{fields:{}},Features:{fields:{vendor:{type:"string",id:1},major_version:{rule:"required",type:"uint32",id:2},minor_version:{rule:"required",type:"uint32",id:3},patch_version:{rule:"required",type:"uint32",id:4},bootloader_mode:{type:"bool",id:5},device_id:{type:"string",id:6},pin_protection:{type:"bool",id:7},passphrase_protection:{type:"bool",id:8},language:{type:"string",id:9},label:{type:"string",id:10},initialized:{type:"bool",id:12},revision:{type:"bytes",id:13},bootloader_hash:{type:"bytes",id:14},imported:{type:"bool",id:15},unlocked:{type:"bool",id:16},_passphrase_cached:{type:"bool",id:17,options:{deprecated:!0}},firmware_present:{type:"bool",id:18},needs_backup:{type:"bool",id:19},flags:{type:"uint32",id:20},model:{type:"string",id:21},fw_major:{type:"uint32",id:22},fw_minor:{type:"uint32",id:23},fw_patch:{type:"uint32",id:24},fw_vendor:{type:"string",id:25},fw_vendor_keys:{type:"bytes",id:26},unfinished_backup:{type:"bool",id:27},no_backup:{type:"bool",id:28},recovery_mode:{type:"bool",id:29},capabilities:{rule:"repeated",type:"Capability",id:30,options:{packed:!1}},backup_type:{type:"BackupType",id:31},sd_card_present:{type:"bool",id:32},sd_protection:{type:"bool",id:33},wipe_code_protection:{type:"bool",id:34},session_id:{type:"bytes",id:35},passphrase_always_on_device:{type:"bool",id:36},safety_checks:{type:"SafetyCheckLevel",id:37},auto_lock_delay_ms:{type:"uint32",id:38},display_rotation:{type:"uint32",id:39},experimental_features:{type:"bool",id:40},offset:{type:"uint32",id:500},ble_name:{type:"string",id:501},ble_ver:{type:"string",id:502},ble_enable:{type:"bool",id:503},se_enable:{type:"bool",id:504},se_ver:{type:"string",id:506},backup_only:{type:"bool",id:507},onekey_version:{type:"string",id:508},onekey_serial:{type:"string",id:509},bootloader_version:{type:"string",id:510},serial_no:{type:"string",id:511},spi_flash:{type:"string",id:512},initstates:{type:"uint32",id:513},NFT_voucher:{type:"bytes",id:514},cpu_info:{type:"string",id:515},pre_firmware:{type:"string",id:516},coin_switch:{type:"uint32",id:517},build_id:{type:"string",id:518},battery_level:{type:"uint32",id:520}},nested:{Capability:{options:{"(has_bitcoin_only_values)":!0},values:{Capability_Bitcoin:1,Capability_Bitcoin_like:2,Capability_Binance:3,Capability_Cardano:4,Capability_Crypto:5,Capability_EOS:6,Capability_Ethereum:7,Capability_Lisk:8,Capability_Monero:9,Capability_NEM:10,Capability_Ripple:11,Capability_Stellar:12,Capability_Tezos:13,Capability_U2F:14,Capability_Shamir:15,Capability_ShamirGroups:16,Capability_PassphraseEntry:17}}}},LockDevice:{fields:{}},EndSession:{fields:{}},ApplySettings:{fields:{language:{type:"string",id:1},label:{type:"string",id:2},use_passphrase:{type:"bool",id:3},homescreen:{type:"bytes",id:4},_passphrase_source:{type:"uint32",id:5,options:{deprecated:!0}},auto_lock_delay_ms:{type:"uint32",id:6},display_rotation:{type:"uint32",id:7},passphrase_always_on_device:{type:"bool",id:8},safety_checks:{type:"SafetyCheckLevel",id:9},experimental_features:{type:"bool",id:10},use_ble:{type:"bool",id:100},use_se:{type:"bool",id:101},is_bixinapp:{type:"bool",id:102},fastpay_pin:{type:"bool",id:103},fastpay_confirm:{type:"bool",id:104},fastpay_money_limit:{type:"uint64",id:105},fastpay_times:{type:"uint32",id:106}},nested:{ExportType:{values:{SeedEncExportType_NO:0,SeedEncExportType_YES:1,MnemonicPlainExportType_YES:2}}}},ApplyFlags:{fields:{flags:{rule:"required",type:"uint32",id:1}}},ChangePin:{fields:{remove:{type:"bool",id:1}}},ChangeWipeCode:{fields:{remove:{type:"bool",id:1}}},SdProtect:{fields:{operation:{rule:"required",type:"SdProtectOperationType",id:1}},nested:{SdProtectOperationType:{values:{DISABLE:0,ENABLE:1,REFRESH:2}}}},Ping:{fields:{message:{type:"string",id:1,options:{default:""}},button_protection:{type:"bool",id:2}}},Cancel:{fields:{}},GetEntropy:{fields:{size:{rule:"required",type:"uint32",id:1}}},Entropy:{fields:{entropy:{rule:"required",type:"bytes",id:1}}},WipeDevice:{fields:{}},LoadDevice:{fields:{mnemonics:{rule:"repeated",type:"string",id:1},pin:{type:"string",id:3},passphrase_protection:{type:"bool",id:4},language:{type:"string",id:5,options:{default:"en-US"}},label:{type:"string",id:6},skip_checksum:{type:"bool",id:7},u2f_counter:{type:"uint32",id:8},needs_backup:{type:"bool",id:9},no_backup:{type:"bool",id:10}}},ResetDevice:{fields:{display_random:{type:"bool",id:1},strength:{type:"uint32",id:2,options:{default:256}},passphrase_protection:{type:"bool",id:3},pin_protection:{type:"bool",id:4},language:{type:"string",id:5,options:{default:"en-US"}},label:{type:"string",id:6},u2f_counter:{type:"uint32",id:7},skip_backup:{type:"bool",id:8},no_backup:{type:"bool",id:9},backup_type:{type:"BackupType",id:10,options:{default:"Bip39"}}}},BackupDevice:{fields:{}},EntropyRequest:{fields:{}},EntropyAck:{fields:{entropy:{rule:"required",type:"bytes",id:1}}},RecoveryDevice:{fields:{word_count:{type:"uint32",id:1},passphrase_protection:{type:"bool",id:2},pin_protection:{type:"bool",id:3},language:{type:"string",id:4},label:{type:"string",id:5},enforce_wordlist:{type:"bool",id:6},type:{type:"RecoveryDeviceType",id:8},u2f_counter:{type:"uint32",id:9},dry_run:{type:"bool",id:10}},nested:{RecoveryDeviceType:{values:{RecoveryDeviceType_ScrambledWords:0,RecoveryDeviceType_Matrix:1}}}},WordRequest:{fields:{type:{rule:"required",type:"WordRequestType",id:1}},nested:{WordRequestType:{values:{WordRequestType_Plain:0,WordRequestType_Matrix9:1,WordRequestType_Matrix6:2}}}},WordAck:{fields:{word:{rule:"required",type:"string",id:1}}},SetU2FCounter:{fields:{u2f_counter:{rule:"required",type:"uint32",id:1}}},GetNextU2FCounter:{fields:{}},NextU2FCounter:{fields:{u2f_counter:{rule:"required",type:"uint32",id:1}}},DoPreauthorized:{fields:{}},PreauthorizedRequest:{fields:{}},CancelAuthorization:{fields:{}},BixinSeedOperate:{fields:{type:{rule:"required",type:"SeedRequestType",id:1},seed_importData:{type:"bytes",id:2}},nested:{SeedRequestType:{values:{SeedRequestType_Gen:0,SeedRequestType_EncExport:1,SeedRequestType_EncImport:2}}}},BixinMessageSE:{fields:{inputmessage:{rule:"required",type:"bytes",id:1}}},BixinOutMessageSE:{fields:{outmessage:{type:"bytes",id:1}}},DeviceBackToBoot:{fields:{}},BixinBackupRequest:{fields:{}},BixinBackupAck:{fields:{data:{rule:"required",type:"bytes",id:1}}},BixinRestoreRequest:{fields:{data:{rule:"required",type:"bytes",id:1},language:{type:"string",id:2},label:{type:"string",id:3},passphrase_protection:{type:"bool",id:4}}},BixinRestoreAck:{fields:{data:{rule:"required",type:"bytes",id:1}}},BixinVerifyDeviceRequest:{fields:{data:{rule:"required",type:"bytes",id:1}}},BixinVerifyDeviceAck:{fields:{cert:{rule:"required",type:"bytes",id:1},signature:{rule:"required",type:"bytes",id:2}}},BixinWhiteListRequest:{fields:{type:{rule:"required",type:"WL_OperationType",id:1},addr_in:{type:"string",id:2}},nested:{WL_OperationType:{values:{WL_OperationType_Add:0,WL_OperationType_Delete:1,WL_OperationType_Inquire:2}}}},BixinWhiteListAck:{fields:{address:{rule:"repeated",type:"string",id:1}}},BixinLoadDevice:{fields:{mnemonics:{rule:"required",type:"string",id:1},language:{type:"string",id:5,options:{default:"en-US"}},label:{type:"string",id:6},skip_checksum:{type:"bool",id:7}}},BixinBackupDevice:{fields:{}},BixinBackupDeviceAck:{fields:{mnemonics:{rule:"required",type:"string",id:1}}},DeviceInfoSettings:{fields:{serial_no:{type:"string",id:1},cpu_info:{type:"string",id:2},pre_firmware:{type:"string",id:3}}},GetDeviceInfo:{fields:{}},DeviceInfo:{fields:{serial_no:{type:"string",id:1},spiFlash_info:{type:"string",id:2},SE_info:{type:"string",id:3},NFT_voucher:{type:"bytes",id:4},cpu_info:{type:"string",id:5},pre_firmware:{type:"string",id:6}}},ReadSEPublicKey:{fields:{}},SEPublicKey:{fields:{public_key:{rule:"required",type:"bytes",id:1}}},WriteSEPublicCert:{fields:{public_cert:{rule:"required",type:"bytes",id:1}}},ReadSEPublicCert:{fields:{}},SEPublicCert:{fields:{public_cert:{rule:"required",type:"bytes",id:1}}},SpiFlashWrite:{fields:{address:{rule:"required",type:"uint32",id:1},data:{rule:"required",type:"bytes",id:2}}},SpiFlashRead:{fields:{address:{rule:"required",type:"uint32",id:1},len:{rule:"required",type:"uint32",id:2}}},SpiFlashData:{fields:{data:{rule:"required",type:"bytes",id:1}}},SESignMessage:{fields:{message:{rule:"required",type:"bytes",id:1}}},SEMessageSignature:{fields:{signature:{rule:"required",type:"bytes",id:1}}},ResourceUpload:{fields:{extension:{rule:"required",type:"string",id:1},data_length:{rule:"required",type:"uint32",id:2},res_type:{rule:"required",type:"ResourceType",id:3},nft_meta_data:{type:"bytes",id:4},zoom_data_length:{rule:"required",type:"uint32",id:5},file_name_no_ext:{type:"string",id:6}},nested:{ResourceType:{values:{WallPaper:0,Nft:1}}}},ZoomRequest:{fields:{offset:{type:"uint32",id:1},data_length:{rule:"required",type:"uint32",id:2}}},ResourceRequest:{fields:{offset:{type:"uint32",id:1},data_length:{rule:"required",type:"uint32",id:2}}},ResourceAck:{fields:{data_chunk:{rule:"required",type:"bytes",id:1},hash:{type:"bytes",id:2}}},ResourceUpdate:{fields:{file_name:{rule:"required",type:"string",id:1},data_length:{rule:"required",type:"uint32",id:2},initial_data_chunk:{rule:"required",type:"bytes",id:3},hash:{type:"bytes",id:4}}},NFTWriteInfo:{fields:{index:{rule:"required",type:"uint32",id:1},width:{rule:"required",type:"uint32",id:2},height:{rule:"required",type:"uint32",id:3},name_zh:{type:"string",id:4},name_en:{type:"string",id:5}}},NFTWriteData:{fields:{index:{rule:"required",type:"uint32",id:1},data:{rule:"required",type:"bytes",id:2},offset:{rule:"required",type:"uint32",id:3}}},RebootToBootloader:{fields:{}},RebootToBoardloader:{fields:{}},ListResDir:{fields:{path:{rule:"required",type:"string",id:1}}},FileInfoList:{fields:{files:{rule:"repeated",type:"FileInfo",id:1}},nested:{FileInfo:{fields:{name:{rule:"required",type:"string",id:1},size:{rule:"required",type:"uint64",id:2}}}}},DeviceEraseSector:{fields:{sector:{rule:"required",type:"uint32",id:1}}},MoneroTransactionSourceEntry:{fields:{outputs:{rule:"repeated",type:"MoneroOutputEntry",id:1},real_output:{type:"uint64",id:2},real_out_tx_key:{type:"bytes",id:3},real_out_additional_tx_keys:{rule:"repeated",type:"bytes",id:4},real_output_in_tx_index:{type:"uint64",id:5},amount:{type:"uint64",id:6},rct:{type:"bool",id:7},mask:{type:"bytes",id:8},multisig_kLRki:{type:"MoneroMultisigKLRki",id:9},subaddr_minor:{type:"uint32",id:10}},nested:{MoneroOutputEntry:{fields:{idx:{type:"uint64",id:1},key:{type:"MoneroRctKeyPublic",id:2}},nested:{MoneroRctKeyPublic:{fields:{dest:{type:"bytes",id:1},commitment:{type:"bytes",id:2}}}}},MoneroMultisigKLRki:{fields:{K:{type:"bytes",id:1},L:{type:"bytes",id:2},R:{type:"bytes",id:3},ki:{type:"bytes",id:4}}}}},MoneroTransactionDestinationEntry:{fields:{amount:{type:"uint64",id:1},addr:{type:"MoneroAccountPublicAddress",id:2},is_subaddress:{type:"bool",id:3},original:{type:"bytes",id:4},is_integrated:{type:"bool",id:5}},nested:{MoneroAccountPublicAddress:{fields:{spend_public_key:{type:"bytes",id:1},view_public_key:{type:"bytes",id:2}}}}},MoneroTransactionRsigData:{fields:{rsig_type:{type:"uint32",id:1},offload_type:{type:"uint32",id:2},grouping:{rule:"repeated",type:"uint64",id:3,options:{packed:!1}},mask:{type:"bytes",id:4},rsig:{type:"bytes",id:5},rsig_parts:{rule:"repeated",type:"bytes",id:6},bp_version:{type:"uint32",id:7}}},MoneroGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2},network_type:{type:"uint32",id:3},account:{type:"uint32",id:4},minor:{type:"uint32",id:5},payment_id:{type:"bytes",id:6}}},MoneroAddress:{fields:{address:{type:"bytes",id:1}}},MoneroGetWatchKey:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},network_type:{type:"uint32",id:2}}},MoneroWatchKey:{fields:{watch_key:{type:"bytes",id:1},address:{type:"bytes",id:2}}},MoneroTransactionInitRequest:{fields:{version:{type:"uint32",id:1},address_n:{rule:"repeated",type:"uint32",id:2,options:{packed:!1}},network_type:{type:"uint32",id:3},tsx_data:{type:"MoneroTransactionData",id:4}},nested:{MoneroTransactionData:{fields:{version:{type:"uint32",id:1},payment_id:{type:"bytes",id:2},unlock_time:{type:"uint64",id:3},outputs:{rule:"repeated",type:"MoneroTransactionDestinationEntry",id:4},change_dts:{type:"MoneroTransactionDestinationEntry",id:5},num_inputs:{type:"uint32",id:6},mixin:{type:"uint32",id:7},fee:{type:"uint64",id:8},account:{type:"uint32",id:9},minor_indices:{rule:"repeated",type:"uint32",id:10,options:{packed:!1}},rsig_data:{type:"MoneroTransactionRsigData",id:11},integrated_indices:{rule:"repeated",type:"uint32",id:12,options:{packed:!1}},client_version:{type:"uint32",id:13},hard_fork:{type:"uint32",id:14},monero_version:{type:"bytes",id:15}}}}},MoneroTransactionInitAck:{fields:{hmacs:{rule:"repeated",type:"bytes",id:1},rsig_data:{type:"MoneroTransactionRsigData",id:2}}},MoneroTransactionSetInputRequest:{fields:{src_entr:{type:"MoneroTransactionSourceEntry",id:1}}},MoneroTransactionSetInputAck:{fields:{vini:{type:"bytes",id:1},vini_hmac:{type:"bytes",id:2},pseudo_out:{type:"bytes",id:3},pseudo_out_hmac:{type:"bytes",id:4},pseudo_out_alpha:{type:"bytes",id:5},spend_key:{type:"bytes",id:6}}},MoneroTransactionInputsPermutationRequest:{fields:{perm:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}}}},MoneroTransactionInputsPermutationAck:{fields:{}},MoneroTransactionInputViniRequest:{fields:{src_entr:{type:"MoneroTransactionSourceEntry",id:1},vini:{type:"bytes",id:2},vini_hmac:{type:"bytes",id:3},pseudo_out:{type:"bytes",id:4},pseudo_out_hmac:{type:"bytes",id:5},orig_idx:{type:"uint32",id:6}}},MoneroTransactionInputViniAck:{fields:{}},MoneroTransactionAllInputsSetRequest:{fields:{}},MoneroTransactionAllInputsSetAck:{fields:{rsig_data:{type:"MoneroTransactionRsigData",id:1}}},MoneroTransactionSetOutputRequest:{fields:{dst_entr:{type:"MoneroTransactionDestinationEntry",id:1},dst_entr_hmac:{type:"bytes",id:2},rsig_data:{type:"MoneroTransactionRsigData",id:3},is_offloaded_bp:{type:"bool",id:4}}},MoneroTransactionSetOutputAck:{fields:{tx_out:{type:"bytes",id:1},vouti_hmac:{type:"bytes",id:2},rsig_data:{type:"MoneroTransactionRsigData",id:3},out_pk:{type:"bytes",id:4},ecdh_info:{type:"bytes",id:5}}},MoneroTransactionAllOutSetRequest:{fields:{rsig_data:{type:"MoneroTransactionRsigData",id:1}}},MoneroTransactionAllOutSetAck:{fields:{extra:{type:"bytes",id:1},tx_prefix_hash:{type:"bytes",id:2},rv:{type:"MoneroRingCtSig",id:4},full_message_hash:{type:"bytes",id:5}},nested:{MoneroRingCtSig:{fields:{txn_fee:{type:"uint64",id:1},message:{type:"bytes",id:2},rv_type:{type:"uint32",id:3}}}}},MoneroTransactionSignInputRequest:{fields:{src_entr:{type:"MoneroTransactionSourceEntry",id:1},vini:{type:"bytes",id:2},vini_hmac:{type:"bytes",id:3},pseudo_out:{type:"bytes",id:4},pseudo_out_hmac:{type:"bytes",id:5},pseudo_out_alpha:{type:"bytes",id:6},spend_key:{type:"bytes",id:7},orig_idx:{type:"uint32",id:8}}},MoneroTransactionSignInputAck:{fields:{signature:{type:"bytes",id:1},pseudo_out:{type:"bytes",id:2}}},MoneroTransactionFinalRequest:{fields:{}},MoneroTransactionFinalAck:{fields:{cout_key:{type:"bytes",id:1},salt:{type:"bytes",id:2},rand_mult:{type:"bytes",id:3},tx_enc_keys:{type:"bytes",id:4},opening_key:{type:"bytes",id:5}}},MoneroKeyImageExportInitRequest:{fields:{num:{type:"uint64",id:1},hash:{type:"bytes",id:2},address_n:{rule:"repeated",type:"uint32",id:3,options:{packed:!1}},network_type:{type:"uint32",id:4},subs:{rule:"repeated",type:"MoneroSubAddressIndicesList",id:5}},nested:{MoneroSubAddressIndicesList:{fields:{account:{type:"uint32",id:1},minor_indices:{rule:"repeated",type:"uint32",id:2,options:{packed:!1}}}}}},MoneroKeyImageExportInitAck:{fields:{}},MoneroKeyImageSyncStepRequest:{fields:{tdis:{rule:"repeated",type:"MoneroTransferDetails",id:1}},nested:{MoneroTransferDetails:{fields:{out_key:{type:"bytes",id:1},tx_pub_key:{type:"bytes",id:2},additional_tx_pub_keys:{rule:"repeated",type:"bytes",id:3},internal_output_index:{type:"uint64",id:4},sub_addr_major:{type:"uint32",id:5},sub_addr_minor:{type:"uint32",id:6}}}}},MoneroKeyImageSyncStepAck:{fields:{kis:{rule:"repeated",type:"MoneroExportedKeyImage",id:1}},nested:{MoneroExportedKeyImage:{fields:{iv:{type:"bytes",id:1},blob:{type:"bytes",id:3}}}}},MoneroKeyImageSyncFinalRequest:{fields:{}},MoneroKeyImageSyncFinalAck:{fields:{enc_key:{type:"bytes",id:1}}},MoneroGetTxKeyRequest:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},network_type:{type:"uint32",id:2},salt1:{type:"bytes",id:3},salt2:{type:"bytes",id:4},tx_enc_keys:{type:"bytes",id:5},tx_prefix_hash:{type:"bytes",id:6},reason:{type:"uint32",id:7},view_public_key:{type:"bytes",id:8}}},MoneroGetTxKeyAck:{fields:{salt:{type:"bytes",id:1},tx_keys:{type:"bytes",id:2},tx_derivations:{type:"bytes",id:3}}},MoneroLiveRefreshStartRequest:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},network_type:{type:"uint32",id:2}}},MoneroLiveRefreshStartAck:{fields:{}},MoneroLiveRefreshStepRequest:{fields:{out_key:{type:"bytes",id:1},recv_deriv:{type:"bytes",id:2},real_out_idx:{type:"uint64",id:3},sub_addr_major:{type:"uint32",id:4},sub_addr_minor:{type:"uint32",id:5}}},MoneroLiveRefreshStepAck:{fields:{salt:{type:"bytes",id:1},key_image:{type:"bytes",id:2}}},MoneroLiveRefreshFinalRequest:{fields:{}},MoneroLiveRefreshFinalAck:{fields:{}},DebugMoneroDiagRequest:{fields:{ins:{type:"uint64",id:1},p1:{type:"uint64",id:2},p2:{type:"uint64",id:3},pd:{rule:"repeated",type:"uint64",id:4,options:{packed:!1}},data1:{type:"bytes",id:5},data2:{type:"bytes",id:6}}},DebugMoneroDiagAck:{fields:{ins:{type:"uint64",id:1},p1:{type:"uint64",id:2},p2:{type:"uint64",id:3},pd:{rule:"repeated",type:"uint64",id:4,options:{packed:!1}},data1:{type:"bytes",id:5},data2:{type:"bytes",id:6}}},NearGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2}}},NearAddress:{fields:{address:{type:"string",id:1}}},NearSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},raw_tx:{rule:"required",type:"bytes",id:2}}},NearSignedTx:{fields:{signature:{rule:"required",type:"bytes",id:1}}},NEMGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},network:{type:"uint32",id:2},show_display:{type:"bool",id:3}}},NEMAddress:{fields:{address:{rule:"required",type:"string",id:1}}},NEMSignTx:{fields:{transaction:{type:"NEMTransactionCommon",id:1},multisig:{type:"NEMTransactionCommon",id:2},transfer:{type:"NEMTransfer",id:3},cosigning:{type:"bool",id:4},provision_namespace:{type:"NEMProvisionNamespace",id:5},mosaic_creation:{type:"NEMMosaicCreation",id:6},supply_change:{type:"NEMMosaicSupplyChange",id:7},aggregate_modification:{type:"NEMAggregateModification",id:8},importance_transfer:{type:"NEMImportanceTransfer",id:9}},nested:{NEMTransactionCommon:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},network:{type:"uint32",id:2},timestamp:{type:"uint32",id:3},fee:{type:"uint64",id:4},deadline:{type:"uint32",id:5},signer:{type:"bytes",id:6}}},NEMTransfer:{fields:{recipient:{type:"string",id:1},amount:{type:"uint64",id:2},payload:{type:"bytes",id:3},public_key:{type:"bytes",id:4},mosaics:{rule:"repeated",type:"NEMMosaic",id:5}},nested:{NEMMosaic:{fields:{namespace:{type:"string",id:1},mosaic:{type:"string",id:2},quantity:{type:"uint64",id:3}}}}},NEMProvisionNamespace:{fields:{namespace:{type:"string",id:1},parent:{type:"string",id:2},sink:{type:"string",id:3},fee:{type:"uint64",id:4}}},NEMMosaicCreation:{fields:{definition:{type:"NEMMosaicDefinition",id:1},sink:{type:"string",id:2},fee:{type:"uint64",id:3}},nested:{NEMMosaicDefinition:{fields:{name:{type:"string",id:1},ticker:{type:"string",id:2},namespace:{type:"string",id:3},mosaic:{type:"string",id:4},divisibility:{type:"uint32",id:5},levy:{type:"NEMMosaicLevy",id:6},fee:{type:"uint64",id:7},levy_address:{type:"string",id:8},levy_namespace:{type:"string",id:9},levy_mosaic:{type:"string",id:10},supply:{type:"uint64",id:11},mutable_supply:{type:"bool",id:12},transferable:{type:"bool",id:13},description:{type:"string",id:14},networks:{rule:"repeated",type:"uint32",id:15,options:{packed:!1}}},nested:{NEMMosaicLevy:{values:{MosaicLevy_Absolute:1,MosaicLevy_Percentile:2}}}}}},NEMMosaicSupplyChange:{fields:{namespace:{type:"string",id:1},mosaic:{type:"string",id:2},type:{type:"NEMSupplyChangeType",id:3},delta:{type:"uint64",id:4}},nested:{NEMSupplyChangeType:{values:{SupplyChange_Increase:1,SupplyChange_Decrease:2}}}},NEMAggregateModification:{fields:{modifications:{rule:"repeated",type:"NEMCosignatoryModification",id:1},relative_change:{type:"sint32",id:2}},nested:{NEMCosignatoryModification:{fields:{type:{type:"NEMModificationType",id:1},public_key:{type:"bytes",id:2}},nested:{NEMModificationType:{values:{CosignatoryModification_Add:1,CosignatoryModification_Delete:2}}}}}},NEMImportanceTransfer:{fields:{mode:{type:"NEMImportanceTransferMode",id:1},public_key:{type:"bytes",id:2}},nested:{NEMImportanceTransferMode:{values:{ImportanceTransfer_Activate:1,ImportanceTransfer_Deactivate:2}}}}}},NEMSignedTx:{fields:{data:{rule:"required",type:"bytes",id:1},signature:{rule:"required",type:"bytes",id:2}}},NEMDecryptMessage:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},network:{type:"uint32",id:2},public_key:{type:"bytes",id:3},payload:{type:"bytes",id:4}}},NEMDecryptedMessage:{fields:{payload:{rule:"required",type:"bytes",id:1}}},NexaGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2},prefix:{type:"string",id:3,options:{default:"nexa"}}}},NexaAddress:{fields:{address:{rule:"required",type:"string",id:1},public_key:{rule:"required",type:"bytes",id:2}}},NexaSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},raw_message:{rule:"required",type:"bytes",id:2},prefix:{type:"string",id:3,options:{default:"nexa"}},input_count:{type:"uint32",id:4,options:{default:1}}}},NexaTxInputRequest:{fields:{request_index:{rule:"required",type:"uint32",id:1},signature:{type:"bytes",id:2}}},NexaTxInputAck:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},raw_message:{rule:"required",type:"bytes",id:2}}},NexaSignedTx:{fields:{signature:{rule:"required",type:"bytes",id:1}}},PolkadotGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},prefix:{rule:"required",type:"uint32",id:2},network:{rule:"required",type:"string",id:3},show_display:{type:"bool",id:4}}},PolkadotAddress:{fields:{address:{type:"string",id:1},public_key:{type:"string",id:2}}},PolkadotSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},raw_tx:{rule:"required",type:"bytes",id:2},network:{rule:"required",type:"string",id:3}}},PolkadotSignedTx:{fields:{signature:{rule:"required",type:"bytes",id:1}}},RippleGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2}}},RippleAddress:{fields:{address:{rule:"required",type:"string",id:1}}},RippleSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},fee:{type:"uint64",id:2},flags:{type:"uint32",id:3},sequence:{type:"uint32",id:4},last_ledger_sequence:{type:"uint32",id:5},payment:{type:"RipplePayment",id:6}},nested:{RipplePayment:{fields:{amount:{rule:"required",type:"uint64",id:1},destination:{rule:"required",type:"string",id:2},destination_tag:{type:"uint32",id:3}}}}},RippleSignedTx:{fields:{signature:{rule:"required",type:"bytes",id:1},serialized_tx:{rule:"required",type:"bytes",id:2}}},SolanaGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2}}},SolanaAddress:{fields:{address:{type:"string",id:1}}},SolanaSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},raw_tx:{rule:"required",type:"bytes",id:2}}},SolanaSignedTx:{fields:{signature:{type:"bytes",id:1}}},StarcoinGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2}}},StarcoinAddress:{fields:{address:{type:"string",id:1}}},StarcoinGetPublicKey:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2}}},StarcoinPublicKey:{fields:{public_key:{rule:"required",type:"bytes",id:1}}},StarcoinSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},raw_tx:{type:"bytes",id:2}}},StarcoinSignedTx:{fields:{public_key:{rule:"required",type:"bytes",id:1},signature:{rule:"required",type:"bytes",id:2}}},StarcoinSignMessage:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},message:{type:"bytes",id:2}}},StarcoinMessageSignature:{fields:{public_key:{rule:"required",type:"bytes",id:1},signature:{rule:"required",type:"bytes",id:2}}},StarcoinVerifyMessage:{fields:{public_key:{type:"bytes",id:1},signature:{type:"bytes",id:2},message:{type:"bytes",id:3}}},StellarAssetType:{values:{NATIVE:0,ALPHANUM4:1,ALPHANUM12:2}},StellarAsset:{fields:{type:{rule:"required",type:"StellarAssetType",id:1},code:{type:"string",id:2},issuer:{type:"string",id:3}}},StellarGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2}}},StellarAddress:{fields:{address:{rule:"required",type:"string",id:1}}},StellarSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:2,options:{packed:!1}},network_passphrase:{rule:"required",type:"string",id:3},source_account:{rule:"required",type:"string",id:4},fee:{rule:"required",type:"uint32",id:5},sequence_number:{rule:"required",type:"uint64",id:6},timebounds_start:{rule:"required",type:"uint32",id:8},timebounds_end:{rule:"required",type:"uint32",id:9},memo_type:{rule:"required",type:"StellarMemoType",id:10},memo_text:{type:"string",id:11},memo_id:{type:"uint64",id:12},memo_hash:{type:"bytes",id:13},num_operations:{rule:"required",type:"uint32",id:14}},nested:{StellarMemoType:{values:{NONE:0,TEXT:1,ID:2,HASH:3,RETURN:4}}}},StellarTxOpRequest:{fields:{}},StellarPaymentOp:{fields:{source_account:{type:"string",id:1},destination_account:{rule:"required",type:"string",id:2},asset:{rule:"required",type:"StellarAsset",id:3},amount:{rule:"required",type:"sint64",id:4}}},StellarCreateAccountOp:{fields:{source_account:{type:"string",id:1},new_account:{rule:"required",type:"string",id:2},starting_balance:{rule:"required",type:"sint64",id:3}}},StellarPathPaymentStrictReceiveOp:{fields:{source_account:{type:"string",id:1},send_asset:{rule:"required",type:"StellarAsset",id:2},send_max:{rule:"required",type:"sint64",id:3},destination_account:{rule:"required",type:"string",id:4},destination_asset:{rule:"required",type:"StellarAsset",id:5},destination_amount:{rule:"required",type:"sint64",id:6},paths:{rule:"repeated",type:"StellarAsset",id:7}}},StellarPathPaymentStrictSendOp:{fields:{source_account:{type:"string",id:1},send_asset:{rule:"required",type:"StellarAsset",id:2},send_amount:{rule:"required",type:"sint64",id:3},destination_account:{rule:"required",type:"string",id:4},destination_asset:{rule:"required",type:"StellarAsset",id:5},destination_min:{rule:"required",type:"sint64",id:6},paths:{rule:"repeated",type:"StellarAsset",id:7}}},StellarManageSellOfferOp:{fields:{source_account:{type:"string",id:1},selling_asset:{rule:"required",type:"StellarAsset",id:2},buying_asset:{rule:"required",type:"StellarAsset",id:3},amount:{rule:"required",type:"sint64",id:4},price_n:{rule:"required",type:"uint32",id:5},price_d:{rule:"required",type:"uint32",id:6},offer_id:{rule:"required",type:"uint64",id:7}}},StellarManageBuyOfferOp:{fields:{source_account:{type:"string",id:1},selling_asset:{rule:"required",type:"StellarAsset",id:2},buying_asset:{rule:"required",type:"StellarAsset",id:3},amount:{rule:"required",type:"sint64",id:4},price_n:{rule:"required",type:"uint32",id:5},price_d:{rule:"required",type:"uint32",id:6},offer_id:{rule:"required",type:"uint64",id:7}}},StellarCreatePassiveSellOfferOp:{fields:{source_account:{type:"string",id:1},selling_asset:{rule:"required",type:"StellarAsset",id:2},buying_asset:{rule:"required",type:"StellarAsset",id:3},amount:{rule:"required",type:"sint64",id:4},price_n:{rule:"required",type:"uint32",id:5},price_d:{rule:"required",type:"uint32",id:6}}},StellarSetOptionsOp:{fields:{source_account:{type:"string",id:1},inflation_destination_account:{type:"string",id:2},clear_flags:{type:"uint32",id:3},set_flags:{type:"uint32",id:4},master_weight:{type:"uint32",id:5},low_threshold:{type:"uint32",id:6},medium_threshold:{type:"uint32",id:7},high_threshold:{type:"uint32",id:8},home_domain:{type:"string",id:9},signer_type:{type:"StellarSignerType",id:10},signer_key:{type:"bytes",id:11},signer_weight:{type:"uint32",id:12}},nested:{StellarSignerType:{values:{ACCOUNT:0,PRE_AUTH:1,HASH:2}}}},StellarChangeTrustOp:{fields:{source_account:{type:"string",id:1},asset:{rule:"required",type:"StellarAsset",id:2},limit:{rule:"required",type:"uint64",id:3}}},StellarAllowTrustOp:{fields:{source_account:{type:"string",id:1},trusted_account:{rule:"required",type:"string",id:2},asset_type:{rule:"required",type:"StellarAssetType",id:3},asset_code:{type:"string",id:4},is_authorized:{rule:"required",type:"bool",id:5}}},StellarAccountMergeOp:{fields:{source_account:{type:"string",id:1},destination_account:{rule:"required",type:"string",id:2}}},StellarManageDataOp:{fields:{source_account:{type:"string",id:1},key:{rule:"required",type:"string",id:2},value:{type:"bytes",id:3}}},StellarBumpSequenceOp:{fields:{source_account:{type:"string",id:1},bump_to:{rule:"required",type:"uint64",id:2}}},StellarSignedTx:{fields:{public_key:{rule:"required",type:"bytes",id:1},signature:{rule:"required",type:"bytes",id:2}}},SuiGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2}}},SuiAddress:{fields:{address:{type:"string",id:1}}},SuiSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},raw_tx:{rule:"required",type:"bytes",id:2}}},SuiSignedTx:{fields:{public_key:{rule:"required",type:"bytes",id:1},signature:{rule:"required",type:"bytes",id:2}}},TezosGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2}}},TezosAddress:{fields:{address:{rule:"required",type:"string",id:1}}},TezosGetPublicKey:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2}}},TezosPublicKey:{fields:{public_key:{rule:"required",type:"string",id:1}}},TezosSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},branch:{rule:"required",type:"bytes",id:2},reveal:{type:"TezosRevealOp",id:3},transaction:{type:"TezosTransactionOp",id:4},origination:{type:"TezosOriginationOp",id:5},delegation:{type:"TezosDelegationOp",id:6},proposal:{type:"TezosProposalOp",id:7},ballot:{type:"TezosBallotOp",id:8}},nested:{TezosContractID:{fields:{tag:{rule:"required",type:"TezosContractType",id:1},hash:{rule:"required",type:"bytes",id:2}},nested:{TezosContractType:{values:{Implicit:0,Originated:1}}}},TezosRevealOp:{fields:{source:{rule:"required",type:"bytes",id:7},fee:{rule:"required",type:"uint64",id:2},counter:{rule:"required",type:"uint64",id:3},gas_limit:{rule:"required",type:"uint64",id:4},storage_limit:{rule:"required",type:"uint64",id:5},public_key:{rule:"required",type:"bytes",id:6}}},TezosTransactionOp:{fields:{source:{rule:"required",type:"bytes",id:9},fee:{rule:"required",type:"uint64",id:2},counter:{rule:"required",type:"uint64",id:3},gas_limit:{rule:"required",type:"uint64",id:4},storage_limit:{rule:"required",type:"uint64",id:5},amount:{rule:"required",type:"uint64",id:6},destination:{rule:"required",type:"TezosContractID",id:7},parameters:{type:"bytes",id:8},parameters_manager:{type:"TezosParametersManager",id:10}},nested:{TezosParametersManager:{fields:{set_delegate:{type:"bytes",id:1},cancel_delegate:{type:"bool",id:2},transfer:{type:"TezosManagerTransfer",id:3}},nested:{TezosManagerTransfer:{fields:{destination:{type:"TezosContractID",id:1},amount:{type:"uint64",id:2}}}}}}},TezosOriginationOp:{fields:{source:{rule:"required",type:"bytes",id:12},fee:{rule:"required",type:"uint64",id:2},counter:{rule:"required",type:"uint64",id:3},gas_limit:{rule:"required",type:"uint64",id:4},storage_limit:{rule:"required",type:"uint64",id:5},manager_pubkey:{type:"bytes",id:6},balance:{rule:"required",type:"uint64",id:7},spendable:{type:"bool",id:8},delegatable:{type:"bool",id:9},delegate:{type:"bytes",id:10},script:{rule:"required",type:"bytes",id:11}}},TezosDelegationOp:{fields:{source:{rule:"required",type:"bytes",id:7},fee:{rule:"required",type:"uint64",id:2},counter:{rule:"required",type:"uint64",id:3},gas_limit:{rule:"required",type:"uint64",id:4},storage_limit:{rule:"required",type:"uint64",id:5},delegate:{rule:"required",type:"bytes",id:6}}},TezosProposalOp:{fields:{source:{type:"bytes",id:1},period:{type:"uint64",id:2},proposals:{rule:"repeated",type:"bytes",id:4}}},TezosBallotOp:{fields:{source:{type:"bytes",id:1},period:{type:"uint64",id:2},proposal:{type:"bytes",id:3},ballot:{type:"TezosBallotType",id:4}},nested:{TezosBallotType:{values:{Yay:0,Nay:1,Pass:2}}}}}},TezosSignedTx:{fields:{signature:{rule:"required",type:"string",id:1},sig_op_contents:{rule:"required",type:"bytes",id:2},operation_hash:{rule:"required",type:"string",id:3}}},TronGetAddress:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},show_display:{type:"bool",id:2}}},TronAddress:{fields:{address:{type:"string",id:1}}},TronSignTx:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},ref_block_bytes:{rule:"required",type:"bytes",id:2},ref_block_hash:{rule:"required",type:"bytes",id:3},expiration:{rule:"required",type:"uint64",id:4},data:{type:"string",id:5},contract:{rule:"required",type:"TronContract",id:6},timestamp:{rule:"required",type:"uint64",id:7},fee_limit:{type:"uint64",id:8}},nested:{TronContract:{fields:{transfer_contract:{type:"TronTransferContract",id:2},freeze_balance_contract:{type:"TronFreezeBalanceContract",id:11},unfreeze_balance_contract:{type:"TronUnfreezeBalanceContract",id:12},withdraw_balance_contract:{type:"TronWithdrawBalanceContract",id:13},trigger_smart_contract:{type:"TronTriggerSmartContract",id:31},freeze_balance_v2_contract:{type:"TronFreezeBalanceV2Contract",id:54},unfreeze_balance_v2_contract:{type:"TronUnfreezeBalanceV2Contract",id:55},withdraw_expire_unfreeze_contract:{type:"TronWithdrawExpireUnfreezeContract",id:56},delegate_resource_contract:{type:"TronDelegateResourceContract",id:57},undelegate_resource_contract:{type:"TronUnDelegateResourceContract",id:58}},nested:{TronTransferContract:{fields:{to_address:{type:"string",id:2},amount:{type:"uint64",id:3}}},TronTriggerSmartContract:{fields:{contract_address:{type:"string",id:2},call_value:{type:"uint64",id:3},data:{type:"bytes",id:4},call_token_value:{type:"uint64",id:5},asset_id:{type:"uint64",id:6}}},TronResourceCode:{values:{BANDWIDTH:0,ENERGY:1}},TronFreezeBalanceContract:{fields:{frozen_balance:{type:"uint64",id:1},frozen_duration:{type:"uint64",id:2},resource:{type:"TronResourceCode",id:3},receiver_address:{type:"string",id:4}}},TronUnfreezeBalanceContract:{fields:{resource:{type:"TronResourceCode",id:1},receiver_address:{type:"string",id:2}}},TronWithdrawBalanceContract:{fields:{owner_address:{type:"bytes",id:1}}},TronFreezeBalanceV2Contract:{fields:{frozen_balance:{type:"uint64",id:2},resource:{type:"TronResourceCode",id:3}}},TronUnfreezeBalanceV2Contract:{fields:{unfreeze_balance:{type:"uint64",id:2},resource:{type:"TronResourceCode",id:3}}},TronWithdrawExpireUnfreezeContract:{fields:{}},TronDelegateResourceContract:{fields:{resource:{type:"TronResourceCode",id:2},balance:{type:"uint64",id:3},receiver_address:{type:"string",id:4},lock:{type:"bool",id:5}}},TronUnDelegateResourceContract:{fields:{resource:{type:"TronResourceCode",id:2},balance:{type:"uint64",id:3},receiver_address:{type:"string",id:4}}}}}}},TronSignedTx:{fields:{signature:{rule:"required",type:"bytes",id:1},serialized_tx:{type:"bytes",id:2}}},TronSignMessage:{fields:{address_n:{rule:"repeated",type:"uint32",id:1,options:{packed:!1}},message:{rule:"required",type:"bytes",id:2}}},TronMessageSignature:{fields:{address:{rule:"required",type:"bytes",id:1},signature:{rule:"required",type:"bytes",id:2}}},WebAuthnListResidentCredentials:{fields:{}},WebAuthnAddResidentCredential:{fields:{credential_id:{type:"bytes",id:1}}},WebAuthnRemoveResidentCredential:{fields:{index:{type:"uint32",id:1}}},WebAuthnCredentials:{fields:{credentials:{rule:"repeated",type:"WebAuthnCredential",id:1}},nested:{WebAuthnCredential:{fields:{index:{type:"uint32",id:1},id:{type:"bytes",id:2},rp_id:{type:"string",id:3},rp_name:{type:"string",id:4},user_id:{type:"bytes",id:5},user_name:{type:"string",id:6},user_display_name:{type:"string",id:7},creation_time:{type:"uint32",id:8},hmac_secret:{type:"bool",id:9},use_sign_count:{type:"bool",id:10},algorithm:{type:"sint32",id:11},curve:{type:"sint32",id:12}}}}},wire_in:{type:"bool",id:50002,extend:"google.protobuf.EnumValueOptions"},wire_out:{type:"bool",id:50003,extend:"google.protobuf.EnumValueOptions"},wire_debug_in:{type:"bool",id:50004,extend:"google.protobuf.EnumValueOptions"},wire_debug_out:{type:"bool",id:50005,extend:"google.protobuf.EnumValueOptions"},wire_tiny:{type:"bool",id:50006,extend:"google.protobuf.EnumValueOptions"},wire_bootloader:{type:"bool",id:50007,extend:"google.protobuf.EnumValueOptions"},wire_no_fsm:{type:"bool",id:50008,extend:"google.protobuf.EnumValueOptions"},facotry:{type:"bool",id:50501,extend:"google.protobuf.EnumValueOptions"},bitcoin_only:{type:"bool",id:6e4,extend:"google.protobuf.EnumValueOptions"},has_bitcoin_only_values:{type:"bool",id:51001,extend:"google.protobuf.EnumOptions"},unstable:{type:"bool",id:52001,extend:"google.protobuf.MessageOptions"},wire_type:{type:"uint32",id:52002,extend:"google.protobuf.MessageOptions"},experimental:{type:"bool",id:53001,extend:"google.protobuf.FieldOptions"},include_in_bitcoin_only:{type:"bool",id:6e4,extend:"google.protobuf.FileOptions"},CommandFlags:{values:{Default:0,Factory_Only:1}},MessageType:{options:{"(has_bitcoin_only_values)":!0},values:{MessageType_Initialize:0,MessageType_Ping:1,MessageType_Success:2,MessageType_Failure:3,MessageType_ChangePin:4,MessageType_WipeDevice:5,MessageType_GetEntropy:9,MessageType_Entropy:10,MessageType_LoadDevice:13,MessageType_ResetDevice:14,MessageType_Features:17,MessageType_PinMatrixRequest:18,MessageType_PinMatrixAck:19,MessageType_Cancel:20,MessageType_LockDevice:24,MessageType_ApplySettings:25,MessageType_ButtonRequest:26,MessageType_ButtonAck:27,MessageType_ApplyFlags:28,MessageType_BackupDevice:34,MessageType_EntropyRequest:35,MessageType_EntropyAck:36,MessageType_PassphraseRequest:41,MessageType_PassphraseAck:42,MessageType_RecoveryDevice:45,MessageType_WordRequest:46,MessageType_WordAck:47,MessageType_GetFeatures:55,MessageType_SdProtect:79,MessageType_ChangeWipeCode:82,MessageType_EndSession:83,MessageType_DoPreauthorized:84,MessageType_PreauthorizedRequest:85,MessageType_CancelAuthorization:86,MessageType_RebootToBootloader:87,MessageType_SetU2FCounter:63,MessageType_GetNextU2FCounter:80,MessageType_NextU2FCounter:81,MessageType_Deprecated_PassphraseStateRequest:77,MessageType_Deprecated_PassphraseStateAck:78,MessageType_FirmwareErase:6,MessageType_FirmwareErase_ex:16,MessageType_FirmwareUpload:7,MessageType_FirmwareRequest:8,MessageType_SelfTest:32,MessageType_Reboot:3e4,MessageType_FirmwareUpdateEmmc:30001,MessageType_GetPublicKey:11,MessageType_PublicKey:12,MessageType_SignTx:15,MessageType_TxRequest:21,MessageType_TxAck:22,MessageType_GetAddress:29,MessageType_Address:30,MessageType_SignMessage:38,MessageType_VerifyMessage:39,MessageType_MessageSignature:40,MessageType_GetOwnershipId:43,MessageType_OwnershipId:44,MessageType_GetOwnershipProof:49,MessageType_OwnershipProof:50,MessageType_AuthorizeCoinJoin:51,MessageType_CipherKeyValue:23,MessageType_CipheredKeyValue:48,MessageType_SignIdentity:53,MessageType_SignedIdentity:54,MessageType_GetECDHSessionKey:61,MessageType_ECDHSessionKey:62,MessageType_CosiCommit:71,MessageType_CosiCommitment:72,MessageType_CosiSign:73,MessageType_CosiSignature:74,MessageType_BatchGetPublickeys:10016,MessageType_EcdsaPublicKeys:10017,MessageType_DebugLinkDecision:100,MessageType_DebugLinkGetState:101,MessageType_DebugLinkState:102,MessageType_DebugLinkStop:103,MessageType_DebugLinkLog:104,MessageType_DebugLinkMemoryRead:110,MessageType_DebugLinkMemory:111,MessageType_DebugLinkMemoryWrite:112,MessageType_DebugLinkFlashErase:113,MessageType_DebugLinkLayout:9001,MessageType_DebugLinkReseedRandom:9002,MessageType_DebugLinkRecordScreen:9003,MessageType_DebugLinkEraseSdCard:9005,MessageType_DebugLinkWatchLayout:9006,MessageType_EmmcFixPermission:30100,MessageType_EmmcPath:30101,MessageType_EmmcPathInfo:30102,MessageType_EmmcFile:30103,MessageType_EmmcFileRead:30104,MessageType_EmmcFileWrite:30105,MessageType_EmmcFileDelete:30106,MessageType_EmmcDir:30107,MessageType_EmmcDirList:30108,MessageType_EmmcDirMake:30109,MessageType_EmmcDirRemove:30110,MessageType_EthereumGetPublicKey:450,MessageType_EthereumPublicKey:451,MessageType_EthereumGetAddress:56,MessageType_EthereumAddress:57,MessageType_EthereumSignTx:58,MessageType_EthereumSignTxEIP1559:452,MessageType_EthereumTxRequest:59,MessageType_EthereumTxAck:60,MessageType_EthereumSignMessage:64,MessageType_EthereumVerifyMessage:65,MessageType_EthereumMessageSignature:66,MessageType_EthereumSignTypedData:464,MessageType_EthereumTypedDataStructRequest:465,MessageType_EthereumTypedDataStructAck:466,MessageType_EthereumTypedDataValueRequest:467,MessageType_EthereumTypedDataValueAck:468,MessageType_EthereumTypedDataSignature:469,MessageType_EthereumSignTypedHash:470,MessageType_NEMGetAddress:67,MessageType_NEMAddress:68,MessageType_NEMSignTx:69,MessageType_NEMSignedTx:70,MessageType_NEMDecryptMessage:75,MessageType_NEMDecryptedMessage:76,MessageType_TezosGetAddress:150,MessageType_TezosAddress:151,MessageType_TezosSignTx:152,MessageType_TezosSignedTx:153,MessageType_TezosGetPublicKey:154,MessageType_TezosPublicKey:155,MessageType_StellarSignTx:202,MessageType_StellarTxOpRequest:203,MessageType_StellarGetAddress:207,MessageType_StellarAddress:208,MessageType_StellarCreateAccountOp:210,MessageType_StellarPaymentOp:211,MessageType_StellarPathPaymentStrictReceiveOp:212,MessageType_StellarManageSellOfferOp:213,MessageType_StellarCreatePassiveSellOfferOp:214,MessageType_StellarSetOptionsOp:215,MessageType_StellarChangeTrustOp:216,MessageType_StellarAllowTrustOp:217,MessageType_StellarAccountMergeOp:218,MessageType_StellarManageDataOp:220,MessageType_StellarBumpSequenceOp:221,MessageType_StellarManageBuyOfferOp:222,MessageType_StellarPathPaymentStrictSendOp:223,MessageType_StellarSignedTx:230,MessageType_CardanoGetPublicKey:305,MessageType_CardanoPublicKey:306,MessageType_CardanoGetAddress:307,MessageType_CardanoAddress:308,MessageType_CardanoTxItemAck:313,MessageType_CardanoTxAuxiliaryDataSupplement:314,MessageType_CardanoTxWitnessRequest:315,MessageType_CardanoTxWitnessResponse:316,MessageType_CardanoTxHostAck:317,MessageType_CardanoTxBodyHash:318,MessageType_CardanoSignTxFinished:319,MessageType_CardanoSignTxInit:320,MessageType_CardanoTxInput:321,MessageType_CardanoTxOutput:322,MessageType_CardanoAssetGroup:323,MessageType_CardanoToken:324,MessageType_CardanoTxCertificate:325,MessageType_CardanoTxWithdrawal:326,MessageType_CardanoTxAuxiliaryData:327,MessageType_CardanoPoolOwner:328,MessageType_CardanoPoolRelayParameters:329,MessageType_CardanoGetNativeScriptHash:330,MessageType_CardanoNativeScriptHash:331,MessageType_CardanoTxMint:332,MessageType_CardanoTxCollateralInput:333,MessageType_CardanoTxRequiredSigner:334,MessageType_CardanoTxInlineDatumChunk:335,MessageType_CardanoTxReferenceScriptChunk:336,MessageType_CardanoTxReferenceInput:337,MessageType_CardanoSignMessage:350,MessageType_CardanoMessageSignature:351,MessageType_RippleGetAddress:400,MessageType_RippleAddress:401,MessageType_RippleSignTx:402,MessageType_RippleSignedTx:403,MessageType_MoneroTransactionInitRequest:501,MessageType_MoneroTransactionInitAck:502,MessageType_MoneroTransactionSetInputRequest:503,MessageType_MoneroTransactionSetInputAck:504,MessageType_MoneroTransactionInputsPermutationRequest:505,MessageType_MoneroTransactionInputsPermutationAck:506,MessageType_MoneroTransactionInputViniRequest:507,MessageType_MoneroTransactionInputViniAck:508,MessageType_MoneroTransactionAllInputsSetRequest:509,MessageType_MoneroTransactionAllInputsSetAck:510,MessageType_MoneroTransactionSetOutputRequest:511,MessageType_MoneroTransactionSetOutputAck:512,MessageType_MoneroTransactionAllOutSetRequest:513,MessageType_MoneroTransactionAllOutSetAck:514,MessageType_MoneroTransactionSignInputRequest:515,MessageType_MoneroTransactionSignInputAck:516,MessageType_MoneroTransactionFinalRequest:517,MessageType_MoneroTransactionFinalAck:518,MessageType_MoneroKeyImageExportInitRequest:530,MessageType_MoneroKeyImageExportInitAck:531,MessageType_MoneroKeyImageSyncStepRequest:532,MessageType_MoneroKeyImageSyncStepAck:533,MessageType_MoneroKeyImageSyncFinalRequest:534,MessageType_MoneroKeyImageSyncFinalAck:535,MessageType_MoneroGetAddress:540,MessageType_MoneroAddress:541,MessageType_MoneroGetWatchKey:542,MessageType_MoneroWatchKey:543,MessageType_DebugMoneroDiagRequest:546,MessageType_DebugMoneroDiagAck:547,MessageType_MoneroGetTxKeyRequest:550,MessageType_MoneroGetTxKeyAck:551,MessageType_MoneroLiveRefreshStartRequest:552,MessageType_MoneroLiveRefreshStartAck:553,MessageType_MoneroLiveRefreshStepRequest:554,MessageType_MoneroLiveRefreshStepAck:555,MessageType_MoneroLiveRefreshFinalRequest:556,MessageType_MoneroLiveRefreshFinalAck:557,MessageType_EosGetPublicKey:600,MessageType_EosPublicKey:601,MessageType_EosSignTx:602,MessageType_EosTxActionRequest:603,MessageType_EosTxActionAck:604,MessageType_EosSignedTx:605,MessageType_BinanceGetAddress:700,MessageType_BinanceAddress:701,MessageType_BinanceGetPublicKey:702,MessageType_BinancePublicKey:703,MessageType_BinanceSignTx:704,MessageType_BinanceTxRequest:705,MessageType_BinanceTransferMsg:706,MessageType_BinanceOrderMsg:707,MessageType_BinanceCancelMsg:708,MessageType_BinanceSignedTx:709,MessageType_SolanaGetAddress:10100,MessageType_SolanaAddress:10101,MessageType_SolanaSignTx:10102,MessageType_SolanaSignedTx:10103,MessageType_StarcoinGetAddress:10300,MessageType_StarcoinAddress:10301,MessageType_StarcoinGetPublicKey:10302,MessageType_StarcoinPublicKey:10303,MessageType_StarcoinSignTx:10304,MessageType_StarcoinSignedTx:10305,MessageType_StarcoinSignMessage:10306,MessageType_StarcoinMessageSignature:10307,MessageType_StarcoinVerifyMessage:10308,MessageType_AptosGetAddress:10600,MessageType_AptosAddress:10601,MessageType_AptosSignTx:10602,MessageType_AptosSignedTx:10603,MessageType_AptosSignMessage:10604,MessageType_AptosMessageSignature:10605,MessageType_WebAuthnListResidentCredentials:800,MessageType_WebAuthnCredentials:801,MessageType_WebAuthnAddResidentCredential:802,MessageType_WebAuthnRemoveResidentCredential:803,MessageType_BixinSeedOperate:901,MessageType_BixinMessageSE:902,MessageType_BixinOutMessageSE:904,MessageType_BixinBackupRequest:905,MessageType_BixinBackupAck:906,MessageType_BixinRestoreRequest:907,MessageType_BixinRestoreAck:908,MessageType_BixinVerifyDeviceRequest:909,MessageType_BixinVerifyDeviceAck:910,MessageType_BixinWhiteListRequest:911,MessageType_BixinWhiteListAck:912,MessageType_BixinLoadDevice:913,MessageType_BixinBackupDevice:914,MessageType_BixinBackupDeviceAck:915,MessageType_BixinPinInputOnDevice:1e4,MessageType_EthereumSignMessageEIP712:10200,MessageType_GetPublicKeyMultiple:10210,MessageType_PublicKeyMultiple:10211,MessageType_ConfluxGetAddress:10112,MessageType_ConfluxAddress:10113,MessageType_ConfluxSignTx:10114,MessageType_ConfluxTxRequest:10115,MessageType_ConfluxTxAck:10116,MessageType_ConfluxSignMessage:10117,MessageType_ConfluxSignMessageCIP23:10118,MessageType_ConfluxMessageSignature:10119,MessageType_TronGetAddress:10501,MessageType_TronAddress:10502,MessageType_TronSignTx:10503,MessageType_TronSignedTx:10504,MessageType_TronSignMessage:10505,MessageType_TronMessageSignature:10506,MessageType_NearGetAddress:10701,MessageType_NearAddress:10702,MessageType_NearSignTx:10703,MessageType_NearSignedTx:10704,MessageType_CosmosGetAddress:10800,MessageType_CosmosAddress:10801,MessageType_CosmosSignTx:10802,MessageType_CosmosSignedTx:10803,MessageType_AlgorandGetAddress:10900,MessageType_AlgorandAddress:10901,MessageType_AlgorandSignTx:10902,MessageType_AlgorandSignedTx:10903,MessageType_PolkadotGetAddress:11e3,MessageType_PolkadotAddress:11001,MessageType_PolkadotSignTx:11002,MessageType_PolkadotSignedTx:11003,MessageType_SuiGetAddress:11100,MessageType_SuiAddress:11101,MessageType_SuiSignTx:11102,MessageType_SuiSignedTx:11103,MessageType_FilecoinGetAddress:11200,MessageType_FilecoinAddress:11201,MessageType_FilecoinSignTx:11202,MessageType_FilecoinSignedTx:11203,MessageType_KaspaGetAddress:11300,MessageType_KaspaAddress:11301,MessageType_KaspaSignTx:11302,MessageType_KaspaSignedTx:11303,MessageType_KaspaTxInputRequest:11304,MessageType_KaspaTxInputAck:11305,MessageType_NexaGetAddress:11400,MessageType_NexaAddress:11401,MessageType_NexaSignTx:11402,MessageType_NexaSignedTx:11403,MessageType_NexaTxInputRequest:11404,MessageType_NexaTxInputAck:11405,MessageType_DeviceBackToBoot:903,MessageType_DeviceInfoSettings:10001,MessageType_GetDeviceInfo:10002,MessageType_DeviceInfo:10003,MessageType_ReadSEPublicKey:10004,MessageType_SEPublicKey:10005,MessageType_WriteSEPublicCert:10006,MessageType_ReadSEPublicCert:10007,MessageType_SEPublicCert:10008,MessageType_SpiFlashWrite:10009,MessageType_SpiFlashRead:10010,MessageType_SpiFlashData:10011,MessageType_SESignMessage:10012,MessageType_SEMessageSignature:10013,MessageType_NFTWriteInfo:10014,MessageType_NFTWriteData:10015,MessageType_ResourceUpload:10018,MessageType_ZoomRequest:10019,MessageType_ResourceRequest:10020,MessageType_ResourceAck:10021,MessageType_ResourceUpdate:10022,MessageType_ListResDir:10023,MessageType_FileInfoList:10024,MessageType_RebootToBoardloader:10025,MessageType_DeviceEraseSector:10026}},google:{nested:{protobuf:{nested:{FileDescriptorSet:{fields:{file:{rule:"repeated",type:"FileDescriptorProto",id:1}}},FileDescriptorProto:{fields:{name:{type:"string",id:1},package:{type:"string",id:2},dependency:{rule:"repeated",type:"string",id:3},public_dependency:{rule:"repeated",type:"int32",id:10,options:{packed:!1}},weak_dependency:{rule:"repeated",type:"int32",id:11,options:{packed:!1}},message_type:{rule:"repeated",type:"DescriptorProto",id:4},enum_type:{rule:"repeated",type:"EnumDescriptorProto",id:5},service:{rule:"repeated",type:"ServiceDescriptorProto",id:6},extension:{rule:"repeated",type:"FieldDescriptorProto",id:7},options:{type:"FileOptions",id:8},source_code_info:{type:"SourceCodeInfo",id:9},syntax:{type:"string",id:12}}},DescriptorProto:{fields:{name:{type:"string",id:1},field:{rule:"repeated",type:"FieldDescriptorProto",id:2},extension:{rule:"repeated",type:"FieldDescriptorProto",id:6},nested_type:{rule:"repeated",type:"DescriptorProto",id:3},enum_type:{rule:"repeated",type:"EnumDescriptorProto",id:4},extension_range:{rule:"repeated",type:"ExtensionRange",id:5},oneof_decl:{rule:"repeated",type:"OneofDescriptorProto",id:8},options:{type:"MessageOptions",id:7},reserved_range:{rule:"repeated",type:"ReservedRange",id:9},reserved_name:{rule:"repeated",type:"string",id:10}},nested:{ExtensionRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}},ReservedRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}}}},FieldDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:3},label:{type:"Label",id:4},type:{type:"Type",id:5},type_name:{type:"string",id:6},extendee:{type:"string",id:2},default_value:{type:"string",id:7},oneof_index:{type:"int32",id:9},json_name:{type:"string",id:10},options:{type:"FieldOptions",id:8}},nested:{Type:{values:{TYPE_DOUBLE:1,TYPE_FLOAT:2,TYPE_INT64:3,TYPE_UINT64:4,TYPE_INT32:5,TYPE_FIXED64:6,TYPE_FIXED32:7,TYPE_BOOL:8,TYPE_STRING:9,TYPE_GROUP:10,TYPE_MESSAGE:11,TYPE_BYTES:12,TYPE_UINT32:13,TYPE_ENUM:14,TYPE_SFIXED32:15,TYPE_SFIXED64:16,TYPE_SINT32:17,TYPE_SINT64:18}},Label:{values:{LABEL_OPTIONAL:1,LABEL_REQUIRED:2,LABEL_REPEATED:3}}}},OneofDescriptorProto:{fields:{name:{type:"string",id:1},options:{type:"OneofOptions",id:2}}},EnumDescriptorProto:{fields:{name:{type:"string",id:1},value:{rule:"repeated",type:"EnumValueDescriptorProto",id:2},options:{type:"EnumOptions",id:3}}},EnumValueDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:2},options:{type:"EnumValueOptions",id:3}}},ServiceDescriptorProto:{fields:{name:{type:"string",id:1},method:{rule:"repeated",type:"MethodDescriptorProto",id:2},options:{type:"ServiceOptions",id:3}}},MethodDescriptorProto:{fields:{name:{type:"string",id:1},input_type:{type:"string",id:2},output_type:{type:"string",id:3},options:{type:"MethodOptions",id:4},client_streaming:{type:"bool",id:5},server_streaming:{type:"bool",id:6}}},FileOptions:{fields:{java_package:{type:"string",id:1},java_outer_classname:{type:"string",id:8},java_multiple_files:{type:"bool",id:10},java_generate_equals_and_hash:{type:"bool",id:20,options:{deprecated:!0}},java_string_check_utf8:{type:"bool",id:27},optimize_for:{type:"OptimizeMode",id:9,options:{default:"SPEED"}},go_package:{type:"string",id:11},cc_generic_services:{type:"bool",id:16},java_generic_services:{type:"bool",id:17},py_generic_services:{type:"bool",id:18},deprecated:{type:"bool",id:23},cc_enable_arenas:{type:"bool",id:31},objc_class_prefix:{type:"string",id:36},csharp_namespace:{type:"string",id:37},uninterpreted_option:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[38,38]],nested:{OptimizeMode:{values:{SPEED:1,CODE_SIZE:2,LITE_RUNTIME:3}}}},MessageOptions:{fields:{message_set_wire_format:{type:"bool",id:1},no_standard_descriptor_accessor:{type:"bool",id:2},deprecated:{type:"bool",id:3},map_entry:{type:"bool",id:7},uninterpreted_option:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[8,8]]},FieldOptions:{fields:{ctype:{type:"CType",id:1,options:{default:"STRING"}},packed:{type:"bool",id:2},jstype:{type:"JSType",id:6,options:{default:"JS_NORMAL"}},lazy:{type:"bool",id:5},deprecated:{type:"bool",id:3},weak:{type:"bool",id:10},uninterpreted_option:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]],reserved:[[4,4]],nested:{CType:{values:{STRING:0,CORD:1,STRING_PIECE:2}},JSType:{values:{JS_NORMAL:0,JS_STRING:1,JS_NUMBER:2}}}},OneofOptions:{fields:{uninterpreted_option:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumOptions:{fields:{allow_alias:{type:"bool",id:2},deprecated:{type:"bool",id:3},uninterpreted_option:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},EnumValueOptions:{fields:{deprecated:{type:"bool",id:1},uninterpreted_option:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},ServiceOptions:{fields:{deprecated:{type:"bool",id:33},uninterpreted_option:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},MethodOptions:{fields:{deprecated:{type:"bool",id:33},uninterpreted_option:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,536870911]]},UninterpretedOption:{fields:{name:{rule:"repeated",type:"NamePart",id:2},identifier_value:{type:"string",id:3},positive_int_value:{type:"uint64",id:4},negative_int_value:{type:"int64",id:5},double_value:{type:"double",id:6},string_value:{type:"bytes",id:7},aggregate_value:{type:"string",id:8}},nested:{NamePart:{fields:{name_part:{rule:"required",type:"string",id:1},is_extension:{rule:"required",type:"bool",id:2}}}}},SourceCodeInfo:{fields:{location:{rule:"repeated",type:"Location",id:1}},nested:{Location:{fields:{path:{rule:"repeated",type:"int32",id:1},span:{rule:"repeated",type:"int32",id:2},leading_comments:{type:"string",id:3},trailing_comments:{type:"string",id:4},leading_detached_comments:{rule:"repeated",type:"string",id:6}}}}},GeneratedCodeInfo:{fields:{annotation:{rule:"repeated",type:"Annotation",id:1}},nested:{Annotation:{fields:{path:{rule:"repeated",type:"int32",id:1},source_file:{type:"string",id:2},begin:{type:"int32",id:3},end:{type:"int32",id:4}}}}}}}}}}};const getReleaseStatus=(e,t)=>{const r=e.filter((e=>v.default.gt(e.version.join("."),t)));return 0===r.length?"valid":r.some((e=>e.required))?"required":"outdated"},getReleaseChangelog=(e,t)=>e.filter((e=>v.default.gt(e.version.join("."),t))).map((e=>e.changelog)),findLatestRelease=e=>{let t=e[0];return e.forEach((e=>{v.default.gt(e.version.join("."),t.version.join("."))&&(t=e)})),t};var z;class DataManager{static load(e){return __awaiter(this,void 0,void 0,(function*(){if(this.settings=e,e.fetchConfig)try{const t=e.preRelease?"https://data.onekey.so/pre-config.json":"https://data.onekey.so/config.json",{data:r}=yield _.default.get(`${t}?noCache=${getTimeStamp()}`,{timeout:7e3});this.deviceMap={classic:r.classic,classic1s:r.classic1s,mini:r.mini,touch:r.touch,pro:r.pro},this.assets={bridge:r.bridge}}catch(e){}}))}static checkAndReloadData(){return __awaiter(this,void 0,void 0,(function*(){getTimeStamp()-this.lastCheckTimestamp>108e5&&(yield this.load(this.settings).then((()=>{this.lastCheckTimestamp=getTimeStamp()})))}))}static getProtobufMessages(e="latest"){return this.messages[e]}static getSettings(e){return this.settings?"string"==typeof e?this.settings[e]:this.settings:null}}z=DataManager,DataManager.deviceMap={classic:{firmware:[],ble:[]},classic1s:{firmware:[],ble:[]},mini:{firmware:[],ble:[]},touch:{firmware:[],ble:[]},pro:{firmware:[],ble:[]}},DataManager.assets=null,DataManager.messages={latest:F,v1:U},DataManager.lastCheckTimestamp=0,DataManager.getFirmwareStatus=e=>{var t,r;const i=getDeviceType(e);if("unknown"===i)return"unknown";const n=getDeviceFirmwareVersion(e);if(!1===e.firmware_present)return"none";if(P.model_mini.includes(i)&&e.bootloader_mode)return"unknown";const s=getFirmwareUpdateField({features:e,updateType:"firmware"}),a=null!==(r=null===(t=z.deviceMap[i])||void 0===t?void 0:t[s])&&void 0!==r?r:[],o=n.join(".");return getReleaseStatus(a,o)},DataManager.getSysResourcesLatestRelease=(e,t)=>{var r,i,n;const s=getDeviceType(e),a=getDeviceFirmwareVersion(e);if("pro"!==s&&"touch"!==s)return;const o=getFirmwareUpdateField({features:e,updateType:"firmware"}),d=null!==(i=null===(r=z.deviceMap[s])||void 0===r?void 0:r[o])&&void 0!==i?i:[],u=a.join("."),l=d.filter((e=>(t||v.default.gt(e.version.join("."),u))&&!!e.resource));return null===(n=findLatestRelease(l))||void 0===n?void 0:n.resource},DataManager.getSysFullResource=e=>{var t,r,i;const n=getDeviceType(e);if("unknown"===n)return;if("pro"!==n&&"touch"!==n)return;const s=getFirmwareUpdateField({features:e,updateType:"firmware"}),a=(null!==(r=null===(t=z.deviceMap[n])||void 0===t?void 0:t[s])&&void 0!==r?r:[]).filter((e=>!!e.fullResource));return null===(i=findLatestRelease(a))||void 0===i?void 0:i.fullResource},DataManager.getBootloaderResource=e=>{var t,r,i;const n=getDeviceType(e);if("unknown"===n)return;if("pro"!==n&&"touch"!==n)return;const s=getFirmwareUpdateField({features:e,updateType:"firmware"}),a=(null!==(r=null===(t=z.deviceMap[n])||void 0===t?void 0:t[s])&&void 0!==r?r:[]).filter((e=>!!e.bootloaderResource));return null===(i=findLatestRelease(a))||void 0===i?void 0:i.bootloaderResource},DataManager.getBootloaderTargetVersion=e=>{var t,r,i,n;const s=getDeviceType(e);if("unknown"===s)return;const a=getFirmwareUpdateField({features:e,updateType:"firmware"}),o=(null!==(r=null===(t=z.deviceMap[s])||void 0===t?void 0:t[a])&&void 0!==r?r:[]).filter((e=>!!e.bootloaderResource));return null!==(n=null===(i=null==o?void 0:o[0])||void 0===i?void 0:i.bootloaderVersion)&&void 0!==n?n:void 0},DataManager.getBootloaderRelatedFirmwareVersion=e=>{var t,r,i,n;const s=getDeviceType(e);if("unknown"===s)return;if(!P.model_mini.includes(s))return;const a=getFirmwareUpdateField({features:e,updateType:"firmware"}),o=(null!==(r=null===(t=z.deviceMap[s])||void 0===t?void 0:t[a])&&void 0!==r?r:[]).filter((e=>!!e.bootloaderRelatedFirmwareVersion));return null!==(n=null===(i=null==o?void 0:o[0])||void 0===i?void 0:i.bootloaderRelatedFirmwareVersion)&&void 0!==n?n:void 0},DataManager.getFirmwareChangelog=e=>{var t,r;const i=getDeviceType(e);if("unknown"===i)return[];const n=getDeviceFirmwareVersion(e),s=getFirmwareUpdateField({features:e,updateType:"firmware"}),a=null!==(r=null===(t=z.deviceMap[i])||void 0===t?void 0:t[s])&&void 0!==r?r:[];if(!1===e.firmware_present||P.model_classic.includes(i)&&e.bootloader_mode)return getReleaseChangelog(a,"0.0.0");const o=n.join(".");return getReleaseChangelog(a,o)},DataManager.getFirmwareLatestRelease=e=>{var t,r;const i=getDeviceType(e);if("unknown"===i)return;const n=getFirmwareUpdateField({features:e,updateType:"firmware"}),s=null!==(r=null===(t=z.deviceMap[i])||void 0===t?void 0:t[n])&&void 0!==r?r:[],a=findLatestRelease(s);if(!a)return a;if(!a.resource){const t=z.getSysResourcesLatestRelease(e);return Object.assign(Object.assign({},a),{resource:t})}return a},DataManager.getBLEFirmwareStatus=e=>{var t,r;const i=getDeviceType(e);if("unknown"===i)return"unknown";const n=getDeviceBLEFirmwareVersion(e);if(!n)return"none";const s=null!==(r=null===(t=z.deviceMap[i])||void 0===t?void 0:t.ble)&&void 0!==r?r:[],a=n.join(".");return getReleaseStatus(s,a)},DataManager.getBleFirmwareChangelog=e=>{var t,r;const i=getDeviceType(e);if("unknown"===i)return[];const n=getDeviceBLEFirmwareVersion(e);if(!n)return[];const s=null!==(r=null===(t=z.deviceMap[i])||void 0===t?void 0:t.ble)&&void 0!==r?r:[],a=n.join(".");return getReleaseChangelog(s,a)},DataManager.getBleFirmwareLatestRelease=e=>{var t,r;const i=getDeviceType(e);if("unknown"===i)return;const n=null!==(r=null===(t=z.deviceMap[i])||void 0===t?void 0:t.ble)&&void 0!==r?r:[];return findLatestRelease(n)},DataManager.getTransportStatus=e=>{var t,r;const i=null===(r=null===(t=z.assets)||void 0===t?void 0:t.bridge)||void 0===r?void 0:r.version;if(!i)return"valid";return v.default.gte(e,i.join("."))?"valid":"outdated"},DataManager.getBridgeChangelog=()=>{var e;return null===(e=z.assets)||void 0===e?void 0:e.bridge.changelog},DataManager.isBleConnect=e=>"react-native"===e||"lowlevel"===e;const H={model_mini:[{minVersion:"3.3.0",messageVersion:"latest"},{minVersion:"0.0.0",messageVersion:"v1"}],model_touch:[{minVersion:"4.5.0",messageVersion:"latest"},{minVersion:"0.0.0",messageVersion:"v1"}]},supportInputPinOnSoftware=e=>{if(!e)return{support:!1};const t=getDeviceType(e);if("touch"===t||"pro"===t)return{support:!1};const r=getDeviceFirmwareVersion(e).join(".");return{support:v.default.gte(r,"2.3.0"),require:"2.3.0"}},getPassphraseStateWithRefreshDeviceInfo=e=>__awaiter(void 0,void 0,void 0,(function*(){const{features:t,commands:r}=e,i=!1===(null==t?void 0:t.unlocked),n=yield getPassphraseState(t,r),s="touch"===getDeviceType(t)||"pro"===getDeviceType(t),a=n&&!0!==(null==t?void 0:t.passphrase_protection);return(s&&i||a)&&(yield e.getFeatures()),n})),getPassphraseState=(e,t)=>__awaiter(void 0,void 0,void 0,(function*(){if(!e)return!1;const{message:r,type:i}=yield t.typedCall("GetAddress","Address",{address_n:[toHardened(44),toHardened(1),toHardened(0),0,0],coin_name:"Testnet",script_type:"SPENDADDRESS",show_display:!1});if("CallMethodError"===i)throw n.ERRORS.TypedError(n.HardwareErrorCode.RuntimeError,"Get the passphrase state error");return r.address})),supportBatchPublicKey=e=>{if(!e)return!1;const t=getDeviceFirmwareVersion(e).join("."),r=getDeviceType(e);return"touch"===r||"pro"===r?v.default.gte(t,"3.1.0"):v.default.gte(t,"2.6.0")},supportModifyHomescreen=e=>{if(!e)return{support:!1};const t=getDeviceFirmwareVersion(e).join("."),r=getDeviceType(e);return P.model_mini.includes(r)?{support:!0}:{support:v.default.gte(t,"3.4.0")}},getFirmwareUpdateField=({features:e,updateType:t,targetVersion:r})=>{const i=getDeviceType(e),n=getDeviceFirmwareVersion(e);if("ble"===t)return"ble";if(P.model_mini.includes(i))return"firmware-v5";if("touch"===i){if(r){if(v.default.eq(r,"4.0.0"))return"firmware-v2";if(v.default.gt(r,"4.0.0"))return"firmware-v5"}return v.default.lt(n.join("."),"3.4.0")?"firmware":"firmware-v5"}return"pro"===i?"firmware-v5":"firmware"};function fixVersion(e){let t=e.split(".");for(;t.length<3;)t.push("0");return t=t.map((e=>a.isNaN(parseInt(e,10))?"0":e)),t.join(".")}const G=r(5698),getSDKVersion=()=>G.version,W=`https://jssdk.onekey.so/${getSDKVersion()}/`;var V;const $={configSrc:"./data/config.json",version:"",debug:!1,priority:2,trustedHost:!1,connectSrc:W,iframeSrc:`${W}iframe.html`,parentOrigin:"undefined"!=typeof window&&window.location?window.location.origin:"",extension:"undefined"!=typeof chrome&&(null===(V=null===chrome||void 0===chrome?void 0:chrome.runtime)||void 0===V?void 0:V.id)||"",supportedBrowser:"undefined"==typeof navigator||!/Trident|MSIE|Edge/.test(navigator.userAgent),env:"web",lazyLoad:!1,timestamp:(new Date).getTime()},getEnv=()=>{if("undefined"!=typeof chrome&&chrome.runtime&&void 0!==chrome.runtime.onConnect)return"webextension";if("undefined"!=typeof navigator){if("string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase())return"react-native";if(navigator.userAgent.toLowerCase().indexOf(" electron/")>-1)return"electron"}return"web"},corsValidator=e=>{if("string"==typeof e)return e.match(/^https:\/\/([A-Za-z0-9\-_]+\.)*onekey\.so\//)||e.match(/^https?:\/\/localhost:[58][0-9]{3}\//),e};function checkNeedUpdateBootForTouch(e){const t=getDeviceType(e);if(!P.model_touch.includes(t))return!1;const r=getDeviceFirmwareVersion(e).join("."),i=getDeviceBootloaderVersion(e).join("."),n=DataManager.getBootloaderTargetVersion(e);return!!n&&(v.default.gte(r,"3.2.0")&&v.default.gte(r,"4.1.0")&&v.default.lte(i,n.join(".")))}function checkNeedUpdateBootForClassicAndMini(e,t){const r=getDeviceType(e);if(!P.model_mini.includes(r))return!1;if(!t)return!1;const i=getDeviceFirmwareVersion(e).join("."),n=getDeviceBootloaderVersion(e).join("."),s=DataManager.getBootloaderTargetVersion(e);if(s&&v.default.gte(n,s.join(".")))return!1;const a=DataManager.getBootloaderRelatedFirmwareVersion(e);return!!a&&function shouldUpdateBootloaderForClassicAndMini({currentVersion:e,bootloaderVersion:t,willUpdateFirmware:r,targetBootloaderVersion:i,bootloaderRelatedFirmwareVersion:n}){return!(i&&v.default.gte(t,i.join("."))||!v.default.gte(r,n.join("."))&&!v.default.gte(e,n.join(".")))}({currentVersion:i,bootloaderVersion:n,willUpdateFirmware:t,targetBootloaderVersion:s,bootloaderRelatedFirmwareVersion:a})}const Y="LOG_EVENT",X={OUTPUT:"log-output"},createLogMessage=(e,t)=>({event:Y,type:e,payload:t});let J;class Log$b{constructor(e,t){this.prefix=e,this.enabled=t,this.messages=[]}addMessage(e,t,...r){this.messages.push({level:e,prefix:t,message:r,timestamp:(new Date).getTime()}),this.messages.length>500&&this.messages.shift()}log(...e){this.addMessage("log",this.prefix,...e),sendLogMessage(this.prefix,...e),this.enabled&&console.log(this.prefix,...e)}error(...e){this.addMessage("error",this.prefix,...e),sendLogMessage(this.prefix,...e),this.enabled&&console.error(this.prefix,...e)}warn(...e){this.addMessage("warn",this.prefix,...e),sendLogMessage(this.prefix,...e),this.enabled&&console.warn(this.prefix,...e)}debug(...e){this.addMessage("debug",this.prefix,...e),sendLogMessage(this.prefix,...e),this.enabled&&console.log(this.prefix,...e)}}const Z={},initLog=(e,t)=>{const r=new Log$b(e,!!t);return Z[e]=r,r},enableLog=e=>{Object.keys(Z).forEach((t=>{Z[t].enabled=!!e}))},getLog=()=>{let e=[];return Object.keys(Z).forEach((t=>{e=e.concat(Z[t].messages)})),e.sort(((e,t)=>e.timestamp-t.timestamp)),e},setLoggerPostMessage=e=>{J=e},getCircularReplacer=()=>{const e=new WeakSet;return(t,r)=>{if("object"==typeof r&&null!==r){if(e.has(r))return;e.add(r)}return r}},sendLogMessage=(e,...t)=>{null==J||J(createLogMessage(X.OUTPUT,((...e)=>e.map((e=>"string"==typeof e||"number"==typeof e||"boolean"==typeof e||void 0===e?e:"object"==typeof e?JSON.stringify(e,getCircularReplacer()):e)))(e,...t)))};var Q;t.d3=void 0,(Q=t.d3||(t.d3={})).Core="@onekey/hd-core",Q.Transport="Transport",Q.Device="Device",Q.DeviceCommands="DeviceCommands",Q.DeviceConnector="DeviceConnector",Q.DeviceList="DeviceList",Q.DevicePool="DevicePool",Q.HdCommonConnectSdk="@onekey/common-connect-sdk",Q.HdBleSdk="@onekey/hd-ble-sdk",Q.HdTransportHttp="@onekey/hd-transport-http",Q.HdTransportLowLevel="@onekey/hd-transport-lowlevel",Q.HdBleTransport="@onekey/hd-ble-transport",Q.Connect="@onekey/connect",Q.Iframe="IFrame",Q.SendMessage="[SendMessage]",Q.Method="[Method]";const ee={[t.d3.Core]:initLog(t.d3.Core),[t.d3.Transport]:initLog(t.d3.Transport),[t.d3.Device]:initLog(t.d3.Device),[t.d3.DeviceCommands]:initLog(t.d3.DeviceCommands),[t.d3.DeviceConnector]:initLog(t.d3.DeviceConnector),[t.d3.DeviceList]:initLog(t.d3.DeviceList),[t.d3.DevicePool]:initLog(t.d3.DevicePool),[t.d3.HdBleSdk]:initLog(t.d3.HdBleSdk),[t.d3.HdTransportHttp]:initLog(t.d3.HdTransportHttp),[t.d3.HdBleTransport]:initLog(t.d3.HdBleTransport),[t.d3.HdTransportLowLevel]:initLog(t.d3.HdTransportLowLevel),[t.d3.Connect]:initLog(t.d3.Connect),[t.d3.Iframe]:initLog(t.d3.Iframe),[t.d3.SendMessage]:initLog(t.d3.SendMessage),[t.d3.Method]:initLog(t.d3.Method),[t.d3.HdCommonConnectSdk]:initLog(t.d3.Method)},getLogger=e=>ee[e],wait=e=>new Promise((t=>{setTimeout(t,e)})),te="CORE_EVENT",re="UI_EVENT",ie={REQUEST_PIN:"ui-request_pin",INVALID_PIN:"ui-invalid_pin",REQUEST_BUTTON:"ui-button",REQUEST_PASSPHRASE:"ui-request_passphrase",REQUEST_PASSPHRASE_ON_DEVICE:"ui-request_passphrase_on_device",CLOSE_UI_WINDOW:"ui-close_window",BLUETOOTH_PERMISSION:"ui-bluetooth_permission",BLUETOOTH_CHARACTERISTIC_NOTIFY_CHANGE_FAILURE:"ui-bluetooth_characteristic_notify_change_failure",LOCATION_PERMISSION:"ui-location_permission",LOCATION_SERVICE_PERMISSION:"ui-location_service_permission",FIRMWARE_PROGRESS:"ui-firmware-progress",FIRMWARE_TIP:"ui-firmware-tip",PREVIOUS_ADDRESS_RESULT:"ui-previous_address_result"},createUiMessage=(e,t)=>({event:re,type:e,payload:t}),ne={INIT:"iframe-init",INIT_BRIDGE:"iframe-init-bridge",CALL:"iframe-call",CANCEL:"iframe-cancel"},se="RESPONSE_EVENT",createResponseMessage=(e,t,r)=>({event:se,type:se,id:e,success:t,payload:t?r:n.serializeError(r)}),ae={RECEIVE_PIN:"ui-receive_pin",RECEIVE_PASSPHRASE:"ui-receive_passphrase"},oe="DEVICE_EVENT",de={CONNECT:"device-connect",CONNECT_UNACQUIRED:"device-connect_unacquired",DISCONNECT:"device-disconnect",CHANGED:"device-changed",ACQUIRE:"device-acquire",RELEASE:"device-release",ACQUIRED:"device-acquired",RELEASED:"device-released",USED_ELSEWHERE:"device-used_elsewhere",UNREADABLE:"unreadable-device",LOADING:"device-loading",BUTTON:"button",PIN:"pin",PASSPHRASE:"passphrase",PASSPHRASE_ON_DEVICE:"passphrase_on_device",WORD:"word",SUPPORT_FEATURES:"support_features",FEATURES:"features"},createDeviceMessage=(e,t)=>({event:oe,type:e,payload:t}),ue="FIRMWARE_EVENT",le={RELEASE_INFO:"firmware-release-info",BLE_RELEASE_INFO:"ble-firmware-release-info"},createFirmwareMessage=(e,t)=>({event:ue,type:e,payload:t}),ce=new Set([ae.RECEIVE_PIN,ae.RECEIVE_PASSPHRASE]),pe=getLogger(t.d3.DevicePool);class DevicePool extends M.exports{static setConnector(e){this.connector=e}static getDevices(e,t,r){var i,n,s,a,o,d,u;return __awaiter(this,void 0,void 0,(function*(){const l={},c=[];if(t){const i=this.devicesCache[t];if(i){const n=e.find((e=>e.path===i.originalDescriptor.path));if(n)return i.updateDescriptor(n,!0),l[t]=i,c.push(i),yield this._checkDevicePool(r),{devices:l,deviceList:c};pe.debug("found device in cache, but path is different: ",t)}}try{for(i=!0,n=__asyncValues(e);s=yield n.next(),!(a=s.done);i=!0){u=s.value,i=!1;const e=u,t=yield this._createDevice(e,r);if(t.features){const r=getDeviceUUID(t.features);if(this.devicesCache[r]){this.devicesCache[r].updateDescriptor(e,!0)}this.devicesCache[r]=t,l[r]=t}c.push(t)}}catch(e){o={error:e}}finally{try{i||a||!(d=n.return)||(yield d.call(n))}finally{if(o)throw o.error}}return yield this._checkDevicePool(r),{devices:l,deviceList:c}}))}static clearDeviceCache(e){e&&delete this.devicesCache[e]}static _createDevice(e,t){return __awaiter(this,void 0,void 0,(function*(){let r=this.getDeviceByPath(e.path);return r||(r=Device.fromDescriptor(e),r.deviceConnector=this.connector,yield r.connect(),yield r.initialize(t),yield r.release()),r}))}static _checkDevicePool(e){return __awaiter(this,void 0,void 0,(function*(){yield this._sendConnectMessage(e),this._sendDisconnectMessage()}))}static _sendConnectMessage(e){return __awaiter(this,void 0,void 0,(function*(){for(let t=this.connectedPool.length-1;t>=0;t--){const r=this.connectedPool[t],i=yield this._createDevice(r,e);pe.debug("emit DEVICE.CONNECT: ",null==i?void 0:i.features),this.emitter.emit(de.CONNECT,i),this.connectedPool.splice(t,1)}}))}static _sendDisconnectMessage(){for(let e=this.disconnectPool.length-1;e>=0;e--){const t=this.connectedPool[e],r=(null==t?void 0:t.path)?this.getDeviceByPath(t.path):null;r&&this.emitter.emit(de.DISCONNECT,r),this.disconnectPool.splice(e,1)}}static reportDeviceChange(e){const t=((e,t)=>{const r=t.filter((t=>void 0===e.find((e=>e.path===t.path)))),i=e.filter((e=>void 0===t.find((t=>t.path===e.path)))),n=t.filter((t=>{const r=e.find((e=>e.path===t.path));return!!r&&r.session!==t.session})),s=n.filter((e=>"string"==typeof e.session)),a=n.filter((e=>"string"!=typeof e.session)),o=t.filter((t=>{const r=e.find((e=>e.path===t.path));return!!r&&r.debugSession!==t.debugSession})),d=n.filter((e=>"string"==typeof e.debugSession)),u=n.filter((e=>"string"!=typeof e.debugSession));return{connected:r,disconnected:i,changedSessions:n,acquired:s,released:a,changedDebugSessions:o,debugAcquired:d,debugReleased:u,didUpdate:r.length+i.length+n.length+o.length>0,descriptors:t}})(this.current||[],e);this.upcoming=e,this.current=this.upcoming,pe.debug("device pool -> current: ",this.current),pe.debug("device pool -> upcomming: ",this.upcoming),pe.debug("DeviceCache.reportDeviceChange diff: ",t),t.didUpdate&&(t.connected.forEach((e=>{const t=this.getDeviceByPath(e.path);t?(pe.debug("emit DEVICE.CONNECT: ",t.features),this.emitter.emit(de.CONNECT,t)):this._addConnectedDeviceToPool(e)})),t.disconnected.forEach((e=>{this._removeDeviceFromConnectedPool(e.path);const t=this.getDeviceByPath(e.path);t?(pe.debug("emit DEVICE.DISCONNECT: ",t.features),this.emitter.emit(de.DISCONNECT,t)):this._addDisconnectedDeviceToPool(e)})))}static getDeviceByPath(e){return Object.values(this.devicesCache).find((t=>t.originalDescriptor.path===e))}static _addConnectedDeviceToPool(e){const t=this.connectedPool.findIndex((t=>t.path===e.path));t>-1?this.connectedPool.splice(t,1,e):this.connectedPool.push(e)}static _removeDeviceFromConnectedPool(e){const t=this.connectedPool.findIndex((t=>t.path===e));t>-1&&this.connectedPool.splice(t,1)}static _addDisconnectedDeviceToPool(e){const t=this.disconnectPool.findIndex((t=>t.path===e.path));t>-1?this.disconnectPool.splice(t,1,e):this.disconnectPool.push(e)}}DevicePool.current=null,DevicePool.upcoming=[],DevicePool.connectedPool=[],DevicePool.disconnectPool=[],DevicePool.devicesCache={},DevicePool.emitter=new M.exports;const he=getLogger(t.d3.Transport),fe=getLogger(t.d3.HdBleTransport),ye=getLogger(t.d3.HdTransportHttp),ge=getLogger(t.d3.HdTransportLowLevel);class TransportManager{static load(){he.debug("transport manager load"),this.defaultMessages=DataManager.getProtobufMessages(),this.currentMessages=this.defaultMessages,this.messageVersion="latest"}static configure(){return __awaiter(this,void 0,void 0,(function*(){try{const e=DataManager.getSettings("env");if(he.debug("Initializing transports"),"react-native"===e)this.reactNativeInit?he.debug("React Native Do Not Initializing transports"):(yield this.transport.init(fe,DevicePool.emitter),this.reactNativeInit=!0);else if("lowlevel"===e){if(!this.plugin)throw n.ERRORS.TypedError(n.HardwareErrorCode.TransportNotConfigured,"Lowlevel transport mast have plugin");yield this.transport.init(ge,DevicePool.emitter,this.plugin)}else yield this.transport.init(ye);he.debug("Configuring transports"),yield this.transport.configure(JSON.stringify(this.defaultMessages)),he.debug("Configuring transports done")}catch(e){if(he.debug("Initializing transports error: ",e),"ECONNABORTED"===e.code)throw n.ERRORS.TypedError(n.HardwareErrorCode.BridgeTimeoutError)}}))}static reconfigure(e){return __awaiter(this,void 0,void 0,(function*(){he.debug("Begin reconfiguring transports");const{messageVersion:t,messages:r}=(e=>{var t;if(!e)return{messages:DataManager.messages.latest,messageVersion:"latest"};const r=getDeviceFirmwareVersion(e).join("."),i=getDeviceType(e),n=H[i]||D[i]&&D[i].map((e=>H[e])).find((e=>void 0!==e)),s=null!==(t=null==n?void 0:n.sort(((e,t)=>v.default.compare(t.minVersion,e.minVersion))))&&void 0!==t?t:[];for(const{minVersion:e,messageVersion:t}of s)if(v.default.gte(r,e))return{messages:DataManager.messages[t],messageVersion:t};return{messages:DataManager.messages.latest,messageVersion:"latest"}})(e);if(this.currentMessages!==r&&r){he.debug(`Reconfiguring transports version:${t}`);try{yield this.transport.configure(JSON.stringify(r)),this.currentMessages=r,this.messageVersion=t}catch(e){throw n.ERRORS.TypedError(n.HardwareErrorCode.TransportInvalidProtobuf,`Transport_InvalidProtobuf:  ${e.message}`)}}}))}static setTransport(e,t){const r=DataManager.getSettings("env");this.transport="react-native"===r?new e({scanTimeout:3e3}):new e,t&&(this.plugin=t,he.debug("set transport plugin: ",this.plugin)),he.debug("set transport: ",this.transport.name,this.transport.version,this.transport.configured)}static getTransport(){return this.transport}static getDefaultMessages(){return this.defaultMessages}static getCurrentMessages(){return this.currentMessages}static getMessageVersion(){return this.messageVersion}}TransportManager.reactNativeInit=!1,TransportManager.messageVersion="latest",TransportManager.plugin=null;const me=getLogger(t.d3.DeviceCommands);class DeviceCommands{constructor(e,t){this.device=e,this.mainId=t,this.transport=TransportManager.getTransport(),this.disposed=!1}dispose(e){var t,r;return __awaiter(this,void 0,void 0,(function*(){this.disposed=!0,e&&this._cancelableRequest&&this._cancelableRequest(),this._cancelableRequest=void 0,yield null===(r=(t=this.transport).cancel)||void 0===r?void 0:r.call(t)}))}call(e,t={}){var r;return __awaiter(this,void 0,void 0,(function*(){me.debug("[DeviceCommands] [call] Sending",e);try{const r=this.transport.call(this.mainId,e,t);this.callPromise=r;const i=yield r;return me.debug("[DeviceCommands] [call] Received",i.type),console.log("[DeviceCommands] [call] Received",i.type),i}catch(e){if(me.debug("[DeviceCommands] [call] Received error",e),e.errorCode===n.HardwareErrorCode.BleDeviceBondError)return{type:"BleDeviceBondError",message:{error:null==e?void 0:e.message}};const t=null===(r=null==e?void 0:e.response)||void 0===r?void 0:r.data;let i=null==t?void 0:t.error;if(!i&&t&&"string"==typeof t)try{const e=JSON.parse(t);i=null==e?void 0:e.error}catch(e){}if(t&&me.debug("error response",t),"device disconnected during action"===i)return{type:"BridgeDeviceDisconnected",message:{error:i}};if(i&&-1!==i.indexOf("Request failed with status code"))return{type:"CallMethodError",message:{error:null!=t?t:""}};throw e}}))}typedCall(e,t,r){return __awaiter(this,void 0,void 0,(function*(){if(this.disposed)throw n.ERRORS.TypedError(n.HardwareErrorCode.RuntimeError,"typedCall: DeviceCommands already disposed");const i=yield this._commonCall(e,r);try{((e,t)=>{if(!(Array.isArray(t)?t:t.split("|")).includes(e.type))throw n.ERRORS.TypedError(n.HardwareErrorCode.ResponseUnexpectTypeError,`assertType: Response of unexpected type: ${e.type}. Should be ${t}`)})(i,t)}catch(e){if(me.debug("DeviceCommands typedcall error: ",e),!(e instanceof n.HardwareError))throw e;if(e.errorCode===n.HardwareErrorCode.ResponseUnexpectTypeError){if(e.message.indexOf("BridgeNetworkError")>-1)throw n.ERRORS.TypedError(n.HardwareErrorCode.BridgeNetworkError);if(e.message.indexOf("BleDeviceBondError")>-1)throw n.ERRORS.TypedError(n.HardwareErrorCode.BleDeviceBondError);if(e.message.indexOf("BridgeDeviceDisconnected")>-1)throw n.ERRORS.TypedError(n.HardwareErrorCode.BridgeDeviceDisconnected)}}return i}))}_commonCall(e,t){return __awaiter(this,void 0,void 0,(function*(){const r=yield this.call(e,t);return this._filterCommonTypes(r,e)}))}_filterCommonTypes(e,t){try{"react-native"===DataManager.getSettings("env")?me.debug("_filterCommonTypes: ",JSON.stringify(e)):me.debug("_filterCommonTypes: ",e)}catch(e){}if("Failure"===e.type){const{code:r,message:i}=e.message;let s=null;return"Failure_FirmwareError"!==r||i||(s=n.ERRORS.TypedError(n.HardwareErrorCode.FirmwareError)),"Failure_ActionCancelled"===r&&(s=n.ERRORS.TypedError(n.HardwareErrorCode.ActionCancelled)),"Failure_PinInvalid"===r&&(s=n.ERRORS.TypedError(n.HardwareErrorCode.PinInvalid,i)),"Failure_PinCancelled"===r&&(s=n.ERRORS.TypedError(n.HardwareErrorCode.PinCancelled)),"Failure_DataError"===r&&("Please confirm the BlindSign enabled"===i&&(s=n.ERRORS.TypedError(n.HardwareErrorCode.BlindSignDisabled)),"File already exists"===i&&(s=n.ERRORS.TypedError(n.HardwareErrorCode.FileAlreadyExists)),(null==i?void 0:i.includes("bytes overflow"))&&(s=n.ERRORS.TypedError(n.HardwareErrorCode.DataOverload))),"Failure_UnexpectedMessage"===r&&("PassphraseAck"===t&&(s=n.ERRORS.TypedError(n.HardwareErrorCode.UnexpectPassphrase)),"Not in Signing mode"===i&&(s=n.ERRORS.TypedError(n.HardwareErrorCode.NotInSigningMode))),s?Promise.reject(s):Promise.reject(n.ERRORS.TypedError(n.HardwareErrorCode.RuntimeError,`${r||"Failure_UnknownCode"},${i||"Failure_UnknownMessage"}`))}if("Features"===e.type)return Promise.resolve(patchFeatures(e));if("ButtonRequest"===e.type)return"ButtonRequest_PassphraseEntry"===e.message.code?this.device.emit(de.PASSPHRASE_ON_DEVICE,this.device):this.device.emit(de.BUTTON,this.device,e.message),this._commonCall("ButtonAck",{});e.type;const r="webusb"===DataManager.getSettings("env");return"PinMatrixRequest"===e.type?r?Promise.reject(n.ERRORS.TypedError(n.HardwareErrorCode.RuntimeError,"Please unlock your device")):this._promptPin(e.message.type).then((e=>"@@ONEKEY_INPUT_PIN_IN_DEVICE"===e?this._commonCall("BixinPinInputOnDevice"):this._commonCall("PinMatrixAck",{pin:e})),(()=>this._commonCall("Cancel",{}))):"PassphraseRequest"===e.type?this._promptPassphrase().then((e=>{const{passphrase:t,passphraseOnDevice:r}=e;return r?this._commonCall("PassphraseAck",{on_device:!0}):this._commonCall("PassphraseAck",{passphrase:t})})):(e.type,e.type,Promise.resolve(e))}_promptPin(e){return new Promise(((t,r)=>{this.device.listenerCount(de.PIN)>0?(this._cancelableRequest=r,this.device.emit(de.PIN,this.device,e,((e,i)=>{this._cancelableRequest=void 0,e?r(e):t(i)}))):(console.warn("[DeviceCommands] [call] PIN callback not configured, cancelling request"),r(n.ERRORS.TypedError(n.HardwareErrorCode.RuntimeError,"_promptPin: PIN callback not configured")))}))}_promptPassphrase(){return new Promise(((e,t)=>{this.device.listenerCount(de.PASSPHRASE)>0?(this._cancelableRequest=t,this.device.emit(de.PASSPHRASE,this.device,((r,i)=>{this._cancelableRequest=void 0,i?t(i):e(r)}))):(me.error("[DeviceCommands] [call] Passphrase callback not configured, cancelling request"),t(n.ERRORS.TypedError(n.HardwareErrorCode.RuntimeError,"_promptPassphrase: Passphrase callback not configured")))}))}}const be="ui-device_bootloader_mode",ve="ui-device_not_in_bootloader_mode",_e="ui-device_not_initialized",we="ui-device_seedless",Ee="ui-firmware-tip",Te="ui-previous_address_result",Se=getLogger(t.d3.Device),Ae={};class Device extends M.exports{constructor(e){super(),this.deviceConnector=null,this.features=void 0,this.featuresNeedsReload=!1,this.externalState=[],this.unavailableCapabilities={},this.instance=0,this.internalState=[],this.needReloadDevice=!1,this.keepSession=!1,this.passphraseState=void 0,this.originalDescriptor=e}static fromDescriptor(e){const t=Object.assign({},e);return new Device(t)}toMessageObject(){if(this.isUnacquired()||!this.features)return null;const e=DataManager.getSettings("env"),t=getDeviceType(this.features),r=getDeviceBleName(this.features),i=getDeviceLabel(this.features);return{connectId:DataManager.isBleConnect(e)?this.mainId||null:getDeviceUUID(this.features),uuid:getDeviceUUID(this.features),deviceType:t,deviceId:this.features.device_id||null,path:this.originalDescriptor.path,bleName:r,name:r||i||`OneKey ${null==t?void 0:t.toUpperCase()}`,label:i||"OneKey",mode:this.getMode(),features:this.features,firmwareVersion:this.getFirmwareVersion(),bleFirmwareVersion:this.getBLEFirmwareVersion(),unavailableCapabilities:this.unavailableCapabilities}}connect(){const e=DataManager.getSettings("env");return new Promise((t=>__awaiter(this,void 0,void 0,(function*(){if(DataManager.isBleConnect(e))try{yield this.acquire(),t(!0)}catch(e){t(e)}else if(!this.mainId||!this.isUsedHere()&&this.originalDescriptor)try{yield this.acquire(),t(!0)}catch(e){t(e)}else this.isUsedHere()?t(!0):t(!1)}))))}acquire(){var e,t,r,i;return __awaiter(this,void 0,void 0,(function*(){const n=DataManager.getSettings("env"),s=DataManager.isBleConnect(n)?"id":"session";try{if(DataManager.isBleConnect(n)){const r=yield null===(e=this.deviceConnector)||void 0===e?void 0:e.acquire(this.originalDescriptor.id);this.mainId=null!==(t=r.uuid)&&void 0!==t?t:"",Se.debug("Expected uuid:",this.mainId)}else this.mainId=yield null===(r=this.deviceConnector)||void 0===r?void 0:r.acquire(this.originalDescriptor.path,this.originalDescriptor.session),Se.debug("Expected session id:",this.mainId);this.updateDescriptor({[s]:this.mainId}),this.commands&&(yield this.commands.dispose(!1)),this.commands=new DeviceCommands(this,null!==(i=this.mainId)&&void 0!==i?i:"")}catch(e){if(!this.runPromise)throw e;this.runPromise.reject(e),this.runPromise=null}}))}release(){var e;return __awaiter(this,void 0,void 0,(function*(){const t=DataManager.getSettings("env");if(this.isUsedHere()&&!this.keepSession&&this.mainId||this.mainId&&DataManager.isBleConnect(t)){if(this.commands&&(this.commands.dispose(!1),this.commands.callPromise))try{yield this.commands.callPromise}catch(e){this.commands.callPromise=void 0}try{yield null===(e=this.deviceConnector)||void 0===e?void 0:e.release(this.mainId,!1),this.updateDescriptor({session:null})}catch(e){Se.error("[Device] release error: ",e)}finally{this.needReloadDevice=!0}}}))}getCommands(){return this.commands}generateStateKey(e,t){return t?`${e}@${t}`:e}getInternalState(e){var t,r;Se.debug("getInternalState session param: ",`device_id: ${e}`,`features.device_id: ${null===(t=this.features)||void 0===t?void 0:t.device_id}`,`passphraseState: ${this.passphraseState}`),Se.debug("getInternalState session cache: ",Ae);const i=e||(null===(r=this.features)||void 0===r?void 0:r.device_id);if(!i)return;if(!this.passphraseState)return;const n=this.generateStateKey(i,this.passphraseState);return Ae[n]}tryFixInternalState(e,t,r=null){Se.debug("tryFixInternalState session param: ",`device_id: ${t}`,`passphraseState: ${e}`,`sessionId: ${r}`);const i=`${t}`,n=Ae[i];n?(Ae[this.generateStateKey(t,e)]=n,delete Ae[i]):r&&(Ae[this.generateStateKey(t,e)]=r),Se.debug("tryFixInternalState session cache: ",Ae)}setInternalState(e,t){var r,i;if(Se.debug("setInternalState session param: ",`state: ${e}`,`initSession: ${t}`,`device_id: ${null===(r=this.features)||void 0===r?void 0:r.device_id}`,`passphraseState: ${this.passphraseState}`),!this.features)return;if(!this.passphraseState&&!t)return;const n=null===(i=this.features)||void 0===i?void 0:i.device_id;if(!n)return;const s=this.generateStateKey(n,this.passphraseState);e&&(Ae[s]=e),Se.debug("setInternalState done session cache: ",Ae)}clearInternalState(e){var t;Se.debug("clearInternalState param: ",e);const r=e||(null===(t=this.features)||void 0===t?void 0:t.device_id);if(!r)return;if(delete Ae[`${r}`],this.passphraseState){const e=this.generateStateKey(r,this.passphraseState);delete Ae[e]}}initialize(e){return __awaiter(this,void 0,void 0,(function*(){Se.debug("initialize param:",e),this.passphraseState=null==e?void 0:e.passphraseState,(null==e?void 0:e.initSession)&&this.clearInternalState(null==e?void 0:e.deviceId);const t=this.getInternalState(null==e?void 0:e.deviceId),r={};t&&(r.session_id=t),(null==e?void 0:e.deriveCardano)&&(r.derive_cardano=!0),Se.debug("initialize payload:",r);try{const{message:t}=yield Promise.race([this.commands.typedCall("Initialize","Features",r),new Promise(((e,t)=>{setTimeout((()=>{t(n.ERRORS.TypedError(n.HardwareErrorCode.DeviceInitializeFailed))}),25e3)}))]);this._updateFeatures(t,null==e?void 0:e.initSession),yield TransportManager.reconfigure(this.features)}catch(e){throw Se.error("Initialization failed:",e),e}}))}getFeatures(){return __awaiter(this,void 0,void 0,(function*(){const{message:e}=yield this.commands.typedCall("GetFeatures","Features",{});this._updateFeatures(e)}))}_updateFeatures(e,t){var r;this.features&&this.features.session_id&&!e.session_id&&(e.session_id=this.features.session_id),this.features&&this.features.device_id&&e.session_id&&this.setInternalState(e.session_id,t),e.unlocked=null===(r=e.unlocked)||void 0===r||r,e=(e=>{const t=Object.assign({},e);return t.onekey_firmware_version&&!v.default.valid(t.onekey_firmware_version)&&(t.onekey_firmware_version=fixVersion(t.onekey_firmware_version)),t.onekey_version&&!v.default.valid(t.onekey_version)&&(t.onekey_version=fixVersion(t.onekey_version)),t})(e),this.features=e,this.featuresNeedsReload=!1,this.emit(de.FEATURES,this,e)}updateDescriptor(e,t=!1){const r=DataManager.getSettings("env");if(DataManager.isBleConnect(r))return;const i=this.originalDescriptor.session,n=e.session;i!==n&&(this.originalDescriptor.session=n),t&&(this.originalDescriptor=e)}updateFromCache(e){this.mainId=e.mainId,this.commands=e.commands,this.updateDescriptor(e.originalDescriptor,!0),e.features&&this._updateFeatures(e.features)}run(e,t){return __awaiter(this,void 0,void 0,(function*(){return this.runPromise&&(yield this.interruptionFromOutside(),Se.debug("[Device] run error:","Device is running, but will cancel previous operate")),t=(e=>(e||(e={}),e))(t),this.runPromise=n.createDeferred(this._runInner.bind(this,e,t)),this.runPromise.promise}))}_runInner(e,t){return __awaiter(this,void 0,void 0,(function*(){if(!this.isUsedHere()||this.commands.disposed){if("react-native"!==DataManager.getSettings("env")){try{yield this.acquire()}catch(e){return this.runPromise=null,Promise.reject(e)}try{e&&(yield this.initialize(t))}catch(e){return this.runPromise=null,e instanceof n.HardwareError?Promise.reject(e):Promise.reject(n.ERRORS.TypedError(n.HardwareErrorCode.DeviceInitializeFailed,`Initialize failed: ${e.message}, code: ${e.code}`))}}}if(t.keepSession&&(this.keepSession=!0),e)try{yield e()}catch(e){return this.runPromise&&this.runPromise.reject(e),void(this.runPromise=null)}(!this.keepSession&&"boolean"!=typeof t.keepSession||!1===t.keepSession)&&(this.keepSession=!1,yield this.release(),Se.debug("release device, mainId: ",this.mainId)),this.runPromise&&this.runPromise.resolve(),this.runPromise=null}))}interruptionFromOutside(){return __awaiter(this,void 0,void 0,(function*(){this.commands&&(yield this.commands.dispose(!1)),this.runPromise&&this.runPromise.reject(n.ERRORS.TypedError(n.HardwareErrorCode.DeviceInterruptedFromOutside))}))}interruptionFromUser(){return __awaiter(this,void 0,void 0,(function*(){this.commands&&(yield this.commands.dispose(!0)),this.runPromise&&this.runPromise.reject(n.ERRORS.TypedError(n.HardwareErrorCode.DeviceInterruptedFromUser))}))}getMode(){var e,r,i;return(null===(e=this.features)||void 0===e?void 0:e.bootloader_mode)?t.cW.bootloader:(null===(r=this.features)||void 0===r?void 0:r.initialized)?(null===(i=this.features)||void 0===i?void 0:i.no_backup)?t.cW.backupMode:t.cW.normal:t.cW.notInitialized}getFirmwareVersion(){return this.features?getDeviceFirmwareVersion(this.features):null}getBLEFirmwareVersion(){return this.features?getDeviceBLEFirmwareVersion(this.features):null}isUsed(){return"string"==typeof this.originalDescriptor.session}isUsedHere(){const e=DataManager.getSettings("env");return!DataManager.isBleConnect(e)&&(this.isUsed()&&this.originalDescriptor.session===this.mainId)}isUsedElsewhere(){return this.isUsed()&&!this.isUsedHere()}isBootloader(){return this.features&&!!this.features.bootloader_mode}isInitialized(){return this.features&&!!this.features.initialized}isSeedless(){return this.features&&!!this.features.no_backup}isUnacquired(){return void 0===this.features}hasUnexpectedMode(e,t){if(this.features){if(this.isBootloader()&&!e.includes(be))return be;if(!this.isInitialized()&&!e.includes(_e))return _e;if(this.isSeedless()&&!e.includes(we))return we;if(!this.isBootloader()&&t.includes(be))return ve}return null}hasUsePassphrase(){var e;const t=("touch"===getDeviceType(this.features)||"pro"===getDeviceType(this.features))&&!1===(null===(e=this.features)||void 0===e?void 0:e.unlocked);return this.features&&(!!this.features.passphrase_protection||t)}checkDeviceId(e){return!!this.features&&this.features.device_id===e}checkPassphraseStateSafety(e){return __awaiter(this,void 0,void 0,(function*(){if(!this.features)return!1;const t=yield getPassphraseStateWithRefreshDeviceInfo(this);return!e||e===t||(this.clearInternalState(),!1)}))}}class DeviceList extends M.exports{constructor(){super(...arguments),this.devices={}}getDeviceLists(e,t){var r,i;return __awaiter(this,void 0,void 0,(function*(){const n=yield null===(r=this.connector)||void 0===r?void 0:r.enumerate(),s=null!==(i=null==n?void 0:n.descriptors)&&void 0!==i?i:[];this.devices={};const{deviceList:a,devices:o}=yield DevicePool.getDevices(s,e,t);return this.devices=o,a}))}allDevices(){return Object.keys(this.devices).map((e=>this.devices[e]))}getDevice(e){return this.devices[e]}}const getFirmwareReleaseInfo=e=>({status:DataManager.getFirmwareStatus(e),changelog:DataManager.getFirmwareChangelog(e),release:DataManager.getFirmwareLatestRelease(e),bootloaderMode:!!e.bootloader_mode}),getBleFirmwareReleaseInfo=e=>({status:DataManager.getBLEFirmwareStatus(e),changelog:DataManager.getBleFirmwareChangelog(e),release:DataManager.getBleFirmwareLatestRelease(e),bootloaderMode:!!e.bootloader_mode}),getBootloaderReleaseInfo=(e,t)=>{const r=DataManager.getFirmwareLatestRelease(e),i=[null==r?void 0:r.bootloaderChangelog].filter((e=>null!=e&&"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"zh-CN")&&Object.prototype.hasOwnProperty.call(e,"en-US"))),n=!!e.bootloader_mode;let s=!1;const a=getDeviceType(e);return P.model_mini.includes(a)?s=!!checkNeedUpdateBootForClassicAndMini(e,t):P.model_touch.includes(a)&&(s=checkNeedUpdateBootForTouch(e)),{status:s?"outdated":"valid",changelog:i,release:r,bootloaderMode:n}},Me=getLogger(t.d3.Method);class BaseMethod{constructor(e){this.shouldEnsureConnected=!0,this.checkDeviceId=!1,this.useDevicePassphraseState=!0,this.skipForceUpdateCheck=!1,this.postPreviousAddressMessage=e=>{this.postMessage(createUiMessage(Te,{device:this.device.toMessageObject(),data:e}))};const{payload:t}=e;this.name=t.method,this.payload=t,this.responseID=e.id||0,this.connectId=t.connectId||"",this.deviceId=t.deviceId||"",this.useDevice=!0,this.notAllowDeviceMode=[_e],this.requireDeviceMode=[]}getVersionRange(){return{}}setDevice(e){this.device=e,this.connectId=e.originalDescriptor.path}checkFirmwareRelease(){if(!this.device||!this.device.features)return;const e=getFirmwareReleaseInfo(this.device.features);this.postMessage(createFirmwareMessage(le.RELEASE_INFO,Object.assign(Object.assign({},e),{device:this.device.toMessageObject()})));const t=getBleFirmwareReleaseInfo(this.device.features);this.postMessage(createFirmwareMessage(le.BLE_RELEASE_INFO,Object.assign(Object.assign({},t),{device:this.device.toMessageObject()})))}checkDeviceSupportFeature(){if(!this.device||!this.device.features)return;const e=supportInputPinOnSoftware(this.device.features),t=supportModifyHomescreen(this.device.features);this.postMessage(createDeviceMessage(de.SUPPORT_FEATURES,{inputPinOnSoftware:e,modifyHomescreen:t,device:this.device.toMessageObject()}))}checkSafetyLevelOnTestNet(){var e,t,r;return __awaiter(this,void 0,void 0,(function*(){let i=!1;"evmSignTransaction"===this.name&&[3,4,5,420,11155111].includes(Number(null===(t=null===(e=this.payload)||void 0===e?void 0:e.transaction)||void 0===t?void 0:t.chainId))&&(i=!0),i&&"Strict"===(null===(r=this.device.features)||void 0===r?void 0:r.safety_checks)&&(Me.debug("will change safety_checks level"),yield this.device.commands.typedCall("ApplySettings","Success",{safety_checks:"PromptTemporarily"}))}))}dispose(){}}const Re="2.2.0",Oe="4.3.0",xe="3.1.0";const ke="2.2.0",Ie="4.3.0",Ce="3.1.0";const hasHexPrefix=e=>"0x"===e.slice(0,2).toLowerCase(),stripHexPrefix=e=>hasHexPrefix(e)?e.slice(2):e,stripHexStartZeroes=e=>{for(;/^00/.test(e);)e=e.slice(2);return e},formatAnyHex=e=>{if("string"==typeof e){let t=stripHexPrefix(e);return t.length%2!=0&&(t=`0${t}`),t}return Array.isArray(e)?e.map(formatAnyHex):"object"==typeof e?(t=e,r=e=>formatAnyHex(e),Object.fromEntries(Object.entries(t).map((([e,t])=>[e,r(t,e)])))):e;var t,r},Be=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function bytesToHex(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=Be[e[r]];return t}function hexToBytes(e){if("string"!=typeof e)throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){const i=2*r,n=e.slice(i,i+2),s=Number.parseInt(n,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");t[r]=s}return t}const invalidParameter=e=>n.ERRORS.TypedError(n.HardwareErrorCode.CallMethodInvalidParameter,e),invalidResponse=e=>n.ERRORS.TypedError(n.HardwareErrorCode.CallMethodError,e),validateParams=(e,t)=>{t.forEach((t=>{if(!Object.prototype.hasOwnProperty.call(e,t.name)&&t.required)throw invalidParameter(`Missing required parameter: ${t.name}`);const r=e[t.name];if(r&&t.type)switch(t.type){case"array":if(!Array.isArray(r))throw invalidParameter(`Parameter [${t.name}] is of type invalid and should be [${t.type}].`);if(!t.allowEmpty&&r.length<1)throw invalidParameter(`Parameter "${t.name}" is empty.`);break;case"uint":if("string"!=typeof r&&"number"!=typeof r)throw invalidParameter(`Parameter [${t.name}] has invalid type. "string|number" expected.`);if("number"==typeof r&&!Number.isSafeInteger(r)||!/^(?:[1-9]\d*|\d)$/.test(r.toString().replace(/^-/,t.allowNegative?"":"-")))throw invalidParameter(`Parameter [${t.name}] has invalid value "${r}". Integer representation expected.`);break;case"bigNumber":if("string"!=typeof r)throw invalidParameter(`Parameter [${t.name}] is of type invalid and should be [string].`);try{if(new E.default(r).toFixed(0)!==r)throw new Error("")}catch(e){throw invalidParameter(`Parameter [${t.name}] is of type invalid and should be [${t.type}].`)}break;case"buffer":if(void 0===r||"function"==typeof r.constructor.isBuffer&&r.constructor.isBuffer(r))throw invalidParameter(`Parameter [${t.name}] is of type invalid and should be [buffer].`);break;case"hexString":if("string"!=typeof r||!((e,t)=>!("string"!=typeof e||!e.match(/^(0x|0X)?[0-9A-Fa-f]*$/)||t&&e.length!==2+2*t))((i=r,hasHexPrefix(i)?i:`0x${i}`)))throw invalidParameter(`Parameter [${t.name}] is of type invalid and should be [${t.type}].`);break;default:if(typeof r!==t.type)throw invalidParameter(`Parameter [${t.name}] is of type invalid and should be [${t.type}].`)}var i}))};function validateResult(e,t,r){if(Array.isArray(e)){if(null!==(null==r?void 0:r.expectedLength)&&e.length!==(null==r?void 0:r.expectedLength))throw invalidResponse(`Expected array length of ${null==r?void 0:r.expectedLength}, but got ${e.length}`);e.forEach(((e,r)=>{t.forEach((t=>{if(null==e[t])throw invalidResponse(`Field '${t}' in array item at index ${r} is null`)}))}))}else{if("object"!=typeof e||null===e)throw invalidResponse("Result is neither an array nor a valid object");t.forEach((t=>{if(null==e[t])throw invalidResponse(`Field '${t}' in object is null`)}))}}const safeThrowError=e=>{throw e instanceof n.HardwareError?e:"ERR_NETWORK"===e.code?n.ERRORS.TypedError(n.HardwareErrorCode.BridgeNotInstalled):"ECONNABORTED"===e.code?n.ERRORS.TypedError(n.HardwareErrorCode.BridgeTimeoutError):"ERR_BAD_REQUEST"===e.code?n.ERRORS.TypedError(n.HardwareErrorCode.BridgeNetworkError):n.ERRORS.TypedError(e)};const getBinary=({features:e,updateType:t,version:r,isUpdateBootloader:i})=>__awaiter(void 0,void 0,void 0,(function*(){const s=getInfo({features:e,updateType:t,targetVersion:null==r?void 0:r.join(".")});if(!s)throw n.ERRORS.TypedError(n.HardwareErrorCode.RuntimeError,"no firmware found for this device");if(r&&!v.default.eq(s.version.join("."),r.join("."))){if(!("touch"===getDeviceType(e)&&!e.onekey_version))throw n.ERRORS.TypedError(n.HardwareErrorCode.RuntimeError,"firmware version mismatch")}const a="ble"===t?s.webUpdate:i?s.bootloaderResource:s.url;let o;try{o=yield httpRequest(a,"binary")}catch(e){throw n.ERRORS.TypedError(n.HardwareErrorCode.RuntimeError,"Method_FirmwareUpdate_DownloadFailed")}return Object.assign(Object.assign({},s),{binary:o})})),getSysResourceBinary=e=>__awaiter(void 0,void 0,void 0,(function*(){let t;try{t=yield httpRequest(e,"binary")}catch(e){throw n.ERRORS.TypedError(n.HardwareErrorCode.RuntimeError,"Method_FirmwareUpdate_DownloadFailed")}return{binary:t}})),getInfo=({features:e,updateType:t,targetVersion:r})=>{var i,n;const s=getDeviceType(e),{deviceMap:a}=DataManager,o=getFirmwareUpdateField({features:e,updateType:t,targetVersion:r}),d=null!==(n=null===(i=null==a?void 0:a[s])||void 0===i?void 0:i[o])&&void 0!==n?n:[];return findLatestRelease(d)},Ne="session not found",Pe=getLogger(t.d3.Core),postConfirmationMessage=e=>{var t;(null===(t=e.features)||void 0===t?void 0:t.firmware_present)&&e.emit(de.BUTTON,e,{code:"ButtonRequest_FirmwareUpdate"})},postProgressMessage=(e,t,r)=>{r(createUiMessage(ie.FIRMWARE_PROGRESS,{device:e.toMessageObject(),progress:t}))},postProgressTip=(e,t,r)=>{r(createUiMessage(ie.FIRMWARE_TIP,{device:e.toMessageObject(),data:{message:t}}))},waitBleInstall=e=>__awaiter(void 0,void 0,void 0,(function*(){"ble"===e&&(yield wait(1e4))})),uploadFirmware=(e,t,r,i,{payload:s,rebootOnSuccess:a})=>__awaiter(void 0,void 0,void 0,(function*(){const o=getDeviceType(i.features);if(P.model_mini.includes(o)){postConfirmationMessage(i),postProgressTip(i,"ConfirmOnDevice",r);const a="firmware"===e?"FirmwareErase":"FirmwareErase_ex";if("Success"!==(yield t(a,"Success",{})).type)throw n.ERRORS.TypedError(n.HardwareErrorCode.RuntimeError,"erase firmware error");postProgressTip(i,"FirmwareEraseSuccess",r),postProgressMessage(i,0,r);const{message:o,type:d}=yield t("FirmwareUpload","Success",{payload:s});if(postProgressMessage(i,100,r),yield waitBleInstall(e),"Success"!==d)throw n.ERRORS.TypedError(n.HardwareErrorCode.RuntimeError,"install firmware error");return o}if(P.model_touch.includes(o)){if(i.features){const t=getDeviceBootloaderVersion(i.features);if(v.default.gte(t.join("."),"2.4.5")){return(yield newTouchUpdateProcess(e,r,i,{payload:s},a)).message}}postConfirmationMessage(i),postProgressTip(i,"ConfirmOnDevice",r);const o=s.byteLength;let d=yield t("FirmwareErase",["FirmwareRequest","Success"],{length:o});for(postProgressTip(i,"FirmwareEraseSuccess",r);"Success"!==d.type;){const e=d.message.offset,a=d.message.offset+d.message.length,u=s.slice(e,a);if(e>0&&postProgressMessage(i,Math.round(e/o*100),r),d=yield t("FirmwareUpload",["FirmwareRequest","Success"],{payload:u}),"CallMethodError"===d.type)throw n.ERRORS.TypedError(n.HardwareErrorCode.RuntimeError,"upload firmware error")}return postProgressMessage(i,100,r),yield waitBleInstall(e),d.message}throw n.ERRORS.TypedError(n.HardwareErrorCode.RuntimeError,"uploadFirmware: unknown device model")})),newTouchUpdateProcess=(e,t,r,{payload:i},n=!0)=>__awaiter(void 0,void 0,void 0,(function*(){let s=r.getCommands().typedCall.bind(r.getCommands());postProgressTip(r,"StartTransferData",t);const a=`0:${"ble"===e?"ble-":""}firmware.bin`,o=DataManager.getSettings("env"),d=1024*(DataManager.isBleConnect(o)?16:128),u=Math.ceil(i.byteLength/d);let l=0;for(let e=0;e<u;e++){const n=e*d,s=Math.min(n+d,i.byteLength),o=s-n,c=i.slice(n,s),p=0===e,h=Math.round((e+1)/u*100);l+=(yield emmcFileWriteWithRetry(r,a,o,l,c,p,h)).message.processed_byte,postProgressMessage(r,h,t)}postConfirmationMessage(r),postProgressTip(r,"ConfirmOnDevice",t),postProgressTip(r,"InstallingFirmware",t),s=r.getCommands().typedCall.bind(r.getCommands());return yield s("FirmwareUpdateEmmc","Success",{path:a,reboot_on_success:n})})),emmcFileWriteWithRetry=(e,t,r,i,s,a,o)=>__awaiter(void 0,void 0,void 0,(function*(){var d,u,l,c,p,h;let y=10;for(;y>0;)try{return yield __awaiter(void 0,void 0,void 0,(function*(){var d;const u=e.getCommands().typedCall.bind(e.getCommands()),l=yield u("EmmcFileWrite","EmmcFile",{file:{path:t,len:r,offset:i,data:s},overwrite:a,append:0!==i,ui_percentage:o});if("EmmcFile"!==l.type){if("CallMethodError"===l.type&&(null!==(d=l.message.error)&&void 0!==d?d:"").indexOf(Ne)>-1)throw n.ERRORS.TypedError(n.HardwareErrorCode.RuntimeError,Ne);throw n.ERRORS.TypedError(n.HardwareErrorCode.RuntimeError,"emmc file write chunk once error")}return l}))}catch(t){if(Pe.error("emmcWrite error: ",t),y--,0===y)throw n.ERRORS.TypedError(n.HardwareErrorCode.RuntimeError,"emmc file write firmware error");const r=DataManager.getSettings("env");if(DataManager.isBleConnect(r))yield wait(3e3),yield null===(d=e.deviceConnector)||void 0===d?void 0:d.acquire(e.originalDescriptor.id,null,!0),yield e.initialize();else if(t.message.indexOf(Ne)>-1){const t=yield null===(u=e.deviceConnector)||void 0===u?void 0:u.enumerate(),r=null!==(l=null==t?void 0:t.descriptors)&&void 0!==l?l:[],{deviceList:i}=yield DevicePool.getDevices(r,void 0);1===i.length&&(null===(p=null===(c=i[0])||void 0===c?void 0:c.features)||void 0===p?void 0:p.bootloader_mode)&&(e.updateFromCache(i[0]),yield e.acquire(),e.getCommands().mainId=null!==(h=e.mainId)&&void 0!==h?h:"")}yield wait(3e3)}})),processResourceRequest=(e,t,r)=>__awaiter(void 0,void 0,void 0,(function*(){if("Success"===t.type)return t.message;const{offset:i,data_length:n}=t.message;if(void 0===i)throw new Error("offset is undefined");const s=new Uint8Array(r.slice(i,Math.min(i+n,r.byteLength))),a=l.blake2s(s),o={data_chunk:bytesToHex(s),hash:bytesToHex(a)},d=yield e("ResourceAck",["ResourceRequest","Success"],Object.assign({},o));return processResourceRequest(e,d,r)})),updateResource=(e,t,r)=>__awaiter(void 0,void 0,void 0,(function*(){const i=new Uint8Array(r.slice(0,Math.min(16384,r.byteLength))),n=l.blake2s(i),s=yield e("ResourceUpdate",["ResourceRequest","Success"],{file_name:t,data_length:r.byteLength,initial_data_chunk:bytesToHex(i),hash:bytesToHex(n)});return processResourceRequest(e,s,r)})),updateResources=(e,t,r,i)=>__awaiter(void 0,void 0,void 0,(function*(){postProgressTip(r,"UpdateSysResource",t);const n=yield T.default.loadAsync(i),s=Object.entries(n.files);let a=0;const o=100/s.length;for(const[i,n]of s){const s=i.split("/").pop();if(!n.dir&&-1===i.indexOf("__MACOSX")&&s){const t=yield n.async("arraybuffer");yield updateResource(e,s,t)}a+=o,postProgressMessage(r,Math.floor(a),t)}return postProgressMessage(r,100,t),postProgressTip(r,"UpdateSysResourceSuccess",t),!0}));const De=getLogger(t.d3.Method);const qe=getLogger(t.d3.Method);const Le=getLogger(t.d3.Method);const je="mainnet",Fe={tbtc:{name:"btc",coin:"Testnet"},bch:{name:"btc",coin:"Bcash"},doge:{name:"btc",coin:"Dogecoin"},ltc:{name:"btc",coin:"Litecoin"},neurai:{name:"btc",coin:"Neurai"}},Ue={btc:{methodName:"btcGetPublicKey",getParams:(e,t)=>Object.assign({coin:t},e)},evm:{methodName:"evmGetAddress",getParams:(e,t)=>{const{path:r,showOnOneKey:i}=e;let n;return t&&(n=parseInt(t)),{chainId:n,path:r,showOnOneKey:i}}},sol:{methodName:"solGetAddress"},algo:{methodName:"algoGetAddress"},near:{methodName:"nearGetAddress"},stc:{methodName:"starcoinGetAddress"},cfx:{methodName:"confluxGetAddress",getParams:(e,t)=>{const{path:r,showOnOneKey:i}=e;return{chainId:parseInt(null!=t?t:"1029"),path:r,showOnOneKey:i}}},tron:{methodName:"tronGetAddress"},aptos:{methodName:"aptosGetAddress"},xrp:{methodName:"xrpGetAddress"},cosmos:{methodName:"cosmosGetPublicKey",getParams:e=>{const{path:t,prefix:r,showOnOneKey:i}=e;return{hrp:r,path:t,showOnOneKey:i}}},ada:{methodName:"cardanoGetAddress",getParams:(e,t)=>{const{path:r,showOnOneKey:i}=e,n="string"==typeof r?`${r}/0/0`:serializedPath([...r,0,0]),s="string"==typeof r?`${r}/2/0`:serializedPath([...r,2,0]);let a=1;return t&&(a=t===je?1:0),{addressParameters:{addressType:c.Messages.CardanoAddressType.BASE,path:n,stakingPath:s},protocolMagic:764824073,networkId:a,derivationType:c.Messages.CardanoDerivationType.ICARUS,showOnOneKey:i,address:"",isCheck:!1}}},sui:{methodName:"suiGetAddress",dependOnMethodName:["suiGetPublicKey"],getParams:e=>{const{path:t,showOnOneKey:r}=e;return{path:t,showOnOneKey:r}}},fil:{methodName:"filecoinGetAddress",getParams:(e,t)=>{const{path:r,showOnOneKey:i}=e;let n=!1;return t&&(n=t!==je),{isTestnet:n,path:r,showOnOneKey:i}}},dot:{methodName:"polkadotGetAddress",getParams:(e,t)=>{const{path:r,prefix:i,showOnOneKey:n}=e;if(!i||!t)throw new Error("Invalid params");return{prefix:parseInt(i),network:t,path:r,showOnOneKey:n}}},kaspa:{methodName:"kaspaGetAddress",getParams:e=>{const{path:t,prefix:r,showOnOneKey:i}=e;return{scheme:"schnorr",prefix:r,path:t,showOnOneKey:i}}},nexa:{methodName:"nexaGetAddress",getParams:e=>{const{path:t,prefix:r,showOnOneKey:i}=e;return{scheme:"Schnorr",prefix:r,path:t,showOnOneKey:i}}},dynex:{methodName:"dnxGetAddress"},nervos:{methodName:"nervosGetAddress",getParams:(e,t)=>{const{path:r,showOnOneKey:i}=e;return{network:t,path:r,showOnOneKey:i}}},scdo:{methodName:"scdoGetAddress"},ton:{methodName:"tonGetAddress"},alph:{methodName:"alephiumGetAddress"},nostr:{methodName:"nostrGetPublicKey"}};var ze=[{name:"Bitcoin",label:"BTC",slip44:0},{name:"Regtest",label:"REGTEST",slip44:1},{name:"Testnet",label:"TEST",slip44:1},{name:"Actinium",label:"ACM",slip44:228},{name:"Axe",label:"AXE",slip44:4242},{name:"Bcash",label:"BCH",slip44:145},{name:"Bitcore",label:"BTX",slip44:160},{name:"Dash",label:"DASH",slip44:5},{name:"Dash Testnet",label:"tDASH",slip44:1},{name:"Decred",label:"DCR",slip44:42},{name:"Decred Testnet",label:"TDCR",slip44:1},{name:"DigiByte",label:"DGB",slip44:20},{name:"Dogecoin",label:"DOGE",slip44:3},{name:"Feathercoin",label:"FTC",slip44:8},{name:"Firo",label:"FIRO",slip44:136},{name:"Firo Testnet",label:"tFIRO",slip44:1},{name:"Fujicoin",label:"FJC",slip44:75},{name:"GameCredits",label:"GAME",slip44:101},{name:"Komodo",label:"KMD",slip44:141},{name:"Koto",label:"KOTO",slip44:510},{name:"Litecoin",label:"LTC",slip44:2},{name:"Litecoin Testnet",label:"tLTC",slip44:1},{name:"Monacoin",label:"MONA",slip44:22},{name:"MonetaryUnit",label:"MUE",slip44:31},{name:"NIX",label:"NIX",slip44:400},{name:"Namecoin",label:"NMC",slip44:7},{name:"Peercoin",label:"PPC",slip44:6},{name:"Peercoin Testnet",label:"tPPC",slip44:1},{name:"Polis",label:"POLIS",slip44:1997},{name:"Primecoin",label:"XPM",slip44:24},{name:"Ravencoin",label:"RVN",slip44:175},{name:"Ritocoin",label:"RITO",slip44:19169},{name:"Stakenet",label:"XSN",slip44:199},{name:"Syscoin",label:"SYS",slip44:57},{name:"Unobtanium",label:"UNO",slip44:92},{name:"Verge",label:"XVG",slip44:77},{name:"Vertcoin",label:"VTC",slip44:28},{name:"Viacoin",label:"VIA",slip44:14},{name:"ZCore",label:"ZCR",slip44:428},{name:"Zcash",label:"ZEC",slip44:133},{name:"Zcash Testnet",label:"TAZ",slip44:1},{name:"Neurai",label:"XNA",slip44:1900}];const getCoinInfo=(e,t)=>{let r;if(t){const e=t.toLowerCase();r=ze.find((t=>t.name.toLowerCase()===e||t.label.toLowerCase()===e))}else if(e){const t=fromHardened(e[1]);r=ze.find((e=>e.slip44===t))}if(!r)throw t?n.ERRORS.TypedError(n.HardwareErrorCode.CallMethodInvalidParameter,`Invalid coin name: ${t}`):e?n.ERRORS.TypedError(n.HardwareErrorCode.CallMethodInvalidParameter,`Invalid path: ${e[0]}`):n.ERRORS.TypedError(n.HardwareErrorCode.CallMethodInvalidParameter);return r},getCoinAndScriptType=(e,t,r)=>{const i=getCoinInfo(e,t).name;let n=r;void 0===n&&(n=(e=>Array.isArray(e)&&e[0]===toHardened(48))(e));let s=getScriptType(e);return"SPENDMULTISIG"!==s||n||(s="SPENDADDRESS"),{coinName:i,scriptType:null!=s?s:"SPENDADDRESS"}};function getBitcoinForkVersionRange(e){return function isCoinNameInList(e,t){for(let r=0;r<t.length;r++){const i=t[r];if((null==i?void 0:i.toLowerCase())===(null==e?void 0:e.toLowerCase()))return!0}return!1}("Neurai",e)?{model_mini:{min:"3.7.0"},model_touch:{min:"4.9.0"}}:{}}const requestTxAck$1=e=>{const{tx_hash:t}=e.txRequest.details;return t?(({typedCall:e,txRequest:{request_type:t,details:r},refTxs:i})=>{const{tx_hash:s}=r;if(!s)throw n.ERRORS.TypedError(n.HardwareErrorCode.RuntimeError,"requestPrevTxInfo: unknown details.tx_hash");const a=i[s.toLowerCase()];if(!a)throw n.ERRORS.TypedError(n.HardwareErrorCode.RuntimeError,`requestPrevTxInfo: Requested unknown tx: ${s}`);if("TXINPUT"===t){if(!a.bin_outputs)throw n.ERRORS.TypedError(n.HardwareErrorCode.RuntimeError,`requestPrevTxInfo: Requested unknown TXINPUT: ${s}`);return e("TxAckPrevInput","TxRequest",{tx:{input:a.inputs[r.request_index]}})}if("TXOUTPUT"===t){if(!a.bin_outputs)throw n.ERRORS.TypedError(n.HardwareErrorCode.RuntimeError,`requestPrevTxInfo: Requested unknown TXOUTPUT: ${s}`);return e("TxAckPrevOutput","TxRequest",{tx:{output:a.bin_outputs[r.request_index]}})}if("TXORIGINPUT"===t){if(!a.outputs)throw n.ERRORS.TypedError(n.HardwareErrorCode.RuntimeError,`requestPrevTxInfo: Requested unknown TXORIGINPUT: ${s}`);return e("TxAckInput","TxRequest",{tx:{input:a.inputs[r.request_index]}})}if("TXORIGOUTPUT"===t){if(!a.outputs)throw n.ERRORS.TypedError(n.HardwareErrorCode.RuntimeError,`requestPrevTxInfo: Requested unknown TXORIGOUTPUT: ${s}`);return e("TxAckOutput","TxRequest",{tx:{output:a.outputs[r.request_index]}})}if("TXEXTRADATA"===t){if("number"!=typeof r.extra_data_len)throw n.ERRORS.TypedError(n.HardwareErrorCode.RuntimeError,"requestPrevTxInfo: Missing extra_data_len");if("number"!=typeof r.extra_data_offset)throw n.ERRORS.TypedError(n.HardwareErrorCode.RuntimeError,"requestPrevTxInfo: Missing extra_data_offset");if("string"!=typeof a.extra_data)throw n.ERRORS.TypedError(n.HardwareErrorCode.RuntimeError,`requestPrevTxInfo: No extra data for transaction ${a.hash}`);const t=a.extra_data,i=r.extra_data_len,s=r.extra_data_offset;return e("TxAckPrevExtraData","TxRequest",{tx:{extra_data_chunk:t.substring(2*s,2*(s+i))}})}if("TXMETA"===t){const t=a.extra_data;return e("TxAckPrevMeta","TxRequest",{tx:{version:a.version,lock_time:a.lock_time,inputs_count:a.inputs.length,outputs_count:a.outputs?a.outputs.length:a.bin_outputs.length,timestamp:a.timestamp,version_group_id:a.version_group_id,expiry:a.expiry,branch_id:a.branch_id,extra_data_len:t?t.length/2:void 0}})}throw n.ERRORS.TypedError(n.HardwareErrorCode.RuntimeError,`requestPrevTxInfo: Unknown request type: ${t}`)})(e):(({typedCall:e,txRequest:{request_type:t,details:r},inputs:i,outputs:s})=>{if("TXINPUT"===t)return e("TxAckInput","TxRequest",{tx:{input:i[r.request_index]}});if("TXOUTPUT"===t)return e("TxAckOutput","TxRequest",{tx:{output:s[r.request_index]}});if("TXMETA"===t)throw n.ERRORS.TypedError(n.HardwareErrorCode.RuntimeError,"requestSignedTxInfo: Cannot read TXMETA from signed transaction");if("TXEXTRADATA"===t)throw n.ERRORS.TypedError(n.HardwareErrorCode.RuntimeError,"requestSignedTxInfo: Cannot read TXEXTRADATA from signed transaction");throw n.ERRORS.TypedError(n.HardwareErrorCode.RuntimeError,`requestSignedTxInfo: Unknown request type: ${t}`)})(e)},processTxRequest$2=e=>__awaiter(void 0,void 0,void 0,(function*(){const{typedCall:t,txRequest:r,refTxs:i,inputs:s,outputs:a,serializedTx:o,signatures:d}=e;if(((e,t,r)=>{if(!r)return;const{signature_index:i,signature:s,serialized_tx:a}=r;if(a&&e.push(a),"number"==typeof i){if(!s)throw n.ERRORS.TypedError(n.HardwareErrorCode.RuntimeError,"saveTxSignatures: Unexpected null in trezor:TxRequestSerialized signature.");t[i]=s}})(o,d,r.serialized),"TXFINISHED"===r.request_type)return Promise.resolve({signatures:d,serializedTx:o.join("")});const{message:u}=yield requestTxAck$1(e);return processTxRequest$2({typedCall:t,txRequest:u,refTxs:i,inputs:s,outputs:a,serializedTx:o,signatures:d})}));var signtx=(e,t,r,i,n,s)=>__awaiter(void 0,void 0,void 0,(function*(){const a={};i.forEach((e=>{a[e.hash.toLowerCase()]=e}));const{message:o}=yield e("SignTx","TxRequest",Object.assign(Object.assign({},n),{inputs_count:t.length,outputs_count:r.length,coin_name:s}));return processTxRequest$2({typedCall:e,txRequest:o,refTxs:a,inputs:t,outputs:r,serializedTx:[],signatures:[]})}));const requestTxAck=e=>{const{tx_hash:t}=e.txRequest.details;return t?(({txRequest:{request_type:e,details:t},refTxs:r})=>{const{tx_hash:i}=t;if(!i)throw n.ERRORS.TypedError(n.HardwareErrorCode.RuntimeError,"requestPrevTxInfo: unknown details.tx_hash");const s=r[i.toLowerCase()];if(!s)throw n.ERRORS.TypedError(n.HardwareErrorCode.RuntimeError,`requestPrevTxInfo: Requested unknown tx: ${i}`);if(!s.bin_outputs)throw n.ERRORS.TypedError(n.HardwareErrorCode.RuntimeError,`requestPrevTxInfo: bin_outputs not set tx: ${i}`);if("TXINPUT"===e)return{inputs:[s.inputs[t.request_index]]};if("TXOUTPUT"===e)return{bin_outputs:[s.bin_outputs[t.request_index]]};if("TXEXTRADATA"===e){if("number"!=typeof t.extra_data_len)throw n.ERRORS.TypedError(n.HardwareErrorCode.RuntimeError,"requestPrevTxInfo: Missing extra_data_len");if("number"!=typeof t.extra_data_offset)throw n.ERRORS.TypedError(n.HardwareErrorCode.RuntimeError,"requestPrevTxInfo: Missing extra_data_offset");if("string"!=typeof s.extra_data)throw n.ERRORS.TypedError(n.HardwareErrorCode.RuntimeError,`requestPrevTxInfo: No extra data for transaction ${s.hash}`);const e=s.extra_data,r=t.extra_data_len,i=t.extra_data_offset;return{extra_data:e.substring(2*i,2*(i+r))}}if("TXMETA"===e){const e=s.extra_data,t={version:s.version,lock_time:s.lock_time,inputs_cnt:s.inputs.length,outputs_cnt:s.bin_outputs.length,timestamp:s.timestamp,version_group_id:s.version_group_id,expiry:s.expiry,branch_id:s.branch_id};return"string"==typeof e&&0!==e.length?Object.assign(Object.assign({},t),{extra_data_len:e.length/2}):t}throw n.ERRORS.TypedError(n.HardwareErrorCode.RuntimeError,`requestPrevTxInfo: Unknown request type: ${e}`)})(e):(({txRequest:{request_type:e,details:t},inputs:r,outputs:i})=>{if("TXINPUT"===e)return{inputs:[r[t.request_index]]};if("TXOUTPUT"===e)return{outputs:[i[t.request_index]]};if("TXMETA"===e)throw n.ERRORS.TypedError(n.HardwareErrorCode.RuntimeError,"requestSignedTxInfo: Cannot read TXMETA from signed transaction");if("TXEXTRADATA"===e)throw n.ERRORS.TypedError(n.HardwareErrorCode.RuntimeError,"requestSignedTxInfo: Cannot read TXEXTRADATA from signed transaction");throw n.ERRORS.TypedError(n.HardwareErrorCode.RuntimeError,`requestSignedTxInfo: Unknown request type: ${e}`)})(e)},processTxRequest$1=e=>__awaiter(void 0,void 0,void 0,(function*(){const{typedCall:t,txRequest:r,refTxs:i,inputs:s,outputs:a,serializedTx:o,signatures:d}=e;if(((e,t,r)=>{if(!r)return;const{signature_index:i,signature:s,serialized_tx:a}=r;if(a&&e.push(a),"number"==typeof i){if(!s)throw n.ERRORS.TypedError(n.HardwareErrorCode.RuntimeError,"saveTxSignatures: Unexpected null in oneKey:TxRequestSerialized signature.");t[i]=s}})(o,d,r.serialized),"TXFINISHED"===r.request_type)return Promise.resolve({signatures:d,serializedTx:o.join("")});const u=requestTxAck(e),{message:l}=yield t("TxAck","TxRequest",{tx:u});return processTxRequest$1({typedCall:t,txRequest:l,refTxs:i,inputs:s,outputs:a,serializedTx:o,signatures:d})}));var signtxLegacy=(e,t,r,i,n,s)=>__awaiter(void 0,void 0,void 0,(function*(){const a={};i.forEach((e=>{a[e.hash.toLowerCase()]=e}));const{message:o}=yield e("SignTx","TxRequest",Object.assign(Object.assign({},n),{inputs_count:t.length,outputs_count:r.length,coin_name:s}));return processTxRequest$1({typedCall:e,txRequest:o,refTxs:a,inputs:t,outputs:r,serializedTx:[],signatures:[]})}));const cutString=(e,t)=>{if(!e)return["",""];return[e.slice(0,t),e.slice(t)]};const processTxRequest=({typedCall:e,request:t,data:r,chainId:i,supportTrezor:s})=>__awaiter(void 0,void 0,void 0,(function*(){if(!t.data_length){let e=t.signature_v;const r=t.signature_r,s=t.signature_s;if(null==e||null==r||null==s)throw n.ERRORS.TypedError(n.HardwareErrorCode.RuntimeError,"processTxRequest: Unexpected request");return i&&e<=1&&(e+=2*i+35),Promise.resolve({v:`0x${e.toString(16)}`,r:`0x${r}`,s:`0x${s}`})}const[a,o]=cutString(r,2*t.data_length);let d;return d=s?yield e("EthereumTxAck","EthereumTxRequest",{data_chunk:a}):yield e("EthereumTxAckOneKey","EthereumTxRequestOneKey",{data_chunk:a}),processTxRequest({typedCall:e,request:d.message,data:o,chainId:i,supportTrezor:s})})),evmSignTx=({typedCall:e,addressN:t,tx:r,supportTrezor:i})=>__awaiter(void 0,void 0,void 0,(function*(){const{to:n,value:s,gasPrice:a,gasLimit:o,nonce:d,data:u,chainId:l,txType:c}=r,p=null==u?0:u.length/2,[h,y]=cutString(u,2048);let g,m={address_n:t,nonce:stripHexStartZeroes(d),gas_price:stripHexStartZeroes(a),gas_limit:stripHexStartZeroes(o),to:n,value:stripHexStartZeroes(s),chain_id:l};return 0!==p&&(m=Object.assign(Object.assign({},m),{data_length:p,data_initial_chunk:h})),null!==c&&(m=Object.assign(Object.assign({},m),{tx_type:c})),g=i?yield e("EthereumSignTx","EthereumTxRequest",m):yield e("EthereumSignTxOneKey","EthereumTxRequestOneKey",m),processTxRequest({typedCall:e,request:g.message,data:y,chainId:l,supportTrezor:i})})),evmSignTxEip1559=({typedCall:e,addressN:t,tx:r,supportTrezor:i})=>__awaiter(void 0,void 0,void 0,(function*(){const{to:n,value:s,gasLimit:a,nonce:o,data:d,chainId:u,maxFeePerGas:l,maxPriorityFeePerGas:c,accessList:p}=r,h=null==d?0:d.length/2,[y,g]=cutString(d,2048),m={address_n:t,nonce:stripHexStartZeroes(o),max_gas_fee:stripHexStartZeroes(l),max_priority_fee:stripHexStartZeroes(c),gas_limit:stripHexStartZeroes(a),to:n,value:stripHexStartZeroes(s),data_length:h,data_initial_chunk:y,chain_id:u,access_list:(p||[]).map((e=>({address:e.address,storage_keys:e.storageKeys})))};let b;return b=i?yield e("EthereumSignTxEIP1559","EthereumTxRequest",m):yield e("EthereumSignTxEIP1559OneKey","EthereumTxRequestOneKey",m),processTxRequest({typedCall:e,request:b.message,data:g,supportTrezor:i})}));const intToHex=(e,t,r)=>{let i=new E.default(e);if(r&&(i=((e,t)=>{if(t<1||t>32)throw n.ERRORS.TypedError("Runtime","Int byte size must be between 1 and 32 (8 and 256 bits)");const r=new E.default(2).exponentiatedBy(8*t-1).negated(),i=r.negated().minus(1),s=new E.default(e);if(s.isGreaterThan(i)||s.isLessThan(r))throw n.ERRORS.TypedError(n.HardwareErrorCode.RuntimeError,`Overflow when trying to convert number ${e.toString()} into ${t} bytes`);return s.isPositive()?s:s.minus(r).minus(r)})(i,t)),i.isNegative())throw n.ERRORS.TypedError(n.HardwareErrorCode.RuntimeError,`Cannot convert negative number to unsigned interger: ${e.toString()}`);const s=i.toString(16),a=2*t;if(s.length>a)throw n.ERRORS.TypedError(n.HardwareErrorCode.RuntimeError,`Overflow when trying to convert number ${e.toString()} into ${t} bytes`);return s.padStart(2*t,"0")},He=new RegExp(/^(.*)\[([0-9]*)\]$/),Ge=new RegExp(/^bytes([0-9]*)$/),We=new RegExp(/^(u?int)([0-9]*)$/),parseArrayType=e=>{const t=He.exec(e);if(null===t)throw n.ERRORS.TypedError(n.HardwareErrorCode.RuntimeError,`typename ${e} could not be parsed as an EIP-712 array`);const[r,i,s]=t;return{entryTypeName:i,arraySize:parseInt(s,10)||null}},encodeData=(e,t)=>{if(Ge.test(e)||"address"===e)return formatAnyHex(t);if("string"===e)return Buffer.from(t,"utf-8").toString("hex");const r=We.exec(e);if(r){const[e,i,n]=r,s=Math.ceil(parseInt(n,10)/8);return intToHex(t,s,"int"===i)}if("bool"===e)return t?"01":"00";throw n.ERRORS.TypedError(n.HardwareErrorCode.RuntimeError,`Unsupported data type for direct field encoding: ${e}`)},Ke={string:c.EthereumDataType.STRING,bool:c.EthereumDataType.BOOL,address:c.EthereumDataType.ADDRESS},getFieldType=(e,t)=>{const r=He.exec(e);if(r){const[e,i,n]=r,s=getFieldType(i,t);return{data_type:c.EthereumDataType.ARRAY,size:parseInt(n,10)||void 0,entry_type:s}}const i=We.exec(e);if(i){const[e,t,r]=i;return{data_type:"uint"===t?c.EthereumDataType.UINT:c.EthereumDataType.INT,size:Math.floor(parseInt(r,10)/8)}}const s=Ge.exec(e);if(s){const[e,t]=s;return{data_type:c.EthereumDataType.BYTES,size:parseInt(t,10)||void 0}}const a=Ke[e];if(a)return{data_type:a};if(e in t)return{data_type:c.EthereumDataType.STRUCT,size:t[e].length,struct_name:e};throw n.ERRORS.TypedError(n.HardwareErrorCode.RuntimeError,`No type definition specified: ${e}`)};const Ve=32,$e=0;function publicKeyToAddress(e){const t=new Uint8Array(33);return t.set([$e]),t.set(u.hexToBytes(e),1),function normalizeSuiAddress(e,t=!1){let r=e.toLowerCase();return!t&&r.startsWith("0x")&&(r=r.slice(2)),`0x${r.padStart(2*Ve,"0")}`.toLowerCase()}(u.bytesToHex(m.blake2b(t,{dkLen:32})).slice(0,2*Ve))}const validateAddressParameters=e=>{validateParams(e,[{name:"addressType",type:"number",required:!0},{name:"stakingKeyHash",type:"string"},{name:"paymentScriptHash",type:"string"},{name:"stakingScriptHash",type:"string"}]),e.path&&validatePath(e.path),e.stakingPath&&validatePath(e.stakingPath),e.certificatePointer&&validateParams(e.certificatePointer,[{name:"blockIndex",type:"number",required:!0},{name:"txIndex",type:"number",required:!0},{name:"certificateIndex",type:"number",required:!0}])},addressParametersToProto=e=>{let t=[];e.path&&(t=validatePath(e.path,3));let r,i=[];return e.stakingPath&&(i=validatePath(e.stakingPath,3)),e.certificatePointer&&(r={block_index:e.certificatePointer.blockIndex,tx_index:e.certificatePointer.txIndex,certificate_index:e.certificatePointer.certificateIndex}),{address_type:e.addressType,address_n:t,address_n_staking:i,staking_key_hash:e.stakingKeyHash,certificate_pointer:r,script_payment_hash:e.paymentScriptHash,script_staking_hash:e.stakingScriptHash}},addressParametersFromProto=e=>{let t;return e.certificate_pointer&&(t={blockIndex:e.certificate_pointer.block_index,txIndex:e.certificate_pointer.tx_index,certificateIndex:e.certificate_pointer.certificate_index}),{addressType:e.address_type,path:e.address_n,stakingPath:e.address_n_staking,stakingKeyHash:e.staking_key_hash,certificatePointer:t}};const transformInput=e=>(validateParams(e,[{name:"prev_hash",type:"string",required:!0},{name:"prev_index",type:"number",required:!0}]),{input:{prev_hash:e.prev_hash,prev_index:e.prev_index},path:e.path?validatePath(e.path,5):void 0}),transformCollateralInput=e=>(validateParams(e,[{name:"prev_hash",type:"string",required:!0},{name:"prev_index",type:"number",required:!0}]),{collateralInput:{prev_hash:e.prev_hash,prev_index:e.prev_index},path:e.path?validatePath(e.path,5):void 0}),transformReferenceInput=e=>(validateParams(e,[{name:"prev_hash",type:"string",required:!0},{name:"prev_index",type:"number",required:!0}]),{prev_hash:e.prev_hash,prev_index:e.prev_index}),validateTokenBundle=e=>{e.forEach((e=>{validateParams(e,[{name:"policyId",type:"string",required:!0},{name:"tokenAmounts",type:"array",required:!0}]),e.tokenAmounts.forEach((e=>{validateParams(e,[{name:"assetNameBytes",type:"string",required:!0},{name:"amount",type:"uint"},{name:"mintAmount",type:"uint",allowNegative:!0}])}))}))},tokenBundleToProto=e=>(validateTokenBundle(e),e.map((e=>({policyId:e.policyId,tokens:tokenAmountsToProto(e.tokenAmounts)})))),tokenAmountsToProto=e=>e.map((e=>({asset_name_bytes:e.assetNameBytes,amount:e.amount,mint_amount:e.mintAmount}))),hexStringByteLength=e=>e.length/2,sendChunkedHexString=(e,t,r,i)=>__awaiter(void 0,void 0,void 0,(function*(){let n=0;for(;n<t.length;){const s=t.slice(n,n+r);yield e(i,"CardanoTxItemAck",{data:s}),n+=r}})),transformOutput=e=>{validateParams(e,[{name:"address",type:"string"},{name:"amount",type:"uint",required:!0},{name:"tokenBundle",type:"array",allowEmpty:!0},{name:"datumHash",type:"string"},{name:"format",type:"number"},{name:"inlineDatum",type:"string"},{name:"referenceScript",type:"string"}]);const t={output:{amount:e.amount,asset_groups_count:0,datum_hash:e.datumHash,format:e.format,inline_datum_size:e.inlineDatum?hexStringByteLength(e.inlineDatum):void 0,reference_script_size:e.referenceScript?hexStringByteLength(e.referenceScript):void 0},inlineDatum:e.inlineDatum,referenceScript:e.referenceScript};return e.addressParameters?(validateAddressParameters(e.addressParameters),t.output.address_parameters=addressParametersToProto(e.addressParameters)):t.output.address=e.address,e.tokenBundle?(t.tokenBundle=tokenBundleToProto(e.tokenBundle),t.output.asset_groups_count=t.tokenBundle.length):t.output.asset_groups_count=0,t},sendOutput=(e,t)=>__awaiter(void 0,void 0,void 0,(function*(){const{output:r,tokenBundle:i,inlineDatum:n,referenceScript:s}=t;if(yield e("CardanoTxOutput","CardanoTxItemAck",r),i)for(const t of i){yield e("CardanoAssetGroup","CardanoTxItemAck",{policy_id:t.policyId,tokens_count:t.tokens.length});for(const r of t.tokens)yield e("CardanoToken","CardanoTxItemAck",r)}n&&(yield sendChunkedHexString(e,n,2048,"CardanoTxInlineDatumChunk")),s&&(yield sendChunkedHexString(e,s,2048,"CardanoTxReferenceScriptChunk"))})),validatePoolRelay=e=>{if(validateParams(e,[{name:"type",type:"number",required:!0}]),e.type===c.Messages.CardanoPoolRelayType.SINGLE_HOST_IP){const t=[{name:"port",type:"number",required:!0}];if(e.ipv4Address&&t.push({name:"ipv4Address",type:"string",required:!1}),e.ipv6Address&&t.push({name:"ipv6Address",type:"string",required:!1}),validateParams(e,t),!e.ipv4Address&&!e.ipv6Address)throw n.ERRORS.TypedError(n.HardwareErrorCode.CallMethodInvalidParameter,"Either ipv4Address or ipv6Address must be supplied")}else e.type===c.Messages.CardanoPoolRelayType.SINGLE_HOST_NAME?validateParams(e,[{name:"hostName",type:"string",required:!0},{name:"port",type:"number",required:!0}]):e.type===c.Messages.CardanoPoolRelayType.MULTIPLE_HOST_NAME&&validateParams(e,[{name:"hostName",type:"string",required:!0}])},validatePoolParameters=e=>{var t,r;validateParams(e,[{name:"poolId",type:"string",required:!0},{name:"vrfKeyHash",type:"string",required:!0},{name:"pledge",type:"string",required:!0},{name:"cost",type:"string",required:!0},{name:"margin",type:"object",required:!0},{name:"rewardAccount",type:"string",required:!0},{name:"owners",type:"array",required:!0},{name:"relays",type:"array",required:!0,allowEmpty:!0},{name:"metadata",type:"object"}]),t=e.margin,validateParams(t,[{name:"numerator",type:"string",required:!0},{name:"denominator",type:"string",required:!0}]),(e=>{if(e.forEach((e=>{if(e.stakingKeyHash&&validateParams(e,[{name:"stakingKeyHash",type:"string",required:!e.stakingKeyPath}]),e.stakingKeyPath&&validatePath(e.stakingKeyPath,5),!e.stakingKeyHash&&!e.stakingKeyPath)throw n.ERRORS.TypedError(n.HardwareErrorCode.CallMethodInvalidParameter,"Either stakingKeyHash or stakingKeyPath must be supplied")})),1!==e.filter((e=>!!e.stakingKeyPath)).length)throw n.ERRORS.TypedError(n.HardwareErrorCode.CallMethodInvalidParameter,"Exactly one pool owner must be given as a path")})(e.owners),e.relays.forEach(validatePoolRelay),e.metadata&&(r=e.metadata,validateParams(r,[{name:"url",type:"string",required:!0},{name:"hash",type:"string",required:!0}]))},transformCertificate=e=>{const t=[{name:"type",type:"number",required:!0}];e.type!==c.Messages.CardanoCertificateType.STAKE_POOL_REGISTRATION&&(t.push({name:"scriptHash",type:"string"}),t.push({name:"keyHash",type:"string"})),e.type===c.Messages.CardanoCertificateType.STAKE_DELEGATION&&t.push({name:"pool",type:"string",required:!0}),e.type===c.Messages.CardanoCertificateType.STAKE_POOL_REGISTRATION&&t.push({name:"poolParameters",type:"object",required:!0}),validateParams(e,t);const{poolParameters:r,poolOwners:i,poolRelays:n}=(e=>e?(validatePoolParameters(e),{poolParameters:{pool_id:e.poolId,vrf_key_hash:e.vrfKeyHash,pledge:e.pledge,cost:e.cost,margin_numerator:e.margin.numerator,margin_denominator:e.margin.denominator,reward_account:e.rewardAccount,metadata:e.metadata,owners_count:e.owners.length,relays_count:e.relays.length},poolOwners:e.owners.map((e=>({staking_key_hash:e.stakingKeyHash,staking_key_path:e.stakingKeyPath?validatePath(e.stakingKeyPath,5):void 0}))),poolRelays:e.relays.map((e=>{return{type:e.type,ipv4_address:e.ipv4Address?(r=e.ipv4Address,Buffer.from(r.split(".").map((e=>parseInt(e,10)))).toString("hex")):void 0,ipv6_address:e.ipv6Address?(t=e.ipv6Address,t.split(":").join("")):void 0,host_name:e.hostName,port:e.port};var t,r}))}):{poolParameters:void 0,poolOwners:[],poolRelays:[]})(e.poolParameters);return{certificate:{type:e.type,path:e.path?validatePath(e.path,5):void 0,script_hash:e.scriptHash,key_hash:e.keyHash,pool:e.pool,pool_parameters:r},poolOwners:i,poolRelays:n}},transformDelegation=e=>(validateParams(e,[{name:"votingPublicKey",type:"string",required:!0},{name:"weight",type:"uint",required:!0}]),{voting_public_key:e.votingPublicKey,weight:e.weight}),transformAuxiliaryData=e=>{let t;return validateParams(e,[{name:"hash",type:"string"}]),e.governanceRegistrationParameters&&(t=(e=>{validateParams(e,[{name:"votingPublicKey",type:"string"},{name:"stakingPath",required:!0},{name:"nonce",type:"uint",required:!0},{name:"format",type:"number"},{name:"delegations",type:"array",allowEmpty:!0},{name:"votingPurpose",type:"uint"}]),validateAddressParameters(e.rewardAddressParameters);const{delegations:t}=e;if(t&&t.length>32)throw n.ERRORS.TypedError(n.HardwareErrorCode.CallMethodInvalidParameter,"At most 32 delegations are allowed in a governance registration");return{voting_public_key:e.votingPublicKey,staking_path:validatePath(e.stakingPath,3),reward_address_parameters:addressParametersToProto(e.rewardAddressParameters),nonce:e.nonce,format:e.format,delegations:null==t?void 0:t.map(transformDelegation),voting_purpose:e.votingPurpose}})(e.governanceRegistrationParameters)),{hash:e.hash,governance_registration_parameters:t}},modifyAuxiliaryDataForBackwardsCompatibility=e=>{const{governance_registration_parameters:t}=e;return t?(t.reward_address_parameters=(e=>{if(e.address_type===c.Messages.CardanoAddressType.REWARD){let{address_n:t,address_n_staking:r}=e;if(t.length>0&&r.length>0)throw n.ERRORS.TypedError(n.HardwareErrorCode.CallMethodInvalidParameter,"Only stakingPath is allowed for CardanoAddressType.REWARD");return t.length>0&&(r=t,t=[]),Object.assign(Object.assign({},e),{address_n:t,address_n_staking:r})}return e})(t.reward_address_parameters),Object.assign(Object.assign({},e),{governance_registration_parameters:t})):e},gatherWitnessPaths=(e,t,r,i,n,s,a)=>{const o=new Map;function _insert(e){const t=JSON.stringify(e);o.set(t,e)}return a!==c.Messages.CardanoTxSigningMode.MULTISIG_TRANSACTION&&(e.forEach((({path:e})=>{e&&_insert(e)})),t.forEach((({certificate:e,poolOwners:t})=>{!e.path||e.type!==c.Messages.CardanoCertificateType.STAKE_DELEGATION&&e.type!==c.Messages.CardanoCertificateType.STAKE_DEREGISTRATION||_insert(e.path),t.forEach((e=>{e.staking_key_path&&_insert(e.staking_key_path)}))})),r.forEach((({path:e})=>{e&&_insert(e)}))),a===c.Messages.CardanoTxSigningMode.PLUTUS_TRANSACTION&&i.forEach((({path:e})=>{e&&_insert(e)})),n.forEach((({key_path:e})=>{e&&_insert(e)})),s.forEach((e=>{_insert(e)})),Array.from(o.values())};var Ye;!function(e){e.Polkadot="polkadot",e.Westend="westend",e.Kusama="kusama",e.Astar="astar",e.JoyStream="joystream",e.Manta="manta"}(Ye||(Ye={}));const Xe={model_mini:{min:"3.0.0"},model_touch:{min:"4.3.0"}},Je={[Ye.JoyStream]:{model_mini:{min:"3.6.0"},model_touch:{min:"4.7.0"}},[Ye.Manta]:{model_mini:{min:"3.7.0"},model_touch:{min:"4.9.0"}}};var Ze;function isBuffer(e){return b.Buffer.isBuffer(e)||e instanceof Uint8Array}function bigNumberToBuffer(e,t){const r=e.toString(16).padStart(2*t.size,"0");return b.Buffer.from(r,"hex")}!function(e){e[e.SIGHASH_ALL=1]="SIGHASH_ALL",e[e.SIGHASH_NONE=2]="SIGHASH_NONE",e[e.SIGHASH_SINGLE=3]="SIGHASH_SINGLE",e[e.SIGHASH_FORKID=64]="SIGHASH_FORKID",e[e.SIGHASH_ANYONECANPAY=128]="SIGHASH_ANYONECANPAY"}(Ze||(Ze={}));class BufferWriter{constructor(e){this.bufLen=0,e?this.set(e):this.bufs=[]}set(e){return this.bufs=e.bufs||this.bufs||[],this.bufLen=this.bufs.reduce(((e,t)=>e+t.length),0),this}toBuffer(){return this.concat()}concat(){return b.Buffer.concat(this.bufs,this.bufLen)}write(e){if(!isBuffer(e))throw new Error("BufferWriter.write: Invalid type");return this.bufs.push(e),this.bufLen+=e.length,this}writeReverse(e){if(!isBuffer(e))throw new Error("BufferWriter.write: Invalid type");return this.bufs.push(e.reverse()),this.bufLen+=e.length,this}writeVarBytes(e){if(!isBuffer(e))throw new Error("BufferWriter.write: Invalid type");return this.writeUInt64LE(new E.default(e.length)),this.write(e),this}writeUInt8(e){const t=b.Buffer.alloc(1);return t.writeUInt8(e,0),this.write(t),this}writeUInt16BE(e){const t=b.Buffer.alloc(2);return t.writeUInt16BE(e,0),this.write(t),this}writeUInt16LE(e){const t=b.Buffer.alloc(2);return t.writeUInt16LE(e,0),this.write(t),this}writeUInt32BE(e){const t=b.Buffer.alloc(4);return t.writeUInt32BE(e,0),this.write(t),this}writeInt32LE(e){const t=b.Buffer.alloc(4);return t.writeInt32LE(e,0),this.write(t),this}writeUInt32LE(e){const t=b.Buffer.alloc(4);return t.writeUInt32LE(e,0),this.write(t),this}writeUInt64BEBN(e){const t=bigNumberToBuffer(e,{size:8});return this.write(t),this}writeUInt64LE(e){const t=bigNumberToBuffer(e,{size:8});return this.writeReverse(t),this}writeVarintNum(e){const t=BufferWriter.varintBufNum(e);return this.write(t),this}writeVarintBN(e){const t=BufferWriter.varintBufBN(e);return this.write(t),this}static varintBufNum(e){let t;return e<253?(t=b.Buffer.alloc(1),t.writeUInt8(e,0)):e<65536?(t=b.Buffer.alloc(3),t.writeUInt8(253,0),t.writeUInt16LE(e,1)):e<4294967296?(t=b.Buffer.alloc(5),t.writeUInt8(254,0),t.writeUInt32LE(e,1)):(t=b.Buffer.alloc(9),t.writeUInt8(255,0),t.writeInt32LE(-1&e,1),t.writeUInt32LE(Math.floor(e/4294967296),5)),t}static varintBufBN(e){let t;const r=e.toNumber();if(r<253)t=b.Buffer.alloc(1),t.writeUInt8(r,0);else if(r<65536)t=b.Buffer.alloc(3),t.writeUInt8(253,0),t.writeUInt16LE(r,1);else if(r<4294967296)t=b.Buffer.alloc(5),t.writeUInt8(254,0),t.writeUInt32LE(r,1);else{const r=new BufferWriter;r.writeUInt8(255),r.writeUInt64LE(e),t=r.concat()}return t}}const Qe=Buffer.from("TransactionSigningHash");class HashWriter{constructor(){this.bw=new BufferWriter,this.blake2b=m.blake2b.create({dkLen:32,key:Qe}),this.hash={update:e=>{this.bw.write(e),this.blake2b.update(e)},digest:()=>Buffer.from(this.blake2b.digest())}}writeUInt8(e){const t=new BufferWriter;t.writeUInt8(e),this.hash.update(t.toBuffer())}writeUInt16LE(e){const t=new BufferWriter;t.writeUInt16LE(e),this.hash.update(t.toBuffer())}writeUInt32LE(e){const t=new BufferWriter;t.writeUInt32LE(e),this.hash.update(t.toBuffer())}writeUInt64LE(e){const t=new BufferWriter;t.writeUInt64LE(new E.default(e)),this.hash.update(t.toBuffer())}writeVarBytes(e){this.writeUInt64LE(e.length),this.hash.update(e)}writeHash(e){this.hash.update(e)}finalize(){return this.hash.digest()}toBuffer(){return this.bw.toBuffer()}}function zeroHash(){return Buffer.alloc(32)}function zeroSubnetworkID(){return Buffer.alloc(20)}function isSighashAnyoneCanPay(e){return(e&Ze.SIGHASH_ANYONECANPAY)===Ze.SIGHASH_ANYONECANPAY}function isSighashSingle(e){return(31&e)===Ze.SIGHASH_SINGLE}function isSighashNone(e){return(31&e)===Ze.SIGHASH_NONE}function hashOutpoint(e,t){e.writeHash(Buffer.from(t.prevTxId,"hex")),e.writeUInt32LE(t.outputIndex)}function getOutputsHash(e,t,r){if(isSighashNone(r))return zeroHash();if(isSighashSingle(r)){if(t>=e.outputs.length)return zeroHash();return(new HashWriter).finalize()}const i=new HashWriter;return e.outputs.forEach((e=>function hashTxOut(e,t){e.writeUInt64LE(t.satoshis),e.writeUInt16LE(0),e.writeVarBytes(Buffer.from(t.script,"hex"))}(i,e))),i.finalize()}function serialize(e,t){var r;const i=new HashWriter;i.writeUInt16LE(e.version),i.writeHash(function getPreviousOutputsHash(e,t){if(isSighashAnyoneCanPay(t))return zeroHash();const r=new HashWriter;return e.inputs.forEach((e=>hashOutpoint(r,e))),r.finalize()}(e,e.sigHashType)),i.writeHash(function getSequencesHash(e,t){if(isSighashSingle(t)||isSighashAnyoneCanPay(t)||isSighashNone(t))return zeroHash();const r=new HashWriter;return e.inputs.forEach((e=>r.writeUInt64LE(e.sequenceNumber))),r.finalize()}(e,e.sigHashType)),i.writeHash(function getSigOpCountsHash(e,t){if(isSighashAnyoneCanPay(t))return zeroHash();const r=new HashWriter;return e.inputs.forEach((e=>r.writeUInt8(e.sigOpCount))),r.finalize()}(e,e.sigHashType));const n=e.inputs[t];return hashOutpoint(i,n),i.writeUInt16LE(0),i.writeVarBytes(Buffer.from(n.output.script,"hex")),i.writeUInt64LE(n.output.satoshis),i.writeUInt64LE(n.sequenceNumber),i.writeUInt8(null!==(r=e.sigOpCount)&&void 0!==r?r:1),i.writeHash(getOutputsHash(e,t,e.sigHashType)),i.writeUInt64LE(e.lockTime),i.writeHash(zeroSubnetworkID()),i.writeUInt64LE(0),i.writeHash(zeroHash()),i.writeUInt8(e.sigHashType),{hash:i.finalize(),raw:i.toBuffer()}}var et=Object.freeze({__proto__:null,testInitializeDeviceDuration:class TestInitializeDeviceDuration extends BaseMethod{init(){this.notAllowDeviceMode=[...this.notAllowDeviceMode,_e,be],this.useDevicePassphraseState=!1,this.skipForceUpdateCheck=!0}run(){return __awaiter(this,void 0,void 0,(function*(){const e=Date.now();yield this.device.commands.typedCall("Initialize","Features");const t=Date.now()-e;return Promise.resolve(t)}))}},searchDevices:class SearchDevices extends BaseMethod{init(){this.useDevice=!1,this.useDevicePassphraseState=!1,this.skipForceUpdateCheck=!0}run(){var e,t,r,i;return __awaiter(this,void 0,void 0,(function*(){yield TransportManager.configure();const n=yield null===(e=this.connector)||void 0===e?void 0:e.enumerate(),s=null!==(t=null==n?void 0:n.descriptors)&&void 0!==t?t:[],a=DataManager.getSettings("env");if(DataManager.isBleConnect(a)){const e=[],t=new Set;for(const n of s){const s=null===(r=n.id)||void 0===r?void 0:r.toLowerCase();t.has(s)||(t.add(s),e.push(Object.assign(Object.assign({},n),{connectId:n.id,deviceType:getDeviceTypeByBleName(null!==(i=n.name)&&void 0!==i?i:"")})))}return e}const{deviceList:o}=yield DevicePool.getDevices(s);return o.map((e=>e.toMessageObject()))}))}},getFeatures:class GetFeatures extends BaseMethod{init(){this.notAllowDeviceMode=[...this.notAllowDeviceMode,_e,be],this.useDevicePassphraseState=!1,this.skipForceUpdateCheck=!0}run(){var e,t;return(null===(e=this.payload)||void 0===e?void 0:e.detectBootloaderDevice)&&(null===(t=this.device.features)||void 0===t?void 0:t.bootloader_mode)?Promise.reject(n.ERRORS.TypedError(n.HardwareErrorCode.DeviceDetectInBootloaderMode)):Promise.resolve(this.device.features)}},getOnekeyFeatures:class GetOnekeyFeatures extends BaseMethod{init(){this.notAllowDeviceMode=[...this.notAllowDeviceMode,_e,be],this.useDevicePassphraseState=!1,this.skipForceUpdateCheck=!0}run(){return __awaiter(this,void 0,void 0,(function*(){const{message:e}=yield this.device.commands.typedCall("OnekeyGetFeatures","OnekeyFeatures");return e.onekey_firmware_version&&!v.default.valid(e.onekey_firmware_version)&&(e.onekey_firmware_version=fixVersion(e.onekey_firmware_version)),Promise.resolve(e)}))}},getPassphraseState:class GetPassphraseState extends BaseMethod{init(){this.notAllowDeviceMode=[...this.notAllowDeviceMode,_e],this.useDevicePassphraseState=!1}run(){return __awaiter(this,void 0,void 0,(function*(){if(!this.device.features)return Promise.reject(n.ERRORS.TypedError(n.HardwareErrorCode.DeviceInitializeFailed));const e=yield getPassphraseStateWithRefreshDeviceInfo(this.device),{features:t}=this.device;return t&&!0===t.passphrase_protection?(e&&t.device_id&&this.device.tryFixInternalState(e,t.device_id,t.session_id),Promise.resolve(e)):Promise.resolve(void 0)}))}},getLogs:class GetLogs extends BaseMethod{init(){this.useDevice=!1,this.useDevicePassphraseState=!1,this.skipForceUpdateCheck=!0}serializeLog({level:e,prefix:t,message:r,timestamp:i}){const n=new Date(i).toISOString(),s=r.map((e=>"object"==typeof e?JSON.stringify(e):String(e))).join(" ");return`[${n}] ${e.toUpperCase()} ${t}: ${s}`}run(){return __awaiter(this,void 0,void 0,(function*(){const e=getLog().map((e=>this.serializeLog(e)));return Promise.resolve(e)}))}},checkFirmwareRelease:class CheckFirmwareRelease extends BaseMethod{init(){this.notAllowDeviceMode=[...this.notAllowDeviceMode,_e,be],this.useDevicePassphraseState=!1,this.skipForceUpdateCheck=!0}run(){if(this.device.features){const e=getFirmwareReleaseInfo(this.device.features);return Promise.resolve(e)}return Promise.resolve(null)}},checkBLEFirmwareRelease:class CheckBLEFirmwareRelease extends BaseMethod{init(){this.notAllowDeviceMode=[...this.notAllowDeviceMode,_e,be],this.useDevicePassphraseState=!1,this.skipForceUpdateCheck=!0}run(){if(this.device.features){const e=getBleFirmwareReleaseInfo(this.device.features);return Promise.resolve(e)}return Promise.resolve(null)}},checkTransportRelease:class CheckTransportRelease extends BaseMethod{init(){this.useDevice=!1,this.useDevicePassphraseState=!1,this.skipForceUpdateCheck=!0}run(){return __awaiter(this,void 0,void 0,(function*(){const e=TransportManager.getTransport(),t=yield e.init(),r=DataManager.getTransportStatus(t);return Promise.resolve(r)}))}},checkBridgeStatus:class CheckBridgeStatus extends BaseMethod{init(){this.useDevice=!1,this.useDevicePassphraseState=!1,this.skipForceUpdateCheck=!0}run(){return __awaiter(this,void 0,void 0,(function*(){return new Promise(((e,t)=>{_.default.request({url:"http://localhost:21320",method:"POST",withCredentials:!1,timeout:3e3}).then((()=>e(!0))).catch((r=>{"ECONNABORTED"===r.code?t(n.ERRORS.TypedError(n.HardwareErrorCode.BridgeTimeoutError)):e(!1)}))}))}))}},checkBridgeRelease:class CheckBridgeRelease extends BaseMethod{init(){this.notAllowDeviceMode=[...this.notAllowDeviceMode,be],this.useDevicePassphraseState=!1,this.skipForceUpdateCheck=!0}run(){return __awaiter(this,void 0,void 0,(function*(){if(!this.device.features)return null;try{const{data:e}=yield _.default.request({url:"http://localhost:21320",method:"POST",withCredentials:!1,timeout:3e3}),{version:t="0.0.0"}=e,{willUpdateFirmwareVersion:r}=this.payload,{features:i}=this.device,n=getDeviceType(i),s=getDeviceFirmwareVersion(i).join("."),a=v.default.lt(t,Re);let o=!1;return P.model_touch.includes(n)&&(v.default.gte(r,Oe)&&a&&(o=!0),v.default.gte(s,Oe)&&a&&(o=!0)),P.model_mini.includes(n)&&(v.default.gte(r,xe)&&a&&(o=!0),v.default.gte(s,xe)&&a&&(o=!0)),{shouldUpdate:o,status:o?"outdated":"valid",releaseVersion:Re}}catch(e){return"ECONNABORTED"===e.code?Promise.reject(n.ERRORS.TypedError(n.HardwareErrorCode.BridgeTimeoutError)):Promise.reject(n.ERRORS.TypedError(n.HardwareErrorCode.BridgeNotInstalled))}}))}},checkBootloaderRelease:class CheckBootloaderRelease extends BaseMethod{init(){this.notAllowDeviceMode=[...this.notAllowDeviceMode,be],this.useDevicePassphraseState=!1,this.skipForceUpdateCheck=!0}run(){return __awaiter(this,void 0,void 0,(function*(){if(!this.device.features)return null;const{features:e}=this.device,t=getBootloaderReleaseInfo(e,this.payload.willUpdateFirmwareVersion);return Promise.resolve(t)}))}},checkAllFirmwareRelease:class CheckAllFirmwareRelease extends BaseMethod{init(){this.notAllowDeviceMode=[...this.notAllowDeviceMode,be],this.useDevicePassphraseState=!1,this.skipForceUpdateCheck=!0}run(){var e,t;return __awaiter(this,void 0,void 0,(function*(){const{features:r}=this.device,{platform:i}=this.payload;if(!r)return Promise.resolve(null);const n=getFirmwareReleaseInfo(r),s=null===(t=null===(e=n.release)||void 0===e?void 0:e.version)||void 0===t?void 0:t.join(".");let a=null;"required"!==n.status&&"outdated"!==n.status||"web"!==i&&"ext"!==i||!s||(a=yield function getBridgeReleaseInfo(e,t){return __awaiter(this,void 0,void 0,(function*(){const{data:r}=yield _.default.request({url:"http://localhost:21320",method:"POST",withCredentials:!1,timeout:3e3}),{version:i="0.0.0"}=r,n=getDeviceType(e),s=getDeviceFirmwareVersion(e).join("."),a=v.default.lt(i,ke);let o=!1;P.model_touch.includes(n)&&(v.default.gte(t,Ie)&&a&&(o=!0),v.default.gte(s,Ie)&&a&&(o=!0)),P.model_mini.includes(n)&&(v.default.gte(t,Ce)&&a&&(o=!0),v.default.gte(s,Ce)&&a&&(o=!0));const d=DataManager.getBridgeChangelog();return{shouldUpdate:o,status:o?"outdated":"valid",releaseVersion:ke,changelog:d}}))}(r,s));return{firmware:n,bootloader:getBootloaderReleaseInfo(r,s),ble:getBleFirmwareReleaseInfo(r),bridge:a?{status:a.shouldUpdate?"outdated":"valid",changelog:a.changelog,release:a.releaseVersion}:void 0}}))}},deviceBackup:class DeviceBackup extends BaseMethod{init(){this.useDevicePassphraseState=!1}run(){return __awaiter(this,void 0,void 0,(function*(){const e=yield this.device.commands.typedCall("BackupDevice","Success");return Promise.resolve(e.message)}))}},deviceChangePin:class DeviceChangePin extends BaseMethod{init(){this.useDevicePassphraseState=!1,validateParams(this.payload,[{name:"remove",type:"boolean"}]),this.params={remove:this.payload.remove}}run(){return __awaiter(this,void 0,void 0,(function*(){const e=yield this.device.commands.typedCall("ChangePin","Success",Object.assign({},this.params));return Promise.resolve(e.message)}))}},deviceFlags:class DeviceFlags extends BaseMethod{init(){this.useDevicePassphraseState=!1,validateParams(this.payload,[{name:"flags",type:"number"}]),this.params={flags:this.payload.flags}}run(){return __awaiter(this,void 0,void 0,(function*(){const e=yield this.device.commands.typedCall("ApplyFlags","Success",Object.assign({},this.params));return Promise.resolve(e.message)}))}},deviceRebootToBootloader:class DeviceRebootToBootloader extends BaseMethod{init(){this.useDevicePassphraseState=!1,this.skipForceUpdateCheck=!0}getVersionRange(){return{classic:{min:"2.1.11"},mini:{min:"2.1.11"}}}run(){return __awaiter(this,void 0,void 0,(function*(){const e=yield this.device.commands.typedCall("RebootToBootloader","Success");return Promise.resolve(e.message)}))}},deviceRebootToBoardloader:class DeviceRebootToBoardloader extends BaseMethod{init(){this.useDevicePassphraseState=!1,this.skipForceUpdateCheck=!0}getVersionRange(){return{classic:{min:"2.1.11"},mini:{min:"2.1.11"}}}run(){return __awaiter(this,void 0,void 0,(function*(){const e=yield this.device.commands.typedCall("BixinOutMessageSE","Success");return Promise.resolve(e.message)}))}},deviceRecovery:class DeviceRecovery extends BaseMethod{init(){this.useDevicePassphraseState=!1,validateParams(this.payload,[{name:"wordCount",type:"number"},{name:"passphraseProtection",type:"boolean"},{name:"pinProtection",type:"boolean"},{name:"language",type:"string"},{name:"label",type:"string"},{name:"enforceWordlist",type:"boolean"},{name:"type",type:"object"},{name:"u2fCounter",type:"number"},{name:"dryRun",type:"boolean"}]),this.params={word_count:this.payload.wordCount,passphrase_protection:this.payload.passphraseProtection,pin_protection:this.payload.pinProtection,language:this.payload.language,label:this.payload.label,enforce_wordlist:this.payload.enforceWordlist,type:this.payload.type,u2f_counter:this.payload.u2fCounter||Math.floor(Date.now()/1e3),dry_run:this.payload.dryRun}}run(){return __awaiter(this,void 0,void 0,(function*(){const e=yield this.device.commands.typedCall("RecoveryDevice","Success",Object.assign({},this.params));return Promise.resolve(e.message)}))}},deviceReset:class DeviceReset extends BaseMethod{init(){this.useDevicePassphraseState=!1,validateParams(this.payload,[{name:"displayRandom",type:"boolean"},{name:"strength",type:"number"},{name:"passphraseProtection",type:"boolean"},{name:"pinProtection",type:"boolean"},{name:"language",type:"string"},{name:"label",type:"string"},{name:"u2fCounter",type:"number"},{name:"skipBackup",type:"boolean"},{name:"noBackup",type:"boolean"},{name:"backupType"}]),this.params={display_random:this.payload.displayRandom,strength:this.payload.strength||256,passphrase_protection:this.payload.passphraseProtection,pin_protection:this.payload.pinProtection,language:this.payload.language,label:this.payload.label,u2f_counter:this.payload.u2fCounter||Math.floor(Date.now()/1e3),skip_backup:this.payload.skipBackup,no_backup:this.payload.noBackup,backup_type:this.payload.backupType}}run(){return __awaiter(this,void 0,void 0,(function*(){const e=yield this.device.commands.typedCall("ResetDevice","Success",Object.assign({},this.params));return Promise.resolve(e.message)}))}},deviceSettings:class DeviceSettings extends BaseMethod{init(){this.useDevicePassphraseState=!1,validateParams(this.payload,[{name:"language",type:"string"},{name:"label",type:"string"},{name:"usePassphrase",type:"boolean"},{name:"homescreen",type:"string"},{name:"passphraseSource",type:"number"},{name:"autoLockDelayMs",type:"number"},{name:"displayRotation",type:"number"},{name:"passphraseAlwaysOnDevice",type:"boolean"},{name:"safetyChecks",type:"number"},{name:"experimentalFeatures",type:"boolean"}]),this.params={language:this.payload.language,label:this.payload.label,use_passphrase:this.payload.usePassphrase,homescreen:this.payload.homescreen,_passphrase_source:this.payload.passphraseSource,auto_lock_delay_ms:this.payload.autoLockDelayMs,display_rotation:this.payload.displayRotation,passphrase_always_on_device:this.payload.passphraseAlwaysOnDevice,safety_checks:this.payload.safetyChecks,experimental_features:this.payload.experimentalFeatures}}getVersionRange(){return this.payload.usePassphrase?{model_mini:{min:"2.4.0"}}:{}}run(){return __awaiter(this,void 0,void 0,(function*(){const e=yield this.device.commands.typedCall("ApplySettings","Success",Object.assign({},this.params));return Promise.resolve(e.message)}))}},deviceUpdateReboot:class DeviceUpdateReboot extends BaseMethod{init(){this.useDevicePassphraseState=!1,this.skipForceUpdateCheck=!0}run(){return __awaiter(this,void 0,void 0,(function*(){const e=yield this.device.commands.typedCall("DeviceBackToBoot","Success");return Promise.resolve(e.message)}))}},deviceUploadResource:class DeviceUploadResource extends BaseMethod{constructor(){super(...arguments),this.paramsData={data:new Uint8Array,thumbnailData:new Uint8Array},this.processResourceRequest=e=>__awaiter(this,void 0,void 0,(function*(){if("Success"===e.type)return e.message;const{offset:t,data_length:r}=e.message,{data:i,thumbnailData:n}=this.paramsData;if(void 0===t)throw new Error("offset is undefined");let s;s="ResourceRequest"===e.type?new Uint8Array(i.slice(t,Math.min(t+r,i.byteLength))):new Uint8Array(n.slice(t,Math.min(t+r,n.byteLength)));const a=l.blake2s(s),o={data_chunk:u.bytesToHex(s),hash:u.bytesToHex(a)},d=yield this.device.commands.typedCall("ResourceAck",["ResourceRequest","ZoomRequest","Success"],o);return this.processResourceRequest(d)}))}getVersionRange(){return{model_touch:{min:"3.2.0"}}}checkUploadNFTSupport(){const e=getDeviceType(this.device.features),t=getDeviceFirmwareVersion(this.device.features).join(".");if(!P.model_touch.includes(e))throw n.ERRORS.TypedError(n.HardwareErrorCode.CallMethodError,"Device Not Support Upload NFT");if(v.default.lt(t,"4.1.0"))throw n.ERRORS.TypedError(n.HardwareErrorCode.CallMethodNeedUpgradeFirmware,"Device firmware version is too low, please update to 4.1.0",{current:t,require:"4.1.0"})}init(){this.useDevicePassphraseState=!1,this.skipForceUpdateCheck=!0,validateParams(this.payload,[{name:"suffix",type:"string",required:!0},{name:"dataHex",type:"string",required:!0},{name:"thumbnailDataHex",type:"string",required:!0},{name:"resType",type:"number",required:!0},{name:"nftMetaData",type:"string"},{name:"fileNameNoExt",type:"string"}]);const{suffix:e,dataHex:t,thumbnailDataHex:r,resType:i,nftMetaData:n}=this.payload;this.paramsData={data:hexToBytes(t),thumbnailData:hexToBytes(r)};const s=u.bytesToHex(l.blake2s(this.payload.dataHex)).slice(0,8),o=a.isEmpty(this.payload.fileNameNoExt)?`${0===i?"wp":"nft"}-${s}-${Math.floor(Date.now()/1e3)}`:this.payload.fileNameNoExt;this.params={extension:e,data_length:this.paramsData.data.byteLength,zoom_data_length:this.paramsData.thumbnailData.byteLength,res_type:i,nft_meta_data:n,file_name_no_ext:o}}run(){return __awaiter(this,void 0,void 0,(function*(){this.payload.resType===c.Messages.ResourceType.Nft&&this.checkUploadNFTSupport();const e=yield this.device.commands.typedCall("ResourceUpload",["ResourceRequest","ZoomRequest","Success"],this.params);return this.postMessage(createUiMessage(ie.CLOSE_UI_WINDOW)),this.processResourceRequest(e)}))}},deviceSupportFeatures:class DeviceSupportFeatures extends BaseMethod{init(){this.useDevicePassphraseState=!1,this.skipForceUpdateCheck=!0}run(){if(!this.device.features)return Promise.reject(n.ERRORS.TypedError(n.HardwareErrorCode.RuntimeError,"Device not initialized"));const e=supportInputPinOnSoftware(this.device.features),t=supportModifyHomescreen(this.device.features);return Promise.resolve({inputPinOnSoftware:e,modifyHomescreen:t,device:this.device.toMessageObject()})}},deviceVerify:class DeviceVerify extends BaseMethod{init(){this.useDevicePassphraseState=!1,validateParams(this.payload,[{name:"dataHex",type:"hexString"}]),this.params={data:formatAnyHex(this.payload.dataHex)}}run(){return __awaiter(this,void 0,void 0,(function*(){const e=getDeviceType(this.device.features);let t;if(P.model_classic.includes(e)){t=(yield this.device.commands.typedCall("BixinVerifyDeviceRequest","BixinVerifyDeviceAck",Object.assign(Object.assign({},this.params),{data:u.bytesToHex(p.sha256(this.params.data))}))).message}else{const e=yield this.device.commands.typedCall("SESignMessage","SEMessageSignature",{message:this.params.data});t={cert:(yield this.device.commands.typedCall("ReadSEPublicCert","SEPublicCert")).message.public_cert,signature:e.message.signature}}return validateResult(t,["cert","signature"]),t?Promise.resolve(t):Promise.reject(n.ERRORS.TypedError(n.HardwareErrorCode.RuntimeError,"Device not support verify"))}))}},deviceWipe:class DeviceWipe extends BaseMethod{init(){this.useDevicePassphraseState=!1}run(){return __awaiter(this,void 0,void 0,(function*(){const e=yield this.device.commands.typedCall("WipeDevice","Success");return Promise.resolve(e.message)}))}},deviceFullyUploadResource:class DeviceFullyUploadResource extends BaseMethod{constructor(){super(...arguments),this.checkPromise=null,this.postTipMessage=e=>{this.postMessage(createUiMessage(Ee,{device:this.device.toMessageObject(),data:{message:e}}))}}init(){this.requireDeviceMode=[],this.useDevicePassphraseState=!1,this.skipForceUpdateCheck=!0}isSupportResourceUpdate(e,t){if("firmware"!==t)return!1;const r=getDeviceType(e),i="touch"===r||"pro"===r,n=getDeviceFirmwareVersion(e).join(".");return i&&v.default.gte(n,"3.4.0")}run(){return __awaiter(this,void 0,void 0,(function*(){const{device:e}=this,{features:t}=e;if(!(null==t?void 0:t.bootloader_mode)&&t&&t){let{binary:r}=this.payload;if(!r){this.postTipMessage("CheckLatestUiResource");const e=DataManager.getSysFullResource(t);if(e){this.postTipMessage("DownloadLatestUiResource");const t=yield getSysResourceBinary(e);this.postTipMessage("DownloadLatestUiResourceSuccess"),t&&(r=t.binary)}}yield updateResources(this.device.getCommands().typedCall.bind(this.device.getCommands()),this.postMessage,e,r)}}))}},deviceUpdateBootloader:class DeviceUpdateBootloader extends BaseMethod{constructor(){super(...arguments),this.checkPromise=null,this.postTipMessage=e=>{this.postMessage(createUiMessage(Ee,{device:this.device.toMessageObject(),data:{message:e}}))}}init(){this.notAllowDeviceMode=[be,_e],this.requireDeviceMode=[],this.useDevicePassphraseState=!1,this.skipForceUpdateCheck=!0}updateTouchBootloader(e,t){return __awaiter(this,void 0,void 0,(function*(){if(t&&!t.bootloader_mode){let{binary:r}=this.payload;if(!r){this.postTipMessage("CheckLatestUiResource");const e=DataManager.getBootloaderResource(t);if(e){this.postTipMessage("DownloadLatestBootloaderResource");const t=yield getSysResourceBinary(e);this.postTipMessage("DownloadLatestBootloaderResourceSuccess"),t&&(r=t.binary)}}if(!function checkBootloaderLength(e){const t=new Uint8Array(e.slice(0,Math.min(16384,e.byteLength))),r=w.default.wrap(t,void 0,void 0,!0);r.LE(),r.readByte(),r.readByte(),r.readByte(),r.readByte();const i=r.readUint32();return r.readUint32(),i+r.readUint32()===e.byteLength}(r))throw n.ERRORS.TypedError(n.HardwareErrorCode.CheckDownloadFileError);return yield((e,t,r,i)=>__awaiter(void 0,void 0,void 0,(function*(){return postProgressTip(r,"UpdateBootloader",t),postProgressMessage(r,Math.floor(0),t),yield updateResource(e,"bootloader.bin",i),postProgressMessage(r,Math.floor(100),t),postProgressTip(r,"UpdateBootloaderSuccess",t),!0})))(this.device.getCommands().typedCall.bind(this.device.getCommands()),this.postMessage,e,r),Promise.resolve(!0)}return Promise.resolve(!0)}))}run(){return __awaiter(this,void 0,void 0,(function*(){const{device:e}=this,{features:t}=e,r=getDeviceType(t);return P.model_touch.includes(r)?this.updateTouchBootloader(e,t):Promise.resolve(!0)}))}},deviceLock:class DeviceLock extends BaseMethod{init(){this.useDevicePassphraseState=!1}run(){return __awaiter(this,void 0,void 0,(function*(){const e=yield this.device.commands.typedCall("LockDevice","Success");return Promise.resolve(e.message)}))}},deviceCancel:class DeviceCancel extends BaseMethod{init(){this.useDevicePassphraseState=!1}run(){return __awaiter(this,void 0,void 0,(function*(){const e=yield this.device.commands.typedCall("Cancel","Success");return Promise.resolve(e.message)}))}},setU2FCounter:class SetU2FCounter extends BaseMethod{init(){this.useDevicePassphraseState=!1,this.params={u2f_counter:this.payload.u2f_counter}}run(){return __awaiter(this,void 0,void 0,(function*(){const e=yield this.device.commands.typedCall("SetU2FCounter","Success",this.params);return Promise.resolve(e.message)}))}},getNextU2FCounter:class GetNextU2FCounter extends BaseMethod{init(){this.useDevicePassphraseState=!1}run(){return __awaiter(this,void 0,void 0,(function*(){const e=yield this.device.commands.typedCall("GetNextU2FCounter","NextU2FCounter");return Promise.resolve(e.message)}))}},firmwareUpdate:class FirmwareUpdate extends BaseMethod{constructor(){super(...arguments),this.checkPromise=null,this.postTipMessage=e=>{this.postMessage(createUiMessage(Ee,{device:this.device.toMessageObject(),data:{message:e}}))}}init(){this.notAllowDeviceMode=[be,_e],this.requireDeviceMode=[],this.useDevicePassphraseState=!1,this.skipForceUpdateCheck=!0;const{payload:e}=this;validateParams(e,[{name:"version",type:"array"},{name:"binary",type:"buffer"},{name:"updateType",type:"string",required:!0},{name:"rebootOnSuccess",type:"boolean"}]),this.params={updateType:e.updateType},"version"in e&&(this.params=Object.assign(Object.assign({},this.params),{version:e.version})),"binary"in e&&(this.params=Object.assign(Object.assign({},this.params),{binary:e.binary}))}checkDeviceToBootloader(e){this.checkPromise=n.createDeferred();const t=DataManager.getSettings("env"),r=e&&DataManager.isBleConnect(t);De.log("FirmwareUpdate [checkDeviceToBootloader] isBleReconnect: ",r);const i=setInterval((()=>__awaiter(this,void 0,void 0,(function*(){var t,n,s,a,o,d,u,l;if(r)try{yield null===(t=this.device.deviceConnector)||void 0===t?void 0:t.acquire(this.device.originalDescriptor.id,null,!0),yield this.device.initialize(),(null===(n=this.device.features)||void 0===n?void 0:n.bootloader_mode)&&(clearInterval(i),null===(s=this.checkPromise)||void 0===s||s.resolve(!0))}catch(e){De.log("catch Bluetooth error when device is restarting: ",e)}else{const t=yield null===(a=this.device.deviceConnector)||void 0===a?void 0:a.enumerate(),r=null!==(o=null==t?void 0:t.descriptors)&&void 0!==o?o:[],{deviceList:n}=yield DevicePool.getDevices(r,e);1===n.length&&(null===(u=null===(d=n[0])||void 0===d?void 0:d.features)||void 0===u?void 0:u.bootloader_mode)&&(this.device.updateFromCache(n[0]),this.device.commands.disposed=!1,clearInterval(i),null===(l=this.checkPromise)||void 0===l||l.resolve(!0))}}))),r?3e3:2e3);setTimeout((()=>{this.checkPromise&&(clearInterval(i),this.checkPromise.reject(new Error))}),3e4)}run(){var e,t;return __awaiter(this,void 0,void 0,(function*(){const{device:r,params:i}=this,{features:s,commands:a}=r,o=getDeviceType(s);if(!(null==s?void 0:s.bootloader_mode)&&s){const t=getDeviceUUID(s);if(function isEnteredManuallyBoot(e,t){const r=getDeviceType(e),i="mini"===r,n="firmware"===t&&"classic"===r&&"1.8.3"===e.bootloader_version;return i||n}(s,i.updateType))return Promise.reject(n.ERRORS.TypedError(n.HardwareErrorCode.FirmwareUpdateManuallyEnterBoot));try{this.postTipMessage("AutoRebootToBootloader");if("CallMethodError"===(yield a.typedCall("DeviceBackToBoot","Success")).type)throw n.ERRORS.TypedError(n.HardwareErrorCode.FirmwareUpdateAutoEnterBootFailure);this.postTipMessage("GoToBootloaderSuccess"),this.checkDeviceToBootloader(this.payload.connectId),P.model_classic.includes(o)&&DevicePool.clearDeviceCache(t),delete DevicePool.devicesCache[""],yield null===(e=this.checkPromise)||void 0===e?void 0:e.promise,this.checkPromise=null;const r=P.model_touch.includes(o);yield wait(r?3e3:1500)}catch(e){return e instanceof n.HardwareError?Promise.reject(e):(console.log("auto go to bootloader mode failed: ",e),Promise.reject(n.ERRORS.TypedError(n.HardwareErrorCode.FirmwareUpdateAutoEnterBootFailure)))}}let d;try{if(i.binary)d=this.params.binary;else{if(!r.features)throw n.ERRORS.TypedError(n.HardwareErrorCode.RuntimeError,"no features found for this device");this.postTipMessage("DownloadFirmware");d=(yield getBinary({features:r.features,version:i.version,updateType:i.updateType})).binary,this.postTipMessage("DownloadFirmwareSuccess")}}catch(e){throw n.ERRORS.TypedError(n.HardwareErrorCode.FirmwareUpdateDownloadFailed,null!==(t=e.message)&&void 0!==t?t:e)}yield this.device.acquire();const u=yield uploadFirmware(i.updateType,this.device.getCommands().typedCall.bind(this.device.getCommands()),this.postMessage,r,{payload:d,rebootOnSuccess:this.payload.rebootOnSuccess});return this.connectId&&DevicePool.clearDeviceCache(this.connectId),u}))}},firmwareUpdateV2:class FirmwareUpdateV2 extends BaseMethod{constructor(){super(...arguments),this.checkPromise=null,this.postTipMessage=e=>{this.postMessage(createUiMessage(Ee,{device:this.device.toMessageObject(),data:{message:e}}))}}init(){this.notAllowDeviceMode=[be,_e],this.requireDeviceMode=[],this.useDevicePassphraseState=!1,this.skipForceUpdateCheck=!0;const{payload:e}=this;if(validateParams(e,[{name:"version",type:"array"},{name:"binary",type:"buffer"},{name:"forcedUpdateRes",type:"boolean"},{name:"platform",type:"string",required:!0}]),!e.updateType)throw n.ERRORS.TypedError(n.HardwareErrorCode.CallMethodInvalidParameter,"updateType is required");this.params={updateType:e.updateType,forcedUpdateRes:e.forcedUpdateRes,isUpdateBootloader:e.isUpdateBootloader},"version"in e&&(this.params=Object.assign(Object.assign({},this.params),{version:e.version})),"binary"in e&&(this.params=Object.assign(Object.assign({},this.params),{binary:e.binary}))}checkDeviceToBootloader(e){this.checkPromise=n.createDeferred();const t=DataManager.getSettings("env"),r=e&&DataManager.isBleConnect(t);qe.log("FirmwareUpdateV2 [checkDeviceToBootloader] isBleReconnect: ",r);const i=setInterval((()=>__awaiter(this,void 0,void 0,(function*(){var t,n,s,a,o,d,u,l;if(r)try{yield null===(t=this.device.deviceConnector)||void 0===t?void 0:t.acquire(this.device.originalDescriptor.id,null,!0),yield this.device.initialize(),(null===(n=this.device.features)||void 0===n?void 0:n.bootloader_mode)&&(clearInterval(i),null===(s=this.checkPromise)||void 0===s||s.resolve(!0))}catch(e){qe.log("catch Bluetooth error when device is restarting: ",e)}else{const t=yield null===(a=this.device.deviceConnector)||void 0===a?void 0:a.enumerate(),r=null!==(o=null==t?void 0:t.descriptors)&&void 0!==o?o:[],{deviceList:n}=yield DevicePool.getDevices(r,e);1===n.length&&(null===(u=null===(d=n[0])||void 0===d?void 0:d.features)||void 0===u?void 0:u.bootloader_mode)&&(this.device.updateFromCache(n[0]),this.device.commands.disposed=!1,clearInterval(i),null===(l=this.checkPromise)||void 0===l||l.resolve(!0))}}))),r?3e3:2e3);setTimeout((()=>{this.checkPromise&&(clearInterval(i),this.checkPromise.reject(new Error))}),3e4)}isEnteredManuallyBoot(e){const t=getDeviceType(e),r="mini"===t,i="firmware"===this.params.updateType&&"classic"===t&&"1.8.3"===e.bootloader_version;return r||i}isSupportResourceUpdate(e,t){if("firmware"!==t)return!1;const r=getDeviceType(e),i="touch"===r||"pro"===r,n=getDeviceFirmwareVersion(e).join(".");return i&&v.default.gte(n,"3.2.0")}checkVersionForCopyTouchResource(e){var t;if(!e)return;const r=getDeviceType(e),i=getDeviceFirmwareVersion(e).join("."),s=null===(t=this.params.version)||void 0===t?void 0:t.join("."),{updateType:a}=this.params,o=getInfo({features:e,updateType:a});if(!o)return;const{fullResourceRange:d}=o;if(!d)return;const[u,l]=d;if("touch"===r&&"firmware"===a&&s&&v.default.lt(i,u)&&v.default.gte(s,l)&&"desktop"!==this.payload.platform)throw n.ERRORS.TypedError(n.HardwareErrorCode.UseDesktopToUpdateFirmware)}run(){var e,t;return __awaiter(this,void 0,void 0,(function*(){const{device:r,params:i}=this,{features:s,commands:a}=r,o=getDeviceType(s);if(this.checkVersionForCopyTouchResource(s),!(null==s?void 0:s.bootloader_mode)&&s){const t=getDeviceUUID(s);if(this.isEnteredManuallyBoot(s))return Promise.reject(n.ERRORS.TypedError(n.HardwareErrorCode.FirmwareUpdateManuallyEnterBoot));if(s&&this.isSupportResourceUpdate(s,i.updateType)){this.postTipMessage("CheckLatestUiResource");const e=DataManager.getSysResourcesLatestRelease(s,i.forcedUpdateRes);if(e){this.postTipMessage("DownloadLatestUiResource");const t=yield getSysResourceBinary(e);this.postTipMessage("DownloadLatestUiResourceSuccess"),t&&(yield updateResources(this.device.getCommands().typedCall.bind(this.device.getCommands()),this.postMessage,r,t.binary))}}try{this.postTipMessage("AutoRebootToBootloader");if("CallMethodError"===(yield a.typedCall("DeviceBackToBoot","Success")).type)throw n.ERRORS.TypedError(n.HardwareErrorCode.FirmwareUpdateAutoEnterBootFailure);this.postTipMessage("GoToBootloaderSuccess"),this.checkDeviceToBootloader(this.payload.connectId),P.model_classic.includes(o)&&DevicePool.clearDeviceCache(t),delete DevicePool.devicesCache[""],yield null===(e=this.checkPromise)||void 0===e?void 0:e.promise,this.checkPromise=null;const r=P.model_touch.includes(o);yield wait(r?3e3:1500)}catch(e){return e instanceof n.HardwareError?Promise.reject(e):(console.log("auto go to bootloader mode failed: ",e),Promise.reject(n.ERRORS.TypedError(n.HardwareErrorCode.FirmwareUpdateAutoEnterBootFailure)))}}let d;try{if(i.binary)d=this.params.binary;else{if(!r.features)throw n.ERRORS.TypedError(n.HardwareErrorCode.RuntimeError,"no features found for this device");this.postTipMessage("DownloadFirmware");d=(yield getBinary({features:r.features,version:i.version,updateType:i.updateType,isUpdateBootloader:i.isUpdateBootloader})).binary,this.postTipMessage("DownloadFirmwareSuccess")}}catch(e){throw n.ERRORS.TypedError(n.HardwareErrorCode.FirmwareUpdateDownloadFailed,null!==(t=e.message)&&void 0!==t?t:e)}yield this.device.acquire();const u=yield uploadFirmware(i.updateType,this.device.getCommands().typedCall.bind(this.device.getCommands()),this.postMessage,r,{payload:d,rebootOnSuccess:!0});return this.connectId&&DevicePool.clearDeviceCache(this.connectId),u}))}},requestWebUsbDevice:class RequestWebUsbDevice extends BaseMethod{init(){this.useDevice=!1,this.useDevicePassphraseState=!1,this.skipForceUpdateCheck=!0}run(){var e,t;return __awaiter(this,void 0,void 0,(function*(){yield TransportManager.configure();if("webusb"!==DataManager.getSettings("env"))return Promise.reject(n.ERRORS.TypedError(n.HardwareErrorCode.RuntimeError,"Not webusb environment"));try{const r=yield null===(e=this.connector)||void 0===e?void 0:e.enumerate(),i=null!==(t=null==r?void 0:r.descriptors)&&void 0!==t?t:[],{deviceList:s}=yield DevicePool.getDevices(i);return s.length>0?{device:s[0].toMessageObject()}:yield Promise.reject(n.ERRORS.TypedError(n.HardwareErrorCode.RuntimeError,"Please select the device to connect"))}catch(e){return Le.debug(e),Promise.reject(n.ERRORS.TypedError(n.HardwareErrorCode.RuntimeError,"Please select the device to connect"))}}))}},cipherKeyValue:class CipherKeyValue extends BaseMethod{constructor(){super(...arguments),this.hasBundle=!1}init(){var e;this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,_e],this.hasBundle=!!(null===(e=this.payload)||void 0===e?void 0:e.bundle);const t=this.hasBundle?this.payload:{bundle:[this.payload]};validateParams(t,[{name:"bundle",type:"array"}]),this.params=[],t.bundle.forEach((e=>{const t=validatePath(e.path);validateParams(e,[{name:"path",required:!0},{name:"key",type:"string"},{name:"value",type:"hexString"},{name:"encrypt",type:"boolean"},{name:"askOnEncrypt",type:"boolean"},{name:"askOnDecrypt",type:"boolean"},{name:"iv",type:"hexString"}]),this.params.push({address_n:t,key:e.key,value:formatAnyHex(e.value),encrypt:e.encrypt,ask_on_encrypt:e.askOnEncrypt,ask_on_decrypt:e.askOnDecrypt,iv:formatAnyHex(e.iv)})}))}run(){return __awaiter(this,void 0,void 0,(function*(){const e=[];for(let t=0;t<this.params.length;t++){const r=this.params[t],i=yield this.device.commands.typedCall("CipherKeyValue","CipheredKeyValue",Object.assign({},r));e.push(Object.assign({path:serializedPath(r.address_n)},i.message))}return Promise.resolve(this.hasBundle?e:e[0])}))}},allNetworkGetAddress:class AllNetworkGetAddress extends BaseMethod{init(){this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,_e],validateParams(this.payload,[{name:"bundle",type:"array"}]),this.payload.bundle.forEach((e=>{validateParams(e,[{name:"path",required:!0},{name:"network",type:"string",required:!0},{name:"chainName",type:"string"},{name:"showOnOneKey",type:"boolean"}])}))}generateMethodName({network:e,payload:t}){var r,i,n;const{name:s,coin:a}=Fe[e]||{name:e,coin:null==t?void 0:t.chainName},o=Ue[s];if(!o)throw new Error(`Unsupported network: ${e}`);const d=null===(r=o.dependOnMethodName)||void 0===r?void 0:r.map((e=>{var r;return{methodName:e,params:null===(r=null==o?void 0:o.getParams)||void 0===r?void 0:r.call(o,t,a,e)}}));return{methodName:o.methodName,params:Object.assign(Object.assign({},null!==(n=null===(i=null==o?void 0:o.getParams)||void 0===i?void 0:i.call(o,t,a,o.methodName))&&void 0!==n?n:t),{originPayload:t}),dependOnMethods:d}}callMethod(e,t,r){var i;return __awaiter(this,void 0,void 0,(function*(){const s=findMethod({event:ne.CALL,type:ne.CALL,payload:Object.assign({connectId:this.payload.connectId,deviceId:this.payload.deviceId,method:e},t)});let a;s.connector=this.connector,s.postMessage=this.postMessage,s.init(),null===(i=s.setDevice)||void 0===i||i.call(s,this.device);try{const e=yield s.run();a=Object.assign(Object.assign({},r),{success:!0,error:e.error,payload:e})}catch(e){const t=e instanceof Error?function handleHardwareError(e,t,r){let i=(null==e?void 0:e.message)||"";if(i.includes("Failure_UnexpectedMessage")){const e=getMethodVersionRange(t.features,(e=>r.getVersionRange()[e])),s=getDeviceFirmwareVersion(t.features).join(".");e&&v.default.valid(e.min)&&v.default.lt(s,e.min)&&(i=n.ERRORS.TypedError(n.HardwareErrorCode.CallMethodNeedUpgradeFirmware,`Device firmware version is too low, please update to ${e.min}`,{current:s,require:e.min}).message)}return i}(e,this.device,s):"Unknown error";a=Object.assign(Object.assign({},r),{success:!1,error:t})}return a}))}run(){var e;return __awaiter(this,void 0,void 0,(function*(){const t=[];for(let r=0;r<this.payload.bundle.length;r++){const i=this.payload.bundle[r],{methodName:n,params:s,dependOnMethods:o}=this.generateMethodName({network:i.network,payload:i}),d=[];for(const e of null!=o?o:[]){const t=yield this.callMethod(e.methodName,e.params,i);d.push(t)}if(d.some((e=>!e.success)))return t.push(Object.assign(Object.assign({},i),{success:!1,error:null===(e=d.find((e=>!e.success)))||void 0===e?void 0:e.error})),Promise.resolve(t);const u=yield this.callMethod(n,s,i),l=d.reduce(((e,t)=>Object.assign(e,a.get(t,"payload",{}))),{}),c=Object.assign(Object.assign({},u),{payload:Object.assign(Object.assign({},u.payload),l)});t.push(c),this.postPreviousAddressMessage(c)}return Promise.resolve(t)}))}},btcGetAddress:class BTCGetAddress extends BaseMethod{constructor(){super(...arguments),this.hasBundle=!1}init(){this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,_e],this.hasBundle=Object.prototype.hasOwnProperty.call(this.payload,"bundle");const e=this.hasBundle?this.payload:{bundle:[this.payload]};validateParams(e,[{name:"bundle",type:"array"}]),this.params=[],e.bundle.forEach((e=>{var t;const r=validatePath(e.path,1);validateParams(e,[{name:"path",required:!0},{name:"coin",type:"string"},{name:"showOnOneKey",type:"boolean"},{name:"multisig",type:"object"},{name:"scriptType",type:"string"}]);const i=null===(t=e.showOnOneKey)||void 0===t||t,{multisig:n,coin:s}=e;let{scriptType:a}=e;a||(a=getScriptType(r),"SPENDMULTISIG"!==a||n||(a="SPENDADDRESS"));const o=getCoinInfo(r,s).name;this.params.push({address_n:r,show_display:i,coin_name:o,multisig:n,script_type:a||"SPENDADDRESS"})}))}getVersionRange(){return getBitcoinForkVersionRange(this.params.map((e=>e.coin_name)))}run(){return __awaiter(this,void 0,void 0,(function*(){const e=[];for(let t=0;t<this.params.length;t++){const r=this.params[t],i=yield this.device.commands.typedCall("GetAddress","Address",Object.assign({},r)),n=serializedPath(r.address_n);e.push(Object.assign({path:n},i.message)),this.postPreviousAddressMessage({address:i.message.address,path:n})}return validateResult(e,["address"],{expectedLength:this.params.length}),Promise.resolve(this.hasBundle?e:e[0])}))}},btcGetPublicKey:class BTCGetPublicKey extends BaseMethod{constructor(){super(...arguments),this.hasBundle=!1}init(){this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,_e],this.hasBundle=Object.prototype.hasOwnProperty.call(this.payload,"bundle");const e=this.hasBundle?this.payload:{bundle:[this.payload]};validateParams(e,[{name:"bundle",type:"array"}]),this.params=[],e.bundle.forEach((e=>{var t;const r=validatePath(e.path,1);validateParams(e,[{name:"path",required:!0},{name:"coin",type:"string"},{name:"showOnOneKey",type:"boolean"},{name:"scriptType",type:"string"}]);const i=null===(t=e.showOnOneKey)||void 0===t||t,{multisig:n,coin:s}=e;let{scriptType:a}=e;a||(a=getScriptType(r),"SPENDMULTISIG"!==a||n||(a="SPENDADDRESS"));const o=getCoinInfo(r,s).name;this.params.push({address_n:r,show_display:i,coin_name:o,script_type:a||"SPENDADDRESS"})}))}isBtcNetwork(e){return"Testnet"===e.coin_name||"Bitcoin"===e.coin_name}getVersionRange(){return getBitcoinForkVersionRange(this.params.map((e=>e.coin_name)))}run(){return __awaiter(this,void 0,void 0,(function*(){const e=[];for(let r=0;r<this.params.length;r++){const i=this.params[r],n=yield this.device.commands.typedCall("GetPublicKey","PublicKey",Object.assign({},i)),s=Object.assign(Object.assign({path:serializedPath(i.address_n)},n.message),{xpubSegwit:n.message.xpub});if(this.isBtcNetwork(i)&&(t=i.address_n,Array.isArray(t)&&(t[0]===toHardened(86)||t[0]===toHardened(10025)))){const e=`${Number(s.root_fingerprint||0).toString(16).padStart(8,"0")}${s.path.substring(1)}`;s.xpubSegwit=`tr([${e}]${s.xpub}/<0;1>/*)`}e.push(s)}var t;return validateResult(e,["xpub"],{expectedLength:this.params.length}),Promise.resolve(this.hasBundle?e:e[0])}))}},btcSignMessage:class BTCSignMessage extends BaseMethod{init(){this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,_e],validateParams(this.payload,[{name:"path",required:!0},{name:"messageHex",type:"hexString",required:!0},{name:"coin",type:"string"},{name:"noScriptType",type:"boolean"},{name:"dAppSignType",type:"string"}]);const{path:e,messageHex:t,coin:r,noScriptType:i,dAppSignType:n}=this.payload;let s=i,a=!1;const o=validatePath(e),{coinName:d,scriptType:u}=getCoinAndScriptType(o,r,!1);let l=u;"ecdsa"===n||"bip322-simple"===n?"ecdsa"===n?s=!0:(a=!0,s=!1):l=s?void 0:u,this.params={address_n:o,message:formatAnyHex(t),coin_name:d,script_type:l,no_script_type:s,is_bip322_simple:a}}getVersionRange(){return this.payload.dAppSignType?{pro:{min:"4.9.3"}}:getBitcoinForkVersionRange([this.params.coin_name])}run(){return __awaiter(this,void 0,void 0,(function*(){const e=yield this.device.commands.typedCall("SignMessage","MessageSignature",Object.assign({},this.params));return Promise.resolve(e.message)}))}},btcSignPsbt:class BTCSignPsbt extends BaseMethod{init(){this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,_e],validateParams(this.payload,[{name:"psbt",type:"hexString",required:!0},{name:"coin",type:"string"}]);const{psbt:e,coin:t}=this.payload,r=getCoinInfo(void 0,t);this.params={psbt:formatAnyHex(e),coin_name:r.name}}getVersionRange(){return{pro:{min:"4.9.3"}}}run(){return __awaiter(this,void 0,void 0,(function*(){const e=yield this.device.commands.typedCall("SignPsbt","SignedPsbt",Object.assign({},this.params));return Promise.resolve(e.message)}))}},btcSignTransaction:class BTCSignTransaction extends BaseMethod{init(){this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,_e],validateParams(this.payload,[{name:"coin",type:"string",required:!0},{name:"inputs",type:"array",required:!0},{name:"outputs",type:"array",required:!0},{name:"refTxs",type:"array",required:!0,allowEmpty:!0},{name:"locktime",type:"number"},{name:"version",type:"number"},{name:"expiry",type:"number"},{name:"overwintered",type:"boolean"},{name:"versionGroupId",type:"number"},{name:"branchId",type:"number"},{name:"timestamp",type:"number"}]),this.payload.refTxs.forEach((e=>{validateParams(e,[{name:"hash",type:"hexString",required:!0},{name:"inputs",type:"array",required:!0},{name:"bin_outputs",type:"array",required:!Array.isArray(e.outputs)},{name:"outputs",type:"array"},{name:"version",type:"number",required:!0},{name:"lock_time",type:"number",required:!0},{name:"extra_data",type:"string"},{name:"timestamp",type:"number"},{name:"version_group_id",type:"number"}])})),this.payload.inputs.forEach((e=>{validatePath(e.address_n);const t=(r=e.address_n,Array.isArray(r)&&r[0]===toHardened(49));var r;validateParams(e,[{name:"prev_hash",type:"hexString",required:!0},{name:"prev_index",type:"number",required:!0},{name:"script_type",type:"string"},{name:"amount",type:"string",required:t},{name:"sequence",type:"number"},{name:"multisig",type:"object"}])})),this.payload.outputs.forEach((e=>{if(validateParams(e,[{name:"address_n",type:"array"},{name:"address",type:"string"},{name:"amount",type:"string"},{name:"op_return_data",type:"string"},{name:"multisig",type:"object"}]),Object.prototype.hasOwnProperty.call(e,"address_n")&&Object.prototype.hasOwnProperty.call(e,"address"))throw n.ERRORS.TypedError(n.HardwareErrorCode.CallMethodInvalidParameter,"Cannot use address and address_n in one output");if(e.address_n){const t=getOutputScriptType(e.address_n);if(e.script_type!==t)throw n.ERRORS.TypedError(n.HardwareErrorCode.CallMethodInvalidParameter,`Output change script_type should be set to ${t}`)}}));const{inputs:e,outputs:t,refTxs:r,account:i,coin:s}=this.payload,a=getCoinInfo(void 0,s).name;this.params={inputs:e,outputs:t,refTxs:r,addresses:i?i.addresses:void 0,options:{lock_time:this.payload.locktime,timestamp:this.payload.timestamp,version:this.payload.version,expiry:this.payload.expiry,overwintered:this.payload.overwintered,version_group_id:this.payload.versionGroupId,branch_id:this.payload.branchId},coinName:a}}getVersionRange(){return getBitcoinForkVersionRange([this.params.coinName])}run(){return __awaiter(this,void 0,void 0,(function*(){const{device:e,params:t}=this,r=e.unavailableCapabilities.replaceTransaction,{refTxs:i}=t,n=r?signtxLegacy:signtx;return yield n(e.commands.typedCall.bind(e.commands),t.inputs,t.outputs,i,t.options,t.coinName)}))}},btcVerifyMessage:class BTCVerifyMessage extends BaseMethod{init(){this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,_e],validateParams(this.payload,[{name:"address",type:"string",required:!0},{name:"messageHex",type:"hexString",required:!0},{name:"signature",type:"hexString",required:!0},{name:"coin",type:"string",required:!0}]);const{coin:e}=this.payload,{address:t,messageHex:r,signature:i}=formatAnyHex(this.payload),n=getCoinInfo(void 0,e).name;this.params={address:t,message:r,signature:i,coin_name:n}}getVersionRange(){return getBitcoinForkVersionRange([this.params.coin_name])}run(){return __awaiter(this,void 0,void 0,(function*(){const e=yield this.device.commands.typedCall("VerifyMessage","Success",Object.assign({},this.params));return Promise.resolve(e.message)}))}},confluxGetAddress:class ConfluxGetAddress extends BaseMethod{constructor(){super(...arguments),this.hasBundle=!1}init(){var e;this.notAllowDeviceMode=[...this.notAllowDeviceMode,_e],this.hasBundle=!!(null===(e=this.payload)||void 0===e?void 0:e.bundle);const t=this.hasBundle?this.payload:{bundle:[this.payload]};validateParams(t,[{name:"bundle",type:"array"}]),this.params=[],t.bundle.forEach((e=>{var t,r;const i=validatePath(e.path,3);validateParams(e,[{name:"path",required:!0},{name:"chainId",type:"number"},{name:"showOnOneKey",type:"boolean"}]);const n=null===(t=e.showOnOneKey)||void 0===t||t;this.params.push({address_n:i,chain_id:null!==(r=e.chainId)&&void 0!==r?r:1029,show_display:n})}))}getVersionRange(){return{model_mini:{min:"2.4.0"}}}run(){return __awaiter(this,void 0,void 0,(function*(){const e=[];for(let t=0;t<this.params.length;t++){const r=this.params[t],i=yield this.device.commands.typedCall("ConfluxGetAddress","ConfluxAddress",Object.assign({},r)),n=serializedPath(r.address_n);e.push(Object.assign({path:n},i.message)),this.postPreviousAddressMessage({path:n,address:i.message.address})}return validateResult(e,["address"],{expectedLength:this.params.length}),Promise.resolve(this.hasBundle?e:e[0])}))}},confluxSignMessage:class ConfluxSignMessage extends BaseMethod{init(){this.notAllowDeviceMode=[...this.notAllowDeviceMode,_e],validateParams(this.payload,[{name:"path",required:!0},{name:"messageHex",type:"hexString",required:!0}]);const{path:e,messageHex:t}=this.payload,r=validatePath(e,3);this.params={address_n:r,message:formatAnyHex(t)}}getVersionRange(){return{model_mini:{min:"2.4.0"}}}run(){return __awaiter(this,void 0,void 0,(function*(){const e=yield this.device.commands.typedCall("ConfluxSignMessage","ConfluxMessageSignature",Object.assign({},this.params));return Promise.resolve(e.message)}))}},confluxSignMessageCIP23:class ConfluxSignMessageCIP23 extends BaseMethod{init(){this.notAllowDeviceMode=[...this.notAllowDeviceMode,_e],validateParams(this.payload,[{name:"path",required:!0},{name:"domainHash",type:"hexString",required:!0},{name:"messageHash",type:"hexString",required:!0}]);const{path:e,domainHash:t,messageHash:r}=this.payload,i=validatePath(e,3);this.params={address_n:i,domain_hash:formatAnyHex(t),message_hash:formatAnyHex(r)}}getVersionRange(){return{model_mini:{min:"2.4.0"}}}run(){return __awaiter(this,void 0,void 0,(function*(){const e=yield this.device.commands.typedCall("ConfluxSignMessageCIP23","ConfluxMessageSignature",Object.assign({},this.params));return Promise.resolve(e.message)}))}},confluxSignTransaction:class ConfluxSignTransaction extends BaseMethod{constructor(){super(...arguments),this.addressN=[],this.processTxRequest=(e,t)=>__awaiter(this,void 0,void 0,(function*(){if(!e.data_length){const t=e.signature_v,r=e.signature_r,i=e.signature_s;if(null==t||null==r||null==i)throw n.ERRORS.TypedError(n.HardwareErrorCode.CallMethodError,"sign transaction failed");return Promise.resolve({v:`0x${t.toString(16)}`,r:`0x${r}`,s:`0x${i}`})}const[r,i]=cutString(t,2*e.data_length),s=yield this.device.commands.typedCall("ConfluxTxAck","ConfluxTxRequest",{data_chunk:r});return this.processTxRequest(s.message,i)})),this.evmSignTx=(e,t)=>__awaiter(this,void 0,void 0,(function*(){const{to:r,value:i,gasPrice:n,gasLimit:s,nonce:a,data:o,chainId:d,epochHeight:u,storageLimit:l}=t,c=null==o?0:o.length/2,[p,h]=cutString(o,2048);let y={address_n:e,nonce:stripHexStartZeroes(a),gas_price:stripHexStartZeroes(n),gas_limit:stripHexStartZeroes(s),to:r,value:stripHexStartZeroes(i),epoch_height:stripHexStartZeroes(u),storage_limit:stripHexStartZeroes(l),chain_id:d};0!==c&&(y=Object.assign(Object.assign({},y),{data_length:c,data_initial_chunk:p}));const g=yield this.device.commands.typedCall("ConfluxSignTx","ConfluxTxRequest",y);return this.processTxRequest(g.message,h)}))}init(){this.notAllowDeviceMode=[...this.notAllowDeviceMode,_e],validateParams(this.payload,[{name:"path",required:!0},{name:"transaction",type:"object",required:!0}]);const{path:e,transaction:t}=this.payload;this.addressN=validatePath(e,3);const r=t;validateParams(r,[{name:"to",type:"hexString",required:!0},{name:"value",type:"hexString",required:!0},{name:"gasLimit",type:"hexString",required:!0},{name:"gasPrice",type:"hexString",required:!0},{name:"nonce",type:"hexString",required:!0},{name:"epochHeight",type:"hexString",required:!0},{name:"storageLimit",type:"hexString",required:!0},{name:"chainId",type:"number",required:!0},{name:"data",type:"hexString"}]),this.formattedTx=formatAnyHex(r)}getVersionRange(){return{model_mini:{min:"2.4.0"}}}run(){return __awaiter(this,void 0,void 0,(function*(){const{addressN:e,formattedTx:t}=this;if(null==t)throw n.ERRORS.TypedError(n.HardwareErrorCode.CallMethodInvalidParameter,"ConfluxSignTransaction: format tx error");const r=yield this.evmSignTx(e,t);return Promise.resolve(r)}))}},evmGetAddress:class EvmGetAddress extends BaseMethod{constructor(){super(...arguments),this.hasBundle=!1}init(){var e;this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,_e],this.hasBundle=!!(null===(e=this.payload)||void 0===e?void 0:e.bundle);const t=this.hasBundle?this.payload:{bundle:[this.payload]};validateParams(t,[{name:"bundle",type:"array"}]),this.params=[],t.bundle.forEach((e=>{var t;const r=validatePath(e.path,3);validateParams(e,[{name:"path",required:!0},{name:"showOnOneKey",type:"boolean"},{name:"chainId",type:"number"}]);const i=null===(t=e.showOnOneKey)||void 0===t||t;this.params.push({address_n:r,show_display:i,chain_id:e.chainId})}))}getEvmAddress(e){return __awaiter(this,void 0,void 0,(function*(){return"v1"===TransportManager.getMessageVersion()?function getAddressLegacyV1({typedCall:e,param:t}){return __awaiter(this,void 0,void 0,(function*(){return e("EthereumGetAddress","EthereumAddress",{address_n:t.address_n,show_display:t.show_display,chain_id:t.chain_id})}))}({typedCall:this.device.commands.typedCall.bind(this.device.commands),param:e}):function getAddress({typedCall:e,param:t}){return __awaiter(this,void 0,void 0,(function*(){return e("EthereumGetAddressOneKey","EthereumAddressOneKey",Object.assign({},t))}))}({typedCall:this.device.commands.typedCall.bind(this.device.commands),param:e})}))}run(){return __awaiter(this,void 0,void 0,(function*(){const e=[];for(let t=0;t<this.params.length;t++){const r=this.params[t],i=yield this.getEvmAddress(r),{address:n}=i.message;if(!n)throw new Error("EthereumGetAddressOneKey: address is undefined");const s={path:serializedPath(r.address_n),address:n};e.push(s),this.postPreviousAddressMessage(s)}return validateResult(e,["address"],{expectedLength:this.params.length}),Promise.resolve(this.hasBundle?e:e[0])}))}},evmGetPublicKey:class EVMGetPublicKey extends BaseMethod{constructor(){super(...arguments),this.hasBundle=!1,this.useBatch=!1}init(){var e,t;this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,_e],this.hasBundle=!!(null===(e=this.payload)||void 0===e?void 0:e.bundle),this.useBatch=!!(null===(t=this.payload)||void 0===t?void 0:t.useBatch);const r=this.hasBundle?this.payload:{bundle:[this.payload]};validateParams(r,[{name:"bundle",type:"array"}]),this.params=[],r.bundle.forEach((e=>{var t;const r=validatePath(e.path,3);validateParams(e,[{name:"path",required:!0},{name:"showOnOneKey",type:"boolean"},{name:"chainId",type:"number"}]);const i=null===(t=e.showOnOneKey)||void 0===t||t;this.params.push({address_n:r,show_display:i,chain_id:e.chainId})}))}getEvmPublicKey(e){return"v1"===TransportManager.getMessageVersion()?function getPublicKeyLegacyV1({typedCall:e,param:t}){return __awaiter(this,void 0,void 0,(function*(){return e("EthereumGetPublicKey","EthereumPublicKey",{address_n:t.address_n,show_display:t.show_display,chain_id:t.chain_id})}))}({typedCall:this.device.commands.typedCall.bind(this.device.commands),param:e}):function getPublicKey({typedCall:e,param:t}){return __awaiter(this,void 0,void 0,(function*(){return e("EthereumGetPublicKeyOneKey","EthereumPublicKeyOneKey",Object.assign({},t))}))}({typedCall:this.device.commands.typedCall.bind(this.device.commands),param:e})}run(){var e;return __awaiter(this,void 0,void 0,(function*(){const t=[];if(this.useBatch&&this.hasBundle&&supportBatchPublicKey(null===(e=this.device)||void 0===e?void 0:e.features)){const e=(yield this.device.commands.typedCall("BatchGetPublickeys","EcdsaPublicKeys",{paths:this.params,ecdsa_curve_name:"secp256k1"})).message.public_keys.map(((e,t)=>({path:serializedPath(this.params[t].address_n),publicKey:e})));return validateResult(t,["publicKey"],{expectedLength:this.params.length}),Promise.resolve(e)}for(let e=0;e<this.params.length;e++){const r=this.params[e],i=yield this.getEvmPublicKey(r);t.push(Object.assign({path:serializedPath(r.address_n),publicKey:i.message.node.public_key},i.message))}return validateResult(t,["publicKey"],{expectedLength:this.params.length}),Promise.resolve(this.hasBundle?t:t[0])}))}},evmSignMessage:class EVMSignMessage$2 extends BaseMethod{init(){this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,_e],validateParams(this.payload,[{name:"path",required:!0},{name:"messageHex",type:"hexString",required:!0},{name:"chainId",type:"number"}]);const{path:e,messageHex:t,chainId:r}=this.payload,i=validatePath(e,3);this.params={address_n:i,message:formatAnyHex(t),chain_id:r}}run(){return __awaiter(this,void 0,void 0,(function*(){return"v1"===TransportManager.getMessageVersion()?function signMessageLegacyV1({typedCall:e,params:t}){return __awaiter(this,void 0,void 0,(function*(){const r=yield e("EthereumSignMessage","EthereumMessageSignature",{address_n:t.address_n,message:t.message,chain_id:t.chain_id});return Promise.resolve(r.message)}))}({typedCall:this.device.commands.typedCall.bind(this.device.commands),params:this.params}):function signMessage({typedCall:e,params:t}){return __awaiter(this,void 0,void 0,(function*(){const r=yield e("EthereumSignMessageOneKey","EthereumMessageSignatureOneKey",Object.assign({},t));return Promise.resolve(r.message)}))}({typedCall:this.device.commands.typedCall.bind(this.device.commands),params:this.params})}))}},evmSignMessageEIP712:class EVMSignMessageEIP712 extends BaseMethod{init(){this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,_e],validateParams(this.payload,[{name:"path",required:!0},{name:"domainHash",type:"hexString",required:!0},{name:"messageHash",type:"hexString",required:!0}]);const{path:e,domainHash:t,messageHash:r}=this.payload,i=validatePath(e,3);this.params={address_n:i,domain_hash:formatAnyHex(t),message_hash:formatAnyHex(r)}}getVersionRange(){return{model_mini:{min:"2.1.9"}}}run(){return __awaiter(this,void 0,void 0,(function*(){const e=yield this.device.commands.typedCall("EthereumSignMessageEIP712","EthereumMessageSignature",Object.assign({},this.params));return Promise.resolve(e.message)}))}},evmSignTransaction:class EVMSignTransaction extends BaseMethod{constructor(){super(...arguments),this.addressN=[],this.isEIP1559=!1}init(){this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,_e],validateParams(this.payload,[{name:"path",required:!0},{name:"transaction",type:"object",required:!0}]);const{path:e,transaction:t}=this.payload;this.addressN=validatePath(e,3);const r=t;this.isEIP1559=!!r.maxFeePerGas&&!!r.maxPriorityFeePerGas;const i=[{name:"to",type:"hexString",required:!0},{name:"value",type:"hexString",required:!0},{name:"gasLimit",type:"hexString",required:!0},{name:"nonce",type:"hexString",required:!0},{name:"chainId",type:"number",required:!0},{name:"data",type:"hexString"}];this.isEIP1559?(i.push({name:"maxFeePerGas",type:"hexString",required:!0}),i.push({name:"maxPriorityFeePerGas",type:"hexString",required:!0})):(i.push({name:"gasPrice",type:"hexString",required:!0}),i.push({name:"txType",type:"number"})),validateParams(r,i),this.formattedTx=formatAnyHex(r)}getVersionRange(){return this.isEIP1559?{model_mini:{min:"2.1.11"}}:{model_mini:{min:"1.0.0"}}}run(){return __awaiter(this,void 0,void 0,(function*(){const{addressN:e,isEIP1559:t,formattedTx:r}=this;if(null==r)throw n.ERRORS.TypedError("Runtime","formattedTx is not set");return"v1"===TransportManager.getMessageVersion()?(({typedCall:e,isEIP1559:t,addressN:r,tx:i})=>__awaiter(void 0,void 0,void 0,(function*(){return t?evmSignTxEip1559({typedCall:e,addressN:r,tx:i,supportTrezor:!0}):evmSignTx({typedCall:e,addressN:r,tx:i,supportTrezor:!0})})))({typedCall:this.device.commands.typedCall.bind(this.device.commands),addressN:e,tx:r,isEIP1559:t}):(({typedCall:e,isEIP1559:t,addressN:r,tx:i})=>__awaiter(void 0,void 0,void 0,(function*(){return t?evmSignTxEip1559({typedCall:e,addressN:r,tx:i}):evmSignTx({typedCall:e,addressN:r,tx:i})})))({typedCall:this.device.commands.typedCall.bind(this.device.commands),addressN:e,tx:r,isEIP1559:t})}))}},evmSignTypedData:class EVMSignTypedData extends BaseMethod{init(){this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,_e],validateParams(this.payload,[{name:"path",required:!0},{name:"metamaskV4Compat",type:"boolean"},{name:"data",type:"object"},{name:"domainHash",type:"hexString"},{name:"messageHash",type:"hexString"},{name:"chainId",type:"number"}]);const{path:e,data:t,metamaskV4Compat:r,domainHash:i,messageHash:s,chainId:a}=this.payload,o=validatePath(e,3);if(this.params={addressN:o,metamaskV4Compat:r,data:t,chainId:a},i)if(this.params.domainHash=formatAnyHex(i),s)this.params.messageHash=formatAnyHex(s);else if(t&&(!t.primaryType||"EIP712Domain"!==t.primaryType))throw n.ERRORS.TypedError(n.HardwareErrorCode.CallMethodInvalidParameter,"message_hash should only be empty when data.primaryType=EIP712Domain")}handleSignTypedData({typedCall:e,signData:t,response:r,supportTrezor:i}){return __awaiter(this,void 0,void 0,(function*(){const{types:s,primaryType:a,domain:o,message:d}=t;for(;"EthereumTypedDataStructRequest"===r.type||"EthereumTypedDataStructRequestOneKey"===r.type;){const{name:t}=r.message,a=s[t];if(void 0===a)throw n.ERRORS.TypedError("Runtime",`Type ${t} was not defined in types object`);const o={members:a.map((({name:e,type:t})=>({name:e,type:getFieldType(t,s)})))};r=i?yield e("EthereumTypedDataStructAck",["EthereumTypedDataStructRequest","EthereumTypedDataValueRequest","EthereumTypedDataSignature"],o):yield e("EthereumTypedDataStructAckOneKey",["EthereumTypedDataStructRequestOneKey","EthereumTypedDataValueRequestOneKey","EthereumTypedDataSignatureOneKey"],o)}for(;"EthereumTypedDataValueRequest"===r.type||"EthereumTypedDataValueRequestOneKey"===r.type;){const{member_path:t}=r.message;let u,l;const[c,...p]=t;switch(c){case 0:u=o,l="EIP712Domain";break;case 1:u=d,l=a;break;default:throw n.ERRORS.TypedError("Runtime","Root index can only be 0 or 1")}for(const e of p)if(Array.isArray(u))l=parseArrayType(l).entryTypeName,u=u[e];else if("object"==typeof u&&null!==u){const t=s[l][e];l=t.type,u=u[t.name]}let h;h=Array.isArray(u)?encodeData("uint16",u.length):encodeData(l,u),r=i?yield e("EthereumTypedDataValueAck",["EthereumTypedDataValueRequest","EthereumTypedDataSignature"],{value:h}):yield e("EthereumTypedDataValueAckOneKey",["EthereumTypedDataValueRequestOneKey","EthereumTypedDataSignatureOneKey"],{value:h})}if("EthereumTypedDataSignature"!==r.type&&"EthereumTypedDataSignatureOneKey"!==r.type)throw n.ERRORS.TypedError("Runtime","Unexpected response type");const{address:u,signature:l}=r.message;return{address:u,signature:l}}))}signTypedData(){return __awaiter(this,void 0,void 0,(function*(){const{addressN:e,data:t,metamaskV4Compat:r,chainId:i}=this.params;let n,s=!1;if("v1"===TransportManager.getMessageVersion())s=!0,n=yield(({typedCall:e,addressN:t,data:r,metamaskV4Compat:i,chainId:n})=>__awaiter(void 0,void 0,void 0,(function*(){const{primaryType:s}=r;return yield e("EthereumSignTypedData",["EthereumTypedDataStructRequest","EthereumTypedDataValueRequest","EthereumTypedDataSignature"],{address_n:t,primary_type:s,metamask_v4_compat:i,chain_id:n})})))({typedCall:this.device.commands.typedCall.bind(this.device.commands),addressN:e,data:t,metamaskV4Compat:r,chainId:i});else s=!1,n=yield(({typedCall:e,addressN:t,data:r,metamaskV4Compat:i,chainId:n})=>__awaiter(void 0,void 0,void 0,(function*(){const{primaryType:s}=r;return e("EthereumSignTypedDataOneKey",["EthereumTypedDataStructRequestOneKey","EthereumTypedDataValueRequestOneKey","EthereumTypedDataSignatureOneKey"],{address_n:t,primary_type:s,metamask_v4_compat:i,chain_id:n})})))({typedCall:this.device.commands.typedCall.bind(this.device.commands),addressN:e,data:t,metamaskV4Compat:r,chainId:i});return this.handleSignTypedData({typedCall:this.device.commands.typedCall.bind(this.device.commands),signData:t,response:n,supportTrezor:s})}))}signTypedHash({typedCall:e,addressN:t,chainId:r,domainHash:i,messageHash:s}){if(!i)throw n.ERRORS.TypedError("Runtime","domainHash is required");return"v1"===TransportManager.getMessageVersion()?(({typedCall:e,addressN:t,device:r,chainId:i,domainHash:s,messageHash:a})=>__awaiter(void 0,void 0,void 0,(function*(){const o=getDeviceType(r.features);if("touch"===o||"pro"===o){const e=getDeviceFirmwareVersion(r.features).join("."),t="4.2.0";if(v.default.lt(e,t))throw n.ERRORS.TypedError(n.HardwareErrorCode.CallMethodNeedUpgradeFirmware,`Device firmware version is too low, please update to ${t}`,{current:e,require:t})}return e("EthereumSignTypedHash","EthereumTypedDataSignature",{address_n:t,domain_separator_hash:null!=s?s:"",message_hash:a,chain_id:i})})))({typedCall:e,addressN:t,domainHash:i,messageHash:s,chainId:r,device:this.device}):(({typedCall:e,addressN:t,device:r,chainId:i,domainHash:s,messageHash:a})=>__awaiter(void 0,void 0,void 0,(function*(){const o=getDeviceType(r.features);if("touch"===o||"pro"===o){const e=getDeviceFirmwareVersion(r.features).join("."),t="4.2.0";if(v.default.lt(e,t))throw n.ERRORS.TypedError(n.HardwareErrorCode.CallMethodNeedUpgradeFirmware,`Device firmware version is too low, please update to ${t}`,{current:e,require:t})}return e("EthereumSignTypedHashOneKey","EthereumTypedDataSignatureOneKey",{address_n:t,domain_separator_hash:null!=s?s:"",message_hash:a,chain_id:i})})))({typedCall:e,addressN:t,domainHash:i,messageHash:s,chainId:r,device:this.device})}getVersionRange(){return{model_mini:{min:"2.1.9"}}}hasBiggerData(e){const t=a.get(e.message,"data",void 0);if(!t)return!1;let r=1024;const i=getDeviceFirmwareVersion(this.device.features).join(".");v.default.gte(i,"4.4.0")&&(r=1536);const n=t.startsWith("0x")?2:0;return(t.length-n)/2>r}hasNestedArrays(e){if(!e)return!1;if(Array.isArray(e))for(const t of e){if(Array.isArray(t))return!0;if("object"==typeof t&&null!==t&&this.hasNestedArrays(t))return!0}else if("object"==typeof e&&null!==e)for(const t in e)if(this.hasNestedArrays(e[t]))return!0;return!1}supportSignTyped(){const e=getDeviceType(this.device.features);if(P.model_mini.includes(e)){const e=getDeviceFirmwareVersion(this.device.features).join("."),t="2.2.0";if(v.default.lt(e,t))return!1}return!0}run(){return __awaiter(this,void 0,void 0,(function*(){if(!this.device.features)throw n.ERRORS.TypedError("Device_InitializeFailed","Device initialization failed. Please try again.");const{addressN:e,chainId:t}=this.params,r=getDeviceType(this.device.features);if(P.model_mini.includes(r)){validateParams(this.params,[{name:"domainHash",type:"hexString",required:!0},{name:"messageHash",type:"hexString",required:!0}]);const{domainHash:r,messageHash:i}=this.params;let n;return n=this.supportSignTyped()?yield this.signTypedHash({typedCall:this.device.commands.typedCall.bind(this.device.commands),addressN:e,domainHash:r,messageHash:i,chainId:t}):yield this.device.commands.typedCall("EthereumSignMessageEIP712","EthereumMessageSignature",{address_n:e,domain_hash:null!=r?r:"",message_hash:null!=i?i:""}),Promise.resolve(n.message)}if(this.hasNestedArrays(this.params.data)||this.hasBiggerData(this.params.data)){validateParams(this.params,[{name:"domainHash",type:"hexString",required:!0},{name:"messageHash",type:"hexString",required:!0}]);const{domainHash:r,messageHash:i}=this.params;if(!r)throw n.ERRORS.TypedError("Runtime","domainHash is required");const s=yield this.signTypedHash({typedCall:this.device.commands.typedCall.bind(this.device.commands),addressN:e,domainHash:r,messageHash:i,chainId:t});return Promise.resolve(s.message)}return this.signTypedData()}))}},evmVerifyMessage:class EVMSignMessage$1 extends BaseMethod{init(){this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,_e],validateParams(this.payload,[{name:"address",type:"string",required:!0},{name:"messageHex",type:"hexString",required:!0},{name:"signature",type:"hexString",required:!0},{name:"chainId",type:"number"}]);const{address:e,messageHex:t,signature:r}=formatAnyHex(this.payload);this.params={address:e,message:t,signature:r,chain_id:this.payload.chainId}}run(){return __awaiter(this,void 0,void 0,(function*(){return"v1"===TransportManager.getMessageVersion()?function verifyMessageLegacyV1({typedCall:e,params:t}){return __awaiter(this,void 0,void 0,(function*(){const r=yield e("EthereumVerifyMessage","Success",{signature:t.signature,message:t.message,address:t.address,chain_id:t.chain_id});return Promise.resolve(r.message)}))}({typedCall:this.device.commands.typedCall.bind(this.device.commands),params:this.params}):function verifyMessage({typedCall:e,params:t}){return __awaiter(this,void 0,void 0,(function*(){const r=yield e("EthereumVerifyMessageOneKey","Success",Object.assign({},t));return Promise.resolve(r.message)}))}({typedCall:this.device.commands.typedCall.bind(this.device.commands),params:this.params})}))}},starcoinGetAddress:class StarcoinGetAddress extends BaseMethod{constructor(){super(...arguments),this.hasBundle=!1}init(){var e;this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,_e],this.hasBundle=!!(null===(e=this.payload)||void 0===e?void 0:e.bundle);const t=this.hasBundle?this.payload:{bundle:[this.payload]};validateParams(t,[{name:"bundle",type:"array"}]),this.params=[],t.bundle.forEach((e=>{var t;const r=validatePath(e.path,3);validateParams(e,[{name:"path",required:!0},{name:"showOnOneKey",type:"boolean"}]);const i=null===(t=e.showOnOneKey)||void 0===t||t;this.params.push({address_n:r,show_display:i})}))}run(){return __awaiter(this,void 0,void 0,(function*(){const e=[];for(let t=0;t<this.params.length;t++){const r=this.params[t],i=yield this.device.commands.typedCall("StarcoinGetAddress","StarcoinAddress",Object.assign({},r)),n=serializedPath(r.address_n);e.push(Object.assign({path:n},i.message)),this.postPreviousAddressMessage({path:n,address:i.message.address})}return validateResult(e,["address"],{expectedLength:this.params.length}),Promise.resolve(this.hasBundle?e:e[0])}))}},starcoinGetPublicKey:class StarcoinGetPublicKey extends BaseMethod{constructor(){super(...arguments),this.hasBundle=!1}init(){var e;this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,_e],this.hasBundle=!!(null===(e=this.payload)||void 0===e?void 0:e.bundle);const t=this.hasBundle?this.payload:{bundle:[this.payload]};validateParams(t,[{name:"bundle",type:"array"}]),this.params=[],t.bundle.forEach((e=>{var t;const r=validatePath(e.path,3);validateParams(e,[{name:"path",required:!0},{name:"showOnOneKey",type:"boolean"}]);const i=null===(t=e.showOnOneKey)||void 0===t||t;this.params.push({address_n:r,show_display:i})}))}run(){return __awaiter(this,void 0,void 0,(function*(){const e=[];for(let t=0;t<this.params.length;t++){const r=this.params[t],i=yield this.device.commands.typedCall("StarcoinGetPublicKey","StarcoinPublicKey",Object.assign({},r));e.push(Object.assign({path:serializedPath(r.address_n)},i.message))}return validateResult(e,["public_key"],{expectedLength:this.params.length}),Promise.resolve(this.hasBundle?e:e[0])}))}},starcoinSignMessage:class StarcoinSignMessage extends BaseMethod{init(){this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,_e],validateParams(this.payload,[{name:"path",required:!0},{name:"messageHex",type:"hexString",required:!0}]);const{path:e,messageHex:t}=this.payload,r=validatePath(e,3);this.params={address_n:r,message:formatAnyHex(t)}}run(){return __awaiter(this,void 0,void 0,(function*(){const e=yield this.device.commands.typedCall("StarcoinSignMessage","StarcoinMessageSignature",Object.assign({},this.params));return Promise.resolve(e.message)}))}},starcoinSignTransaction:class StarcoinSignTransaction extends BaseMethod{init(){this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,_e],validateParams(this.payload,[{name:"path",required:!0},{name:"rawTx",type:"hexString",required:!0}]);const{path:e,rawTx:t}=this.payload,r=validatePath(e,3);this.params={address_n:r,raw_tx:formatAnyHex(t)}}run(){return __awaiter(this,void 0,void 0,(function*(){const e=yield this.device.commands.typedCall("StarcoinSignTx","StarcoinSignedTx",Object.assign({},this.params));return Promise.resolve(e.message)}))}},starcoinVerifyMessage:class EVMSignMessage extends BaseMethod{init(){this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,_e],validateParams(this.payload,[{name:"publicKey",type:"string",required:!0},{name:"messageHex",type:"hexString",required:!0},{name:"signature",type:"hexString",required:!0}]);const{publicKey:e,messageHex:t,signature:r}=formatAnyHex(this.payload);this.params={public_key:e,message:t,signature:r}}run(){return __awaiter(this,void 0,void 0,(function*(){const e=yield this.device.commands.typedCall("StarcoinVerifyMessage","Success",Object.assign({},this.params));return Promise.resolve(e.message)}))}},nemGetAddress:class NEMGetAddress extends BaseMethod{constructor(){super(...arguments),this.hasBundle=!1}init(){var e;this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,_e],this.hasBundle=!!(null===(e=this.payload)||void 0===e?void 0:e.bundle);const t=this.hasBundle?this.payload:{bundle:[this.payload]};validateParams(t,[{name:"bundle",type:"array"}]),this.params=[],t.bundle.forEach((e=>{var t;const r=validatePath(e.path,3);validateParams(e,[{name:"path",required:!0},{name:"network",type:"number"},{name:"showOnOneKey",type:"boolean"}]);const i=null===(t=e.showOnOneKey)||void 0===t||t;this.params.push({address_n:r,network:e.network||104,show_display:i})}))}run(){return __awaiter(this,void 0,void 0,(function*(){const e=[];for(let t=0;t<this.params.length;t++){const r=this.params[t],i=yield this.device.commands.typedCall("NEMGetAddress","NEMAddress",Object.assign({},r)),n=serializedPath(r.address_n);e.push(Object.assign({path:n},i.message)),this.postPreviousAddressMessage({path:n,address:i.message.address})}return validateResult(e,["address"],{expectedLength:this.params.length}),Promise.resolve(this.hasBundle?e:e[0])}))}},nemSignTransaction:class NEMSignTransaction extends BaseMethod{constructor(){super(...arguments),this.NEM_MOSAIC_LEVY_TYPES={1:"MosaicLevy_Absolute",2:"MosaicLevy_Percentile"},this.NEM_SUPPLY_CHANGE_TYPES={1:"SupplyChange_Increase",2:"SupplyChange_Decrease"},this.NEM_AGGREGATE_MODIFICATION_TYPES={1:"CosignatoryModification_Add",2:"CosignatoryModification_Delete"},this.NEM_IMPORTANCE_TRANSFER_MODES={1:"ImportanceTransfer_Activate",2:"ImportanceTransfer_Deactivate"},this.getCommon=(e,t)=>{var r;return{address_n:t,network:e.version>>24&255,timestamp:e.timeStamp,fee:e.fee,deadline:null!==(r=e.deadline)&&void 0!==r?r:0,signer:t?void 0:e.signer}},this.transferMessage=e=>{const t=e.mosaics?e.mosaics.map((e=>({namespace:e.mosaicId.namespaceId,mosaic:e.mosaicId.name,quantity:e.quantity}))):void 0;return{recipient:e.recipient,amount:e.amount,payload:e.message?e.message.payload:void 0,public_key:e.message&&2===e.message.type?e.message.publicKey:void 0,mosaics:t}},this.importanceTransferMessage=e=>({mode:this.NEM_IMPORTANCE_TRANSFER_MODES[e.importanceTransfer.mode],public_key:e.importanceTransfer.publicKey}),this.aggregateModificationMessage=e=>({modifications:e.modifications?e.modifications.map((e=>({type:this.NEM_AGGREGATE_MODIFICATION_TYPES[e.modificationType],public_key:e.cosignatoryAccount}))):void 0,relative_change:e.minCosignatories.relativeChange}),this.provisionNamespaceMessage=e=>{var t,r,i;return{namespace:null!==(t=e.newPart)&&void 0!==t?t:"",parent:e.parent||void 0,sink:null!==(r=e.rentalFeeSink)&&void 0!==r?r:"",fee:null!==(i=e.rentalFee)&&void 0!==i?i:0}},this.mosaicCreationMessage=e=>{var t,r;const{levy:i}=e.mosaicDefinition,n={namespace:e.mosaicDefinition.id.namespaceId,mosaic:e.mosaicDefinition.id.name,levy:i&&i.type?this.NEM_MOSAIC_LEVY_TYPES[i.type]:void 0,fee:i&&i.fee,levy_address:i&&i.recipient,levy_namespace:i&&i.mosaicId&&i.mosaicId.namespaceId,levy_mosaic:i&&i.mosaicId&&i.mosaicId.name,description:e.mosaicDefinition.description},{properties:s}=e.mosaicDefinition;return Array.isArray(s)&&s.forEach((e=>{const{name:t,value:r}=e;switch(t){case"divisibility":n.divisibility=parseInt(r);break;case"initialSupply":n.supply=parseInt(r);break;case"supplyMutable":n.mutable_supply="true"===r;break;case"transferable":n.transferable="true"===r}})),{definition:n,sink:null!==(t=e.creationFeeSink)&&void 0!==t?t:"",fee:null!==(r=e.creationFee)&&void 0!==r?r:0}},this.supplyChangeMessage=e=>{var t;return{namespace:e.mosaicId.namespaceId,mosaic:e.mosaicId.name,type:this.NEM_SUPPLY_CHANGE_TYPES[e.supplyType],delta:null!==(t=e.delta)&&void 0!==t?t:0}},this.parseTx=(e,t)=>{let r=e;const i={transaction:this.getCommon(e,t),transfer:void 0,importance_transfer:void 0,aggregate_modification:void 0,provision_namespace:void 0,mosaic_creation:void 0,supply_change:void 0};switch(258!==e.type&&4100!==e.type&&4098!==e.type||(i.cosigning=258===e.type||4098===e.type,r=e.otherTrans,i.multisig=this.getCommon(r)),r.type){case 257:i.transfer=this.transferMessage(r);break;case 2049:i.importance_transfer=this.importanceTransferMessage(r);break;case 4097:i.aggregate_modification=this.aggregateModificationMessage(r);break;case 8193:i.provision_namespace=this.provisionNamespaceMessage(r);break;case 16385:i.mosaic_creation=this.mosaicCreationMessage(r);break;case 16386:i.supply_change=this.supplyChangeMessage(r);break;default:throw n.ERRORS.TypedError(n.HardwareErrorCode.CallMethodInvalidParameter,"Unknown transaction type")}return i}}init(){this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,_e],validateParams(this.payload,[{name:"path",required:!0},{name:"transaction",type:"object",required:!0}]);const{path:e,transaction:t}=this.payload,r=validatePath(e,3);this.params=this.parseTx(t,r)}run(){return __awaiter(this,void 0,void 0,(function*(){const e=yield this.device.commands.typedCall("NEMSignTx","NEMSignedTx",Object.assign({},this.params));return Promise.resolve(e)}))}},solGetAddress:class SolGetAddress extends BaseMethod{constructor(){super(...arguments),this.hasBundle=!1}init(){var e;this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,_e],this.hasBundle=!!(null===(e=this.payload)||void 0===e?void 0:e.bundle);const t=this.hasBundle?this.payload:{bundle:[this.payload]};validateParams(t,[{name:"bundle",type:"array"}]),this.params=[],t.bundle.forEach((e=>{var t;const r=validatePath(e.path,3);validateParams(e,[{name:"path",required:!0},{name:"showOnOneKey",type:"boolean"}]);const i=null===(t=e.showOnOneKey)||void 0===t||t;this.params.push({address_n:r,show_display:i})}))}run(){return __awaiter(this,void 0,void 0,(function*(){const e=[];for(let t=0;t<this.params.length;t++){const r=this.params[t],i=yield this.device.commands.typedCall("SolanaGetAddress","SolanaAddress",Object.assign({},r)),{address:n}=i.message,s={path:serializedPath(r.address_n),address:n};e.push(s),this.postPreviousAddressMessage(s)}return validateResult(e,["address"],{expectedLength:this.params.length}),Promise.resolve(this.hasBundle?e:e[0])}))}},solSignTransaction:class SolSignTransaction extends BaseMethod{constructor(){super(...arguments),this.hasBundle=!1}init(){var e;this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,_e],this.hasBundle=!!(null===(e=this.payload)||void 0===e?void 0:e.bundle);const t=this.hasBundle?this.payload:{bundle:[this.payload]};validateParams(t,[{name:"bundle",type:"array"}]),this.params=[],t.bundle.forEach((e=>{const t=validatePath(e.path,3);validateParams(e,[{name:"path",required:!0},{name:"rawTx",type:"hexString",required:!0}]),this.params.push({address_n:t,raw_tx:formatAnyHex(e.rawTx)})}))}getVersionRange(){return this.existsVersionedTx()?{model_mini:{min:"3.1.0"},model_touch:{min:"4.3.0"}}:{classic:{min:"2.1.9"},mini:{min:"2.1.9"}}}isVersionedTx(e){if(0===e.length)return!1;try{const t=e.startsWith("0x")?e.slice(2):e;return"1"===parseInt(t[0],16).toString(2)[0]}catch(e){return!1}}existsVersionedTx(){for(let e=0;e<this.params.length;e++){const t=this.params[e],{raw_tx:r}=t;if(this.isVersionedTx(r))return!0}return!1}run(){return __awaiter(this,void 0,void 0,(function*(){const e=[];for(let t=0;t<this.params.length;t++){const r=this.params[t],i=yield this.device.commands.typedCall("SolanaSignTx","SolanaSignedTx",Object.assign({},r)),{signature:n}=i.message;e.push({path:serializedPath(r.address_n),signature:n})}return Promise.resolve(this.hasBundle?e:e[0])}))}},stellarGetAddress:class StellarGetAddress extends BaseMethod{constructor(){super(...arguments),this.hasBundle=!1}init(){var e;this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,_e],this.hasBundle=!!(null===(e=this.payload)||void 0===e?void 0:e.bundle);const t=this.hasBundle?this.payload:{bundle:[this.payload]};validateParams(t,[{name:"bundle",type:"array"}]),this.params=[],t.bundle.forEach((e=>{var t;const r=validatePath(e.path,3);validateParams(e,[{name:"path",required:!0},{name:"showOnOneKey",type:"boolean"}]);const i=null===(t=e.showOnOneKey)||void 0===t||t;this.params.push({address_n:r,show_display:i})}))}run(){return __awaiter(this,void 0,void 0,(function*(){const e=[];for(let t=0;t<this.params.length;t++){const r=this.params[t],i=yield this.device.commands.typedCall("StellarGetAddress","StellarAddress",Object.assign({},r)),{address:n}=i.message,s={path:serializedPath(r.address_n),address:n};e.push(s),this.postPreviousAddressMessage(s)}return validateResult(e,["address"],{expectedLength:this.params.length}),Promise.resolve(this.hasBundle?e:e[0])}))}},stellarSignTransaction:class StellarSignTransaction extends BaseMethod{constructor(){super(...arguments),this.operations=[],this.parseOperation=e=>{switch(e.type){case"createAccount":return validateParams(e,[{name:"destination",type:"string",required:!0},{name:"startingBalance",type:"bigNumber",required:!0}]),{type:"StellarCreateAccountOp",source_account:e.source,new_account:e.destination,starting_balance:e.startingBalance};case"payment":return validateParams(e,[{name:"destination",type:"string",required:!0},{name:"amount",type:"bigNumber",required:!0},{name:"asset",required:!0}]),{type:"StellarPaymentOp",source_account:e.source,destination_account:e.destination,asset:e.asset,amount:e.amount};case"pathPayment":return validateParams(e,[{name:"destAmount",type:"bigNumber",required:!0}]),{type:"StellarPathPaymentOp",source_account:e.source,send_asset:e.sendAsset,send_max:e.sendMax,destination_account:e.destination,destination_asset:e.destAsset,destination_amount:e.destAmount,paths:e.path};case"createPassiveOffer":return validateParams(e,[{name:"amount",type:"bigNumber",required:!0}]),{type:"StellarCreatePassiveOfferOp",source_account:e.source,buying_asset:e.buying,selling_asset:e.selling,amount:e.amount,price_n:e.price.n,price_d:e.price.d};case"manageOffer":return validateParams(e,[{name:"amount",type:"bigNumber",required:!0}]),{type:"StellarManageOfferOp",source_account:e.source,buying_asset:e.buying,selling_asset:e.selling,amount:e.amount,offer_id:e.offerId,price_n:e.price.n,price_d:e.price.d};case"setOptions":{const t=e.signer?{signer_type:e.signer.type,signer_key:e.signer.key,signer_weight:e.signer.weight}:void 0;return Object.assign({type:"StellarSetOptionsOp",source_account:e.source,clear_flags:e.clearFlags,set_flags:e.setFlags,master_weight:e.masterWeight,low_threshold:e.lowThreshold,medium_threshold:e.medThreshold,high_threshold:e.highThreshold,home_domain:e.homeDomain,inflation_destination_account:e.inflationDest},t)}case"changeTrust":return validateParams(e,[{name:"limit",type:"bigNumber"}]),{type:"StellarChangeTrustOp",source_account:e.source,asset:e.line,limit:e.limit};case"allowTrust":return{type:"StellarAllowTrustOp",source_account:e.source,trusted_account:e.trustor,asset_type:e.assetType,asset_code:e.assetCode,is_authorized:e.authorize?1:0};case"accountMerge":return{type:"StellarAccountMergeOp",source_account:e.source,destination_account:e.destination};case"manageData":return{type:"StellarManageDataOp",source_account:e.source,key:e.name,value:e.value};case"bumpSequence":return{type:"StellarBumpSequenceOp",source_account:e.source,bump_to:e.bumpTo};default:return{}}},this.processTxRequest=(e,t)=>__awaiter(this,void 0,void 0,(function*(){const r=t+1>=e.length,i=e[t],{type:n}=i,s=function __rest(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]])}return r}(i,["type"]);if(r){return(yield this.device.commands.typedCall(n,"StellarSignedTx",s)).message}return yield this.device.commands.typedCall(n,"StellarTxOpRequest",s),this.processTxRequest(e,t+1)}))}init(){this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,_e],validateParams(this.payload,[{name:"path",required:!0},{name:"networkPassphrase",type:"string",required:!0},{name:"transaction",type:"object",required:!0}]);const{transaction:e,networkPassphrase:t}=this.payload;if(!e.timebounds)throw n.ERRORS.TypedError(n.HardwareErrorCode.CallMethodInvalidParameter,"timebounds is required");const r=validatePath(this.payload.path,3);this.params={address_n:r,network_passphrase:t,source_account:e.source,fee:e.fee,sequence_number:e.sequence,num_operations:e.operations.length,memo_type:c.StellarMemoType.NONE,timebounds_start:e.timebounds.minTime,timebounds_end:e.timebounds.maxTime},e.memo&&(this.params.memo_type=e.memo.type,this.params.memo_text=e.memo.text,this.params.memo_id=e.memo.id,this.params.memo_hash=e.memo.hash),e.operations.forEach((e=>{const t=this.parseOperation(e);t&&this.operations.push(t)})),console.log("StellarSignTransactionParams",this.params),console.log("StellarSignTransactionOperations",this.operations)}run(){return __awaiter(this,void 0,void 0,(function*(){return yield this.device.commands.typedCall("StellarSignTx","StellarTxOpRequest",Object.assign({},this.params)),this.processTxRequest(this.operations,0)}))}},tronGetAddress:class TronGetAddress extends BaseMethod{constructor(){super(...arguments),this.hasBundle=!1}init(){var e;this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,_e],this.hasBundle=!!(null===(e=this.payload)||void 0===e?void 0:e.bundle);const t=this.hasBundle?this.payload:{bundle:[this.payload]};validateParams(t,[{name:"bundle",type:"array"}]),this.params=[],t.bundle.forEach((e=>{var t;const r=validatePath(e.path,3);validateParams(e,[{name:"path",required:!0},{name:"showOnOneKey",type:"boolean"}]);const i=null===(t=e.showOnOneKey)||void 0===t||t;this.params.push({address_n:r,show_display:i})}))}getVersionRange(){return{model_mini:{min:"2.5.0"}}}run(){return __awaiter(this,void 0,void 0,(function*(){const e=[];for(let t=0;t<this.params.length;t++){const r=this.params[t],i=yield this.device.commands.typedCall("TronGetAddress","TronAddress",Object.assign({},r)),{address:n}=i.message,s={path:serializedPath(r.address_n),address:n};e.push(s),this.postPreviousAddressMessage(s)}return validateResult(e,["address"],{expectedLength:this.params.length}),Promise.resolve(this.hasBundle?e:e[0])}))}},tronSignMessage:class TronSignMessage extends BaseMethod{init(){this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,_e],validateParams(this.payload,[{name:"path",required:!0},{name:"messageHex",type:"hexString",required:!0}]);const{path:e,messageHex:t}=this.payload,r=validatePath(e,3);this.params={address_n:r,message:stripHexPrefix(t)}}getVersionRange(){return{model_mini:{min:"2.5.0"}}}run(){return __awaiter(this,void 0,void 0,(function*(){const e=yield this.device.commands.typedCall("TronSignMessage","TronMessageSignature",Object.assign({},this.params));return Promise.resolve(e.message)}))}},tronSignTransaction:class TronSignTransaction extends BaseMethod{parseTx(e,t){const r={address_n:t,data:e.data,timestamp:e.timestamp,fee_limit:e.feeLimit,ref_block_bytes:e.refBlockBytes,ref_block_hash:e.refBlockHash,expiration:e.expiration,contract:{}};return e.contract&&(e.contract.transferContract&&(r.contract={transfer_contract:{to_address:e.contract.transferContract.toAddress,amount:e.contract.transferContract.amount}}),e.contract.triggerSmartContract&&(r.contract={trigger_smart_contract:{contract_address:e.contract.triggerSmartContract.contractAddress,call_value:e.contract.triggerSmartContract.callValue,data:e.contract.triggerSmartContract.data,call_token_value:e.contract.triggerSmartContract.callTokenValue,asset_id:e.contract.triggerSmartContract.assetId}}),e.contract.freezeBalanceV2Contract&&(r.contract={freeze_balance_v2_contract:{frozen_balance:e.contract.freezeBalanceV2Contract.frozenBalance,resource:e.contract.freezeBalanceV2Contract.resource}}),e.contract.unfreezeBalanceV2Contract&&(r.contract={unfreeze_balance_v2_contract:{unfreeze_balance:e.contract.unfreezeBalanceV2Contract.unfreezeBalance,resource:e.contract.unfreezeBalanceV2Contract.resource}}),e.contract.delegateResourceContract&&(r.contract={delegate_resource_contract:{resource:e.contract.delegateResourceContract.resource,balance:e.contract.delegateResourceContract.balance,receiver_address:e.contract.delegateResourceContract.receiverAddress,lock:e.contract.delegateResourceContract.lock}}),e.contract.unDelegateResourceContract&&(r.contract={undelegate_resource_contract:{resource:e.contract.unDelegateResourceContract.resource,balance:e.contract.unDelegateResourceContract.balance,receiver_address:e.contract.unDelegateResourceContract.receiverAddress}}),e.contract.withdrawExpireUnfreezeContract&&(r.contract={withdraw_expire_unfreeze_contract:{}}),e.contract.withdrawBalanceContract&&(r.contract={withdraw_balance_contract:{owner_address:e.contract.withdrawBalanceContract.ownerAddress}})),r}init(){this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,_e],validateParams(this.payload,[{name:"path",required:!0},{name:"transaction",type:"object",required:!0}]);const{path:e,transaction:t}=this.payload,r=validatePath(e,3);validateParams(t,[{name:"refBlockBytes",type:"hexString",required:!0},{name:"refBlockHash",type:"hexString",required:!0},{name:"expiration",type:"number",required:!0},{name:"timestamp",type:"number",required:!0},{name:"contract",type:"object",required:!0}]),this.params=this.parseTx(formatAnyHex(t),r)}getVersionRange(){return{model_mini:{min:"2.5.0"}}}run(){return __awaiter(this,void 0,void 0,(function*(){const e=yield this.device.commands.typedCall("TronSignTx","TronSignedTx",Object.assign({},this.params));return Promise.resolve(e.message)}))}},nearGetAddress:class NearGetAddress extends BaseMethod{constructor(){super(...arguments),this.hasBundle=!1}init(){var e;this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,_e],this.hasBundle=!!(null===(e=this.payload)||void 0===e?void 0:e.bundle);const t=this.hasBundle?this.payload:{bundle:[this.payload]};validateParams(t,[{name:"bundle",type:"array"}]),this.params=[],t.bundle.forEach((e=>{var t;const r=validatePath(e.path,3);validateParams(e,[{name:"path",required:!0},{name:"showOnOneKey",type:"boolean"}]);const i=null===(t=e.showOnOneKey)||void 0===t||t;this.params.push({address_n:r,show_display:i})}))}getVersionRange(){return{model_mini:{min:"2.5.0"}}}run(){return __awaiter(this,void 0,void 0,(function*(){const e=[];for(let t=0;t<this.params.length;t++){const r=this.params[t],i=yield this.device.commands.typedCall("NearGetAddress","NearAddress",Object.assign({},r)),{address:n}=i.message,s={path:serializedPath(r.address_n),address:n};e.push(s),this.postPreviousAddressMessage(s)}return validateResult(e,["address"],{expectedLength:this.params.length}),Promise.resolve(this.hasBundle?e:e[0])}))}},nearSignTransaction:class NearSignTransaction extends BaseMethod{init(){this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,_e],validateParams(this.payload,[{name:"path",required:!0},{name:"rawTx",type:"hexString",required:!0}]);const{path:e,rawTx:t}=this.payload,r=validatePath(e,3);this.params={address_n:r,raw_tx:formatAnyHex(t)}}getVersionRange(){return{model_mini:{min:"2.5.0"}}}run(){return __awaiter(this,void 0,void 0,(function*(){const e=yield this.device.commands.typedCall("NearSignTx","NearSignedTx",Object.assign({},this.params));return Promise.resolve(e.message)}))}},aptosGetAddress:class AptosGetAddress extends BaseMethod{constructor(){super(...arguments),this.hasBundle=!1,this.shouldConfirm=!1}init(){var e;this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,_e],this.hasBundle=!!(null===(e=this.payload)||void 0===e?void 0:e.bundle);const t=this.hasBundle?this.payload:{bundle:[this.payload]};this.shouldConfirm=!!this.hasBundle&&this.payload.bundle.some((e=>!!e.showOnOneKey)),validateParams(t,[{name:"bundle",type:"array"}]),this.params=[],t.bundle.forEach((e=>{var t;const r=validatePath(e.path,3);validateParams(e,[{name:"path",required:!0},{name:"showOnOneKey",type:"boolean"}]);const i=null===(t=e.showOnOneKey)||void 0===t||t;this.params.push({address_n:r,show_display:i})}))}publicKeyToAddress(e){const t=y.sha3_256.create();return t.update(hexToBytes(e)),t.update("\0"),`0x${u.bytesToHex(t.digest())}`}getVersionRange(){return{model_mini:{min:"2.6.0"}}}run(){var e;return __awaiter(this,void 0,void 0,(function*(){if(this.hasBundle&&supportBatchPublicKey(null===(e=this.device)||void 0===e?void 0:e.features)&&!this.shouldConfirm){const e=(yield this.device.commands.typedCall("BatchGetPublickeys","EcdsaPublicKeys",{paths:this.params,ecdsa_curve_name:"ed25519"})).message.public_keys.map(((e,t)=>({path:serializedPath(this.params[t].address_n),publicKey:e,address:this.publicKeyToAddress(e)})));return validateResult(e,["address"],{expectedLength:this.params.length}),Promise.resolve(e)}const t=[];for(let e=0;e<this.params.length;e++){const r=this.params[e],i=yield this.device.commands.typedCall("AptosGetAddress","AptosAddress",Object.assign({},r)),{address:n}=i.message,s={path:serializedPath(r.address_n),address:null==n?void 0:n.toLowerCase()};t.push(s),this.postPreviousAddressMessage(s)}return validateResult(t,["address"],{expectedLength:this.params.length}),Promise.resolve(this.hasBundle?t:t[0])}))}},aptosGetPublicKey:class AptosGetPublicKey extends BaseMethod{constructor(){super(...arguments),this.hasBundle=!1}init(){var e;this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,_e],this.hasBundle=!!(null===(e=this.payload)||void 0===e?void 0:e.bundle);const t=this.hasBundle?this.payload:{bundle:[this.payload]};validateParams(t,[{name:"bundle",type:"array"}]),this.params=[],t.bundle.forEach((e=>{var t;const r=validatePath(e.path,3);validateParams(e,[{name:"path",required:!0},{name:"showOnOneKey",type:"boolean"}]);const i=null===(t=e.showOnOneKey)||void 0===t||t;this.params.push({address_n:r,show_display:i})}))}getVersionRange(){return{model_mini:{min:"2.6.0"}}}run(){return __awaiter(this,void 0,void 0,(function*(){const e=(yield this.device.commands.typedCall("BatchGetPublickeys","EcdsaPublicKeys",{paths:this.params,ecdsa_curve_name:"ed25519"})).message.public_keys.map(((e,t)=>({path:serializedPath(this.params[t].address_n),publicKey:e})));return validateResult(e,["publicKey"],{expectedLength:this.params.length}),Promise.resolve(this.hasBundle?e:e[0])}))}},aptosSignTransaction:class AptosSignTransaction extends BaseMethod{init(){this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,_e],validateParams(this.payload,[{name:"path",required:!0},{name:"rawTx",type:"hexString",required:!0}]);const{path:e,rawTx:t}=this.payload,r=validatePath(e,3);this.params={address_n:r,raw_tx:formatAnyHex(t)}}getVersionRange(){return{model_mini:{min:"2.6.0"}}}run(){return __awaiter(this,void 0,void 0,(function*(){const e=yield this.device.commands.typedCall("AptosSignTx","AptosSignedTx",Object.assign({},this.params));return Promise.resolve(e.message)}))}},aptosSignMessage:class AptosSignMessage extends BaseMethod{init(){this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,_e],validateParams(this.payload,[{name:"path",required:!0},{name:"payload",type:"object",required:!0}]);const{path:e,payload:t}=this.payload,r=validatePath(e,3);validateParams(t,[{name:"address",type:"string"},{name:"chainId",type:"string"},{name:"application",type:"string"},{name:"nonce",type:"string",required:!0},{name:"message",type:"string",required:!0}]),this.params={address_n:r,payload:{address:t.address,chain_id:t.chainId,application:t.application,nonce:t.nonce,message:t.message}}}getVersionRange(){return{model_mini:{min:"2.6.0"}}}run(){return __awaiter(this,void 0,void 0,(function*(){let e="APTOS\n";this.params.payload.address&&(e+=`address: ${this.params.payload.address}\n`),this.params.payload.application&&(e+=`application: ${this.params.payload.application}\n`),this.params.payload.chain_id&&(e+=`chainId: ${this.params.payload.chain_id}\n`),e+=`message: ${this.params.payload.message}\n`,e+=`nonce: ${this.params.payload.nonce}`;const t=yield this.device.commands.typedCall("AptosSignMessage","AptosMessageSignature",Object.assign({},this.params)),{address:r,signature:i}=t.message;return Promise.resolve({path:serializedPath(this.params.address_n),address:r,signature:i,fullMessage:e})}))}},algoGetAddress:class AlgoGetAddress extends BaseMethod{constructor(){super(...arguments),this.hasBundle=!1}init(){var e;this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode],this.hasBundle=!!(null===(e=this.payload)||void 0===e?void 0:e.bundle);const t=this.hasBundle?this.payload:{bundle:[this.payload]};validateParams(t,[{name:"bundle",type:"array"}]),this.params=[],t.bundle.forEach((e=>{var t;const r=validatePath(e.path,3);validateParams(e,[{name:"path",required:!0},{name:"showOnOneKey",type:"boolean"}]);const i=null===(t=e.showOnOneKey)||void 0===t||t;this.params.push({address_n:r,show_display:i})}))}getVersionRange(){return{model_mini:{min:"2.6.0"}}}run(){return __awaiter(this,void 0,void 0,(function*(){const e=[];for(let t=0;t<this.params.length;t++){const r=this.params[t],i=yield this.device.commands.typedCall("AlgorandGetAddress","AlgorandAddress",Object.assign({},r)),{address:n}=i.message,s={path:serializedPath(r.address_n),address:n};e.push(s),this.postPreviousAddressMessage(s)}return validateResult(e,["address"],{expectedLength:this.params.length}),Promise.resolve(this.hasBundle?e:e[0])}))}},algoSignTransaction:class AlgoSignTransaction extends BaseMethod{constructor(){super(...arguments),this.hasBundle=!1}init(){this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode],validateParams(this.payload,[{name:"path",required:!0},{name:"rawTx",type:"hexString",required:!0}]);const{path:e,rawTx:t}=this.payload,r=validatePath(e,3);this.params={address_n:r,raw_tx:formatAnyHex(t)}}getVersionRange(){return{model_mini:{min:"2.6.0"}}}run(){return __awaiter(this,void 0,void 0,(function*(){const e=yield this.device.commands.typedCall("AlgorandSignTx","AlgorandSignedTx",Object.assign({},this.params)),{signature:t}=e.message;return{path:serializedPath(this.params.address_n),signature:t}}))}},cosmosGetAddress:class CosmosGetAddress extends BaseMethod{constructor(){super(...arguments),this.hasBundle=!1}init(){var e;this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode],this.hasBundle=!!(null===(e=this.payload)||void 0===e?void 0:e.bundle);const t=this.hasBundle?this.payload:{bundle:[this.payload]};validateParams(t,[{name:"bundle",type:"array"}]),this.params=[],t.bundle.forEach((e=>{var t;const r=validatePath(e.path,3);validateParams(e,[{name:"path",required:!0},{name:"hrp",type:"string"},{name:"showOnOneKey",type:"boolean"}]);const i=null===(t=e.showOnOneKey)||void 0===t||t,{hrp:n}=e;this.params.push({address_n:r,hrp:n,show_display:i})}))}getVersionRange(){return{model_mini:{min:"2.10.0"},model_touch:{min:"4.0.0"}}}run(){return __awaiter(this,void 0,void 0,(function*(){const e=[];for(let t=0;t<this.params.length;t++){const r=this.params[t],i=yield this.device.commands.typedCall("CosmosGetAddress","CosmosAddress",Object.assign({},r)),{address:n}=i.message,s={path:serializedPath(r.address_n),address:n};e.push(s),this.postPreviousAddressMessage(s)}return validateResult(e,["address"],{expectedLength:this.params.length}),Promise.resolve(this.hasBundle?e:e[0])}))}},cosmosGetPublicKey:class CosmosGetPublicKey extends BaseMethod{constructor(){super(...arguments),this.hasBundle=!1}init(){var e;this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,_e],this.hasBundle=!!(null===(e=this.payload)||void 0===e?void 0:e.bundle);const t=this.hasBundle?this.payload:{bundle:[this.payload]};if(validateParams(t,[{name:"bundle",type:"array"}]),0===t.bundle.length)throw new Error("Bundle is empty");this.params=[],t.bundle.forEach((e=>{var t,r;const i=validatePath(e.path,3);validateParams(e,[{name:"path",required:!0},{name:"curve",type:"string"},{name:"showOnOneKey",type:"boolean"}]);const n=null===(t=e.showOnOneKey)||void 0===t||t,s=null!==(r=e.curve)&&void 0!==r?r:"secp256k1";if("secp256k1"!==s)throw new Error("Curve name is not supported");this.params.push({address_n:i,curve:s,show_display:n})}))}getVersionRange(){return{model_mini:{min:"2.10.0"},model_touch:{min:"4.0.0"}}}run(){return __awaiter(this,void 0,void 0,(function*(){const e=(yield this.device.commands.typedCall("BatchGetPublickeys","EcdsaPublicKeys",{paths:this.params,ecdsa_curve_name:this.params[0].curve})).message.public_keys.map(((e,t)=>({path:serializedPath(this.params[t].address_n),publicKey:e})));return validateResult(e,["publicKey"],{expectedLength:this.params.length}),Promise.resolve(this.hasBundle?e:e[0])}))}},cosmosSignTransaction:class CosmosSignTransaction extends BaseMethod{constructor(){super(...arguments),this.hasBundle=!1}init(){this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode],validateParams(this.payload,[{name:"path",required:!0},{name:"rawTx",type:"hexString",required:!0}]);const{path:e,rawTx:t}=this.payload,r=validatePath(e,3);this.params={address_n:r,raw_tx:formatAnyHex(t)}}getVersionRange(){return{model_mini:{min:"2.10.0"},model_touch:{min:"4.0.0"}}}run(){return __awaiter(this,void 0,void 0,(function*(){const e=yield this.device.commands.typedCall("CosmosSignTx","CosmosSignedTx",Object.assign({},this.params)),{signature:t}=e.message;return{path:serializedPath(this.params.address_n),signature:t}}))}},xrpGetAddress:class XrpGetAddress$1 extends BaseMethod{constructor(){super(...arguments),this.hasBundle=!1,this.shouldConfirm=!1}init(){var e;this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,_e],this.hasBundle=!!(null===(e=this.payload)||void 0===e?void 0:e.bundle);const t=this.hasBundle?this.payload:{bundle:[this.payload]};this.shouldConfirm=!!this.hasBundle&&this.payload.bundle.some((e=>!!e.showOnOneKey)),validateParams(t,[{name:"bundle",type:"array"}]),this.params=[],t.bundle.forEach((e=>{var t;const r=validatePath(e.path,3);validateParams(e,[{name:"path",required:!0},{name:"showOnOneKey",type:"boolean"}]);const i=null===(t=e.showOnOneKey)||void 0===t||t;this.params.push({address_n:r,show_display:i})}))}getVersionRange(){return{model_mini:{min:"2.9.0"}}}run(){var e,t,r;return __awaiter(this,void 0,void 0,(function*(){if(this.hasBundle&&supportBatchPublicKey(null===(e=this.device)||void 0===e?void 0:e.features)&&!this.shouldConfirm){const e=(yield this.device.commands.typedCall("BatchGetPublickeys","EcdsaPublicKeys",{paths:this.params,ecdsa_curve_name:"secp256k1"})).message.public_keys.map(((e,t)=>({path:serializedPath(this.params[t].address_n),publicKey:e,address:g.deriveAddress(e)})));return validateResult(e,["address","publicKey"],{expectedLength:this.params.length}),Promise.resolve(e)}const i=[];for(let e=0;e<this.params.length;e++){const n=this.params[e],s=yield this.device.commands.typedCall("RippleGetAddress","RippleAddress",Object.assign({},n)),a=yield this.device.commands.typedCall("BatchGetPublickeys","EcdsaPublicKeys",{paths:[{address_n:n.address_n}],ecdsa_curve_name:"secp256k1"}),{address:o}=s.message,d=serializedPath(n.address_n);i.push({path:d,address:o,publicKey:null===(r=null===(t=a.message)||void 0===t?void 0:t.public_keys)||void 0===r?void 0:r[0]}),this.postPreviousAddressMessage({path:d,address:o})}return validateResult(i,["address","publicKey"],{expectedLength:this.params.length}),Promise.resolve(this.hasBundle?i:i[0])}))}},xrpSignTransaction:class XrpGetAddress extends BaseMethod{constructor(){super(...arguments),this.hasBundle=!1}init(){this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,_e];const{payload:e}=this;validateParams(e,[{name:"path",required:!0},{name:"transaction",required:!0}]);const t=validatePath(e.path,5),{transaction:r}=e;validateParams(r,[{name:"fee",type:"string"},{name:"flags",type:"number"},{name:"sequence",type:"number"},{name:"maxLedgerVersion",type:"number"},{name:"payment",type:"object"}]),validateParams(r.payment,[{name:"amount",type:"number",required:!0},{name:"destination",type:"string",required:!0},{name:"destinationTag",type:"number"}]),this.params={address_n:t,fee:r.fee,flags:r.flags,sequence:r.sequence,last_ledger_sequence:r.maxLedgerVersion,payment:{amount:r.payment.amount,destination:r.payment.destination,destination_tag:r.payment.destinationTag}}}getVersionRange(){return{model_mini:{min:"2.9.0"}}}run(){return __awaiter(this,void 0,void 0,(function*(){const{message:e}=yield this.device.commands.typedCall("RippleSignTx","RippleSignedTx",this.params);return{serializedTx:e.serialized_tx,signature:e.signature}}))}},suiGetAddress:class SuiGetAddress extends BaseMethod{constructor(){super(...arguments),this.hasBundle=!1,this.shouldConfirm=!1}init(){var e;this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,_e],this.hasBundle=!!(null===(e=this.payload)||void 0===e?void 0:e.bundle);const t=this.hasBundle?this.payload:{bundle:[this.payload]};this.shouldConfirm=!!this.hasBundle&&this.payload.bundle.some((e=>!!e.showOnOneKey)),validateParams(t,[{name:"bundle",type:"array"}]),this.params=[],t.bundle.forEach((e=>{var t;const r=validatePath(e.path,3);validateParams(e,[{name:"path",required:!0},{name:"showOnOneKey",type:"boolean"}]);const i=null===(t=e.showOnOneKey)||void 0===t||t;this.params.push({address_n:r,show_display:i})}))}getVersionRange(){return{model_mini:{min:"3.0.0"},model_touch:{min:"4.3.0"}}}run(){var e;return __awaiter(this,void 0,void 0,(function*(){if(this.hasBundle&&supportBatchPublicKey(null===(e=this.device)||void 0===e?void 0:e.features)&&!this.shouldConfirm){const e=(yield this.device.commands.typedCall("BatchGetPublickeys","EcdsaPublicKeys",{paths:this.params,ecdsa_curve_name:"ed25519"})).message.public_keys.map(((e,t)=>({path:serializedPath(this.params[t].address_n),publicKey:e,address:publicKeyToAddress(e)})));return validateResult(e,["address"],{expectedLength:this.params.length}),Promise.resolve(e)}const t=[];for(let e=0;e<this.params.length;e++){const r=this.params[e],i=yield this.device.commands.typedCall("SuiGetAddress","SuiAddress",Object.assign({},r)),{address:n}=i.message,s={path:serializedPath(r.address_n),address:null==n?void 0:n.toLowerCase()};t.push(s),this.postPreviousAddressMessage(s)}return validateResult(t,["address"],{expectedLength:this.params.length}),Promise.resolve(this.hasBundle?t:t[0])}))}},suiGetPublicKey:class SuiGetPublicKey extends BaseMethod{constructor(){super(...arguments),this.hasBundle=!1}init(){var e;this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,_e],this.hasBundle=!!(null===(e=this.payload)||void 0===e?void 0:e.bundle);const t=this.hasBundle?this.payload:{bundle:[this.payload]};validateParams(t,[{name:"bundle",type:"array"}]),this.params=[],t.bundle.forEach((e=>{var t;const r=validatePath(e.path,3);validateParams(e,[{name:"path",required:!0},{name:"showOnOneKey",type:"boolean"}]);const i=null===(t=e.showOnOneKey)||void 0===t||t;this.params.push({address_n:r,show_display:i})}))}getVersionRange(){return{model_mini:{min:"3.0.0"},model_touch:{min:"4.3.0"}}}run(){return __awaiter(this,void 0,void 0,(function*(){const e=(yield this.device.commands.typedCall("BatchGetPublickeys","EcdsaPublicKeys",{paths:this.params,ecdsa_curve_name:"ed25519"})).message.public_keys.map(((e,t)=>({path:serializedPath(this.params[t].address_n),publicKey:e})));return validateResult(e,["publicKey"],{expectedLength:this.params.length}),Promise.resolve(this.hasBundle?e:e[0])}))}},suiSignMessage:class SuiSignMessage extends BaseMethod{init(){this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,_e],validateParams(this.payload,[{name:"path",required:!0},{name:"messageHex",type:"hexString",required:!0}]);const{path:e,messageHex:t}=this.payload,r=validatePath(e,3);this.params={address_n:r,message:stripHexPrefix(t)}}getVersionRange(){return{model_mini:{min:"3.4.0"},model_touch:{min:"4.6.0"}}}run(){return __awaiter(this,void 0,void 0,(function*(){const e=yield this.device.commands.typedCall("SuiSignMessage","SuiMessageSignature",Object.assign({},this.params));return Promise.resolve(e.message)}))}},suiSignTransaction:class SuiSignTransaction extends BaseMethod{constructor(){super(...arguments),this.chunkByteSize=1024,this.processTxRequest=(e,t,r,i=0)=>__awaiter(this,void 0,void 0,(function*(){if("SuiSignedTx"===t.type)return t.message;const{data_length:n}=t.message;if(!n)return t.message;const s=r.subarray(i,i+n),a=i+s.length,o={data_chunk:u.bytesToHex(s)},d=yield e("SuiTxAck",["SuiSignedTx","SuiTxRequest"],Object.assign({},o));return this.processTxRequest(e,d,r,a)}))}init(){this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,_e],validateParams(this.payload,[{name:"path",required:!0},{name:"rawTx",type:"hexString",required:!0}]);const{path:e,rawTx:t}=this.payload,r=validatePath(e,3);this.params={address_n:r,raw_tx:formatAnyHex(t)}}getVersionRange(){return{model_mini:{min:"3.0.0"},model_touch:{min:"4.3.0"}}}supportChunkTransfer(){const e=getDeviceType(this.device.features),t=getDeviceFirmwareVersion(this.device.features).join(".");if(P.model_mini.includes(e)){if(v.default.valid(t))return v.default.gte(t,"3.7.0")}else if(P.model_touch.includes(e)&&v.default.valid(t))return v.default.gte(t,"4.8.0");return!1}run(){return __awaiter(this,void 0,void 0,(function*(){const e=this.device.getCommands().typedCall.bind(this.device.getCommands());let t,r=0;this.supportChunkTransfer()&&(r=this.chunkByteSize,t=Buffer.from(this.params.raw_tx,"hex"),this.params={address_n:this.params.address_n,raw_tx:"",data_initial_chunk:u.bytesToHex(t.subarray(0,this.chunkByteSize)),data_length:t.length});const i=yield e("SuiSignTx",["SuiSignedTx","SuiTxRequest"],Object.assign({},this.params));return this.processTxRequest(e,i,t,r)}))}},cardanoGetAddress:class CardanoGetAddress extends BaseMethod{init(){var e,t,r;this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,_e],this.hasBundle=!!(null===(e=this.payload)||void 0===e?void 0:e.bundle),this.isCheck=this.hasBundle?!!(null===(t=this.payload)||void 0===t?void 0:t.bundle.every((e=>!!e.isCheck))):!!(null===(r=this.payload)||void 0===r?void 0:r.isCheck);const i=this.hasBundle?this.payload:{bundle:[this.payload]};this.params=i.bundle.map((e=>(validateParams(e,[{name:"addressParameters",type:"object",required:!0},{name:"networkId",type:"number",required:!0},{name:"protocolMagic",type:"number",required:!0},{name:"derivationType",type:"number"},{name:"address",type:"string"},{name:"showOnOneKey",type:"boolean"}]),validateAddressParameters(e.addressParameters),{address_parameters:addressParametersToProto(e.addressParameters),address:e.address,protocol_magic:e.protocolMagic,network_id:e.networkId,derivation_type:void 0!==e.derivationType?e.derivationType:c.Messages.CardanoDerivationType.ICARUS,show_display:"boolean"!=typeof e.showOnOneKey||!!e.showOnOneKey})))}getVersionRange(){return{model_mini:{min:"3.0.0"},model_touch:{min:"4.1.0"}}}run(){return __awaiter(this,void 0,void 0,(function*(){const e=[];for(const t of this.params){const{address_parameters:r,protocol_magic:i,network_id:n,derivation_type:s,show_display:a}=t,o=yield this.device.commands.typedCall("CardanoGetAddress","CardanoAddress",{address_parameters:r,protocol_magic:i,network_id:n,derivation_type:s,show_display:a});let d,u;if(r.address_type===c.Messages.CardanoAddressType.BASE&&!this.isCheck){d=(yield this.device.commands.typedCall("CardanoGetPublicKey","CardanoPublicKey",{address_n:r.address_n.slice(0,3),derivation_type:s,show_display:!1})).message.xpub;u=(yield this.device.commands.typedCall("CardanoGetAddress","CardanoAddress",{address_parameters:{address_type:c.Messages.CardanoAddressType.REWARD,address_n:[],address_n_staking:r.address_n_staking},protocol_magic:i,network_id:n,derivation_type:s,show_display:!1})).message.address}const l=serializedPath(t.address_parameters.address_n);e.push({addressParameters:addressParametersFromProto(t.address_parameters),protocolMagic:t.protocol_magic,networkId:t.network_id,serializedPath:l,serializedStakingPath:serializedPath(t.address_parameters.address_n_staking),address:o.message.address,xpub:d,stakeAddress:u}),this.postPreviousAddressMessage({path:l,address:o.message.address})}return validateResult(e,["serializedPath","serializedStakingPath","address"],{expectedLength:this.params.length}),this.hasBundle?e:e[0]}))}},cardanoGetPublicKey:class CardanoGetPublicKey extends BaseMethod{init(){var e;this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,_e],this.hasBundle=!!(null===(e=this.payload)||void 0===e?void 0:e.bundle);const t=this.hasBundle?this.payload:{bundle:[this.payload]};validateParams(t,[{name:"bundle",type:"array"}]),this.params=t.bundle.map((e=>{validateParams(e,[{name:"path",required:!0},{name:"derivationType",type:"number"},{name:"showOnOneKey",type:"boolean"}]);return{address_n:validatePath(e.path,3),derivation_type:void 0!==e.derivationType?e.derivationType:c.Messages.CardanoDerivationType.ICARUS,show_display:"boolean"==typeof e.showOnOneKey&&e.showOnOneKey}}))}getVersionRange(){return{model_mini:{min:"3.0.0"},model_touch:{min:"4.1.0"}}}run(){return __awaiter(this,void 0,void 0,(function*(){const e=[],t=this.device.getCommands();for(let r=0;r<this.params.length;r++){const i=this.params[r],{message:n}=yield t.typedCall("CardanoGetPublicKey","CardanoPublicKey",i);e.push({path:i.address_n,serializedPath:serializedPath(i.address_n),publicKey:n.xpub,node:n.node})}return validateResult(e,["publicKey"],{expectedLength:this.params.length}),this.hasBundle?e:e[0]}))}},cardanoSignTransaction:class CardanoSignTransaction extends BaseMethod{getVersionRange(){return{model_mini:{min:"3.0.0"},model_touch:{min:"4.1.0"}}}init(){var e;this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,_e],this.hasBundle=!!(null===(e=this.payload)||void 0===e?void 0:e.bundle);const{payload:t}=this;validateParams(t,[{name:"signingMode",type:"number",required:!0},{name:"inputs",type:"array",required:!0},{name:"outputs",type:"array",required:!0,allowEmpty:!0},{name:"fee",type:"uint",required:!0},{name:"ttl",type:"uint"},{name:"certificates",type:"array",allowEmpty:!0},{name:"withdrawals",type:"array",allowEmpty:!0},{name:"mint",type:"array",allowEmpty:!0},{name:"validityIntervalStart",type:"uint"},{name:"scriptDataHash",type:"string"},{name:"collateralInputs",type:"array",allowEmpty:!0},{name:"requiredSigners",type:"array",allowEmpty:!0},{name:"totalCollateral",type:"uint"},{name:"referenceInputs",type:"array",allowEmpty:!0},{name:"protocolMagic",type:"number",required:!0},{name:"networkId",type:"number",required:!0},{name:"additionalWitnessRequests",type:"array",allowEmpty:!0},{name:"derivationType",type:"number"},{name:"includeNetworkId",type:"boolean"}]);const r=t.inputs.map(transformInput),i=t.outputs.map(transformOutput);let n=[];t.certificates&&(n=t.certificates.map(transformCertificate));let s=[];t.withdrawals&&(s=t.withdrawals.map((e=>(validateParams(e,[{name:"amount",type:"uint",required:!0},{name:"scriptHash",type:"string"},{name:"keyHash",type:"string"}]),{path:e.path?validatePath(e.path,5):void 0,amount:e.amount,script_hash:e.scriptHash,key_hash:e.keyHash}))));let a,o=[];t.mint&&(o=tokenBundleToProto(t.mint)),t.auxiliaryData&&(a=transformAuxiliaryData(t.auxiliaryData));let d=[];t.additionalWitnessRequests&&(d=t.additionalWitnessRequests.map((e=>validatePath(e,3))));let u=[];t.collateralInputs&&(u=t.collateralInputs.map(transformCollateralInput));let l=[];t.requiredSigners&&(l=t.requiredSigners.map((e=>(validateParams(e,[{name:"keyHash",type:"string"}]),{key_path:e.keyPath?validatePath(e.keyPath,3):void 0,key_hash:e.keyHash}))));const p=t.collateralReturn?transformOutput(t.collateralReturn):void 0;let h=[];t.referenceInputs&&(h=t.referenceInputs.map(transformReferenceInput)),this.params={signingMode:t.signingMode,inputsWithPath:r,outputsWithData:i,fee:t.fee,ttl:t.ttl,certificatesWithPoolOwnersAndRelays:n,withdrawals:s,mint:o,auxiliaryData:a,validityIntervalStart:t.validityIntervalStart,scriptDataHash:t.scriptDataHash,collateralInputsWithPath:u,requiredSigners:l,collateralReturnWithData:p,totalCollateral:t.totalCollateral,referenceInputs:h,protocolMagic:t.protocolMagic,networkId:t.networkId,witnessPaths:gatherWitnessPaths(r,n,s,u,l,d,t.signingMode),additionalWitnessRequests:d,derivationType:void 0!==t.derivationType?t.derivationType:c.Messages.CardanoDerivationType.ICARUS,includeNetworkId:t.includeNetworkId}}signTx(){return __awaiter(this,void 0,void 0,(function*(){const e=this.device.getCommands().typedCall.bind(this.device.getCommands()),t=!!this.params.auxiliaryData,r={signing_mode:this.params.signingMode,protocol_magic:this.params.protocolMagic,network_id:this.params.networkId,inputs_count:this.params.inputsWithPath.length,outputs_count:this.params.outputsWithData.length,fee:this.params.fee,ttl:this.params.ttl,certificates_count:this.params.certificatesWithPoolOwnersAndRelays.length,withdrawals_count:this.params.withdrawals.length,has_auxiliary_data:t,validity_interval_start:this.params.validityIntervalStart,witness_requests_count:this.params.witnessPaths.length,minting_asset_groups_count:this.params.mint.length,script_data_hash:this.params.scriptDataHash,collateral_inputs_count:this.params.collateralInputsWithPath.length,required_signers_count:this.params.requiredSigners.length,has_collateral_return:null!=this.params.collateralReturnWithData,total_collateral:this.params.totalCollateral,reference_inputs_count:this.params.referenceInputs.length,derivation_type:this.params.derivationType,include_network_id:this.params.includeNetworkId};yield e("CardanoSignTxInit","CardanoTxItemAck",r);for(const{input:t}of this.params.inputsWithPath)yield e("CardanoTxInput","CardanoTxItemAck",t);for(const t of this.params.outputsWithData)yield sendOutput(e,t);for(const{certificate:t,poolOwners:r,poolRelays:i}of this.params.certificatesWithPoolOwnersAndRelays){yield e("CardanoTxCertificate","CardanoTxItemAck",t);for(const t of r)yield e("CardanoPoolOwner","CardanoTxItemAck",t);for(const t of i)yield e("CardanoPoolRelayParameters","CardanoTxItemAck",t)}for(const t of this.params.withdrawals)yield e("CardanoTxWithdrawal","CardanoTxItemAck",t);let i;if(this.params.auxiliaryData){const{catalyst_registration_parameters:t}=this.params.auxiliaryData;t&&(this.params.auxiliaryData=modifyAuxiliaryDataForBackwardsCompatibility(this.params.auxiliaryData));const{message:r}=yield e("CardanoTxAuxiliaryData","CardanoTxAuxiliaryDataSupplement",this.params.auxiliaryData),n=c.Messages.CardanoTxAuxiliaryDataSupplementType[r.type];n!==c.Messages.CardanoTxAuxiliaryDataSupplementType.NONE&&(i={type:n,auxiliaryDataHash:r.auxiliary_data_hash,governanceSignature:r.governance_signature,catalystSignature:r.governance_signature}),yield e("CardanoTxHostAck","CardanoTxItemAck")}if(this.params.mint.length>0){yield e("CardanoTxMint","CardanoTxItemAck",{asset_groups_count:this.params.mint.length});for(const t of this.params.mint){yield e("CardanoAssetGroup","CardanoTxItemAck",{policy_id:t.policyId,tokens_count:t.tokens.length});for(const r of t.tokens)yield e("CardanoToken","CardanoTxItemAck",r)}}for(const{collateralInput:t}of this.params.collateralInputsWithPath)yield e("CardanoTxCollateralInput","CardanoTxItemAck",t);for(const t of this.params.requiredSigners)yield e("CardanoTxRequiredSigner","CardanoTxItemAck",t);this.params.collateralReturnWithData&&(yield sendOutput(e,this.params.collateralReturnWithData));for(const t of this.params.referenceInputs)yield e("CardanoTxReferenceInput","CardanoTxItemAck",t);const n=[];for(const t of this.params.witnessPaths){const{message:r}=yield e("CardanoTxWitnessRequest","CardanoTxWitnessResponse",{path:t});n.push({type:c.Messages.CardanoTxWitnessType[r.type],pubKey:r.pub_key,signature:r.signature,chainCode:r.chain_code})}const{message:s}=yield e("CardanoTxHostAck","CardanoTxBodyHash");return yield e("CardanoTxHostAck","CardanoSignTxFinished"),{hash:s.tx_hash,witnesses:n,auxiliaryDataSupplement:i}}))}run(){return this.signTx()}},cardanoSignMessage:class CardanoSignMessage extends BaseMethod{init(){this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,_e];const{payload:e}=this;validateParams(e,[{name:"path",type:"string",required:!0},{name:"message",type:"string",required:!0},{name:"derivationType",type:"number"},{name:"networkId",type:"number",required:!0}]);const t=validatePath(e.path,3);this.params={address_n:t,message:e.message,derivation_type:void 0!==e.derivationType?e.derivationType:c.Messages.CardanoDerivationType.ICARUS,network_id:e.networkId}}getVersionRange(){return{model_touch:{min:"4.10.0"}}}run(){return __awaiter(this,void 0,void 0,(function*(){return(yield this.device.commands.typedCall("CardanoSignMessage","CardanoMessageSignature",this.params)).message}))}},filecoinGetAddress:class FilecoinGetAddress extends BaseMethod{constructor(){super(...arguments),this.hasBundle=!1}init(){var e;this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,_e],this.hasBundle=!!(null===(e=this.payload)||void 0===e?void 0:e.bundle);const t=this.hasBundle?this.payload:{bundle:[this.payload]};validateParams(t,[{name:"bundle",type:"array"}]),this.params=[],t.bundle.forEach((e=>{var t;const r=validatePath(e.path,3);validateParams(e,[{name:"path",required:!0},{name:"showOnOneKey",type:"boolean"},{name:"isTestnet",type:"boolean"}]);const i=null===(t=e.showOnOneKey)||void 0===t||t;this.params.push({address_n:r,show_display:i,testnet:e.isTestnet})}))}getVersionRange(){return{model_mini:{min:"2.10.0"},model_touch:{min:"3.5.0"}}}run(){return __awaiter(this,void 0,void 0,(function*(){const e=[];for(let t=0;t<this.params.length;t++){const r=this.params[t],i=yield this.device.commands.typedCall("FilecoinGetAddress","FilecoinAddress",Object.assign({},r)),{address:n}=i.message,s={path:serializedPath(r.address_n),address:n};e.push(s),this.postPreviousAddressMessage(s)}return validateResult(e,["address"],{expectedLength:this.params.length}),Promise.resolve(this.hasBundle?e:e[0])}))}},filecoinSignTransaction:class FilecoinSignTransaction extends BaseMethod{constructor(){super(...arguments),this.hasBundle=!1}init(){this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode],validateParams(this.payload,[{name:"path",required:!0},{name:"rawTx",type:"hexString",required:!0},{name:"isTestnet",type:"boolean"}]);const{path:e,rawTx:t,isTestnet:r}=this.payload,i=validatePath(e,3);this.params={address_n:i,raw_tx:formatAnyHex(t),testnet:r}}getVersionRange(){return{model_mini:{min:"2.10.0"},model_touch:{min:"3.5.0"}}}run(){return __awaiter(this,void 0,void 0,(function*(){const e=yield this.device.commands.typedCall("FilecoinSignTx","FilecoinSignedTx",Object.assign({},this.params)),{signature:t}=e.message;return{path:serializedPath(this.params.address_n),signature:t}}))}},polkadotGetAddress:class PolkadotGetAddress extends BaseMethod{constructor(){super(...arguments),this.hasBundle=!1}init(){var e;this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode],this.hasBundle=!!(null===(e=this.payload)||void 0===e?void 0:e.bundle);const t=this.hasBundle?this.payload:{bundle:[this.payload]};validateParams(t,[{name:"bundle",type:"array"}]),this.params=[],t.bundle.forEach((e=>{var t;const r=validatePath(e.path,3);validateParams(e,[{name:"path",required:!0},{name:"prefix",required:!0},{name:"network",required:!0},{name:"showOnOneKey",type:"boolean"}]);const i=null===(t=e.showOnOneKey)||void 0===t||t,{prefix:n,network:s}=e;this.params.push({address_n:r,prefix:n,network:s,show_display:i})}))}getVersionRange(){return function getPolkadotVersionRangeWithBundle(e){return e.includes(Ye.JoyStream)?Je[Ye.JoyStream]:e.includes(Ye.Manta)?Je[Ye.Manta]:Xe}(this.params.map((e=>e.network)))}run(){return __awaiter(this,void 0,void 0,(function*(){const e=[];for(let t=0;t<this.params.length;t++){const r=this.params[t],i=yield this.device.commands.typedCall("PolkadotGetAddress","PolkadotAddress",Object.assign({},r)),{address:n,public_key:s}=i.message,a=serializedPath(r.address_n);e.push({path:a,address:n,publicKey:null!=s?s:""}),this.postPreviousAddressMessage({path:a,address:n})}return validateResult(e,["address","publicKey"],{expectedLength:this.params.length}),Promise.resolve(this.hasBundle?e:e[0])}))}},polkadotSignTransaction:class PolkadotSignTransaction extends BaseMethod{constructor(){super(...arguments),this.hasBundle=!1}init(){this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode],validateParams(this.payload,[{name:"path",required:!0},{name:"network",required:!0},{name:"rawTx",type:"hexString",required:!0}]);const{path:e,rawTx:t,network:r}=this.payload,i=validatePath(e,3);this.params={address_n:i,network:r,raw_tx:formatAnyHex(t)}}getVersionRange(){return function getPolkadotVersionRange(e){var t;return null!==(t=Je[e])&&void 0!==t?t:Xe}(this.params.network)}run(){return __awaiter(this,void 0,void 0,(function*(){const e=yield this.device.commands.typedCall("PolkadotSignTx","PolkadotSignedTx",Object.assign({},this.params)),{signature:t}=e.message;return{path:serializedPath(this.params.address_n),signature:t}}))}},kaspaGetAddress:class KaspaGetAddress extends BaseMethod{constructor(){super(...arguments),this.hasBundle=!1}init(){var e;this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,_e],this.hasBundle=!!(null===(e=this.payload)||void 0===e?void 0:e.bundle);const t=this.hasBundle?this.payload:{bundle:[this.payload]};validateParams(t,[{name:"bundle",type:"array"}]),this.params=[],t.bundle.forEach((e=>{var t;const r=validatePath(e.path,3);validateParams(e,[{name:"path",required:!0},{name:"showOnOneKey",type:"boolean"},{name:"prefix",type:"string"},{name:"scheme",type:"string"}]);const i=null===(t=e.showOnOneKey)||void 0===t||t;this.params.push({address_n:r,show_display:i,prefix:e.prefix,scheme:e.scheme})}))}getVersionRange(){return{model_mini:{min:"3.0.0"},model_touch:{min:"4.3.0"}}}run(){return __awaiter(this,void 0,void 0,(function*(){const e=[];for(let t=0;t<this.params.length;t++){const r=this.params[t],i=yield this.device.commands.typedCall("KaspaGetAddress","KaspaAddress",Object.assign({},r)),{address:n}=i.message,s={path:serializedPath(r.address_n),address:n};e.push(s),this.postPreviousAddressMessage(s)}return validateResult(e,["address"],{expectedLength:this.params.length}),Promise.resolve(this.hasBundle?e:e[0])}))}},kaspaSignTransaction:class KaspaSignTransaction extends BaseMethod{constructor(){super(...arguments),this.hasBundle=!1}init(){var e,t,r,i,n;this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,_e];const s=this.payload;validateParams(s,[{name:"version",type:"number"},{name:"sigHashType",type:"number",required:!0},{name:"inputs",type:"array",required:!0},{name:"outputs",type:"array",required:!0},{name:"lockTime",required:!0},{name:"sigOpCount",type:"number"},{name:"subNetworkID",type:"string"}]);const a=s.inputs.map((e=>{var t;validateParams(e,[{name:"path",type:"string",required:!0},{name:"prevTxId",type:"string",required:!0},{name:"outputIndex",type:"number",required:!0},{name:"sequenceNumber",required:!0}]);const r=validatePath(e.path,3);return Object.assign(Object.assign({},e),{path:r,sigOpCount:null!==(t=e.sigOpCount)&&void 0!==t?t:1})})),o=s.outputs.map((e=>{var t;return validateParams(e,[{name:"satoshis",required:!0},{name:"script",type:"string",required:!0},{name:"scriptVersion",type:"number"}]),Object.assign(Object.assign({},e),{scriptVersion:null!==(t=e.scriptVersion)&&void 0!==t?t:0})}));this.params=Object.assign(Object.assign({},s),{inputs:a,outputs:o,scheme:null!==(e=s.scheme)&&void 0!==e?e:"schnorr",prefix:null!==(t=s.prefix)&&void 0!==t?t:"kaspa",sigHashType:null!==(r=s.sigHashType)&&void 0!==r?r:Ze.SIGHASH_ALL|Ze.SIGHASH_FORKID,sigOpCount:null!==(i=s.sigOpCount)&&void 0!==i?i:1,subNetworkID:null!==(n=s.subNetworkID)&&void 0!==n?n:u.bytesToHex(zeroSubnetworkID())})}getVersionRange(){return{model_mini:{min:"3.0.0"},model_touch:{min:"4.3.0"}}}processTxRequest(e,t,r,i){var n;return __awaiter(this,void 0,void 0,(function*(){if("KaspaSignedTx"===t.type)return i.push({index:r,signature:t.message.signature}),i;if("KaspaTxInputRequest"===t.type){i.push({index:r,signature:null!==(n=t.message.signature)&&void 0!==n?n:""});const s=t.message.request_index,{raw:a}=serialize(this.params,s),o=this.params.inputs[s],d=yield e("KaspaTxInputAck",["KaspaTxInputRequest","KaspaSignedTx"],{address_n:o.path,raw_message:u.bytesToHex(a)});return this.processTxRequest(e,d,s,i)}return i}))}run(){return __awaiter(this,void 0,void 0,(function*(){const{raw:e}=serialize(this.params,0),t=this.params.inputs[0],{device:r,params:i}=this,n=yield r.commands.typedCall("KaspaSignTx",["KaspaTxInputRequest","KaspaSignedTx"],{address_n:t.path,raw_message:u.bytesToHex(e),scheme:i.scheme,prefix:i.prefix,input_count:i.inputs.length});return this.processTxRequest(r.commands.typedCall.bind(r.commands),n,0,[])}))}},nexaGetAddress:class NexaGetAddress extends BaseMethod{constructor(){super(...arguments),this.hasBundle=!1}init(){var e;this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,_e],this.hasBundle=!!(null===(e=this.payload)||void 0===e?void 0:e.bundle);const t=this.hasBundle?this.payload:{bundle:[this.payload]};validateParams(t,[{name:"bundle",type:"array"}]),this.params=[],t.bundle.forEach((e=>{var t;const r=validatePath(e.path,3);validateParams(e,[{name:"path",required:!0},{name:"showOnOneKey",type:"boolean"},{name:"prefix",type:"string"},{name:"scheme",type:"string"}]);const i=null===(t=e.showOnOneKey)||void 0===t||t;this.params.push({address_n:r,show_display:i,prefix:e.prefix,scheme:e.scheme})}))}getVersionRange(){return{model_mini:{min:"3.2.0"},model_touch:{min:"4.4.0"}}}run(){return __awaiter(this,void 0,void 0,(function*(){const e=[];for(let t=0;t<this.params.length;t++){const r=this.params[t],i=yield this.device.commands.typedCall("NexaGetAddress","NexaAddress",Object.assign({},r)),{address:n}=i.message,s={path:serializedPath(r.address_n),pub:i.message.public_key,address:n};e.push(s),this.postPreviousAddressMessage(s)}return validateResult(e,["address","pub"],{expectedLength:this.params.length}),Promise.resolve(this.hasBundle?e:e[0])}))}},nexaSignTransaction:class NexaSignTransaction extends BaseMethod{constructor(){super(...arguments),this.hasBundle=!1}init(){const e=this.payload;e.inputs.forEach((e=>(validateParams(e,[{name:"path",type:"string",required:!0},{name:"message",type:"string",required:!0},{name:"prefix",type:"string",required:!0}]),e))),this.params=e}getVersionRange(){return{model_mini:{min:"3.2.0"},model_touch:{min:"4.4.0"}}}processTxRequest(e,t,r,i){return __awaiter(this,void 0,void 0,(function*(){const{signature:s}=t.message;if(!s)throw n.ERRORS.TypedError(n.HardwareErrorCode.ResponseUnexpectTypeError,"signature is not valid");if("NexaSignedTx"===t.type)return i.push({index:r,signature:s}),i;if("NexaTxInputRequest"===t.type){i.push({index:r,signature:s});const n=t.message.request_index,a=this.params.inputs[n],o=yield e("NexaTxInputAck",["NexaTxInputRequest","NexaSignedTx"],{address_n:a.path,raw_message:a.message});return this.processTxRequest(e,o,n,i)}return i}))}run(){return __awaiter(this,void 0,void 0,(function*(){const{device:e,params:t}=this,r=t.inputs[0],i=yield e.commands.typedCall("NexaSignTx",["NexaTxInputRequest","NexaSignedTx"],{address_n:validatePath(r.path,3),raw_message:r.message,prefix:r.prefix,input_count:t.inputs.length});return this.processTxRequest(e.commands.typedCall.bind(e.commands),i,0,[])}))}},nostrGetPublicKey:class NostrGetPublicKey extends BaseMethod{constructor(){super(...arguments),this.hasBundle=!1}init(){this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,_e],this.hasBundle=Object.prototype.hasOwnProperty.call(this.payload,"bundle");const e=this.hasBundle?this.payload:{bundle:[this.payload]};validateParams(e,[{name:"bundle",type:"array"}]),this.params=[],e.bundle.forEach((e=>{var t;const r=validatePath(e.path,1);validateParams(e,[{name:"path",required:!0},{name:"showOnOneKey",type:"boolean"}]);const i=null===(t=e.showOnOneKey)||void 0===t||t;this.params.push({address_n:r,show_display:i})}))}getVersionRange(){return{model_mini:{min:"3.6.0"},model_touch:{min:"4.7.0"}}}run(){return __awaiter(this,void 0,void 0,(function*(){const e=[];for(let t=0;t<this.params.length;t++){const r=this.params[t],i=yield this.device.commands.typedCall("NostrGetPublicKey","NostrPublicKey",Object.assign({},r)),n=Object.assign({path:serializedPath(r.address_n)},i.message);e.push(n)}return Promise.resolve(this.hasBundle?e:e[0])}))}},nostrSignEvent:class NostrSignEvent extends BaseMethod{constructor(){super(...arguments),this.hasBundle=!1}init(){this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,_e];const{payload:e}=this;if(!function validateEvent(e){if(!(e instanceof Object))return!1;if("number"!=typeof e.kind)return!1;if("string"!=typeof e.content)return!1;if("number"!=typeof e.created_at)return!1;if(!Array.isArray(e.tags))return!1;for(let t=0;t<e.tags.length;t+=1){const r=e.tags[t];if(!Array.isArray(r))return!1;for(let e=0;e<r.length;e+=1)if("object"==typeof r[e])return!1}return!0}(e.event))throw n.ERRORS.TypedError(n.HardwareErrorCode.CallMethodInvalidParameter,"Can't serialize event with wrong or missing properties");validateParams(e,[{name:"path",required:!0}]);const t=validatePath(e.path,5);this.params={address_n:t,event:bytesToHex(Buffer.from(JSON.stringify(e.event,null,0),"utf-8"))}}getVersionRange(){return{model_mini:{min:"3.6.0"},model_touch:{min:"4.7.0"}}}run(){return __awaiter(this,void 0,void 0,(function*(){const{message:e}=yield this.device.commands.typedCall("NostrSignEvent","NostrSignedEvent",this.params);try{const t=Buffer.from(hexToBytes(e.event)).toString("utf-8"),r=JSON.parse(t);return{path:serializedPath(this.params.address_n),rawTx:e.event,event:r}}catch(e){throw n.ERRORS.TypedError(n.HardwareErrorCode.CallMethodError,"Failed to parse signed event",e)}}))}},nostrEncryptMessage:class NostrEncryptMessage extends BaseMethod{constructor(){super(...arguments),this.hasBundle=!1}init(){var e;this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,_e];const{payload:t}=this;validateParams(t,[{name:"path",required:!0},{name:"pubkey",required:!0,type:"string"},{name:"plaintext",required:!0,type:"string"},{name:"showOnOneKey",type:"boolean"}]);const r=validatePath(t.path,5);this.params={address_n:r,pubkey:t.pubkey,msg:t.plaintext,show_display:null===(e=t.showOnOneKey)||void 0===e||e}}getVersionRange(){return{model_mini:{min:"3.6.0"},model_touch:{min:"4.7.0"}}}run(){return __awaiter(this,void 0,void 0,(function*(){const{message:e}=yield this.device.commands.typedCall("NostrEncryptMessage","NostrEncryptedMessage",this.params);return{path:serializedPath(this.params.address_n),pubkey:this.params.pubkey,plaintext:this.params.msg,encryptedMessage:e.msg}}))}},nostrDecryptMessage:class NostrDecryptMessage extends BaseMethod{constructor(){super(...arguments),this.hasBundle=!1}init(){var e;this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,_e];const{payload:t}=this;validateParams(t,[{name:"path",required:!0},{name:"pubkey",required:!0,type:"string"},{name:"ciphertext",required:!0,type:"string"},{name:"showOnOneKey",type:"boolean"}]);const r=validatePath(t.path,5);this.params={address_n:r,pubkey:t.pubkey,msg:t.ciphertext,show_display:null===(e=t.showOnOneKey)||void 0===e||e}}getVersionRange(){return{model_mini:{min:"3.6.0"},model_touch:{min:"4.7.0"}}}run(){return __awaiter(this,void 0,void 0,(function*(){const{message:e}=yield this.device.commands.typedCall("NostrDecryptMessage","NostrDecryptedMessage",this.params);return{path:serializedPath(this.params.address_n),pubkey:this.params.pubkey,ciphertext:this.params.msg,decryptedMessage:e.msg}}))}},nostrSignSchnorr:class NostrSignSchnorr extends BaseMethod{constructor(){super(...arguments),this.hasBundle=!1}init(){this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,_e];const{payload:e}=this;validateParams(e,[{name:"path",required:!0},{name:"hash",required:!0,type:"string"}]);const t=validatePath(e.path,5);this.params={address_n:t,hash:e.hash}}getVersionRange(){return{model_mini:{min:"3.6.0"},model_touch:{min:"4.7.0"}}}run(){return __awaiter(this,void 0,void 0,(function*(){const{message:e}=yield this.device.commands.typedCall("NostrSignSchnorr","NostrSignedSchnorr",this.params);return{path:serializedPath(this.params.address_n),rawHash:this.params.hash,signature:e.signature}}))}},lnurlAuth:class LnurlAuth1 extends BaseMethod{constructor(){super(...arguments),this.hasBundle=!1}init(){this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,_e];const{payload:e}=this;validateParams(e,[{name:"domain",type:"string",required:!0},{name:"k1",type:"string",required:!0}]),this.params={domain:bytesToHex(Buffer.from(e.domain,"utf-8")),data:bytesToHex(Buffer.from(e.k1,"hex"))}}getVersionRange(){return{model_mini:{min:"3.7.0"},model_touch:{min:"4.8.0"}}}run(){return __awaiter(this,void 0,void 0,(function*(){const{message:e}=yield this.device.commands.typedCall("LnurlAuth","LnurlAuthResp",this.params);return validateResult(e,["publickey","path"]),e}))}},nervosGetAddress:class NervosGetAddress extends BaseMethod{constructor(){super(...arguments),this.hasBundle=!1}init(){var e;this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,_e],this.hasBundle=!!(null===(e=this.payload)||void 0===e?void 0:e.bundle);const t=this.hasBundle?this.payload:{bundle:[this.payload]};validateParams(t,[{name:"bundle",type:"array"}]),this.params=[],t.bundle.forEach((e=>{var t;const r=validatePath(e.path,3);validateParams(e,[{name:"path",required:!0},{name:"showOnOneKey",type:"boolean"},{name:"network",type:"string"}]);const i=null===(t=e.showOnOneKey)||void 0===t||t;this.params.push({address_n:r,show_display:i,network:e.network})}))}getVersionRange(){return{model_mini:{min:"3.7.0"},model_touch:{min:"4.9.0"}}}run(){return __awaiter(this,void 0,void 0,(function*(){const e=[];for(let t=0;t<this.params.length;t++){const r=this.params[t],i=yield this.device.commands.typedCall("NervosGetAddress","NervosAddress",Object.assign({},r)),{address:n}=i.message,s={path:serializedPath(r.address_n),address:n};e.push(s),this.postPreviousAddressMessage(s)}return validateResult(e,["address"],{expectedLength:this.params.length}),Promise.resolve(this.hasBundle?e:e[0])}))}},nervosSignTransaction:class NervosSignTransaction extends BaseMethod{constructor(){super(...arguments),this.hasBundle=!1,this.chunkByteSize=1024,this.processTxRequest=(e,t,r,i=0)=>__awaiter(this,void 0,void 0,(function*(){var n,s;if("NervosSignedTx"===t.type){if(!(null===(n=null==t?void 0:t.message)||void 0===n?void 0:n.signature))throw new Error("No signature returned");return Object.assign(Object.assign({},t.message),{path:serializedPath(this.params.address_n)})}const{data_length:a}=t.message;if(!a){if(!(null===(s=null==t?void 0:t.message)||void 0===s?void 0:s.signature))throw new Error("No signature returned");return Object.assign(Object.assign({},t.message),{path:serializedPath(this.params.address_n)})}const o=r.subarray(i,i+a),d=i+o.length,l={data_chunk:u.bytesToHex(o)},c=yield e("NervosTxAck",["NervosSignedTx","NervosTxRequest"],Object.assign({},l));return this.processTxRequest(e,c,r,d)}))}init(){this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode],validateParams(this.payload,[{name:"path",required:!0},{name:"rawTx",type:"hexString",required:!0},{name:"witnessHex",type:"hexString",required:!0},{name:"network",type:"string",required:!0}]);const{path:e,rawTx:t,witnessHex:r,network:i}=this.payload,n=validatePath(e,3);this.params={address_n:n,raw_tx:Buffer.from(formatAnyHex(t),"hex"),witness_buffer:formatAnyHex(r),network:i}}getVersionRange(){return{model_mini:{min:"3.7.0"},model_touch:{min:"4.9.0"}}}run(){return __awaiter(this,void 0,void 0,(function*(){const e=this.params.raw_tx.length,t=e,r=this.params.raw_tx,i=this.device.getCommands().typedCall.bind(this.device.getCommands()),n=yield i("NervosSignTx","NervosSignedTx",{address_n:this.params.address_n,data_initial_chunk:u.bytesToHex(r.subarray(0,t)),data_length:e,witness_buffer:this.params.witness_buffer,network:this.params.network});return this.processTxRequest(i,n,r,t)}))}},dnxGetAddress:class DnxGetAddress extends BaseMethod{constructor(){super(...arguments),this.hasBundle=!1}init(){var e;this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,_e],this.hasBundle=!!(null===(e=this.payload)||void 0===e?void 0:e.bundle);const t=this.hasBundle?this.payload:{bundle:[this.payload]};validateParams(t,[{name:"bundle",type:"array"}]),this.params=[],t.bundle.forEach((e=>{var t;const r=validatePath(e.path,3);validateParams(e,[{name:"path",required:!0},{name:"showOnOneKey",type:"boolean"}]);const i=null===(t=e.showOnOneKey)||void 0===t||t;this.params.push({address_n:r,show_display:i})}))}getVersionRange(){return{classic:{min:"3.8.0"}}}run(){return __awaiter(this,void 0,void 0,(function*(){const e=[];for(let t=0;t<this.params.length;t++){const r=this.params[t],i=yield this.device.commands.typedCall("DnxGetAddress","DnxAddress",Object.assign({},r)),{address:n}=i.message,s={path:serializedPath(r.address_n),address:n};e.push(s),this.postPreviousAddressMessage(s)}return validateResult(e,["address"],{expectedLength:this.params.length}),Promise.resolve(this.hasBundle?e:e[0])}))}},dnxSignTransaction:class DnxSignTransaction extends BaseMethod{constructor(){super(...arguments),this.hasBundle=!1}init(){this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,_e];const{payload:e}=this,t=validatePath(e.path,3);if(validateParams(e,[{name:"path",required:!0},{name:"inputs",type:"array",required:!0},{name:"toAddress",type:"string",required:!0},{name:"amount",required:!0},{name:"fee",required:!0},{name:"paymentIdHex",type:"string"}]),e.paymentIdHex&&64!==stripHexPrefix(e.paymentIdHex).length)throw new Error("Payment ID must be 32 bytes long");this.params={address_n:t,inputs_count:e.inputs.length,to_address:e.toAddress,amount:e.amount,fee:e.fee},e.paymentIdHex&&(this.params.payment_id=stripHexPrefix(e.paymentIdHex))}getVersionRange(){return{classic:{min:"3.8.0"}}}processTxRequest(e,t,r){var i,n;return __awaiter(this,void 0,void 0,(function*(){if("DnxInputRequest"===t.type){const{inputs:s}=this.payload,{request_index:a,tx_key:o,computed_key_image:d}=t.message;if((null==o?void 0:o.ephemeral_tx_sec_key)&&(null==o?void 0:o.ephemeral_tx_pub_key)&&(r=Object.assign(Object.assign({},r),{txKey:{ephemeralTxSecKey:o.ephemeral_tx_sec_key,ephemeralTxPubKey:o.ephemeral_tx_pub_key}})),(null==d?void 0:d.key_image)&&(r=Object.assign(Object.assign({},r),{computedKeyImages:[...null!==(i=r.computedKeyImages)&&void 0!==i?i:[],d.key_image]})),a){const t=s[a-1],i=yield e("DnxInputAck","DnxInputRequest",{prev_index:t.prevIndex,global_index:t.globalIndex,tx_pubkey:t.txPubkey,prev_out_pubkey:t.prevOutPubkey,amount:t.amount});return this.processTxRequest(e,i,r)}const u=yield e("DnxRTSigsRequest","DnxSignedTx",{});if(null==r.txKey||null==r.txKey.ephemeralTxSecKey||null==r.txKey.ephemeralTxPubKey)throw new Error("signatures or tx_key missing in response");return{path:serializedPath(this.params.address_n),txKey:r.txKey,computedKeyImages:null!==(n=r.computedKeyImages)&&void 0!==n?n:[],signatures:u.message.signatures,outputKeys:u.message.output_keys}}throw new Error("Unexpected response")}))}run(){return __awaiter(this,void 0,void 0,(function*(){const e=this.device.getCommands().typedCall.bind(this.device.getCommands()),t=yield this.device.commands.typedCall("DnxSignTx","DnxInputRequest",Object.assign({},this.params));return this.processTxRequest(e,t,{})}))}},tonGetAddress:class TonGetAddress extends BaseMethod{constructor(){super(...arguments),this.hasBundle=!1,this.shouldConfirm=!1}init(){var e;this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,_e],this.hasBundle=!!(null===(e=this.payload)||void 0===e?void 0:e.bundle);const t=this.hasBundle?this.payload:{bundle:[this.payload]};this.shouldConfirm=!!this.hasBundle&&this.payload.bundle.some((e=>!!e.showOnOneKey)),validateParams(t,[{name:"bundle",type:"array"}]),this.params=[],t.bundle.forEach((e=>{var t;const r=validatePath(e.path,3);validateParams(e,[{name:"path",required:!0},{name:"showOnOneKey",type:"boolean"},{name:"walletVersion"},{name:"isBounceable",type:"boolean"},{name:"isTestnetOnly",type:"boolean"},{name:"workchain"},{name:"walletId",type:"number"}]);const i=null===(t=e.showOnOneKey)||void 0===t||t;this.params.push({address_n:r,show_display:i,wallet_version:e.walletVersion,is_bounceable:e.isBounceable,is_testnet_only:e.isTestnetOnly,workchain:e.workchain,wallet_id:e.walletId})}))}getVersionRange(){return{model_touch:{min:"4.10.0"}}}run(){return __awaiter(this,void 0,void 0,(function*(){const e=[];for(let t=0;t<this.params.length;t++){const r=this.params[t],i=yield this.device.commands.typedCall("TonGetAddress","TonAddress",Object.assign({},r)),{address:n,public_key:s}=i.message,a={path:serializedPath(r.address_n),publicKey:s,address:n};e.push(a),this.postPreviousAddressMessage(a)}return validateResult(e,["address","publicKey"],{expectedLength:this.params.length}),Promise.resolve(this.hasBundle?e:e[0])}))}},tonSignMessage:class TonSignMessage extends BaseMethod{init(){this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,_e],validateParams(this.payload,[{name:"path",required:!0},{name:"destination",type:"string"},{name:"jettonMasterAddress",type:"string"},{name:"jettonWalletAddress",type:"string"},{name:"tonAmount"},{name:"jettonAmount"},{name:"fwdFee"},{name:"comment",type:"string"},{name:"isRawData",type:"boolean"},{name:"mode",type:"number"},{name:"seqno",type:"number"},{name:"expireAt"},{name:"walletVersion"},{name:"walletId",type:"number"},{name:"workchain"},{name:"isBounceable",type:"boolean"},{name:"isTestnetOnly",type:"boolean"},{name:"extDestination",type:"array"},{name:"extTonAmount",type:"array"},{name:"extPayload",type:"array"}]);const{path:e}=this.payload,t=validatePath(e,3);this.params={address_n:t,destination:this.payload.destination,jetton_master_address:this.payload.jettonMasterAddress,jetton_wallet_address:this.payload.jettonWalletAddress,ton_amount:this.payload.tonAmount,fwd_fee:this.payload.fwdFee,comment:this.payload.comment,mode:this.payload.mode,is_raw_data:this.payload.isRawData,seqno:this.payload.seqno,expire_at:this.payload.expireAt,wallet_version:this.payload.walletVersion,wallet_id:this.payload.walletId,workchain:this.payload.workchain,is_bounceable:this.payload.isBounceable,is_testnet_only:this.payload.isTestnetOnly,ext_destination:this.payload.extDestination,ext_ton_amount:this.payload.extTonAmount,ext_payload:this.payload.extPayload}}getVersionRange(){return{model_touch:{min:"4.10.0"},classic1s:{min:"3.10.0"}}}getSupportJettonAmountBytesVersionRange(){return{pro:{min:"4.10.2"}}}checkSupportJettonAmountBytes(){var e;const t=null===(e=getDeviceFirmwareVersion(this.device.features))||void 0===e?void 0:e.join("."),r=getMethodVersionRange(this.device.features,(e=>this.getSupportJettonAmountBytesVersionRange()[e]));return!r||!(!v.default.valid(t)||!v.default.gte(t,r.min))}getFixCommentErrorVersionRange(){return{pro:{min:"4.10.1"}}}checkFixCommentError(){var e;const{comment:t,jettonAmount:r}=this.payload;if(a.isEmpty(t)||null==r)return;const i=null===(e=getDeviceFirmwareVersion(this.device.features))||void 0===e?void 0:e.join("."),s=getMethodVersionRange(this.device.features,(e=>this.getFixCommentErrorVersionRange()[e]));if(s&&v.default.valid(i)&&v.default.lt(i,s.min))throw n.ERRORS.TypedError(n.HardwareErrorCode.CallMethodNeedUpgradeFirmware,`Device firmware version is too low, please update to ${s.min}`,{current:i,require:s.min})}run(){return __awaiter(this,void 0,void 0,(function*(){this.checkFixCommentError();const{jettonAmount:e}=this.payload;e&&(this.checkSupportJettonAmountBytes()?this.params.jetton_amount_bytes=stripHexStartZeroes(formatAnyHex(new E.default(e).toString(16))):this.params.jetton_amount=e);const t=getDeviceType(this.device.features),r=yield this.device.commands.typedCall("TonSignMessage","TonSignedMessage",Object.assign({},this.params));return Promise.resolve(Object.assign(Object.assign({},r.message),{skip_validate:P.model_mini.includes(t)}))}))}},tonSignProof:class TonSignProof extends BaseMethod{init(){this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,_e],validateParams(this.payload,[{name:"path",required:!0},{name:"appdomain",type:"string"},{name:"comment",type:"string"},{name:"expireAt"},{name:"walletVersion"},{name:"walletId",type:"number"},{name:"workchain"},{name:"isBounceable",type:"boolean"},{name:"isTestnetOnly",type:"boolean"}]);const{path:e}=this.payload,t=validatePath(e,3);this.params={address_n:t,appdomain:this.payload.appdomain,comment:this.payload.comment,expire_at:this.payload.expireAt,wallet_version:this.payload.walletVersion,wallet_id:this.payload.walletId,workchain:this.payload.workchain,is_bounceable:this.payload.isBounceable,is_testnet_only:this.payload.isTestnetOnly}}getVersionRange(){return{model_touch:{min:"4.10.0"}}}run(){return __awaiter(this,void 0,void 0,(function*(){const e=yield this.device.commands.typedCall("TonSignProof","TonSignedProof",Object.assign({},this.params));return Promise.resolve(e.message)}))}},scdoGetAddress:class ScdoGetAddress extends BaseMethod{constructor(){super(...arguments),this.hasBundle=!1}init(){var e;this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,_e],this.hasBundle=!!(null===(e=this.payload)||void 0===e?void 0:e.bundle);const t=this.hasBundle?this.payload:{bundle:[this.payload]};validateParams(t,[{name:"bundle",type:"array"}]),this.params=[],t.bundle.forEach((e=>{var t;const r=validatePath(e.path,3);validateParams(e,[{name:"path",required:!0},{name:"showOnOneKey",type:"boolean"}]);const i=null===(t=e.showOnOneKey)||void 0===t||t;this.params.push({address_n:r,show_display:i})}))}getVersionRange(){return{model_touch:{min:"4.10.0"}}}run(){return __awaiter(this,void 0,void 0,(function*(){const e=[];for(let t=0;t<this.params.length;t++){const r=this.params[t],i=yield this.device.commands.typedCall("ScdoGetAddress","ScdoAddress",Object.assign({},r)),{address:n}=i.message,s={path:serializedPath(r.address_n),address:n};e.push(s),this.postPreviousAddressMessage(s)}return validateResult(e,["address"],{expectedLength:this.params.length}),Promise.resolve(this.hasBundle?e:e[0])}))}},scdoSignTransaction:class ScdoSignTransaction extends BaseMethod{constructor(){super(...arguments),this.chunkByteSize=1024,this.processTxRequest=(e,t,r,i=0)=>__awaiter(this,void 0,void 0,(function*(){const{data_length:n}=t.message;if(!n)return t.message;const s=r.subarray(i,i+n),a=i+s.length,o={data_chunk:u.bytesToHex(s)},d=yield e("ScdoTxAck","ScdoSignedTx",Object.assign({},o));return this.processTxRequest(e,d,r,a)}))}init(){this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,_e],validateParams(this.payload,[{name:"path",required:!0},{name:"nonce",required:!0},{name:"gasPrice",required:!0,type:"string"},{name:"gasLimit",required:!0,type:"string"},{name:"to",required:!0,type:"string"},{name:"value",required:!0,type:"string"},{name:"timestamp",required:!0,type:"string"},{name:"data",type:"hexString"},{name:"txType",type:"number"}]);const{path:e,nonce:t,gasPrice:r,gasLimit:i,to:n,value:s,timestamp:a,txType:o}=this.payload,d=validatePath(e,3);this.params={address_n:d,nonce:stripHexStartZeroes(formatAnyHex(t)),gas_price:stripHexStartZeroes(formatAnyHex(r)),gas_limit:stripHexStartZeroes(formatAnyHex(i)),to:n,value:stripHexStartZeroes(formatAnyHex(s)),timestamp:a?stripHexStartZeroes(formatAnyHex(a)):void 0,tx_type:o}}getVersionRange(){return{model_touch:{min:"4.10.0"}}}run(){var e;return __awaiter(this,void 0,void 0,(function*(){const t=this.device.getCommands().typedCall.bind(this.device.getCommands()),r=null===(e=this.payload)||void 0===e?void 0:e.data,i=r&&Buffer.from(stripHexStartZeroes(formatAnyHex(r)),"hex"),n=this.chunkByteSize;i&&i.length>0&&(this.params.data_initial_chunk=u.bytesToHex(i.subarray(0,this.chunkByteSize)),this.params.data_length=i.length);const s=yield t("ScdoSignTx",["ScdoSignedTx"],Object.assign({},this.params));return this.processTxRequest(t,s,i,n)}))}},scdoSignMessage:class ScdoSignMessage extends BaseMethod{init(){this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,_e],validateParams(this.payload,[{name:"path",required:!0},{name:"messageHex",type:"hexString",required:!0}]);const{path:e,messageHex:t}=this.payload,r=validatePath(e,3);this.params={address_n:r,message:stripHexPrefix(t)}}getVersionRange(){return{model_touch:{min:"4.10.0"}}}run(){return __awaiter(this,void 0,void 0,(function*(){const e=yield this.device.commands.typedCall("ScdoSignMessage","ScdoSignedMessage",Object.assign({},this.params));return Promise.resolve(e.message)}))}},alephiumGetAddress:class AlephiumGetAddress extends BaseMethod{constructor(){super(...arguments),this.hasBundle=!1}init(){var e;this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,_e],this.hasBundle=!!(null===(e=this.payload)||void 0===e?void 0:e.bundle);const t=this.hasBundle?this.payload:{bundle:[this.payload]};validateParams(t,[{name:"bundle",type:"array"}]),this.params=[],t.bundle.forEach((e=>{var t,r,i;const n=validatePath(e.path,3);validateParams(e,[{name:"path",required:!0},{name:"showOnOneKey",type:"boolean"},{name:"includePublicKey",type:"boolean"},{name:"group",type:"number"}]);const s=null===(t=e.showOnOneKey)||void 0===t||t;this.params.push(Object.assign({address_n:n,show_display:s,include_public_key:null!==(r=e.includePublicKey)&&void 0!==r&&r},null!==e.group&&{target_group:null!==(i=e.group)&&void 0!==i?i:0}))}))}getVersionRange(){return{model_touch:{min:"4.10.0"}}}run(){return __awaiter(this,void 0,void 0,(function*(){const e=[];for(let t=0;t<this.params.length;t++){const r=this.params[t],i=yield this.device.commands.typedCall("AlephiumGetAddress","AlephiumAddress",Object.assign({},r)),{address:n}=i.message,s={path:serializedPath(r.address_n),address:n,publicKey:r.include_public_key?i.message.public_key:void 0,derivedPath:serializedPath(i.message.derived_path)};e.push(s),this.postPreviousAddressMessage(s)}return validateResult(e,["address"],{expectedLength:this.params.length}),Promise.resolve(this.hasBundle?e:e[0])}))}},alephiumSignTransaction:class AlephiumSignTransaction extends BaseMethod{constructor(){super(...arguments),this.chunkByteSize=1024,this.processTxRequest=(e,t,r,i,s=0)=>__awaiter(this,void 0,void 0,(function*(){if("AlephiumSignedTx"===t.type)return t.message;const{data_length:a}=t.message;let o;if("AlephiumTxRequest"===t.type){if(!a)return t.message;const n=r.subarray(s,s+a),d=s+n.length,l={data_chunk:u.bytesToHex(n)};return o=yield e("AlephiumTxAck",["AlephiumSignedTx","AlephiumTxRequest","AlephiumBytecodeRequest"],Object.assign({},l)),this.processTxRequest(e,o,r,i,d)}if("AlephiumBytecodeRequest"===t.type){if(!(null==i?void 0:i.length))throw n.ERRORS.TypedError(n.HardwareErrorCode.RuntimeError,"scriptOpt is required");const t={bytecode_data:u.bytesToHex(i)};return o=yield e("AlephiumBytecodeAck",["AlephiumSignedTx","AlephiumBytecodeRequest"],Object.assign({},t)),this.processTxRequest(e,o,r,i,s)}throw n.ERRORS.TypedError(n.HardwareErrorCode.RuntimeError,`Unknown response type: ${t.type}`)}))}init(){this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,_e],validateParams(this.payload,[{name:"path",required:!0},{name:"rawTx",required:!0,type:"hexString"},{name:"scriptOpt",type:"string"}]);const{path:e}=this.payload,t=validatePath(e,3);this.params={address_n:t,data_initial_chunk:"",data_length:0}}getVersionRange(){return{model_touch:{min:"4.10.0"}}}run(){return __awaiter(this,void 0,void 0,(function*(){const e=this.device.getCommands().typedCall.bind(this.device.getCommands()),t=this.chunkByteSize,r=Buffer.from(this.payload.rawTx,"hex"),i=this.payload.scriptOpt&&Buffer.from(this.payload.scriptOpt,"hex");this.params={address_n:this.params.address_n,data_initial_chunk:u.bytesToHex(r.subarray(0,this.chunkByteSize)),data_length:r.length};const n=yield e("AlephiumSignTx",["AlephiumSignedTx","AlephiumTxRequest","AlephiumBytecodeRequest"],Object.assign({},this.params));return this.processTxRequest(e,n,r,i,t)}))}},alephiumSignMessage:class AlephiumSignMessage extends BaseMethod{init(){this.checkDeviceId=!0,this.notAllowDeviceMode=[...this.notAllowDeviceMode,_e],validateParams(this.payload,[{name:"path",required:!0},{name:"messageHex",type:"hexString",required:!0},{name:"messageType",type:"string"}]);const{path:e,messageHex:t,messageType:r}=this.payload,i=validatePath(e,3);this.params={address_n:i,message:stripHexPrefix(t),message_type:Buffer.from(null!=r?r:"alephium","utf-8").toString("hex")}}getVersionRange(){return{model_touch:{min:"4.10.0"}}}run(){return __awaiter(this,void 0,void 0,(function*(){const e=yield this.device.commands.typedCall("AlephiumSignMessage","AlephiumMessageSignature",Object.assign({},this.params));return Promise.resolve(e.message)}))}}});function findMethod(e){const{method:t}=e.payload;if("string"!=typeof t)throw n.ERRORS.TypedError(n.HardwareErrorCode.CallMethodInvalidParameter,"Method is not set");const r=et[t];if(r)return new r(e);throw n.ERRORS.TypedError(n.HardwareErrorCode.CallMethodInvalidParameter,`Method ${t} is not set`)}const tt=getLogger(t.d3.DeviceConnector);class DeviceConnector{constructor(){this.listenTimestamp=0,this.current=null,this.upcoming=[],this.listening=!1,TransportManager.load(),this.transport=TransportManager.getTransport(),DevicePool.setConnector(this)}enumerate(){return __awaiter(this,void 0,void 0,(function*(){try{const e=yield this.transport.enumerate();return this.upcoming=e,this._reportDevicesChange(),{descriptors:e}}catch(e){safeThrowError(e)}}))}listen(){return __awaiter(this,void 0,void 0,(function*(){const e=null!==this.current,t=this.current||[];let r;this.listening=!0;try{if(tt.debug("Start listening",t),this.listenTimestamp=(new Date).getTime(),r=e?yield this.transport.listen(t):yield this.transport.enumerate(),!this.listening)return;this.upcoming=r,tt.debug("Listen result",r),this._reportDevicesChange(),this.listening&&this.listen()}catch(e){const t=(new Date).getTime()-this.listenTimestamp;tt.debug("Listen error","timestamp",t,typeof e),t>1100?(yield(i=1e3,n=null,new Promise((e=>{setTimeout(e,i,n)}))),this.listening&&this.listen()):tt.warn("Transport error")}var i,n}))}stop(){this.listening=!1}acquire(e,t,r){return __awaiter(this,void 0,void 0,(function*(){tt.debug("acquire",e,t);const i=DataManager.getSettings("env");try{let n;return n=DataManager.isBleConnect(i)?yield this.transport.acquire({uuid:e,forceCleanRunPromise:r}):yield this.transport.acquire({path:e,previous:null!=t?t:null}),n}catch(e){tt.debug("acquire error: ",e.message),safeThrowError(e)}}))}release(e,t){return __awaiter(this,void 0,void 0,(function*(){try{return yield this.transport.release(e,t)}catch(e){safeThrowError(e)}}))}_reportDevicesChange(){DevicePool.reportDeviceChange(this.upcoming)}}const rt=getLogger(t.d3.Core);function hasDeriveCardano(e){var t;return!!(e.name.startsWith("allNetworkGetAddress")&&e.payload&&e.payload.bundle&&e.payload.bundle.some((e=>e&&"ada"===e.network)))||(e.name.startsWith("cardano")||(null===(t=e.payload)||void 0===t?void 0:t.deriveCardano))}const parseInitOptions=e=>({initSession:null==e?void 0:e.payload.initSession,passphraseState:null==e?void 0:e.payload.passphraseState,deviceId:null==e?void 0:e.payload.deviceId,deriveCardano:e&&hasDeriveCardano(e)});let it,nt,st,at,ot=[];const dt=[],ut=new Map;let ct=1;const pt={};let ht={passphraseState:void 0};const callAPI=e=>__awaiter(void 0,void 0,void 0,(function*(){var t;if(!e.id||!e.payload||e.type!==ne.CALL)return Promise.reject(n.ERRORS.TypedError("on call: message.id or message.payload is missing"));let r,i;try{r=findMethod(e),r.connector=st,r.postMessage=postMessage,r.init()}catch(e){return Promise.reject(e)}if(DevicePool.emitter.on(de.CONNECT,onDeviceConnectHandler),!r.useDevice)try{const e=yield r.run();return createResponseMessage(r.responseID,!0,e)}catch(e){return createResponseMessage(r.responseID,!1,{error:e})}dt.push(r),dt.length>1&&rt.debug("should cancel the previous method execution: ",dt.map((e=>e.name)));const s=ht.passphraseState!==r.payload.passphraseState;let a;ht={passphraseState:r.payload.passphraseState},(s||r.payload.initSession)&&(rt.debug("passphrase state change, clear device cache"),DevicePool.clearDeviceCache(r.payload.connectId)),pt[ct]&&(pt[ct]=!1),ct+=1;try{a=yield ensureConnected(r,ct)}catch(e){return createResponseMessage(r.responseID,!1,{error:e})}rt.debug("Call API - setDevice: ",a.mainId),null===(t=r.setDevice)||void 0===t||t.call(r,a),a.on(de.PIN,onDevicePinHandler),a.on(de.BUTTON,onDeviceButtonHandler),a.on(de.PASSPHRASE,e.payload.useEmptyPassphrase?onEmptyPassphraseHandler:onDevicePassphraseHandler),a.on(de.PASSPHRASE_ON_DEVICE,onEnterPassphraseOnDeviceHandler),a.on(de.FEATURES,onDeviceFeaturesHandler);try{const inner=()=>__awaiter(void 0,void 0,void 0,(function*(){var e;const t=getMethodVersionRange(a.features,(e=>r.getVersionRange()[e]));if(a.features){yield DataManager.checkAndReloadData();const e=DataManager.getFirmwareStatus(a.features),i=DataManager.getBLEFirmwareStatus(a.features);if(("required"===e||"required"===i)&&!1===r.skipForceUpdateCheck)throw n.ERRORS.TypedError(n.HardwareErrorCode.NewFirmwareForceUpdate,"Device firmware version is too low, please update to the latest version",{connectId:r.connectId,deviceId:r.deviceId});if(t){const r=getDeviceFirmwareVersion(a.features).join(".");if(v.default.valid(t.min)&&v.default.lt(r,t.min)){if("none"===e||"valid"===e)throw n.ERRORS.TypedError(n.HardwareErrorCode.NewFirmwareUnRelease);return Promise.reject(n.ERRORS.TypedError(n.HardwareErrorCode.CallMethodNeedUpgradeFirmware,`Device firmware version is too low, please update to ${t.min}`,{current:r,require:t.min}))}if(t.max&&v.default.valid(t.max)&&v.default.gte(r,t.max))return Promise.reject(n.ERRORS.TypedError(n.HardwareErrorCode.CallMethodDeprecated,`Device firmware version is too high, this method has been deprecated in ${t.max}`,{current:r,deprecated:t.max}))}}const s=a.hasUnexpectedMode(r.notAllowDeviceMode,r.requireDeviceMode);if(s)return s===ve?Promise.reject(n.ERRORS.TypedError(n.HardwareErrorCode.RequiredButInBootloaderMode)):s===be?Promise.reject(n.ERRORS.TypedError(n.HardwareErrorCode.NotAllowInBootloaderMode)):Promise.reject(n.ERRORS.TypedError(n.HardwareErrorCode.DeviceUnexpectedMode,s));if(r.deviceId&&r.checkDeviceId){if(!a.checkDeviceId(r.deviceId))return Promise.reject(n.ERRORS.TypedError(n.HardwareErrorCode.DeviceCheckDeviceIdError))}if(r.checkFirmwareRelease(),r.checkDeviceSupportFeature(),nt&&(yield TransportManager.reconfigure(a.features)),checkPassphraseEnableState(r,a.features),a.hasUsePassphrase()&&r.useDevicePassphraseState){const t=(e=>{if(!e)return{support:!1};const t=getDeviceType(e);if("touch"===t||"pro"===t)return{support:!0};const r=getDeviceFirmwareVersion(e).join(".");return{support:v.default.gte(r,"2.4.0"),require:"2.4.0"}})(a.features);if(!t.support)return Promise.reject(n.ERRORS.TypedError(n.HardwareErrorCode.DeviceNotSupportPassphrase,`Device not support passphrase, please update to ${t.require}`,{require:t.require}));const i=yield a.checkPassphraseStateSafety(null===(e=r.payload)||void 0===e?void 0:e.passphraseState);if(checkPassphraseEnableState(r,a.features),!i)return DevicePool.clearDeviceCache(r.payload.connectId),Promise.reject(n.ERRORS.TypedError(n.HardwareErrorCode.DeviceCheckPassphraseStateError))}try{yield r.checkSafetyLevelOnTestNet()}catch(e){const t=e instanceof n.HardwareError?e:n.ERRORS.TypedError(n.HardwareErrorCode.RuntimeError,"open safety check failed.");return i=createResponseMessage(r.responseID,!1,{error:t}),void(null==at||at.resolve(i))}try{const e=yield r.run();rt.debug("Call API - Inner Method Run: "),i=createResponseMessage(r.responseID,!0,e),null==at||at.resolve(i)}catch(e){rt.debug("Call API - Inner Method Run Error: ",e),i=createResponseMessage(r.responseID,!1,{error:e}),null==at||at.resolve(i)}}));rt.debug("Call API - Device Run: ",a.mainId);const e=Object.assign({keepSession:r.payload.keepSession},parseInitOptions(r)),deviceRun=()=>a.run(inner,e);at=n.createDeferred(deviceRun);try{return yield at.promise}catch(e){return rt.debug("Device Run Error: ",e),createResponseMessage(r.responseID,!1,{error:e})}}catch(e){i=createResponseMessage(r.responseID,!1,{error:e}),null==at||at.reject(n.ERRORS.TypedError(n.HardwareErrorCode.CallMethodError,e.message)),rt.debug("Call API - Run Error: ",e)}finally{i&&r&&r.dispose();const e=r.responseID?dt.findIndex((e=>e.responseID===r.responseID)):-1;e>-1&&(dt.splice(e,1),rt.debug("Remove the finished method from the queue： ",dt.map((e=>e.name)))),closePopup(),cleanup(),removeDeviceListener(a)}}));function initDevice(e){var t;if(!nt)throw n.ERRORS.TypedError(n.HardwareErrorCode.DeviceListNotInitialized);let r;const i=nt.allDevices();if((null===(t=e.payload)||void 0===t?void 0:t.detectBootloaderDevice)&&i.some((e=>{var t;return null===(t=e.features)||void 0===t?void 0:t.bootloader_mode})))throw n.ERRORS.TypedError(n.HardwareErrorCode.DeviceDetectInBootloaderMode);if(e.connectId)r=nt.getDevice(e.connectId);else if(1===i.length)[r]=i;else if(i.length>1)throw n.ERRORS.TypedError(["firmwareUpdateV2","checkFirmwareRelease","checkBootloaderRelease","checkBLEFirmwareRelease"].includes(e.name)?n.HardwareErrorCode.FirmwareUpdateLimitOneDevice:n.HardwareErrorCode.SelectDevice);if(!r)throw n.ERRORS.TypedError(n.HardwareErrorCode.DeviceNotFound);return r.deviceConnector=st,r}function initDeviceForBle(e){if(!e.connectId&&!nt)throw n.ERRORS.TypedError(n.HardwareErrorCode.DeviceListNotInitialized);if(!e.connectId)return initDevice(e);let t;return ut.has(e.connectId)?t=ut.get(e.connectId):(t=Device.fromDescriptor({id:e.connectId}),ut.set(e.connectId,t)),t.deviceConnector=st,t}let yt=0;function connectDeviceForBle(e,t){return __awaiter(this,void 0,void 0,(function*(){try{yield t.acquire(),yield t.initialize(parseInitOptions(e))}catch(r){if(!(r.errorCode===n.HardwareErrorCode.BleTimeoutError&&yt<=5))throw r;yt+=1,rt.debug(`Bletooth connect timeout and will retry, retry count: ${yt}`),yield wait(3e3),yield connectDeviceForBle(e,t)}}))}const ensureConnected=(e,t)=>__awaiter(void 0,void 0,void 0,(function*(){let r=0;const i=e.payload&&"number"==typeof e.payload.retryCount?e.payload.retryCount:5,s=e.payload&&e.payload.pollIntervalTime||1e3,a=e.payload&&e.payload.timeout||1e4;let o=null;rt.debug(`EnsureConnected function start, MAX_RETRY_COUNT=${i}, POLL_INTERVAL_TIME=${s}  `);const poll=(d=s)=>__awaiter(void 0,void 0,void 0,(function*(){return new Promise(((s,u)=>__awaiter(void 0,void 0,void 0,(function*(){if(!pt[t])return rt.debug("EnsureConnected function stop, polling id: ",t),void u(n.ERRORS.TypedError(n.HardwareErrorCode.PollingStop));o&&clearTimeout(o),o=setTimeout((()=>{u(n.ERRORS.TypedError(n.HardwareErrorCode.PollingTimeout))}),a),r+=1,rt.debug("EnsureConnected function try count: ",r," poll interval time: ",d);try{yield function initDeviceList(e){return __awaiter(this,void 0,void 0,(function*(){const t=DataManager.getSettings("env");DataManager.isBleConnect(t)&&e.connectId?yield TransportManager.configure():(nt||(nt=new DeviceList,yield TransportManager.configure(),nt.connector=st),yield nt.getDeviceLists(e.connectId,parseInitOptions(e)))}))}(e)}catch(e){if(rt.debug("device list error: ",e),[n.HardwareErrorCode.BridgeNotInstalled,n.HardwareErrorCode.BridgeTimeoutError].includes(e.errorCode))return nt=void 0,void u(e);e.errorCode===n.HardwareErrorCode.TransportNotConfigured&&(yield TransportManager.configure())}const l=DataManager.getSettings("env");let c;try{if(c=DataManager.isBleConnect(l)?initDeviceForBle(e):initDevice(e),c)return o&&clearTimeout(o),DataManager.isBleConnect(l)&&(yt=0,yield connectDeviceForBle(e,c)),void s(c)}catch(e){if(rt.debug("device error: ",e),[n.HardwareErrorCode.BlePermissionError,n.HardwareErrorCode.BleLocationError,n.HardwareErrorCode.BleLocationServicesDisabled,n.HardwareErrorCode.BleDeviceNotBonded,n.HardwareErrorCode.BleDeviceBondError,n.HardwareErrorCode.BleCharacteristicNotifyError,n.HardwareErrorCode.BleTimeoutError,n.HardwareErrorCode.BleWriteCharacteristicError,n.HardwareErrorCode.BleAlreadyConnected,n.HardwareErrorCode.FirmwareUpdateLimitOneDevice,n.HardwareErrorCode.DeviceDetectInBootloaderMode,n.HardwareErrorCode.BleCharacteristicNotifyChangeFailure].includes(e.errorCode))return void u(e)}return r>i?(o&&clearTimeout(o),rt.debug("EnsureConnected get to max try count, will return: ",r),void u(n.ERRORS.TypedError(n.HardwareErrorCode.DeviceNotFound))):setTimeout((()=>s(poll(1.5*d))),d)}))))}));return pt[t]=!0,poll()})),checkPassphraseEnableState=(e,t)=>{if(e.useDevicePassphraseState){if(!0===(null==t?void 0:t.passphrase_protection)&&(null==e.payload.passphraseState||""===e.payload.passphraseState)&&!e.payload.useEmptyPassphrase)throw DevicePool.clearDeviceCache(e.payload.connectId),n.ERRORS.TypedError(n.HardwareErrorCode.DeviceOpenedPassphrase);if(!1===(null==t?void 0:t.passphrase_protection)&&e.payload.passphraseState)throw DevicePool.clearDeviceCache(e.payload.connectId),n.ERRORS.TypedError(n.HardwareErrorCode.DeviceNotOpenedPassphrase)}},cleanup=()=>{ot=[],rt.debug("Cleanup...")},removeDeviceListener=e=>{e.removeAllListeners(),DevicePool.emitter.removeAllListeners(de.CONNECT)},closePopup=()=>{postMessage(createUiMessage(ie.CLOSE_UI_WINDOW))},onDeviceConnectHandler=e=>{const t=DataManager.getSettings("env"),r=DataManager.isBleConnect(t)?e:e.toMessageObject();postMessage(createDeviceMessage(de.CONNECT,{device:r}))},onDeviceDisconnectHandler=e=>{const t=DataManager.getSettings("env"),r=DataManager.isBleConnect(t)?e:e.toMessageObject();postMessage(createDeviceMessage(de.DISCONNECT,{device:r}))},onDevicePinHandler=(...[e,t,r])=>__awaiter(void 0,void 0,void 0,(function*(){rt.log("request Input PIN");const i=createUiPromise(ae.RECEIVE_PIN,e);postMessage(createUiMessage(ie.REQUEST_PIN,{device:e.toMessageObject(),type:t}));const n=yield i.promise;r(null,n.payload)})),onDeviceButtonHandler=(...[e,t])=>{postMessage(createDeviceMessage(de.BUTTON,Object.assign(Object.assign({},t),{device:e.toMessageObject()}))),"ButtonRequest_PinEntry"===t.code?(rt.log("request Confirm Input PIN"),postMessage(createUiMessage(ie.REQUEST_PIN,{device:e.toMessageObject(),type:"ButtonRequest_PinEntry"}))):(rt.log("request Confirm Button"),postMessage(createUiMessage(ie.REQUEST_BUTTON,{device:e.toMessageObject()})))},onDeviceFeaturesHandler=(...[e,t])=>{postMessage(createDeviceMessage(de.FEATURES,Object.assign({},t)))},onDevicePassphraseHandler=(...[e,t])=>__awaiter(void 0,void 0,void 0,(function*(){rt.debug("onDevicePassphraseHandler");const r=createUiPromise(ae.RECEIVE_PASSPHRASE,e);postMessage(createUiMessage(ie.REQUEST_PASSPHRASE,{device:e.toMessageObject(),passphraseState:e.passphraseState}));const i=yield r.promise,{value:n,passphraseOnDevice:s,save:a}=i.payload;t({passphrase:n.normalize("NFKD"),passphraseOnDevice:s,cache:a})})),onEmptyPassphraseHandler=(...[e,t])=>{rt.debug("onEmptyPassphraseHandler"),t({passphrase:""})},onEnterPassphraseOnDeviceHandler=(...[e])=>{postMessage(createUiMessage(ie.REQUEST_PASSPHRASE_ON_DEVICE,{device:e.toMessageObject(),passphraseState:e.passphraseState}))},postMessage=e=>{it.emit(te,e)},createUiPromise=(e,t)=>{const r=n.createDeferred(e,t);return ot.push(r),r};class Core extends M.exports{handleMessage(e){var t,r,i,n;return __awaiter(this,void 0,void 0,(function*(){switch(e.type){case ae.RECEIVE_PIN:case ae.RECEIVE_PASSPHRASE:{const t=(a=e.type,ot.find((e=>e.id===a)));t&&(rt.log("receive UI Response: ",e.type),t.resolve(e),s=t,ot=ot.filter((e=>e!==s)));break}case ie.BLUETOOTH_PERMISSION:case ie.BLUETOOTH_CHARACTERISTIC_NOTIFY_CHANGE_FAILURE:case ie.LOCATION_PERMISSION:case ie.LOCATION_SERVICE_PERMISSION:postMessage(e);break;case ne.CALL:{rt.log("call API: ",e);const s=yield callAPI(e),{success:a,payload:o}=s;return rt.log("call API Response: ",s),a?s:Object.assign(Object.assign({},s),{payload:Object.assign(Object.assign({},o),{connectId:null!==(r=null===(t=e.payload)||void 0===t?void 0:t.connectId)&&void 0!==r?r:"",deviceId:null!==(n=null===(i=e.payload)||void 0===i?void 0:i.deviceId)&&void 0!==n?n:""})})}case ne.CANCEL:rt.log("cancel API: ",e),(e=>{const t=DataManager.getSettings("env");try{if(e){let r;r=DataManager.isBleConnect(t)?initDeviceForBle({connectId:e}):initDevice({connectId:e}),null==r||r.interruptionFromUser()}}catch(e){rt.error("Cancel API Error: ",e)}cleanup(),closePopup()})(e.payload.connectId)}var s,a;return Promise.resolve(e)}))}dispose(){}}t.db=de,t._4=oe,t.zi=ue,t.NH=({init:e,call:t,dispose:r,eventEmitter:i,addHardwareGlobalEventListener:n,uiResponse:s,cancel:a,updateSettings:o})=>(({call:e,cancel:t,dispose:r,eventEmitter:i,init:n,uiResponse:s,updateSettings:a,addHardwareGlobalEventListener:o})=>Object.assign({addHardwareGlobalEventListener:o,removeAllListeners:e=>{i.removeAllListeners(e)},init:n,call:e,dispose:r,uiResponse:s,cancel:t,updateSettings:a,emit:()=>{}},createCoreApi(e)))({init:e,call:t,dispose:r,eventEmitter:i,addHardwareGlobalEventListener:n,uiResponse:s,cancel:a,updateSettings:o}),t.O3=()=>(()=>{let e;const call=t=>e?e.call(t):Promise.resolve(void 0),t=Object.assign(Object.assign({on:(e,t)=>{C.on(e,t)},emit:(e,...t)=>{C.emit(e,...t)},off:(e,t)=>{C.emit(e,t)},init:(t,r)=>{var i;return e=r,null!==(i=null==e?void 0:e.init(t))&&void 0!==i?i:Promise.resolve(!1)},call},createCoreApi(call)),{removeAllListeners:t=>{C.removeAllListeners(t),null==e||e.removeAllListeners(t)},dispose:()=>null==e?void 0:e.dispose(),uiResponse:t=>null==e?void 0:e.uiResponse(t),cancel:t=>null==e?void 0:e.cancel(t),updateSettings:t=>{var r;return null!==(r=null==e?void 0:e.updateSettings(t))&&void 0!==r?r:Promise.resolve(!1)}});return t})(),t.P3=ne,t.i3=Y,t.Qk=ce,t.y2=re,t.Pr=ie,t.Gy=e=>{let t={error:e.message,code:e.code};return e instanceof n.HardwareError&&(t={error:e.message,code:e.errorCode}),{success:!1,payload:t}},t.Ay=({init:e,call:t,dispose:r,eventEmitter:i,uiResponse:n,cancel:s,updateSettings:a})=>(({call:e,cancel:t,dispose:r,eventEmitter:i,init:n,updateSettings:s,uiResponse:a})=>Object.assign({on:(e,t)=>{i.on(e,t)},emit:()=>{},off:(e,t)=>{i.removeListener(e,t)},removeAllListeners:e=>{i.removeAllListeners(e)},init:n,call:e,dispose:r,uiResponse:a,cancel:t,updateSettings:s},createCoreApi(e)))({init:e,call:t,dispose:r,eventEmitter:i,uiResponse:n,cancel:s,updateSettings:a}),t.sp=enableLog,t.tZ=getLogger,t.h1=(e={})=>{const t=Object.assign({},$);let i;Object.prototype.hasOwnProperty.call(e,"debug")&&(t.debug=e.debug),e.isFrame&&(t.parentOrigin=e.parentOrigin),"string"==typeof e.connectSrc&&(t.connectSrc=e.connectSrc),"undefined"!=typeof window?i=window.ONEKEY_CONNECT_SRC:void 0!==r.g&&(i=r.g.ONEKEY_CONNECT_SRC),"string"==typeof i&&(t.connectSrc=corsValidator(i),t.debug=!0);const n=t.connectSrc||W;return t.iframeSrc=`${n}iframe.html`,e.transportReconnect&&(t.transportReconnect=e.transportReconnect),e.lazyLoad&&(t.lazyLoad=e.lazyLoad),"string"==typeof e.env?t.env=e.env:t.env=getEnv(),e.timestamp&&(t.timestamp=e.timestamp),e.preRelease&&(t.preRelease=e.preRelease),e.fetchConfig&&(t.fetchConfig=e.fetchConfig),t},t.vY=e=>{const{data:t}=e,r={event:t.event,type:t.type,payload:t.payload};return"number"==typeof e.id&&(r.id=e.id),"boolean"==typeof r.success&&(r.success=t.success),r},t.ao=setLoggerPostMessage,t.qX=[{origin:"file://"},{origin:"1key.so"},{origin:"onekey.so"},{origin:"onekeycn.com"},{origin:"onekeytest.com"},{origin:"localhost"}]},8219:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(958),n=r(1219),s=r(2943),a=r(1048);function _interopDefaultLegacy(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function _interopNamespace(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(r){if("default"!==r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}})),t.default=e,Object.freeze(t)}var o=_interopNamespace(i),d=_interopNamespace(n),u=_interopDefaultLegacy(s);"function"==typeof SuppressedError&&SuppressedError;const l=["bool","string","bytes","int32","int64","uint32","uint64","sint32","sint64","fixed32","fixed64","sfixed32","sfixed64","double","float"],isPrimitiveField=e=>l.includes(e),transform$1=(e,t)=>e.optional&&void 0===t?null:"bytes"===e.type?u.default.wrap(t).toString("hex"):e.long?Number.isSafeInteger(t.toNumber())?t.toNumber():t.toString():t;function messageToJSON(e,t){const r=function __rest(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]])}return r}(e,[]),i={};return Object.keys(t).forEach((e=>{const n=t[e],s=r[e];if(n.repeated)if(isPrimitiveField(n.type))i[e]=s.map((e=>transform$1(n,e)));else if("valuesById"in n.resolvedType)i[e]=s;else{if(!("fields"in n.resolvedType))throw new Error(`case not handled for repeated key: ${e}`);i[e]=s.map((e=>messageToJSON(e,n.resolvedType.fields)))}else if(isPrimitiveField(n.type))i[e]=transform$1(n,s);else if("valuesById"in n.resolvedType)i[e]=n.resolvedType.valuesById[s];else{if(!n.resolvedType.fields)throw new Error(`case not handled: ${e}`);i[e]=messageToJSON(s,n.resolvedType.fields)}})),i}const transform=(e,t)=>{if("bytes"===e)return"string"!=typeof t||t?a.Buffer.from(t,"hex"):t;if("number"==typeof t&&!Number.isSafeInteger(t))throw new RangeError("field value is not within safe integer range");return t};function patch(e,t){const r={};return e.fields?(Object.keys(e.fields).forEach((i=>{const n=e.fields[i],s=t[i];if(void 0!==s)if(isPrimitiveField(n.type))n.repeated?r[i]=s.map((e=>transform(n.type,e))):r[i]=transform(n.type,s);else if(n.repeated){const t=e.lookupTypeOrEnum(n.type);r[i]=s.map((e=>patch(t,e)))}else if("object"==typeof s&&null!==s){const t=e.lookupType(n.type);r[i]=patch(t,s)}else if("number"==typeof s){const t=e.lookupEnum(n.type);r[i]=t.values[s]}else r[i]=s})),r):r}const encode$1=(e,t)=>{const r=patch(e,t),i=e.fromObject(r),n=e.encode(i).finish(),s=new u.default(n.byteLength);return s.append(n),s.reset(),s};const createMessageFromName=(e,t)=>{const r=e.lookupType(t);let i=e.lookupEnum("MessageType").values[`MessageType_${t}`];return!i&&r.options&&(i=r.options["(wire_type)"]),{Message:r,messageType:i}},c=35,p=8,h=63,decode=e=>{const{typeId:t}=(e=>({typeId:e.readUint16(),length:e.readUint32()}))(e);return{typeId:t,buffer:e}};var y=Object.freeze({__proto__:null,decode,decodeChunked:e=>{const t=u.default.wrap(e,void 0,void 0,!0),{sharp1:r,sharp2:i,typeId:n,length:s}=(e=>({sharp1:e.readByte(),sharp2:e.readByte(),typeId:e.readUint16(),length:e.readUint32()}))(t);if(r!==c||i!==c)throw new Error("Didn't receive expected header signature.");return{length:s,typeId:n,restBuffer:t}}});function encode(e,t){const{addTrezorHeaders:r,chunked:i,messageType:n}=t,s=(r?p:p-2)+e.limit,a=new u.default(s);if(r&&(a.writeByte(c),a.writeByte(c)),a.writeUint16(n),a.writeUint32(e.limit),a.append(e.buffer),a.reset(),!1===i)return a;const o=[],d=h,l=Math.floor((a.limit-1)/d)+1||1;for(let e=0;e<l;e++){const t=e*d,r=Math.min((e+1)*d,a.limit),i=a.slice(t,r);i.compact(),o.push(i.buffer)}return o}const buildEncodeBuffers=(e,t,r)=>{const{Message:i,messageType:n}=createMessageFromName(e,t);return encode(encode$1(i,r),{addTrezorHeaders:!0,chunked:!0,messageType:n})};const g="Wrong result type.";function convertSession(e){if(null==e)return null;if("string"!=typeof e)throw new Error(g);return e}var m,b,v,_,w,E,T,A,M,O,x,k,I,C,B,N,P,D,q,L,j,F,U,z,H,G,W,V,$,Y,X,J,Z,Q,ee,te,re,ie,ne,se,ae,oe,de,ue,le,ce,pe,he,fe,ye,ge,me,be=Object.freeze({__proto__:null,info:function info(e){if("object"!=typeof e||null==e)throw new Error("Wrong result type.");const{version:t}=e;if("string"!=typeof t)throw new Error(g);return{version:t,configured:!!e.configured}},version:function version(e){if("string"!=typeof e)throw new Error(g);return e.trim()},devices:function devices(e){if("object"!=typeof e)throw new Error(g);if(!(e instanceof Array))throw new Error(g);return e.map((e=>{if("object"!=typeof e||null==e)throw new Error(g);const{path:t}=e;if("string"!=typeof t)throw new Error(g);return{path:t.toString(),session:convertSession(e.session),debugSession:convertSession(e.debugSession),product:e.product,vendor:e.vendor,debug:!!e.debug}}))},acquire:function acquire(e){if("object"!=typeof e||null==e)throw new Error(g);const{session:t}=e;if("string"!=typeof t&&"number"!=typeof t)throw new Error(g);return t.toString()},call:function call(e){if("object"!=typeof e||null==e)throw new Error(g);const{type:t}=e;if("string"!=typeof t)throw new Error(g);const{message:r}=e;if("object"!=typeof r||null==r)throw new Error(g);return{type:t,message:r}}});t.BinanceOrderType=void 0,(m=t.BinanceOrderType||(t.BinanceOrderType={}))[m.OT_UNKNOWN=0]="OT_UNKNOWN",m[m.MARKET=1]="MARKET",m[m.LIMIT=2]="LIMIT",m[m.OT_RESERVED=3]="OT_RESERVED",t.BinanceOrderSide=void 0,(b=t.BinanceOrderSide||(t.BinanceOrderSide={}))[b.SIDE_UNKNOWN=0]="SIDE_UNKNOWN",b[b.BUY=1]="BUY",b[b.SELL=2]="SELL",t.BinanceTimeInForce=void 0,(v=t.BinanceTimeInForce||(t.BinanceTimeInForce={}))[v.TIF_UNKNOWN=0]="TIF_UNKNOWN",v[v.GTE=1]="GTE",v[v.TIF_RESERVED=2]="TIF_RESERVED",v[v.IOC=3]="IOC",t.Enum_InputScriptType=void 0,(_=t.Enum_InputScriptType||(t.Enum_InputScriptType={}))[_.SPENDADDRESS=0]="SPENDADDRESS",_[_.SPENDMULTISIG=1]="SPENDMULTISIG",_[_.EXTERNAL=2]="EXTERNAL",_[_.SPENDWITNESS=3]="SPENDWITNESS",_[_.SPENDP2SHWITNESS=4]="SPENDP2SHWITNESS",_[_.SPENDTAPROOT=5]="SPENDTAPROOT",t.Enum_OutputScriptType=void 0,(w=t.Enum_OutputScriptType||(t.Enum_OutputScriptType={}))[w.PAYTOADDRESS=0]="PAYTOADDRESS",w[w.PAYTOSCRIPTHASH=1]="PAYTOSCRIPTHASH",w[w.PAYTOMULTISIG=2]="PAYTOMULTISIG",w[w.PAYTOOPRETURN=3]="PAYTOOPRETURN",w[w.PAYTOWITNESS=4]="PAYTOWITNESS",w[w.PAYTOP2SHWITNESS=5]="PAYTOP2SHWITNESS",w[w.PAYTOTAPROOT=6]="PAYTOTAPROOT",t.DecredStakingSpendType=void 0,(E=t.DecredStakingSpendType||(t.DecredStakingSpendType={}))[E.SSGen=0]="SSGen",E[E.SSRTX=1]="SSRTX",t.AmountUnit=void 0,(T=t.AmountUnit||(t.AmountUnit={}))[T.BITCOIN=0]="BITCOIN",T[T.MILLIBITCOIN=1]="MILLIBITCOIN",T[T.MICROBITCOIN=2]="MICROBITCOIN",T[T.SATOSHI=3]="SATOSHI",t.Enum_RequestType=void 0,(A=t.Enum_RequestType||(t.Enum_RequestType={}))[A.TXINPUT=0]="TXINPUT",A[A.TXOUTPUT=1]="TXOUTPUT",A[A.TXMETA=2]="TXMETA",A[A.TXFINISHED=3]="TXFINISHED",A[A.TXEXTRADATA=4]="TXEXTRADATA",A[A.TXORIGINPUT=5]="TXORIGINPUT",A[A.TXORIGOUTPUT=6]="TXORIGOUTPUT",t.RebootType=void 0,(M=t.RebootType||(t.RebootType={}))[M.Normal=0]="Normal",M[M.Boardloader=1]="Boardloader",M[M.BootLoader=2]="BootLoader",t.CardanoDerivationType=void 0,(O=t.CardanoDerivationType||(t.CardanoDerivationType={}))[O.LEDGER=0]="LEDGER",O[O.ICARUS=1]="ICARUS",O[O.ICARUS_TREZOR=2]="ICARUS_TREZOR",t.CardanoAddressType=void 0,(x=t.CardanoAddressType||(t.CardanoAddressType={}))[x.BASE=0]="BASE",x[x.BASE_SCRIPT_KEY=1]="BASE_SCRIPT_KEY",x[x.BASE_KEY_SCRIPT=2]="BASE_KEY_SCRIPT",x[x.BASE_SCRIPT_SCRIPT=3]="BASE_SCRIPT_SCRIPT",x[x.POINTER=4]="POINTER",x[x.POINTER_SCRIPT=5]="POINTER_SCRIPT",x[x.ENTERPRISE=6]="ENTERPRISE",x[x.ENTERPRISE_SCRIPT=7]="ENTERPRISE_SCRIPT",x[x.BYRON=8]="BYRON",x[x.REWARD=14]="REWARD",x[x.REWARD_SCRIPT=15]="REWARD_SCRIPT",t.CardanoNativeScriptType=void 0,(k=t.CardanoNativeScriptType||(t.CardanoNativeScriptType={}))[k.PUB_KEY=0]="PUB_KEY",k[k.ALL=1]="ALL",k[k.ANY=2]="ANY",k[k.N_OF_K=3]="N_OF_K",k[k.INVALID_BEFORE=4]="INVALID_BEFORE",k[k.INVALID_HEREAFTER=5]="INVALID_HEREAFTER",t.CardanoNativeScriptHashDisplayFormat=void 0,(I=t.CardanoNativeScriptHashDisplayFormat||(t.CardanoNativeScriptHashDisplayFormat={}))[I.HIDE=0]="HIDE",I[I.BECH32=1]="BECH32",I[I.POLICY_ID=2]="POLICY_ID",t.CardanoTxOutputSerializationFormat=void 0,(C=t.CardanoTxOutputSerializationFormat||(t.CardanoTxOutputSerializationFormat={}))[C.ARRAY_LEGACY=0]="ARRAY_LEGACY",C[C.MAP_BABBAGE=1]="MAP_BABBAGE",t.CardanoCertificateType=void 0,(B=t.CardanoCertificateType||(t.CardanoCertificateType={}))[B.STAKE_REGISTRATION=0]="STAKE_REGISTRATION",B[B.STAKE_DEREGISTRATION=1]="STAKE_DEREGISTRATION",B[B.STAKE_DELEGATION=2]="STAKE_DELEGATION",B[B.STAKE_POOL_REGISTRATION=3]="STAKE_POOL_REGISTRATION",t.CardanoPoolRelayType=void 0,(N=t.CardanoPoolRelayType||(t.CardanoPoolRelayType={}))[N.SINGLE_HOST_IP=0]="SINGLE_HOST_IP",N[N.SINGLE_HOST_NAME=1]="SINGLE_HOST_NAME",N[N.MULTIPLE_HOST_NAME=2]="MULTIPLE_HOST_NAME",t.CardanoTxAuxiliaryDataSupplementType=void 0,(P=t.CardanoTxAuxiliaryDataSupplementType||(t.CardanoTxAuxiliaryDataSupplementType={}))[P.NONE=0]="NONE",P[P.GOVERNANCE_REGISTRATION_SIGNATURE=1]="GOVERNANCE_REGISTRATION_SIGNATURE",t.CardanoGovernanceRegistrationFormat=void 0,(D=t.CardanoGovernanceRegistrationFormat||(t.CardanoGovernanceRegistrationFormat={}))[D.CIP15=0]="CIP15",D[D.CIP36=1]="CIP36",t.CardanoTxSigningMode=void 0,(q=t.CardanoTxSigningMode||(t.CardanoTxSigningMode={}))[q.ORDINARY_TRANSACTION=0]="ORDINARY_TRANSACTION",q[q.POOL_REGISTRATION_AS_OWNER=1]="POOL_REGISTRATION_AS_OWNER",q[q.MULTISIG_TRANSACTION=2]="MULTISIG_TRANSACTION",q[q.PLUTUS_TRANSACTION=3]="PLUTUS_TRANSACTION",t.CardanoTxWitnessType=void 0,(L=t.CardanoTxWitnessType||(t.CardanoTxWitnessType={}))[L.BYRON_WITNESS=0]="BYRON_WITNESS",L[L.SHELLEY_WITNESS=1]="SHELLEY_WITNESS",t.FailureType=void 0,(j=t.FailureType||(t.FailureType={}))[j.Failure_UnexpectedMessage=1]="Failure_UnexpectedMessage",j[j.Failure_ButtonExpected=2]="Failure_ButtonExpected",j[j.Failure_DataError=3]="Failure_DataError",j[j.Failure_ActionCancelled=4]="Failure_ActionCancelled",j[j.Failure_PinExpected=5]="Failure_PinExpected",j[j.Failure_PinCancelled=6]="Failure_PinCancelled",j[j.Failure_PinInvalid=7]="Failure_PinInvalid",j[j.Failure_InvalidSignature=8]="Failure_InvalidSignature",j[j.Failure_ProcessError=9]="Failure_ProcessError",j[j.Failure_NotEnoughFunds=10]="Failure_NotEnoughFunds",j[j.Failure_NotInitialized=11]="Failure_NotInitialized",j[j.Failure_PinMismatch=12]="Failure_PinMismatch",j[j.Failure_WipeCodeMismatch=13]="Failure_WipeCodeMismatch",j[j.Failure_InvalidSession=14]="Failure_InvalidSession",j[j.Failure_FirmwareError=99]="Failure_FirmwareError",t.Enum_ButtonRequestType=void 0,(F=t.Enum_ButtonRequestType||(t.Enum_ButtonRequestType={}))[F.ButtonRequest_Other=1]="ButtonRequest_Other",F[F.ButtonRequest_FeeOverThreshold=2]="ButtonRequest_FeeOverThreshold",F[F.ButtonRequest_ConfirmOutput=3]="ButtonRequest_ConfirmOutput",F[F.ButtonRequest_ResetDevice=4]="ButtonRequest_ResetDevice",F[F.ButtonRequest_ConfirmWord=5]="ButtonRequest_ConfirmWord",F[F.ButtonRequest_WipeDevice=6]="ButtonRequest_WipeDevice",F[F.ButtonRequest_ProtectCall=7]="ButtonRequest_ProtectCall",F[F.ButtonRequest_SignTx=8]="ButtonRequest_SignTx",F[F.ButtonRequest_FirmwareCheck=9]="ButtonRequest_FirmwareCheck",F[F.ButtonRequest_Address=10]="ButtonRequest_Address",F[F.ButtonRequest_PublicKey=11]="ButtonRequest_PublicKey",F[F.ButtonRequest_MnemonicWordCount=12]="ButtonRequest_MnemonicWordCount",F[F.ButtonRequest_MnemonicInput=13]="ButtonRequest_MnemonicInput",F[F._Deprecated_ButtonRequest_PassphraseType=14]="_Deprecated_ButtonRequest_PassphraseType",F[F.ButtonRequest_UnknownDerivationPath=15]="ButtonRequest_UnknownDerivationPath",F[F.ButtonRequest_RecoveryHomepage=16]="ButtonRequest_RecoveryHomepage",F[F.ButtonRequest_Success=17]="ButtonRequest_Success",F[F.ButtonRequest_Warning=18]="ButtonRequest_Warning",F[F.ButtonRequest_PassphraseEntry=19]="ButtonRequest_PassphraseEntry",F[F.ButtonRequest_PinEntry=20]="ButtonRequest_PinEntry",t.Enum_PinMatrixRequestType=void 0,(U=t.Enum_PinMatrixRequestType||(t.Enum_PinMatrixRequestType={}))[U.PinMatrixRequestType_Current=1]="PinMatrixRequestType_Current",U[U.PinMatrixRequestType_NewFirst=2]="PinMatrixRequestType_NewFirst",U[U.PinMatrixRequestType_NewSecond=3]="PinMatrixRequestType_NewSecond",U[U.PinMatrixRequestType_WipeCodeFirst=4]="PinMatrixRequestType_WipeCodeFirst",U[U.PinMatrixRequestType_WipeCodeSecond=5]="PinMatrixRequestType_WipeCodeSecond",U[U.PinMatrixRequestType_BackupFirst=6]="PinMatrixRequestType_BackupFirst",U[U.PinMatrixRequestType_BackupSecond=7]="PinMatrixRequestType_BackupSecond",t.EthereumDefinitionType=void 0,(z=t.EthereumDefinitionType||(t.EthereumDefinitionType={}))[z.NETWORK=0]="NETWORK",z[z.TOKEN=1]="TOKEN",t.EthereumDataTypeOneKey=void 0,(H=t.EthereumDataTypeOneKey||(t.EthereumDataTypeOneKey={}))[H.UINT=1]="UINT",H[H.INT=2]="INT",H[H.BYTES=3]="BYTES",H[H.STRING=4]="STRING",H[H.BOOL=5]="BOOL",H[H.ADDRESS=6]="ADDRESS",H[H.ARRAY=7]="ARRAY",H[H.STRUCT=8]="STRUCT",t.EthereumDataType=void 0,(G=t.EthereumDataType||(t.EthereumDataType={}))[G.UINT=1]="UINT",G[G.INT=2]="INT",G[G.BYTES=3]="BYTES",G[G.STRING=4]="STRING",G[G.BOOL=5]="BOOL",G[G.ADDRESS=6]="ADDRESS",G[G.ARRAY=7]="ARRAY",G[G.STRUCT=8]="STRUCT",t.Enum_BackupType=void 0,(W=t.Enum_BackupType||(t.Enum_BackupType={}))[W.Bip39=0]="Bip39",W[W.Slip39_Basic=1]="Slip39_Basic",W[W.Slip39_Advanced=2]="Slip39_Advanced",t.Enum_SafetyCheckLevel=void 0,(V=t.Enum_SafetyCheckLevel||(t.Enum_SafetyCheckLevel={}))[V.Strict=0]="Strict",V[V.PromptAlways=1]="PromptAlways",V[V.PromptTemporarily=2]="PromptTemporarily",t.OneKeyDeviceType=void 0,($=t.OneKeyDeviceType||(t.OneKeyDeviceType={}))[$.CLASSIC=0]="CLASSIC",$[$.CLASSIC1S=1]="CLASSIC1S",$[$.MINI=2]="MINI",$[$.TOUCH=3]="TOUCH",$[$.PRO=5]="PRO",t.OneKeySeType=void 0,(Y=t.OneKeySeType||(t.OneKeySeType={}))[Y.THD89=0]="THD89",Y[Y.SE608A=1]="SE608A",t.OneKeySEState=void 0,(X=t.OneKeySEState||(t.OneKeySEState={}))[X.BOOT=0]="BOOT",X[X.APP=1]="APP",t.Enum_Capability=void 0,(J=t.Enum_Capability||(t.Enum_Capability={}))[J.Capability_Bitcoin=1]="Capability_Bitcoin",J[J.Capability_Bitcoin_like=2]="Capability_Bitcoin_like",J[J.Capability_Binance=3]="Capability_Binance",J[J.Capability_Cardano=4]="Capability_Cardano",J[J.Capability_Crypto=5]="Capability_Crypto",J[J.Capability_EOS=6]="Capability_EOS",J[J.Capability_Ethereum=7]="Capability_Ethereum",J[J.Capability_Lisk=8]="Capability_Lisk",J[J.Capability_Monero=9]="Capability_Monero",J[J.Capability_NEM=10]="Capability_NEM",J[J.Capability_Ripple=11]="Capability_Ripple",J[J.Capability_Stellar=12]="Capability_Stellar",J[J.Capability_Tezos=13]="Capability_Tezos",J[J.Capability_U2F=14]="Capability_U2F",J[J.Capability_Shamir=15]="Capability_Shamir",J[J.Capability_ShamirGroups=16]="Capability_ShamirGroups",J[J.Capability_PassphraseEntry=17]="Capability_PassphraseEntry",t.ExportType=void 0,(Z=t.ExportType||(t.ExportType={}))[Z.SeedEncExportType_NO=0]="SeedEncExportType_NO",Z[Z.SeedEncExportType_YES=1]="SeedEncExportType_YES",Z[Z.MnemonicPlainExportType_YES=2]="MnemonicPlainExportType_YES",t.SdProtectOperationType=void 0,(Q=t.SdProtectOperationType||(t.SdProtectOperationType={}))[Q.DISABLE=0]="DISABLE",Q[Q.ENABLE=1]="ENABLE",Q[Q.REFRESH=2]="REFRESH",t.RecoveryDeviceType=void 0,(ee=t.RecoveryDeviceType||(t.RecoveryDeviceType={}))[ee.RecoveryDeviceType_ScrambledWords=0]="RecoveryDeviceType_ScrambledWords",ee[ee.RecoveryDeviceType_Matrix=1]="RecoveryDeviceType_Matrix",t.Enum_WordRequestType=void 0,(te=t.Enum_WordRequestType||(t.Enum_WordRequestType={}))[te.WordRequestType_Plain=0]="WordRequestType_Plain",te[te.WordRequestType_Matrix9=1]="WordRequestType_Matrix9",te[te.WordRequestType_Matrix6=2]="WordRequestType_Matrix6",t.SeedRequestType=void 0,(re=t.SeedRequestType||(t.SeedRequestType={}))[re.SeedRequestType_Gen=0]="SeedRequestType_Gen",re[re.SeedRequestType_EncExport=1]="SeedRequestType_EncExport",re[re.SeedRequestType_EncImport=2]="SeedRequestType_EncImport",t.WL_OperationType=void 0,(ie=t.WL_OperationType||(t.WL_OperationType={}))[ie.WL_OperationType_Add=0]="WL_OperationType_Add",ie[ie.WL_OperationType_Delete=1]="WL_OperationType_Delete",ie[ie.WL_OperationType_Inquire=2]="WL_OperationType_Inquire",t.ResourceType=void 0,(ne=t.ResourceType||(t.ResourceType={}))[ne.WallPaper=0]="WallPaper",ne[ne.Nft=1]="Nft",t.NEMMosaicLevy=void 0,(se=t.NEMMosaicLevy||(t.NEMMosaicLevy={}))[se.MosaicLevy_Absolute=1]="MosaicLevy_Absolute",se[se.MosaicLevy_Percentile=2]="MosaicLevy_Percentile",t.NEMSupplyChangeType=void 0,(ae=t.NEMSupplyChangeType||(t.NEMSupplyChangeType={}))[ae.SupplyChange_Increase=1]="SupplyChange_Increase",ae[ae.SupplyChange_Decrease=2]="SupplyChange_Decrease",t.NEMModificationType=void 0,(oe=t.NEMModificationType||(t.NEMModificationType={}))[oe.CosignatoryModification_Add=1]="CosignatoryModification_Add",oe[oe.CosignatoryModification_Delete=2]="CosignatoryModification_Delete",t.NEMImportanceTransferMode=void 0,(de=t.NEMImportanceTransferMode||(t.NEMImportanceTransferMode={}))[de.ImportanceTransfer_Activate=1]="ImportanceTransfer_Activate",de[de.ImportanceTransfer_Deactivate=2]="ImportanceTransfer_Deactivate",t.StellarAssetType=void 0,(ue=t.StellarAssetType||(t.StellarAssetType={}))[ue.NATIVE=0]="NATIVE",ue[ue.ALPHANUM4=1]="ALPHANUM4",ue[ue.ALPHANUM12=2]="ALPHANUM12",t.StellarMemoType=void 0,(le=t.StellarMemoType||(t.StellarMemoType={}))[le.NONE=0]="NONE",le[le.TEXT=1]="TEXT",le[le.ID=2]="ID",le[le.HASH=3]="HASH",le[le.RETURN=4]="RETURN",t.StellarSignerType=void 0,(ce=t.StellarSignerType||(t.StellarSignerType={}))[ce.ACCOUNT=0]="ACCOUNT",ce[ce.PRE_AUTH=1]="PRE_AUTH",ce[ce.HASH=2]="HASH",t.TezosContractType=void 0,(pe=t.TezosContractType||(t.TezosContractType={}))[pe.Implicit=0]="Implicit",pe[pe.Originated=1]="Originated",t.TezosBallotType=void 0,(he=t.TezosBallotType||(t.TezosBallotType={}))[he.Yay=0]="Yay",he[he.Nay=1]="Nay",he[he.Pass=2]="Pass",t.TonWalletVersion=void 0,(fe=t.TonWalletVersion||(t.TonWalletVersion={}))[fe.V4R2=3]="V4R2",t.TonWorkChain=void 0,(ye=t.TonWorkChain||(t.TonWorkChain={}))[ye.BASECHAIN=0]="BASECHAIN",ye[ye.MASTERCHAIN=1]="MASTERCHAIN",t.TronResourceCode=void 0,(ge=t.TronResourceCode||(t.TronResourceCode={}))[ge.BANDWIDTH=0]="BANDWIDTH",ge[ge.ENERGY=1]="ENERGY",t.CommandFlags=void 0,(me=t.CommandFlags||(t.CommandFlags={}))[me.Default=0]="Default",me[me.Factory_Only=1]="Factory_Only";var ve=Object.freeze({__proto__:null,get BinanceOrderType(){return t.BinanceOrderType},get BinanceOrderSide(){return t.BinanceOrderSide},get BinanceTimeInForce(){return t.BinanceTimeInForce},get Enum_InputScriptType(){return t.Enum_InputScriptType},get Enum_OutputScriptType(){return t.Enum_OutputScriptType},get DecredStakingSpendType(){return t.DecredStakingSpendType},get AmountUnit(){return t.AmountUnit},get Enum_RequestType(){return t.Enum_RequestType},get RebootType(){return t.RebootType},get CardanoDerivationType(){return t.CardanoDerivationType},get CardanoAddressType(){return t.CardanoAddressType},get CardanoNativeScriptType(){return t.CardanoNativeScriptType},get CardanoNativeScriptHashDisplayFormat(){return t.CardanoNativeScriptHashDisplayFormat},get CardanoTxOutputSerializationFormat(){return t.CardanoTxOutputSerializationFormat},get CardanoCertificateType(){return t.CardanoCertificateType},get CardanoPoolRelayType(){return t.CardanoPoolRelayType},get CardanoTxAuxiliaryDataSupplementType(){return t.CardanoTxAuxiliaryDataSupplementType},get CardanoGovernanceRegistrationFormat(){return t.CardanoGovernanceRegistrationFormat},get CardanoTxSigningMode(){return t.CardanoTxSigningMode},get CardanoTxWitnessType(){return t.CardanoTxWitnessType},get FailureType(){return t.FailureType},get Enum_ButtonRequestType(){return t.Enum_ButtonRequestType},get Enum_PinMatrixRequestType(){return t.Enum_PinMatrixRequestType},get EthereumDefinitionType(){return t.EthereumDefinitionType},get EthereumDataTypeOneKey(){return t.EthereumDataTypeOneKey},get EthereumDataType(){return t.EthereumDataType},get Enum_BackupType(){return t.Enum_BackupType},get Enum_SafetyCheckLevel(){return t.Enum_SafetyCheckLevel},get OneKeyDeviceType(){return t.OneKeyDeviceType},get OneKeySeType(){return t.OneKeySeType},get OneKeySEState(){return t.OneKeySEState},get Enum_Capability(){return t.Enum_Capability},get ExportType(){return t.ExportType},get SdProtectOperationType(){return t.SdProtectOperationType},get RecoveryDeviceType(){return t.RecoveryDeviceType},get Enum_WordRequestType(){return t.Enum_WordRequestType},get SeedRequestType(){return t.SeedRequestType},get WL_OperationType(){return t.WL_OperationType},get ResourceType(){return t.ResourceType},get NEMMosaicLevy(){return t.NEMMosaicLevy},get NEMSupplyChangeType(){return t.NEMSupplyChangeType},get NEMModificationType(){return t.NEMModificationType},get NEMImportanceTransferMode(){return t.NEMImportanceTransferMode},get StellarAssetType(){return t.StellarAssetType},get StellarMemoType(){return t.StellarMemoType},get StellarSignerType(){return t.StellarSignerType},get TezosContractType(){return t.TezosContractType},get TezosBallotType(){return t.TezosBallotType},get TonWalletVersion(){return t.TonWalletVersion},get TonWorkChain(){return t.TonWorkChain},get TronResourceCode(){return t.TronResourceCode},get CommandFlags(){return t.CommandFlags}});const _e=new Set(["PassphraseAck","PinMatrixAck"]);o.util.Long=d,o.configure();var we={check:be,buildOne:function buildOne(e,t,r){const{Message:i,messageType:n}=createMessageFromName(e,t);return encode(encode$1(i,r),{addTrezorHeaders:!1,chunked:!1,messageType:n})},buildBuffers:(e,t,r)=>{const i=buildEncodeBuffers(e,t,r),n=[];for(const e of i){const t=new u.default(h+1);t.writeByte(63),t.append(e),t.reset(),n.push(t)}return n},buildEncodeBuffers,receiveOne:function receiveOne(e,t){const r=u.default.wrap(t,"hex"),{typeId:i,buffer:n}=decode(r),{Message:s,messageName:a}=((e,t)=>{const r=e.lookupEnum("MessageType").valuesById[t].replace("MessageType_","");return{Message:e.lookupType(r),messageName:r}})(e,i),o=((e,t)=>{const r=t.toBuffer(),i=new Uint8Array(r);let n;try{n=e.decode(i)}catch(t){if(!(i.length>1&&255===i[i.length-1]))throw t;i[i.length-1]=4,n=e.decode(i)}return messageToJSON(n,n.$type.fields)})(s,n);return{message:o,type:a}},parseConfigure:function parseConfigure(e){return"string"==typeof e?o.Root.fromJSON(JSON.parse(e)):o.Root.fromJSON(e)},decodeProtocol:y};t.BUFFER_SIZE=h,t.COMMON_HEADER_SIZE=6,t.HEADER_SIZE=p,t.LogBlockCommand=_e,t.MESSAGE_HEADER_BYTE=c,t.MESSAGE_TOP_CHAR=63,t.Messages=ve,t.default=we},8492:(e,t)=>{"use strict";function __awaiter(e,t,r,i){return new(r||(r=Promise))((function(n,s){function fulfilled(e){try{step(i.next(e))}catch(e){s(e)}}function rejected(e){try{step(i.throw(e))}catch(e){s(e)}}function step(e){e.done?n(e.value):function adopt(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,t||[])).next())}))}Object.defineProperty(t,"__esModule",{value:!0}),"function"==typeof SuppressedError&&SuppressedError;class HardwareError extends Error{constructor(e){var t;super(),this.errorCode=r.UnknownError,this.message="",this.params={};const n=i;if(this.message=n[r.UnknownError],"string"==typeof e)this.errorCode=r.UnknownError,this.message=e;else{const r=null!==(t=e.message||n[e.errorCode])&&void 0!==t?t:"";r&&(this.message=function fillStringWithArguments(e,t){return"string"!=typeof e?e:e.replace(/\{([^}]+)\}/g,((e,r)=>t[r]||"?"))}(r,e)),this.params=e.params,this.errorCode=e.errorCode}this.name="HardwareError"}}const r={UnknownError:0,DeviceFwException:101,DeviceUnexpectedMode:102,DeviceListNotInitialized:103,SelectDevice:104,DeviceNotFound:105,DeviceInitializeFailed:106,DeviceInterruptedFromOutside:107,RequiredButInBootloaderMode:108,DeviceInterruptedFromUser:109,DeviceCheckDeviceIdError:110,DeviceNotSupportPassphrase:111,DeviceCheckPassphraseStateError:112,DeviceNotOpenedPassphrase:113,DeviceOpenedPassphrase:114,DeviceDetectInBootloaderMode:115,NotAllowInBootloaderMode:116,NotInitialized:200,IFrameNotInitialized:300,IFrameAleradyInitialized:301,IFrameLoadFail:302,IframeTimeout:303,IframeBlocked:304,IframeDistrust:305,CallMethodError:400,CallMethodNotResponse:404,CallMethodInvalidParameter:405,FirmwareUpdateDownloadFailed:406,CallMethodNeedUpgradeFirmware:407,CallMethodDeprecated:408,FirmwareUpdateLimitOneDevice:409,FirmwareUpdateManuallyEnterBoot:410,FirmwareUpdateAutoEnterBootFailure:411,NewFirmwareUnRelease:412,UseDesktopToUpdateFirmware:413,NewFirmwareForceUpdate:414,NetworkError:500,TransportNotConfigured:600,TransportCallInProgress:601,TransportNotFound:602,TransportInvalidProtobuf:603,BleScanError:700,BlePermissionError:701,BleLocationError:702,BleRequiredUUID:703,BleConnectedError:704,BleDeviceNotBonded:705,BleServiceNotFound:706,BleCharacteristicNotFound:707,BleMonitorError:708,BleCharacteristicNotifyError:709,BleWriteCharacteristicError:710,BleAlreadyConnected:711,BleLocationServicesDisabled:712,BleTimeoutError:713,BleForceCleanRunPromise:714,BleDeviceBondError:715,BleCharacteristicNotifyChangeFailure:716,RuntimeError:800,PinInvalid:801,PinCancelled:802,ActionCancelled:803,FirmwareError:804,ResponseUnexpectTypeError:805,BridgeNetworkError:806,BridgeTimeoutError:807,BridgeNotInstalled:808,PollingTimeout:809,PollingStop:810,BlindSignDisabled:811,UnexpectPassphrase:812,FileAlreadyExists:813,CheckDownloadFileError:814,NotInSigningMode:815,DataOverload:816,BridgeDeviceDisconnected:817,LowlevelTrasnportConnectError:900},i={[r.UnknownError]:"Unknown error occurred. Check message property.",[r.DeviceFwException]:"Firmware version mismatch",[r.DeviceUnexpectedMode]:"Device unexpected mode",[r.DeviceListNotInitialized]:"Device list is not initialized",[r.SelectDevice]:"Please select the connected device",[r.DeviceNotFound]:"Device not found",[r.DeviceInitializeFailed]:"Device initialization failed",[r.DeviceInterruptedFromOutside]:"Device interrupted",[r.DeviceInterruptedFromUser]:"Device interrupted",[r.RequiredButInBootloaderMode]:"Device should be in bootloader mode",[r.DeviceCheckDeviceIdError]:"Device Id in the features is not same.",[r.DeviceNotSupportPassphrase]:"Device not support passphrase",[r.DeviceCheckPassphraseStateError]:"Device passphrase state error",[r.DeviceNotOpenedPassphrase]:"Device not opened passphrase",[r.DeviceOpenedPassphrase]:"Device opened passphrase",[r.DeviceDetectInBootloaderMode]:"Device in bootloader mode",[r.NotAllowInBootloaderMode]:"Device not allow in bootloader mode",[r.NotInitialized]:"Not initialized",[r.IFrameNotInitialized]:"IFrame not initialized",[r.IFrameAleradyInitialized]:"IFrame alerady initialized",[r.IFrameLoadFail]:"IFrame load fail",[r.IframeTimeout]:"init iframe time out",[r.IframeBlocked]:"IFrame blocked",[r.IframeDistrust]:"IFrame host not trust",[r.CallMethodError]:"Runtime errors during method execution",[r.CallMethodNotResponse]:"Method does not responding",[r.CallMethodInvalidParameter]:"Call method invalid parameter",[r.FirmwareUpdateDownloadFailed]:"Firmware update download failed",[r.CallMethodNeedUpgradeFirmware]:"Call method need upgrade firmware",[r.CallMethodDeprecated]:"Call method is deprecated",[r.FirmwareUpdateLimitOneDevice]:"Only one device can be connected during firmware upgrade",[r.FirmwareUpdateManuallyEnterBoot]:"You need to manually enter boot",[r.FirmwareUpdateAutoEnterBootFailure]:"Description Failed to automatically enter boot",[r.NewFirmwareUnRelease]:"new firmware has not been released yet",[r.NewFirmwareForceUpdate]:"new firmware has been released, please update",[r.UseDesktopToUpdateFirmware]:"Please use OneKey desktop client to update the firmware",[r.NetworkError]:"Network request error",[r.TransportNotConfigured]:"Transport not configured",[r.TransportCallInProgress]:"Transport call in progress",[r.TransportNotFound]:"Transport not found",[r.TransportInvalidProtobuf]:"Transport invalid protobuf",[r.BleScanError]:"BLE scan error",[r.BlePermissionError]:"Bluetooth required to be turned on",[r.BleLocationError]:"Location permissions for the application are not available",[r.BleRequiredUUID]:"uuid is required",[r.BleConnectedError]:"connected error is always runtime error",[r.BleDeviceNotBonded]:"device is not bonded",[r.BleServiceNotFound]:"BLEServiceNotFound: service not found",[r.BleCharacteristicNotFound]:"BLEServiceNotFound: service not found",[r.BleMonitorError]:"Monitor Error: characteristic not found",[r.BleCharacteristicNotifyError]:"Characteristic Notify Error",[r.BleWriteCharacteristicError]:"Write Characteristic Error",[r.BleAlreadyConnected]:"Already connected to device",[r.BleLocationServicesDisabled]:"Location Services disabled",[r.BleTimeoutError]:"The connection has timed out unexpectedly.",[r.BleForceCleanRunPromise]:"Force clean Bluetooth run promise",[r.BleDeviceBondError]:"Bluetooth pairing failed",[r.BleCharacteristicNotifyChangeFailure]:"Characteristic Notify Change Failure",[r.RuntimeError]:"Runtime error",[r.PinInvalid]:"Pin invalid",[r.PinCancelled]:"Pin cancelled",[r.ActionCancelled]:"Action cancelled by user",[r.FirmwareError]:"Firmware installation failed",[r.ResponseUnexpectTypeError]:"Response type is not expected",[r.BridgeNetworkError]:"Bridge network error",[r.BridgeTimeoutError]:"Bridge network timeout",[r.BridgeNotInstalled]:"Bridge not installed",[r.BridgeDeviceDisconnected]:"Bridge device disconnected during action",[r.PollingTimeout]:"Polling timeout",[r.PollingStop]:"Polling stop",[r.BlindSignDisabled]:"Please confirm the BlindSign enabled",[r.UnexpectPassphrase]:"Unexpect passphrase",[r.FileAlreadyExists]:"File already exists",[r.CheckDownloadFileError]:"Check download file error",[r.NotInSigningMode]:"not in signing mode",[r.DataOverload]:"Params data overload",[r.LowlevelTrasnportConnectError]:"Lowlevel transport connect error"},TypedError=(e,t,r)=>new HardwareError("string"==typeof e?e:{errorCode:e,message:null!=t?t:"",params:r}),serializeError=e=>e&&e.error instanceof HardwareError?{error:e.error.message,code:e.error.errorCode,params:e.error.params}:e&&e.error&&"AxiosError"===e.error.name?{error:e.error.message,code:r.BridgeNetworkError}:e&&e.error instanceof Error?{error:e.error.message,code:e.error.code}:e,CreateErrorByMessage=e=>{for(const t of Object.values(r))if(i[t]===e)return TypedError(t);return new HardwareError(e)};var n=Object.freeze({__proto__:null,HardwareError,HardwareErrorCode:r,HardwareErrorCodeMessage:i,TypedError,serializeError,CreateErrorByMessage});t.CreateErrorByMessage=CreateErrorByMessage,t.ERRORS=n,t.HardwareError=HardwareError,t.HardwareErrorCode=r,t.HardwareErrorCodeMessage=i,t.TypedError=TypedError,t.createDeferred=function createDeferred(e,t){let r,localResolve=e=>{},localReject=e=>{};const i=new Promise(((t,i)=>__awaiter(this,void 0,void 0,(function*(){if(localResolve=t,localReject=i,"function"==typeof e)try{yield e()}catch(e){i(e)}"string"==typeof e&&(r=e)}))));return{id:r,data:t,resolve:localResolve,reject:localReject,promise:i}},t.serializeError=serializeError},7991:(e,t)=>{"use strict";t.byteLength=function byteLength(e){var t=getLens(e),r=t[0],i=t[1];return 3*(r+i)/4-i},t.toByteArray=function toByteArray(e){var t,r,s=getLens(e),a=s[0],o=s[1],d=new n(function _byteLength(e,t,r){return 3*(t+r)/4-r}(0,a,o)),u=0,l=o>0?a-4:a;for(r=0;r<l;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],d[u++]=t>>16&255,d[u++]=t>>8&255,d[u++]=255&t;2===o&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,d[u++]=255&t);1===o&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,d[u++]=t>>8&255,d[u++]=255&t);return d},t.fromByteArray=function fromByteArray(e){for(var t,i=e.length,n=i%3,s=[],a=16383,o=0,d=i-n;o<d;o+=a)s.push(encodeChunk(e,o,o+a>d?d:o+a));1===n?(t=e[i-1],s.push(r[t>>2]+r[t<<4&63]+"==")):2===n&&(t=(e[i-2]<<8)+e[i-1],s.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return s.join("")};for(var r=[],i=[],n="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0;a<64;++a)r[a]=s[a],i[s.charCodeAt(a)]=a;function getLens(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function encodeChunk(e,t,i){for(var n,s,a=[],o=t;o<i;o+=3)n=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),a.push(r[(s=n)>>18&63]+r[s>>12&63]+r[s>>6&63]+r[63&s]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},2823:function(e,t,r){!function(e,t){"use strict";function assert(e,t){if(!e)throw new Error(t||"Assertion failed")}function inherits(e,t){e.super_=t;var TempCtor=function(){};TempCtor.prototype=t.prototype,e.prototype=new TempCtor,e.prototype.constructor=e}function BN(e,t,r){if(BN.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var i;"object"==typeof e?e.exports=BN:t.BN=BN,BN.BN=BN,BN.wordSize=26;try{i="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(8379).Buffer}catch(e){}function parseHex4Bits(e,t){var r=e.charCodeAt(t);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function parseHexByte(e,t,r){var i=parseHex4Bits(e,r);return r-1>=t&&(i|=parseHex4Bits(e,r-1)<<4),i}function parseBase(e,t,r,i){for(var n=0,s=Math.min(e.length,r),a=t;a<s;a++){var o=e.charCodeAt(a)-48;n*=i,n+=o>=49?o-49+10:o>=17?o-17+10:o}return n}BN.isBN=function isBN(e){return e instanceof BN||null!==e&&"object"==typeof e&&e.constructor.wordSize===BN.wordSize&&Array.isArray(e.words)},BN.max=function max(e,t){return e.cmp(t)>0?e:t},BN.min=function min(e,t){return e.cmp(t)<0?e:t},BN.prototype._init=function init(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),assert(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,r):(this._parseBase(e,t,i),"le"===r&&this._initArray(this.toArray(),t,r)))},BN.prototype._initNumber=function _initNumber(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(assert(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},BN.prototype._initArray=function _initArray(e,t,r){if(assert("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var n,s,a=0;if("be"===r)for(i=e.length-1,n=0;i>=0;i-=3)s=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[n]|=s<<a&67108863,this.words[n+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,n++);else if("le"===r)for(i=0,n=0;i<e.length;i+=3)s=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[n]|=s<<a&67108863,this.words[n+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,n++);return this.strip()},BN.prototype._parseHex=function _parseHex(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var n,s=0,a=0;if("be"===r)for(i=e.length-1;i>=t;i-=2)n=parseHexByte(e,t,i)<<s,this.words[a]|=67108863&n,s>=18?(s-=18,a+=1,this.words[a]|=n>>>26):s+=8;else for(i=(e.length-t)%2==0?t+1:t;i<e.length;i+=2)n=parseHexByte(e,t,i)<<s,this.words[a]|=67108863&n,s>=18?(s-=18,a+=1,this.words[a]|=n>>>26):s+=8;this.strip()},BN.prototype._parseBase=function _parseBase(e,t,r){this.words=[0],this.length=1;for(var i=0,n=1;n<=67108863;n*=t)i++;i--,n=n/t|0;for(var s=e.length-r,a=s%i,o=Math.min(s,s-a)+r,d=0,u=r;u<o;u+=i)d=parseBase(e,u,u+i,t),this.imuln(n),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if(0!==a){var l=1;for(d=parseBase(e,u,e.length,t),u=0;u<a;u++)l*=t;this.imuln(l),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}this.strip()},BN.prototype.copy=function copy(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},BN.prototype.clone=function clone(){var e=new BN(null);return this.copy(e),e},BN.prototype._expand=function _expand(e){for(;this.length<e;)this.words[this.length++]=0;return this},BN.prototype.strip=function strip(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},BN.prototype._normSign=function _normSign(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},BN.prototype.inspect=function inspect(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var n=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],s=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],a=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function smallMulTo(e,t,r){r.negative=t.negative^e.negative;var i=e.length+t.length|0;r.length=i,i=i-1|0;var n=0|e.words[0],s=0|t.words[0],a=n*s,o=67108863&a,d=a/67108864|0;r.words[0]=o;for(var u=1;u<i;u++){for(var l=d>>>26,c=67108863&d,p=Math.min(u,t.length-1),h=Math.max(0,u-e.length+1);h<=p;h++){var y=u-h|0;l+=(a=(n=0|e.words[y])*(s=0|t.words[h])+c)/67108864|0,c=67108863&a}r.words[u]=0|c,d=0|l}return 0!==d?r.words[u]=0|d:r.length--,r.strip()}BN.prototype.toString=function toString(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var i=0,o=0,d=0;d<this.length;d++){var u=this.words[d],l=(16777215&(u<<i|o)).toString(16);r=0!==(o=u>>>24-i&16777215)||d!==this.length-1?n[6-l.length]+l+r:l+r,(i+=2)>=26&&(i-=26,d--)}for(0!==o&&(r=o.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var c=s[e],p=a[e];r="";var h=this.clone();for(h.negative=0;!h.isZero();){var y=h.modn(p).toString(e);r=(h=h.idivn(p)).isZero()?y+r:n[c-y.length]+y+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}assert(!1,"Base should be between 2 and 36")},BN.prototype.toNumber=function toNumber(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&assert(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},BN.prototype.toJSON=function toJSON(){return this.toString(16)},BN.prototype.toBuffer=function toBuffer(e,t){return assert(void 0!==i),this.toArrayLike(i,e,t)},BN.prototype.toArray=function toArray(e,t){return this.toArrayLike(Array,e,t)},BN.prototype.toArrayLike=function toArrayLike(e,t,r){var i=this.byteLength(),n=r||Math.max(1,i);assert(i<=n,"byte array longer than desired length"),assert(n>0,"Requested array length <= 0"),this.strip();var s,a,o="le"===t,d=new e(n),u=this.clone();if(o){for(a=0;!u.isZero();a++)s=u.andln(255),u.iushrn(8),d[a]=s;for(;a<n;a++)d[a]=0}else{for(a=0;a<n-i;a++)d[a]=0;for(a=0;!u.isZero();a++)s=u.andln(255),u.iushrn(8),d[n-a-1]=s}return d},Math.clz32?BN.prototype._countBits=function _countBits(e){return 32-Math.clz32(e)}:BN.prototype._countBits=function _countBits(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},BN.prototype._zeroBits=function _zeroBits(e){if(0===e)return 26;var t=e,r=0;return 8191&t||(r+=13,t>>>=13),127&t||(r+=7,t>>>=7),15&t||(r+=4,t>>>=4),3&t||(r+=2,t>>>=2),1&t||r++,r},BN.prototype.bitLength=function bitLength(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},BN.prototype.zeroBits=function zeroBits(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},BN.prototype.byteLength=function byteLength(){return Math.ceil(this.bitLength()/8)},BN.prototype.toTwos=function toTwos(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},BN.prototype.fromTwos=function fromTwos(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},BN.prototype.isNeg=function isNeg(){return 0!==this.negative},BN.prototype.neg=function neg(){return this.clone().ineg()},BN.prototype.ineg=function ineg(){return this.isZero()||(this.negative^=1),this},BN.prototype.iuor=function iuor(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},BN.prototype.ior=function ior(e){return assert(!(this.negative|e.negative)),this.iuor(e)},BN.prototype.or=function or(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},BN.prototype.uor=function uor(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},BN.prototype.iuand=function iuand(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},BN.prototype.iand=function iand(e){return assert(!(this.negative|e.negative)),this.iuand(e)},BN.prototype.and=function and(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},BN.prototype.uand=function uand(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},BN.prototype.iuxor=function iuxor(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var i=0;i<r.length;i++)this.words[i]=t.words[i]^r.words[i];if(this!==t)for(;i<t.length;i++)this.words[i]=t.words[i];return this.length=t.length,this.strip()},BN.prototype.ixor=function ixor(e){return assert(!(this.negative|e.negative)),this.iuxor(e)},BN.prototype.xor=function xor(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},BN.prototype.uxor=function uxor(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},BN.prototype.inotn=function inotn(e){assert("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},BN.prototype.notn=function notn(e){return this.clone().inotn(e)},BN.prototype.setn=function setn(e,t){assert("number"==typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},BN.prototype.iadd=function iadd(e){var t,r,i;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,i=e):(r=e,i=this);for(var n=0,s=0;s<i.length;s++)t=(0|r.words[s])+(0|i.words[s])+n,this.words[s]=67108863&t,n=t>>>26;for(;0!==n&&s<r.length;s++)t=(0|r.words[s])+n,this.words[s]=67108863&t,n=t>>>26;if(this.length=r.length,0!==n)this.words[this.length]=n,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},BN.prototype.add=function add(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},BN.prototype.isub=function isub(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,i,n=this.cmp(e);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;n>0?(r=this,i=e):(r=e,i=this);for(var s=0,a=0;a<i.length;a++)s=(t=(0|r.words[a])-(0|i.words[a])+s)>>26,this.words[a]=67108863&t;for(;0!==s&&a<r.length;a++)s=(t=(0|r.words[a])+s)>>26,this.words[a]=67108863&t;if(0===s&&a<r.length&&r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this.length=Math.max(this.length,a),r!==this&&(this.negative=1),this.strip()},BN.prototype.sub=function sub(e){return this.clone().isub(e)};var o=function comb10MulTo(e,t,r){var i,n,s,a=e.words,o=t.words,d=r.words,u=0,l=0|a[0],c=8191&l,p=l>>>13,h=0|a[1],y=8191&h,g=h>>>13,m=0|a[2],b=8191&m,v=m>>>13,_=0|a[3],w=8191&_,E=_>>>13,T=0|a[4],A=8191&T,M=T>>>13,O=0|a[5],x=8191&O,k=O>>>13,I=0|a[6],C=8191&I,B=I>>>13,N=0|a[7],P=8191&N,D=N>>>13,q=0|a[8],L=8191&q,j=q>>>13,F=0|a[9],U=8191&F,z=F>>>13,H=0|o[0],G=8191&H,W=H>>>13,V=0|o[1],$=8191&V,Y=V>>>13,X=0|o[2],J=8191&X,Z=X>>>13,Q=0|o[3],ee=8191&Q,te=Q>>>13,re=0|o[4],ie=8191&re,ne=re>>>13,se=0|o[5],ae=8191&se,oe=se>>>13,de=0|o[6],ue=8191&de,le=de>>>13,ce=0|o[7],pe=8191&ce,he=ce>>>13,fe=0|o[8],ye=8191&fe,ge=fe>>>13,me=0|o[9],be=8191&me,ve=me>>>13;r.negative=e.negative^t.negative,r.length=19;var _e=(u+(i=Math.imul(c,G))|0)+((8191&(n=(n=Math.imul(c,W))+Math.imul(p,G)|0))<<13)|0;u=((s=Math.imul(p,W))+(n>>>13)|0)+(_e>>>26)|0,_e&=67108863,i=Math.imul(y,G),n=(n=Math.imul(y,W))+Math.imul(g,G)|0,s=Math.imul(g,W);var we=(u+(i=i+Math.imul(c,$)|0)|0)+((8191&(n=(n=n+Math.imul(c,Y)|0)+Math.imul(p,$)|0))<<13)|0;u=((s=s+Math.imul(p,Y)|0)+(n>>>13)|0)+(we>>>26)|0,we&=67108863,i=Math.imul(b,G),n=(n=Math.imul(b,W))+Math.imul(v,G)|0,s=Math.imul(v,W),i=i+Math.imul(y,$)|0,n=(n=n+Math.imul(y,Y)|0)+Math.imul(g,$)|0,s=s+Math.imul(g,Y)|0;var Ee=(u+(i=i+Math.imul(c,J)|0)|0)+((8191&(n=(n=n+Math.imul(c,Z)|0)+Math.imul(p,J)|0))<<13)|0;u=((s=s+Math.imul(p,Z)|0)+(n>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,i=Math.imul(w,G),n=(n=Math.imul(w,W))+Math.imul(E,G)|0,s=Math.imul(E,W),i=i+Math.imul(b,$)|0,n=(n=n+Math.imul(b,Y)|0)+Math.imul(v,$)|0,s=s+Math.imul(v,Y)|0,i=i+Math.imul(y,J)|0,n=(n=n+Math.imul(y,Z)|0)+Math.imul(g,J)|0,s=s+Math.imul(g,Z)|0;var Te=(u+(i=i+Math.imul(c,ee)|0)|0)+((8191&(n=(n=n+Math.imul(c,te)|0)+Math.imul(p,ee)|0))<<13)|0;u=((s=s+Math.imul(p,te)|0)+(n>>>13)|0)+(Te>>>26)|0,Te&=67108863,i=Math.imul(A,G),n=(n=Math.imul(A,W))+Math.imul(M,G)|0,s=Math.imul(M,W),i=i+Math.imul(w,$)|0,n=(n=n+Math.imul(w,Y)|0)+Math.imul(E,$)|0,s=s+Math.imul(E,Y)|0,i=i+Math.imul(b,J)|0,n=(n=n+Math.imul(b,Z)|0)+Math.imul(v,J)|0,s=s+Math.imul(v,Z)|0,i=i+Math.imul(y,ee)|0,n=(n=n+Math.imul(y,te)|0)+Math.imul(g,ee)|0,s=s+Math.imul(g,te)|0;var Se=(u+(i=i+Math.imul(c,ie)|0)|0)+((8191&(n=(n=n+Math.imul(c,ne)|0)+Math.imul(p,ie)|0))<<13)|0;u=((s=s+Math.imul(p,ne)|0)+(n>>>13)|0)+(Se>>>26)|0,Se&=67108863,i=Math.imul(x,G),n=(n=Math.imul(x,W))+Math.imul(k,G)|0,s=Math.imul(k,W),i=i+Math.imul(A,$)|0,n=(n=n+Math.imul(A,Y)|0)+Math.imul(M,$)|0,s=s+Math.imul(M,Y)|0,i=i+Math.imul(w,J)|0,n=(n=n+Math.imul(w,Z)|0)+Math.imul(E,J)|0,s=s+Math.imul(E,Z)|0,i=i+Math.imul(b,ee)|0,n=(n=n+Math.imul(b,te)|0)+Math.imul(v,ee)|0,s=s+Math.imul(v,te)|0,i=i+Math.imul(y,ie)|0,n=(n=n+Math.imul(y,ne)|0)+Math.imul(g,ie)|0,s=s+Math.imul(g,ne)|0;var Ae=(u+(i=i+Math.imul(c,ae)|0)|0)+((8191&(n=(n=n+Math.imul(c,oe)|0)+Math.imul(p,ae)|0))<<13)|0;u=((s=s+Math.imul(p,oe)|0)+(n>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,i=Math.imul(C,G),n=(n=Math.imul(C,W))+Math.imul(B,G)|0,s=Math.imul(B,W),i=i+Math.imul(x,$)|0,n=(n=n+Math.imul(x,Y)|0)+Math.imul(k,$)|0,s=s+Math.imul(k,Y)|0,i=i+Math.imul(A,J)|0,n=(n=n+Math.imul(A,Z)|0)+Math.imul(M,J)|0,s=s+Math.imul(M,Z)|0,i=i+Math.imul(w,ee)|0,n=(n=n+Math.imul(w,te)|0)+Math.imul(E,ee)|0,s=s+Math.imul(E,te)|0,i=i+Math.imul(b,ie)|0,n=(n=n+Math.imul(b,ne)|0)+Math.imul(v,ie)|0,s=s+Math.imul(v,ne)|0,i=i+Math.imul(y,ae)|0,n=(n=n+Math.imul(y,oe)|0)+Math.imul(g,ae)|0,s=s+Math.imul(g,oe)|0;var Me=(u+(i=i+Math.imul(c,ue)|0)|0)+((8191&(n=(n=n+Math.imul(c,le)|0)+Math.imul(p,ue)|0))<<13)|0;u=((s=s+Math.imul(p,le)|0)+(n>>>13)|0)+(Me>>>26)|0,Me&=67108863,i=Math.imul(P,G),n=(n=Math.imul(P,W))+Math.imul(D,G)|0,s=Math.imul(D,W),i=i+Math.imul(C,$)|0,n=(n=n+Math.imul(C,Y)|0)+Math.imul(B,$)|0,s=s+Math.imul(B,Y)|0,i=i+Math.imul(x,J)|0,n=(n=n+Math.imul(x,Z)|0)+Math.imul(k,J)|0,s=s+Math.imul(k,Z)|0,i=i+Math.imul(A,ee)|0,n=(n=n+Math.imul(A,te)|0)+Math.imul(M,ee)|0,s=s+Math.imul(M,te)|0,i=i+Math.imul(w,ie)|0,n=(n=n+Math.imul(w,ne)|0)+Math.imul(E,ie)|0,s=s+Math.imul(E,ne)|0,i=i+Math.imul(b,ae)|0,n=(n=n+Math.imul(b,oe)|0)+Math.imul(v,ae)|0,s=s+Math.imul(v,oe)|0,i=i+Math.imul(y,ue)|0,n=(n=n+Math.imul(y,le)|0)+Math.imul(g,ue)|0,s=s+Math.imul(g,le)|0;var Re=(u+(i=i+Math.imul(c,pe)|0)|0)+((8191&(n=(n=n+Math.imul(c,he)|0)+Math.imul(p,pe)|0))<<13)|0;u=((s=s+Math.imul(p,he)|0)+(n>>>13)|0)+(Re>>>26)|0,Re&=67108863,i=Math.imul(L,G),n=(n=Math.imul(L,W))+Math.imul(j,G)|0,s=Math.imul(j,W),i=i+Math.imul(P,$)|0,n=(n=n+Math.imul(P,Y)|0)+Math.imul(D,$)|0,s=s+Math.imul(D,Y)|0,i=i+Math.imul(C,J)|0,n=(n=n+Math.imul(C,Z)|0)+Math.imul(B,J)|0,s=s+Math.imul(B,Z)|0,i=i+Math.imul(x,ee)|0,n=(n=n+Math.imul(x,te)|0)+Math.imul(k,ee)|0,s=s+Math.imul(k,te)|0,i=i+Math.imul(A,ie)|0,n=(n=n+Math.imul(A,ne)|0)+Math.imul(M,ie)|0,s=s+Math.imul(M,ne)|0,i=i+Math.imul(w,ae)|0,n=(n=n+Math.imul(w,oe)|0)+Math.imul(E,ae)|0,s=s+Math.imul(E,oe)|0,i=i+Math.imul(b,ue)|0,n=(n=n+Math.imul(b,le)|0)+Math.imul(v,ue)|0,s=s+Math.imul(v,le)|0,i=i+Math.imul(y,pe)|0,n=(n=n+Math.imul(y,he)|0)+Math.imul(g,pe)|0,s=s+Math.imul(g,he)|0;var Oe=(u+(i=i+Math.imul(c,ye)|0)|0)+((8191&(n=(n=n+Math.imul(c,ge)|0)+Math.imul(p,ye)|0))<<13)|0;u=((s=s+Math.imul(p,ge)|0)+(n>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,i=Math.imul(U,G),n=(n=Math.imul(U,W))+Math.imul(z,G)|0,s=Math.imul(z,W),i=i+Math.imul(L,$)|0,n=(n=n+Math.imul(L,Y)|0)+Math.imul(j,$)|0,s=s+Math.imul(j,Y)|0,i=i+Math.imul(P,J)|0,n=(n=n+Math.imul(P,Z)|0)+Math.imul(D,J)|0,s=s+Math.imul(D,Z)|0,i=i+Math.imul(C,ee)|0,n=(n=n+Math.imul(C,te)|0)+Math.imul(B,ee)|0,s=s+Math.imul(B,te)|0,i=i+Math.imul(x,ie)|0,n=(n=n+Math.imul(x,ne)|0)+Math.imul(k,ie)|0,s=s+Math.imul(k,ne)|0,i=i+Math.imul(A,ae)|0,n=(n=n+Math.imul(A,oe)|0)+Math.imul(M,ae)|0,s=s+Math.imul(M,oe)|0,i=i+Math.imul(w,ue)|0,n=(n=n+Math.imul(w,le)|0)+Math.imul(E,ue)|0,s=s+Math.imul(E,le)|0,i=i+Math.imul(b,pe)|0,n=(n=n+Math.imul(b,he)|0)+Math.imul(v,pe)|0,s=s+Math.imul(v,he)|0,i=i+Math.imul(y,ye)|0,n=(n=n+Math.imul(y,ge)|0)+Math.imul(g,ye)|0,s=s+Math.imul(g,ge)|0;var xe=(u+(i=i+Math.imul(c,be)|0)|0)+((8191&(n=(n=n+Math.imul(c,ve)|0)+Math.imul(p,be)|0))<<13)|0;u=((s=s+Math.imul(p,ve)|0)+(n>>>13)|0)+(xe>>>26)|0,xe&=67108863,i=Math.imul(U,$),n=(n=Math.imul(U,Y))+Math.imul(z,$)|0,s=Math.imul(z,Y),i=i+Math.imul(L,J)|0,n=(n=n+Math.imul(L,Z)|0)+Math.imul(j,J)|0,s=s+Math.imul(j,Z)|0,i=i+Math.imul(P,ee)|0,n=(n=n+Math.imul(P,te)|0)+Math.imul(D,ee)|0,s=s+Math.imul(D,te)|0,i=i+Math.imul(C,ie)|0,n=(n=n+Math.imul(C,ne)|0)+Math.imul(B,ie)|0,s=s+Math.imul(B,ne)|0,i=i+Math.imul(x,ae)|0,n=(n=n+Math.imul(x,oe)|0)+Math.imul(k,ae)|0,s=s+Math.imul(k,oe)|0,i=i+Math.imul(A,ue)|0,n=(n=n+Math.imul(A,le)|0)+Math.imul(M,ue)|0,s=s+Math.imul(M,le)|0,i=i+Math.imul(w,pe)|0,n=(n=n+Math.imul(w,he)|0)+Math.imul(E,pe)|0,s=s+Math.imul(E,he)|0,i=i+Math.imul(b,ye)|0,n=(n=n+Math.imul(b,ge)|0)+Math.imul(v,ye)|0,s=s+Math.imul(v,ge)|0;var ke=(u+(i=i+Math.imul(y,be)|0)|0)+((8191&(n=(n=n+Math.imul(y,ve)|0)+Math.imul(g,be)|0))<<13)|0;u=((s=s+Math.imul(g,ve)|0)+(n>>>13)|0)+(ke>>>26)|0,ke&=67108863,i=Math.imul(U,J),n=(n=Math.imul(U,Z))+Math.imul(z,J)|0,s=Math.imul(z,Z),i=i+Math.imul(L,ee)|0,n=(n=n+Math.imul(L,te)|0)+Math.imul(j,ee)|0,s=s+Math.imul(j,te)|0,i=i+Math.imul(P,ie)|0,n=(n=n+Math.imul(P,ne)|0)+Math.imul(D,ie)|0,s=s+Math.imul(D,ne)|0,i=i+Math.imul(C,ae)|0,n=(n=n+Math.imul(C,oe)|0)+Math.imul(B,ae)|0,s=s+Math.imul(B,oe)|0,i=i+Math.imul(x,ue)|0,n=(n=n+Math.imul(x,le)|0)+Math.imul(k,ue)|0,s=s+Math.imul(k,le)|0,i=i+Math.imul(A,pe)|0,n=(n=n+Math.imul(A,he)|0)+Math.imul(M,pe)|0,s=s+Math.imul(M,he)|0,i=i+Math.imul(w,ye)|0,n=(n=n+Math.imul(w,ge)|0)+Math.imul(E,ye)|0,s=s+Math.imul(E,ge)|0;var Ie=(u+(i=i+Math.imul(b,be)|0)|0)+((8191&(n=(n=n+Math.imul(b,ve)|0)+Math.imul(v,be)|0))<<13)|0;u=((s=s+Math.imul(v,ve)|0)+(n>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,i=Math.imul(U,ee),n=(n=Math.imul(U,te))+Math.imul(z,ee)|0,s=Math.imul(z,te),i=i+Math.imul(L,ie)|0,n=(n=n+Math.imul(L,ne)|0)+Math.imul(j,ie)|0,s=s+Math.imul(j,ne)|0,i=i+Math.imul(P,ae)|0,n=(n=n+Math.imul(P,oe)|0)+Math.imul(D,ae)|0,s=s+Math.imul(D,oe)|0,i=i+Math.imul(C,ue)|0,n=(n=n+Math.imul(C,le)|0)+Math.imul(B,ue)|0,s=s+Math.imul(B,le)|0,i=i+Math.imul(x,pe)|0,n=(n=n+Math.imul(x,he)|0)+Math.imul(k,pe)|0,s=s+Math.imul(k,he)|0,i=i+Math.imul(A,ye)|0,n=(n=n+Math.imul(A,ge)|0)+Math.imul(M,ye)|0,s=s+Math.imul(M,ge)|0;var Ce=(u+(i=i+Math.imul(w,be)|0)|0)+((8191&(n=(n=n+Math.imul(w,ve)|0)+Math.imul(E,be)|0))<<13)|0;u=((s=s+Math.imul(E,ve)|0)+(n>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,i=Math.imul(U,ie),n=(n=Math.imul(U,ne))+Math.imul(z,ie)|0,s=Math.imul(z,ne),i=i+Math.imul(L,ae)|0,n=(n=n+Math.imul(L,oe)|0)+Math.imul(j,ae)|0,s=s+Math.imul(j,oe)|0,i=i+Math.imul(P,ue)|0,n=(n=n+Math.imul(P,le)|0)+Math.imul(D,ue)|0,s=s+Math.imul(D,le)|0,i=i+Math.imul(C,pe)|0,n=(n=n+Math.imul(C,he)|0)+Math.imul(B,pe)|0,s=s+Math.imul(B,he)|0,i=i+Math.imul(x,ye)|0,n=(n=n+Math.imul(x,ge)|0)+Math.imul(k,ye)|0,s=s+Math.imul(k,ge)|0;var Be=(u+(i=i+Math.imul(A,be)|0)|0)+((8191&(n=(n=n+Math.imul(A,ve)|0)+Math.imul(M,be)|0))<<13)|0;u=((s=s+Math.imul(M,ve)|0)+(n>>>13)|0)+(Be>>>26)|0,Be&=67108863,i=Math.imul(U,ae),n=(n=Math.imul(U,oe))+Math.imul(z,ae)|0,s=Math.imul(z,oe),i=i+Math.imul(L,ue)|0,n=(n=n+Math.imul(L,le)|0)+Math.imul(j,ue)|0,s=s+Math.imul(j,le)|0,i=i+Math.imul(P,pe)|0,n=(n=n+Math.imul(P,he)|0)+Math.imul(D,pe)|0,s=s+Math.imul(D,he)|0,i=i+Math.imul(C,ye)|0,n=(n=n+Math.imul(C,ge)|0)+Math.imul(B,ye)|0,s=s+Math.imul(B,ge)|0;var Ne=(u+(i=i+Math.imul(x,be)|0)|0)+((8191&(n=(n=n+Math.imul(x,ve)|0)+Math.imul(k,be)|0))<<13)|0;u=((s=s+Math.imul(k,ve)|0)+(n>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,i=Math.imul(U,ue),n=(n=Math.imul(U,le))+Math.imul(z,ue)|0,s=Math.imul(z,le),i=i+Math.imul(L,pe)|0,n=(n=n+Math.imul(L,he)|0)+Math.imul(j,pe)|0,s=s+Math.imul(j,he)|0,i=i+Math.imul(P,ye)|0,n=(n=n+Math.imul(P,ge)|0)+Math.imul(D,ye)|0,s=s+Math.imul(D,ge)|0;var Pe=(u+(i=i+Math.imul(C,be)|0)|0)+((8191&(n=(n=n+Math.imul(C,ve)|0)+Math.imul(B,be)|0))<<13)|0;u=((s=s+Math.imul(B,ve)|0)+(n>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,i=Math.imul(U,pe),n=(n=Math.imul(U,he))+Math.imul(z,pe)|0,s=Math.imul(z,he),i=i+Math.imul(L,ye)|0,n=(n=n+Math.imul(L,ge)|0)+Math.imul(j,ye)|0,s=s+Math.imul(j,ge)|0;var De=(u+(i=i+Math.imul(P,be)|0)|0)+((8191&(n=(n=n+Math.imul(P,ve)|0)+Math.imul(D,be)|0))<<13)|0;u=((s=s+Math.imul(D,ve)|0)+(n>>>13)|0)+(De>>>26)|0,De&=67108863,i=Math.imul(U,ye),n=(n=Math.imul(U,ge))+Math.imul(z,ye)|0,s=Math.imul(z,ge);var qe=(u+(i=i+Math.imul(L,be)|0)|0)+((8191&(n=(n=n+Math.imul(L,ve)|0)+Math.imul(j,be)|0))<<13)|0;u=((s=s+Math.imul(j,ve)|0)+(n>>>13)|0)+(qe>>>26)|0,qe&=67108863;var Le=(u+(i=Math.imul(U,be))|0)+((8191&(n=(n=Math.imul(U,ve))+Math.imul(z,be)|0))<<13)|0;return u=((s=Math.imul(z,ve))+(n>>>13)|0)+(Le>>>26)|0,Le&=67108863,d[0]=_e,d[1]=we,d[2]=Ee,d[3]=Te,d[4]=Se,d[5]=Ae,d[6]=Me,d[7]=Re,d[8]=Oe,d[9]=xe,d[10]=ke,d[11]=Ie,d[12]=Ce,d[13]=Be,d[14]=Ne,d[15]=Pe,d[16]=De,d[17]=qe,d[18]=Le,0!==u&&(d[19]=u,r.length++),r};function jumboMulTo(e,t,r){return(new FFTM).mulp(e,t,r)}function FFTM(e,t){this.x=e,this.y=t}Math.imul||(o=smallMulTo),BN.prototype.mulTo=function mulTo(e,t){var r,i=this.length+e.length;return r=10===this.length&&10===e.length?o(this,e,t):i<63?smallMulTo(this,e,t):i<1024?function bigMulTo(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var i=0,n=0,s=0;s<r.length-1;s++){var a=n;n=0;for(var o=67108863&i,d=Math.min(s,t.length-1),u=Math.max(0,s-e.length+1);u<=d;u++){var l=s-u,c=(0|e.words[l])*(0|t.words[u]),p=67108863&c;o=67108863&(p=p+o|0),n+=(a=(a=a+(c/67108864|0)|0)+(p>>>26)|0)>>>26,a&=67108863}r.words[s]=o,i=a,a=n}return 0!==i?r.words[s]=i:r.length--,r.strip()}(this,e,t):jumboMulTo(this,e,t),r},FFTM.prototype.makeRBT=function makeRBT(e){for(var t=new Array(e),r=BN.prototype._countBits(e)-1,i=0;i<e;i++)t[i]=this.revBin(i,r,e);return t},FFTM.prototype.revBin=function revBin(e,t,r){if(0===e||e===r-1)return e;for(var i=0,n=0;n<t;n++)i|=(1&e)<<t-n-1,e>>=1;return i},FFTM.prototype.permute=function permute(e,t,r,i,n,s){for(var a=0;a<s;a++)i[a]=t[e[a]],n[a]=r[e[a]]},FFTM.prototype.transform=function transform(e,t,r,i,n,s){this.permute(s,e,t,r,i,n);for(var a=1;a<n;a<<=1)for(var o=a<<1,d=Math.cos(2*Math.PI/o),u=Math.sin(2*Math.PI/o),l=0;l<n;l+=o)for(var c=d,p=u,h=0;h<a;h++){var y=r[l+h],g=i[l+h],m=r[l+h+a],b=i[l+h+a],v=c*m-p*b;b=c*b+p*m,m=v,r[l+h]=y+m,i[l+h]=g+b,r[l+h+a]=y-m,i[l+h+a]=g-b,h!==o&&(v=d*c-u*p,p=d*p+u*c,c=v)}},FFTM.prototype.guessLen13b=function guessLen13b(e,t){var r=1|Math.max(t,e),i=1&r,n=0;for(r=r/2|0;r;r>>>=1)n++;return 1<<n+1+i},FFTM.prototype.conjugate=function conjugate(e,t,r){if(!(r<=1))for(var i=0;i<r/2;i++){var n=e[i];e[i]=e[r-i-1],e[r-i-1]=n,n=t[i],t[i]=-t[r-i-1],t[r-i-1]=-n}},FFTM.prototype.normalize13b=function normalize13b(e,t){for(var r=0,i=0;i<t/2;i++){var n=8192*Math.round(e[2*i+1]/t)+Math.round(e[2*i]/t)+r;e[i]=67108863&n,r=n<67108864?0:n/67108864|0}return e},FFTM.prototype.convert13b=function convert13b(e,t,r,i){for(var n=0,s=0;s<t;s++)n+=0|e[s],r[2*s]=8191&n,n>>>=13,r[2*s+1]=8191&n,n>>>=13;for(s=2*t;s<i;++s)r[s]=0;assert(0===n),assert(!(-8192&n))},FFTM.prototype.stub=function stub(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},FFTM.prototype.mulp=function mulp(e,t,r){var i=2*this.guessLen13b(e.length,t.length),n=this.makeRBT(i),s=this.stub(i),a=new Array(i),o=new Array(i),d=new Array(i),u=new Array(i),l=new Array(i),c=new Array(i),p=r.words;p.length=i,this.convert13b(e.words,e.length,a,i),this.convert13b(t.words,t.length,u,i),this.transform(a,s,o,d,i,n),this.transform(u,s,l,c,i,n);for(var h=0;h<i;h++){var y=o[h]*l[h]-d[h]*c[h];d[h]=o[h]*c[h]+d[h]*l[h],o[h]=y}return this.conjugate(o,d,i),this.transform(o,d,p,s,i,n),this.conjugate(p,s,i),this.normalize13b(p,i),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},BN.prototype.mul=function mul(e){var t=new BN(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},BN.prototype.mulf=function mulf(e){var t=new BN(null);return t.words=new Array(this.length+e.length),jumboMulTo(this,e,t)},BN.prototype.imul=function imul(e){return this.clone().mulTo(e,this)},BN.prototype.imuln=function imuln(e){assert("number"==typeof e),assert(e<67108864);for(var t=0,r=0;r<this.length;r++){var i=(0|this.words[r])*e,n=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=n>>>26,this.words[r]=67108863&n}return 0!==t&&(this.words[r]=t,this.length++),this},BN.prototype.muln=function muln(e){return this.clone().imuln(e)},BN.prototype.sqr=function sqr(){return this.mul(this)},BN.prototype.isqr=function isqr(){return this.imul(this.clone())},BN.prototype.pow=function pow(e){var t=function toBitArray(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var i=r/26|0,n=r%26;t[r]=(e.words[i]&1<<n)>>>n}return t}(e);if(0===t.length)return new BN(1);for(var r=this,i=0;i<t.length&&0===t[i];i++,r=r.sqr());if(++i<t.length)for(var n=r.sqr();i<t.length;i++,n=n.sqr())0!==t[i]&&(r=r.mul(n));return r},BN.prototype.iushln=function iushln(e){assert("number"==typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,n=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(t=0;t<this.length;t++){var a=this.words[t]&n,o=(0|this.words[t])-a<<r;this.words[t]=o|s,s=a>>>26-r}s&&(this.words[t]=s,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},BN.prototype.ishln=function ishln(e){return assert(0===this.negative),this.iushln(e)},BN.prototype.iushrn=function iushrn(e,t,r){var i;assert("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var n=e%26,s=Math.min((e-n)/26,this.length),a=67108863^67108863>>>n<<n,o=r;if(i-=s,i=Math.max(0,i),o){for(var d=0;d<s;d++)o.words[d]=this.words[d];o.length=s}if(0===s);else if(this.length>s)for(this.length-=s,d=0;d<this.length;d++)this.words[d]=this.words[d+s];else this.words[0]=0,this.length=1;var u=0;for(d=this.length-1;d>=0&&(0!==u||d>=i);d--){var l=0|this.words[d];this.words[d]=u<<26-n|l>>>n,u=l&a}return o&&0!==u&&(o.words[o.length++]=u),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},BN.prototype.ishrn=function ishrn(e,t,r){return assert(0===this.negative),this.iushrn(e,t,r)},BN.prototype.shln=function shln(e){return this.clone().ishln(e)},BN.prototype.ushln=function ushln(e){return this.clone().iushln(e)},BN.prototype.shrn=function shrn(e){return this.clone().ishrn(e)},BN.prototype.ushrn=function ushrn(e){return this.clone().iushrn(e)},BN.prototype.testn=function testn(e){assert("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,i=1<<t;return!(this.length<=r)&&!!(this.words[r]&i)},BN.prototype.imaskn=function imaskn(e){assert("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(assert(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},BN.prototype.maskn=function maskn(e){return this.clone().imaskn(e)},BN.prototype.iaddn=function iaddn(e){return assert("number"==typeof e),assert(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},BN.prototype._iaddn=function _iaddn(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},BN.prototype.isubn=function isubn(e){if(assert("number"==typeof e),assert(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},BN.prototype.addn=function addn(e){return this.clone().iaddn(e)},BN.prototype.subn=function subn(e){return this.clone().isubn(e)},BN.prototype.iabs=function iabs(){return this.negative=0,this},BN.prototype.abs=function abs(){return this.clone().iabs()},BN.prototype._ishlnsubmul=function _ishlnsubmul(e,t,r){var i,n,s=e.length+r;this._expand(s);var a=0;for(i=0;i<e.length;i++){n=(0|this.words[i+r])+a;var o=(0|e.words[i])*t;a=((n-=67108863&o)>>26)-(o/67108864|0),this.words[i+r]=67108863&n}for(;i<this.length-r;i++)a=(n=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&n;if(0===a)return this.strip();for(assert(-1===a),a=0,i=0;i<this.length;i++)a=(n=-(0|this.words[i])+a)>>26,this.words[i]=67108863&n;return this.negative=1,this.strip()},BN.prototype._wordDiv=function _wordDiv(e,t){var r=(this.length,e.length),i=this.clone(),n=e,s=0|n.words[n.length-1];0!==(r=26-this._countBits(s))&&(n=n.ushln(r),i.iushln(r),s=0|n.words[n.length-1]);var a,o=i.length-n.length;if("mod"!==t){(a=new BN(null)).length=o+1,a.words=new Array(a.length);for(var d=0;d<a.length;d++)a.words[d]=0}var u=i.clone()._ishlnsubmul(n,1,o);0===u.negative&&(i=u,a&&(a.words[o]=1));for(var l=o-1;l>=0;l--){var c=67108864*(0|i.words[n.length+l])+(0|i.words[n.length+l-1]);for(c=Math.min(c/s|0,67108863),i._ishlnsubmul(n,c,l);0!==i.negative;)c--,i.negative=0,i._ishlnsubmul(n,1,l),i.isZero()||(i.negative^=1);a&&(a.words[l]=c)}return a&&a.strip(),i.strip(),"div"!==t&&0!==r&&i.iushrn(r),{div:a||null,mod:i}},BN.prototype.divmod=function divmod(e,t,r){return assert(!e.isZero()),this.isZero()?{div:new BN(0),mod:new BN(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(i=s.div.neg()),"div"!==t&&(n=s.mod.neg(),r&&0!==n.negative&&n.iadd(e)),{div:i,mod:n}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(i=s.div.neg()),{div:i,mod:s.mod}):this.negative&e.negative?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(n=s.mod.neg(),r&&0!==n.negative&&n.isub(e)),{div:s.div,mod:n}):e.length>this.length||this.cmp(e)<0?{div:new BN(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new BN(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new BN(this.modn(e.words[0]))}:this._wordDiv(e,t);var i,n,s},BN.prototype.div=function div(e){return this.divmod(e,"div",!1).div},BN.prototype.mod=function mod(e){return this.divmod(e,"mod",!1).mod},BN.prototype.umod=function umod(e){return this.divmod(e,"mod",!0).mod},BN.prototype.divRound=function divRound(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,i=e.ushrn(1),n=e.andln(1),s=r.cmp(i);return s<0||1===n&&0===s?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},BN.prototype.modn=function modn(e){assert(e<=67108863);for(var t=(1<<26)%e,r=0,i=this.length-1;i>=0;i--)r=(t*r+(0|this.words[i]))%e;return r},BN.prototype.idivn=function idivn(e){assert(e<=67108863);for(var t=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*t;this.words[r]=i/e|0,t=i%e}return this.strip()},BN.prototype.divn=function divn(e){return this.clone().idivn(e)},BN.prototype.egcd=function egcd(e){assert(0===e.negative),assert(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new BN(1),n=new BN(0),s=new BN(0),a=new BN(1),o=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++o;for(var d=r.clone(),u=t.clone();!t.isZero();){for(var l=0,c=1;!(t.words[0]&c)&&l<26;++l,c<<=1);if(l>0)for(t.iushrn(l);l-- >0;)(i.isOdd()||n.isOdd())&&(i.iadd(d),n.isub(u)),i.iushrn(1),n.iushrn(1);for(var p=0,h=1;!(r.words[0]&h)&&p<26;++p,h<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(s.isOdd()||a.isOdd())&&(s.iadd(d),a.isub(u)),s.iushrn(1),a.iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(s),n.isub(a)):(r.isub(t),s.isub(i),a.isub(n))}return{a:s,b:a,gcd:r.iushln(o)}},BN.prototype._invmp=function _invmp(e){assert(0===e.negative),assert(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,n=new BN(1),s=new BN(0),a=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var o=0,d=1;!(t.words[0]&d)&&o<26;++o,d<<=1);if(o>0)for(t.iushrn(o);o-- >0;)n.isOdd()&&n.iadd(a),n.iushrn(1);for(var u=0,l=1;!(r.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(r.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(a),s.iushrn(1);t.cmp(r)>=0?(t.isub(r),n.isub(s)):(r.isub(t),s.isub(n))}return(i=0===t.cmpn(1)?n:s).cmpn(0)<0&&i.iadd(e),i},BN.prototype.gcd=function gcd(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var i=0;t.isEven()&&r.isEven();i++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var n=t.cmp(r);if(n<0){var s=t;t=r,r=s}else if(0===n||0===r.cmpn(1))break;t.isub(r)}return r.iushln(i)},BN.prototype.invm=function invm(e){return this.egcd(e).a.umod(e)},BN.prototype.isEven=function isEven(){return!(1&this.words[0])},BN.prototype.isOdd=function isOdd(){return!(1&~this.words[0])},BN.prototype.andln=function andln(e){return this.words[0]&e},BN.prototype.bincn=function bincn(e){assert("number"==typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var n=i,s=r;0!==n&&s<this.length;s++){var a=0|this.words[s];n=(a+=n)>>>26,a&=67108863,this.words[s]=a}return 0!==n&&(this.words[s]=n,this.length++),this},BN.prototype.isZero=function isZero(){return 1===this.length&&0===this.words[0]},BN.prototype.cmpn=function cmpn(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)t=1;else{r&&(e=-e),assert(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},BN.prototype.cmp=function cmp(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},BN.prototype.ucmp=function ucmp(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var i=0|this.words[r],n=0|e.words[r];if(i!==n){i<n?t=-1:i>n&&(t=1);break}}return t},BN.prototype.gtn=function gtn(e){return 1===this.cmpn(e)},BN.prototype.gt=function gt(e){return 1===this.cmp(e)},BN.prototype.gten=function gten(e){return this.cmpn(e)>=0},BN.prototype.gte=function gte(e){return this.cmp(e)>=0},BN.prototype.ltn=function ltn(e){return-1===this.cmpn(e)},BN.prototype.lt=function lt(e){return-1===this.cmp(e)},BN.prototype.lten=function lten(e){return this.cmpn(e)<=0},BN.prototype.lte=function lte(e){return this.cmp(e)<=0},BN.prototype.eqn=function eqn(e){return 0===this.cmpn(e)},BN.prototype.eq=function eq(e){return 0===this.cmp(e)},BN.red=function red(e){return new Red(e)},BN.prototype.toRed=function toRed(e){return assert(!this.red,"Already a number in reduction context"),assert(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},BN.prototype.fromRed=function fromRed(){return assert(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},BN.prototype._forceRed=function _forceRed(e){return this.red=e,this},BN.prototype.forceRed=function forceRed(e){return assert(!this.red,"Already a number in reduction context"),this._forceRed(e)},BN.prototype.redAdd=function redAdd(e){return assert(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},BN.prototype.redIAdd=function redIAdd(e){return assert(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},BN.prototype.redSub=function redSub(e){return assert(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},BN.prototype.redISub=function redISub(e){return assert(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},BN.prototype.redShl=function redShl(e){return assert(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},BN.prototype.redMul=function redMul(e){return assert(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},BN.prototype.redIMul=function redIMul(e){return assert(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},BN.prototype.redSqr=function redSqr(){return assert(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},BN.prototype.redISqr=function redISqr(){return assert(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},BN.prototype.redSqrt=function redSqrt(){return assert(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},BN.prototype.redInvm=function redInvm(){return assert(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},BN.prototype.redNeg=function redNeg(){return assert(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},BN.prototype.redPow=function redPow(e){return assert(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var d={k256:null,p224:null,p192:null,p25519:null};function MPrime(e,t){this.name=e,this.p=new BN(t,16),this.n=this.p.bitLength(),this.k=new BN(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function K256(){MPrime.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function P224(){MPrime.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function P192(){MPrime.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function P25519(){MPrime.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function Red(e){if("string"==typeof e){var t=BN._prime(e);this.m=t.p,this.prime=t}else assert(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function Mont(e){Red.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new BN(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}MPrime.prototype._tmp=function _tmp(){var e=new BN(null);return e.words=new Array(Math.ceil(this.n/13)),e},MPrime.prototype.ireduce=function ireduce(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var i=t<this.n?-1:r.ucmp(this.p);return 0===i?(r.words[0]=0,r.length=1):i>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},MPrime.prototype.split=function split(e,t){e.iushrn(this.n,0,t)},MPrime.prototype.imulK=function imulK(e){return e.imul(this.k)},inherits(K256,MPrime),K256.prototype.split=function split(e,t){for(var r=4194303,i=Math.min(e.length,9),n=0;n<i;n++)t.words[n]=e.words[n];if(t.length=i,e.length<=9)return e.words[0]=0,void(e.length=1);var s=e.words[9];for(t.words[t.length++]=s&r,n=10;n<e.length;n++){var a=0|e.words[n];e.words[n-10]=(a&r)<<4|s>>>22,s=a}s>>>=22,e.words[n-10]=s,0===s&&e.length>10?e.length-=10:e.length-=9},K256.prototype.imulK=function imulK(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var i=0|e.words[r];t+=977*i,e.words[r]=67108863&t,t=64*i+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},inherits(P224,MPrime),inherits(P192,MPrime),inherits(P25519,MPrime),P25519.prototype.imulK=function imulK(e){for(var t=0,r=0;r<e.length;r++){var i=19*(0|e.words[r])+t,n=67108863&i;i>>>=26,e.words[r]=n,t=i}return 0!==t&&(e.words[e.length++]=t),e},BN._prime=function prime(e){if(d[e])return d[e];var prime;if("k256"===e)prime=new K256;else if("p224"===e)prime=new P224;else if("p192"===e)prime=new P192;else{if("p25519"!==e)throw new Error("Unknown prime "+e);prime=new P25519}return d[e]=prime,prime},Red.prototype._verify1=function _verify1(e){assert(0===e.negative,"red works only with positives"),assert(e.red,"red works only with red numbers")},Red.prototype._verify2=function _verify2(e,t){assert(!(e.negative|t.negative),"red works only with positives"),assert(e.red&&e.red===t.red,"red works only with red numbers")},Red.prototype.imod=function imod(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},Red.prototype.neg=function neg(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},Red.prototype.add=function add(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},Red.prototype.iadd=function iadd(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},Red.prototype.sub=function sub(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},Red.prototype.isub=function isub(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},Red.prototype.shl=function shl(e,t){return this._verify1(e),this.imod(e.ushln(t))},Red.prototype.imul=function imul(e,t){return this._verify2(e,t),this.imod(e.imul(t))},Red.prototype.mul=function mul(e,t){return this._verify2(e,t),this.imod(e.mul(t))},Red.prototype.isqr=function isqr(e){return this.imul(e,e.clone())},Red.prototype.sqr=function sqr(e){return this.mul(e,e)},Red.prototype.sqrt=function sqrt(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(assert(t%2==1),3===t){var r=this.m.add(new BN(1)).iushrn(2);return this.pow(e,r)}for(var i=this.m.subn(1),n=0;!i.isZero()&&0===i.andln(1);)n++,i.iushrn(1);assert(!i.isZero());var s=new BN(1).toRed(this),a=s.redNeg(),o=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new BN(2*d*d).toRed(this);0!==this.pow(d,o).cmp(a);)d.redIAdd(a);for(var u=this.pow(d,i),l=this.pow(e,i.addn(1).iushrn(1)),c=this.pow(e,i),p=n;0!==c.cmp(s);){for(var h=c,y=0;0!==h.cmp(s);y++)h=h.redSqr();assert(y<p);var g=this.pow(u,new BN(1).iushln(p-y-1));l=l.redMul(g),u=g.redSqr(),c=c.redMul(u),p=y}return l},Red.prototype.invm=function invm(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},Red.prototype.pow=function pow(e,t){if(t.isZero())return new BN(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new BN(1).toRed(this),r[1]=e;for(var i=2;i<r.length;i++)r[i]=this.mul(r[i-1],e);var n=r[0],s=0,a=0,o=t.bitLength()%26;for(0===o&&(o=26),i=t.length-1;i>=0;i--){for(var d=t.words[i],u=o-1;u>=0;u--){var l=d>>u&1;n!==r[0]&&(n=this.sqr(n)),0!==l||0!==s?(s<<=1,s|=l,(4===++a||0===i&&0===u)&&(n=this.mul(n,r[s]),a=0,s=0)):a=0}o=26}return n},Red.prototype.convertTo=function convertTo(e){var t=e.umod(this.m);return t===e?t.clone():t},Red.prototype.convertFrom=function convertFrom(e){var t=e.clone();return t.red=null,t},BN.mont=function mont(e){return new Mont(e)},inherits(Mont,Red),Mont.prototype.convertTo=function convertTo(e){return this.imod(e.ushln(this.shift))},Mont.prototype.convertFrom=function convertFrom(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},Mont.prototype.imul=function imul(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),s=n;return n.cmp(this.m)>=0?s=n.isub(this.m):n.cmpn(0)<0&&(s=n.iadd(this.m)),s._forceRed(this)},Mont.prototype.mul=function mul(e,t){if(e.isZero()||t.isZero())return new BN(0)._forceRed(this);var r=e.mul(t),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),s=n;return n.cmp(this.m)>=0?s=n.isub(this.m):n.cmpn(0)<0&&(s=n.iadd(this.m)),s._forceRed(this)},Mont.prototype.invm=function invm(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=r.nmd(e),this)},7048:(e,t,r)=>{var i;function Rand(e){this.rand=e}if(e.exports=function rand(e){return i||(i=new Rand(null)),i.generate(e)},e.exports.Rand=Rand,Rand.prototype.generate=function generate(e){return this._rand(e)},Rand.prototype._rand=function _rand(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),r=0;r<t.length;r++)t[r]=this.rand.getByte();return t},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?Rand.prototype._rand=function _rand(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?Rand.prototype._rand=function _rand(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:"object"==typeof window&&(Rand.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var n=r(3553);if("function"!=typeof n.randomBytes)throw new Error("Not supported");Rand.prototype._rand=function _rand(e){return n.randomBytes(e)}}catch(e){}},1048:(e,t,r)=>{"use strict";var i=r(7991),n=r(9318),s="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=Buffer,t.SlowBuffer=function SlowBuffer(e){+e!=e&&(e=0);return Buffer.alloc(+e)},t.INSPECT_MAX_BYTES=50;var a=2147483647;function createBuffer(e){if(e>a)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,Buffer.prototype),t}function Buffer(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return allocUnsafe(e)}return from(e,t,r)}function from(e,t,r){if("string"==typeof e)return function fromString(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!Buffer.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var r=0|byteLength(e,t),i=createBuffer(r),n=i.write(e,t);n!==r&&(i=i.slice(0,n));return i}(e,t);if(ArrayBuffer.isView(e))return function fromArrayView(e){if(isInstance(e,Uint8Array)){var t=new Uint8Array(e);return fromArrayBuffer(t.buffer,t.byteOffset,t.byteLength)}return fromArrayLike(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(isInstance(e,ArrayBuffer)||e&&isInstance(e.buffer,ArrayBuffer))return fromArrayBuffer(e,t,r);if("undefined"!=typeof SharedArrayBuffer&&(isInstance(e,SharedArrayBuffer)||e&&isInstance(e.buffer,SharedArrayBuffer)))return fromArrayBuffer(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var i=e.valueOf&&e.valueOf();if(null!=i&&i!==e)return Buffer.from(i,t,r);var n=function fromObject(e){if(Buffer.isBuffer(e)){var t=0|checked(e.length),r=createBuffer(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!=typeof e.length||numberIsNaN(e.length)?createBuffer(0):fromArrayLike(e);if("Buffer"===e.type&&Array.isArray(e.data))return fromArrayLike(e.data)}(e);if(n)return n;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return Buffer.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function assertSize(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function allocUnsafe(e){return assertSize(e),createBuffer(e<0?0:0|checked(e))}function fromArrayLike(e){for(var t=e.length<0?0:0|checked(e.length),r=createBuffer(t),i=0;i<t;i+=1)r[i]=255&e[i];return r}function fromArrayBuffer(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var i;return i=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(i,Buffer.prototype),i}function checked(e){if(e>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|e}function byteLength(e,t){if(Buffer.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||isInstance(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,i=arguments.length>2&&!0===arguments[2];if(!i&&0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return utf8ToBytes(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return base64ToBytes(e).length;default:if(n)return i?-1:utf8ToBytes(e).length;t=(""+t).toLowerCase(),n=!0}}function slowToString(e,t,r){var i=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return hexSlice(this,t,r);case"utf8":case"utf-8":return utf8Slice(this,t,r);case"ascii":return asciiSlice(this,t,r);case"latin1":case"binary":return latin1Slice(this,t,r);case"base64":return base64Slice(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,t,r);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function swap(e,t,r){var i=e[t];e[t]=e[r],e[r]=i}function bidirectionalIndexOf(e,t,r,i,n){if(0===e.length)return-1;if("string"==typeof r?(i=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),numberIsNaN(r=+r)&&(r=n?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(n)return-1;r=e.length-1}else if(r<0){if(!n)return-1;r=0}if("string"==typeof t&&(t=Buffer.from(t,i)),Buffer.isBuffer(t))return 0===t.length?-1:arrayIndexOf(e,t,r,i,n);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?n?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):arrayIndexOf(e,[t],r,i,n);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(e,t,r,i,n){var s,a=1,o=e.length,d=t.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return-1;a=2,o/=2,d/=2,r/=2}function read(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(n){var u=-1;for(s=r;s<o;s++)if(read(e,s)===read(t,-1===u?0:s-u)){if(-1===u&&(u=s),s-u+1===d)return u*a}else-1!==u&&(s-=s-u),u=-1}else for(r+d>o&&(r=o-d),s=r;s>=0;s--){for(var l=!0,c=0;c<d;c++)if(read(e,s+c)!==read(t,c)){l=!1;break}if(l)return s}return-1}function hexWrite(e,t,r,i){r=Number(r)||0;var n=e.length-r;i?(i=Number(i))>n&&(i=n):i=n;var s=t.length;i>s/2&&(i=s/2);for(var a=0;a<i;++a){var o=parseInt(t.substr(2*a,2),16);if(numberIsNaN(o))return a;e[r+a]=o}return a}function utf8Write(e,t,r,i){return blitBuffer(utf8ToBytes(t,e.length-r),e,r,i)}function asciiWrite(e,t,r,i){return blitBuffer(function asciiToBytes(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,i)}function base64Write(e,t,r,i){return blitBuffer(base64ToBytes(t),e,r,i)}function ucs2Write(e,t,r,i){return blitBuffer(function utf16leToBytes(e,t){for(var r,i,n,s=[],a=0;a<e.length&&!((t-=2)<0);++a)i=(r=e.charCodeAt(a))>>8,n=r%256,s.push(n),s.push(i);return s}(t,e.length-r),e,r,i)}function base64Slice(e,t,r){return 0===t&&r===e.length?i.fromByteArray(e):i.fromByteArray(e.slice(t,r))}function utf8Slice(e,t,r){r=Math.min(e.length,r);for(var i=[],n=t;n<r;){var s,a,d,u,l=e[n],c=null,p=l>239?4:l>223?3:l>191?2:1;if(n+p<=r)switch(p){case 1:l<128&&(c=l);break;case 2:128==(192&(s=e[n+1]))&&(u=(31&l)<<6|63&s)>127&&(c=u);break;case 3:s=e[n+1],a=e[n+2],128==(192&s)&&128==(192&a)&&(u=(15&l)<<12|(63&s)<<6|63&a)>2047&&(u<55296||u>57343)&&(c=u);break;case 4:s=e[n+1],a=e[n+2],d=e[n+3],128==(192&s)&&128==(192&a)&&128==(192&d)&&(u=(15&l)<<18|(63&s)<<12|(63&a)<<6|63&d)>65535&&u<1114112&&(c=u)}null===c?(c=65533,p=1):c>65535&&(c-=65536,i.push(c>>>10&1023|55296),c=56320|1023&c),i.push(c),n+=p}return function decodeCodePointsArray(e){var t=e.length;if(t<=o)return String.fromCharCode.apply(String,e);var r="",i=0;for(;i<t;)r+=String.fromCharCode.apply(String,e.slice(i,i+=o));return r}(i)}t.kMaxLength=a,Buffer.TYPED_ARRAY_SUPPORT=function typedArraySupport(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),Buffer.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(Buffer.prototype,"parent",{enumerable:!0,get:function(){if(Buffer.isBuffer(this))return this.buffer}}),Object.defineProperty(Buffer.prototype,"offset",{enumerable:!0,get:function(){if(Buffer.isBuffer(this))return this.byteOffset}}),Buffer.poolSize=8192,Buffer.from=function(e,t,r){return from(e,t,r)},Object.setPrototypeOf(Buffer.prototype,Uint8Array.prototype),Object.setPrototypeOf(Buffer,Uint8Array),Buffer.alloc=function(e,t,r){return function alloc(e,t,r){return assertSize(e),e<=0?createBuffer(e):void 0!==t?"string"==typeof r?createBuffer(e).fill(t,r):createBuffer(e).fill(t):createBuffer(e)}(e,t,r)},Buffer.allocUnsafe=function(e){return allocUnsafe(e)},Buffer.allocUnsafeSlow=function(e){return allocUnsafe(e)},Buffer.isBuffer=function isBuffer(e){return null!=e&&!0===e._isBuffer&&e!==Buffer.prototype},Buffer.compare=function compare(e,t){if(isInstance(e,Uint8Array)&&(e=Buffer.from(e,e.offset,e.byteLength)),isInstance(t,Uint8Array)&&(t=Buffer.from(t,t.offset,t.byteLength)),!Buffer.isBuffer(e)||!Buffer.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,i=t.length,n=0,s=Math.min(r,i);n<s;++n)if(e[n]!==t[n]){r=e[n],i=t[n];break}return r<i?-1:i<r?1:0},Buffer.isEncoding=function isEncoding(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function concat(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return Buffer.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var i=Buffer.allocUnsafe(t),n=0;for(r=0;r<e.length;++r){var s=e[r];if(isInstance(s,Uint8Array))n+s.length>i.length?Buffer.from(s).copy(i,n):Uint8Array.prototype.set.call(i,s,n);else{if(!Buffer.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(i,n)}n+=s.length}return i},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function swap16(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)swap(this,t,t+1);return this},Buffer.prototype.swap32=function swap32(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)swap(this,t,t+3),swap(this,t+1,t+2);return this},Buffer.prototype.swap64=function swap64(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)swap(this,t,t+7),swap(this,t+1,t+6),swap(this,t+2,t+5),swap(this,t+3,t+4);return this},Buffer.prototype.toString=function toString(){var e=this.length;return 0===e?"":0===arguments.length?utf8Slice(this,0,e):slowToString.apply(this,arguments)},Buffer.prototype.toLocaleString=Buffer.prototype.toString,Buffer.prototype.equals=function equals(e){if(!Buffer.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===Buffer.compare(this,e)},Buffer.prototype.inspect=function inspect(){var e="",r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},s&&(Buffer.prototype[s]=Buffer.prototype.inspect),Buffer.prototype.compare=function compare(e,t,r,i,n){if(isInstance(e,Uint8Array)&&(e=Buffer.from(e,e.offset,e.byteLength)),!Buffer.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===i&&(i=0),void 0===n&&(n=this.length),t<0||r>e.length||i<0||n>this.length)throw new RangeError("out of range index");if(i>=n&&t>=r)return 0;if(i>=n)return-1;if(t>=r)return 1;if(this===e)return 0;for(var s=(n>>>=0)-(i>>>=0),a=(r>>>=0)-(t>>>=0),o=Math.min(s,a),d=this.slice(i,n),u=e.slice(t,r),l=0;l<o;++l)if(d[l]!==u[l]){s=d[l],a=u[l];break}return s<a?-1:a<s?1:0},Buffer.prototype.includes=function includes(e,t,r){return-1!==this.indexOf(e,t,r)},Buffer.prototype.indexOf=function indexOf(e,t,r){return bidirectionalIndexOf(this,e,t,r,!0)},Buffer.prototype.lastIndexOf=function lastIndexOf(e,t,r){return bidirectionalIndexOf(this,e,t,r,!1)},Buffer.prototype.write=function write(e,t,r,i){if(void 0===t)i="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)i=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===i&&(i="utf8")):(i=r,r=void 0)}var n=this.length-t;if((void 0===r||r>n)&&(r=n),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var s=!1;;)switch(i){case"hex":return hexWrite(this,e,t,r);case"utf8":case"utf-8":return utf8Write(this,e,t,r);case"ascii":case"latin1":case"binary":return asciiWrite(this,e,t,r);case"base64":return base64Write(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,e,t,r);default:if(s)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),s=!0}},Buffer.prototype.toJSON=function toJSON(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var o=4096;function asciiSlice(e,t,r){var i="";r=Math.min(e.length,r);for(var n=t;n<r;++n)i+=String.fromCharCode(127&e[n]);return i}function latin1Slice(e,t,r){var i="";r=Math.min(e.length,r);for(var n=t;n<r;++n)i+=String.fromCharCode(e[n]);return i}function hexSlice(e,t,r){var i=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>i)&&(r=i);for(var n="",s=t;s<r;++s)n+=u[e[s]];return n}function utf16leSlice(e,t,r){for(var i=e.slice(t,r),n="",s=0;s<i.length-1;s+=2)n+=String.fromCharCode(i[s]+256*i[s+1]);return n}function checkOffset(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function checkInt(e,t,r,i,n,s){if(!Buffer.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>n||t<s)throw new RangeError('"value" argument is out of bounds');if(r+i>e.length)throw new RangeError("Index out of range")}function checkIEEE754(e,t,r,i,n,s){if(r+i>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function writeFloat(e,t,r,i,s){return t=+t,r>>>=0,s||checkIEEE754(e,0,r,4),n.write(e,t,r,i,23,4),r+4}function writeDouble(e,t,r,i,s){return t=+t,r>>>=0,s||checkIEEE754(e,0,r,8),n.write(e,t,r,i,52,8),r+8}Buffer.prototype.slice=function slice(e,t){var r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var i=this.subarray(e,t);return Object.setPrototypeOf(i,Buffer.prototype),i},Buffer.prototype.readUintLE=Buffer.prototype.readUIntLE=function readUIntLE(e,t,r){e>>>=0,t>>>=0,r||checkOffset(e,t,this.length);for(var i=this[e],n=1,s=0;++s<t&&(n*=256);)i+=this[e+s]*n;return i},Buffer.prototype.readUintBE=Buffer.prototype.readUIntBE=function readUIntBE(e,t,r){e>>>=0,t>>>=0,r||checkOffset(e,t,this.length);for(var i=this[e+--t],n=1;t>0&&(n*=256);)i+=this[e+--t]*n;return i},Buffer.prototype.readUint8=Buffer.prototype.readUInt8=function readUInt8(e,t){return e>>>=0,t||checkOffset(e,1,this.length),this[e]},Buffer.prototype.readUint16LE=Buffer.prototype.readUInt16LE=function readUInt16LE(e,t){return e>>>=0,t||checkOffset(e,2,this.length),this[e]|this[e+1]<<8},Buffer.prototype.readUint16BE=Buffer.prototype.readUInt16BE=function readUInt16BE(e,t){return e>>>=0,t||checkOffset(e,2,this.length),this[e]<<8|this[e+1]},Buffer.prototype.readUint32LE=Buffer.prototype.readUInt32LE=function readUInt32LE(e,t){return e>>>=0,t||checkOffset(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},Buffer.prototype.readUint32BE=Buffer.prototype.readUInt32BE=function readUInt32BE(e,t){return e>>>=0,t||checkOffset(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},Buffer.prototype.readIntLE=function readIntLE(e,t,r){e>>>=0,t>>>=0,r||checkOffset(e,t,this.length);for(var i=this[e],n=1,s=0;++s<t&&(n*=256);)i+=this[e+s]*n;return i>=(n*=128)&&(i-=Math.pow(2,8*t)),i},Buffer.prototype.readIntBE=function readIntBE(e,t,r){e>>>=0,t>>>=0,r||checkOffset(e,t,this.length);for(var i=t,n=1,s=this[e+--i];i>0&&(n*=256);)s+=this[e+--i]*n;return s>=(n*=128)&&(s-=Math.pow(2,8*t)),s},Buffer.prototype.readInt8=function readInt8(e,t){return e>>>=0,t||checkOffset(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},Buffer.prototype.readInt16LE=function readInt16LE(e,t){e>>>=0,t||checkOffset(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt16BE=function readInt16BE(e,t){e>>>=0,t||checkOffset(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt32LE=function readInt32LE(e,t){return e>>>=0,t||checkOffset(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},Buffer.prototype.readInt32BE=function readInt32BE(e,t){return e>>>=0,t||checkOffset(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},Buffer.prototype.readFloatLE=function readFloatLE(e,t){return e>>>=0,t||checkOffset(e,4,this.length),n.read(this,e,!0,23,4)},Buffer.prototype.readFloatBE=function readFloatBE(e,t){return e>>>=0,t||checkOffset(e,4,this.length),n.read(this,e,!1,23,4)},Buffer.prototype.readDoubleLE=function readDoubleLE(e,t){return e>>>=0,t||checkOffset(e,8,this.length),n.read(this,e,!0,52,8)},Buffer.prototype.readDoubleBE=function readDoubleBE(e,t){return e>>>=0,t||checkOffset(e,8,this.length),n.read(this,e,!1,52,8)},Buffer.prototype.writeUintLE=Buffer.prototype.writeUIntLE=function writeUIntLE(e,t,r,i){(e=+e,t>>>=0,r>>>=0,i)||checkInt(this,e,t,r,Math.pow(2,8*r)-1,0);var n=1,s=0;for(this[t]=255&e;++s<r&&(n*=256);)this[t+s]=e/n&255;return t+r},Buffer.prototype.writeUintBE=Buffer.prototype.writeUIntBE=function writeUIntBE(e,t,r,i){(e=+e,t>>>=0,r>>>=0,i)||checkInt(this,e,t,r,Math.pow(2,8*r)-1,0);var n=r-1,s=1;for(this[t+n]=255&e;--n>=0&&(s*=256);)this[t+n]=e/s&255;return t+r},Buffer.prototype.writeUint8=Buffer.prototype.writeUInt8=function writeUInt8(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,1,255,0),this[t]=255&e,t+1},Buffer.prototype.writeUint16LE=Buffer.prototype.writeUInt16LE=function writeUInt16LE(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},Buffer.prototype.writeUint16BE=Buffer.prototype.writeUInt16BE=function writeUInt16BE(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},Buffer.prototype.writeUint32LE=Buffer.prototype.writeUInt32LE=function writeUInt32LE(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},Buffer.prototype.writeUint32BE=Buffer.prototype.writeUInt32BE=function writeUInt32BE(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},Buffer.prototype.writeIntLE=function writeIntLE(e,t,r,i){if(e=+e,t>>>=0,!i){var n=Math.pow(2,8*r-1);checkInt(this,e,t,r,n-1,-n)}var s=0,a=1,o=0;for(this[t]=255&e;++s<r&&(a*=256);)e<0&&0===o&&0!==this[t+s-1]&&(o=1),this[t+s]=(e/a|0)-o&255;return t+r},Buffer.prototype.writeIntBE=function writeIntBE(e,t,r,i){if(e=+e,t>>>=0,!i){var n=Math.pow(2,8*r-1);checkInt(this,e,t,r,n-1,-n)}var s=r-1,a=1,o=0;for(this[t+s]=255&e;--s>=0&&(a*=256);)e<0&&0===o&&0!==this[t+s+1]&&(o=1),this[t+s]=(e/a|0)-o&255;return t+r},Buffer.prototype.writeInt8=function writeInt8(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},Buffer.prototype.writeInt16LE=function writeInt16LE(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},Buffer.prototype.writeInt16BE=function writeInt16BE(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},Buffer.prototype.writeInt32LE=function writeInt32LE(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},Buffer.prototype.writeInt32BE=function writeInt32BE(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},Buffer.prototype.writeFloatLE=function writeFloatLE(e,t,r){return writeFloat(this,e,t,!0,r)},Buffer.prototype.writeFloatBE=function writeFloatBE(e,t,r){return writeFloat(this,e,t,!1,r)},Buffer.prototype.writeDoubleLE=function writeDoubleLE(e,t,r){return writeDouble(this,e,t,!0,r)},Buffer.prototype.writeDoubleBE=function writeDoubleBE(e,t,r){return writeDouble(this,e,t,!1,r)},Buffer.prototype.copy=function copy(e,t,r,i){if(!Buffer.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<r&&(i=r),i===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-r&&(i=e.length-t+r);var n=i-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,i):Uint8Array.prototype.set.call(e,this.subarray(r,i),t),n},Buffer.prototype.fill=function fill(e,t,r,i){if("string"==typeof e){if("string"==typeof t?(i=t,t=0,r=this.length):"string"==typeof r&&(i=r,r=this.length),void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!Buffer.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(1===e.length){var n=e.charCodeAt(0);("utf8"===i&&n<128||"latin1"===i)&&(e=n)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var s;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(s=t;s<r;++s)this[s]=e;else{var a=Buffer.isBuffer(e)?e:Buffer.from(e,i),o=a.length;if(0===o)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(s=0;s<r-t;++s)this[s+t]=a[s%o]}return this};var d=/[^+/0-9A-Za-z-_]/g;function utf8ToBytes(e,t){var r;t=t||1/0;for(var i=e.length,n=null,s=[],a=0;a<i;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!n){if(r>56319){(t-=3)>-1&&s.push(239,191,189);continue}if(a+1===i){(t-=3)>-1&&s.push(239,191,189);continue}n=r;continue}if(r<56320){(t-=3)>-1&&s.push(239,191,189),n=r;continue}r=65536+(n-55296<<10|r-56320)}else n&&(t-=3)>-1&&s.push(239,191,189);if(n=null,r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return s}function base64ToBytes(e){return i.toByteArray(function base64clean(e){if((e=(e=e.split("=")[0]).trim().replace(d,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function blitBuffer(e,t,r,i){for(var n=0;n<i&&!(n+r>=t.length||n>=e.length);++n)t[n+r]=e[n];return n}function isInstance(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function numberIsNaN(e){return e!=e}var u=function(){for(var e="0123456789abcdef",t=new Array(256),r=0;r<16;++r)for(var i=16*r,n=0;n<16;++n)t[i+n]=e[r]+e[n];return t}()},2943:function(e,t,r){var i,n,s;n=[r(8027)],i=function(e){"use strict";var ByteBuffer=function(e,t,i){if(void 0===e&&(e=ByteBuffer.DEFAULT_CAPACITY),void 0===t&&(t=ByteBuffer.DEFAULT_ENDIAN),void 0===i&&(i=ByteBuffer.DEFAULT_NOASSERT),!i){if((e|=0)<0)throw RangeError("Illegal capacity");t=!!t,i=!!i}this.buffer=0===e?r:new ArrayBuffer(e),this.view=0===e?null:new Uint8Array(this.buffer),this.offset=0,this.markedOffset=-1,this.limit=e,this.littleEndian=t,this.noAssert=i};ByteBuffer.VERSION="5.0.1",ByteBuffer.LITTLE_ENDIAN=!0,ByteBuffer.BIG_ENDIAN=!1,ByteBuffer.DEFAULT_CAPACITY=16,ByteBuffer.DEFAULT_ENDIAN=ByteBuffer.BIG_ENDIAN,ByteBuffer.DEFAULT_NOASSERT=!1,ByteBuffer.Long=e||null;var t=ByteBuffer.prototype;t.__isByteBuffer__,Object.defineProperty(t,"__isByteBuffer__",{value:!0,enumerable:!1,configurable:!1});var r=new ArrayBuffer(0),i=String.fromCharCode;function stringSource(e){var t=0;return function(){return t<e.length?e.charCodeAt(t++):null}}function stringDestination(){var e=[],t=[];return function(){if(0===arguments.length)return t.join("")+i.apply(String,e);e.length+arguments.length>1024&&(t.push(i.apply(String,e)),e.length=0),Array.prototype.push.apply(e,arguments)}}function ieee754_read(e,t,r,i,n){var s,a,o=8*n-i-1,d=(1<<o)-1,u=d>>1,l=-7,c=r?n-1:0,p=r?-1:1,h=e[t+c];for(c+=p,s=h&(1<<-l)-1,h>>=-l,l+=o;l>0;s=256*s+e[t+c],c+=p,l-=8);for(a=s&(1<<-l)-1,s>>=-l,l+=i;l>0;a=256*a+e[t+c],c+=p,l-=8);if(0===s)s=1-u;else{if(s===d)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,i),s-=u}return(h?-1:1)*a*Math.pow(2,s-i)}function ieee754_write(e,t,r,i,n,s){var a,o,d,u=8*s-n-1,l=(1<<u)-1,c=l>>1,p=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,h=i?0:s-1,y=i?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(d=Math.pow(2,-a))<1&&(a--,d*=2),(t+=a+c>=1?p/d:p*Math.pow(2,1-c))*d>=2&&(a++,d/=2),a+c>=l?(o=0,a=l):a+c>=1?(o=(t*d-1)*Math.pow(2,n),a+=c):(o=t*Math.pow(2,c-1)*Math.pow(2,n),a=0));n>=8;e[r+h]=255&o,h+=y,o/=256,n-=8);for(a=a<<n|o,u+=n;u>0;e[r+h]=255&a,h+=y,a/=256,u-=8);e[r+h-y]|=128*g}ByteBuffer.accessor=function(){return Uint8Array},ByteBuffer.allocate=function(e,t,r){return new ByteBuffer(e,t,r)},ByteBuffer.concat=function(e,t,r,i){"boolean"!=typeof t&&"string"==typeof t||(i=r,r=t,t=void 0);for(var n,s=0,a=0,o=e.length;a<o;++a)ByteBuffer.isByteBuffer(e[a])||(e[a]=ByteBuffer.wrap(e[a],t)),(n=e[a].limit-e[a].offset)>0&&(s+=n);if(0===s)return new ByteBuffer(0,r,i);var d,u=new ByteBuffer(s,r,i);for(a=0;a<o;)(n=(d=e[a++]).limit-d.offset)<=0||(u.view.set(d.view.subarray(d.offset,d.limit),u.offset),u.offset+=n);return u.limit=u.offset,u.offset=0,u},ByteBuffer.isByteBuffer=function(e){return!0===(e&&e.__isByteBuffer__)},ByteBuffer.type=function(){return ArrayBuffer},ByteBuffer.wrap=function(e,r,i,n){if("string"!=typeof r&&(n=i,i=r,r=void 0),"string"==typeof e)switch(void 0===r&&(r="utf8"),r){case"base64":return ByteBuffer.fromBase64(e,i);case"hex":return ByteBuffer.fromHex(e,i);case"binary":return ByteBuffer.fromBinary(e,i);case"utf8":return ByteBuffer.fromUTF8(e,i);case"debug":return ByteBuffer.fromDebug(e,i);default:throw Error("Unsupported encoding: "+r)}if(null===e||"object"!=typeof e)throw TypeError("Illegal buffer");var s;if(ByteBuffer.isByteBuffer(e))return(s=t.clone.call(e)).markedOffset=-1,s;if(e instanceof Uint8Array)s=new ByteBuffer(0,i,n),e.length>0&&(s.buffer=e.buffer,s.offset=e.byteOffset,s.limit=e.byteOffset+e.byteLength,s.view=new Uint8Array(e.buffer));else if(e instanceof ArrayBuffer)s=new ByteBuffer(0,i,n),e.byteLength>0&&(s.buffer=e,s.offset=0,s.limit=e.byteLength,s.view=e.byteLength>0?new Uint8Array(e):null);else{if("[object Array]"!==Object.prototype.toString.call(e))throw TypeError("Illegal buffer");(s=new ByteBuffer(e.length,i,n)).limit=e.length;for(var a=0;a<e.length;++a)s.view[a]=e[a]}return s},t.writeBitSet=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if(!(e instanceof Array))throw TypeError("Illegal BitSet: Not an array");if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}var i,n=t,s=e.length,a=s>>3,o=0;for(t+=this.writeVarint32(s,t);a--;)i=1&!!e[o++]|(1&!!e[o++])<<1|(1&!!e[o++])<<2|(1&!!e[o++])<<3|(1&!!e[o++])<<4|(1&!!e[o++])<<5|(1&!!e[o++])<<6|(1&!!e[o++])<<7,this.writeByte(i,t++);if(o<s){var d=0;for(i=0;o<s;)i|=(1&!!e[o++])<<d++;this.writeByte(i,t++)}return r?(this.offset=t,this):t-n},t.readBitSet=function(e){var t=void 0===e;t&&(e=this.offset);var r,i=this.readVarint32(e),n=i.value,s=n>>3,a=0,o=[];for(e+=i.length;s--;)r=this.readByte(e++),o[a++]=!!(1&r),o[a++]=!!(2&r),o[a++]=!!(4&r),o[a++]=!!(8&r),o[a++]=!!(16&r),o[a++]=!!(32&r),o[a++]=!!(64&r),o[a++]=!!(128&r);if(a<n){var d=0;for(r=this.readByte(e++);a<n;)o[a++]=!!(r>>d++&1)}return t&&(this.offset=e),o},t.readBytes=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+e>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+"+e+") <= "+this.buffer.byteLength)}var i=this.slice(t,t+e);return r&&(this.offset+=e),i},t.writeBytes=t.append,t.writeInt8=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=1;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=1,this.view[t]=e,r&&(this.offset+=1),this},t.writeByte=t.writeInt8,t.readInt8=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var r=this.view[e];return 128&~r||(r=-(255-r+1)),t&&(this.offset+=1),r},t.readByte=t.readInt8,t.writeUint8=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=1;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=1,this.view[t]=e,r&&(this.offset+=1),this},t.writeUInt8=t.writeUint8,t.readUint8=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var r=this.view[e];return t&&(this.offset+=1),r},t.readUInt8=t.readUint8,t.writeInt16=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=2;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=2,this.littleEndian?(this.view[t+1]=(65280&e)>>>8,this.view[t]=255&e):(this.view[t]=(65280&e)>>>8,this.view[t+1]=255&e),r&&(this.offset+=2),this},t.writeShort=t.writeInt16,t.readInt16=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+2) <= "+this.buffer.byteLength)}var r=0;return this.littleEndian?(r=this.view[e],r|=this.view[e+1]<<8):(r=this.view[e]<<8,r|=this.view[e+1]),32768&~r||(r=-(65535-r+1)),t&&(this.offset+=2),r},t.readShort=t.readInt16,t.writeUint16=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=2;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=2,this.littleEndian?(this.view[t+1]=(65280&e)>>>8,this.view[t]=255&e):(this.view[t]=(65280&e)>>>8,this.view[t+1]=255&e),r&&(this.offset+=2),this},t.writeUInt16=t.writeUint16,t.readUint16=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+2) <= "+this.buffer.byteLength)}var r=0;return this.littleEndian?(r=this.view[e],r|=this.view[e+1]<<8):(r=this.view[e]<<8,r|=this.view[e+1]),t&&(this.offset+=2),r},t.readUInt16=t.readUint16,t.writeInt32=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=4;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=4,this.littleEndian?(this.view[t+3]=e>>>24&255,this.view[t+2]=e>>>16&255,this.view[t+1]=e>>>8&255,this.view[t]=255&e):(this.view[t]=e>>>24&255,this.view[t+1]=e>>>16&255,this.view[t+2]=e>>>8&255,this.view[t+3]=255&e),r&&(this.offset+=4),this},t.writeInt=t.writeInt32,t.readInt32=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var r=0;return this.littleEndian?(r=this.view[e+2]<<16,r|=this.view[e+1]<<8,r|=this.view[e],r+=this.view[e+3]<<24>>>0):(r=this.view[e+1]<<16,r|=this.view[e+2]<<8,r|=this.view[e+3],r+=this.view[e]<<24>>>0),r|=0,t&&(this.offset+=4),r},t.readInt=t.readInt32,t.writeUint32=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=4;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=4,this.littleEndian?(this.view[t+3]=e>>>24&255,this.view[t+2]=e>>>16&255,this.view[t+1]=e>>>8&255,this.view[t]=255&e):(this.view[t]=e>>>24&255,this.view[t+1]=e>>>16&255,this.view[t+2]=e>>>8&255,this.view[t+3]=255&e),r&&(this.offset+=4),this},t.writeUInt32=t.writeUint32,t.readUint32=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var r=0;return this.littleEndian?(r=this.view[e+2]<<16,r|=this.view[e+1]<<8,r|=this.view[e],r+=this.view[e+3]<<24>>>0):(r=this.view[e+1]<<16,r|=this.view[e+2]<<8,r|=this.view[e+3],r+=this.view[e]<<24>>>0),t&&(this.offset+=4),r},t.readUInt32=t.readUint32,e&&(t.writeInt64=function(t,r){var i=void 0===r;if(i&&(r=this.offset),!this.noAssert){if("number"==typeof t)t=e.fromNumber(t);else if("string"==typeof t)t=e.fromString(t);else if(!(t&&t instanceof e))throw TypeError("Illegal value: "+t+" (not an integer or Long)");if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}"number"==typeof t?t=e.fromNumber(t):"string"==typeof t&&(t=e.fromString(t)),r+=8;var n=this.buffer.byteLength;r>n&&this.resize((n*=2)>r?n:r),r-=8;var s=t.low,a=t.high;return this.littleEndian?(this.view[r+3]=s>>>24&255,this.view[r+2]=s>>>16&255,this.view[r+1]=s>>>8&255,this.view[r]=255&s,r+=4,this.view[r+3]=a>>>24&255,this.view[r+2]=a>>>16&255,this.view[r+1]=a>>>8&255,this.view[r]=255&a):(this.view[r]=a>>>24&255,this.view[r+1]=a>>>16&255,this.view[r+2]=a>>>8&255,this.view[r+3]=255&a,r+=4,this.view[r]=s>>>24&255,this.view[r+1]=s>>>16&255,this.view[r+2]=s>>>8&255,this.view[r+3]=255&s),i&&(this.offset+=8),this},t.writeLong=t.writeInt64,t.readInt64=function(t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+8) <= "+this.buffer.byteLength)}var i=0,n=0;this.littleEndian?(i=this.view[t+2]<<16,i|=this.view[t+1]<<8,i|=this.view[t],i+=this.view[t+3]<<24>>>0,t+=4,n=this.view[t+2]<<16,n|=this.view[t+1]<<8,n|=this.view[t],n+=this.view[t+3]<<24>>>0):(n=this.view[t+1]<<16,n|=this.view[t+2]<<8,n|=this.view[t+3],n+=this.view[t]<<24>>>0,t+=4,i=this.view[t+1]<<16,i|=this.view[t+2]<<8,i|=this.view[t+3],i+=this.view[t]<<24>>>0);var s=new e(i,n,!1);return r&&(this.offset+=8),s},t.readLong=t.readInt64,t.writeUint64=function(t,r){var i=void 0===r;if(i&&(r=this.offset),!this.noAssert){if("number"==typeof t)t=e.fromNumber(t);else if("string"==typeof t)t=e.fromString(t);else if(!(t&&t instanceof e))throw TypeError("Illegal value: "+t+" (not an integer or Long)");if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}"number"==typeof t?t=e.fromNumber(t):"string"==typeof t&&(t=e.fromString(t)),r+=8;var n=this.buffer.byteLength;r>n&&this.resize((n*=2)>r?n:r),r-=8;var s=t.low,a=t.high;return this.littleEndian?(this.view[r+3]=s>>>24&255,this.view[r+2]=s>>>16&255,this.view[r+1]=s>>>8&255,this.view[r]=255&s,r+=4,this.view[r+3]=a>>>24&255,this.view[r+2]=a>>>16&255,this.view[r+1]=a>>>8&255,this.view[r]=255&a):(this.view[r]=a>>>24&255,this.view[r+1]=a>>>16&255,this.view[r+2]=a>>>8&255,this.view[r+3]=255&a,r+=4,this.view[r]=s>>>24&255,this.view[r+1]=s>>>16&255,this.view[r+2]=s>>>8&255,this.view[r+3]=255&s),i&&(this.offset+=8),this},t.writeUInt64=t.writeUint64,t.readUint64=function(t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+8) <= "+this.buffer.byteLength)}var i=0,n=0;this.littleEndian?(i=this.view[t+2]<<16,i|=this.view[t+1]<<8,i|=this.view[t],i+=this.view[t+3]<<24>>>0,t+=4,n=this.view[t+2]<<16,n|=this.view[t+1]<<8,n|=this.view[t],n+=this.view[t+3]<<24>>>0):(n=this.view[t+1]<<16,n|=this.view[t+2]<<8,n|=this.view[t+3],n+=this.view[t]<<24>>>0,t+=4,i=this.view[t+1]<<16,i|=this.view[t+2]<<8,i|=this.view[t+3],i+=this.view[t]<<24>>>0);var s=new e(i,n,!0);return r&&(this.offset+=8),s},t.readUInt64=t.readUint64),t.writeFloat32=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof e)throw TypeError("Illegal value: "+e+" (not a number)");if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=4;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=4,ieee754_write(this.view,e,t,this.littleEndian,23,4),r&&(this.offset+=4),this},t.writeFloat=t.writeFloat32,t.readFloat32=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var r=ieee754_read(this.view,e,this.littleEndian,23,4);return t&&(this.offset+=4),r},t.readFloat=t.readFloat32,t.writeFloat64=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof e)throw TypeError("Illegal value: "+e+" (not a number)");if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=8;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=8,ieee754_write(this.view,e,t,this.littleEndian,52,8),r&&(this.offset+=8),this},t.writeDouble=t.writeFloat64,t.readFloat64=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+8) <= "+this.buffer.byteLength)}var r=ieee754_read(this.view,e,this.littleEndian,52,8);return t&&(this.offset+=8),r},t.readDouble=t.readFloat64,ByteBuffer.MAX_VARINT32_BYTES=5,ByteBuffer.calculateVarint32=function(e){return(e>>>=0)<128?1:e<16384?2:e<1<<21?3:e<1<<28?4:5},ByteBuffer.zigZagEncode32=function(e){return((e|=0)<<1^e>>31)>>>0},ByteBuffer.zigZagDecode32=function(e){return e>>>1^-(1&e)},t.writeVarint32=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}var i,n=ByteBuffer.calculateVarint32(e);t+=n;var s=this.buffer.byteLength;for(t>s&&this.resize((s*=2)>t?s:t),t-=n,e>>>=0;e>=128;)i=127&e|128,this.view[t++]=i,e>>>=7;return this.view[t++]=e,r?(this.offset=t,this):n},t.writeVarint32ZigZag=function(e,t){return this.writeVarint32(ByteBuffer.zigZagEncode32(e),t)},t.readVarint32=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var r,i=0,n=0;do{if(!this.noAssert&&e>this.limit){var s=Error("Truncated");throw s.truncated=!0,s}r=this.view[e++],i<5&&(n|=(127&r)<<7*i),++i}while(128&r);return n|=0,t?(this.offset=e,n):{value:n,length:i}},t.readVarint32ZigZag=function(e){var t=this.readVarint32(e);return"object"==typeof t?t.value=ByteBuffer.zigZagDecode32(t.value):t=ByteBuffer.zigZagDecode32(t),t},e&&(ByteBuffer.MAX_VARINT64_BYTES=10,ByteBuffer.calculateVarint64=function(t){"number"==typeof t?t=e.fromNumber(t):"string"==typeof t&&(t=e.fromString(t));var r=t.toInt()>>>0,i=t.shiftRightUnsigned(28).toInt()>>>0,n=t.shiftRightUnsigned(56).toInt()>>>0;return 0==n?0==i?r<16384?r<128?1:2:r<1<<21?3:4:i<16384?i<128?5:6:i<1<<21?7:8:n<128?9:10},ByteBuffer.zigZagEncode64=function(t){return"number"==typeof t?t=e.fromNumber(t,!1):"string"==typeof t?t=e.fromString(t,!1):!1!==t.unsigned&&(t=t.toSigned()),t.shiftLeft(1).xor(t.shiftRight(63)).toUnsigned()},ByteBuffer.zigZagDecode64=function(t){return"number"==typeof t?t=e.fromNumber(t,!1):"string"==typeof t?t=e.fromString(t,!1):!1!==t.unsigned&&(t=t.toSigned()),t.shiftRightUnsigned(1).xor(t.and(e.ONE).toSigned().negate()).toSigned()},t.writeVarint64=function(t,r){var i=void 0===r;if(i&&(r=this.offset),!this.noAssert){if("number"==typeof t)t=e.fromNumber(t);else if("string"==typeof t)t=e.fromString(t);else if(!(t&&t instanceof e))throw TypeError("Illegal value: "+t+" (not an integer or Long)");if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}"number"==typeof t?t=e.fromNumber(t,!1):"string"==typeof t?t=e.fromString(t,!1):!1!==t.unsigned&&(t=t.toSigned());var n=ByteBuffer.calculateVarint64(t),s=t.toInt()>>>0,a=t.shiftRightUnsigned(28).toInt()>>>0,o=t.shiftRightUnsigned(56).toInt()>>>0;r+=n;var d=this.buffer.byteLength;switch(r>d&&this.resize((d*=2)>r?d:r),r-=n,n){case 10:this.view[r+9]=o>>>7&1;case 9:this.view[r+8]=9!==n?128|o:127&o;case 8:this.view[r+7]=8!==n?a>>>21|128:a>>>21&127;case 7:this.view[r+6]=7!==n?a>>>14|128:a>>>14&127;case 6:this.view[r+5]=6!==n?a>>>7|128:a>>>7&127;case 5:this.view[r+4]=5!==n?128|a:127&a;case 4:this.view[r+3]=4!==n?s>>>21|128:s>>>21&127;case 3:this.view[r+2]=3!==n?s>>>14|128:s>>>14&127;case 2:this.view[r+1]=2!==n?s>>>7|128:s>>>7&127;case 1:this.view[r]=1!==n?128|s:127&s}return i?(this.offset+=n,this):n},t.writeVarint64ZigZag=function(e,t){return this.writeVarint64(ByteBuffer.zigZagEncode64(e),t)},t.readVarint64=function(t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var i=t,n=0,s=0,a=0,o=0;if(n=127&(o=this.view[t++]),128&o&&(n|=(127&(o=this.view[t++]))<<7,(128&o||this.noAssert&&void 0===o)&&(n|=(127&(o=this.view[t++]))<<14,(128&o||this.noAssert&&void 0===o)&&(n|=(127&(o=this.view[t++]))<<21,(128&o||this.noAssert&&void 0===o)&&(s=127&(o=this.view[t++]),(128&o||this.noAssert&&void 0===o)&&(s|=(127&(o=this.view[t++]))<<7,(128&o||this.noAssert&&void 0===o)&&(s|=(127&(o=this.view[t++]))<<14,(128&o||this.noAssert&&void 0===o)&&(s|=(127&(o=this.view[t++]))<<21,(128&o||this.noAssert&&void 0===o)&&(a=127&(o=this.view[t++]),(128&o||this.noAssert&&void 0===o)&&(a|=(127&(o=this.view[t++]))<<7,128&o||this.noAssert&&void 0===o))))))))))throw Error("Buffer overrun");var d=e.fromBits(n|s<<28,s>>>4|a<<24,!1);return r?(this.offset=t,d):{value:d,length:t-i}},t.readVarint64ZigZag=function(t){var r=this.readVarint64(t);return r&&r.value instanceof e?r.value=ByteBuffer.zigZagDecode64(r.value):r=ByteBuffer.zigZagDecode64(r),r}),t.writeCString=function(e,t){var r=void 0===t;r&&(t=this.offset);var i,n=e.length;if(!this.noAssert){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");for(i=0;i<n;++i)if(0===e.charCodeAt(i))throw RangeError("Illegal str: Contains NULL-characters");if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}n=s.calculateUTF16asUTF8(stringSource(e))[1],t+=n+1;var a=this.buffer.byteLength;return t>a&&this.resize((a*=2)>t?a:t),t-=n+1,s.encodeUTF16toUTF8(stringSource(e),function(e){this.view[t++]=e}.bind(this)),this.view[t++]=0,r?(this.offset=t,this):n},t.readCString=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var r,i=e,n=-1;return s.decodeUTF8toUTF16(function(){if(0===n)return null;if(e>=this.limit)throw RangeError("Illegal range: Truncated data, "+e+" < "+this.limit);return 0===(n=this.view[e++])?null:n}.bind(this),r=stringDestination(),!0),t?(this.offset=e,r()):{string:r(),length:e-i}},t.writeIString=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}var i,n=t;i=s.calculateUTF16asUTF8(stringSource(e),this.noAssert)[1],t+=4+i;var a=this.buffer.byteLength;if(t>a&&this.resize((a*=2)>t?a:t),t-=4+i,this.littleEndian?(this.view[t+3]=i>>>24&255,this.view[t+2]=i>>>16&255,this.view[t+1]=i>>>8&255,this.view[t]=255&i):(this.view[t]=i>>>24&255,this.view[t+1]=i>>>16&255,this.view[t+2]=i>>>8&255,this.view[t+3]=255&i),t+=4,s.encodeUTF16toUTF8(stringSource(e),function(e){this.view[t++]=e}.bind(this)),t!==n+4+i)throw RangeError("Illegal range: Truncated data, "+t+" == "+(t+4+i));return r?(this.offset=t,this):t-n},t.readIString=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var r=e,i=this.readUint32(e),n=this.readUTF8String(i,ByteBuffer.METRICS_BYTES,e+=4);return e+=n.length,t?(this.offset=e,n.string):{string:n.string,length:e-r}},ByteBuffer.METRICS_CHARS="c",ByteBuffer.METRICS_BYTES="b",t.writeUTF8String=function(e,t){var r,i=void 0===t;if(i&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}var n=t;r=s.calculateUTF16asUTF8(stringSource(e))[1],t+=r;var a=this.buffer.byteLength;return t>a&&this.resize((a*=2)>t?a:t),t-=r,s.encodeUTF16toUTF8(stringSource(e),function(e){this.view[t++]=e}.bind(this)),i?(this.offset=t,this):t-n},t.writeString=t.writeUTF8String,ByteBuffer.calculateUTF8Chars=function(e){return s.calculateUTF16asUTF8(stringSource(e))[0]},ByteBuffer.calculateUTF8Bytes=function(e){return s.calculateUTF16asUTF8(stringSource(e))[1]},ByteBuffer.calculateString=ByteBuffer.calculateUTF8Bytes,t.readUTF8String=function(e,t,r){"number"==typeof t&&(r=t,t=void 0);var i=void 0===r;if(i&&(r=this.offset),void 0===t&&(t=ByteBuffer.METRICS_CHARS),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal length: "+e+" (not an integer)");if(e|=0,"number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}var n,a=0,o=r;if(t===ByteBuffer.METRICS_CHARS){if(n=stringDestination(),s.decodeUTF8(function(){return a<e&&r<this.limit?this.view[r++]:null}.bind(this),(function(e){++a,s.UTF8toUTF16(e,n)})),a!==e)throw RangeError("Illegal range: Truncated data, "+a+" == "+e);return i?(this.offset=r,n()):{string:n(),length:r-o}}if(t===ByteBuffer.METRICS_BYTES){if(!this.noAssert){if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+e>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+"+e+") <= "+this.buffer.byteLength)}var d=r+e;if(s.decodeUTF8toUTF16(function(){return r<d?this.view[r++]:null}.bind(this),n=stringDestination(),this.noAssert),r!==d)throw RangeError("Illegal range: Truncated data, "+r+" == "+d);return i?(this.offset=r,n()):{string:n(),length:r-o}}throw TypeError("Unsupported metrics: "+t)},t.readString=t.readUTF8String,t.writeVString=function(e,t){var r=void 0===t;if(r&&(t=this.offset),!this.noAssert){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: "+t+" (not an integer)");if((t>>>=0)<0||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}var i,n,a=t;i=s.calculateUTF16asUTF8(stringSource(e),this.noAssert)[1],n=ByteBuffer.calculateVarint32(i),t+=n+i;var o=this.buffer.byteLength;if(t>o&&this.resize((o*=2)>t?o:t),t-=n+i,t+=this.writeVarint32(i,t),s.encodeUTF16toUTF8(stringSource(e),function(e){this.view[t++]=e}.bind(this)),t!==a+i+n)throw RangeError("Illegal range: Truncated data, "+t+" == "+(t+i+n));return r?(this.offset=t,this):t-a},t.readVString=function(e){var t=void 0===e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var r=e,i=this.readVarint32(e),n=this.readUTF8String(i.value,ByteBuffer.METRICS_BYTES,e+=i.length);return e+=n.length,t?(this.offset=e,n.string):{string:n.string,length:e-r}},t.append=function(e,t,r){"number"!=typeof t&&"string"==typeof t||(r=t,t=void 0);var i=void 0===r;if(i&&(r=this.offset),!this.noAssert){if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}e instanceof ByteBuffer||(e=ByteBuffer.wrap(e,t));var n=e.limit-e.offset;if(n<=0)return this;r+=n;var s=this.buffer.byteLength;return r>s&&this.resize((s*=2)>r?s:r),r-=n,this.view.set(e.view.subarray(e.offset,e.limit),r),e.offset+=n,i&&(this.offset+=n),this},t.appendTo=function(e,t){return e.append(this,t),this},t.assert=function(e){return this.noAssert=!e,this},t.capacity=function(){return this.buffer.byteLength},t.clear=function(){return this.offset=0,this.limit=this.buffer.byteLength,this.markedOffset=-1,this},t.clone=function(e){var t=new ByteBuffer(0,this.littleEndian,this.noAssert);return e?(t.buffer=new ArrayBuffer(this.buffer.byteLength),t.view=new Uint8Array(t.buffer)):(t.buffer=this.buffer,t.view=this.view),t.offset=this.offset,t.markedOffset=this.markedOffset,t.limit=this.limit,t},t.compact=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.limit),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}if(0===e&&t===this.buffer.byteLength)return this;var i=t-e;if(0===i)return this.buffer=r,this.view=null,this.markedOffset>=0&&(this.markedOffset-=e),this.offset=0,this.limit=0,this;var n=new ArrayBuffer(i),s=new Uint8Array(n);return s.set(this.view.subarray(e,t)),this.buffer=n,this.view=s,this.markedOffset>=0&&(this.markedOffset-=e),this.offset=0,this.limit=i,this},t.copy=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.limit),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}if(e===t)return new ByteBuffer(0,this.littleEndian,this.noAssert);var r=t-e,i=new ByteBuffer(r,this.littleEndian,this.noAssert);return i.offset=0,i.limit=r,i.markedOffset>=0&&(i.markedOffset-=e),this.copyTo(i,0,e,t),i},t.copyTo=function(e,t,r,i){var n,s;if(!this.noAssert&&!ByteBuffer.isByteBuffer(e))throw TypeError("Illegal target: Not a ByteBuffer");if(t=(s=void 0===t)?e.offset:0|t,r=(n=void 0===r)?this.offset:0|r,i=void 0===i?this.limit:0|i,t<0||t>e.buffer.byteLength)throw RangeError("Illegal target range: 0 <= "+t+" <= "+e.buffer.byteLength);if(r<0||i>this.buffer.byteLength)throw RangeError("Illegal source range: 0 <= "+r+" <= "+this.buffer.byteLength);var a=i-r;return 0===a?e:(e.ensureCapacity(t+a),e.view.set(this.view.subarray(r,i),t),n&&(this.offset+=a),s&&(e.offset+=a),this)},t.ensureCapacity=function(e){var t=this.buffer.byteLength;return t<e?this.resize((t*=2)>e?t:e):this},t.fill=function(e,t,r){var i=void 0===t;if(i&&(t=this.offset),"string"==typeof e&&e.length>0&&(e=e.charCodeAt(0)),void 0===t&&(t=this.offset),void 0===r&&(r=this.limit),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof r||r%1!=0)throw TypeError("Illegal end: Not an integer");if(r>>>=0,t<0||t>r||r>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+r+" <= "+this.buffer.byteLength)}if(t>=r)return this;for(;t<r;)this.view[t++]=e;return i&&(this.offset=t),this},t.flip=function(){return this.limit=this.offset,this.offset=0,this},t.mark=function(e){if(e=void 0===e?this.offset:e,!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal offset: "+e+" (not an integer)");if((e>>>=0)<0||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}return this.markedOffset=e,this},t.order=function(e){if(!this.noAssert&&"boolean"!=typeof e)throw TypeError("Illegal littleEndian: Not a boolean");return this.littleEndian=!!e,this},t.LE=function(e){return this.littleEndian=void 0===e||!!e,this},t.BE=function(e){return this.littleEndian=void 0!==e&&!e,this},t.prepend=function(e,t,r){"number"!=typeof t&&"string"==typeof t||(r=t,t=void 0);var i=void 0===r;if(i&&(r=this.offset),!this.noAssert){if("number"!=typeof r||r%1!=0)throw TypeError("Illegal offset: "+r+" (not an integer)");if((r>>>=0)<0||r+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+r+" (+0) <= "+this.buffer.byteLength)}e instanceof ByteBuffer||(e=ByteBuffer.wrap(e,t));var n=e.limit-e.offset;if(n<=0)return this;var s=n-r;if(s>0){var a=new ArrayBuffer(this.buffer.byteLength+s),o=new Uint8Array(a);o.set(this.view.subarray(r,this.buffer.byteLength),n),this.buffer=a,this.view=o,this.offset+=s,this.markedOffset>=0&&(this.markedOffset+=s),this.limit+=s,r+=s}else new Uint8Array(this.buffer);return this.view.set(e.view.subarray(e.offset,e.limit),r-n),e.offset=e.limit,i&&(this.offset-=n),this},t.prependTo=function(e,t){return e.prepend(this,t),this},t.printDebug=function(e){"function"!=typeof e&&(e=console.log.bind(console)),e(this.toString()+"\n-------------------------------------------------------------------\n"+this.toDebug(!0))},t.remaining=function(){return this.limit-this.offset},t.reset=function(){return this.markedOffset>=0?(this.offset=this.markedOffset,this.markedOffset=-1):this.offset=0,this},t.resize=function(e){if(!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal capacity: "+e+" (not an integer)");if((e|=0)<0)throw RangeError("Illegal capacity: 0 <= "+e)}if(this.buffer.byteLength<e){var t=new ArrayBuffer(e),r=new Uint8Array(t);r.set(this.view),this.buffer=t,this.view=r}return this},t.reverse=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.limit),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}return e===t||Array.prototype.reverse.call(this.view.subarray(e,t)),this},t.skip=function(e){if(!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal length: "+e+" (not an integer)");e|=0}var t=this.offset+e;if(!this.noAssert&&(t<0||t>this.buffer.byteLength))throw RangeError("Illegal length: 0 <= "+this.offset+" + "+e+" <= "+this.buffer.byteLength);return this.offset=t,this},t.slice=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.limit),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}var r=this.clone();return r.offset=e,r.limit=t,r},t.toBuffer=function(e){var t=this.offset,i=this.limit;if(!this.noAssert){if("number"!=typeof t||t%1!=0)throw TypeError("Illegal offset: Not an integer");if(t>>>=0,"number"!=typeof i||i%1!=0)throw TypeError("Illegal limit: Not an integer");if(i>>>=0,t<0||t>i||i>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+i+" <= "+this.buffer.byteLength)}if(!e&&0===t&&i===this.buffer.byteLength)return this.buffer;if(t===i)return r;var n=new ArrayBuffer(i-t);return new Uint8Array(n).set(new Uint8Array(this.buffer).subarray(t,i),0),n},t.toArrayBuffer=t.toBuffer,t.toString=function(e,t,r){if(void 0===e)return"ByteBufferAB(offset="+this.offset+",markedOffset="+this.markedOffset+",limit="+this.limit+",capacity="+this.capacity()+")";switch("number"==typeof e&&(r=t=e="utf8"),e){case"utf8":return this.toUTF8(t,r);case"base64":return this.toBase64(t,r);case"hex":return this.toHex(t,r);case"binary":return this.toBinary(t,r);case"debug":return this.toDebug();case"columns":return this.toColumns();default:throw Error("Unsupported encoding: "+e)}};var n=function(){for(var e={},t=[65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,48,49,50,51,52,53,54,55,56,57,43,47],r=[],i=0,n=t.length;i<n;++i)r[t[i]]=i;return e.encode=function(e,r){for(var i,n;null!==(i=e());)r(t[i>>2&63]),n=(3&i)<<4,null!==(i=e())?(r(t[63&((n|=i>>4&15)|i>>4&15)]),n=(15&i)<<2,null!==(i=e())?(r(t[63&(n|i>>6&3)]),r(t[63&i])):(r(t[63&n]),r(61))):(r(t[63&n]),r(61),r(61))},e.decode=function(e,t){var i,n,s;function fail(e){throw Error("Illegal character code: "+e)}for(;null!==(i=e());)if(void 0===(n=r[i])&&fail(i),null!==(i=e())&&(void 0===(s=r[i])&&fail(i),t(n<<2>>>0|(48&s)>>4),null!==(i=e()))){if(void 0===(n=r[i])){if(61===i)break;fail(i)}if(t((15&s)<<4>>>0|(60&n)>>2),null!==(i=e())){if(void 0===(s=r[i])){if(61===i)break;fail(i)}t((3&n)<<6>>>0|s)}}},e.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)},e}();t.toBase64=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.limit),t|=0,(e|=0)<0||t>this.capacity||e>t)throw RangeError("begin, end");var r;return n.encode(function(){return e<t?this.view[e++]:null}.bind(this),r=stringDestination()),r()},ByteBuffer.fromBase64=function(e,t){if("string"!=typeof e)throw TypeError("str");var r=new ByteBuffer(e.length/4*3,t),i=0;return n.decode(stringSource(e),(function(e){r.view[i++]=e})),r.limit=i,r},ByteBuffer.btoa=function(e){return ByteBuffer.fromBinary(e).toBase64()},ByteBuffer.atob=function(e){return ByteBuffer.fromBase64(e).toBinary()},t.toBinary=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.limit),t|=0,(e|=0)<0||t>this.capacity()||e>t)throw RangeError("begin, end");if(e===t)return"";for(var r=[],i=[];e<t;)r.push(this.view[e++]),r.length>=1024&&(i.push(String.fromCharCode.apply(String,r)),r=[]);return i.join("")+String.fromCharCode.apply(String,r)},ByteBuffer.fromBinary=function(e,t){if("string"!=typeof e)throw TypeError("str");for(var r,i=0,n=e.length,s=new ByteBuffer(n,t);i<n;){if((r=e.charCodeAt(i))>255)throw RangeError("illegal char code: "+r);s.view[i++]=r}return s.limit=n,s},t.toDebug=function(e){for(var t,r=-1,i=this.buffer.byteLength,n="",s="",a="";r<i;){if(-1!==r&&(n+=(t=this.view[r])<16?"0"+t.toString(16).toUpperCase():t.toString(16).toUpperCase(),e&&(s+=t>32&&t<127?String.fromCharCode(t):".")),++r,e&&r>0&&r%16==0&&r!==i){for(;n.length<51;)n+=" ";a+=n+s+"\n",n=s=""}r===this.offset&&r===this.limit?n+=r===this.markedOffset?"!":"|":r===this.offset?n+=r===this.markedOffset?"[":"<":r===this.limit?n+=r===this.markedOffset?"]":">":n+=r===this.markedOffset?"'":e||0!==r&&r!==i?" ":""}if(e&&" "!==n){for(;n.length<51;)n+=" ";a+=n+s+"\n"}return e?a:n},ByteBuffer.fromDebug=function(e,t,r){for(var i,n,s=e.length,a=new ByteBuffer((s+1)/3|0,t,r),o=0,d=0,u=!1,l=!1,c=!1,p=!1,h=!1;o<s;){switch(i=e.charAt(o++)){case"!":if(!r){if(l||c||p){h=!0;break}l=c=p=!0}a.offset=a.markedOffset=a.limit=d,u=!1;break;case"|":if(!r){if(l||p){h=!0;break}l=p=!0}a.offset=a.limit=d,u=!1;break;case"[":if(!r){if(l||c){h=!0;break}l=c=!0}a.offset=a.markedOffset=d,u=!1;break;case"<":if(!r){if(l){h=!0;break}l=!0}a.offset=d,u=!1;break;case"]":if(!r){if(p||c){h=!0;break}p=c=!0}a.limit=a.markedOffset=d,u=!1;break;case">":if(!r){if(p){h=!0;break}p=!0}a.limit=d,u=!1;break;case"'":if(!r){if(c){h=!0;break}c=!0}a.markedOffset=d,u=!1;break;case" ":u=!1;break;default:if(!r&&u){h=!0;break}if(n=parseInt(i+e.charAt(o++),16),!r&&(isNaN(n)||n<0||n>255))throw TypeError("Illegal str: Not a debug encoded string");a.view[d++]=n,u=!0}if(h)throw TypeError("Illegal str: Invalid symbol at "+o)}if(!r){if(!l||!p)throw TypeError("Illegal str: Missing offset or limit");if(d<a.buffer.byteLength)throw TypeError("Illegal str: Not a debug encoded string (is it hex?) "+d+" < "+s)}return a},t.toHex=function(e,t){if(e=void 0===e?this.offset:e,t=void 0===t?this.limit:t,!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}for(var r,i=new Array(t-e);e<t;)(r=this.view[e++])<16?i.push("0",r.toString(16)):i.push(r.toString(16));return i.join("")},ByteBuffer.fromHex=function(e,t,r){if(!r){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");if(e.length%2!=0)throw TypeError("Illegal str: Length not a multiple of 2")}for(var i,n=e.length,s=new ByteBuffer(n/2|0,t),a=0,o=0;a<n;a+=2){if(i=parseInt(e.substring(a,a+2),16),!r&&(!isFinite(i)||i<0||i>255))throw TypeError("Illegal str: Contains non-hex characters");s.view[o++]=i}return s.limit=o,s};var s=function(){var e={MAX_CODEPOINT:1114111,encodeUTF8:function(e,t){var r=null;for("number"==typeof e&&(r=e,e=function(){return null});null!==r||null!==(r=e());)r<128?t(127&r):r<2048?(t(r>>6&31|192),t(63&r|128)):r<65536?(t(r>>12&15|224),t(r>>6&63|128),t(63&r|128)):(t(r>>18&7|240),t(r>>12&63|128),t(r>>6&63|128),t(63&r|128)),r=null},decodeUTF8:function(e,t){for(var r,i,n,s,fail=function(e){e=e.slice(0,e.indexOf(null));var t=Error(e.toString());throw t.name="TruncatedError",t.bytes=e,t};null!==(r=e());)if(128&r)if(192==(224&r))null===(i=e())&&fail([r,i]),t((31&r)<<6|63&i);else if(224==(240&r))(null===(i=e())||null===(n=e()))&&fail([r,i,n]),t((15&r)<<12|(63&i)<<6|63&n);else{if(240!=(248&r))throw RangeError("Illegal starting byte: "+r);(null===(i=e())||null===(n=e())||null===(s=e()))&&fail([r,i,n,s]),t((7&r)<<18|(63&i)<<12|(63&n)<<6|63&s)}else t(r)},UTF16toUTF8:function(e,t){for(var r,i=null;null!==(r=null!==i?i:e());)r>=55296&&r<=57343&&null!==(i=e())&&i>=56320&&i<=57343?(t(1024*(r-55296)+i-56320+65536),i=null):t(r);null!==i&&t(i)},UTF8toUTF16:function(e,t){var r=null;for("number"==typeof e&&(r=e,e=function(){return null});null!==r||null!==(r=e());)r<=65535?t(r):(t(55296+((r-=65536)>>10)),t(r%1024+56320)),r=null},encodeUTF16toUTF8:function(t,r){e.UTF16toUTF8(t,(function(t){e.encodeUTF8(t,r)}))},decodeUTF8toUTF16:function(t,r){e.decodeUTF8(t,(function(t){e.UTF8toUTF16(t,r)}))},calculateCodePoint:function(e){return e<128?1:e<2048?2:e<65536?3:4},calculateUTF8:function(e){for(var t,r=0;null!==(t=e());)r+=t<128?1:t<2048?2:t<65536?3:4;return r},calculateUTF16asUTF8:function(t){var r=0,i=0;return e.UTF16toUTF8(t,(function(e){++r,i+=e<128?1:e<2048?2:e<65536?3:4})),[r,i]}};return e}();return t.toUTF8=function(e,t){if(void 0===e&&(e=this.offset),void 0===t&&(t=this.limit),!this.noAssert){if("number"!=typeof e||e%1!=0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!=0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,e<0||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}var r;try{s.decodeUTF8toUTF16(function(){return e<t?this.view[e++]:null}.bind(this),r=stringDestination())}catch(r){if(e!==t)throw RangeError("Illegal range: Truncated data, "+e+" != "+t)}return r()},ByteBuffer.fromUTF8=function(e,t,r){if(!r&&"string"!=typeof e)throw TypeError("Illegal str: Not a string");var i=new ByteBuffer(s.calculateUTF16asUTF8(stringSource(e),!0)[1],t,r),n=0;return s.encodeUTF16toUTF8(stringSource(e),(function(e){i.view[n++]=e})),i.limit=n,i},ByteBuffer},void 0===(s="function"==typeof i?i.apply(t,n):i)||(e.exports=s)},8027:function(e,t){var r,i,n;i=[],void 0===(n="function"==typeof(r=function(){"use strict";function Long(e,t,r){this.low=0|e,this.high=0|t,this.unsigned=!!r}function isLong(e){return!0===(e&&e.__isLong__)}Long.prototype.__isLong__,Object.defineProperty(Long.prototype,"__isLong__",{value:!0,enumerable:!1,configurable:!1}),Long.isLong=isLong;var e={},t={};function fromInt(r,i){var n,s,a;return i?(a=0<=(r>>>=0)&&r<256)&&(s=t[r])?s:(n=fromBits(r,(0|r)<0?-1:0,!0),a&&(t[r]=n),n):(a=-128<=(r|=0)&&r<128)&&(s=e[r])?s:(n=fromBits(r,r<0?-1:0,!1),a&&(e[r]=n),n)}function fromNumber(e,t){if(isNaN(e)||!isFinite(e))return t?u:d;if(t){if(e<0)return u;if(e>=s)return y}else{if(e<=-a)return g;if(e+1>=a)return h}return e<0?fromNumber(-e,t).neg():fromBits(e%n|0,e/n|0,t)}function fromBits(e,t,r){return new Long(e,t,r)}Long.fromInt=fromInt,Long.fromNumber=fromNumber,Long.fromBits=fromBits;var r=Math.pow;function fromString(e,t,i){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return d;if("number"==typeof t?(i=t,t=!1):t=!!t,(i=i||10)<2||36<i)throw RangeError("radix");var n;if((n=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===n)return fromString(e.substring(1),t,i).neg();for(var s=fromNumber(r(i,8)),a=d,o=0;o<e.length;o+=8){var u=Math.min(8,e.length-o),l=parseInt(e.substring(o,o+u),i);if(u<8){var c=fromNumber(r(i,u));a=a.mul(c).add(fromNumber(l))}else a=(a=a.mul(s)).add(fromNumber(l))}return a.unsigned=t,a}function fromValue(e){return e instanceof Long?e:"number"==typeof e?fromNumber(e):"string"==typeof e?fromString(e):fromBits(e.low,e.high,e.unsigned)}Long.fromString=fromString,Long.fromValue=fromValue;var i=65536,n=i*i,s=n*n,a=s/2,o=fromInt(1<<24),d=fromInt(0);Long.ZERO=d;var u=fromInt(0,!0);Long.UZERO=u;var l=fromInt(1);Long.ONE=l;var c=fromInt(1,!0);Long.UONE=c;var p=fromInt(-1);Long.NEG_ONE=p;var h=fromBits(-1,2147483647,!1);Long.MAX_VALUE=h;var y=fromBits(-1,-1,!0);Long.MAX_UNSIGNED_VALUE=y;var g=fromBits(0,-2147483648,!1);Long.MIN_VALUE=g;var m=Long.prototype;return m.toInt=function toInt(){return this.unsigned?this.low>>>0:this.low},m.toNumber=function toNumber(){return this.unsigned?(this.high>>>0)*n+(this.low>>>0):this.high*n+(this.low>>>0)},m.toString=function toString(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(g)){var t=fromNumber(e),i=this.div(t),n=i.mul(t).sub(this);return i.toString(e)+n.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var s=fromNumber(r(e,6),this.unsigned),a=this,o="";;){var d=a.div(s),u=(a.sub(d.mul(s)).toInt()>>>0).toString(e);if((a=d).isZero())return u+o;for(;u.length<6;)u="0"+u;o=""+u+o}},m.getHighBits=function getHighBits(){return this.high},m.getHighBitsUnsigned=function getHighBitsUnsigned(){return this.high>>>0},m.getLowBits=function getLowBits(){return this.low},m.getLowBitsUnsigned=function getLowBitsUnsigned(){return this.low>>>0},m.getNumBitsAbs=function getNumBitsAbs(){if(this.isNegative())return this.eq(g)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&!(e&1<<t);t--);return 0!=this.high?t+33:t+1},m.isZero=function isZero(){return 0===this.high&&0===this.low},m.isNegative=function isNegative(){return!this.unsigned&&this.high<0},m.isPositive=function isPositive(){return this.unsigned||this.high>=0},m.isOdd=function isOdd(){return!(1&~this.low)},m.isEven=function isEven(){return!(1&this.low)},m.equals=function equals(e){return isLong(e)||(e=fromValue(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low},m.eq=m.equals,m.notEquals=function notEquals(e){return!this.eq(e)},m.neq=m.notEquals,m.lessThan=function lessThan(e){return this.comp(e)<0},m.lt=m.lessThan,m.lessThanOrEqual=function lessThanOrEqual(e){return this.comp(e)<=0},m.lte=m.lessThanOrEqual,m.greaterThan=function greaterThan(e){return this.comp(e)>0},m.gt=m.greaterThan,m.greaterThanOrEqual=function greaterThanOrEqual(e){return this.comp(e)>=0},m.gte=m.greaterThanOrEqual,m.compare=function compare(e){if(isLong(e)||(e=fromValue(e)),this.eq(e))return 0;var t=this.isNegative(),r=e.isNegative();return t&&!r?-1:!t&&r?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},m.comp=m.compare,m.negate=function negate(){return!this.unsigned&&this.eq(g)?g:this.not().add(l)},m.neg=m.negate,m.add=function add(e){isLong(e)||(e=fromValue(e));var t=this.high>>>16,r=65535&this.high,i=this.low>>>16,n=65535&this.low,s=e.high>>>16,a=65535&e.high,o=e.low>>>16,d=0,u=0,l=0,c=0;return l+=(c+=n+(65535&e.low))>>>16,u+=(l+=i+o)>>>16,d+=(u+=r+a)>>>16,d+=t+s,fromBits((l&=65535)<<16|(c&=65535),(d&=65535)<<16|(u&=65535),this.unsigned)},m.subtract=function subtract(e){return isLong(e)||(e=fromValue(e)),this.add(e.neg())},m.sub=m.subtract,m.multiply=function multiply(e){if(this.isZero())return d;if(isLong(e)||(e=fromValue(e)),e.isZero())return d;if(this.eq(g))return e.isOdd()?g:d;if(e.eq(g))return this.isOdd()?g:d;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(o)&&e.lt(o))return fromNumber(this.toNumber()*e.toNumber(),this.unsigned);var t=this.high>>>16,r=65535&this.high,i=this.low>>>16,n=65535&this.low,s=e.high>>>16,a=65535&e.high,u=e.low>>>16,l=65535&e.low,c=0,p=0,h=0,y=0;return h+=(y+=n*l)>>>16,p+=(h+=i*l)>>>16,h&=65535,p+=(h+=n*u)>>>16,c+=(p+=r*l)>>>16,p&=65535,c+=(p+=i*u)>>>16,p&=65535,c+=(p+=n*a)>>>16,c+=t*l+r*u+i*a+n*s,fromBits((h&=65535)<<16|(y&=65535),(c&=65535)<<16|(p&=65535),this.unsigned)},m.mul=m.multiply,m.divide=function divide(e){if(isLong(e)||(e=fromValue(e)),e.isZero())throw Error("division by zero");if(this.isZero())return this.unsigned?u:d;var t,i,n;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return u;if(e.gt(this.shru(1)))return c;n=u}else{if(this.eq(g))return e.eq(l)||e.eq(p)?g:e.eq(g)?l:(t=this.shr(1).div(e).shl(1)).eq(d)?e.isNegative()?l:p:(i=this.sub(e.mul(t)),n=t.add(i.div(e)));if(e.eq(g))return this.unsigned?u:d;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();n=d}for(i=this;i.gte(e);){t=Math.max(1,Math.floor(i.toNumber()/e.toNumber()));for(var s=Math.ceil(Math.log(t)/Math.LN2),a=s<=48?1:r(2,s-48),o=fromNumber(t),h=o.mul(e);h.isNegative()||h.gt(i);)h=(o=fromNumber(t-=a,this.unsigned)).mul(e);o.isZero()&&(o=l),n=n.add(o),i=i.sub(h)}return n},m.div=m.divide,m.modulo=function modulo(e){return isLong(e)||(e=fromValue(e)),this.sub(this.div(e).mul(e))},m.mod=m.modulo,m.not=function not(){return fromBits(~this.low,~this.high,this.unsigned)},m.and=function and(e){return isLong(e)||(e=fromValue(e)),fromBits(this.low&e.low,this.high&e.high,this.unsigned)},m.or=function or(e){return isLong(e)||(e=fromValue(e)),fromBits(this.low|e.low,this.high|e.high,this.unsigned)},m.xor=function xor(e){return isLong(e)||(e=fromValue(e)),fromBits(this.low^e.low,this.high^e.high,this.unsigned)},m.shiftLeft=function shiftLeft(e){return isLong(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?fromBits(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):fromBits(0,this.low<<e-32,this.unsigned)},m.shl=m.shiftLeft,m.shiftRight=function shiftRight(e){return isLong(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?fromBits(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):fromBits(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},m.shr=m.shiftRight,m.shiftRightUnsigned=function shiftRightUnsigned(e){if(isLong(e)&&(e=e.toInt()),0==(e&=63))return this;var t=this.high;return e<32?fromBits(this.low>>>e|t<<32-e,t>>>e,this.unsigned):fromBits(32===e?t:t>>>e-32,0,this.unsigned)},m.shru=m.shiftRightUnsigned,m.toSigned=function toSigned(){return this.unsigned?fromBits(this.low,this.high,!1):this},m.toUnsigned=function toUnsigned(){return this.unsigned?this:fromBits(this.low,this.high,!0)},m.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},m.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24&255,255&e,e>>>8&255,e>>>16&255,e>>>24&255]},m.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24&255,e>>>16&255,e>>>8&255,255&e,t>>>24&255,t>>>16&255,t>>>8&255,255&t]},Long})?r.apply(t,i):r)||(e.exports=n)},9818:(e,t,r)=>{"use strict";var i=r(528),n=r(8498),s=n(i("String.prototype.indexOf"));e.exports=function callBoundIntrinsic(e,t){var r=i(e,!!t);return"function"==typeof r&&s(e,".prototype.")>-1?n(r):r}},8498:(e,t,r)=>{"use strict";var i=r(9138),n=r(528),s=r(6108),a=n("%TypeError%"),o=n("%Function.prototype.apply%"),d=n("%Function.prototype.call%"),u=n("%Reflect.apply%",!0)||i.call(d,o),l=n("%Object.defineProperty%",!0),c=n("%Math.max%");if(l)try{l({},"a",{value:1})}catch(e){l=null}e.exports=function callBind(e){if("function"!=typeof e)throw new a("a function is required");var t=u(i,d,arguments);return s(t,1+c(0,e.length-(arguments.length-1)),!0)};var p=function applyBind(){return u(i,o,arguments)};l?l(e.exports,"apply",{value:p}):e.exports.apply=p},7589:(e,t,r)=>{var i=r(5636).Buffer,n=r(1983).Transform,s=r(6296).I;function CipherBase(e){n.call(this),this.hashMode="string"==typeof e,this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}r(5615)(CipherBase,n),CipherBase.prototype.update=function(e,t,r){"string"==typeof e&&(e=i.from(e,t));var n=this._update(e);return this.hashMode?this:(r&&(n=this._toString(n,r)),n)},CipherBase.prototype.setAutoPadding=function(){},CipherBase.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},CipherBase.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},CipherBase.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},CipherBase.prototype._transform=function(e,t,r){var i;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(e){i=e}finally{r(i)}},CipherBase.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(e){t=e}e(t)},CipherBase.prototype._finalOrDigest=function(e){var t=this.__final()||i.alloc(0);return e&&(t=this._toString(t,e,!0)),t},CipherBase.prototype._toString=function(e,t,r){if(this._decoder||(this._decoder=new s(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var i=this._decoder.write(e);return r&&(i+=this._decoder.end()),i},e.exports=CipherBase},3257:(e,t,r)=>{"use strict";var i=r(5615),n=r(3275),s=r(5586),a=r(3229),o=r(7589);function Hash(e){o.call(this,"digest"),this._hash=e}i(Hash,o),Hash.prototype._update=function(e){this._hash.update(e)},Hash.prototype._final=function(){return this._hash.digest()},e.exports=function createHash(e){return"md5"===(e=e.toLowerCase())?new n:"rmd160"===e||"ripemd160"===e?new s:new Hash(a(e))}},686:(e,t,r)=>{"use strict";var i=r(7239)(),n=r(528),s=i&&n("%Object.defineProperty%",!0);if(s)try{s({},"a",{value:1})}catch(e){s=!1}var a=n("%SyntaxError%"),o=n("%TypeError%"),d=r(9336);e.exports=function defineDataProperty(e,t,r){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new o("`obj` must be an object or a function`");if("string"!=typeof t&&"symbol"!=typeof t)throw new o("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new o("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new o("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new o("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new o("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,n=arguments.length>4?arguments[4]:null,u=arguments.length>5?arguments[5]:null,l=arguments.length>6&&arguments[6],c=!!d&&d(e,t);if(s)s(e,t,{configurable:null===u&&c?c.configurable:!u,enumerable:null===i&&c?c.enumerable:!i,value:r,writable:null===n&&c?c.writable:!n});else{if(!l&&(i||n||u))throw new a("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");e[t]=r}}},1857:(e,t,r)=>{"use strict";var i=r(9228),n="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),s=Object.prototype.toString,a=Array.prototype.concat,o=r(686),d=r(7239)(),defineProperty=function(e,t,r,i){if(t in e)if(!0===i){if(e[t]===r)return}else if("function"!=typeof(n=i)||"[object Function]"!==s.call(n)||!i())return;var n;d?o(e,t,r,!0):o(e,t,r)},defineProperties=function(e,t){var r=arguments.length>2?arguments[2]:{},s=i(t);n&&(s=a.call(s,Object.getOwnPropertySymbols(t)));for(var o=0;o<s.length;o+=1)defineProperty(e,s[o],t[s[o]],r[s[o]])};defineProperties.supportsDescriptors=!!d,e.exports=defineProperties},3360:(e,t,r)=>{"use strict";var i=t;i.version=r(183).rE,i.utils=r(1874),i.rand=r(7048),i.curve=r(7131),i.curves=r(6443),i.ec=r(5064),i.eddsa=r(4807)},5174:(e,t,r)=>{"use strict";var i=r(2823),n=r(1874),s=n.getNAF,a=n.getJSF,o=n.assert;function BaseCurve(e,t){this.type=e,this.p=new i(t.p,16),this.red=t.prime?i.red(t.prime):i.mont(this.p),this.zero=new i(0).toRed(this.red),this.one=new i(1).toRed(this.red),this.two=new i(2).toRed(this.red),this.n=t.n&&new i(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function BasePoint(e,t){this.curve=e,this.type=t,this.precomputed=null}e.exports=BaseCurve,BaseCurve.prototype.point=function point(){throw new Error("Not implemented")},BaseCurve.prototype.validate=function validate(){throw new Error("Not implemented")},BaseCurve.prototype._fixedNafMul=function _fixedNafMul(e,t){o(e.precomputed);var r=e._getDoubles(),i=s(t,1,this._bitLength),n=(1<<r.step+1)-(r.step%2==0?2:1);n/=3;var a,d,u=[];for(a=0;a<i.length;a+=r.step){d=0;for(var l=a+r.step-1;l>=a;l--)d=(d<<1)+i[l];u.push(d)}for(var c=this.jpoint(null,null,null),p=this.jpoint(null,null,null),h=n;h>0;h--){for(a=0;a<u.length;a++)(d=u[a])===h?p=p.mixedAdd(r.points[a]):d===-h&&(p=p.mixedAdd(r.points[a].neg()));c=c.add(p)}return c.toP()},BaseCurve.prototype._wnafMul=function _wnafMul(e,t){var r=4,i=e._getNAFPoints(r);r=i.wnd;for(var n=i.points,a=s(t,r,this._bitLength),d=this.jpoint(null,null,null),u=a.length-1;u>=0;u--){for(var l=0;u>=0&&0===a[u];u--)l++;if(u>=0&&l++,d=d.dblp(l),u<0)break;var c=a[u];o(0!==c),d="affine"===e.type?c>0?d.mixedAdd(n[c-1>>1]):d.mixedAdd(n[-c-1>>1].neg()):c>0?d.add(n[c-1>>1]):d.add(n[-c-1>>1].neg())}return"affine"===e.type?d.toP():d},BaseCurve.prototype._wnafMulAdd=function _wnafMulAdd(e,t,r,i,n){var o,d,u,l=this._wnafT1,c=this._wnafT2,p=this._wnafT3,h=0;for(o=0;o<i;o++){var y=(u=t[o])._getNAFPoints(e);l[o]=y.wnd,c[o]=y.points}for(o=i-1;o>=1;o-=2){var g=o-1,m=o;if(1===l[g]&&1===l[m]){var b=[t[g],null,null,t[m]];0===t[g].y.cmp(t[m].y)?(b[1]=t[g].add(t[m]),b[2]=t[g].toJ().mixedAdd(t[m].neg())):0===t[g].y.cmp(t[m].y.redNeg())?(b[1]=t[g].toJ().mixedAdd(t[m]),b[2]=t[g].add(t[m].neg())):(b[1]=t[g].toJ().mixedAdd(t[m]),b[2]=t[g].toJ().mixedAdd(t[m].neg()));var v=[-3,-1,-5,-7,0,7,5,1,3],_=a(r[g],r[m]);for(h=Math.max(_[0].length,h),p[g]=new Array(h),p[m]=new Array(h),d=0;d<h;d++){var w=0|_[0][d],E=0|_[1][d];p[g][d]=v[3*(w+1)+(E+1)],p[m][d]=0,c[g]=b}}else p[g]=s(r[g],l[g],this._bitLength),p[m]=s(r[m],l[m],this._bitLength),h=Math.max(p[g].length,h),h=Math.max(p[m].length,h)}var T=this.jpoint(null,null,null),A=this._wnafT4;for(o=h;o>=0;o--){for(var M=0;o>=0;){var O=!0;for(d=0;d<i;d++)A[d]=0|p[d][o],0!==A[d]&&(O=!1);if(!O)break;M++,o--}if(o>=0&&M++,T=T.dblp(M),o<0)break;for(d=0;d<i;d++){var x=A[d];0!==x&&(x>0?u=c[d][x-1>>1]:x<0&&(u=c[d][-x-1>>1].neg()),T="affine"===u.type?T.mixedAdd(u):T.add(u))}}for(o=0;o<i;o++)c[o]=null;return n?T:T.toP()},BaseCurve.BasePoint=BasePoint,BasePoint.prototype.eq=function eq(){throw new Error("Not implemented")},BasePoint.prototype.validate=function validate(){return this.curve.validate(this)},BaseCurve.prototype.decodePoint=function decodePoint(e,t){e=n.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*r)return 6===e[0]?o(e[e.length-1]%2==0):7===e[0]&&o(e[e.length-1]%2==1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw new Error("Unknown point format")},BasePoint.prototype.encodeCompressed=function encodeCompressed(e){return this.encode(e,!0)},BasePoint.prototype._encode=function _encode(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},BasePoint.prototype.encode=function encode(e,t){return n.encode(this._encode(t),e)},BasePoint.prototype.precompute=function precompute(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},BasePoint.prototype._hasDoubles=function _hasDoubles(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},BasePoint.prototype._getDoubles=function _getDoubles(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],i=this,n=0;n<t;n+=e){for(var s=0;s<e;s++)i=i.dbl();r.push(i)}return{step:e,points:r}},BasePoint.prototype._getNAFPoints=function _getNAFPoints(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,i=1===r?null:this.dbl(),n=1;n<r;n++)t[n]=t[n-1].add(i);return{wnd:e,points:t}},BasePoint.prototype._getBeta=function _getBeta(){return null},BasePoint.prototype.dblp=function dblp(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t}},1547:(e,t,r)=>{"use strict";var i=r(1874),n=r(2823),s=r(5615),a=r(5174),o=i.assert;function EdwardsCurve(e){this.twisted=1!=(0|e.a),this.mOneA=this.twisted&&-1==(0|e.a),this.extended=this.mOneA,a.call(this,"edwards",e),this.a=new n(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new n(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new n(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),o(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|e.c)}function Point(e,t,r,i,s){a.BasePoint.call(this,e,"projective"),null===t&&null===r&&null===i?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new n(t,16),this.y=new n(r,16),this.z=i?new n(i,16):this.curve.one,this.t=s&&new n(s,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}s(EdwardsCurve,a),e.exports=EdwardsCurve,EdwardsCurve.prototype._mulA=function _mulA(e){return this.mOneA?e.redNeg():this.a.redMul(e)},EdwardsCurve.prototype._mulC=function _mulC(e){return this.oneC?e:this.c.redMul(e)},EdwardsCurve.prototype.jpoint=function jpoint(e,t,r,i){return this.point(e,t,r,i)},EdwardsCurve.prototype.pointFromX=function pointFromX(e,t){(e=new n(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),i=this.c2.redSub(this.a.redMul(r)),s=this.one.redSub(this.c2.redMul(this.d).redMul(r)),a=i.redMul(s.redInvm()),o=a.redSqrt();if(0!==o.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");var d=o.fromRed().isOdd();return(t&&!d||!t&&d)&&(o=o.redNeg()),this.point(e,o)},EdwardsCurve.prototype.pointFromY=function pointFromY(e,t){(e=new n(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),i=r.redSub(this.c2),s=r.redMul(this.d).redMul(this.c2).redSub(this.a),a=i.redMul(s.redInvm());if(0===a.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var o=a.redSqrt();if(0!==o.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");return o.fromRed().isOdd()!==t&&(o=o.redNeg()),this.point(o,e)},EdwardsCurve.prototype.validate=function validate(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),r=e.y.redSqr(),i=t.redMul(this.a).redAdd(r),n=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(r)));return 0===i.cmp(n)},s(Point,a.BasePoint),EdwardsCurve.prototype.pointFromJSON=function pointFromJSON(e){return Point.fromJSON(this,e)},EdwardsCurve.prototype.point=function point(e,t,r,i){return new Point(this,e,t,r,i)},Point.fromJSON=function fromJSON(e,t){return new Point(e,t[0],t[1],t[2])},Point.prototype.inspect=function inspect(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},Point.prototype.isInfinity=function isInfinity(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},Point.prototype._extDbl=function _extDbl(){var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var i=this.curve._mulA(e),n=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),s=i.redAdd(t),a=s.redSub(r),o=i.redSub(t),d=n.redMul(a),u=s.redMul(o),l=n.redMul(o),c=a.redMul(s);return this.curve.point(d,u,c,l)},Point.prototype._projDbl=function _projDbl(){var e,t,r,i,n,s,a=this.x.redAdd(this.y).redSqr(),o=this.x.redSqr(),d=this.y.redSqr();if(this.curve.twisted){var u=(i=this.curve._mulA(o)).redAdd(d);this.zOne?(e=a.redSub(o).redSub(d).redMul(u.redSub(this.curve.two)),t=u.redMul(i.redSub(d)),r=u.redSqr().redSub(u).redSub(u)):(n=this.z.redSqr(),s=u.redSub(n).redISub(n),e=a.redSub(o).redISub(d).redMul(s),t=u.redMul(i.redSub(d)),r=u.redMul(s))}else i=o.redAdd(d),n=this.curve._mulC(this.z).redSqr(),s=i.redSub(n).redSub(n),e=this.curve._mulC(a.redISub(i)).redMul(s),t=this.curve._mulC(i).redMul(o.redISub(d)),r=i.redMul(s);return this.curve.point(e,t,r)},Point.prototype.dbl=function dbl(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},Point.prototype._extAdd=function _extAdd(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),r=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),i=this.t.redMul(this.curve.dd).redMul(e.t),n=this.z.redMul(e.z.redAdd(e.z)),s=r.redSub(t),a=n.redSub(i),o=n.redAdd(i),d=r.redAdd(t),u=s.redMul(a),l=o.redMul(d),c=s.redMul(d),p=a.redMul(o);return this.curve.point(u,l,p,c)},Point.prototype._projAdd=function _projAdd(e){var t,r,i=this.z.redMul(e.z),n=i.redSqr(),s=this.x.redMul(e.x),a=this.y.redMul(e.y),o=this.curve.d.redMul(s).redMul(a),d=n.redSub(o),u=n.redAdd(o),l=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(s).redISub(a),c=i.redMul(d).redMul(l);return this.curve.twisted?(t=i.redMul(u).redMul(a.redSub(this.curve._mulA(s))),r=d.redMul(u)):(t=i.redMul(u).redMul(a.redSub(s)),r=this.curve._mulC(d).redMul(u)),this.curve.point(c,t,r)},Point.prototype.add=function add(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},Point.prototype.mul=function mul(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},Point.prototype.mulAdd=function mulAdd(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!1)},Point.prototype.jmulAdd=function jmulAdd(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!0)},Point.prototype.normalize=function normalize(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},Point.prototype.neg=function neg(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},Point.prototype.getX=function getX(){return this.normalize(),this.x.fromRed()},Point.prototype.getY=function getY(){return this.normalize(),this.y.fromRed()},Point.prototype.eq=function eq(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},Point.prototype.eqXToP=function eqXToP(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var r=e.clone(),i=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(i),0===this.x.cmp(t))return!0}},Point.prototype.toP=Point.prototype.normalize,Point.prototype.mixedAdd=Point.prototype.add},7131:(e,t,r)=>{"use strict";var i=t;i.base=r(5174),i.short=r(277),i.mont=r(3245),i.edwards=r(1547)},3245:(e,t,r)=>{"use strict";var i=r(2823),n=r(5615),s=r(5174),a=r(1874);function MontCurve(e){s.call(this,"mont",e),this.a=new i(e.a,16).toRed(this.red),this.b=new i(e.b,16).toRed(this.red),this.i4=new i(4).toRed(this.red).redInvm(),this.two=new i(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function Point(e,t,r){s.BasePoint.call(this,e,"projective"),null===t&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new i(t,16),this.z=new i(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}n(MontCurve,s),e.exports=MontCurve,MontCurve.prototype.validate=function validate(e){var t=e.normalize().x,r=t.redSqr(),i=r.redMul(t).redAdd(r.redMul(this.a)).redAdd(t);return 0===i.redSqrt().redSqr().cmp(i)},n(Point,s.BasePoint),MontCurve.prototype.decodePoint=function decodePoint(e,t){return this.point(a.toArray(e,t),1)},MontCurve.prototype.point=function point(e,t){return new Point(this,e,t)},MontCurve.prototype.pointFromJSON=function pointFromJSON(e){return Point.fromJSON(this,e)},Point.prototype.precompute=function precompute(){},Point.prototype._encode=function _encode(){return this.getX().toArray("be",this.curve.p.byteLength())},Point.fromJSON=function fromJSON(e,t){return new Point(e,t[0],t[1]||e.one)},Point.prototype.inspect=function inspect(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},Point.prototype.isInfinity=function isInfinity(){return 0===this.z.cmpn(0)},Point.prototype.dbl=function dbl(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),r=e.redSub(t),i=e.redMul(t),n=r.redMul(t.redAdd(this.curve.a24.redMul(r)));return this.curve.point(i,n)},Point.prototype.add=function add(){throw new Error("Not supported on Montgomery curve")},Point.prototype.diffAdd=function diffAdd(e,t){var r=this.x.redAdd(this.z),i=this.x.redSub(this.z),n=e.x.redAdd(e.z),s=e.x.redSub(e.z).redMul(r),a=n.redMul(i),o=t.z.redMul(s.redAdd(a).redSqr()),d=t.x.redMul(s.redISub(a).redSqr());return this.curve.point(o,d)},Point.prototype.mul=function mul(e){for(var t=e.clone(),r=this,i=this.curve.point(null,null),n=[];0!==t.cmpn(0);t.iushrn(1))n.push(t.andln(1));for(var s=n.length-1;s>=0;s--)0===n[s]?(r=r.diffAdd(i,this),i=i.dbl()):(i=r.diffAdd(i,this),r=r.dbl());return i},Point.prototype.mulAdd=function mulAdd(){throw new Error("Not supported on Montgomery curve")},Point.prototype.jumlAdd=function jumlAdd(){throw new Error("Not supported on Montgomery curve")},Point.prototype.eq=function eq(e){return 0===this.getX().cmp(e.getX())},Point.prototype.normalize=function normalize(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},Point.prototype.getX=function getX(){return this.normalize(),this.x.fromRed()}},277:(e,t,r)=>{"use strict";var i=r(1874),n=r(2823),s=r(5615),a=r(5174),o=i.assert;function ShortCurve(e){a.call(this,"short",e),this.a=new n(e.a,16).toRed(this.red),this.b=new n(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function Point(e,t,r,i){a.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new n(t,16),this.y=new n(r,16),i&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function JPoint(e,t,r,i){a.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===i?(this.x=this.curve.one,this.y=this.curve.one,this.z=new n(0)):(this.x=new n(t,16),this.y=new n(r,16),this.z=new n(i,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}s(ShortCurve,a),e.exports=ShortCurve,ShortCurve.prototype._getEndomorphism=function _getEndomorphism(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,r;if(e.beta)t=new n(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);t=(t=i[0].cmp(i[1])<0?i[0]:i[1]).toRed(this.red)}if(e.lambda)r=new n(e.lambda,16);else{var s=this._getEndoRoots(this.n);0===this.g.mul(s[0]).x.cmp(this.g.x.redMul(t))?r=s[0]:(r=s[1],o(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:r,basis:e.basis?e.basis.map((function(e){return{a:new n(e.a,16),b:new n(e.b,16)}})):this._getEndoBasis(r)}}},ShortCurve.prototype._getEndoRoots=function _getEndoRoots(e){var t=e===this.p?this.red:n.mont(e),r=new n(2).toRed(t).redInvm(),i=r.redNeg(),s=new n(3).toRed(t).redNeg().redSqrt().redMul(r);return[i.redAdd(s).fromRed(),i.redSub(s).fromRed()]},ShortCurve.prototype._getEndoBasis=function _getEndoBasis(e){for(var t,r,i,s,a,o,d,u,l,c=this.n.ushrn(Math.floor(this.n.bitLength()/2)),p=e,h=this.n.clone(),y=new n(1),g=new n(0),m=new n(0),b=new n(1),v=0;0!==p.cmpn(0);){var _=h.div(p);u=h.sub(_.mul(p)),l=m.sub(_.mul(y));var w=b.sub(_.mul(g));if(!i&&u.cmp(c)<0)t=d.neg(),r=y,i=u.neg(),s=l;else if(i&&2==++v)break;d=u,h=p,p=u,m=y,y=l,b=g,g=w}a=u.neg(),o=l;var E=i.sqr().add(s.sqr());return a.sqr().add(o.sqr()).cmp(E)>=0&&(a=t,o=r),i.negative&&(i=i.neg(),s=s.neg()),a.negative&&(a=a.neg(),o=o.neg()),[{a:i,b:s},{a,b:o}]},ShortCurve.prototype._endoSplit=function _endoSplit(e){var t=this.endo.basis,r=t[0],i=t[1],n=i.b.mul(e).divRound(this.n),s=r.b.neg().mul(e).divRound(this.n),a=n.mul(r.a),o=s.mul(i.a),d=n.mul(r.b),u=s.mul(i.b);return{k1:e.sub(a).sub(o),k2:d.add(u).neg()}},ShortCurve.prototype.pointFromX=function pointFromX(e,t){(e=new n(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=r.redSqrt();if(0!==i.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var s=i.fromRed().isOdd();return(t&&!s||!t&&s)&&(i=i.redNeg()),this.point(e,i)},ShortCurve.prototype.validate=function validate(e){if(e.inf)return!0;var t=e.x,r=e.y,i=this.a.redMul(t),n=t.redSqr().redMul(t).redIAdd(i).redIAdd(this.b);return 0===r.redSqr().redISub(n).cmpn(0)},ShortCurve.prototype._endoWnafMulAdd=function _endoWnafMulAdd(e,t,r){for(var i=this._endoWnafT1,n=this._endoWnafT2,s=0;s<e.length;s++){var a=this._endoSplit(t[s]),o=e[s],d=o._getBeta();a.k1.negative&&(a.k1.ineg(),o=o.neg(!0)),a.k2.negative&&(a.k2.ineg(),d=d.neg(!0)),i[2*s]=o,i[2*s+1]=d,n[2*s]=a.k1,n[2*s+1]=a.k2}for(var u=this._wnafMulAdd(1,i,n,2*s,r),l=0;l<2*s;l++)i[l]=null,n[l]=null;return u},s(Point,a.BasePoint),ShortCurve.prototype.point=function point(e,t,r){return new Point(this,e,t,r)},ShortCurve.prototype.pointFromJSON=function pointFromJSON(e,t){return Point.fromJSON(this,e,t)},Point.prototype._getBeta=function _getBeta(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,endoMul=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(endoMul)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(endoMul)}}}return t}},Point.prototype.toJSON=function toJSON(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Point.fromJSON=function fromJSON(e,t,r){"string"==typeof t&&(t=JSON.parse(t));var i=e.point(t[0],t[1],r);if(!t[2])return i;function obj2point(t){return e.point(t[0],t[1],r)}var n=t[2];return i.precomputed={beta:null,doubles:n.doubles&&{step:n.doubles.step,points:[i].concat(n.doubles.points.map(obj2point))},naf:n.naf&&{wnd:n.naf.wnd,points:[i].concat(n.naf.points.map(obj2point))}},i},Point.prototype.inspect=function inspect(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Point.prototype.isInfinity=function isInfinity(){return this.inf},Point.prototype.add=function add(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),i=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,i)},Point.prototype.dbl=function dbl(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),i=e.redInvm(),n=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(i),s=n.redSqr().redISub(this.x.redAdd(this.x)),a=n.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,a)},Point.prototype.getX=function getX(){return this.x.fromRed()},Point.prototype.getY=function getY(){return this.y.fromRed()},Point.prototype.mul=function mul(e){return e=new n(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},Point.prototype.mulAdd=function mulAdd(e,t,r){var i=[this,t],n=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,n):this.curve._wnafMulAdd(1,i,n,2)},Point.prototype.jmulAdd=function jmulAdd(e,t,r){var i=[this,t],n=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,n,!0):this.curve._wnafMulAdd(1,i,n,2,!0)},Point.prototype.eq=function eq(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},Point.prototype.neg=function neg(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,negate=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(negate)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(negate)}}}return t},Point.prototype.toJ=function toJ(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},s(JPoint,a.BasePoint),ShortCurve.prototype.jpoint=function jpoint(e,t,r){return new JPoint(this,e,t,r)},JPoint.prototype.toP=function toP(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),i=this.y.redMul(t).redMul(e);return this.curve.point(r,i)},JPoint.prototype.neg=function neg(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},JPoint.prototype.add=function add(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),i=this.x.redMul(t),n=e.x.redMul(r),s=this.y.redMul(t.redMul(e.z)),a=e.y.redMul(r.redMul(this.z)),o=i.redSub(n),d=s.redSub(a);if(0===o.cmpn(0))return 0!==d.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=o.redSqr(),l=u.redMul(o),c=i.redMul(u),p=d.redSqr().redIAdd(l).redISub(c).redISub(c),h=d.redMul(c.redISub(p)).redISub(s.redMul(l)),y=this.z.redMul(e.z).redMul(o);return this.curve.jpoint(p,h,y)},JPoint.prototype.mixedAdd=function mixedAdd(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,i=e.x.redMul(t),n=this.y,s=e.y.redMul(t).redMul(this.z),a=r.redSub(i),o=n.redSub(s);if(0===a.cmpn(0))return 0!==o.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var d=a.redSqr(),u=d.redMul(a),l=r.redMul(d),c=o.redSqr().redIAdd(u).redISub(l).redISub(l),p=o.redMul(l.redISub(c)).redISub(n.redMul(u)),h=this.z.redMul(a);return this.curve.jpoint(c,p,h)},JPoint.prototype.dblp=function dblp(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var i=this.curve.a,n=this.curve.tinv,s=this.x,a=this.y,o=this.z,d=o.redSqr().redSqr(),u=a.redAdd(a);for(t=0;t<e;t++){var l=s.redSqr(),c=u.redSqr(),p=c.redSqr(),h=l.redAdd(l).redIAdd(l).redIAdd(i.redMul(d)),y=s.redMul(c),g=h.redSqr().redISub(y.redAdd(y)),m=y.redISub(g),b=h.redMul(m);b=b.redIAdd(b).redISub(p);var v=u.redMul(o);t+1<e&&(d=d.redMul(p)),s=g,o=v,u=b}return this.curve.jpoint(s,u.redMul(n),o)},JPoint.prototype.dbl=function dbl(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},JPoint.prototype._zeroDbl=function _zeroDbl(){var e,t,r;if(this.zOne){var i=this.x.redSqr(),n=this.y.redSqr(),s=n.redSqr(),a=this.x.redAdd(n).redSqr().redISub(i).redISub(s);a=a.redIAdd(a);var o=i.redAdd(i).redIAdd(i),d=o.redSqr().redISub(a).redISub(a),u=s.redIAdd(s);u=(u=u.redIAdd(u)).redIAdd(u),e=d,t=o.redMul(a.redISub(d)).redISub(u),r=this.y.redAdd(this.y)}else{var l=this.x.redSqr(),c=this.y.redSqr(),p=c.redSqr(),h=this.x.redAdd(c).redSqr().redISub(l).redISub(p);h=h.redIAdd(h);var y=l.redAdd(l).redIAdd(l),g=y.redSqr(),m=p.redIAdd(p);m=(m=m.redIAdd(m)).redIAdd(m),e=g.redISub(h).redISub(h),t=y.redMul(h.redISub(e)).redISub(m),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},JPoint.prototype._threeDbl=function _threeDbl(){var e,t,r;if(this.zOne){var i=this.x.redSqr(),n=this.y.redSqr(),s=n.redSqr(),a=this.x.redAdd(n).redSqr().redISub(i).redISub(s);a=a.redIAdd(a);var o=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),d=o.redSqr().redISub(a).redISub(a);e=d;var u=s.redIAdd(s);u=(u=u.redIAdd(u)).redIAdd(u),t=o.redMul(a.redISub(d)).redISub(u),r=this.y.redAdd(this.y)}else{var l=this.z.redSqr(),c=this.y.redSqr(),p=this.x.redMul(c),h=this.x.redSub(l).redMul(this.x.redAdd(l));h=h.redAdd(h).redIAdd(h);var y=p.redIAdd(p),g=(y=y.redIAdd(y)).redAdd(y);e=h.redSqr().redISub(g),r=this.y.redAdd(this.z).redSqr().redISub(c).redISub(l);var m=c.redSqr();m=(m=(m=m.redIAdd(m)).redIAdd(m)).redIAdd(m),t=h.redMul(y.redISub(e)).redISub(m)}return this.curve.jpoint(e,t,r)},JPoint.prototype._dbl=function _dbl(){var e=this.curve.a,t=this.x,r=this.y,i=this.z,n=i.redSqr().redSqr(),s=t.redSqr(),a=r.redSqr(),o=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(n)),d=t.redAdd(t),u=(d=d.redIAdd(d)).redMul(a),l=o.redSqr().redISub(u.redAdd(u)),c=u.redISub(l),p=a.redSqr();p=(p=(p=p.redIAdd(p)).redIAdd(p)).redIAdd(p);var h=o.redMul(c).redISub(p),y=r.redAdd(r).redMul(i);return this.curve.jpoint(l,h,y)},JPoint.prototype.trpl=function trpl(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),i=t.redSqr(),n=e.redAdd(e).redIAdd(e),s=n.redSqr(),a=this.x.redAdd(t).redSqr().redISub(e).redISub(i),o=(a=(a=(a=a.redIAdd(a)).redAdd(a).redIAdd(a)).redISub(s)).redSqr(),d=i.redIAdd(i);d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var u=n.redIAdd(a).redSqr().redISub(s).redISub(o).redISub(d),l=t.redMul(u);l=(l=l.redIAdd(l)).redIAdd(l);var c=this.x.redMul(o).redISub(l);c=(c=c.redIAdd(c)).redIAdd(c);var p=this.y.redMul(u.redMul(d.redISub(u)).redISub(a.redMul(o)));p=(p=(p=p.redIAdd(p)).redIAdd(p)).redIAdd(p);var h=this.z.redAdd(a).redSqr().redISub(r).redISub(o);return this.curve.jpoint(c,p,h)},JPoint.prototype.mul=function mul(e,t){return e=new n(e,t),this.curve._wnafMul(this,e)},JPoint.prototype.eq=function eq(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var i=t.redMul(this.z),n=r.redMul(e.z);return 0===this.y.redMul(n).redISub(e.y.redMul(i)).cmpn(0)},JPoint.prototype.eqXToP=function eqXToP(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var i=e.clone(),n=this.curve.redN.redMul(t);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(n),0===this.x.cmp(r))return!0}},JPoint.prototype.inspect=function inspect(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},JPoint.prototype.isInfinity=function isInfinity(){return 0===this.z.cmpn(0)}},6443:(e,t,r)=>{"use strict";var i,n=t,s=r(9499),a=r(7131),o=r(1874).assert;function PresetCurve(e){"short"===e.type?this.curve=new a.short(e):"edwards"===e.type?this.curve=new a.edwards(e):this.curve=new a.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,o(this.g.validate(),"Invalid curve"),o(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function defineCurve(e,t){Object.defineProperty(n,e,{configurable:!0,enumerable:!0,get:function(){var r=new PresetCurve(t);return Object.defineProperty(n,e,{configurable:!0,enumerable:!0,value:r}),r}})}n.PresetCurve=PresetCurve,defineCurve("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:s.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),defineCurve("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:s.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),defineCurve("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:s.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),defineCurve("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:s.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),defineCurve("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:s.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),defineCurve("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:s.sha256,gRed:!1,g:["9"]}),defineCurve("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:s.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{i=r(3986)}catch(e){i=void 0}defineCurve("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:s.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",i]})},5064:(e,t,r)=>{"use strict";var i=r(2823),n=r(4742),s=r(1874),a=r(6443),o=r(7048),d=s.assert,u=r(7531),l=r(7782);function EC(e){if(!(this instanceof EC))return new EC(e);"string"==typeof e&&(d(Object.prototype.hasOwnProperty.call(a,e),"Unknown curve "+e),e=a[e]),e instanceof a.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}e.exports=EC,EC.prototype.keyPair=function keyPair(e){return new u(this,e)},EC.prototype.keyFromPrivate=function keyFromPrivate(e,t){return u.fromPrivate(this,e,t)},EC.prototype.keyFromPublic=function keyFromPublic(e,t){return u.fromPublic(this,e,t)},EC.prototype.genKeyPair=function genKeyPair(e){e||(e={});for(var t=new n({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||o(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),s=this.n.sub(new i(2));;){var a=new i(t.generate(r));if(!(a.cmp(s)>0))return a.iaddn(1),this.keyFromPrivate(a)}},EC.prototype._truncateToN=function _truncateToN(e,t){var r=8*e.byteLength()-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},EC.prototype.sign=function sign(e,t,r,s){"object"==typeof r&&(s=r,r=null),s||(s={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new i(e,16));for(var a=this.n.byteLength(),o=t.getPrivate().toArray("be",a),d=e.toArray("be",a),u=new n({hash:this.hash,entropy:o,nonce:d,pers:s.pers,persEnc:s.persEnc||"utf8"}),c=this.n.sub(new i(1)),p=0;;p++){var h=s.k?s.k(p):new i(u.generate(this.n.byteLength()));if(!((h=this._truncateToN(h,!0)).cmpn(1)<=0||h.cmp(c)>=0)){var y=this.g.mul(h);if(!y.isInfinity()){var g=y.getX(),m=g.umod(this.n);if(0!==m.cmpn(0)){var b=h.invm(this.n).mul(m.mul(t.getPrivate()).iadd(e));if(0!==(b=b.umod(this.n)).cmpn(0)){var v=(y.getY().isOdd()?1:0)|(0!==g.cmp(m)?2:0);return s.canonical&&b.cmp(this.nh)>0&&(b=this.n.sub(b),v^=1),new l({r:m,s:b,recoveryParam:v})}}}}}},EC.prototype.verify=function verify(e,t,r,n){e=this._truncateToN(new i(e,16)),r=this.keyFromPublic(r,n);var s=(t=new l(t,"hex")).r,a=t.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;if(a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var o,d=a.invm(this.n),u=d.mul(e).umod(this.n),c=d.mul(s).umod(this.n);return this.curve._maxwellTrick?!(o=this.g.jmulAdd(u,r.getPublic(),c)).isInfinity()&&o.eqXToP(s):!(o=this.g.mulAdd(u,r.getPublic(),c)).isInfinity()&&0===o.getX().umod(this.n).cmp(s)},EC.prototype.recoverPubKey=function(e,t,r,n){d((3&r)===r,"The recovery param is more than two bits"),t=new l(t,n);var s=this.n,a=new i(e),o=t.r,u=t.s,c=1&r,p=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&p)throw new Error("Unable to find sencond key candinate");o=p?this.curve.pointFromX(o.add(this.curve.n),c):this.curve.pointFromX(o,c);var h=t.r.invm(s),y=s.sub(a).mul(h).umod(s),g=u.mul(h).umod(s);return this.g.mulAdd(y,o,g)},EC.prototype.getKeyRecoveryParam=function(e,t,r,i){if(null!==(t=new l(t,i)).recoveryParam)return t.recoveryParam;for(var n=0;n<4;n++){var s;try{s=this.recoverPubKey(e,t,n)}catch(e){continue}if(s.eq(r))return n}throw new Error("Unable to find valid recovery factor")}},7531:(e,t,r)=>{"use strict";var i=r(2823),n=r(1874).assert;function KeyPair(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}e.exports=KeyPair,KeyPair.fromPublic=function fromPublic(e,t,r){return t instanceof KeyPair?t:new KeyPair(e,{pub:t,pubEnc:r})},KeyPair.fromPrivate=function fromPrivate(e,t,r){return t instanceof KeyPair?t:new KeyPair(e,{priv:t,privEnc:r})},KeyPair.prototype.validate=function validate(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},KeyPair.prototype.getPublic=function getPublic(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},KeyPair.prototype.getPrivate=function getPrivate(e){return"hex"===e?this.priv.toString(16,2):this.priv},KeyPair.prototype._importPrivate=function _importPrivate(e,t){this.priv=new i(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},KeyPair.prototype._importPublic=function _importPublic(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?n(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||n(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},KeyPair.prototype.derive=function derive(e){return e.validate()||n(e.validate(),"public point not validated"),e.mul(this.priv).getX()},KeyPair.prototype.sign=function sign(e,t,r){return this.ec.sign(e,this,t,r)},KeyPair.prototype.verify=function verify(e,t){return this.ec.verify(e,t,this)},KeyPair.prototype.inspect=function inspect(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},7782:(e,t,r)=>{"use strict";var i=r(2823),n=r(1874),s=n.assert;function Signature(e,t){if(e instanceof Signature)return e;this._importDER(e,t)||(s(e.r&&e.s,"Signature without r or s"),this.r=new i(e.r,16),this.s=new i(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function Position(){this.place=0}function getLength(e,t){var r=e[t.place++];if(!(128&r))return r;var i=15&r;if(0===i||i>4)return!1;for(var n=0,s=0,a=t.place;s<i;s++,a++)n<<=8,n|=e[a],n>>>=0;return!(n<=127)&&(t.place=a,n)}function rmPadding(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function constructLength(e,t){if(t<128)e.push(t);else{var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}}e.exports=Signature,Signature.prototype._importDER=function _importDER(e,t){e=n.toArray(e,t);var r=new Position;if(48!==e[r.place++])return!1;var s=getLength(e,r);if(!1===s)return!1;if(s+r.place!==e.length)return!1;if(2!==e[r.place++])return!1;var a=getLength(e,r);if(!1===a)return!1;var o=e.slice(r.place,a+r.place);if(r.place+=a,2!==e[r.place++])return!1;var d=getLength(e,r);if(!1===d)return!1;if(e.length!==d+r.place)return!1;var u=e.slice(r.place,d+r.place);if(0===o[0]){if(!(128&o[1]))return!1;o=o.slice(1)}if(0===u[0]){if(!(128&u[1]))return!1;u=u.slice(1)}return this.r=new i(o),this.s=new i(u),this.recoveryParam=null,!0},Signature.prototype.toDER=function toDER(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=rmPadding(t),r=rmPadding(r);!(r[0]||128&r[1]);)r=r.slice(1);var i=[2];constructLength(i,t.length),(i=i.concat(t)).push(2),constructLength(i,r.length);var s=i.concat(r),a=[48];return constructLength(a,s.length),a=a.concat(s),n.encode(a,e)}},4807:(e,t,r)=>{"use strict";var i=r(9499),n=r(6443),s=r(1874),a=s.assert,o=s.parseBytes,d=r(4672),u=r(8401);function EDDSA(e){if(a("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof EDDSA))return new EDDSA(e);e=n[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=i.sha512}e.exports=EDDSA,EDDSA.prototype.sign=function sign(e,t){e=o(e);var r=this.keyFromSecret(t),i=this.hashInt(r.messagePrefix(),e),n=this.g.mul(i),s=this.encodePoint(n),a=this.hashInt(s,r.pubBytes(),e).mul(r.priv()),d=i.add(a).umod(this.curve.n);return this.makeSignature({R:n,S:d,Rencoded:s})},EDDSA.prototype.verify=function verify(e,t,r){e=o(e),t=this.makeSignature(t);var i=this.keyFromPublic(r),n=this.hashInt(t.Rencoded(),i.pubBytes(),e),s=this.g.mul(t.S());return t.R().add(i.pub().mul(n)).eq(s)},EDDSA.prototype.hashInt=function hashInt(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return s.intFromLE(e.digest()).umod(this.curve.n)},EDDSA.prototype.keyFromPublic=function keyFromPublic(e){return d.fromPublic(this,e)},EDDSA.prototype.keyFromSecret=function keyFromSecret(e){return d.fromSecret(this,e)},EDDSA.prototype.makeSignature=function makeSignature(e){return e instanceof u?e:new u(this,e)},EDDSA.prototype.encodePoint=function encodePoint(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},EDDSA.prototype.decodePoint=function decodePoint(e){var t=(e=s.parseBytes(e)).length-1,r=e.slice(0,t).concat(-129&e[t]),i=!!(128&e[t]),n=s.intFromLE(r);return this.curve.pointFromY(n,i)},EDDSA.prototype.encodeInt=function encodeInt(e){return e.toArray("le",this.encodingLength)},EDDSA.prototype.decodeInt=function decodeInt(e){return s.intFromLE(e)},EDDSA.prototype.isPoint=function isPoint(e){return e instanceof this.pointClass}},4672:(e,t,r)=>{"use strict";var i=r(1874),n=i.assert,s=i.parseBytes,a=i.cachedProperty;function KeyPair(e,t){this.eddsa=e,this._secret=s(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=s(t.pub)}KeyPair.fromPublic=function fromPublic(e,t){return t instanceof KeyPair?t:new KeyPair(e,{pub:t})},KeyPair.fromSecret=function fromSecret(e,t){return t instanceof KeyPair?t:new KeyPair(e,{secret:t})},KeyPair.prototype.secret=function secret(){return this._secret},a(KeyPair,"pubBytes",(function pubBytes(){return this.eddsa.encodePoint(this.pub())})),a(KeyPair,"pub",(function pub(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),a(KeyPair,"privBytes",(function privBytes(){var e=this.eddsa,t=this.hash(),r=e.encodingLength-1,i=t.slice(0,e.encodingLength);return i[0]&=248,i[r]&=127,i[r]|=64,i})),a(KeyPair,"priv",(function priv(){return this.eddsa.decodeInt(this.privBytes())})),a(KeyPair,"hash",(function hash(){return this.eddsa.hash().update(this.secret()).digest()})),a(KeyPair,"messagePrefix",(function messagePrefix(){return this.hash().slice(this.eddsa.encodingLength)})),KeyPair.prototype.sign=function sign(e){return n(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},KeyPair.prototype.verify=function verify(e,t){return this.eddsa.verify(e,t,this)},KeyPair.prototype.getSecret=function getSecret(e){return n(this._secret,"KeyPair is public only"),i.encode(this.secret(),e)},KeyPair.prototype.getPublic=function getPublic(e){return i.encode(this.pubBytes(),e)},e.exports=KeyPair},8401:(e,t,r)=>{"use strict";var i=r(2823),n=r(1874),s=n.assert,a=n.cachedProperty,o=n.parseBytes;function Signature(e,t){this.eddsa=e,"object"!=typeof t&&(t=o(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),s(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof i&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}a(Signature,"S",(function S(){return this.eddsa.decodeInt(this.Sencoded())})),a(Signature,"R",(function R(){return this.eddsa.decodePoint(this.Rencoded())})),a(Signature,"Rencoded",(function Rencoded(){return this.eddsa.encodePoint(this.R())})),a(Signature,"Sencoded",(function Sencoded(){return this.eddsa.encodeInt(this.S())})),Signature.prototype.toBytes=function toBytes(){return this.Rencoded().concat(this.Sencoded())},Signature.prototype.toHex=function toHex(){return n.encode(this.toBytes(),"hex").toUpperCase()},e.exports=Signature},3986:e=>{e.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},1874:(e,t,r)=>{"use strict";var i=t,n=r(2823),s=r(7784),a=r(9042);i.assert=s,i.toArray=a.toArray,i.zero2=a.zero2,i.toHex=a.toHex,i.encode=a.encode,i.getNAF=function getNAF(e,t,r){var i=new Array(Math.max(e.bitLength(),r)+1);i.fill(0);for(var n=1<<t+1,s=e.clone(),a=0;a<i.length;a++){var o,d=s.andln(n-1);s.isOdd()?(o=d>(n>>1)-1?(n>>1)-d:d,s.isubn(o)):o=0,i[a]=o,s.iushrn(1)}return i},i.getJSF=function getJSF(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var i,n=0,s=0;e.cmpn(-n)>0||t.cmpn(-s)>0;){var a,o,d=e.andln(3)+n&3,u=t.andln(3)+s&3;3===d&&(d=-1),3===u&&(u=-1),a=1&d?3!==(i=e.andln(7)+n&7)&&5!==i||2!==u?d:-d:0,r[0].push(a),o=1&u?3!==(i=t.andln(7)+s&7)&&5!==i||2!==d?u:-u:0,r[1].push(o),2*n===a+1&&(n=1-n),2*s===o+1&&(s=1-s),e.iushrn(1),t.iushrn(1)}return r},i.cachedProperty=function cachedProperty(e,t,r){var i="_"+t;e.prototype[t]=function cachedProperty(){return void 0!==this[i]?this[i]:this[i]=r.call(this)}},i.parseBytes=function parseBytes(e){return"string"==typeof e?i.toArray(e,"hex"):e},i.intFromLE=function intFromLE(e){return new n(e,"hex","le")}},3046:e=>{"use strict";function assign(e,t){if(null==e)throw new TypeError("Cannot convert first argument to object");for(var r=Object(e),i=1;i<arguments.length;i++){var n=arguments[i];if(null!=n)for(var s=Object.keys(Object(n)),a=0,o=s.length;a<o;a++){var d=s[a],u=Object.getOwnPropertyDescriptor(n,d);void 0!==u&&u.enumerable&&(r[d]=n[d])}}return r}e.exports={assign,polyfill:function polyfill(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:assign})}}},46:e=>{"use strict";var t,r="object"==typeof Reflect?Reflect:null,i=r&&"function"==typeof r.apply?r.apply:function ReflectApply(e,t,r){return Function.prototype.apply.call(e,t,r)};t=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function ReflectOwnKeys(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function ReflectOwnKeys(e){return Object.getOwnPropertyNames(e)};var n=Number.isNaN||function NumberIsNaN(e){return e!=e};function EventEmitter(){EventEmitter.init.call(this)}e.exports=EventEmitter,e.exports.once=function once(e,t){return new Promise((function(r,i){function errorListener(r){e.removeListener(t,resolver),i(r)}function resolver(){"function"==typeof e.removeListener&&e.removeListener("error",errorListener),r([].slice.call(arguments))}eventTargetAgnosticAddListener(e,t,resolver,{once:!0}),"error"!==t&&function addErrorHandlerIfEventEmitter(e,t,r){"function"==typeof e.on&&eventTargetAgnosticAddListener(e,"error",t,r)}(e,errorListener,{once:!0})}))},EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._eventsCount=0,EventEmitter.prototype._maxListeners=void 0;var s=10;function checkListener(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function _getMaxListeners(e){return void 0===e._maxListeners?EventEmitter.defaultMaxListeners:e._maxListeners}function _addListener(e,t,r,i){var n,s,a;if(checkListener(r),void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),s=e._events),a=s[t]),void 0===a)a=s[t]=r,++e._eventsCount;else if("function"==typeof a?a=s[t]=i?[r,a]:[a,r]:i?a.unshift(r):a.push(r),(n=_getMaxListeners(e))>0&&a.length>n&&!a.warned){a.warned=!0;var o=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");o.name="MaxListenersExceededWarning",o.emitter=e,o.type=t,o.count=a.length,function ProcessEmitWarning(e){console&&console.warn&&console.warn(e)}(o)}return e}function onceWrapper(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _onceWrap(e,t,r){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},n=onceWrapper.bind(i);return n.listener=r,i.wrapFn=n,n}function _listeners(e,t,r){var i=e._events;if(void 0===i)return[];var n=i[t];return void 0===n?[]:"function"==typeof n?r?[n.listener||n]:[n]:r?function unwrapListeners(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(n):arrayClone(n,n.length)}function listenerCount(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function arrayClone(e,t){for(var r=new Array(t),i=0;i<t;++i)r[i]=e[i];return r}function eventTargetAgnosticAddListener(e,t,r,i){if("function"==typeof e.on)i.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function wrapListener(n){i.once&&e.removeEventListener(t,wrapListener),r(n)}))}}Object.defineProperty(EventEmitter,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||n(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),EventEmitter.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},EventEmitter.prototype.setMaxListeners=function setMaxListeners(e){if("number"!=typeof e||e<0||n(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},EventEmitter.prototype.getMaxListeners=function getMaxListeners(){return _getMaxListeners(this)},EventEmitter.prototype.emit=function emit(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,s=this._events;if(void 0!==s)n=n&&void 0===s.error;else if(!n)return!1;if(n){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var o=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw o.context=a,o}var d=s[e];if(void 0===d)return!1;if("function"==typeof d)i(d,this,t);else{var u=d.length,l=arrayClone(d,u);for(r=0;r<u;++r)i(l[r],this,t)}return!0},EventEmitter.prototype.addListener=function addListener(e,t){return _addListener(this,e,t,!1)},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.prependListener=function prependListener(e,t){return _addListener(this,e,t,!0)},EventEmitter.prototype.once=function once(e,t){return checkListener(t),this.on(e,_onceWrap(this,e,t)),this},EventEmitter.prototype.prependOnceListener=function prependOnceListener(e,t){return checkListener(t),this.prependListener(e,_onceWrap(this,e,t)),this},EventEmitter.prototype.removeListener=function removeListener(e,t){var r,i,n,s,a;if(checkListener(t),void 0===(i=this._events))return this;if(void 0===(r=i[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(n=-1,s=r.length-1;s>=0;s--)if(r[s]===t||r[s].listener===t){a=r[s].listener,n=s;break}if(n<0)return this;0===n?r.shift():function spliceOne(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,n),1===r.length&&(i[e]=r[0]),void 0!==i.removeListener&&this.emit("removeListener",e,a||t)}return this},EventEmitter.prototype.off=EventEmitter.prototype.removeListener,EventEmitter.prototype.removeAllListeners=function removeAllListeners(e){var t,r,i;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var n,s=Object.keys(r);for(i=0;i<s.length;++i)"removeListener"!==(n=s[i])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},EventEmitter.prototype.listeners=function listeners(e){return _listeners(this,e,!0)},EventEmitter.prototype.rawListeners=function rawListeners(e){return _listeners(this,e,!1)},EventEmitter.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):listenerCount.call(e,t)},EventEmitter.prototype.listenerCount=listenerCount,EventEmitter.prototype.eventNames=function eventNames(){return this._eventsCount>0?t(this._events):[]}},282:e=>{e.exports=stringify,stringify.default=stringify,stringify.stable=deterministicStringify,stringify.stableStringify=deterministicStringify;var t="[...]",r="[Circular]",i=[],n=[];function defaultOptions(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function stringify(e,t,r,s){var a;void 0===s&&(s=defaultOptions()),decirc(e,"",0,[],void 0,0,s);try{a=0===n.length?JSON.stringify(e,t,r):JSON.stringify(e,replaceGetterValues(t),r)}catch(e){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==i.length;){var o=i.pop();4===o.length?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return a}function setReplace(e,t,r,s){var a=Object.getOwnPropertyDescriptor(s,r);void 0!==a.get?a.configurable?(Object.defineProperty(s,r,{value:e}),i.push([s,r,t,a])):n.push([t,r,e]):(s[r]=e,i.push([s,r,t]))}function decirc(e,i,n,s,a,o,d){var u;if(o+=1,"object"==typeof e&&null!==e){for(u=0;u<s.length;u++)if(s[u]===e)return void setReplace(r,e,i,a);if(void 0!==d.depthLimit&&o>d.depthLimit)return void setReplace(t,e,i,a);if(void 0!==d.edgesLimit&&n+1>d.edgesLimit)return void setReplace(t,e,i,a);if(s.push(e),Array.isArray(e))for(u=0;u<e.length;u++)decirc(e[u],u,u,s,e,o,d);else{var l=Object.keys(e);for(u=0;u<l.length;u++){var c=l[u];decirc(e[c],c,u,s,e,o,d)}}s.pop()}}function compareFunction(e,t){return e<t?-1:e>t?1:0}function deterministicStringify(e,t,r,s){void 0===s&&(s=defaultOptions());var a,o=deterministicDecirc(e,"",0,[],void 0,0,s)||e;try{a=0===n.length?JSON.stringify(o,t,r):JSON.stringify(o,replaceGetterValues(t),r)}catch(e){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==i.length;){var d=i.pop();4===d.length?Object.defineProperty(d[0],d[1],d[3]):d[0][d[1]]=d[2]}}return a}function deterministicDecirc(e,n,s,a,o,d,u){var l;if(d+=1,"object"==typeof e&&null!==e){for(l=0;l<a.length;l++)if(a[l]===e)return void setReplace(r,e,n,o);try{if("function"==typeof e.toJSON)return}catch(e){return}if(void 0!==u.depthLimit&&d>u.depthLimit)return void setReplace(t,e,n,o);if(void 0!==u.edgesLimit&&s+1>u.edgesLimit)return void setReplace(t,e,n,o);if(a.push(e),Array.isArray(e))for(l=0;l<e.length;l++)deterministicDecirc(e[l],l,l,a,e,d,u);else{var c={},p=Object.keys(e).sort(compareFunction);for(l=0;l<p.length;l++){var h=p[l];deterministicDecirc(e[h],h,l,a,e,d,u),c[h]=e[h]}if(void 0===o)return c;i.push([o,n,e]),o[n]=c}a.pop()}}function replaceGetterValues(e){return e=void 0!==e?e:function(e,t){return t},function(t,r){if(n.length>0)for(var i=0;i<n.length;i++){var s=n[i];if(s[1]===t&&s[0]===r){r=s[2],n.splice(i,1);break}}return e.call(this,t,r)}}},705:(e,t,r)=>{"use strict";var i=r(9617),n=Object.prototype.toString,s=Object.prototype.hasOwnProperty;e.exports=function forEach(e,t,r){if(!i(t))throw new TypeError("iterator must be a function");var a;arguments.length>=3&&(a=r),"[object Array]"===n.call(e)?function forEachArray(e,t,r){for(var i=0,n=e.length;i<n;i++)s.call(e,i)&&(null==r?t(e[i],i,e):t.call(r,e[i],i,e))}(e,t,a):"string"==typeof e?function forEachString(e,t,r){for(var i=0,n=e.length;i<n;i++)null==r?t(e.charAt(i),i,e):t.call(r,e.charAt(i),i,e)}(e,t,a):function forEachObject(e,t,r){for(var i in e)s.call(e,i)&&(null==r?t(e[i],i,e):t.call(r,e[i],i,e))}(e,t,a)}},8794:e=>{"use strict";var t=Object.prototype.toString,r=Math.max,i=function concatty(e,t){for(var r=[],i=0;i<e.length;i+=1)r[i]=e[i];for(var n=0;n<t.length;n+=1)r[n+e.length]=t[n];return r};e.exports=function bind(e){var n=this;if("function"!=typeof n||"[object Function]"!==t.apply(n))throw new TypeError("Function.prototype.bind called on incompatible "+n);for(var s,a=function slicy(e,t){for(var r=[],i=t||0,n=0;i<e.length;i+=1,n+=1)r[n]=e[i];return r}(arguments,1),o=r(0,n.length-a.length),d=[],u=0;u<o;u++)d[u]="$"+u;if(s=Function("binder","return function ("+function(e,t){for(var r="",i=0;i<e.length;i+=1)r+=e[i],i+1<e.length&&(r+=t);return r}(d,",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof s){var t=n.apply(this,i(a,arguments));return Object(t)===t?t:this}return n.apply(e,i(a,arguments))})),n.prototype){var l=function Empty(){};l.prototype=n.prototype,s.prototype=new l,l.prototype=null}return s}},9138:(e,t,r)=>{"use strict";var i=r(8794);e.exports=Function.prototype.bind||i},528:(e,t,r)=>{"use strict";var i,n=SyntaxError,s=Function,a=TypeError,getEvalledConstructor=function(e){try{return s('"use strict"; return ('+e+").constructor;")()}catch(e){}},o=Object.getOwnPropertyDescriptor;if(o)try{o({},"")}catch(e){o=null}var throwTypeError=function(){throw new a},d=o?function(){try{return throwTypeError}catch(e){try{return o(arguments,"callee").get}catch(e){return throwTypeError}}}():throwTypeError,u=r(3558)(),l=r(6869)(),c=Object.getPrototypeOf||(l?function(e){return e.__proto__}:null),p={},h="undefined"!=typeof Uint8Array&&c?c(Uint8Array):i,y={"%AggregateError%":"undefined"==typeof AggregateError?i:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?i:ArrayBuffer,"%ArrayIteratorPrototype%":u&&c?c([][Symbol.iterator]()):i,"%AsyncFromSyncIteratorPrototype%":i,"%AsyncFunction%":p,"%AsyncGenerator%":p,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":p,"%Atomics%":"undefined"==typeof Atomics?i:Atomics,"%BigInt%":"undefined"==typeof BigInt?i:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?i:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?i:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?i:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?i:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?i:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?i:FinalizationRegistry,"%Function%":s,"%GeneratorFunction%":p,"%Int8Array%":"undefined"==typeof Int8Array?i:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?i:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?i:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":u&&c?c(c([][Symbol.iterator]())):i,"%JSON%":"object"==typeof JSON?JSON:i,"%Map%":"undefined"==typeof Map?i:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&u&&c?c((new Map)[Symbol.iterator]()):i,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?i:Promise,"%Proxy%":"undefined"==typeof Proxy?i:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?i:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?i:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&u&&c?c((new Set)[Symbol.iterator]()):i,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?i:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":u&&c?c(""[Symbol.iterator]()):i,"%Symbol%":u?Symbol:i,"%SyntaxError%":n,"%ThrowTypeError%":d,"%TypedArray%":h,"%TypeError%":a,"%Uint8Array%":"undefined"==typeof Uint8Array?i:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?i:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?i:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?i:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?i:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?i:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?i:WeakSet};if(c)try{null.error}catch(e){var g=c(c(e));y["%Error.prototype%"]=g}var m=function doEval(e){var t;if("%AsyncFunction%"===e)t=getEvalledConstructor("async function () {}");else if("%GeneratorFunction%"===e)t=getEvalledConstructor("function* () {}");else if("%AsyncGeneratorFunction%"===e)t=getEvalledConstructor("async function* () {}");else if("%AsyncGenerator%"===e){var r=doEval("%AsyncGeneratorFunction%");r&&(t=r.prototype)}else if("%AsyncIteratorPrototype%"===e){var i=doEval("%AsyncGenerator%");i&&c&&(t=c(i.prototype))}return y[e]=t,t},b={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},v=r(9138),_=r(8554),w=v.call(Function.call,Array.prototype.concat),E=v.call(Function.apply,Array.prototype.splice),T=v.call(Function.call,String.prototype.replace),A=v.call(Function.call,String.prototype.slice),M=v.call(Function.call,RegExp.prototype.exec),O=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,x=/\\(\\)?/g,k=function getBaseIntrinsic(e,t){var r,i=e;if(_(b,i)&&(i="%"+(r=b[i])[0]+"%"),_(y,i)){var s=y[i];if(s===p&&(s=m(i)),void 0===s&&!t)throw new a("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:i,value:s}}throw new n("intrinsic "+e+" does not exist!")};e.exports=function GetIntrinsic(e,t){if("string"!=typeof e||0===e.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new a('"allowMissing" argument must be a boolean');if(null===M(/^%?[^%]*%?$/,e))throw new n("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=function stringToPath(e){var t=A(e,0,1),r=A(e,-1);if("%"===t&&"%"!==r)throw new n("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new n("invalid intrinsic syntax, expected opening `%`");var i=[];return T(e,O,(function(e,t,r,n){i[i.length]=r?T(n,x,"$1"):t||e})),i}(e),i=r.length>0?r[0]:"",s=k("%"+i+"%",t),d=s.name,u=s.value,l=!1,c=s.alias;c&&(i=c[0],E(r,w([0,1],c)));for(var p=1,h=!0;p<r.length;p+=1){var g=r[p],m=A(g,0,1),b=A(g,-1);if(('"'===m||"'"===m||"`"===m||'"'===b||"'"===b||"`"===b)&&m!==b)throw new n("property names with quotes must have matching quotes");if("constructor"!==g&&h||(l=!0),_(y,d="%"+(i+="."+g)+"%"))u=y[d];else if(null!=u){if(!(g in u)){if(!t)throw new a("base intrinsic for "+e+" exists, but the property is not available.");return}if(o&&p+1>=r.length){var v=o(u,g);u=(h=!!v)&&"get"in v&&!("originalValue"in v.get)?v.get:u[g]}else h=_(u,g),u=u[g];h&&!l&&(y[d]=u)}}return u}},9336:(e,t,r)=>{"use strict";var i=r(528)("%Object.getOwnPropertyDescriptor%",!0);if(i)try{i([],"length")}catch(e){i=null}e.exports=i},7239:(e,t,r)=>{"use strict";var i=r(528)("%Object.defineProperty%",!0),n=function hasPropertyDescriptors(){if(i)try{return i({},"a",{value:1}),!0}catch(e){return!1}return!1};n.hasArrayLengthDefineBug=function hasArrayLengthDefineBug(){if(!n())return null;try{return 1!==i([],"length",{value:1}).length}catch(e){return!0}},e.exports=n},6869:e=>{"use strict";var t={foo:{}},r=Object;e.exports=function hasProto(){return{__proto__:t}.foo===t.foo&&!({__proto__:null}instanceof r)}},3558:(e,t,r)=>{"use strict";var i="undefined"!=typeof Symbol&&Symbol,n=r(2908);e.exports=function hasNativeSymbols(){return"function"==typeof i&&("function"==typeof Symbol&&("symbol"==typeof i("foo")&&("symbol"==typeof Symbol("bar")&&n())))}},2908:e=>{"use strict";e.exports=function hasSymbols(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var i=Object.getOwnPropertySymbols(e);if(1!==i.length||i[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var n=Object.getOwnPropertyDescriptor(e,t);if(42!==n.value||!0!==n.enumerable)return!1}return!0}},1913:(e,t,r)=>{"use strict";var i=r(2908);e.exports=function hasToStringTagShams(){return i()&&!!Symbol.toStringTag}},1848:(e,t,r)=>{"use strict";var i=r(5636).Buffer,n=r(4156).Transform;function HashBase(e){n.call(this),this._block=i.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}r(5615)(HashBase,n),HashBase.prototype._transform=function(e,t,r){var i=null;try{this.update(e,t)}catch(e){i=e}r(i)},HashBase.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(e){t=e}e(t)},HashBase.prototype.update=function(e,t){if(function throwIfNotStringOrBuffer(e,t){if(!i.isBuffer(e)&&"string"!=typeof e)throw new TypeError(t+" must be a string or a buffer")}(e,"Data"),this._finalized)throw new Error("Digest already called");i.isBuffer(e)||(e=i.from(e,t));for(var r=this._block,n=0;this._blockOffset+e.length-n>=this._blockSize;){for(var s=this._blockOffset;s<this._blockSize;)r[s++]=e[n++];this._update(),this._blockOffset=0}for(;n<e.length;)r[this._blockOffset++]=e[n++];for(var a=0,o=8*e.length;o>0;++a)this._length[a]+=o,(o=this._length[a]/4294967296|0)>0&&(this._length[a]-=4294967296*o);return this},HashBase.prototype._update=function(){throw new Error("_update is not implemented")},HashBase.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();void 0!==e&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return t},HashBase.prototype._digest=function(){throw new Error("_digest is not implemented")},e.exports=HashBase},9499:(e,t,r)=>{var i=t;i.utils=r(461),i.common=r(2191),i.sha=r(5746),i.ripemd=r(4169),i.hmac=r(1825),i.sha1=i.sha.sha1,i.sha256=i.sha.sha256,i.sha224=i.sha.sha224,i.sha384=i.sha.sha384,i.sha512=i.sha.sha512,i.ripemd160=i.ripemd.ripemd160},2191:(e,t,r)=>{"use strict";var i=r(461),n=r(7784);function BlockHash(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}t.BlockHash=BlockHash,BlockHash.prototype.update=function update(e,t){if(e=i.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=i.join32(e,0,e.length-r,this.endian);for(var n=0;n<e.length;n+=this._delta32)this._update(e,n,n+this._delta32)}return this},BlockHash.prototype.digest=function digest(e){return this.update(this._pad()),n(null===this.pending),this._digest(e)},BlockHash.prototype._pad=function pad(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,i=new Array(r+this.padLength);i[0]=128;for(var n=1;n<r;n++)i[n]=0;if(e<<=3,"big"===this.endian){for(var s=8;s<this.padLength;s++)i[n++]=0;i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=e>>>24&255,i[n++]=e>>>16&255,i[n++]=e>>>8&255,i[n++]=255&e}else for(i[n++]=255&e,i[n++]=e>>>8&255,i[n++]=e>>>16&255,i[n++]=e>>>24&255,i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=0,s=8;s<this.padLength;s++)i[n++]=0;return i}},1825:(e,t,r)=>{"use strict";var i=r(461),n=r(7784);function Hmac(e,t,r){if(!(this instanceof Hmac))return new Hmac(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(i.toArray(t,r))}e.exports=Hmac,Hmac.prototype._init=function init(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),n(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},Hmac.prototype.update=function update(e,t){return this.inner.update(e,t),this},Hmac.prototype.digest=function digest(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},4169:(e,t,r)=>{"use strict";var i=r(461),n=r(2191),s=i.rotl32,a=i.sum32,o=i.sum32_3,d=i.sum32_4,u=n.BlockHash;function RIPEMD160(){if(!(this instanceof RIPEMD160))return new RIPEMD160;u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function f(e,t,r,i){return e<=15?t^r^i:e<=31?t&r|~t&i:e<=47?(t|~r)^i:e<=63?t&i|r&~i:t^(r|~i)}function K(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function Kh(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}i.inherits(RIPEMD160,u),t.ripemd160=RIPEMD160,RIPEMD160.blockSize=512,RIPEMD160.outSize=160,RIPEMD160.hmacStrength=192,RIPEMD160.padLength=64,RIPEMD160.prototype._update=function update(e,t){for(var r=this.h[0],i=this.h[1],n=this.h[2],u=this.h[3],y=this.h[4],g=r,m=i,b=n,v=u,_=y,w=0;w<80;w++){var E=a(s(d(r,f(w,i,n,u),e[l[w]+t],K(w)),p[w]),y);r=y,y=u,u=s(n,10),n=i,i=E,E=a(s(d(g,f(79-w,m,b,v),e[c[w]+t],Kh(w)),h[w]),_),g=_,_=v,v=s(b,10),b=m,m=E}E=o(this.h[1],n,v),this.h[1]=o(this.h[2],u,_),this.h[2]=o(this.h[3],y,g),this.h[3]=o(this.h[4],r,m),this.h[4]=o(this.h[0],i,b),this.h[0]=E},RIPEMD160.prototype._digest=function digest(e){return"hex"===e?i.toHex32(this.h,"little"):i.split32(this.h,"little")};var l=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],c=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],p=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],h=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},5746:(e,t,r)=>{"use strict";t.sha1=r(2986),t.sha224=r(5393),t.sha256=r(536),t.sha384=r(2348),t.sha512=r(2157)},2986:(e,t,r)=>{"use strict";var i=r(461),n=r(2191),s=r(600),a=i.rotl32,o=i.sum32,d=i.sum32_5,u=s.ft_1,l=n.BlockHash,c=[1518500249,1859775393,2400959708,3395469782];function SHA1(){if(!(this instanceof SHA1))return new SHA1;l.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}i.inherits(SHA1,l),e.exports=SHA1,SHA1.blockSize=512,SHA1.outSize=160,SHA1.hmacStrength=80,SHA1.padLength=64,SHA1.prototype._update=function _update(e,t){for(var r=this.W,i=0;i<16;i++)r[i]=e[t+i];for(;i<r.length;i++)r[i]=a(r[i-3]^r[i-8]^r[i-14]^r[i-16],1);var n=this.h[0],s=this.h[1],l=this.h[2],p=this.h[3],h=this.h[4];for(i=0;i<r.length;i++){var y=~~(i/20),g=d(a(n,5),u(y,s,l,p),h,r[i],c[y]);h=p,p=l,l=a(s,30),s=n,n=g}this.h[0]=o(this.h[0],n),this.h[1]=o(this.h[1],s),this.h[2]=o(this.h[2],l),this.h[3]=o(this.h[3],p),this.h[4]=o(this.h[4],h)},SHA1.prototype._digest=function digest(e){return"hex"===e?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},5393:(e,t,r)=>{"use strict";var i=r(461),n=r(536);function SHA224(){if(!(this instanceof SHA224))return new SHA224;n.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}i.inherits(SHA224,n),e.exports=SHA224,SHA224.blockSize=512,SHA224.outSize=224,SHA224.hmacStrength=192,SHA224.padLength=64,SHA224.prototype._digest=function digest(e){return"hex"===e?i.toHex32(this.h.slice(0,7),"big"):i.split32(this.h.slice(0,7),"big")}},536:(e,t,r)=>{"use strict";var i=r(461),n=r(2191),s=r(600),a=r(7784),o=i.sum32,d=i.sum32_4,u=i.sum32_5,l=s.ch32,c=s.maj32,p=s.s0_256,h=s.s1_256,y=s.g0_256,g=s.g1_256,m=n.BlockHash,b=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function SHA256(){if(!(this instanceof SHA256))return new SHA256;m.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=b,this.W=new Array(64)}i.inherits(SHA256,m),e.exports=SHA256,SHA256.blockSize=512,SHA256.outSize=256,SHA256.hmacStrength=192,SHA256.padLength=64,SHA256.prototype._update=function _update(e,t){for(var r=this.W,i=0;i<16;i++)r[i]=e[t+i];for(;i<r.length;i++)r[i]=d(g(r[i-2]),r[i-7],y(r[i-15]),r[i-16]);var n=this.h[0],s=this.h[1],m=this.h[2],b=this.h[3],v=this.h[4],_=this.h[5],w=this.h[6],E=this.h[7];for(a(this.k.length===r.length),i=0;i<r.length;i++){var T=u(E,h(v),l(v,_,w),this.k[i],r[i]),A=o(p(n),c(n,s,m));E=w,w=_,_=v,v=o(b,T),b=m,m=s,s=n,n=o(T,A)}this.h[0]=o(this.h[0],n),this.h[1]=o(this.h[1],s),this.h[2]=o(this.h[2],m),this.h[3]=o(this.h[3],b),this.h[4]=o(this.h[4],v),this.h[5]=o(this.h[5],_),this.h[6]=o(this.h[6],w),this.h[7]=o(this.h[7],E)},SHA256.prototype._digest=function digest(e){return"hex"===e?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},2348:(e,t,r)=>{"use strict";var i=r(461),n=r(2157);function SHA384(){if(!(this instanceof SHA384))return new SHA384;n.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}i.inherits(SHA384,n),e.exports=SHA384,SHA384.blockSize=1024,SHA384.outSize=384,SHA384.hmacStrength=192,SHA384.padLength=128,SHA384.prototype._digest=function digest(e){return"hex"===e?i.toHex32(this.h.slice(0,12),"big"):i.split32(this.h.slice(0,12),"big")}},2157:(e,t,r)=>{"use strict";var i=r(461),n=r(2191),s=r(7784),a=i.rotr64_hi,o=i.rotr64_lo,d=i.shr64_hi,u=i.shr64_lo,l=i.sum64,c=i.sum64_hi,p=i.sum64_lo,h=i.sum64_4_hi,y=i.sum64_4_lo,g=i.sum64_5_hi,m=i.sum64_5_lo,b=n.BlockHash,v=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function SHA512(){if(!(this instanceof SHA512))return new SHA512;b.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=v,this.W=new Array(160)}function ch64_hi(e,t,r,i,n){var s=e&r^~e&n;return s<0&&(s+=4294967296),s}function ch64_lo(e,t,r,i,n,s){var a=t&i^~t&s;return a<0&&(a+=4294967296),a}function maj64_hi(e,t,r,i,n){var s=e&r^e&n^r&n;return s<0&&(s+=4294967296),s}function maj64_lo(e,t,r,i,n,s){var a=t&i^t&s^i&s;return a<0&&(a+=4294967296),a}function s0_512_hi(e,t){var r=a(e,t,28)^a(t,e,2)^a(t,e,7);return r<0&&(r+=4294967296),r}function s0_512_lo(e,t){var r=o(e,t,28)^o(t,e,2)^o(t,e,7);return r<0&&(r+=4294967296),r}function s1_512_hi(e,t){var r=a(e,t,14)^a(e,t,18)^a(t,e,9);return r<0&&(r+=4294967296),r}function s1_512_lo(e,t){var r=o(e,t,14)^o(e,t,18)^o(t,e,9);return r<0&&(r+=4294967296),r}function g0_512_hi(e,t){var r=a(e,t,1)^a(e,t,8)^d(e,t,7);return r<0&&(r+=4294967296),r}function g0_512_lo(e,t){var r=o(e,t,1)^o(e,t,8)^u(e,t,7);return r<0&&(r+=4294967296),r}function g1_512_hi(e,t){var r=a(e,t,19)^a(t,e,29)^d(e,t,6);return r<0&&(r+=4294967296),r}function g1_512_lo(e,t){var r=o(e,t,19)^o(t,e,29)^u(e,t,6);return r<0&&(r+=4294967296),r}i.inherits(SHA512,b),e.exports=SHA512,SHA512.blockSize=1024,SHA512.outSize=512,SHA512.hmacStrength=192,SHA512.padLength=128,SHA512.prototype._prepareBlock=function _prepareBlock(e,t){for(var r=this.W,i=0;i<32;i++)r[i]=e[t+i];for(;i<r.length;i+=2){var n=g1_512_hi(r[i-4],r[i-3]),s=g1_512_lo(r[i-4],r[i-3]),a=r[i-14],o=r[i-13],d=g0_512_hi(r[i-30],r[i-29]),u=g0_512_lo(r[i-30],r[i-29]),l=r[i-32],c=r[i-31];r[i]=h(n,s,a,o,d,u,l,c),r[i+1]=y(n,s,a,o,d,u,l,c)}},SHA512.prototype._update=function _update(e,t){this._prepareBlock(e,t);var r=this.W,i=this.h[0],n=this.h[1],a=this.h[2],o=this.h[3],d=this.h[4],u=this.h[5],h=this.h[6],y=this.h[7],b=this.h[8],v=this.h[9],_=this.h[10],w=this.h[11],E=this.h[12],T=this.h[13],A=this.h[14],M=this.h[15];s(this.k.length===r.length);for(var O=0;O<r.length;O+=2){var x=A,k=M,I=s1_512_hi(b,v),C=s1_512_lo(b,v),B=ch64_hi(b,v,_,w,E),N=ch64_lo(b,v,_,w,E,T),P=this.k[O],D=this.k[O+1],q=r[O],L=r[O+1],j=g(x,k,I,C,B,N,P,D,q,L),F=m(x,k,I,C,B,N,P,D,q,L);x=s0_512_hi(i,n),k=s0_512_lo(i,n),I=maj64_hi(i,n,a,o,d),C=maj64_lo(i,n,a,o,d,u);var U=c(x,k,I,C),z=p(x,k,I,C);A=E,M=T,E=_,T=w,_=b,w=v,b=c(h,y,j,F),v=p(y,y,j,F),h=d,y=u,d=a,u=o,a=i,o=n,i=c(j,F,U,z),n=p(j,F,U,z)}l(this.h,0,i,n),l(this.h,2,a,o),l(this.h,4,d,u),l(this.h,6,h,y),l(this.h,8,b,v),l(this.h,10,_,w),l(this.h,12,E,T),l(this.h,14,A,M)},SHA512.prototype._digest=function digest(e){return"hex"===e?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},600:(e,t,r)=>{"use strict";var i=r(461).rotr32;function ch32(e,t,r){return e&t^~e&r}function maj32(e,t,r){return e&t^e&r^t&r}function p32(e,t,r){return e^t^r}t.ft_1=function ft_1(e,t,r,i){return 0===e?ch32(t,r,i):1===e||3===e?p32(t,r,i):2===e?maj32(t,r,i):void 0},t.ch32=ch32,t.maj32=maj32,t.p32=p32,t.s0_256=function s0_256(e){return i(e,2)^i(e,13)^i(e,22)},t.s1_256=function s1_256(e){return i(e,6)^i(e,11)^i(e,25)},t.g0_256=function g0_256(e){return i(e,7)^i(e,18)^e>>>3},t.g1_256=function g1_256(e){return i(e,17)^i(e,19)^e>>>10}},461:(e,t,r)=>{"use strict";var i=r(7784),n=r(5615);function isSurrogatePair(e,t){return 55296==(64512&e.charCodeAt(t))&&(!(t<0||t+1>=e.length)&&56320==(64512&e.charCodeAt(t+1)))}function htonl(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function zero2(e){return 1===e.length?"0"+e:e}function zero8(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}t.inherits=n,t.toArray=function toArray(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(var i=0,n=0;n<e.length;n++){var s=e.charCodeAt(n);s<128?r[i++]=s:s<2048?(r[i++]=s>>6|192,r[i++]=63&s|128):isSurrogatePair(e,n)?(s=65536+((1023&s)<<10)+(1023&e.charCodeAt(++n)),r[i++]=s>>18|240,r[i++]=s>>12&63|128,r[i++]=s>>6&63|128,r[i++]=63&s|128):(r[i++]=s>>12|224,r[i++]=s>>6&63|128,r[i++]=63&s|128)}else for(n=0;n<e.length;n++)r[n]=0|e[n];return r},t.toHex=function toHex(e){for(var t="",r=0;r<e.length;r++)t+=zero2(e[r].toString(16));return t},t.htonl=htonl,t.toHex32=function toHex32(e,t){for(var r="",i=0;i<e.length;i++){var n=e[i];"little"===t&&(n=htonl(n)),r+=zero8(n.toString(16))}return r},t.zero2=zero2,t.zero8=zero8,t.join32=function join32(e,t,r,n){var s=r-t;i(s%4==0);for(var a=new Array(s/4),o=0,d=t;o<a.length;o++,d+=4){var u;u="big"===n?e[d]<<24|e[d+1]<<16|e[d+2]<<8|e[d+3]:e[d+3]<<24|e[d+2]<<16|e[d+1]<<8|e[d],a[o]=u>>>0}return a},t.split32=function split32(e,t){for(var r=new Array(4*e.length),i=0,n=0;i<e.length;i++,n+=4){var s=e[i];"big"===t?(r[n]=s>>>24,r[n+1]=s>>>16&255,r[n+2]=s>>>8&255,r[n+3]=255&s):(r[n+3]=s>>>24,r[n+2]=s>>>16&255,r[n+1]=s>>>8&255,r[n]=255&s)}return r},t.rotr32=function rotr32(e,t){return e>>>t|e<<32-t},t.rotl32=function rotl32(e,t){return e<<t|e>>>32-t},t.sum32=function sum32(e,t){return e+t>>>0},t.sum32_3=function sum32_3(e,t,r){return e+t+r>>>0},t.sum32_4=function sum32_4(e,t,r,i){return e+t+r+i>>>0},t.sum32_5=function sum32_5(e,t,r,i,n){return e+t+r+i+n>>>0},t.sum64=function sum64(e,t,r,i){var n=e[t],s=i+e[t+1]>>>0,a=(s<i?1:0)+r+n;e[t]=a>>>0,e[t+1]=s},t.sum64_hi=function sum64_hi(e,t,r,i){return(t+i>>>0<t?1:0)+e+r>>>0},t.sum64_lo=function sum64_lo(e,t,r,i){return t+i>>>0},t.sum64_4_hi=function sum64_4_hi(e,t,r,i,n,s,a,o){var d=0,u=t;return d+=(u=u+i>>>0)<t?1:0,d+=(u=u+s>>>0)<s?1:0,e+r+n+a+(d+=(u=u+o>>>0)<o?1:0)>>>0},t.sum64_4_lo=function sum64_4_lo(e,t,r,i,n,s,a,o){return t+i+s+o>>>0},t.sum64_5_hi=function sum64_5_hi(e,t,r,i,n,s,a,o,d,u){var l=0,c=t;return l+=(c=c+i>>>0)<t?1:0,l+=(c=c+s>>>0)<s?1:0,l+=(c=c+o>>>0)<o?1:0,e+r+n+a+d+(l+=(c=c+u>>>0)<u?1:0)>>>0},t.sum64_5_lo=function sum64_5_lo(e,t,r,i,n,s,a,o,d,u){return t+i+s+o+u>>>0},t.rotr64_hi=function rotr64_hi(e,t,r){return(t<<32-r|e>>>r)>>>0},t.rotr64_lo=function rotr64_lo(e,t,r){return(e<<32-r|t>>>r)>>>0},t.shr64_hi=function shr64_hi(e,t,r){return e>>>r},t.shr64_lo=function shr64_lo(e,t,r){return(e<<32-r|t>>>r)>>>0}},8554:(e,t,r)=>{"use strict";var i=Function.prototype.call,n=Object.prototype.hasOwnProperty,s=r(9138);e.exports=s.call(i,n)},4742:(e,t,r)=>{"use strict";var i=r(9499),n=r(9042),s=r(7784);function HmacDRBG(e){if(!(this instanceof HmacDRBG))return new HmacDRBG(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=n.toArray(e.entropy,e.entropyEnc||"hex"),r=n.toArray(e.nonce,e.nonceEnc||"hex"),i=n.toArray(e.pers,e.persEnc||"hex");s(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,i)}e.exports=HmacDRBG,HmacDRBG.prototype._init=function init(e,t,r){var i=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var n=0;n<this.V.length;n++)this.K[n]=0,this.V[n]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656},HmacDRBG.prototype._hmac=function hmac(){return new i.hmac(this.hash,this.K)},HmacDRBG.prototype._update=function update(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},HmacDRBG.prototype.reseed=function reseed(e,t,r,i){"string"!=typeof t&&(i=r,r=t,t=null),e=n.toArray(e,t),r=n.toArray(r,i),s(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},HmacDRBG.prototype.generate=function generate(e,t,r,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof t&&(i=r,r=t,t=null),r&&(r=n.toArray(r,i||"hex"),this._update(r));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var a=s.slice(0,e);return this._update(r),this._reseed++,n.encode(a,t)}},9318:(e,t)=>{t.read=function(e,t,r,i,n){var s,a,o=8*n-i-1,d=(1<<o)-1,u=d>>1,l=-7,c=r?n-1:0,p=r?-1:1,h=e[t+c];for(c+=p,s=h&(1<<-l)-1,h>>=-l,l+=o;l>0;s=256*s+e[t+c],c+=p,l-=8);for(a=s&(1<<-l)-1,s>>=-l,l+=i;l>0;a=256*a+e[t+c],c+=p,l-=8);if(0===s)s=1-u;else{if(s===d)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,i),s-=u}return(h?-1:1)*a*Math.pow(2,s-i)},t.write=function(e,t,r,i,n,s){var a,o,d,u=8*s-n-1,l=(1<<u)-1,c=l>>1,p=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,h=i?0:s-1,y=i?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(d=Math.pow(2,-a))<1&&(a--,d*=2),(t+=a+c>=1?p/d:p*Math.pow(2,1-c))*d>=2&&(a++,d/=2),a+c>=l?(o=0,a=l):a+c>=1?(o=(t*d-1)*Math.pow(2,n),a+=c):(o=t*Math.pow(2,c-1)*Math.pow(2,n),a=0));n>=8;e[r+h]=255&o,h+=y,o/=256,n-=8);for(a=a<<n|o,u+=n;u>0;e[r+h]=255&a,h+=y,a/=256,u-=8);e[r+h-y]|=128*g}},2607:(e,t,r)=>{"use strict";var i,n,s=r.g.MutationObserver||r.g.WebKitMutationObserver;if(s){var a=0,o=new s(nextTick),d=r.g.document.createTextNode("");o.observe(d,{characterData:!0}),i=function(){d.data=a=++a%2}}else if(r.g.setImmediate||void 0===r.g.MessageChannel)i="document"in r.g&&"onreadystatechange"in r.g.document.createElement("script")?function(){var e=r.g.document.createElement("script");e.onreadystatechange=function(){nextTick(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},r.g.document.documentElement.appendChild(e)}:function(){setTimeout(nextTick,0)};else{var u=new r.g.MessageChannel;u.port1.onmessage=nextTick,i=function(){u.port2.postMessage(0)}}var l=[];function nextTick(){var e,t;n=!0;for(var r=l.length;r;){for(t=l,l=[],e=-1;++e<r;)t[e]();r=l.length}n=!1}e.exports=function immediate(e){1!==l.push(e)||n||i()}},5615:e=>{"function"==typeof Object.create?e.exports=function inherits(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function inherits(e,t){if(t){e.super_=t;var TempCtor=function(){};TempCtor.prototype=t.prototype,e.prototype=new TempCtor,e.prototype.constructor=e}}},5387:(e,t,r)=>{"use strict";var i=r(1913)(),n=r(9818)("Object.prototype.toString"),s=function isArguments(e){return!(i&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===n(e)},a=function isArguments(e){return!!s(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==n(e)&&"[object Function]"===n(e.callee)},o=function(){return s(arguments)}();s.isLegacyArguments=a,e.exports=o?s:a},9617:e=>{"use strict";var t,r,i=Function.prototype.toString,n="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof n&&"function"==typeof Object.defineProperty)try{t=Object.defineProperty({},"length",{get:function(){throw r}}),r={},n((function(){throw 42}),null,t)}catch(e){e!==r&&(n=null)}else n=null;var s=/^\s*class\b/,a=function isES6ClassFunction(e){try{var t=i.call(e);return s.test(t)}catch(e){return!1}},o=function tryFunctionToStr(e){try{return!a(e)&&(i.call(e),!0)}catch(e){return!1}},d=Object.prototype.toString,u="function"==typeof Symbol&&!!Symbol.toStringTag,l=!(0 in[,]),c=function isDocumentDotAll(){return!1};if("object"==typeof document){var p=document.all;d.call(p)===d.call(document.all)&&(c=function isDocumentDotAll(e){if((l||!e)&&(void 0===e||"object"==typeof e))try{var t=d.call(e);return("[object HTMLAllCollection]"===t||"[object HTML document.all class]"===t||"[object HTMLCollection]"===t||"[object Object]"===t)&&null==e("")}catch(e){}return!1})}e.exports=n?function isCallable(e){if(c(e))return!0;if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;try{n(e,null,t)}catch(e){if(e!==r)return!1}return!a(e)&&o(e)}:function isCallable(e){if(c(e))return!0;if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if(u)return o(e);if(a(e))return!1;var t=d.call(e);return!("[object Function]"!==t&&"[object GeneratorFunction]"!==t&&!/^\[object HTML/.test(t))&&o(e)}},2625:(e,t,r)=>{"use strict";var i,n=Object.prototype.toString,s=Function.prototype.toString,a=/^\s*(?:function)?\*/,o=r(1913)(),d=Object.getPrototypeOf;e.exports=function isGeneratorFunction(e){if("function"!=typeof e)return!1;if(a.test(s.call(e)))return!0;if(!o)return"[object GeneratorFunction]"===n.call(e);if(!d)return!1;if(void 0===i){var t=function(){if(!o)return!1;try{return Function("return function*() {}")()}catch(e){}}();i=!!t&&d(t)}return d(e)===i}},8006:e=>{"use strict";e.exports=function isNaN(e){return e!=e}},7838:(e,t,r)=>{"use strict";var i=r(8498),n=r(1857),s=r(8006),a=r(1591),o=r(1641),d=i(a(),Number);n(d,{getPolyfill:a,implementation:s,shim:o}),e.exports=d},1591:(e,t,r)=>{"use strict";var i=r(8006);e.exports=function getPolyfill(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:i}},1641:(e,t,r)=>{"use strict";var i=r(1857),n=r(1591);e.exports=function shimNumberIsNaN(){var e=n();return i(Number,{isNaN:e},{isNaN:function testIsNaN(){return Number.isNaN!==e}}),e}},5943:(e,t,r)=>{"use strict";var i=r(2730);e.exports=function isTypedArray(e){return!!i(e)}},7789:(e,t,r)=>{"use strict";var i=r(3681),n=r(831),s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.encode=function(e){for(var t,r,n,a,o,d,u,l=[],c=0,p=e.length,h=p,y="string"!==i.getTypeOf(e);c<e.length;)h=p-c,y?(t=e[c++],r=c<p?e[c++]:0,n=c<p?e[c++]:0):(t=e.charCodeAt(c++),r=c<p?e.charCodeAt(c++):0,n=c<p?e.charCodeAt(c++):0),a=t>>2,o=(3&t)<<4|r>>4,d=h>1?(15&r)<<2|n>>6:64,u=h>2?63&n:64,l.push(s.charAt(a)+s.charAt(o)+s.charAt(d)+s.charAt(u));return l.join("")},t.decode=function(e){var t,r,i,a,o,d,u=0,l=0,c="data:";if(e.substr(0,5)===c)throw new Error("Invalid base64 input, it looks like a data url.");var p,h=3*(e=e.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(e.charAt(e.length-1)===s.charAt(64)&&h--,e.charAt(e.length-2)===s.charAt(64)&&h--,h%1!=0)throw new Error("Invalid base64 input, bad content length.");for(p=n.uint8array?new Uint8Array(0|h):new Array(0|h);u<e.length;)t=s.indexOf(e.charAt(u++))<<2|(a=s.indexOf(e.charAt(u++)))>>4,r=(15&a)<<4|(o=s.indexOf(e.charAt(u++)))>>2,i=(3&o)<<6|(d=s.indexOf(e.charAt(u++))),p[l++]=t,64!==o&&(p[l++]=r),64!==d&&(p[l++]=i);return p}},9008:(e,t,r)=>{"use strict";var i=r(8989),n=r(1287),s=r(730),a=r(219);function CompressedObject(e,t,r,i,n){this.compressedSize=e,this.uncompressedSize=t,this.crc32=r,this.compression=i,this.compressedContent=n}CompressedObject.prototype={getContentWorker:function(){var e=new n(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new a("data_length")),t=this;return e.on("end",(function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),e},getCompressedWorker:function(){return new n(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},CompressedObject.createWorkerFrom=function(e,t,r){return e.pipe(new s).pipe(new a("uncompressedSize")).pipe(t.compressWorker(r)).pipe(new a("compressedSize")).withStreamInfo("compression",t)},e.exports=CompressedObject},7845:(e,t,r)=>{"use strict";var i=r(4030);t.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},t.DEFLATE=r(9342)},2539:(e,t,r)=>{"use strict";var i=r(3681);var n=function makeTable(){for(var e,t=[],r=0;r<256;r++){e=r;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();e.exports=function crc32wrapper(e,t){return void 0!==e&&e.length?"string"!==i.getTypeOf(e)?function crc32(e,t,r,i){var s=n,a=i+r;e=~e;for(var o=i;o<a;o++)e=e>>>8^s[255&(e^t[o])];return~e}(0|t,e,e.length,0):function crc32str(e,t,r,i){var s=n,a=i+r;e=~e;for(var o=i;o<a;o++)e=e>>>8^s[255&(e^t.charCodeAt(o))];return~e}(0|t,e,e.length,0):0}},8796:(e,t)=>{"use strict";t.base64=!1,t.binary=!1,t.dir=!1,t.createFolders=!0,t.date=null,t.compression=null,t.compressionOptions=null,t.comment=null,t.unixPermissions=null,t.dosPermissions=null},8989:(e,t,r)=>{"use strict";var i=null;i="undefined"!=typeof Promise?Promise:r(4984),e.exports={Promise:i}},9342:(e,t,r)=>{"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,n=r(1791),s=r(3681),a=r(4030),o=i?"uint8array":"array";function FlateWorker(e,t){a.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}t.magic="\b\0",s.inherits(FlateWorker,a),FlateWorker.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(s.transformTo(o,e.data),!1)},FlateWorker.prototype.flush=function(){a.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},FlateWorker.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},FlateWorker.prototype._createPako=function(){this._pako=new n[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},t.compressWorker=function(e){return new FlateWorker("Deflate",e)},t.uncompressWorker=function(){return new FlateWorker("Inflate",{})}},3793:(e,t,r)=>{"use strict";var i=r(3681),n=r(4030),s=r(373),a=r(2539),o=r(9366),decToHex=function(e,t){var r,i="";for(r=0;r<t;r++)i+=String.fromCharCode(255&e),e>>>=8;return i},generateZipParts=function(e,t,r,n,d,u){var l,c,p=e.file,h=e.compression,y=u!==s.utf8encode,g=i.transformTo("string",u(p.name)),m=i.transformTo("string",s.utf8encode(p.name)),b=p.comment,v=i.transformTo("string",u(b)),_=i.transformTo("string",s.utf8encode(b)),w=m.length!==p.name.length,E=_.length!==b.length,T="",A="",M="",O=p.dir,x=p.date,k={crc32:0,compressedSize:0,uncompressedSize:0};t&&!r||(k.crc32=e.crc32,k.compressedSize=e.compressedSize,k.uncompressedSize=e.uncompressedSize);var I=0;t&&(I|=8),y||!w&&!E||(I|=2048);var C,B,N,P=0,D=0;O&&(P|=16),"UNIX"===d?(D=798,P|=(C=p.unixPermissions,B=O,N=C,C||(N=B?16893:33204),(65535&N)<<16)):(D=20,P|=63&(p.dosPermissions||0)),l=x.getUTCHours(),l<<=6,l|=x.getUTCMinutes(),l<<=5,l|=x.getUTCSeconds()/2,c=x.getUTCFullYear()-1980,c<<=4,c|=x.getUTCMonth()+1,c<<=5,c|=x.getUTCDate(),w&&(A=decToHex(1,1)+decToHex(a(g),4)+m,T+="up"+decToHex(A.length,2)+A),E&&(M=decToHex(1,1)+decToHex(a(v),4)+_,T+="uc"+decToHex(M.length,2)+M);var q="";return q+="\n\0",q+=decToHex(I,2),q+=h.magic,q+=decToHex(l,2),q+=decToHex(c,2),q+=decToHex(k.crc32,4),q+=decToHex(k.compressedSize,4),q+=decToHex(k.uncompressedSize,4),q+=decToHex(g.length,2),q+=decToHex(T.length,2),{fileRecord:o.LOCAL_FILE_HEADER+q+g+T,dirRecord:o.CENTRAL_FILE_HEADER+decToHex(D,2)+q+decToHex(v.length,2)+"\0\0\0\0"+decToHex(P,4)+decToHex(n,4)+g+T+v}},generateDataDescriptors=function(e){return o.DATA_DESCRIPTOR+decToHex(e.crc32,4)+decToHex(e.compressedSize,4)+decToHex(e.uncompressedSize,4)};function ZipFileWorker(e,t,r,i){n.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=r,this.encodeFileName=i,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}i.inherits(ZipFileWorker,n),ZipFileWorker.prototype.push=function(e){var t=e.meta.percent||0,r=this.entriesCount,i=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,n.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:r?(t+100*(r-i-1))/r:100}}))},ZipFileWorker.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var r=generateZipParts(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:r.fileRecord,meta:{percent:0}})}else this.accumulate=!0},ZipFileWorker.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,r=generateZipParts(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(r.dirRecord),t)this.push({data:generateDataDescriptors(e),meta:{percent:100}});else for(this.push({data:r.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},ZipFileWorker.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var r=this.bytesWritten-e,n=function(e,t,r,n,s){var a=i.transformTo("string",s(n));return o.CENTRAL_DIRECTORY_END+"\0\0\0\0"+decToHex(e,2)+decToHex(e,2)+decToHex(t,4)+decToHex(r,4)+decToHex(a.length,2)+a}(this.dirRecords.length,r,e,this.zipComment,this.encodeFileName);this.push({data:n,meta:{percent:100}})},ZipFileWorker.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},ZipFileWorker.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()})),e.on("error",(function(e){t.error(e)})),this},ZipFileWorker.prototype.resume=function(){return!!n.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},ZipFileWorker.prototype.error=function(e){var t=this._sources;if(!n.prototype.error.call(this,e))return!1;for(var r=0;r<t.length;r++)try{t[r].error(e)}catch(e){}return!0},ZipFileWorker.prototype.lock=function(){n.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},e.exports=ZipFileWorker},2854:(e,t,r)=>{"use strict";var i=r(7845),n=r(3793);t.generateWorker=function(e,t,r){var s=new n(t.streamFiles,r,t.platform,t.encodeFileName),a=0;try{e.forEach((function(e,r){a++;var n=function(e,t){var r=e||t,n=i[r];if(!n)throw new Error(r+" is not a valid compression method !");return n}(r.options.compression,t.compression),o=r.options.compressionOptions||t.compressionOptions||{},d=r.dir,u=r.date;r._compressWorker(n,o).withStreamInfo("file",{name:e,dir:d,date:u,comment:r.comment||"",unixPermissions:r.unixPermissions,dosPermissions:r.dosPermissions}).pipe(s)})),s.entriesCount=a}catch(e){s.error(e)}return s}},1592:(e,t,r)=>{"use strict";function JSZip(){if(!(this instanceof JSZip))return new JSZip;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var e=new JSZip;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}JSZip.prototype=r(7965),JSZip.prototype.loadAsync=r(8322),JSZip.support=r(831),JSZip.defaults=r(8796),JSZip.version="3.10.1",JSZip.loadAsync=function(e,t){return(new JSZip).loadAsync(e,t)},JSZip.external=r(8989),e.exports=JSZip},8322:(e,t,r)=>{"use strict";var i=r(3681),n=r(8989),s=r(373),a=r(5675),o=r(730),d=r(1620);function checkEntryCRC32(e){return new n.Promise((function(t,r){var i=e.decompressed.getContentWorker().pipe(new o);i.on("error",(function(e){r(e)})).on("end",(function(){i.streamInfo.crc32!==e.decompressed.crc32?r(new Error("Corrupted zip : CRC32 mismatch")):t()})).resume()}))}e.exports=function(e,t){var r=this;return t=i.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:s.utf8decode}),d.isNode&&d.isStream(e)?n.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then((function(e){var r=new a(t);return r.load(e),r})).then((function checkCRC32(e){var r=[n.Promise.resolve(e)],i=e.files;if(t.checkCRC32)for(var s=0;s<i.length;s++)r.push(checkEntryCRC32(i[s]));return n.Promise.all(r)})).then((function addFiles(e){for(var n=e.shift(),s=n.files,a=0;a<s.length;a++){var o=s[a],d=o.fileNameStr,u=i.resolve(o.fileNameStr);r.file(u,o.decompressed,{binary:!0,optimizedBinaryString:!0,date:o.date,dir:o.dir,comment:o.fileCommentStr.length?o.fileCommentStr:null,unixPermissions:o.unixPermissions,dosPermissions:o.dosPermissions,createFolders:t.createFolders}),o.dir||(r.file(u).unsafeOriginalName=d)}return n.zipComment.length&&(r.comment=n.zipComment),r}))}},3084:(e,t,r)=>{"use strict";var i=r(3681),n=r(4030);function NodejsStreamInputAdapter(e,t){n.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}i.inherits(NodejsStreamInputAdapter,n),NodejsStreamInputAdapter.prototype._bindStream=function(e){var t=this;this._stream=e,e.pause(),e.on("data",(function(e){t.push({data:e,meta:{percent:0}})})).on("error",(function(e){t.isPaused?this.generatedError=e:t.error(e)})).on("end",(function(){t.isPaused?t._upstreamEnded=!0:t.end()}))},NodejsStreamInputAdapter.prototype.pause=function(){return!!n.prototype.pause.call(this)&&(this._stream.pause(),!0)},NodejsStreamInputAdapter.prototype.resume=function(){return!!n.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},e.exports=NodejsStreamInputAdapter},1615:(e,t,r)=>{"use strict";var i=r(6150).Readable;function NodejsStreamOutputAdapter(e,t,r){i.call(this,t),this._helper=e;var n=this;e.on("data",(function(e,t){n.push(e)||n._helper.pause(),r&&r(t)})).on("error",(function(e){n.emit("error",e)})).on("end",(function(){n.push(null)}))}r(3681).inherits(NodejsStreamOutputAdapter,i),NodejsStreamOutputAdapter.prototype._read=function(){this._helper.resume()},e.exports=NodejsStreamOutputAdapter},1620:e=>{"use strict";e.exports={isNode:void 0!==Buffer,newBufferFrom:function(e,t){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e,t);if("number"==typeof e)throw new Error('The "data" argument must not be a number');return new Buffer(e,t)},allocBuffer:function(e){if(Buffer.alloc)return Buffer.alloc(e);var t=new Buffer(e);return t.fill(0),t},isBuffer:function(e){return Buffer.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},7965:(e,t,r)=>{"use strict";var i=r(373),n=r(3681),s=r(4030),a=r(7597),o=r(8796),d=r(9008),u=r(7184),l=r(2854),c=r(1620),p=r(3084),fileAdd=function(e,t,r){var i,a=n.getTypeOf(t),l=n.extend(r||{},o);l.date=l.date||new Date,null!==l.compression&&(l.compression=l.compression.toUpperCase()),"string"==typeof l.unixPermissions&&(l.unixPermissions=parseInt(l.unixPermissions,8)),l.unixPermissions&&16384&l.unixPermissions&&(l.dir=!0),l.dosPermissions&&16&l.dosPermissions&&(l.dir=!0),l.dir&&(e=forceTrailingSlash(e)),l.createFolders&&(i=parentFolder(e))&&folderAdd.call(this,i,!0);var h="string"===a&&!1===l.binary&&!1===l.base64;r&&void 0!==r.binary||(l.binary=!h),(t instanceof d&&0===t.uncompressedSize||l.dir||!t||0===t.length)&&(l.base64=!1,l.binary=!0,t="",l.compression="STORE",a="string");var y=null;y=t instanceof d||t instanceof s?t:c.isNode&&c.isStream(t)?new p(e,t):n.prepareContent(e,t,l.binary,l.optimizedBinaryString,l.base64);var g=new u(e,y,l);this.files[e]=g},parentFolder=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return t>0?e.substring(0,t):""},forceTrailingSlash=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},folderAdd=function(e,t){return t=void 0!==t?t:o.createFolders,e=forceTrailingSlash(e),this.files[e]||fileAdd.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function isRegExp(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var h={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,r,i;for(t in this.files)i=this.files[t],(r=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(r,i)},filter:function(e){var t=[];return this.forEach((function(r,i){e(r,i)&&t.push(i)})),t},file:function(e,t,r){if(1===arguments.length){if(isRegExp(e)){var i=e;return this.filter((function(e,t){return!t.dir&&i.test(e)}))}var n=this.files[this.root+e];return n&&!n.dir?n:null}return e=this.root+e,fileAdd.call(this,e,t,r),this},folder:function(e){if(!e)return this;if(isRegExp(e))return this.filter((function(t,r){return r.dir&&e.test(t)}));var t=this.root+e,r=folderAdd.call(this,t),i=this.clone();return i.root=r.name,i},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var r=this.filter((function(t,r){return r.name.slice(0,e.length)===e})),i=0;i<r.length;i++)delete this.files[r[i].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,r={};try{if((r=n.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:i.utf8encode})).type=r.type.toLowerCase(),r.compression=r.compression.toUpperCase(),"binarystring"===r.type&&(r.type="string"),!r.type)throw new Error("No output type specified.");n.checkSupport(r.type),"darwin"!==r.platform&&"freebsd"!==r.platform&&"linux"!==r.platform&&"sunos"!==r.platform||(r.platform="UNIX"),"win32"===r.platform&&(r.platform="DOS");var o=r.comment||this.comment||"";t=l.generateWorker(this,r,o)}catch(e){(t=new s("error")).error(e)}return new a(t,r.type||"string",r.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};e.exports=h},6150:(e,t,r)=>{"use strict";e.exports=r(1983)},8408:(e,t,r)=>{"use strict";var i=r(6283);function ArrayReader(e){i.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}r(3681).inherits(ArrayReader,i),ArrayReader.prototype.byteAt=function(e){return this.data[this.zero+e]},ArrayReader.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),r=e.charCodeAt(1),i=e.charCodeAt(2),n=e.charCodeAt(3),s=this.length-4;s>=0;--s)if(this.data[s]===t&&this.data[s+1]===r&&this.data[s+2]===i&&this.data[s+3]===n)return s-this.zero;return-1},ArrayReader.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1),i=e.charCodeAt(2),n=e.charCodeAt(3),s=this.readData(4);return t===s[0]&&r===s[1]&&i===s[2]&&n===s[3]},ArrayReader.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=ArrayReader},6283:(e,t,r)=>{"use strict";var i=r(3681);function DataReader(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}DataReader.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(){},readInt:function(e){var t,r=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)r=(r<<8)+this.byteAt(t);return this.index+=e,r},readString:function(e){return i.transformTo("string",this.readData(e))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},e.exports=DataReader},7525:(e,t,r)=>{"use strict";var i=r(6473);function NodeBufferReader(e){i.call(this,e)}r(3681).inherits(NodeBufferReader,i),NodeBufferReader.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=NodeBufferReader},4250:(e,t,r)=>{"use strict";var i=r(6283);function StringReader(e){i.call(this,e)}r(3681).inherits(StringReader,i),StringReader.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},StringReader.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},StringReader.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},StringReader.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=StringReader},6473:(e,t,r)=>{"use strict";var i=r(8408);function Uint8ArrayReader(e){i.call(this,e)}r(3681).inherits(Uint8ArrayReader,i),Uint8ArrayReader.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=Uint8ArrayReader},5408:(e,t,r)=>{"use strict";var i=r(3681),n=r(831),s=r(8408),a=r(4250),o=r(7525),d=r(6473);e.exports=function(e){var t=i.getTypeOf(e);return i.checkSupport(t),"string"!==t||n.uint8array?"nodebuffer"===t?new o(e):n.uint8array?new d(i.transformTo("uint8array",e)):new s(i.transformTo("array",e)):new a(e)}},9366:(e,t)=>{"use strict";t.LOCAL_FILE_HEADER="PK",t.CENTRAL_FILE_HEADER="PK",t.CENTRAL_DIRECTORY_END="PK",t.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",t.ZIP64_CENTRAL_DIRECTORY_END="PK",t.DATA_DESCRIPTOR="PK\b"},8564:(e,t,r)=>{"use strict";var i=r(4030),n=r(3681);function ConvertWorker(e){i.call(this,"ConvertWorker to "+e),this.destType=e}n.inherits(ConvertWorker,i),ConvertWorker.prototype.processChunk=function(e){this.push({data:n.transformTo(this.destType,e.data),meta:e.meta})},e.exports=ConvertWorker},730:(e,t,r)=>{"use strict";var i=r(4030),n=r(2539);function Crc32Probe(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r(3681).inherits(Crc32Probe,i),Crc32Probe.prototype.processChunk=function(e){this.streamInfo.crc32=n(e.data,this.streamInfo.crc32||0),this.push(e)},e.exports=Crc32Probe},219:(e,t,r)=>{"use strict";var i=r(3681),n=r(4030);function DataLengthProbe(e){n.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}i.inherits(DataLengthProbe,n),DataLengthProbe.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}n.prototype.processChunk.call(this,e)},e.exports=DataLengthProbe},1287:(e,t,r)=>{"use strict";var i=r(3681),n=r(4030);function DataWorker(e){n.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then((function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=i.getTypeOf(e),t.isPaused||t._tickAndRepeat()}),(function(e){t.error(e)}))}i.inherits(DataWorker,n),DataWorker.prototype.cleanUp=function(){n.prototype.cleanUp.call(this),this.data=null},DataWorker.prototype.resume=function(){return!!n.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},DataWorker.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},DataWorker.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},e.exports=DataWorker},4030:e=>{"use strict";function GenericWorker(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}GenericWorker.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var r=0;r<this._listeners[e].length;r++)this._listeners[e][r].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.end()})),e.on("error",(function(e){t.error(e)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var e=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},e.exports=GenericWorker},7597:(e,t,r)=>{"use strict";var i=r(3681),n=r(8564),s=r(4030),a=r(7789),o=r(831),d=r(8989),u=null;if(o.nodestream)try{u=r(1615)}catch(e){}function accumulate(e,t){return new d.Promise((function(r,n){var s=[],o=e._internalType,d=e._outputType,u=e._mimeType;e.on("data",(function(e,r){s.push(e),t&&t(r)})).on("error",(function(e){s=[],n(e)})).on("end",(function(){try{var e=function transformZipOutput(e,t,r){switch(e){case"blob":return i.newBlob(i.transformTo("arraybuffer",t),r);case"base64":return a.encode(t);default:return i.transformTo(e,t)}}(d,function concat(e,t){var r,i=0,n=null,s=0;for(r=0;r<t.length;r++)s+=t[r].length;switch(e){case"string":return t.join("");case"array":return Array.prototype.concat.apply([],t);case"uint8array":for(n=new Uint8Array(s),r=0;r<t.length;r++)n.set(t[r],i),i+=t[r].length;return n;case"nodebuffer":return Buffer.concat(t);default:throw new Error("concat : unsupported type '"+e+"'")}}(o,s),u);r(e)}catch(e){n(e)}s=[]})).resume()}))}function StreamHelper(e,t,r){var a=t;switch(t){case"blob":case"arraybuffer":a="uint8array";break;case"base64":a="string"}try{this._internalType=a,this._outputType=t,this._mimeType=r,i.checkSupport(a),this._worker=e.pipe(new n(a)),e.lock()}catch(e){this._worker=new s("error"),this._worker.error(e)}}StreamHelper.prototype={accumulate:function(e){return accumulate(this,e)},on:function(e,t){var r=this;return"data"===e?this._worker.on(e,(function(e){t.call(r,e.data,e.meta)})):this._worker.on(e,(function(){i.delay(t,arguments,r)})),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(i.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new u(this,{objectMode:"nodebuffer"!==this._outputType},e)}},e.exports=StreamHelper},831:(e,t,r)=>{"use strict";if(t.base64=!0,t.array=!0,t.string=!0,t.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,t.nodebuffer=void 0!==Buffer,t.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)t.blob=!1;else{var i=new ArrayBuffer(0);try{t.blob=0===new Blob([i],{type:"application/zip"}).size}catch(e){try{var n=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);n.append(i),t.blob=0===n.getBlob("application/zip").size}catch(e){t.blob=!1}}}try{t.nodestream=!!r(6150).Readable}catch(e){t.nodestream=!1}},373:(e,t,r)=>{"use strict";for(var i=r(3681),n=r(831),s=r(1620),a=r(4030),o=new Array(256),d=0;d<256;d++)o[d]=d>=252?6:d>=248?5:d>=240?4:d>=224?3:d>=192?2:1;o[254]=o[254]=1;function Utf8DecodeWorker(){a.call(this,"utf-8 decode"),this.leftOver=null}function Utf8EncodeWorker(){a.call(this,"utf-8 encode")}t.utf8encode=function utf8encode(e){return n.nodebuffer?s.newBufferFrom(e,"utf-8"):function(e){var t,r,i,s,a,o=e.length,d=0;for(s=0;s<o;s++)55296==(64512&(r=e.charCodeAt(s)))&&s+1<o&&56320==(64512&(i=e.charCodeAt(s+1)))&&(r=65536+(r-55296<<10)+(i-56320),s++),d+=r<128?1:r<2048?2:r<65536?3:4;for(t=n.uint8array?new Uint8Array(d):new Array(d),a=0,s=0;a<d;s++)55296==(64512&(r=e.charCodeAt(s)))&&s+1<o&&56320==(64512&(i=e.charCodeAt(s+1)))&&(r=65536+(r-55296<<10)+(i-56320),s++),r<128?t[a++]=r:r<2048?(t[a++]=192|r>>>6,t[a++]=128|63&r):r<65536?(t[a++]=224|r>>>12,t[a++]=128|r>>>6&63,t[a++]=128|63&r):(t[a++]=240|r>>>18,t[a++]=128|r>>>12&63,t[a++]=128|r>>>6&63,t[a++]=128|63&r);return t}(e)},t.utf8decode=function utf8decode(e){return n.nodebuffer?i.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,r,n,s,a=e.length,d=new Array(2*a);for(r=0,t=0;t<a;)if((n=e[t++])<128)d[r++]=n;else if((s=o[n])>4)d[r++]=65533,t+=s-1;else{for(n&=2===s?31:3===s?15:7;s>1&&t<a;)n=n<<6|63&e[t++],s--;s>1?d[r++]=65533:n<65536?d[r++]=n:(n-=65536,d[r++]=55296|n>>10&1023,d[r++]=56320|1023&n)}return d.length!==r&&(d.subarray?d=d.subarray(0,r):d.length=r),i.applyFromCharCode(d)}(e=i.transformTo(n.uint8array?"uint8array":"array",e))},i.inherits(Utf8DecodeWorker,a),Utf8DecodeWorker.prototype.processChunk=function(e){var r=i.transformTo(n.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(n.uint8array){var s=r;(r=new Uint8Array(s.length+this.leftOver.length)).set(this.leftOver,0),r.set(s,this.leftOver.length)}else r=this.leftOver.concat(r);this.leftOver=null}var a=function(e,t){var r;for((t=t||e.length)>e.length&&(t=e.length),r=t-1;r>=0&&128==(192&e[r]);)r--;return r<0||0===r?t:r+o[e[r]]>t?r:t}(r),d=r;a!==r.length&&(n.uint8array?(d=r.subarray(0,a),this.leftOver=r.subarray(a,r.length)):(d=r.slice(0,a),this.leftOver=r.slice(a,r.length))),this.push({data:t.utf8decode(d),meta:e.meta})},Utf8DecodeWorker.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:t.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},t.Utf8DecodeWorker=Utf8DecodeWorker,i.inherits(Utf8EncodeWorker,a),Utf8EncodeWorker.prototype.processChunk=function(e){this.push({data:t.utf8encode(e.data),meta:e.meta})},t.Utf8EncodeWorker=Utf8EncodeWorker},3681:(e,t,r)=>{"use strict";var i=r(831),n=r(7789),s=r(1620),a=r(8989);function identity(e){return e}function stringToArrayLike(e,t){for(var r=0;r<e.length;++r)t[r]=255&e.charCodeAt(r);return t}r(766),t.newBlob=function(e,r){t.checkSupport("blob");try{return new Blob([e],{type:r})}catch(t){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return i.append(e),i.getBlob(r)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};var o={stringifyByChunk:function(e,t,r){var i=[],n=0,s=e.length;if(s<=r)return String.fromCharCode.apply(null,e);for(;n<s;)"array"===t||"nodebuffer"===t?i.push(String.fromCharCode.apply(null,e.slice(n,Math.min(n+r,s)))):i.push(String.fromCharCode.apply(null,e.subarray(n,Math.min(n+r,s)))),n+=r;return i.join("")},stringifyByChar:function(e){for(var t="",r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&1===String.fromCharCode.apply(null,s.allocBuffer(1)).length}catch(e){return!1}}()}};function arrayLikeToString(e){var r=65536,i=t.getTypeOf(e),n=!0;if("uint8array"===i?n=o.applyCanBeUsed.uint8array:"nodebuffer"===i&&(n=o.applyCanBeUsed.nodebuffer),n)for(;r>1;)try{return o.stringifyByChunk(e,i,r)}catch(e){r=Math.floor(r/2)}return o.stringifyByChar(e)}function arrayLikeToArrayLike(e,t){for(var r=0;r<e.length;r++)t[r]=e[r];return t}t.applyFromCharCode=arrayLikeToString;var d={};d.string={string:identity,array:function(e){return stringToArrayLike(e,new Array(e.length))},arraybuffer:function(e){return d.string.uint8array(e).buffer},uint8array:function(e){return stringToArrayLike(e,new Uint8Array(e.length))},nodebuffer:function(e){return stringToArrayLike(e,s.allocBuffer(e.length))}},d.array={string:arrayLikeToString,array:identity,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return s.newBufferFrom(e)}},d.arraybuffer={string:function(e){return arrayLikeToString(new Uint8Array(e))},array:function(e){return arrayLikeToArrayLike(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:identity,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return s.newBufferFrom(new Uint8Array(e))}},d.uint8array={string:arrayLikeToString,array:function(e){return arrayLikeToArrayLike(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:identity,nodebuffer:function(e){return s.newBufferFrom(e)}},d.nodebuffer={string:arrayLikeToString,array:function(e){return arrayLikeToArrayLike(e,new Array(e.length))},arraybuffer:function(e){return d.nodebuffer.uint8array(e).buffer},uint8array:function(e){return arrayLikeToArrayLike(e,new Uint8Array(e.length))},nodebuffer:identity},t.transformTo=function(e,r){if(r||(r=""),!e)return r;t.checkSupport(e);var i=t.getTypeOf(r);return d[i][e](r)},t.resolve=function(e){for(var t=e.split("/"),r=[],i=0;i<t.length;i++){var n=t[i];"."===n||""===n&&0!==i&&i!==t.length-1||(".."===n?r.pop():r.push(n))}return r.join("/")},t.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":i.nodebuffer&&s.isBuffer(e)?"nodebuffer":i.uint8array&&e instanceof Uint8Array?"uint8array":i.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},t.checkSupport=function(e){if(!i[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},t.MAX_VALUE_16BITS=65535,t.MAX_VALUE_32BITS=-1,t.pretty=function(e){var t,r,i="";for(r=0;r<(e||"").length;r++)i+="\\x"+((t=e.charCodeAt(r))<16?"0":"")+t.toString(16).toUpperCase();return i},t.delay=function(e,t,r){setImmediate((function(){e.apply(r||null,t||[])}))},t.inherits=function(e,t){var Obj=function(){};Obj.prototype=t.prototype,e.prototype=new Obj},t.extend=function(){var e,t,r={};for(e=0;e<arguments.length;e++)for(t in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],t)&&void 0===r[t]&&(r[t]=arguments[e][t]);return r},t.prepareContent=function(e,r,s,o,d){return a.Promise.resolve(r).then((function(e){return i.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new a.Promise((function(t,r){var i=new FileReader;i.onload=function(e){t(e.target.result)},i.onerror=function(e){r(e.target.error)},i.readAsArrayBuffer(e)})):e})).then((function(r){var u=t.getTypeOf(r);return u?("arraybuffer"===u?r=t.transformTo("uint8array",r):"string"===u&&(d?r=n.decode(r):s&&!0!==o&&(r=function string2binary(e){return stringToArrayLike(e,i.uint8array?new Uint8Array(e.length):new Array(e.length))}(r))),r):a.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},5675:(e,t,r)=>{"use strict";var i=r(5408),n=r(3681),s=r(9366),a=r(3287),o=r(831);function ZipEntries(e){this.files=[],this.loadOptions=e}ZipEntries.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+n.pretty(t)+", expected "+n.pretty(e)+")")}},isSignature:function(e,t){var r=this.reader.index;this.reader.setIndex(e);var i=this.reader.readString(4)===t;return this.reader.setIndex(r),i},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=o.uint8array?"uint8array":"array",r=n.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(r)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,r,i=this.zip64EndOfCentralSize-44;0<i;)e=this.reader.readInt(2),t=this.reader.readInt(4),r=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:r}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(s.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(s.CENTRAL_FILE_HEADER);)(e=new a({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);if(e<0)throw!this.isSignature(0,s.LOCAL_FILE_HEADER)?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory");this.reader.setIndex(e);var t=e;if(this.checkSignature(s.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===n.MAX_VALUE_16BITS||this.diskWithCentralDirStart===n.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===n.MAX_VALUE_16BITS||this.centralDirRecords===n.MAX_VALUE_16BITS||this.centralDirSize===n.MAX_VALUE_32BITS||this.centralDirOffset===n.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,s.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var r=this.centralDirOffset+this.centralDirSize;this.zip64&&(r+=20,r+=12+this.zip64EndOfCentralSize);var i=t-r;if(i>0)this.isSignature(t,s.CENTRAL_FILE_HEADER)||(this.reader.zero=i);else if(i<0)throw new Error("Corrupted zip: missing "+Math.abs(i)+" bytes.")},prepareReader:function(e){this.reader=i(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=ZipEntries},3287:(e,t,r)=>{"use strict";var i=r(5408),n=r(3681),s=r(9008),a=r(2539),o=r(373),d=r(7845),u=r(831);function ZipEntry(e,t){this.options=e,this.loadOptions=t}ZipEntry.prototype={isEncrypted:function(){return!(1&~this.bitFlag)},useUTF8:function(){return!(2048&~this.bitFlag)},readLocalPart:function(e){var t,r;if(e.skip(22),this.fileNameLength=e.readInt(2),r=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(r),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in d)if(Object.prototype.hasOwnProperty.call(d,t)&&d[t].magic===e)return d[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+n.pretty(this.compressionMethod)+" unknown (inner file : "+n.transformTo("string",this.fileName)+")");this.decompressed=new s(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===e&&(this.dosPermissions=63&this.externalFileAttributes),3===e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var e=i(this.extraFields[1].value);this.uncompressedSize===n.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===n.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===n.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===n.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(e){var t,r,i,n=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<n;)t=e.readInt(2),r=e.readInt(2),i=e.readData(r),this.extraFields[t]={id:t,length:r,value:i};e.setIndex(n)},handleUTF8:function(){var e=u.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=o.utf8decode(this.fileName),this.fileCommentStr=o.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var r=n.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(r)}var i=this.findExtraFieldUnicodeComment();if(null!==i)this.fileCommentStr=i;else{var s=n.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(s)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=i(e.value);return 1!==t.readInt(1)||a(this.fileName)!==t.readInt(4)?null:o.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=i(e.value);return 1!==t.readInt(1)||a(this.fileComment)!==t.readInt(4)?null:o.utf8decode(t.readData(e.length-5))}return null}},e.exports=ZipEntry},7184:(e,t,r)=>{"use strict";var i=r(7597),n=r(1287),s=r(373),a=r(9008),o=r(4030),ZipObject=function(e,t,r){this.name=e,this.dir=r.dir,this.date=r.date,this.comment=r.comment,this.unixPermissions=r.unixPermissions,this.dosPermissions=r.dosPermissions,this._data=t,this._dataBinary=r.binary,this.options={compression:r.compression,compressionOptions:r.compressionOptions}};ZipObject.prototype={internalStream:function(e){var t=null,r="string";try{if(!e)throw new Error("No output type specified.");var n="string"===(r=e.toLowerCase())||"text"===r;"binarystring"!==r&&"text"!==r||(r="string"),t=this._decompressWorker();var a=!this._dataBinary;a&&!n&&(t=t.pipe(new s.Utf8EncodeWorker)),!a&&n&&(t=t.pipe(new s.Utf8DecodeWorker))}catch(e){(t=new o("error")).error(e)}return new i(t,r,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof a&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var r=this._decompressWorker();return this._dataBinary||(r=r.pipe(new s.Utf8EncodeWorker)),a.createWorkerFrom(r,e,t)},_decompressWorker:function(){return this._data instanceof a?this._data.getContentWorker():this._data instanceof o?this._data:new n(this._data)}};for(var d=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],removedFn=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},u=0;u<d.length;u++)ZipObject.prototype[d[u]]=removedFn;e.exports=ZipObject},4984:(e,t,r)=>{"use strict";var i=r(2607);function INTERNAL(){}var n={},s=["REJECTED"],a=["FULFILLED"],o=["PENDING"];function Promise(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=o,this.queue=[],this.outcome=void 0,e!==INTERNAL&&safelyResolveThenable(this,e)}function QueueItem(e,t,r){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function unwrap(e,t,r){i((function(){var i;try{i=t(r)}catch(t){return n.reject(e,t)}i===e?n.reject(e,new TypeError("Cannot resolve promise with itself")):n.resolve(e,i)}))}function getThen(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function appyThen(){t.apply(e,arguments)}}function safelyResolveThenable(e,t){var r=!1;function onError(t){r||(r=!0,n.reject(e,t))}function onSuccess(t){r||(r=!0,n.resolve(e,t))}var i=tryCatch((function tryToUnwrap(){t(onSuccess,onError)}));"error"===i.status&&onError(i.value)}function tryCatch(e,t){var r={};try{r.value=e(t),r.status="success"}catch(e){r.status="error",r.value=e}return r}e.exports=Promise,Promise.prototype.finally=function(e){if("function"!=typeof e)return this;var t=this.constructor;return this.then((function resolve(r){return t.resolve(e()).then((function yes(){return r}))}),(function reject(r){return t.resolve(e()).then((function no(){throw r}))}))},Promise.prototype.catch=function(e){return this.then(null,e)},Promise.prototype.then=function(e,t){if("function"!=typeof e&&this.state===a||"function"!=typeof t&&this.state===s)return this;var r=new this.constructor(INTERNAL);this.state!==o?unwrap(r,this.state===a?e:t,this.outcome):this.queue.push(new QueueItem(r,e,t));return r},QueueItem.prototype.callFulfilled=function(e){n.resolve(this.promise,e)},QueueItem.prototype.otherCallFulfilled=function(e){unwrap(this.promise,this.onFulfilled,e)},QueueItem.prototype.callRejected=function(e){n.reject(this.promise,e)},QueueItem.prototype.otherCallRejected=function(e){unwrap(this.promise,this.onRejected,e)},n.resolve=function(e,t){var r=tryCatch(getThen,t);if("error"===r.status)return n.reject(e,r.value);var i=r.value;if(i)safelyResolveThenable(e,i);else{e.state=a,e.outcome=t;for(var s=-1,o=e.queue.length;++s<o;)e.queue[s].callFulfilled(t)}return e},n.reject=function(e,t){e.state=s,e.outcome=t;for(var r=-1,i=e.queue.length;++r<i;)e.queue[r].callRejected(t);return e},Promise.resolve=function resolve(e){if(e instanceof this)return e;return n.resolve(new this(INTERNAL),e)},Promise.reject=function reject(e){var t=new this(INTERNAL);return n.reject(t,e)},Promise.all=function all(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var r=e.length,i=!1;if(!r)return this.resolve([]);var s=new Array(r),a=0,o=-1,d=new this(INTERNAL);for(;++o<r;)allResolver(e[o],o);return d;function allResolver(e,o){t.resolve(e).then((function resolveFromAll(e){s[o]=e,++a!==r||i||(i=!0,n.resolve(d,s))}),(function(e){i||(i=!0,n.reject(d,e))}))}},Promise.race=function race(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var r=e.length,i=!1;if(!r)return this.resolve([]);var s=-1,a=new this(INTERNAL);for(;++s<r;)o=e[s],t.resolve(o).then((function(e){i||(i=!0,n.resolve(a,e))}),(function(e){i||(i=!0,n.reject(a,e))}));var o;return a}},5650:(e,t,r)=>{var i=r(8942).Symbol;e.exports=i},7379:(e,t,r)=>{var i=r(5650),n=r(8870),s=r(9005),a=i?i.toStringTag:void 0;e.exports=function baseGetTag(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?n(e):s(e)}},4967:(e,t,r)=>{var i="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;e.exports=i},4784:(e,t,r)=>{var i=r(3766)(Object.getPrototypeOf,Object);e.exports=i},8870:(e,t,r)=>{var i=r(5650),n=Object.prototype,s=n.hasOwnProperty,a=n.toString,o=i?i.toStringTag:void 0;e.exports=function getRawTag(e){var t=s.call(e,o),r=e[o];try{e[o]=void 0;var i=!0}catch(e){}var n=a.call(e);return i&&(t?e[o]=r:delete e[o]),n}},9005:e=>{var t=Object.prototype.toString;e.exports=function objectToString(e){return t.call(e)}},3766:e=>{e.exports=function overArg(e,t){return function(r){return e(t(r))}}},8942:(e,t,r)=>{var i=r(4967),n="object"==typeof self&&self&&self.Object===Object&&self,s=i||n||Function("return this")();e.exports=s},3142:e=>{var t=Array.isArray;e.exports=t},3655:(e,t,r)=>{var i=r(7379),n=r(1580);e.exports=function isFunction(e){if(!n(e))return!1;var t=i(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1580:e=>{e.exports=function isObject(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},547:e=>{e.exports=function isObjectLike(e){return null!=e&&"object"==typeof e}},8360:(e,t,r)=>{var i=r(7379),n=r(4784),s=r(547),a=Function.prototype,o=Object.prototype,d=a.toString,u=o.hasOwnProperty,l=d.call(Object);e.exports=function isPlainObject(e){if(!s(e)||"[object Object]"!=i(e))return!1;var t=n(e);if(null===t)return!0;var r=u.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&d.call(r)==l}},8138:(e,t,r)=>{var i=r(7379),n=r(3142),s=r(547);e.exports=function isString(e){return"string"==typeof e||!n(e)&&s(e)&&"[object String]"==i(e)}},5250:function(e,t,r){var i;e=r.nmd(e),function(){var n,s="Expected a function",a="__lodash_hash_undefined__",o="__lodash_placeholder__",d=16,u=32,l=64,c=128,p=256,h=1/0,y=9007199254740991,g=NaN,m=4294967295,b=[["ary",c],["bind",1],["bindKey",2],["curry",8],["curryRight",d],["flip",512],["partial",u],["partialRight",l],["rearg",p]],v="[object Arguments]",_="[object Array]",w="[object Boolean]",E="[object Date]",T="[object Error]",A="[object Function]",M="[object GeneratorFunction]",O="[object Map]",x="[object Number]",k="[object Object]",I="[object Promise]",C="[object RegExp]",B="[object Set]",N="[object String]",P="[object Symbol]",D="[object WeakMap]",q="[object ArrayBuffer]",L="[object DataView]",j="[object Float32Array]",F="[object Float64Array]",U="[object Int8Array]",z="[object Int16Array]",H="[object Int32Array]",G="[object Uint8Array]",W="[object Uint8ClampedArray]",V="[object Uint16Array]",$="[object Uint32Array]",Y=/\b__p \+= '';/g,X=/\b(__p \+=) '' \+/g,J=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Z=/&(?:amp|lt|gt|quot|#39);/g,Q=/[&<>"']/g,ee=RegExp(Z.source),te=RegExp(Q.source),re=/<%-([\s\S]+?)%>/g,ie=/<%([\s\S]+?)%>/g,ne=/<%=([\s\S]+?)%>/g,se=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ae=/^\w*$/,oe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,de=/[\\^$.*+?()[\]{}|]/g,ue=RegExp(de.source),le=/^\s+/,ce=/\s/,pe=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,he=/\{\n\/\* \[wrapped with (.+)\] \*/,fe=/,? & /,ye=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ge=/[()=,{}\[\]\/\s]/,me=/\\(\\)?/g,be=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ve=/\w*$/,_e=/^[-+]0x[0-9a-f]+$/i,we=/^0b[01]+$/i,Ee=/^\[object .+?Constructor\]$/,Te=/^0o[0-7]+$/i,Se=/^(?:0|[1-9]\d*)$/,Ae=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Me=/($^)/,Re=/['\n\r\u2028\u2029\\]/g,Oe="\\ud800-\\udfff",xe="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ke="\\u2700-\\u27bf",Ie="a-z\\xdf-\\xf6\\xf8-\\xff",Ce="A-Z\\xc0-\\xd6\\xd8-\\xde",Be="\\ufe0e\\ufe0f",Ne="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Pe="['’]",De="["+Oe+"]",qe="["+Ne+"]",Le="["+xe+"]",je="\\d+",Fe="["+ke+"]",Ue="["+Ie+"]",ze="[^"+Oe+Ne+je+ke+Ie+Ce+"]",He="\\ud83c[\\udffb-\\udfff]",Ge="[^"+Oe+"]",We="(?:\\ud83c[\\udde6-\\uddff]){2}",Ke="[\\ud800-\\udbff][\\udc00-\\udfff]",Ve="["+Ce+"]",$e="\\u200d",Ye="(?:"+Ue+"|"+ze+")",Xe="(?:"+Ve+"|"+ze+")",Je="(?:['’](?:d|ll|m|re|s|t|ve))?",Ze="(?:['’](?:D|LL|M|RE|S|T|VE))?",Qe="(?:"+Le+"|"+He+")"+"?",et="["+Be+"]?",tt=et+Qe+("(?:"+$e+"(?:"+[Ge,We,Ke].join("|")+")"+et+Qe+")*"),rt="(?:"+[Fe,We,Ke].join("|")+")"+tt,it="(?:"+[Ge+Le+"?",Le,We,Ke,De].join("|")+")",nt=RegExp(Pe,"g"),st=RegExp(Le,"g"),at=RegExp(He+"(?="+He+")|"+it+tt,"g"),ot=RegExp([Ve+"?"+Ue+"+"+Je+"(?="+[qe,Ve,"$"].join("|")+")",Xe+"+"+Ze+"(?="+[qe,Ve+Ye,"$"].join("|")+")",Ve+"?"+Ye+"+"+Je,Ve+"+"+Ze,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",je,rt].join("|"),"g"),dt=RegExp("["+$e+Oe+xe+Be+"]"),ut=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ct=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],pt=-1,ht={};ht[j]=ht[F]=ht[U]=ht[z]=ht[H]=ht[G]=ht[W]=ht[V]=ht[$]=!0,ht[v]=ht[_]=ht[q]=ht[w]=ht[L]=ht[E]=ht[T]=ht[A]=ht[O]=ht[x]=ht[k]=ht[C]=ht[B]=ht[N]=ht[D]=!1;var yt={};yt[v]=yt[_]=yt[q]=yt[L]=yt[w]=yt[E]=yt[j]=yt[F]=yt[U]=yt[z]=yt[H]=yt[O]=yt[x]=yt[k]=yt[C]=yt[B]=yt[N]=yt[P]=yt[G]=yt[W]=yt[V]=yt[$]=!0,yt[T]=yt[A]=yt[D]=!1;var mt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},bt=parseFloat,vt=parseInt,_t="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,wt="object"==typeof self&&self&&self.Object===Object&&self,Et=_t||wt||Function("return this")(),Tt=t&&!t.nodeType&&t,St=Tt&&e&&!e.nodeType&&e,At=St&&St.exports===Tt,Mt=At&&_t.process,Rt=function(){try{var e=St&&St.require&&St.require("util").types;return e||Mt&&Mt.binding&&Mt.binding("util")}catch(e){}}(),Ot=Rt&&Rt.isArrayBuffer,xt=Rt&&Rt.isDate,kt=Rt&&Rt.isMap,It=Rt&&Rt.isRegExp,Ct=Rt&&Rt.isSet,Bt=Rt&&Rt.isTypedArray;function apply(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function arrayAggregator(e,t,r,i){for(var n=-1,s=null==e?0:e.length;++n<s;){var a=e[n];t(i,a,r(a),e)}return i}function arrayEach(e,t){for(var r=-1,i=null==e?0:e.length;++r<i&&!1!==t(e[r],r,e););return e}function arrayEachRight(e,t){for(var r=null==e?0:e.length;r--&&!1!==t(e[r],r,e););return e}function arrayEvery(e,t){for(var r=-1,i=null==e?0:e.length;++r<i;)if(!t(e[r],r,e))return!1;return!0}function arrayFilter(e,t){for(var r=-1,i=null==e?0:e.length,n=0,s=[];++r<i;){var a=e[r];t(a,r,e)&&(s[n++]=a)}return s}function arrayIncludes(e,t){return!!(null==e?0:e.length)&&baseIndexOf(e,t,0)>-1}function arrayIncludesWith(e,t,r){for(var i=-1,n=null==e?0:e.length;++i<n;)if(r(t,e[i]))return!0;return!1}function arrayMap(e,t){for(var r=-1,i=null==e?0:e.length,n=Array(i);++r<i;)n[r]=t(e[r],r,e);return n}function arrayPush(e,t){for(var r=-1,i=t.length,n=e.length;++r<i;)e[n+r]=t[r];return e}function arrayReduce(e,t,r,i){var n=-1,s=null==e?0:e.length;for(i&&s&&(r=e[++n]);++n<s;)r=t(r,e[n],n,e);return r}function arrayReduceRight(e,t,r,i){var n=null==e?0:e.length;for(i&&n&&(r=e[--n]);n--;)r=t(r,e[n],n,e);return r}function arraySome(e,t){for(var r=-1,i=null==e?0:e.length;++r<i;)if(t(e[r],r,e))return!0;return!1}var Nt=baseProperty("length");function baseFindKey(e,t,r){var i;return r(e,(function(e,r,n){if(t(e,r,n))return i=r,!1})),i}function baseFindIndex(e,t,r,i){for(var n=e.length,s=r+(i?1:-1);i?s--:++s<n;)if(t(e[s],s,e))return s;return-1}function baseIndexOf(e,t,r){return t==t?function strictIndexOf(e,t,r){var i=r-1,n=e.length;for(;++i<n;)if(e[i]===t)return i;return-1}(e,t,r):baseFindIndex(e,baseIsNaN,r)}function baseIndexOfWith(e,t,r,i){for(var n=r-1,s=e.length;++n<s;)if(i(e[n],t))return n;return-1}function baseIsNaN(e){return e!=e}function baseMean(e,t){var r=null==e?0:e.length;return r?baseSum(e,t)/r:g}function baseProperty(e){return function(t){return null==t?n:t[e]}}function basePropertyOf(e){return function(t){return null==e?n:e[t]}}function baseReduce(e,t,r,i,n){return n(e,(function(e,n,s){r=i?(i=!1,e):t(r,e,n,s)})),r}function baseSum(e,t){for(var r,i=-1,s=e.length;++i<s;){var a=t(e[i]);a!==n&&(r=r===n?a:r+a)}return r}function baseTimes(e,t){for(var r=-1,i=Array(e);++r<e;)i[r]=t(r);return i}function baseTrim(e){return e?e.slice(0,trimmedEndIndex(e)+1).replace(le,""):e}function baseUnary(e){return function(t){return e(t)}}function baseValues(e,t){return arrayMap(t,(function(t){return e[t]}))}function cacheHas(e,t){return e.has(t)}function charsStartIndex(e,t){for(var r=-1,i=e.length;++r<i&&baseIndexOf(t,e[r],0)>-1;);return r}function charsEndIndex(e,t){for(var r=e.length;r--&&baseIndexOf(t,e[r],0)>-1;);return r}var Pt=basePropertyOf({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),Dt=basePropertyOf({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function escapeStringChar(e){return"\\"+mt[e]}function hasUnicode(e){return dt.test(e)}function mapToArray(e){var t=-1,r=Array(e.size);return e.forEach((function(e,i){r[++t]=[i,e]})),r}function overArg(e,t){return function(r){return e(t(r))}}function replaceHolders(e,t){for(var r=-1,i=e.length,n=0,s=[];++r<i;){var a=e[r];a!==t&&a!==o||(e[r]=o,s[n++]=r)}return s}function setToArray(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}function setToPairs(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=[e,e]})),r}function stringSize(e){return hasUnicode(e)?function unicodeSize(e){var t=at.lastIndex=0;for(;at.test(e);)++t;return t}(e):Nt(e)}function stringToArray(e){return hasUnicode(e)?function unicodeToArray(e){return e.match(at)||[]}(e):function asciiToArray(e){return e.split("")}(e)}function trimmedEndIndex(e){for(var t=e.length;t--&&ce.test(e.charAt(t)););return t}var qt=basePropertyOf({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Lt=function runInContext(e){var t,r=(e=null==e?Et:Lt.defaults(Et.Object(),e,Lt.pick(Et,ct))).Array,i=e.Date,ce=e.Error,Oe=e.Function,xe=e.Math,ke=e.Object,Ie=e.RegExp,Ce=e.String,Be=e.TypeError,Ne=r.prototype,Pe=Oe.prototype,De=ke.prototype,qe=e["__core-js_shared__"],Le=Pe.toString,je=De.hasOwnProperty,Fe=0,Ue=(t=/[^.]+$/.exec(qe&&qe.keys&&qe.keys.IE_PROTO||""))?"Symbol(src)_1."+t:"",ze=De.toString,He=Le.call(ke),Ge=Et._,We=Ie("^"+Le.call(je).replace(de,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ke=At?e.Buffer:n,Ve=e.Symbol,$e=e.Uint8Array,Ye=Ke?Ke.allocUnsafe:n,Xe=overArg(ke.getPrototypeOf,ke),Je=ke.create,Ze=De.propertyIsEnumerable,Qe=Ne.splice,et=Ve?Ve.isConcatSpreadable:n,tt=Ve?Ve.iterator:n,rt=Ve?Ve.toStringTag:n,it=function(){try{var e=getNative(ke,"defineProperty");return e({},"",{}),e}catch(e){}}(),at=e.clearTimeout!==Et.clearTimeout&&e.clearTimeout,dt=i&&i.now!==Et.Date.now&&i.now,mt=e.setTimeout!==Et.setTimeout&&e.setTimeout,_t=xe.ceil,wt=xe.floor,Tt=ke.getOwnPropertySymbols,St=Ke?Ke.isBuffer:n,Mt=e.isFinite,Rt=Ne.join,Nt=overArg(ke.keys,ke),jt=xe.max,Ft=xe.min,Ut=i.now,zt=e.parseInt,Ht=xe.random,Gt=Ne.reverse,Wt=getNative(e,"DataView"),Kt=getNative(e,"Map"),Vt=getNative(e,"Promise"),$t=getNative(e,"Set"),Yt=getNative(e,"WeakMap"),Xt=getNative(ke,"create"),Jt=Yt&&new Yt,Zt={},Qt=toSource(Wt),er=toSource(Kt),tr=toSource(Vt),rr=toSource($t),ir=toSource(Yt),nr=Ve?Ve.prototype:n,sr=nr?nr.valueOf:n,ar=nr?nr.toString:n;function lodash(e){if(isObjectLike(e)&&!ci(e)&&!(e instanceof LazyWrapper)){if(e instanceof LodashWrapper)return e;if(je.call(e,"__wrapped__"))return wrapperClone(e)}return new LodashWrapper(e)}var dr=function(){function object(){}return function(e){if(!isObject(e))return{};if(Je)return Je(e);object.prototype=e;var t=new object;return object.prototype=n,t}}();function baseLodash(){}function LodashWrapper(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=n}function LazyWrapper(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=m,this.__views__=[]}function Hash(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}function ListCache(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}function MapCache(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}function SetCache(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new MapCache;++t<r;)this.add(e[t])}function Stack(e){var t=this.__data__=new ListCache(e);this.size=t.size}function arrayLikeKeys(e,t){var r=ci(e),i=!r&&li(e),n=!r&&!i&&hi(e),s=!r&&!i&&!n&&bi(e),a=r||i||n||s,o=a?baseTimes(e.length,Ce):[],d=o.length;for(var u in e)!t&&!je.call(e,u)||a&&("length"==u||n&&("offset"==u||"parent"==u)||s&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||isIndex(u,d))||o.push(u);return o}function arraySample(e){var t=e.length;return t?e[baseRandom(0,t-1)]:n}function arraySampleSize(e,t){return shuffleSelf(copyArray(e),baseClamp(t,0,e.length))}function arrayShuffle(e){return shuffleSelf(copyArray(e))}function assignMergeValue(e,t,r){(r!==n&&!eq(e[t],r)||r===n&&!(t in e))&&baseAssignValue(e,t,r)}function assignValue(e,t,r){var i=e[t];je.call(e,t)&&eq(i,r)&&(r!==n||t in e)||baseAssignValue(e,t,r)}function assocIndexOf(e,t){for(var r=e.length;r--;)if(eq(e[r][0],t))return r;return-1}function baseAggregator(e,t,r,i){return ur(e,(function(e,n,s){t(i,e,r(e),s)})),i}function baseAssign(e,t){return e&&copyObject(t,keys(t),e)}function baseAssignValue(e,t,r){"__proto__"==t&&it?it(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function baseAt(e,t){for(var i=-1,s=t.length,a=r(s),o=null==e;++i<s;)a[i]=o?n:get(e,t[i]);return a}function baseClamp(e,t,r){return e==e&&(r!==n&&(e=e<=r?e:r),t!==n&&(e=e>=t?e:t)),e}function baseClone(e,t,r,i,s,a){var o,d=1&t,u=2&t,l=4&t;if(r&&(o=s?r(e,i,s,a):r(e)),o!==n)return o;if(!isObject(e))return e;var c=ci(e);if(c){if(o=function initCloneArray(e){var t=e.length,r=new e.constructor(t);t&&"string"==typeof e[0]&&je.call(e,"index")&&(r.index=e.index,r.input=e.input);return r}(e),!d)return copyArray(e,o)}else{var p=wr(e),h=p==A||p==M;if(hi(e))return cloneBuffer(e,d);if(p==k||p==v||h&&!s){if(o=u||h?{}:initCloneObject(e),!d)return u?function copySymbolsIn(e,t){return copyObject(e,_r(e),t)}(e,function baseAssignIn(e,t){return e&&copyObject(t,keysIn(t),e)}(o,e)):function copySymbols(e,t){return copyObject(e,vr(e),t)}(e,baseAssign(o,e))}else{if(!yt[p])return s?e:{};o=function initCloneByTag(e,t,r){var i=e.constructor;switch(t){case q:return cloneArrayBuffer(e);case w:case E:return new i(+e);case L:return function cloneDataView(e,t){var r=t?cloneArrayBuffer(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,r);case j:case F:case U:case z:case H:case G:case W:case V:case $:return cloneTypedArray(e,r);case O:return new i;case x:case N:return new i(e);case C:return function cloneRegExp(e){var t=new e.constructor(e.source,ve.exec(e));return t.lastIndex=e.lastIndex,t}(e);case B:return new i;case P:return function cloneSymbol(e){return sr?ke(sr.call(e)):{}}(e)}}(e,p,d)}}a||(a=new Stack);var y=a.get(e);if(y)return y;a.set(e,o),mi(e)?e.forEach((function(i){o.add(baseClone(i,t,r,i,e,a))})):yi(e)&&e.forEach((function(i,n){o.set(n,baseClone(i,t,r,n,e,a))}));var g=c?n:(l?u?getAllKeysIn:getAllKeys:u?keysIn:keys)(e);return arrayEach(g||e,(function(i,n){g&&(i=e[n=i]),assignValue(o,n,baseClone(i,t,r,n,e,a))})),o}function baseConformsTo(e,t,r){var i=r.length;if(null==e)return!i;for(e=ke(e);i--;){var s=r[i],a=t[s],o=e[s];if(o===n&&!(s in e)||!a(o))return!1}return!0}function baseDelay(e,t,r){if("function"!=typeof e)throw new Be(s);return Sr((function(){e.apply(n,r)}),t)}function baseDifference(e,t,r,i){var n=-1,s=arrayIncludes,a=!0,o=e.length,d=[],u=t.length;if(!o)return d;r&&(t=arrayMap(t,baseUnary(r))),i?(s=arrayIncludesWith,a=!1):t.length>=200&&(s=cacheHas,a=!1,t=new SetCache(t));e:for(;++n<o;){var l=e[n],c=null==r?l:r(l);if(l=i||0!==l?l:0,a&&c==c){for(var p=u;p--;)if(t[p]===c)continue e;d.push(l)}else s(t,c,i)||d.push(l)}return d}lodash.templateSettings={escape:re,evaluate:ie,interpolate:ne,variable:"",imports:{_:lodash}},lodash.prototype=baseLodash.prototype,lodash.prototype.constructor=lodash,LodashWrapper.prototype=dr(baseLodash.prototype),LodashWrapper.prototype.constructor=LodashWrapper,LazyWrapper.prototype=dr(baseLodash.prototype),LazyWrapper.prototype.constructor=LazyWrapper,Hash.prototype.clear=function hashClear(){this.__data__=Xt?Xt(null):{},this.size=0},Hash.prototype.delete=function hashDelete(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Hash.prototype.get=function hashGet(e){var t=this.__data__;if(Xt){var r=t[e];return r===a?n:r}return je.call(t,e)?t[e]:n},Hash.prototype.has=function hashHas(e){var t=this.__data__;return Xt?t[e]!==n:je.call(t,e)},Hash.prototype.set=function hashSet(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Xt&&t===n?a:t,this},ListCache.prototype.clear=function listCacheClear(){this.__data__=[],this.size=0},ListCache.prototype.delete=function listCacheDelete(e){var t=this.__data__,r=assocIndexOf(t,e);return!(r<0)&&(r==t.length-1?t.pop():Qe.call(t,r,1),--this.size,!0)},ListCache.prototype.get=function listCacheGet(e){var t=this.__data__,r=assocIndexOf(t,e);return r<0?n:t[r][1]},ListCache.prototype.has=function listCacheHas(e){return assocIndexOf(this.__data__,e)>-1},ListCache.prototype.set=function listCacheSet(e,t){var r=this.__data__,i=assocIndexOf(r,e);return i<0?(++this.size,r.push([e,t])):r[i][1]=t,this},MapCache.prototype.clear=function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Kt||ListCache),string:new Hash}},MapCache.prototype.delete=function mapCacheDelete(e){var t=getMapData(this,e).delete(e);return this.size-=t?1:0,t},MapCache.prototype.get=function mapCacheGet(e){return getMapData(this,e).get(e)},MapCache.prototype.has=function mapCacheHas(e){return getMapData(this,e).has(e)},MapCache.prototype.set=function mapCacheSet(e,t){var r=getMapData(this,e),i=r.size;return r.set(e,t),this.size+=r.size==i?0:1,this},SetCache.prototype.add=SetCache.prototype.push=function setCacheAdd(e){return this.__data__.set(e,a),this},SetCache.prototype.has=function setCacheHas(e){return this.__data__.has(e)},Stack.prototype.clear=function stackClear(){this.__data__=new ListCache,this.size=0},Stack.prototype.delete=function stackDelete(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},Stack.prototype.get=function stackGet(e){return this.__data__.get(e)},Stack.prototype.has=function stackHas(e){return this.__data__.has(e)},Stack.prototype.set=function stackSet(e,t){var r=this.__data__;if(r instanceof ListCache){var i=r.__data__;if(!Kt||i.length<199)return i.push([e,t]),this.size=++r.size,this;r=this.__data__=new MapCache(i)}return r.set(e,t),this.size=r.size,this};var ur=createBaseEach(baseForOwn),lr=createBaseEach(baseForOwnRight,!0);function baseEvery(e,t){var r=!0;return ur(e,(function(e,i,n){return r=!!t(e,i,n)})),r}function baseExtremum(e,t,r){for(var i=-1,s=e.length;++i<s;){var a=e[i],o=t(a);if(null!=o&&(d===n?o==o&&!isSymbol(o):r(o,d)))var d=o,u=a}return u}function baseFilter(e,t){var r=[];return ur(e,(function(e,i,n){t(e,i,n)&&r.push(e)})),r}function baseFlatten(e,t,r,i,n){var s=-1,a=e.length;for(r||(r=isFlattenable),n||(n=[]);++s<a;){var o=e[s];t>0&&r(o)?t>1?baseFlatten(o,t-1,r,i,n):arrayPush(n,o):i||(n[n.length]=o)}return n}var cr=createBaseFor(),pr=createBaseFor(!0);function baseForOwn(e,t){return e&&cr(e,t,keys)}function baseForOwnRight(e,t){return e&&pr(e,t,keys)}function baseFunctions(e,t){return arrayFilter(t,(function(t){return isFunction(e[t])}))}function baseGet(e,t){for(var r=0,i=(t=castPath(t,e)).length;null!=e&&r<i;)e=e[toKey(t[r++])];return r&&r==i?e:n}function baseGetAllKeys(e,t,r){var i=t(e);return ci(e)?i:arrayPush(i,r(e))}function baseGetTag(e){return null==e?e===n?"[object Undefined]":"[object Null]":rt&&rt in ke(e)?function getRawTag(e){var t=je.call(e,rt),r=e[rt];try{e[rt]=n;var i=!0}catch(e){}var s=ze.call(e);i&&(t?e[rt]=r:delete e[rt]);return s}(e):function objectToString(e){return ze.call(e)}(e)}function baseGt(e,t){return e>t}function baseHas(e,t){return null!=e&&je.call(e,t)}function baseHasIn(e,t){return null!=e&&t in ke(e)}function baseIntersection(e,t,i){for(var s=i?arrayIncludesWith:arrayIncludes,a=e[0].length,o=e.length,d=o,u=r(o),l=1/0,c=[];d--;){var p=e[d];d&&t&&(p=arrayMap(p,baseUnary(t))),l=Ft(p.length,l),u[d]=!i&&(t||a>=120&&p.length>=120)?new SetCache(d&&p):n}p=e[0];var h=-1,y=u[0];e:for(;++h<a&&c.length<l;){var g=p[h],m=t?t(g):g;if(g=i||0!==g?g:0,!(y?cacheHas(y,m):s(c,m,i))){for(d=o;--d;){var b=u[d];if(!(b?cacheHas(b,m):s(e[d],m,i)))continue e}y&&y.push(m),c.push(g)}}return c}function baseInvoke(e,t,r){var i=null==(e=parent(e,t=castPath(t,e)))?e:e[toKey(last(t))];return null==i?n:apply(i,e,r)}function baseIsArguments(e){return isObjectLike(e)&&baseGetTag(e)==v}function baseIsEqual(e,t,r,i,s){return e===t||(null==e||null==t||!isObjectLike(e)&&!isObjectLike(t)?e!=e&&t!=t:function baseIsEqualDeep(e,t,r,i,s,a){var o=ci(e),d=ci(t),u=o?_:wr(e),l=d?_:wr(t),c=(u=u==v?k:u)==k,p=(l=l==v?k:l)==k,h=u==l;if(h&&hi(e)){if(!hi(t))return!1;o=!0,c=!1}if(h&&!c)return a||(a=new Stack),o||bi(e)?equalArrays(e,t,r,i,s,a):function equalByTag(e,t,r,i,n,s,a){switch(r){case L:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case q:return!(e.byteLength!=t.byteLength||!s(new $e(e),new $e(t)));case w:case E:case x:return eq(+e,+t);case T:return e.name==t.name&&e.message==t.message;case C:case N:return e==t+"";case O:var o=mapToArray;case B:var d=1&i;if(o||(o=setToArray),e.size!=t.size&&!d)return!1;var u=a.get(e);if(u)return u==t;i|=2,a.set(e,t);var l=equalArrays(o(e),o(t),i,n,s,a);return a.delete(e),l;case P:if(sr)return sr.call(e)==sr.call(t)}return!1}(e,t,u,r,i,s,a);if(!(1&r)){var y=c&&je.call(e,"__wrapped__"),g=p&&je.call(t,"__wrapped__");if(y||g){var m=y?e.value():e,b=g?t.value():t;return a||(a=new Stack),s(m,b,r,i,a)}}if(!h)return!1;return a||(a=new Stack),function equalObjects(e,t,r,i,s,a){var o=1&r,d=getAllKeys(e),u=d.length,l=getAllKeys(t),c=l.length;if(u!=c&&!o)return!1;var p=u;for(;p--;){var h=d[p];if(!(o?h in t:je.call(t,h)))return!1}var y=a.get(e),g=a.get(t);if(y&&g)return y==t&&g==e;var m=!0;a.set(e,t),a.set(t,e);var b=o;for(;++p<u;){var v=e[h=d[p]],_=t[h];if(i)var w=o?i(_,v,h,t,e,a):i(v,_,h,e,t,a);if(!(w===n?v===_||s(v,_,r,i,a):w)){m=!1;break}b||(b="constructor"==h)}if(m&&!b){var E=e.constructor,T=t.constructor;E==T||!("constructor"in e)||!("constructor"in t)||"function"==typeof E&&E instanceof E&&"function"==typeof T&&T instanceof T||(m=!1)}return a.delete(e),a.delete(t),m}(e,t,r,i,s,a)}(e,t,r,i,baseIsEqual,s))}function baseIsMatch(e,t,r,i){var s=r.length,a=s,o=!i;if(null==e)return!a;for(e=ke(e);s--;){var d=r[s];if(o&&d[2]?d[1]!==e[d[0]]:!(d[0]in e))return!1}for(;++s<a;){var u=(d=r[s])[0],l=e[u],c=d[1];if(o&&d[2]){if(l===n&&!(u in e))return!1}else{var p=new Stack;if(i)var h=i(l,c,u,e,t,p);if(!(h===n?baseIsEqual(c,l,3,i,p):h))return!1}}return!0}function baseIsNative(e){return!(!isObject(e)||function isMasked(e){return!!Ue&&Ue in e}(e))&&(isFunction(e)?We:Ee).test(toSource(e))}function baseIteratee(e){return"function"==typeof e?e:null==e?identity:"object"==typeof e?ci(e)?baseMatchesProperty(e[0],e[1]):baseMatches(e):property(e)}function baseKeys(e){if(!isPrototype(e))return Nt(e);var t=[];for(var r in ke(e))je.call(e,r)&&"constructor"!=r&&t.push(r);return t}function baseKeysIn(e){if(!isObject(e))return function nativeKeysIn(e){var t=[];if(null!=e)for(var r in ke(e))t.push(r);return t}(e);var t=isPrototype(e),r=[];for(var i in e)("constructor"!=i||!t&&je.call(e,i))&&r.push(i);return r}function baseLt(e,t){return e<t}function baseMap(e,t){var i=-1,n=isArrayLike(e)?r(e.length):[];return ur(e,(function(e,r,s){n[++i]=t(e,r,s)})),n}function baseMatches(e){var t=getMatchData(e);return 1==t.length&&t[0][2]?matchesStrictComparable(t[0][0],t[0][1]):function(r){return r===e||baseIsMatch(r,e,t)}}function baseMatchesProperty(e,t){return isKey(e)&&isStrictComparable(t)?matchesStrictComparable(toKey(e),t):function(r){var i=get(r,e);return i===n&&i===t?hasIn(r,e):baseIsEqual(t,i,3)}}function baseMerge(e,t,r,i,s){e!==t&&cr(t,(function(a,o){if(s||(s=new Stack),isObject(a))!function baseMergeDeep(e,t,r,i,s,a,o){var d=safeGet(e,r),u=safeGet(t,r),l=o.get(u);if(l)return void assignMergeValue(e,r,l);var c=a?a(d,u,r+"",e,t,o):n,p=c===n;if(p){var h=ci(u),y=!h&&hi(u),g=!h&&!y&&bi(u);c=u,h||y||g?ci(d)?c=d:isArrayLikeObject(d)?c=copyArray(d):y?(p=!1,c=cloneBuffer(u,!0)):g?(p=!1,c=cloneTypedArray(u,!0)):c=[]:isPlainObject(u)||li(u)?(c=d,li(d)?c=toPlainObject(d):isObject(d)&&!isFunction(d)||(c=initCloneObject(u))):p=!1}p&&(o.set(u,c),s(c,u,i,a,o),o.delete(u));assignMergeValue(e,r,c)}(e,t,o,r,baseMerge,i,s);else{var d=i?i(safeGet(e,o),a,o+"",e,t,s):n;d===n&&(d=a),assignMergeValue(e,o,d)}}),keysIn)}function baseNth(e,t){var r=e.length;if(r)return isIndex(t+=t<0?r:0,r)?e[t]:n}function baseOrderBy(e,t,r){t=t.length?arrayMap(t,(function(e){return ci(e)?function(t){return baseGet(t,1===e.length?e[0]:e)}:e})):[identity];var i=-1;t=arrayMap(t,baseUnary(getIteratee()));var n=baseMap(e,(function(e,r,n){var s=arrayMap(t,(function(t){return t(e)}));return{criteria:s,index:++i,value:e}}));return function baseSortBy(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}(n,(function(e,t){return function compareMultiple(e,t,r){var i=-1,n=e.criteria,s=t.criteria,a=n.length,o=r.length;for(;++i<a;){var d=compareAscending(n[i],s[i]);if(d)return i>=o?d:d*("desc"==r[i]?-1:1)}return e.index-t.index}(e,t,r)}))}function basePickBy(e,t,r){for(var i=-1,n=t.length,s={};++i<n;){var a=t[i],o=baseGet(e,a);r(o,a)&&baseSet(s,castPath(a,e),o)}return s}function basePullAll(e,t,r,i){var n=i?baseIndexOfWith:baseIndexOf,s=-1,a=t.length,o=e;for(e===t&&(t=copyArray(t)),r&&(o=arrayMap(e,baseUnary(r)));++s<a;)for(var d=0,u=t[s],l=r?r(u):u;(d=n(o,l,d,i))>-1;)o!==e&&Qe.call(o,d,1),Qe.call(e,d,1);return e}function basePullAt(e,t){for(var r=e?t.length:0,i=r-1;r--;){var n=t[r];if(r==i||n!==s){var s=n;isIndex(n)?Qe.call(e,n,1):baseUnset(e,n)}}return e}function baseRandom(e,t){return e+wt(Ht()*(t-e+1))}function baseRepeat(e,t){var r="";if(!e||t<1||t>y)return r;do{t%2&&(r+=e),(t=wt(t/2))&&(e+=e)}while(t);return r}function baseRest(e,t){return Ar(overRest(e,t,identity),e+"")}function baseSample(e){return arraySample(values(e))}function baseSampleSize(e,t){var r=values(e);return shuffleSelf(r,baseClamp(t,0,r.length))}function baseSet(e,t,r,i){if(!isObject(e))return e;for(var s=-1,a=(t=castPath(t,e)).length,o=a-1,d=e;null!=d&&++s<a;){var u=toKey(t[s]),l=r;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(s!=o){var c=d[u];(l=i?i(c,u,d):n)===n&&(l=isObject(c)?c:isIndex(t[s+1])?[]:{})}assignValue(d,u,l),d=d[u]}return e}var hr=Jt?function(e,t){return Jt.set(e,t),e}:identity,fr=it?function(e,t){return it(e,"toString",{configurable:!0,enumerable:!1,value:constant(t),writable:!0})}:identity;function baseShuffle(e){return shuffleSelf(values(e))}function baseSlice(e,t,i){var n=-1,s=e.length;t<0&&(t=-t>s?0:s+t),(i=i>s?s:i)<0&&(i+=s),s=t>i?0:i-t>>>0,t>>>=0;for(var a=r(s);++n<s;)a[n]=e[n+t];return a}function baseSome(e,t){var r;return ur(e,(function(e,i,n){return!(r=t(e,i,n))})),!!r}function baseSortedIndex(e,t,r){var i=0,n=null==e?i:e.length;if("number"==typeof t&&t==t&&n<=2147483647){for(;i<n;){var s=i+n>>>1,a=e[s];null!==a&&!isSymbol(a)&&(r?a<=t:a<t)?i=s+1:n=s}return n}return baseSortedIndexBy(e,t,identity,r)}function baseSortedIndexBy(e,t,r,i){var s=0,a=null==e?0:e.length;if(0===a)return 0;for(var o=(t=r(t))!=t,d=null===t,u=isSymbol(t),l=t===n;s<a;){var c=wt((s+a)/2),p=r(e[c]),h=p!==n,y=null===p,g=p==p,m=isSymbol(p);if(o)var b=i||g;else b=l?g&&(i||h):d?g&&h&&(i||!y):u?g&&h&&!y&&(i||!m):!y&&!m&&(i?p<=t:p<t);b?s=c+1:a=c}return Ft(a,4294967294)}function baseSortedUniq(e,t){for(var r=-1,i=e.length,n=0,s=[];++r<i;){var a=e[r],o=t?t(a):a;if(!r||!eq(o,d)){var d=o;s[n++]=0===a?0:a}}return s}function baseToNumber(e){return"number"==typeof e?e:isSymbol(e)?g:+e}function baseToString(e){if("string"==typeof e)return e;if(ci(e))return arrayMap(e,baseToString)+"";if(isSymbol(e))return ar?ar.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function baseUniq(e,t,r){var i=-1,n=arrayIncludes,s=e.length,a=!0,o=[],d=o;if(r)a=!1,n=arrayIncludesWith;else if(s>=200){var u=t?null:mr(e);if(u)return setToArray(u);a=!1,n=cacheHas,d=new SetCache}else d=t?[]:o;e:for(;++i<s;){var l=e[i],c=t?t(l):l;if(l=r||0!==l?l:0,a&&c==c){for(var p=d.length;p--;)if(d[p]===c)continue e;t&&d.push(c),o.push(l)}else n(d,c,r)||(d!==o&&d.push(c),o.push(l))}return o}function baseUnset(e,t){return null==(e=parent(e,t=castPath(t,e)))||delete e[toKey(last(t))]}function baseUpdate(e,t,r,i){return baseSet(e,t,r(baseGet(e,t)),i)}function baseWhile(e,t,r,i){for(var n=e.length,s=i?n:-1;(i?s--:++s<n)&&t(e[s],s,e););return r?baseSlice(e,i?0:s,i?s+1:n):baseSlice(e,i?s+1:0,i?n:s)}function baseWrapperValue(e,t){var r=e;return r instanceof LazyWrapper&&(r=r.value()),arrayReduce(t,(function(e,t){return t.func.apply(t.thisArg,arrayPush([e],t.args))}),r)}function baseXor(e,t,i){var n=e.length;if(n<2)return n?baseUniq(e[0]):[];for(var s=-1,a=r(n);++s<n;)for(var o=e[s],d=-1;++d<n;)d!=s&&(a[s]=baseDifference(a[s]||o,e[d],t,i));return baseUniq(baseFlatten(a,1),t,i)}function baseZipObject(e,t,r){for(var i=-1,s=e.length,a=t.length,o={};++i<s;){var d=i<a?t[i]:n;r(o,e[i],d)}return o}function castArrayLikeObject(e){return isArrayLikeObject(e)?e:[]}function castFunction(e){return"function"==typeof e?e:identity}function castPath(e,t){return ci(e)?e:isKey(e,t)?[e]:Mr(toString(e))}var yr=baseRest;function castSlice(e,t,r){var i=e.length;return r=r===n?i:r,!t&&r>=i?e:baseSlice(e,t,r)}var gr=at||function(e){return Et.clearTimeout(e)};function cloneBuffer(e,t){if(t)return e.slice();var r=e.length,i=Ye?Ye(r):new e.constructor(r);return e.copy(i),i}function cloneArrayBuffer(e){var t=new e.constructor(e.byteLength);return new $e(t).set(new $e(e)),t}function cloneTypedArray(e,t){var r=t?cloneArrayBuffer(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function compareAscending(e,t){if(e!==t){var r=e!==n,i=null===e,s=e==e,a=isSymbol(e),o=t!==n,d=null===t,u=t==t,l=isSymbol(t);if(!d&&!l&&!a&&e>t||a&&o&&u&&!d&&!l||i&&o&&u||!r&&u||!s)return 1;if(!i&&!a&&!l&&e<t||l&&r&&s&&!i&&!a||d&&r&&s||!o&&s||!u)return-1}return 0}function composeArgs(e,t,i,n){for(var s=-1,a=e.length,o=i.length,d=-1,u=t.length,l=jt(a-o,0),c=r(u+l),p=!n;++d<u;)c[d]=t[d];for(;++s<o;)(p||s<a)&&(c[i[s]]=e[s]);for(;l--;)c[d++]=e[s++];return c}function composeArgsRight(e,t,i,n){for(var s=-1,a=e.length,o=-1,d=i.length,u=-1,l=t.length,c=jt(a-d,0),p=r(c+l),h=!n;++s<c;)p[s]=e[s];for(var y=s;++u<l;)p[y+u]=t[u];for(;++o<d;)(h||s<a)&&(p[y+i[o]]=e[s++]);return p}function copyArray(e,t){var i=-1,n=e.length;for(t||(t=r(n));++i<n;)t[i]=e[i];return t}function copyObject(e,t,r,i){var s=!r;r||(r={});for(var a=-1,o=t.length;++a<o;){var d=t[a],u=i?i(r[d],e[d],d,r,e):n;u===n&&(u=e[d]),s?baseAssignValue(r,d,u):assignValue(r,d,u)}return r}function createAggregator(e,t){return function(r,i){var n=ci(r)?arrayAggregator:baseAggregator,s=t?t():{};return n(r,e,getIteratee(i,2),s)}}function createAssigner(e){return baseRest((function(t,r){var i=-1,s=r.length,a=s>1?r[s-1]:n,o=s>2?r[2]:n;for(a=e.length>3&&"function"==typeof a?(s--,a):n,o&&isIterateeCall(r[0],r[1],o)&&(a=s<3?n:a,s=1),t=ke(t);++i<s;){var d=r[i];d&&e(t,d,i,a)}return t}))}function createBaseEach(e,t){return function(r,i){if(null==r)return r;if(!isArrayLike(r))return e(r,i);for(var n=r.length,s=t?n:-1,a=ke(r);(t?s--:++s<n)&&!1!==i(a[s],s,a););return r}}function createBaseFor(e){return function(t,r,i){for(var n=-1,s=ke(t),a=i(t),o=a.length;o--;){var d=a[e?o:++n];if(!1===r(s[d],d,s))break}return t}}function createCaseFirst(e){return function(t){var r=hasUnicode(t=toString(t))?stringToArray(t):n,i=r?r[0]:t.charAt(0),s=r?castSlice(r,1).join(""):t.slice(1);return i[e]()+s}}function createCompounder(e){return function(t){return arrayReduce(words(deburr(t).replace(nt,"")),e,"")}}function createCtor(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=dr(e.prototype),i=e.apply(r,t);return isObject(i)?i:r}}function createFind(e){return function(t,r,i){var s=ke(t);if(!isArrayLike(t)){var a=getIteratee(r,3);t=keys(t),r=function(e){return a(s[e],e,s)}}var o=e(t,r,i);return o>-1?s[a?t[o]:o]:n}}function createFlow(e){return flatRest((function(t){var r=t.length,i=r,a=LodashWrapper.prototype.thru;for(e&&t.reverse();i--;){var o=t[i];if("function"!=typeof o)throw new Be(s);if(a&&!d&&"wrapper"==getFuncName(o))var d=new LodashWrapper([],!0)}for(i=d?i:r;++i<r;){var u=getFuncName(o=t[i]),l="wrapper"==u?br(o):n;d=l&&isLaziable(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?d[getFuncName(l[0])].apply(d,l[3]):1==o.length&&isLaziable(o)?d[u]():d.thru(o)}return function(){var e=arguments,i=e[0];if(d&&1==e.length&&ci(i))return d.plant(i).value();for(var n=0,s=r?t[n].apply(this,e):i;++n<r;)s=t[n].call(this,s);return s}}))}function createHybrid(e,t,i,s,a,o,d,u,l,p){var h=t&c,y=1&t,g=2&t,m=24&t,b=512&t,v=g?n:createCtor(e);return function wrapper(){for(var c=arguments.length,_=r(c),w=c;w--;)_[w]=arguments[w];if(m)var E=getHolder(wrapper),T=function countHolders(e,t){for(var r=e.length,i=0;r--;)e[r]===t&&++i;return i}(_,E);if(s&&(_=composeArgs(_,s,a,m)),o&&(_=composeArgsRight(_,o,d,m)),c-=T,m&&c<p){var A=replaceHolders(_,E);return createRecurry(e,t,createHybrid,wrapper.placeholder,i,_,A,u,l,p-c)}var M=y?i:this,O=g?M[e]:e;return c=_.length,u?_=function reorder(e,t){var r=e.length,i=Ft(t.length,r),s=copyArray(e);for(;i--;){var a=t[i];e[i]=isIndex(a,r)?s[a]:n}return e}(_,u):b&&c>1&&_.reverse(),h&&l<c&&(_.length=l),this&&this!==Et&&this instanceof wrapper&&(O=v||createCtor(O)),O.apply(M,_)}}function createInverter(e,t){return function(r,i){return function baseInverter(e,t,r,i){return baseForOwn(e,(function(e,n,s){t(i,r(e),n,s)})),i}(r,e,t(i),{})}}function createMathOperation(e,t){return function(r,i){var s;if(r===n&&i===n)return t;if(r!==n&&(s=r),i!==n){if(s===n)return i;"string"==typeof r||"string"==typeof i?(r=baseToString(r),i=baseToString(i)):(r=baseToNumber(r),i=baseToNumber(i)),s=e(r,i)}return s}}function createOver(e){return flatRest((function(t){return t=arrayMap(t,baseUnary(getIteratee())),baseRest((function(r){var i=this;return e(t,(function(e){return apply(e,i,r)}))}))}))}function createPadding(e,t){var r=(t=t===n?" ":baseToString(t)).length;if(r<2)return r?baseRepeat(t,e):t;var i=baseRepeat(t,_t(e/stringSize(t)));return hasUnicode(t)?castSlice(stringToArray(i),0,e).join(""):i.slice(0,e)}function createRange(e){return function(t,i,s){return s&&"number"!=typeof s&&isIterateeCall(t,i,s)&&(i=s=n),t=toFinite(t),i===n?(i=t,t=0):i=toFinite(i),function baseRange(e,t,i,n){for(var s=-1,a=jt(_t((t-e)/(i||1)),0),o=r(a);a--;)o[n?a:++s]=e,e+=i;return o}(t,i,s=s===n?t<i?1:-1:toFinite(s),e)}}function createRelationalOperation(e){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=toNumber(t),r=toNumber(r)),e(t,r)}}function createRecurry(e,t,r,i,s,a,o,d,c,p){var h=8&t;t|=h?u:l,4&(t&=~(h?l:u))||(t&=-4);var y=[e,t,s,h?a:n,h?o:n,h?n:a,h?n:o,d,c,p],g=r.apply(n,y);return isLaziable(e)&&Tr(g,y),g.placeholder=i,setWrapToString(g,e,t)}function createRound(e){var t=xe[e];return function(e,r){if(e=toNumber(e),(r=null==r?0:Ft(toInteger(r),292))&&Mt(e)){var i=(toString(e)+"e").split("e");return+((i=(toString(t(i[0]+"e"+(+i[1]+r)))+"e").split("e"))[0]+"e"+(+i[1]-r))}return t(e)}}var mr=$t&&1/setToArray(new $t([,-0]))[1]==h?function(e){return new $t(e)}:noop;function createToPairs(e){return function(t){var r=wr(t);return r==O?mapToArray(t):r==B?setToPairs(t):function baseToPairs(e,t){return arrayMap(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function createWrap(e,t,i,a,h,y,g,m){var b=2&t;if(!b&&"function"!=typeof e)throw new Be(s);var v=a?a.length:0;if(v||(t&=-97,a=h=n),g=g===n?g:jt(toInteger(g),0),m=m===n?m:toInteger(m),v-=h?h.length:0,t&l){var _=a,w=h;a=h=n}var E=b?n:br(e),T=[e,t,i,a,h,_,w,y,g,m];if(E&&function mergeData(e,t){var r=e[1],i=t[1],n=r|i,s=n<131,a=i==c&&8==r||i==c&&r==p&&e[7].length<=t[8]||384==i&&t[7].length<=t[8]&&8==r;if(!s&&!a)return e;1&i&&(e[2]=t[2],n|=1&r?0:4);var d=t[3];if(d){var u=e[3];e[3]=u?composeArgs(u,d,t[4]):d,e[4]=u?replaceHolders(e[3],o):t[4]}(d=t[5])&&(u=e[5],e[5]=u?composeArgsRight(u,d,t[6]):d,e[6]=u?replaceHolders(e[5],o):t[6]);(d=t[7])&&(e[7]=d);i&c&&(e[8]=null==e[8]?t[8]:Ft(e[8],t[8]));null==e[9]&&(e[9]=t[9]);return e[0]=t[0],e[1]=n,e}(T,E),e=T[0],t=T[1],i=T[2],a=T[3],h=T[4],!(m=T[9]=T[9]===n?b?0:e.length:jt(T[9]-v,0))&&24&t&&(t&=-25),t&&1!=t)A=8==t||t==d?function createCurry(e,t,i){var s=createCtor(e);return function wrapper(){for(var a=arguments.length,o=r(a),d=a,u=getHolder(wrapper);d--;)o[d]=arguments[d];var l=a<3&&o[0]!==u&&o[a-1]!==u?[]:replaceHolders(o,u);return(a-=l.length)<i?createRecurry(e,t,createHybrid,wrapper.placeholder,n,o,l,n,n,i-a):apply(this&&this!==Et&&this instanceof wrapper?s:e,this,o)}}(e,t,m):t!=u&&33!=t||h.length?createHybrid.apply(n,T):function createPartial(e,t,i,n){var s=1&t,a=createCtor(e);return function wrapper(){for(var t=-1,o=arguments.length,d=-1,u=n.length,l=r(u+o),c=this&&this!==Et&&this instanceof wrapper?a:e;++d<u;)l[d]=n[d];for(;o--;)l[d++]=arguments[++t];return apply(c,s?i:this,l)}}(e,t,i,a);else var A=function createBind(e,t,r){var i=1&t,n=createCtor(e);return function wrapper(){return(this&&this!==Et&&this instanceof wrapper?n:e).apply(i?r:this,arguments)}}(e,t,i);return setWrapToString((E?hr:Tr)(A,T),e,t)}function customDefaultsAssignIn(e,t,r,i){return e===n||eq(e,De[r])&&!je.call(i,r)?t:e}function customDefaultsMerge(e,t,r,i,s,a){return isObject(e)&&isObject(t)&&(a.set(t,e),baseMerge(e,t,n,customDefaultsMerge,a),a.delete(t)),e}function customOmitClone(e){return isPlainObject(e)?n:e}function equalArrays(e,t,r,i,s,a){var o=1&r,d=e.length,u=t.length;if(d!=u&&!(o&&u>d))return!1;var l=a.get(e),c=a.get(t);if(l&&c)return l==t&&c==e;var p=-1,h=!0,y=2&r?new SetCache:n;for(a.set(e,t),a.set(t,e);++p<d;){var g=e[p],m=t[p];if(i)var b=o?i(m,g,p,t,e,a):i(g,m,p,e,t,a);if(b!==n){if(b)continue;h=!1;break}if(y){if(!arraySome(t,(function(e,t){if(!cacheHas(y,t)&&(g===e||s(g,e,r,i,a)))return y.push(t)}))){h=!1;break}}else if(g!==m&&!s(g,m,r,i,a)){h=!1;break}}return a.delete(e),a.delete(t),h}function flatRest(e){return Ar(overRest(e,n,flatten),e+"")}function getAllKeys(e){return baseGetAllKeys(e,keys,vr)}function getAllKeysIn(e){return baseGetAllKeys(e,keysIn,_r)}var br=Jt?function(e){return Jt.get(e)}:noop;function getFuncName(e){for(var t=e.name+"",r=Zt[t],i=je.call(Zt,t)?r.length:0;i--;){var n=r[i],s=n.func;if(null==s||s==e)return n.name}return t}function getHolder(e){return(je.call(lodash,"placeholder")?lodash:e).placeholder}function getIteratee(){var e=lodash.iteratee||iteratee;return e=e===iteratee?baseIteratee:e,arguments.length?e(arguments[0],arguments[1]):e}function getMapData(e,t){var r=e.__data__;return function isKeyable(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map}function getMatchData(e){for(var t=keys(e),r=t.length;r--;){var i=t[r],n=e[i];t[r]=[i,n,isStrictComparable(n)]}return t}function getNative(e,t){var r=function getValue(e,t){return null==e?n:e[t]}(e,t);return baseIsNative(r)?r:n}var vr=Tt?function(e){return null==e?[]:(e=ke(e),arrayFilter(Tt(e),(function(t){return Ze.call(e,t)})))}:stubArray,_r=Tt?function(e){for(var t=[];e;)arrayPush(t,vr(e)),e=Xe(e);return t}:stubArray,wr=baseGetTag;function hasPath(e,t,r){for(var i=-1,n=(t=castPath(t,e)).length,s=!1;++i<n;){var a=toKey(t[i]);if(!(s=null!=e&&r(e,a)))break;e=e[a]}return s||++i!=n?s:!!(n=null==e?0:e.length)&&isLength(n)&&isIndex(a,n)&&(ci(e)||li(e))}function initCloneObject(e){return"function"!=typeof e.constructor||isPrototype(e)?{}:dr(Xe(e))}function isFlattenable(e){return ci(e)||li(e)||!!(et&&e&&e[et])}function isIndex(e,t){var r=typeof e;return!!(t=null==t?y:t)&&("number"==r||"symbol"!=r&&Se.test(e))&&e>-1&&e%1==0&&e<t}function isIterateeCall(e,t,r){if(!isObject(r))return!1;var i=typeof t;return!!("number"==i?isArrayLike(r)&&isIndex(t,r.length):"string"==i&&t in r)&&eq(r[t],e)}function isKey(e,t){if(ci(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!isSymbol(e))||(ae.test(e)||!se.test(e)||null!=t&&e in ke(t))}function isLaziable(e){var t=getFuncName(e),r=lodash[t];if("function"!=typeof r||!(t in LazyWrapper.prototype))return!1;if(e===r)return!0;var i=br(r);return!!i&&e===i[0]}(Wt&&wr(new Wt(new ArrayBuffer(1)))!=L||Kt&&wr(new Kt)!=O||Vt&&wr(Vt.resolve())!=I||$t&&wr(new $t)!=B||Yt&&wr(new Yt)!=D)&&(wr=function(e){var t=baseGetTag(e),r=t==k?e.constructor:n,i=r?toSource(r):"";if(i)switch(i){case Qt:return L;case er:return O;case tr:return I;case rr:return B;case ir:return D}return t});var Er=qe?isFunction:stubFalse;function isPrototype(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||De)}function isStrictComparable(e){return e==e&&!isObject(e)}function matchesStrictComparable(e,t){return function(r){return null!=r&&(r[e]===t&&(t!==n||e in ke(r)))}}function overRest(e,t,i){return t=jt(t===n?e.length-1:t,0),function(){for(var n=arguments,s=-1,a=jt(n.length-t,0),o=r(a);++s<a;)o[s]=n[t+s];s=-1;for(var d=r(t+1);++s<t;)d[s]=n[s];return d[t]=i(o),apply(e,this,d)}}function parent(e,t){return t.length<2?e:baseGet(e,baseSlice(t,0,-1))}function safeGet(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Tr=shortOut(hr),Sr=mt||function(e,t){return Et.setTimeout(e,t)},Ar=shortOut(fr);function setWrapToString(e,t,r){var i=t+"";return Ar(e,function insertWrapDetails(e,t){var r=t.length;if(!r)return e;var i=r-1;return t[i]=(r>1?"& ":"")+t[i],t=t.join(r>2?", ":" "),e.replace(pe,"{\n/* [wrapped with "+t+"] */\n")}(i,function updateWrapDetails(e,t){return arrayEach(b,(function(r){var i="_."+r[0];t&r[1]&&!arrayIncludes(e,i)&&e.push(i)})),e.sort()}(function getWrapDetails(e){var t=e.match(he);return t?t[1].split(fe):[]}(i),r)))}function shortOut(e){var t=0,r=0;return function(){var i=Ut(),s=16-(i-r);if(r=i,s>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(n,arguments)}}function shuffleSelf(e,t){var r=-1,i=e.length,s=i-1;for(t=t===n?i:t;++r<t;){var a=baseRandom(r,s),o=e[a];e[a]=e[r],e[r]=o}return e.length=t,e}var Mr=function memoizeCapped(e){var t=memoize(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(oe,(function(e,r,i,n){t.push(i?n.replace(me,"$1"):r||e)})),t}));function toKey(e){if("string"==typeof e||isSymbol(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function toSource(e){if(null!=e){try{return Le.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function wrapperClone(e){if(e instanceof LazyWrapper)return e.clone();var t=new LodashWrapper(e.__wrapped__,e.__chain__);return t.__actions__=copyArray(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Rr=baseRest((function(e,t){return isArrayLikeObject(e)?baseDifference(e,baseFlatten(t,1,isArrayLikeObject,!0)):[]})),Or=baseRest((function(e,t){var r=last(t);return isArrayLikeObject(r)&&(r=n),isArrayLikeObject(e)?baseDifference(e,baseFlatten(t,1,isArrayLikeObject,!0),getIteratee(r,2)):[]})),xr=baseRest((function(e,t){var r=last(t);return isArrayLikeObject(r)&&(r=n),isArrayLikeObject(e)?baseDifference(e,baseFlatten(t,1,isArrayLikeObject,!0),n,r):[]}));function findIndex(e,t,r){var i=null==e?0:e.length;if(!i)return-1;var n=null==r?0:toInteger(r);return n<0&&(n=jt(i+n,0)),baseFindIndex(e,getIteratee(t,3),n)}function findLastIndex(e,t,r){var i=null==e?0:e.length;if(!i)return-1;var s=i-1;return r!==n&&(s=toInteger(r),s=r<0?jt(i+s,0):Ft(s,i-1)),baseFindIndex(e,getIteratee(t,3),s,!0)}function flatten(e){return(null==e?0:e.length)?baseFlatten(e,1):[]}function head(e){return e&&e.length?e[0]:n}var kr=baseRest((function(e){var t=arrayMap(e,castArrayLikeObject);return t.length&&t[0]===e[0]?baseIntersection(t):[]})),Ir=baseRest((function(e){var t=last(e),r=arrayMap(e,castArrayLikeObject);return t===last(r)?t=n:r.pop(),r.length&&r[0]===e[0]?baseIntersection(r,getIteratee(t,2)):[]})),Cr=baseRest((function(e){var t=last(e),r=arrayMap(e,castArrayLikeObject);return(t="function"==typeof t?t:n)&&r.pop(),r.length&&r[0]===e[0]?baseIntersection(r,n,t):[]}));function last(e){var t=null==e?0:e.length;return t?e[t-1]:n}var Br=baseRest(pullAll);function pullAll(e,t){return e&&e.length&&t&&t.length?basePullAll(e,t):e}var Nr=flatRest((function(e,t){var r=null==e?0:e.length,i=baseAt(e,t);return basePullAt(e,arrayMap(t,(function(e){return isIndex(e,r)?+e:e})).sort(compareAscending)),i}));function reverse(e){return null==e?e:Gt.call(e)}var Pr=baseRest((function(e){return baseUniq(baseFlatten(e,1,isArrayLikeObject,!0))})),Dr=baseRest((function(e){var t=last(e);return isArrayLikeObject(t)&&(t=n),baseUniq(baseFlatten(e,1,isArrayLikeObject,!0),getIteratee(t,2))})),qr=baseRest((function(e){var t=last(e);return t="function"==typeof t?t:n,baseUniq(baseFlatten(e,1,isArrayLikeObject,!0),n,t)}));function unzip(e){if(!e||!e.length)return[];var t=0;return e=arrayFilter(e,(function(e){if(isArrayLikeObject(e))return t=jt(e.length,t),!0})),baseTimes(t,(function(t){return arrayMap(e,baseProperty(t))}))}function unzipWith(e,t){if(!e||!e.length)return[];var r=unzip(e);return null==t?r:arrayMap(r,(function(e){return apply(t,n,e)}))}var Lr=baseRest((function(e,t){return isArrayLikeObject(e)?baseDifference(e,t):[]})),jr=baseRest((function(e){return baseXor(arrayFilter(e,isArrayLikeObject))})),Fr=baseRest((function(e){var t=last(e);return isArrayLikeObject(t)&&(t=n),baseXor(arrayFilter(e,isArrayLikeObject),getIteratee(t,2))})),Ur=baseRest((function(e){var t=last(e);return t="function"==typeof t?t:n,baseXor(arrayFilter(e,isArrayLikeObject),n,t)})),zr=baseRest(unzip);var Hr=baseRest((function(e){var t=e.length,r=t>1?e[t-1]:n;return r="function"==typeof r?(e.pop(),r):n,unzipWith(e,r)}));function chain(e){var t=lodash(e);return t.__chain__=!0,t}function thru(e,t){return t(e)}var Gr=flatRest((function(e){var t=e.length,r=t?e[0]:0,i=this.__wrapped__,interceptor=function(t){return baseAt(t,e)};return!(t>1||this.__actions__.length)&&i instanceof LazyWrapper&&isIndex(r)?((i=i.slice(r,+r+(t?1:0))).__actions__.push({func:thru,args:[interceptor],thisArg:n}),new LodashWrapper(i,this.__chain__).thru((function(e){return t&&!e.length&&e.push(n),e}))):this.thru(interceptor)}));var Wr=createAggregator((function(e,t,r){je.call(e,r)?++e[r]:baseAssignValue(e,r,1)}));var Kr=createFind(findIndex),Vr=createFind(findLastIndex);function forEach(e,t){return(ci(e)?arrayEach:ur)(e,getIteratee(t,3))}function forEachRight(e,t){return(ci(e)?arrayEachRight:lr)(e,getIteratee(t,3))}var $r=createAggregator((function(e,t,r){je.call(e,r)?e[r].push(t):baseAssignValue(e,r,[t])}));var Yr=baseRest((function(e,t,i){var n=-1,s="function"==typeof t,a=isArrayLike(e)?r(e.length):[];return ur(e,(function(e){a[++n]=s?apply(t,e,i):baseInvoke(e,t,i)})),a})),Xr=createAggregator((function(e,t,r){baseAssignValue(e,r,t)}));function map(e,t){return(ci(e)?arrayMap:baseMap)(e,getIteratee(t,3))}var Jr=createAggregator((function(e,t,r){e[r?0:1].push(t)}),(function(){return[[],[]]}));var Zr=baseRest((function(e,t){if(null==e)return[];var r=t.length;return r>1&&isIterateeCall(e,t[0],t[1])?t=[]:r>2&&isIterateeCall(t[0],t[1],t[2])&&(t=[t[0]]),baseOrderBy(e,baseFlatten(t,1),[])})),Qr=dt||function(){return Et.Date.now()};function ary(e,t,r){return t=r?n:t,t=e&&null==t?e.length:t,createWrap(e,c,n,n,n,n,t)}function before(e,t){var r;if("function"!=typeof t)throw new Be(s);return e=toInteger(e),function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=n),r}}var ei=baseRest((function(e,t,r){var i=1;if(r.length){var n=replaceHolders(r,getHolder(ei));i|=u}return createWrap(e,i,t,r,n)})),ti=baseRest((function(e,t,r){var i=3;if(r.length){var n=replaceHolders(r,getHolder(ti));i|=u}return createWrap(t,i,e,r,n)}));function debounce(e,t,r){var i,a,o,d,u,l,c=0,p=!1,h=!1,y=!0;if("function"!=typeof e)throw new Be(s);function invokeFunc(t){var r=i,s=a;return i=a=n,c=t,d=e.apply(s,r)}function shouldInvoke(e){var r=e-l;return l===n||r>=t||r<0||h&&e-c>=o}function timerExpired(){var e=Qr();if(shouldInvoke(e))return trailingEdge(e);u=Sr(timerExpired,function remainingWait(e){var r=t-(e-l);return h?Ft(r,o-(e-c)):r}(e))}function trailingEdge(e){return u=n,y&&i?invokeFunc(e):(i=a=n,d)}function debounced(){var e=Qr(),r=shouldInvoke(e);if(i=arguments,a=this,l=e,r){if(u===n)return function leadingEdge(e){return c=e,u=Sr(timerExpired,t),p?invokeFunc(e):d}(l);if(h)return gr(u),u=Sr(timerExpired,t),invokeFunc(l)}return u===n&&(u=Sr(timerExpired,t)),d}return t=toNumber(t)||0,isObject(r)&&(p=!!r.leading,o=(h="maxWait"in r)?jt(toNumber(r.maxWait)||0,t):o,y="trailing"in r?!!r.trailing:y),debounced.cancel=function cancel(){u!==n&&gr(u),c=0,i=l=a=u=n},debounced.flush=function flush(){return u===n?d:trailingEdge(Qr())},debounced}var ri=baseRest((function(e,t){return baseDelay(e,1,t)})),ii=baseRest((function(e,t,r){return baseDelay(e,toNumber(t)||0,r)}));function memoize(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Be(s);var memoized=function(){var r=arguments,i=t?t.apply(this,r):r[0],n=memoized.cache;if(n.has(i))return n.get(i);var s=e.apply(this,r);return memoized.cache=n.set(i,s)||n,s};return memoized.cache=new(memoize.Cache||MapCache),memoized}function negate(e){if("function"!=typeof e)throw new Be(s);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}memoize.Cache=MapCache;var ni=yr((function(e,t){var r=(t=1==t.length&&ci(t[0])?arrayMap(t[0],baseUnary(getIteratee())):arrayMap(baseFlatten(t,1),baseUnary(getIteratee()))).length;return baseRest((function(i){for(var n=-1,s=Ft(i.length,r);++n<s;)i[n]=t[n].call(this,i[n]);return apply(e,this,i)}))})),si=baseRest((function(e,t){var r=replaceHolders(t,getHolder(si));return createWrap(e,u,n,t,r)})),ai=baseRest((function(e,t){var r=replaceHolders(t,getHolder(ai));return createWrap(e,l,n,t,r)})),oi=flatRest((function(e,t){return createWrap(e,p,n,n,n,t)}));function eq(e,t){return e===t||e!=e&&t!=t}var di=createRelationalOperation(baseGt),ui=createRelationalOperation((function(e,t){return e>=t})),li=baseIsArguments(function(){return arguments}())?baseIsArguments:function(e){return isObjectLike(e)&&je.call(e,"callee")&&!Ze.call(e,"callee")},ci=r.isArray,pi=Ot?baseUnary(Ot):function baseIsArrayBuffer(e){return isObjectLike(e)&&baseGetTag(e)==q};function isArrayLike(e){return null!=e&&isLength(e.length)&&!isFunction(e)}function isArrayLikeObject(e){return isObjectLike(e)&&isArrayLike(e)}var hi=St||stubFalse,fi=xt?baseUnary(xt):function baseIsDate(e){return isObjectLike(e)&&baseGetTag(e)==E};function isError(e){if(!isObjectLike(e))return!1;var t=baseGetTag(e);return t==T||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!isPlainObject(e)}function isFunction(e){if(!isObject(e))return!1;var t=baseGetTag(e);return t==A||t==M||"[object AsyncFunction]"==t||"[object Proxy]"==t}function isInteger(e){return"number"==typeof e&&e==toInteger(e)}function isLength(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=y}function isObject(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function isObjectLike(e){return null!=e&&"object"==typeof e}var yi=kt?baseUnary(kt):function baseIsMap(e){return isObjectLike(e)&&wr(e)==O};function isNumber(e){return"number"==typeof e||isObjectLike(e)&&baseGetTag(e)==x}function isPlainObject(e){if(!isObjectLike(e)||baseGetTag(e)!=k)return!1;var t=Xe(e);if(null===t)return!0;var r=je.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&Le.call(r)==He}var gi=It?baseUnary(It):function baseIsRegExp(e){return isObjectLike(e)&&baseGetTag(e)==C};var mi=Ct?baseUnary(Ct):function baseIsSet(e){return isObjectLike(e)&&wr(e)==B};function isString(e){return"string"==typeof e||!ci(e)&&isObjectLike(e)&&baseGetTag(e)==N}function isSymbol(e){return"symbol"==typeof e||isObjectLike(e)&&baseGetTag(e)==P}var bi=Bt?baseUnary(Bt):function baseIsTypedArray(e){return isObjectLike(e)&&isLength(e.length)&&!!ht[baseGetTag(e)]};var vi=createRelationalOperation(baseLt),_i=createRelationalOperation((function(e,t){return e<=t}));function toArray(e){if(!e)return[];if(isArrayLike(e))return isString(e)?stringToArray(e):copyArray(e);if(tt&&e[tt])return function iteratorToArray(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}(e[tt]());var t=wr(e);return(t==O?mapToArray:t==B?setToArray:values)(e)}function toFinite(e){return e?(e=toNumber(e))===h||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function toInteger(e){var t=toFinite(e),r=t%1;return t==t?r?t-r:t:0}function toLength(e){return e?baseClamp(toInteger(e),0,m):0}function toNumber(e){if("number"==typeof e)return e;if(isSymbol(e))return g;if(isObject(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=isObject(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=baseTrim(e);var r=we.test(e);return r||Te.test(e)?vt(e.slice(2),r?2:8):_e.test(e)?g:+e}function toPlainObject(e){return copyObject(e,keysIn(e))}function toString(e){return null==e?"":baseToString(e)}var wi=createAssigner((function(e,t){if(isPrototype(t)||isArrayLike(t))copyObject(t,keys(t),e);else for(var r in t)je.call(t,r)&&assignValue(e,r,t[r])})),Ei=createAssigner((function(e,t){copyObject(t,keysIn(t),e)})),Ti=createAssigner((function(e,t,r,i){copyObject(t,keysIn(t),e,i)})),Si=createAssigner((function(e,t,r,i){copyObject(t,keys(t),e,i)})),Ai=flatRest(baseAt);var Mi=baseRest((function(e,t){e=ke(e);var r=-1,i=t.length,s=i>2?t[2]:n;for(s&&isIterateeCall(t[0],t[1],s)&&(i=1);++r<i;)for(var a=t[r],o=keysIn(a),d=-1,u=o.length;++d<u;){var l=o[d],c=e[l];(c===n||eq(c,De[l])&&!je.call(e,l))&&(e[l]=a[l])}return e})),Ri=baseRest((function(e){return e.push(n,customDefaultsMerge),apply(Ci,n,e)}));function get(e,t,r){var i=null==e?n:baseGet(e,t);return i===n?r:i}function hasIn(e,t){return null!=e&&hasPath(e,t,baseHasIn)}var Oi=createInverter((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=ze.call(t)),e[t]=r}),constant(identity)),xi=createInverter((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=ze.call(t)),je.call(e,t)?e[t].push(r):e[t]=[r]}),getIteratee),ki=baseRest(baseInvoke);function keys(e){return isArrayLike(e)?arrayLikeKeys(e):baseKeys(e)}function keysIn(e){return isArrayLike(e)?arrayLikeKeys(e,!0):baseKeysIn(e)}var Ii=createAssigner((function(e,t,r){baseMerge(e,t,r)})),Ci=createAssigner((function(e,t,r,i){baseMerge(e,t,r,i)})),Bi=flatRest((function(e,t){var r={};if(null==e)return r;var i=!1;t=arrayMap(t,(function(t){return t=castPath(t,e),i||(i=t.length>1),t})),copyObject(e,getAllKeysIn(e),r),i&&(r=baseClone(r,7,customOmitClone));for(var n=t.length;n--;)baseUnset(r,t[n]);return r}));var Ni=flatRest((function(e,t){return null==e?{}:function basePick(e,t){return basePickBy(e,t,(function(t,r){return hasIn(e,r)}))}(e,t)}));function pickBy(e,t){if(null==e)return{};var r=arrayMap(getAllKeysIn(e),(function(e){return[e]}));return t=getIteratee(t),basePickBy(e,r,(function(e,r){return t(e,r[0])}))}var Pi=createToPairs(keys),Di=createToPairs(keysIn);function values(e){return null==e?[]:baseValues(e,keys(e))}var qi=createCompounder((function(e,t,r){return t=t.toLowerCase(),e+(r?capitalize(t):t)}));function capitalize(e){return Gi(toString(e).toLowerCase())}function deburr(e){return(e=toString(e))&&e.replace(Ae,Pt).replace(st,"")}var Li=createCompounder((function(e,t,r){return e+(r?"-":"")+t.toLowerCase()})),ji=createCompounder((function(e,t,r){return e+(r?" ":"")+t.toLowerCase()})),Fi=createCaseFirst("toLowerCase");var Ui=createCompounder((function(e,t,r){return e+(r?"_":"")+t.toLowerCase()}));var zi=createCompounder((function(e,t,r){return e+(r?" ":"")+Gi(t)}));var Hi=createCompounder((function(e,t,r){return e+(r?" ":"")+t.toUpperCase()})),Gi=createCaseFirst("toUpperCase");function words(e,t,r){return e=toString(e),(t=r?n:t)===n?function hasUnicodeWord(e){return ut.test(e)}(e)?function unicodeWords(e){return e.match(ot)||[]}(e):function asciiWords(e){return e.match(ye)||[]}(e):e.match(t)||[]}var Wi=baseRest((function(e,t){try{return apply(e,n,t)}catch(e){return isError(e)?e:new ce(e)}})),Ki=flatRest((function(e,t){return arrayEach(t,(function(t){t=toKey(t),baseAssignValue(e,t,ei(e[t],e))})),e}));function constant(e){return function(){return e}}var Vi=createFlow(),$i=createFlow(!0);function identity(e){return e}function iteratee(e){return baseIteratee("function"==typeof e?e:baseClone(e,1))}var Yi=baseRest((function(e,t){return function(r){return baseInvoke(r,e,t)}})),Xi=baseRest((function(e,t){return function(r){return baseInvoke(e,r,t)}}));function mixin(e,t,r){var i=keys(t),n=baseFunctions(t,i);null!=r||isObject(t)&&(n.length||!i.length)||(r=t,t=e,e=this,n=baseFunctions(t,keys(t)));var s=!(isObject(r)&&"chain"in r&&!r.chain),a=isFunction(e);return arrayEach(n,(function(r){var i=t[r];e[r]=i,a&&(e.prototype[r]=function(){var t=this.__chain__;if(s||t){var r=e(this.__wrapped__);return(r.__actions__=copyArray(this.__actions__)).push({func:i,args:arguments,thisArg:e}),r.__chain__=t,r}return i.apply(e,arrayPush([this.value()],arguments))})})),e}function noop(){}var Ji=createOver(arrayMap),Zi=createOver(arrayEvery),Qi=createOver(arraySome);function property(e){return isKey(e)?baseProperty(toKey(e)):function basePropertyDeep(e){return function(t){return baseGet(t,e)}}(e)}var en=createRange(),tn=createRange(!0);function stubArray(){return[]}function stubFalse(){return!1}var rn=createMathOperation((function(e,t){return e+t}),0),nn=createRound("ceil"),sn=createMathOperation((function(e,t){return e/t}),1),an=createRound("floor");var dn,un=createMathOperation((function(e,t){return e*t}),1),ln=createRound("round"),cn=createMathOperation((function(e,t){return e-t}),0);return lodash.after=function after(e,t){if("function"!=typeof t)throw new Be(s);return e=toInteger(e),function(){if(--e<1)return t.apply(this,arguments)}},lodash.ary=ary,lodash.assign=wi,lodash.assignIn=Ei,lodash.assignInWith=Ti,lodash.assignWith=Si,lodash.at=Ai,lodash.before=before,lodash.bind=ei,lodash.bindAll=Ki,lodash.bindKey=ti,lodash.castArray=function castArray(){if(!arguments.length)return[];var e=arguments[0];return ci(e)?e:[e]},lodash.chain=chain,lodash.chunk=function chunk(e,t,i){t=(i?isIterateeCall(e,t,i):t===n)?1:jt(toInteger(t),0);var s=null==e?0:e.length;if(!s||t<1)return[];for(var a=0,o=0,d=r(_t(s/t));a<s;)d[o++]=baseSlice(e,a,a+=t);return d},lodash.compact=function compact(e){for(var t=-1,r=null==e?0:e.length,i=0,n=[];++t<r;){var s=e[t];s&&(n[i++]=s)}return n},lodash.concat=function concat(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),i=arguments[0],n=e;n--;)t[n-1]=arguments[n];return arrayPush(ci(i)?copyArray(i):[i],baseFlatten(t,1))},lodash.cond=function cond(e){var t=null==e?0:e.length,r=getIteratee();return e=t?arrayMap(e,(function(e){if("function"!=typeof e[1])throw new Be(s);return[r(e[0]),e[1]]})):[],baseRest((function(r){for(var i=-1;++i<t;){var n=e[i];if(apply(n[0],this,r))return apply(n[1],this,r)}}))},lodash.conforms=function conforms(e){return function baseConforms(e){var t=keys(e);return function(r){return baseConformsTo(r,e,t)}}(baseClone(e,1))},lodash.constant=constant,lodash.countBy=Wr,lodash.create=function create(e,t){var r=dr(e);return null==t?r:baseAssign(r,t)},lodash.curry=function curry(e,t,r){var i=createWrap(e,8,n,n,n,n,n,t=r?n:t);return i.placeholder=curry.placeholder,i},lodash.curryRight=function curryRight(e,t,r){var i=createWrap(e,d,n,n,n,n,n,t=r?n:t);return i.placeholder=curryRight.placeholder,i},lodash.debounce=debounce,lodash.defaults=Mi,lodash.defaultsDeep=Ri,lodash.defer=ri,lodash.delay=ii,lodash.difference=Rr,lodash.differenceBy=Or,lodash.differenceWith=xr,lodash.drop=function drop(e,t,r){var i=null==e?0:e.length;return i?baseSlice(e,(t=r||t===n?1:toInteger(t))<0?0:t,i):[]},lodash.dropRight=function dropRight(e,t,r){var i=null==e?0:e.length;return i?baseSlice(e,0,(t=i-(t=r||t===n?1:toInteger(t)))<0?0:t):[]},lodash.dropRightWhile=function dropRightWhile(e,t){return e&&e.length?baseWhile(e,getIteratee(t,3),!0,!0):[]},lodash.dropWhile=function dropWhile(e,t){return e&&e.length?baseWhile(e,getIteratee(t,3),!0):[]},lodash.fill=function fill(e,t,r,i){var s=null==e?0:e.length;return s?(r&&"number"!=typeof r&&isIterateeCall(e,t,r)&&(r=0,i=s),function baseFill(e,t,r,i){var s=e.length;for((r=toInteger(r))<0&&(r=-r>s?0:s+r),(i=i===n||i>s?s:toInteger(i))<0&&(i+=s),i=r>i?0:toLength(i);r<i;)e[r++]=t;return e}(e,t,r,i)):[]},lodash.filter=function filter(e,t){return(ci(e)?arrayFilter:baseFilter)(e,getIteratee(t,3))},lodash.flatMap=function flatMap(e,t){return baseFlatten(map(e,t),1)},lodash.flatMapDeep=function flatMapDeep(e,t){return baseFlatten(map(e,t),h)},lodash.flatMapDepth=function flatMapDepth(e,t,r){return r=r===n?1:toInteger(r),baseFlatten(map(e,t),r)},lodash.flatten=flatten,lodash.flattenDeep=function flattenDeep(e){return(null==e?0:e.length)?baseFlatten(e,h):[]},lodash.flattenDepth=function flattenDepth(e,t){return(null==e?0:e.length)?baseFlatten(e,t=t===n?1:toInteger(t)):[]},lodash.flip=function flip(e){return createWrap(e,512)},lodash.flow=Vi,lodash.flowRight=$i,lodash.fromPairs=function fromPairs(e){for(var t=-1,r=null==e?0:e.length,i={};++t<r;){var n=e[t];i[n[0]]=n[1]}return i},lodash.functions=function functions(e){return null==e?[]:baseFunctions(e,keys(e))},lodash.functionsIn=function functionsIn(e){return null==e?[]:baseFunctions(e,keysIn(e))},lodash.groupBy=$r,lodash.initial=function initial(e){return(null==e?0:e.length)?baseSlice(e,0,-1):[]},lodash.intersection=kr,lodash.intersectionBy=Ir,lodash.intersectionWith=Cr,lodash.invert=Oi,lodash.invertBy=xi,lodash.invokeMap=Yr,lodash.iteratee=iteratee,lodash.keyBy=Xr,lodash.keys=keys,lodash.keysIn=keysIn,lodash.map=map,lodash.mapKeys=function mapKeys(e,t){var r={};return t=getIteratee(t,3),baseForOwn(e,(function(e,i,n){baseAssignValue(r,t(e,i,n),e)})),r},lodash.mapValues=function mapValues(e,t){var r={};return t=getIteratee(t,3),baseForOwn(e,(function(e,i,n){baseAssignValue(r,i,t(e,i,n))})),r},lodash.matches=function matches(e){return baseMatches(baseClone(e,1))},lodash.matchesProperty=function matchesProperty(e,t){return baseMatchesProperty(e,baseClone(t,1))},lodash.memoize=memoize,lodash.merge=Ii,lodash.mergeWith=Ci,lodash.method=Yi,lodash.methodOf=Xi,lodash.mixin=mixin,lodash.negate=negate,lodash.nthArg=function nthArg(e){return e=toInteger(e),baseRest((function(t){return baseNth(t,e)}))},lodash.omit=Bi,lodash.omitBy=function omitBy(e,t){return pickBy(e,negate(getIteratee(t)))},lodash.once=function once(e){return before(2,e)},lodash.orderBy=function orderBy(e,t,r,i){return null==e?[]:(ci(t)||(t=null==t?[]:[t]),ci(r=i?n:r)||(r=null==r?[]:[r]),baseOrderBy(e,t,r))},lodash.over=Ji,lodash.overArgs=ni,lodash.overEvery=Zi,lodash.overSome=Qi,lodash.partial=si,lodash.partialRight=ai,lodash.partition=Jr,lodash.pick=Ni,lodash.pickBy=pickBy,lodash.property=property,lodash.propertyOf=function propertyOf(e){return function(t){return null==e?n:baseGet(e,t)}},lodash.pull=Br,lodash.pullAll=pullAll,lodash.pullAllBy=function pullAllBy(e,t,r){return e&&e.length&&t&&t.length?basePullAll(e,t,getIteratee(r,2)):e},lodash.pullAllWith=function pullAllWith(e,t,r){return e&&e.length&&t&&t.length?basePullAll(e,t,n,r):e},lodash.pullAt=Nr,lodash.range=en,lodash.rangeRight=tn,lodash.rearg=oi,lodash.reject=function reject(e,t){return(ci(e)?arrayFilter:baseFilter)(e,negate(getIteratee(t,3)))},lodash.remove=function remove(e,t){var r=[];if(!e||!e.length)return r;var i=-1,n=[],s=e.length;for(t=getIteratee(t,3);++i<s;){var a=e[i];t(a,i,e)&&(r.push(a),n.push(i))}return basePullAt(e,n),r},lodash.rest=function rest(e,t){if("function"!=typeof e)throw new Be(s);return baseRest(e,t=t===n?t:toInteger(t))},lodash.reverse=reverse,lodash.sampleSize=function sampleSize(e,t,r){return t=(r?isIterateeCall(e,t,r):t===n)?1:toInteger(t),(ci(e)?arraySampleSize:baseSampleSize)(e,t)},lodash.set=function set(e,t,r){return null==e?e:baseSet(e,t,r)},lodash.setWith=function setWith(e,t,r,i){return i="function"==typeof i?i:n,null==e?e:baseSet(e,t,r,i)},lodash.shuffle=function shuffle(e){return(ci(e)?arrayShuffle:baseShuffle)(e)},lodash.slice=function slice(e,t,r){var i=null==e?0:e.length;return i?(r&&"number"!=typeof r&&isIterateeCall(e,t,r)?(t=0,r=i):(t=null==t?0:toInteger(t),r=r===n?i:toInteger(r)),baseSlice(e,t,r)):[]},lodash.sortBy=Zr,lodash.sortedUniq=function sortedUniq(e){return e&&e.length?baseSortedUniq(e):[]},lodash.sortedUniqBy=function sortedUniqBy(e,t){return e&&e.length?baseSortedUniq(e,getIteratee(t,2)):[]},lodash.split=function split(e,t,r){return r&&"number"!=typeof r&&isIterateeCall(e,t,r)&&(t=r=n),(r=r===n?m:r>>>0)?(e=toString(e))&&("string"==typeof t||null!=t&&!gi(t))&&!(t=baseToString(t))&&hasUnicode(e)?castSlice(stringToArray(e),0,r):e.split(t,r):[]},lodash.spread=function spread(e,t){if("function"!=typeof e)throw new Be(s);return t=null==t?0:jt(toInteger(t),0),baseRest((function(r){var i=r[t],n=castSlice(r,0,t);return i&&arrayPush(n,i),apply(e,this,n)}))},lodash.tail=function tail(e){var t=null==e?0:e.length;return t?baseSlice(e,1,t):[]},lodash.take=function take(e,t,r){return e&&e.length?baseSlice(e,0,(t=r||t===n?1:toInteger(t))<0?0:t):[]},lodash.takeRight=function takeRight(e,t,r){var i=null==e?0:e.length;return i?baseSlice(e,(t=i-(t=r||t===n?1:toInteger(t)))<0?0:t,i):[]},lodash.takeRightWhile=function takeRightWhile(e,t){return e&&e.length?baseWhile(e,getIteratee(t,3),!1,!0):[]},lodash.takeWhile=function takeWhile(e,t){return e&&e.length?baseWhile(e,getIteratee(t,3)):[]},lodash.tap=function tap(e,t){return t(e),e},lodash.throttle=function throttle(e,t,r){var i=!0,n=!0;if("function"!=typeof e)throw new Be(s);return isObject(r)&&(i="leading"in r?!!r.leading:i,n="trailing"in r?!!r.trailing:n),debounce(e,t,{leading:i,maxWait:t,trailing:n})},lodash.thru=thru,lodash.toArray=toArray,lodash.toPairs=Pi,lodash.toPairsIn=Di,lodash.toPath=function toPath(e){return ci(e)?arrayMap(e,toKey):isSymbol(e)?[e]:copyArray(Mr(toString(e)))},lodash.toPlainObject=toPlainObject,lodash.transform=function transform(e,t,r){var i=ci(e),n=i||hi(e)||bi(e);if(t=getIteratee(t,4),null==r){var s=e&&e.constructor;r=n?i?new s:[]:isObject(e)&&isFunction(s)?dr(Xe(e)):{}}return(n?arrayEach:baseForOwn)(e,(function(e,i,n){return t(r,e,i,n)})),r},lodash.unary=function unary(e){return ary(e,1)},lodash.union=Pr,lodash.unionBy=Dr,lodash.unionWith=qr,lodash.uniq=function uniq(e){return e&&e.length?baseUniq(e):[]},lodash.uniqBy=function uniqBy(e,t){return e&&e.length?baseUniq(e,getIteratee(t,2)):[]},lodash.uniqWith=function uniqWith(e,t){return t="function"==typeof t?t:n,e&&e.length?baseUniq(e,n,t):[]},lodash.unset=function unset(e,t){return null==e||baseUnset(e,t)},lodash.unzip=unzip,lodash.unzipWith=unzipWith,lodash.update=function update(e,t,r){return null==e?e:baseUpdate(e,t,castFunction(r))},lodash.updateWith=function updateWith(e,t,r,i){return i="function"==typeof i?i:n,null==e?e:baseUpdate(e,t,castFunction(r),i)},lodash.values=values,lodash.valuesIn=function valuesIn(e){return null==e?[]:baseValues(e,keysIn(e))},lodash.without=Lr,lodash.words=words,lodash.wrap=function wrap(e,t){return si(castFunction(t),e)},lodash.xor=jr,lodash.xorBy=Fr,lodash.xorWith=Ur,lodash.zip=zr,lodash.zipObject=function zipObject(e,t){return baseZipObject(e||[],t||[],assignValue)},lodash.zipObjectDeep=function zipObjectDeep(e,t){return baseZipObject(e||[],t||[],baseSet)},lodash.zipWith=Hr,lodash.entries=Pi,lodash.entriesIn=Di,lodash.extend=Ei,lodash.extendWith=Ti,mixin(lodash,lodash),lodash.add=rn,lodash.attempt=Wi,lodash.camelCase=qi,lodash.capitalize=capitalize,lodash.ceil=nn,lodash.clamp=function clamp(e,t,r){return r===n&&(r=t,t=n),r!==n&&(r=(r=toNumber(r))==r?r:0),t!==n&&(t=(t=toNumber(t))==t?t:0),baseClamp(toNumber(e),t,r)},lodash.clone=function clone(e){return baseClone(e,4)},lodash.cloneDeep=function cloneDeep(e){return baseClone(e,5)},lodash.cloneDeepWith=function cloneDeepWith(e,t){return baseClone(e,5,t="function"==typeof t?t:n)},lodash.cloneWith=function cloneWith(e,t){return baseClone(e,4,t="function"==typeof t?t:n)},lodash.conformsTo=function conformsTo(e,t){return null==t||baseConformsTo(e,t,keys(t))},lodash.deburr=deburr,lodash.defaultTo=function defaultTo(e,t){return null==e||e!=e?t:e},lodash.divide=sn,lodash.endsWith=function endsWith(e,t,r){e=toString(e),t=baseToString(t);var i=e.length,s=r=r===n?i:baseClamp(toInteger(r),0,i);return(r-=t.length)>=0&&e.slice(r,s)==t},lodash.eq=eq,lodash.escape=function escape(e){return(e=toString(e))&&te.test(e)?e.replace(Q,Dt):e},lodash.escapeRegExp=function escapeRegExp(e){return(e=toString(e))&&ue.test(e)?e.replace(de,"\\$&"):e},lodash.every=function every(e,t,r){var i=ci(e)?arrayEvery:baseEvery;return r&&isIterateeCall(e,t,r)&&(t=n),i(e,getIteratee(t,3))},lodash.find=Kr,lodash.findIndex=findIndex,lodash.findKey=function findKey(e,t){return baseFindKey(e,getIteratee(t,3),baseForOwn)},lodash.findLast=Vr,lodash.findLastIndex=findLastIndex,lodash.findLastKey=function findLastKey(e,t){return baseFindKey(e,getIteratee(t,3),baseForOwnRight)},lodash.floor=an,lodash.forEach=forEach,lodash.forEachRight=forEachRight,lodash.forIn=function forIn(e,t){return null==e?e:cr(e,getIteratee(t,3),keysIn)},lodash.forInRight=function forInRight(e,t){return null==e?e:pr(e,getIteratee(t,3),keysIn)},lodash.forOwn=function forOwn(e,t){return e&&baseForOwn(e,getIteratee(t,3))},lodash.forOwnRight=function forOwnRight(e,t){return e&&baseForOwnRight(e,getIteratee(t,3))},lodash.get=get,lodash.gt=di,lodash.gte=ui,lodash.has=function has(e,t){return null!=e&&hasPath(e,t,baseHas)},lodash.hasIn=hasIn,lodash.head=head,lodash.identity=identity,lodash.includes=function includes(e,t,r,i){e=isArrayLike(e)?e:values(e),r=r&&!i?toInteger(r):0;var n=e.length;return r<0&&(r=jt(n+r,0)),isString(e)?r<=n&&e.indexOf(t,r)>-1:!!n&&baseIndexOf(e,t,r)>-1},lodash.indexOf=function indexOf(e,t,r){var i=null==e?0:e.length;if(!i)return-1;var n=null==r?0:toInteger(r);return n<0&&(n=jt(i+n,0)),baseIndexOf(e,t,n)},lodash.inRange=function inRange(e,t,r){return t=toFinite(t),r===n?(r=t,t=0):r=toFinite(r),function baseInRange(e,t,r){return e>=Ft(t,r)&&e<jt(t,r)}(e=toNumber(e),t,r)},lodash.invoke=ki,lodash.isArguments=li,lodash.isArray=ci,lodash.isArrayBuffer=pi,lodash.isArrayLike=isArrayLike,lodash.isArrayLikeObject=isArrayLikeObject,lodash.isBoolean=function isBoolean(e){return!0===e||!1===e||isObjectLike(e)&&baseGetTag(e)==w},lodash.isBuffer=hi,lodash.isDate=fi,lodash.isElement=function isElement(e){return isObjectLike(e)&&1===e.nodeType&&!isPlainObject(e)},lodash.isEmpty=function isEmpty(e){if(null==e)return!0;if(isArrayLike(e)&&(ci(e)||"string"==typeof e||"function"==typeof e.splice||hi(e)||bi(e)||li(e)))return!e.length;var t=wr(e);if(t==O||t==B)return!e.size;if(isPrototype(e))return!baseKeys(e).length;for(var r in e)if(je.call(e,r))return!1;return!0},lodash.isEqual=function isEqual(e,t){return baseIsEqual(e,t)},lodash.isEqualWith=function isEqualWith(e,t,r){var i=(r="function"==typeof r?r:n)?r(e,t):n;return i===n?baseIsEqual(e,t,n,r):!!i},lodash.isError=isError,lodash.isFinite=function isFinite(e){return"number"==typeof e&&Mt(e)},lodash.isFunction=isFunction,lodash.isInteger=isInteger,lodash.isLength=isLength,lodash.isMap=yi,lodash.isMatch=function isMatch(e,t){return e===t||baseIsMatch(e,t,getMatchData(t))},lodash.isMatchWith=function isMatchWith(e,t,r){return r="function"==typeof r?r:n,baseIsMatch(e,t,getMatchData(t),r)},lodash.isNaN=function isNaN(e){return isNumber(e)&&e!=+e},lodash.isNative=function isNative(e){if(Er(e))throw new ce("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return baseIsNative(e)},lodash.isNil=function isNil(e){return null==e},lodash.isNull=function isNull(e){return null===e},lodash.isNumber=isNumber,lodash.isObject=isObject,lodash.isObjectLike=isObjectLike,lodash.isPlainObject=isPlainObject,lodash.isRegExp=gi,lodash.isSafeInteger=function isSafeInteger(e){return isInteger(e)&&e>=-9007199254740991&&e<=y},lodash.isSet=mi,lodash.isString=isString,lodash.isSymbol=isSymbol,lodash.isTypedArray=bi,lodash.isUndefined=function isUndefined(e){return e===n},lodash.isWeakMap=function isWeakMap(e){return isObjectLike(e)&&wr(e)==D},lodash.isWeakSet=function isWeakSet(e){return isObjectLike(e)&&"[object WeakSet]"==baseGetTag(e)},lodash.join=function join(e,t){return null==e?"":Rt.call(e,t)},lodash.kebabCase=Li,lodash.last=last,lodash.lastIndexOf=function lastIndexOf(e,t,r){var i=null==e?0:e.length;if(!i)return-1;var s=i;return r!==n&&(s=(s=toInteger(r))<0?jt(i+s,0):Ft(s,i-1)),t==t?function strictLastIndexOf(e,t,r){for(var i=r+1;i--;)if(e[i]===t)return i;return i}(e,t,s):baseFindIndex(e,baseIsNaN,s,!0)},lodash.lowerCase=ji,lodash.lowerFirst=Fi,lodash.lt=vi,lodash.lte=_i,lodash.max=function max(e){return e&&e.length?baseExtremum(e,identity,baseGt):n},lodash.maxBy=function maxBy(e,t){return e&&e.length?baseExtremum(e,getIteratee(t,2),baseGt):n},lodash.mean=function mean(e){return baseMean(e,identity)},lodash.meanBy=function meanBy(e,t){return baseMean(e,getIteratee(t,2))},lodash.min=function min(e){return e&&e.length?baseExtremum(e,identity,baseLt):n},lodash.minBy=function minBy(e,t){return e&&e.length?baseExtremum(e,getIteratee(t,2),baseLt):n},lodash.stubArray=stubArray,lodash.stubFalse=stubFalse,lodash.stubObject=function stubObject(){return{}},lodash.stubString=function stubString(){return""},lodash.stubTrue=function stubTrue(){return!0},lodash.multiply=un,lodash.nth=function nth(e,t){return e&&e.length?baseNth(e,toInteger(t)):n},lodash.noConflict=function noConflict(){return Et._===this&&(Et._=Ge),this},lodash.noop=noop,lodash.now=Qr,lodash.pad=function pad(e,t,r){e=toString(e);var i=(t=toInteger(t))?stringSize(e):0;if(!t||i>=t)return e;var n=(t-i)/2;return createPadding(wt(n),r)+e+createPadding(_t(n),r)},lodash.padEnd=function padEnd(e,t,r){e=toString(e);var i=(t=toInteger(t))?stringSize(e):0;return t&&i<t?e+createPadding(t-i,r):e},lodash.padStart=function padStart(e,t,r){e=toString(e);var i=(t=toInteger(t))?stringSize(e):0;return t&&i<t?createPadding(t-i,r)+e:e},lodash.parseInt=function parseInt(e,t,r){return r||null==t?t=0:t&&(t=+t),zt(toString(e).replace(le,""),t||0)},lodash.random=function random(e,t,r){if(r&&"boolean"!=typeof r&&isIterateeCall(e,t,r)&&(t=r=n),r===n&&("boolean"==typeof t?(r=t,t=n):"boolean"==typeof e&&(r=e,e=n)),e===n&&t===n?(e=0,t=1):(e=toFinite(e),t===n?(t=e,e=0):t=toFinite(t)),e>t){var i=e;e=t,t=i}if(r||e%1||t%1){var s=Ht();return Ft(e+s*(t-e+bt("1e-"+((s+"").length-1))),t)}return baseRandom(e,t)},lodash.reduce=function reduce(e,t,r){var i=ci(e)?arrayReduce:baseReduce,n=arguments.length<3;return i(e,getIteratee(t,4),r,n,ur)},lodash.reduceRight=function reduceRight(e,t,r){var i=ci(e)?arrayReduceRight:baseReduce,n=arguments.length<3;return i(e,getIteratee(t,4),r,n,lr)},lodash.repeat=function repeat(e,t,r){return t=(r?isIterateeCall(e,t,r):t===n)?1:toInteger(t),baseRepeat(toString(e),t)},lodash.replace=function replace(){var e=arguments,t=toString(e[0]);return e.length<3?t:t.replace(e[1],e[2])},lodash.result=function result(e,t,r){var i=-1,s=(t=castPath(t,e)).length;for(s||(s=1,e=n);++i<s;){var a=null==e?n:e[toKey(t[i])];a===n&&(i=s,a=r),e=isFunction(a)?a.call(e):a}return e},lodash.round=ln,lodash.runInContext=runInContext,lodash.sample=function sample(e){return(ci(e)?arraySample:baseSample)(e)},lodash.size=function size(e){if(null==e)return 0;if(isArrayLike(e))return isString(e)?stringSize(e):e.length;var t=wr(e);return t==O||t==B?e.size:baseKeys(e).length},lodash.snakeCase=Ui,lodash.some=function some(e,t,r){var i=ci(e)?arraySome:baseSome;return r&&isIterateeCall(e,t,r)&&(t=n),i(e,getIteratee(t,3))},lodash.sortedIndex=function sortedIndex(e,t){return baseSortedIndex(e,t)},lodash.sortedIndexBy=function sortedIndexBy(e,t,r){return baseSortedIndexBy(e,t,getIteratee(r,2))},lodash.sortedIndexOf=function sortedIndexOf(e,t){var r=null==e?0:e.length;if(r){var i=baseSortedIndex(e,t);if(i<r&&eq(e[i],t))return i}return-1},lodash.sortedLastIndex=function sortedLastIndex(e,t){return baseSortedIndex(e,t,!0)},lodash.sortedLastIndexBy=function sortedLastIndexBy(e,t,r){return baseSortedIndexBy(e,t,getIteratee(r,2),!0)},lodash.sortedLastIndexOf=function sortedLastIndexOf(e,t){if(null==e?0:e.length){var r=baseSortedIndex(e,t,!0)-1;if(eq(e[r],t))return r}return-1},lodash.startCase=zi,lodash.startsWith=function startsWith(e,t,r){return e=toString(e),r=null==r?0:baseClamp(toInteger(r),0,e.length),t=baseToString(t),e.slice(r,r+t.length)==t},lodash.subtract=cn,lodash.sum=function sum(e){return e&&e.length?baseSum(e,identity):0},lodash.sumBy=function sumBy(e,t){return e&&e.length?baseSum(e,getIteratee(t,2)):0},lodash.template=function template(e,t,r){var i=lodash.templateSettings;r&&isIterateeCall(e,t,r)&&(t=n),e=toString(e),t=Ti({},t,i,customDefaultsAssignIn);var s,a,o=Ti({},t.imports,i.imports,customDefaultsAssignIn),d=keys(o),u=baseValues(o,d),l=0,c=t.interpolate||Me,p="__p += '",h=Ie((t.escape||Me).source+"|"+c.source+"|"+(c===ne?be:Me).source+"|"+(t.evaluate||Me).source+"|$","g"),y="//# sourceURL="+(je.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++pt+"]")+"\n";e.replace(h,(function(t,r,i,n,o,d){return i||(i=n),p+=e.slice(l,d).replace(Re,escapeStringChar),r&&(s=!0,p+="' +\n__e("+r+") +\n'"),o&&(a=!0,p+="';\n"+o+";\n__p += '"),i&&(p+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),l=d+t.length,t})),p+="';\n";var g=je.call(t,"variable")&&t.variable;if(g){if(ge.test(g))throw new ce("Invalid `variable` option passed into `_.template`")}else p="with (obj) {\n"+p+"\n}\n";p=(a?p.replace(Y,""):p).replace(X,"$1").replace(J,"$1;"),p="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(s?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var m=Wi((function(){return Oe(d,y+"return "+p).apply(n,u)}));if(m.source=p,isError(m))throw m;return m},lodash.times=function times(e,t){if((e=toInteger(e))<1||e>y)return[];var r=m,i=Ft(e,m);t=getIteratee(t),e-=m;for(var n=baseTimes(i,t);++r<e;)t(r);return n},lodash.toFinite=toFinite,lodash.toInteger=toInteger,lodash.toLength=toLength,lodash.toLower=function toLower(e){return toString(e).toLowerCase()},lodash.toNumber=toNumber,lodash.toSafeInteger=function toSafeInteger(e){return e?baseClamp(toInteger(e),-9007199254740991,y):0===e?e:0},lodash.toString=toString,lodash.toUpper=function toUpper(e){return toString(e).toUpperCase()},lodash.trim=function trim(e,t,r){if((e=toString(e))&&(r||t===n))return baseTrim(e);if(!e||!(t=baseToString(t)))return e;var i=stringToArray(e),s=stringToArray(t);return castSlice(i,charsStartIndex(i,s),charsEndIndex(i,s)+1).join("")},lodash.trimEnd=function trimEnd(e,t,r){if((e=toString(e))&&(r||t===n))return e.slice(0,trimmedEndIndex(e)+1);if(!e||!(t=baseToString(t)))return e;var i=stringToArray(e);return castSlice(i,0,charsEndIndex(i,stringToArray(t))+1).join("")},lodash.trimStart=function trimStart(e,t,r){if((e=toString(e))&&(r||t===n))return e.replace(le,"");if(!e||!(t=baseToString(t)))return e;var i=stringToArray(e);return castSlice(i,charsStartIndex(i,stringToArray(t))).join("")},lodash.truncate=function truncate(e,t){var r=30,i="...";if(isObject(t)){var s="separator"in t?t.separator:s;r="length"in t?toInteger(t.length):r,i="omission"in t?baseToString(t.omission):i}var a=(e=toString(e)).length;if(hasUnicode(e)){var o=stringToArray(e);a=o.length}if(r>=a)return e;var d=r-stringSize(i);if(d<1)return i;var u=o?castSlice(o,0,d).join(""):e.slice(0,d);if(s===n)return u+i;if(o&&(d+=u.length-d),gi(s)){if(e.slice(d).search(s)){var l,c=u;for(s.global||(s=Ie(s.source,toString(ve.exec(s))+"g")),s.lastIndex=0;l=s.exec(c);)var p=l.index;u=u.slice(0,p===n?d:p)}}else if(e.indexOf(baseToString(s),d)!=d){var h=u.lastIndexOf(s);h>-1&&(u=u.slice(0,h))}return u+i},lodash.unescape=function unescape(e){return(e=toString(e))&&ee.test(e)?e.replace(Z,qt):e},lodash.uniqueId=function uniqueId(e){var t=++Fe;return toString(e)+t},lodash.upperCase=Hi,lodash.upperFirst=Gi,lodash.each=forEach,lodash.eachRight=forEachRight,lodash.first=head,mixin(lodash,(dn={},baseForOwn(lodash,(function(e,t){je.call(lodash.prototype,t)||(dn[t]=e)})),dn),{chain:!1}),lodash.VERSION="4.17.21",arrayEach(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){lodash[e].placeholder=lodash})),arrayEach(["drop","take"],(function(e,t){LazyWrapper.prototype[e]=function(r){r=r===n?1:jt(toInteger(r),0);var i=this.__filtered__&&!t?new LazyWrapper(this):this.clone();return i.__filtered__?i.__takeCount__=Ft(r,i.__takeCount__):i.__views__.push({size:Ft(r,m),type:e+(i.__dir__<0?"Right":"")}),i},LazyWrapper.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),arrayEach(["filter","map","takeWhile"],(function(e,t){var r=t+1,i=1==r||3==r;LazyWrapper.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:getIteratee(e,3),type:r}),t.__filtered__=t.__filtered__||i,t}})),arrayEach(["head","last"],(function(e,t){var r="take"+(t?"Right":"");LazyWrapper.prototype[e]=function(){return this[r](1).value()[0]}})),arrayEach(["initial","tail"],(function(e,t){var r="drop"+(t?"":"Right");LazyWrapper.prototype[e]=function(){return this.__filtered__?new LazyWrapper(this):this[r](1)}})),LazyWrapper.prototype.compact=function(){return this.filter(identity)},LazyWrapper.prototype.find=function(e){return this.filter(e).head()},LazyWrapper.prototype.findLast=function(e){return this.reverse().find(e)},LazyWrapper.prototype.invokeMap=baseRest((function(e,t){return"function"==typeof e?new LazyWrapper(this):this.map((function(r){return baseInvoke(r,e,t)}))})),LazyWrapper.prototype.reject=function(e){return this.filter(negate(getIteratee(e)))},LazyWrapper.prototype.slice=function(e,t){e=toInteger(e);var r=this;return r.__filtered__&&(e>0||t<0)?new LazyWrapper(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),t!==n&&(r=(t=toInteger(t))<0?r.dropRight(-t):r.take(t-e)),r)},LazyWrapper.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},LazyWrapper.prototype.toArray=function(){return this.take(m)},baseForOwn(LazyWrapper.prototype,(function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),i=/^(?:head|last)$/.test(t),s=lodash[i?"take"+("last"==t?"Right":""):t],a=i||/^find/.test(t);s&&(lodash.prototype[t]=function(){var t=this.__wrapped__,o=i?[1]:arguments,d=t instanceof LazyWrapper,u=o[0],l=d||ci(t),interceptor=function(e){var t=s.apply(lodash,arrayPush([e],o));return i&&c?t[0]:t};l&&r&&"function"==typeof u&&1!=u.length&&(d=l=!1);var c=this.__chain__,p=!!this.__actions__.length,h=a&&!c,y=d&&!p;if(!a&&l){t=y?t:new LazyWrapper(this);var g=e.apply(t,o);return g.__actions__.push({func:thru,args:[interceptor],thisArg:n}),new LodashWrapper(g,c)}return h&&y?e.apply(this,o):(g=this.thru(interceptor),h?i?g.value()[0]:g.value():g)})})),arrayEach(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Ne[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:pop|shift)$/.test(e);lodash.prototype[e]=function(){var e=arguments;if(i&&!this.__chain__){var n=this.value();return t.apply(ci(n)?n:[],e)}return this[r]((function(r){return t.apply(ci(r)?r:[],e)}))}})),baseForOwn(LazyWrapper.prototype,(function(e,t){var r=lodash[t];if(r){var i=r.name+"";je.call(Zt,i)||(Zt[i]=[]),Zt[i].push({name:t,func:r})}})),Zt[createHybrid(n,2).name]=[{name:"wrapper",func:n}],LazyWrapper.prototype.clone=function lazyClone(){var e=new LazyWrapper(this.__wrapped__);return e.__actions__=copyArray(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=copyArray(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=copyArray(this.__views__),e},LazyWrapper.prototype.reverse=function lazyReverse(){if(this.__filtered__){var e=new LazyWrapper(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},LazyWrapper.prototype.value=function lazyValue(){var e=this.__wrapped__.value(),t=this.__dir__,r=ci(e),i=t<0,n=r?e.length:0,s=function getView(e,t,r){var i=-1,n=r.length;for(;++i<n;){var s=r[i],a=s.size;switch(s.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=Ft(t,e+a);break;case"takeRight":e=jt(e,t-a)}}return{start:e,end:t}}(0,n,this.__views__),a=s.start,o=s.end,d=o-a,u=i?o:a-1,l=this.__iteratees__,c=l.length,p=0,h=Ft(d,this.__takeCount__);if(!r||!i&&n==d&&h==d)return baseWrapperValue(e,this.__actions__);var y=[];e:for(;d--&&p<h;){for(var g=-1,m=e[u+=t];++g<c;){var b=l[g],v=b.iteratee,_=b.type,w=v(m);if(2==_)m=w;else if(!w){if(1==_)continue e;break e}}y[p++]=m}return y},lodash.prototype.at=Gr,lodash.prototype.chain=function wrapperChain(){return chain(this)},lodash.prototype.commit=function wrapperCommit(){return new LodashWrapper(this.value(),this.__chain__)},lodash.prototype.next=function wrapperNext(){this.__values__===n&&(this.__values__=toArray(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?n:this.__values__[this.__index__++]}},lodash.prototype.plant=function wrapperPlant(e){for(var t,r=this;r instanceof baseLodash;){var i=wrapperClone(r);i.__index__=0,i.__values__=n,t?s.__wrapped__=i:t=i;var s=i;r=r.__wrapped__}return s.__wrapped__=e,t},lodash.prototype.reverse=function wrapperReverse(){var e=this.__wrapped__;if(e instanceof LazyWrapper){var t=e;return this.__actions__.length&&(t=new LazyWrapper(this)),(t=t.reverse()).__actions__.push({func:thru,args:[reverse],thisArg:n}),new LodashWrapper(t,this.__chain__)}return this.thru(reverse)},lodash.prototype.toJSON=lodash.prototype.valueOf=lodash.prototype.value=function wrapperValue(){return baseWrapperValue(this.__wrapped__,this.__actions__)},lodash.prototype.first=lodash.prototype.head,tt&&(lodash.prototype[tt]=function wrapperToIterator(){return this}),lodash}();Et._=Lt,(i=function(){return Lt}.call(t,r,t,e))===n||(e.exports=i)}.call(this)},1219:e=>{e.exports=Long;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}function Long(e,t,r){this.low=0|e,this.high=0|t,this.unsigned=!!r}function isLong(e){return!0===(e&&e.__isLong__)}Long.prototype.__isLong__,Object.defineProperty(Long.prototype,"__isLong__",{value:!0}),Long.isLong=isLong;var r={},i={};function fromInt(e,t){var n,s,a;return t?(a=0<=(e>>>=0)&&e<256)&&(s=i[e])?s:(n=fromBits(e,(0|e)<0?-1:0,!0),a&&(i[e]=n),n):(a=-128<=(e|=0)&&e<128)&&(s=r[e])?s:(n=fromBits(e,e<0?-1:0,!1),a&&(r[e]=n),n)}function fromNumber(e,t){if(isNaN(e))return t?l:u;if(t){if(e<0)return l;if(e>=a)return g}else{if(e<=-o)return m;if(e+1>=o)return y}return e<0?fromNumber(-e,t).neg():fromBits(e%s|0,e/s|0,t)}function fromBits(e,t,r){return new Long(e,t,r)}Long.fromInt=fromInt,Long.fromNumber=fromNumber,Long.fromBits=fromBits;var n=Math.pow;function fromString(e,t,r){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return u;if("number"==typeof t?(r=t,t=!1):t=!!t,(r=r||10)<2||36<r)throw RangeError("radix");var i;if((i=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===i)return fromString(e.substring(1),t,r).neg();for(var s=fromNumber(n(r,8)),a=u,o=0;o<e.length;o+=8){var d=Math.min(8,e.length-o),l=parseInt(e.substring(o,o+d),r);if(d<8){var c=fromNumber(n(r,d));a=a.mul(c).add(fromNumber(l))}else a=(a=a.mul(s)).add(fromNumber(l))}return a.unsigned=t,a}function fromValue(e,t){return"number"==typeof e?fromNumber(e,t):"string"==typeof e?fromString(e,t):fromBits(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}Long.fromString=fromString,Long.fromValue=fromValue;var s=4294967296,a=s*s,o=a/2,d=fromInt(1<<24),u=fromInt(0);Long.ZERO=u;var l=fromInt(0,!0);Long.UZERO=l;var c=fromInt(1);Long.ONE=c;var p=fromInt(1,!0);Long.UONE=p;var h=fromInt(-1);Long.NEG_ONE=h;var y=fromBits(-1,2147483647,!1);Long.MAX_VALUE=y;var g=fromBits(-1,-1,!0);Long.MAX_UNSIGNED_VALUE=g;var m=fromBits(0,-2147483648,!1);Long.MIN_VALUE=m;var b=Long.prototype;b.toInt=function toInt(){return this.unsigned?this.low>>>0:this.low},b.toNumber=function toNumber(){return this.unsigned?(this.high>>>0)*s+(this.low>>>0):this.high*s+(this.low>>>0)},b.toString=function toString(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(m)){var t=fromNumber(e),r=this.div(t),i=r.mul(t).sub(this);return r.toString(e)+i.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var s=fromNumber(n(e,6),this.unsigned),a=this,o="";;){var d=a.div(s),u=(a.sub(d.mul(s)).toInt()>>>0).toString(e);if((a=d).isZero())return u+o;for(;u.length<6;)u="0"+u;o=""+u+o}},b.getHighBits=function getHighBits(){return this.high},b.getHighBitsUnsigned=function getHighBitsUnsigned(){return this.high>>>0},b.getLowBits=function getLowBits(){return this.low},b.getLowBitsUnsigned=function getLowBitsUnsigned(){return this.low>>>0},b.getNumBitsAbs=function getNumBitsAbs(){if(this.isNegative())return this.eq(m)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&!(e&1<<t);t--);return 0!=this.high?t+33:t+1},b.isZero=function isZero(){return 0===this.high&&0===this.low},b.eqz=b.isZero,b.isNegative=function isNegative(){return!this.unsigned&&this.high<0},b.isPositive=function isPositive(){return this.unsigned||this.high>=0},b.isOdd=function isOdd(){return!(1&~this.low)},b.isEven=function isEven(){return!(1&this.low)},b.equals=function equals(e){return isLong(e)||(e=fromValue(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&(this.high===e.high&&this.low===e.low)},b.eq=b.equals,b.notEquals=function notEquals(e){return!this.eq(e)},b.neq=b.notEquals,b.ne=b.notEquals,b.lessThan=function lessThan(e){return this.comp(e)<0},b.lt=b.lessThan,b.lessThanOrEqual=function lessThanOrEqual(e){return this.comp(e)<=0},b.lte=b.lessThanOrEqual,b.le=b.lessThanOrEqual,b.greaterThan=function greaterThan(e){return this.comp(e)>0},b.gt=b.greaterThan,b.greaterThanOrEqual=function greaterThanOrEqual(e){return this.comp(e)>=0},b.gte=b.greaterThanOrEqual,b.ge=b.greaterThanOrEqual,b.compare=function compare(e){if(isLong(e)||(e=fromValue(e)),this.eq(e))return 0;var t=this.isNegative(),r=e.isNegative();return t&&!r?-1:!t&&r?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},b.comp=b.compare,b.negate=function negate(){return!this.unsigned&&this.eq(m)?m:this.not().add(c)},b.neg=b.negate,b.add=function add(e){isLong(e)||(e=fromValue(e));var t=this.high>>>16,r=65535&this.high,i=this.low>>>16,n=65535&this.low,s=e.high>>>16,a=65535&e.high,o=e.low>>>16,d=0,u=0,l=0,c=0;return l+=(c+=n+(65535&e.low))>>>16,u+=(l+=i+o)>>>16,d+=(u+=r+a)>>>16,d+=t+s,fromBits((l&=65535)<<16|(c&=65535),(d&=65535)<<16|(u&=65535),this.unsigned)},b.subtract=function subtract(e){return isLong(e)||(e=fromValue(e)),this.add(e.neg())},b.sub=b.subtract,b.multiply=function multiply(e){if(this.isZero())return u;if(isLong(e)||(e=fromValue(e)),t)return fromBits(t.mul(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned);if(e.isZero())return u;if(this.eq(m))return e.isOdd()?m:u;if(e.eq(m))return this.isOdd()?m:u;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(d)&&e.lt(d))return fromNumber(this.toNumber()*e.toNumber(),this.unsigned);var r=this.high>>>16,i=65535&this.high,n=this.low>>>16,s=65535&this.low,a=e.high>>>16,o=65535&e.high,l=e.low>>>16,c=65535&e.low,p=0,h=0,y=0,g=0;return y+=(g+=s*c)>>>16,h+=(y+=n*c)>>>16,y&=65535,h+=(y+=s*l)>>>16,p+=(h+=i*c)>>>16,h&=65535,p+=(h+=n*l)>>>16,h&=65535,p+=(h+=s*o)>>>16,p+=r*c+i*l+n*o+s*a,fromBits((y&=65535)<<16|(g&=65535),(p&=65535)<<16|(h&=65535),this.unsigned)},b.mul=b.multiply,b.divide=function divide(e){if(isLong(e)||(e=fromValue(e)),e.isZero())throw Error("division by zero");var r,i,s;if(t)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?fromBits((this.unsigned?t.div_u:t.div_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?l:u;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return l;if(e.gt(this.shru(1)))return p;s=l}else{if(this.eq(m))return e.eq(c)||e.eq(h)?m:e.eq(m)?c:(r=this.shr(1).div(e).shl(1)).eq(u)?e.isNegative()?c:h:(i=this.sub(e.mul(r)),s=r.add(i.div(e)));if(e.eq(m))return this.unsigned?l:u;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();s=u}for(i=this;i.gte(e);){r=Math.max(1,Math.floor(i.toNumber()/e.toNumber()));for(var a=Math.ceil(Math.log(r)/Math.LN2),o=a<=48?1:n(2,a-48),d=fromNumber(r),y=d.mul(e);y.isNegative()||y.gt(i);)y=(d=fromNumber(r-=o,this.unsigned)).mul(e);d.isZero()&&(d=c),s=s.add(d),i=i.sub(y)}return s},b.div=b.divide,b.modulo=function modulo(e){return isLong(e)||(e=fromValue(e)),t?fromBits((this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},b.mod=b.modulo,b.rem=b.modulo,b.not=function not(){return fromBits(~this.low,~this.high,this.unsigned)},b.and=function and(e){return isLong(e)||(e=fromValue(e)),fromBits(this.low&e.low,this.high&e.high,this.unsigned)},b.or=function or(e){return isLong(e)||(e=fromValue(e)),fromBits(this.low|e.low,this.high|e.high,this.unsigned)},b.xor=function xor(e){return isLong(e)||(e=fromValue(e)),fromBits(this.low^e.low,this.high^e.high,this.unsigned)},b.shiftLeft=function shiftLeft(e){return isLong(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?fromBits(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):fromBits(0,this.low<<e-32,this.unsigned)},b.shl=b.shiftLeft,b.shiftRight=function shiftRight(e){return isLong(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?fromBits(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):fromBits(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},b.shr=b.shiftRight,b.shiftRightUnsigned=function shiftRightUnsigned(e){if(isLong(e)&&(e=e.toInt()),0===(e&=63))return this;var t=this.high;return e<32?fromBits(this.low>>>e|t<<32-e,t>>>e,this.unsigned):fromBits(32===e?t:t>>>e-32,0,this.unsigned)},b.shru=b.shiftRightUnsigned,b.shr_u=b.shiftRightUnsigned,b.toSigned=function toSigned(){return this.unsigned?fromBits(this.low,this.high,!1):this},b.toUnsigned=function toUnsigned(){return this.unsigned?this:fromBits(this.low,this.high,!0)},b.toBytes=function toBytes(e){return e?this.toBytesLE():this.toBytesBE()},b.toBytesLE=function toBytesLE(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},b.toBytesBE=function toBytesBE(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},Long.fromBytes=function fromBytes(e,t,r){return r?Long.fromBytesLE(e,t):Long.fromBytesBE(e,t)},Long.fromBytesLE=function fromBytesLE(e,t){return new Long(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},Long.fromBytesBE=function fromBytesBE(e,t){return new Long(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},3624:(e,t,r)=>{"use strict";const i=r(222),n=Symbol("max"),s=Symbol("length"),a=Symbol("lengthCalculator"),o=Symbol("allowStale"),d=Symbol("maxAge"),u=Symbol("dispose"),l=Symbol("noDisposeOnSet"),c=Symbol("lruList"),p=Symbol("cache"),h=Symbol("updateAgeOnGet"),naiveLength=()=>1;const get=(e,t,r)=>{const i=e[p].get(t);if(i){const t=i.value;if(isStale(e,t)){if(del(e,i),!e[o])return}else r&&(e[h]&&(i.value.now=Date.now()),e[c].unshiftNode(i));return t.value}},isStale=(e,t)=>{if(!t||!t.maxAge&&!e[d])return!1;const r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[d]&&r>e[d]},trim=e=>{if(e[s]>e[n])for(let t=e[c].tail;e[s]>e[n]&&null!==t;){const r=t.prev;del(e,t),t=r}},del=(e,t)=>{if(t){const r=t.value;e[u]&&e[u](r.key,r.value),e[s]-=r.length,e[p].delete(r.key),e[c].removeNode(t)}};class Entry{constructor(e,t,r,i,n){this.key=e,this.value=t,this.length=r,this.now=i,this.maxAge=n||0}}const forEachStep=(e,t,r,i)=>{let n=r.value;isStale(e,n)&&(del(e,r),e[o]||(n=void 0)),n&&t.call(i,n.value,n.key,e)};e.exports=class LRUCache{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[n]=e.max||1/0;const t=e.length||naiveLength;if(this[a]="function"!=typeof t?naiveLength:t,this[o]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw new TypeError("maxAge must be a number");this[d]=e.maxAge||0,this[u]=e.dispose,this[l]=e.noDisposeOnSet||!1,this[h]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[n]=e||1/0,trim(this)}get max(){return this[n]}set allowStale(e){this[o]=!!e}get allowStale(){return this[o]}set maxAge(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[d]=e,trim(this)}get maxAge(){return this[d]}set lengthCalculator(e){"function"!=typeof e&&(e=naiveLength),e!==this[a]&&(this[a]=e,this[s]=0,this[c].forEach((e=>{e.length=this[a](e.value,e.key),this[s]+=e.length}))),trim(this)}get lengthCalculator(){return this[a]}get length(){return this[s]}get itemCount(){return this[c].length}rforEach(e,t){t=t||this;for(let r=this[c].tail;null!==r;){const i=r.prev;forEachStep(this,e,r,t),r=i}}forEach(e,t){t=t||this;for(let r=this[c].head;null!==r;){const i=r.next;forEachStep(this,e,r,t),r=i}}keys(){return this[c].toArray().map((e=>e.key))}values(){return this[c].toArray().map((e=>e.value))}reset(){this[u]&&this[c]&&this[c].length&&this[c].forEach((e=>this[u](e.key,e.value))),this[p]=new Map,this[c]=new i,this[s]=0}dump(){return this[c].map((e=>!isStale(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)})).toArray().filter((e=>e))}dumpLru(){return this[c]}set(e,t,r){if((r=r||this[d])&&"number"!=typeof r)throw new TypeError("maxAge must be a number");const i=r?Date.now():0,o=this[a](t,e);if(this[p].has(e)){if(o>this[n])return del(this,this[p].get(e)),!1;const a=this[p].get(e).value;return this[u]&&(this[l]||this[u](e,a.value)),a.now=i,a.maxAge=r,a.value=t,this[s]+=o-a.length,a.length=o,this.get(e),trim(this),!0}const h=new Entry(e,t,o,i,r);return h.length>this[n]?(this[u]&&this[u](e,t),!1):(this[s]+=h.length,this[c].unshift(h),this[p].set(e,this[c].head),trim(this),!0)}has(e){if(!this[p].has(e))return!1;const t=this[p].get(e).value;return!isStale(this,t)}get(e){return get(this,e,!0)}peek(e){return get(this,e,!1)}pop(){const e=this[c].tail;return e?(del(this,e),e.value):null}del(e){del(this,this[p].get(e))}load(e){this.reset();const t=Date.now();for(let r=e.length-1;r>=0;r--){const i=e[r],n=i.e||0;if(0===n)this.set(i.k,i.v);else{const e=n-t;e>0&&this.set(i.k,i.v,e)}}}prune(){this[p].forEach(((e,t)=>get(this,t,!1)))}}},3275:(e,t,r)=>{"use strict";var i=r(5615),n=r(1848),s=r(5636).Buffer,a=new Array(16);function MD5(){n.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function rotl(e,t){return e<<t|e>>>32-t}function fnF(e,t,r,i,n,s,a){return rotl(e+(t&r|~t&i)+n+s|0,a)+t|0}function fnG(e,t,r,i,n,s,a){return rotl(e+(t&i|r&~i)+n+s|0,a)+t|0}function fnH(e,t,r,i,n,s,a){return rotl(e+(t^r^i)+n+s|0,a)+t|0}function fnI(e,t,r,i,n,s,a){return rotl(e+(r^(t|~i))+n+s|0,a)+t|0}i(MD5,n),MD5.prototype._update=function(){for(var e=a,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var r=this._a,i=this._b,n=this._c,s=this._d;r=fnF(r,i,n,s,e[0],3614090360,7),s=fnF(s,r,i,n,e[1],3905402710,12),n=fnF(n,s,r,i,e[2],606105819,17),i=fnF(i,n,s,r,e[3],3250441966,22),r=fnF(r,i,n,s,e[4],4118548399,7),s=fnF(s,r,i,n,e[5],1200080426,12),n=fnF(n,s,r,i,e[6],2821735955,17),i=fnF(i,n,s,r,e[7],4249261313,22),r=fnF(r,i,n,s,e[8],1770035416,7),s=fnF(s,r,i,n,e[9],2336552879,12),n=fnF(n,s,r,i,e[10],4294925233,17),i=fnF(i,n,s,r,e[11],2304563134,22),r=fnF(r,i,n,s,e[12],1804603682,7),s=fnF(s,r,i,n,e[13],4254626195,12),n=fnF(n,s,r,i,e[14],2792965006,17),r=fnG(r,i=fnF(i,n,s,r,e[15],1236535329,22),n,s,e[1],4129170786,5),s=fnG(s,r,i,n,e[6],3225465664,9),n=fnG(n,s,r,i,e[11],643717713,14),i=fnG(i,n,s,r,e[0],3921069994,20),r=fnG(r,i,n,s,e[5],3593408605,5),s=fnG(s,r,i,n,e[10],38016083,9),n=fnG(n,s,r,i,e[15],3634488961,14),i=fnG(i,n,s,r,e[4],3889429448,20),r=fnG(r,i,n,s,e[9],568446438,5),s=fnG(s,r,i,n,e[14],3275163606,9),n=fnG(n,s,r,i,e[3],4107603335,14),i=fnG(i,n,s,r,e[8],1163531501,20),r=fnG(r,i,n,s,e[13],2850285829,5),s=fnG(s,r,i,n,e[2],4243563512,9),n=fnG(n,s,r,i,e[7],1735328473,14),r=fnH(r,i=fnG(i,n,s,r,e[12],2368359562,20),n,s,e[5],4294588738,4),s=fnH(s,r,i,n,e[8],2272392833,11),n=fnH(n,s,r,i,e[11],1839030562,16),i=fnH(i,n,s,r,e[14],4259657740,23),r=fnH(r,i,n,s,e[1],2763975236,4),s=fnH(s,r,i,n,e[4],1272893353,11),n=fnH(n,s,r,i,e[7],4139469664,16),i=fnH(i,n,s,r,e[10],3200236656,23),r=fnH(r,i,n,s,e[13],681279174,4),s=fnH(s,r,i,n,e[0],3936430074,11),n=fnH(n,s,r,i,e[3],3572445317,16),i=fnH(i,n,s,r,e[6],76029189,23),r=fnH(r,i,n,s,e[9],3654602809,4),s=fnH(s,r,i,n,e[12],3873151461,11),n=fnH(n,s,r,i,e[15],530742520,16),r=fnI(r,i=fnH(i,n,s,r,e[2],3299628645,23),n,s,e[0],4096336452,6),s=fnI(s,r,i,n,e[7],1126891415,10),n=fnI(n,s,r,i,e[14],2878612391,15),i=fnI(i,n,s,r,e[5],4237533241,21),r=fnI(r,i,n,s,e[12],1700485571,6),s=fnI(s,r,i,n,e[3],2399980690,10),n=fnI(n,s,r,i,e[10],4293915773,15),i=fnI(i,n,s,r,e[1],2240044497,21),r=fnI(r,i,n,s,e[8],1873313359,6),s=fnI(s,r,i,n,e[15],4264355552,10),n=fnI(n,s,r,i,e[6],2734768916,15),i=fnI(i,n,s,r,e[13],1309151649,21),r=fnI(r,i,n,s,e[4],4149444226,6),s=fnI(s,r,i,n,e[11],3174756917,10),n=fnI(n,s,r,i,e[2],718787259,15),i=fnI(i,n,s,r,e[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+i|0,this._c=this._c+n|0,this._d=this._d+s|0},MD5.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=s.allocUnsafe(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e},e.exports=MD5},7784:e=>{function assert(e,t){if(!e)throw new Error(t||"Assertion failed")}e.exports=assert,assert.equal=function assertEqual(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)}},9042:(e,t)=>{"use strict";var r=t;function zero2(e){return 1===e.length?"0"+e:e}function toHex(e){for(var t="",r=0;r<e.length;r++)t+=zero2(e[r].toString(16));return t}r.toArray=function toArray(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!=typeof e){for(var i=0;i<e.length;i++)r[i]=0|e[i];return r}if("hex"===t){(e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e);for(i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}else for(i=0;i<e.length;i++){var n=e.charCodeAt(i),s=n>>8,a=255&n;s?r.push(s,a):r.push(a)}return r},r.zero2=zero2,r.toHex=toHex,r.encode=function encode(e,t){return"hex"===t?toHex(e):e}},7250:e=>{var t=1e3,r=60*t,i=60*r,n=24*i,s=7*n,a=365.25*n;function plural(e,t,r,i){var n=t>=1.5*r;return Math.round(e/r)+" "+i+(n?"s":"")}e.exports=function(e,o){o=o||{};var d=typeof e;if("string"===d&&e.length>0)return function parse(e){if((e=String(e)).length>100)return;var o=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!o)return;var d=parseFloat(o[1]);switch((o[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return d*a;case"weeks":case"week":case"w":return d*s;case"days":case"day":case"d":return d*n;case"hours":case"hour":case"hrs":case"hr":case"h":return d*i;case"minutes":case"minute":case"mins":case"min":case"m":return d*r;case"seconds":case"second":case"secs":case"sec":case"s":return d*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return d;default:return}}(e);if("number"===d&&isFinite(e))return o.long?function fmtLong(e){var s=Math.abs(e);if(s>=n)return plural(e,s,n,"day");if(s>=i)return plural(e,s,i,"hour");if(s>=r)return plural(e,s,r,"minute");if(s>=t)return plural(e,s,t,"second");return e+" ms"}(e):function fmtShort(e){var s=Math.abs(e);if(s>=n)return Math.round(e/n)+"d";if(s>=i)return Math.round(e/i)+"h";if(s>=r)return Math.round(e/r)+"m";if(s>=t)return Math.round(e/t)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},2372:e=>{"use strict";var numberIsNaN=function(e){return e!=e};e.exports=function is(e,t){return 0===e&&0===t?1/e==1/t:e===t||!(!numberIsNaN(e)||!numberIsNaN(t))}},5968:(e,t,r)=>{"use strict";var i=r(1857),n=r(8498),s=r(2372),a=r(1937),o=r(5087),d=n(a(),Object);i(d,{getPolyfill:a,implementation:s,shim:o}),e.exports=d},1937:(e,t,r)=>{"use strict";var i=r(2372);e.exports=function getPolyfill(){return"function"==typeof Object.is?Object.is:i}},5087:(e,t,r)=>{"use strict";var i=r(1937),n=r(1857);e.exports=function shimObjectIs(){var e=i();return n(Object,{is:e},{is:function testObjectIs(){return Object.is!==e}}),e}},8160:(e,t,r)=>{"use strict";var i;if(!Object.keys){var n=Object.prototype.hasOwnProperty,s=Object.prototype.toString,a=r(968),o=Object.prototype.propertyIsEnumerable,d=!o.call({toString:null},"toString"),u=o.call((function(){}),"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],equalsConstructorPrototype=function(e){var t=e.constructor;return t&&t.prototype===e},c={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},p=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!c["$"+e]&&n.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{equalsConstructorPrototype(window[e])}catch(e){return!0}}catch(e){return!0}return!1}();i=function keys(e){var t=null!==e&&"object"==typeof e,r="[object Function]"===s.call(e),i=a(e),o=t&&"[object String]"===s.call(e),c=[];if(!t&&!r&&!i)throw new TypeError("Object.keys called on a non-object");var h=u&&r;if(o&&e.length>0&&!n.call(e,0))for(var y=0;y<e.length;++y)c.push(String(y));if(i&&e.length>0)for(var g=0;g<e.length;++g)c.push(String(g));else for(var m in e)h&&"prototype"===m||!n.call(e,m)||c.push(String(m));if(d)for(var b=function(e){if("undefined"==typeof window||!p)return equalsConstructorPrototype(e);try{return equalsConstructorPrototype(e)}catch(e){return!1}}(e),v=0;v<l.length;++v)b&&"constructor"===l[v]||!n.call(e,l[v])||c.push(l[v]);return c}}e.exports=i},9228:(e,t,r)=>{"use strict";var i=Array.prototype.slice,n=r(968),s=Object.keys,a=s?function keys(e){return s(e)}:r(8160),o=Object.keys;a.shim=function shimObjectKeys(){if(Object.keys){var e=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);e||(Object.keys=function keys(e){return n(e)?o(i.call(e)):o(e)})}else Object.keys=a;return Object.keys||a},e.exports=a},968:e=>{"use strict";var t=Object.prototype.toString;e.exports=function isArguments(e){var r=t.call(e),i="[object Arguments]"===r;return i||(i="[object Array]"!==r&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===t.call(e.callee)),i}},1791:(e,t,r)=>{"use strict";var i={};(0,r(1824).assign)(i,r(8940),r(3744),r(7200)),e.exports=i},8940:(e,t,r)=>{"use strict";var i=r(6446),n=r(1824),s=r(5695),a=r(2817),o=r(2495),d=Object.prototype.toString,u=0,l=-1,c=0,p=8;function Deflate(e){if(!(this instanceof Deflate))return new Deflate(e);this.options=n.assign({level:l,method:p,chunkSize:16384,windowBits:15,memLevel:8,strategy:c,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o,this.strm.avail_out=0;var r=i.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==u)throw new Error(a[r]);if(t.header&&i.deflateSetHeader(this.strm,t.header),t.dictionary){var h;if(h="string"==typeof t.dictionary?s.string2buf(t.dictionary):"[object ArrayBuffer]"===d.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(r=i.deflateSetDictionary(this.strm,h))!==u)throw new Error(a[r]);this._dict_set=!0}}function deflate(e,t){var r=new Deflate(t);if(r.push(e,!0),r.err)throw r.msg||a[r.err];return r.result}Deflate.prototype.push=function(e,t){var r,a,o=this.strm,l=this.options.chunkSize;if(this.ended)return!1;a=t===~~t?t:!0===t?4:0,"string"==typeof e?o.input=s.string2buf(e):"[object ArrayBuffer]"===d.call(e)?o.input=new Uint8Array(e):o.input=e,o.next_in=0,o.avail_in=o.input.length;do{if(0===o.avail_out&&(o.output=new n.Buf8(l),o.next_out=0,o.avail_out=l),1!==(r=i.deflate(o,a))&&r!==u)return this.onEnd(r),this.ended=!0,!1;0!==o.avail_out&&(0!==o.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(s.buf2binstring(n.shrinkBuf(o.output,o.next_out))):this.onData(n.shrinkBuf(o.output,o.next_out)))}while((o.avail_in>0||0===o.avail_out)&&1!==r);return 4===a?(r=i.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===u):2!==a||(this.onEnd(u),o.avail_out=0,!0)},Deflate.prototype.onData=function(e){this.chunks.push(e)},Deflate.prototype.onEnd=function(e){e===u&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=n.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Deflate=Deflate,t.deflate=deflate,t.deflateRaw=function deflateRaw(e,t){return(t=t||{}).raw=!0,deflate(e,t)},t.gzip=function gzip(e,t){return(t=t||{}).gzip=!0,deflate(e,t)}},3744:(e,t,r)=>{"use strict";var i=r(8142),n=r(1824),s=r(5695),a=r(7200),o=r(2817),d=r(2495),u=r(6153),l=Object.prototype.toString;function Inflate(e){if(!(this instanceof Inflate))return new Inflate(e);this.options=n.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(15&t.windowBits||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var r=i.inflateInit2(this.strm,t.windowBits);if(r!==a.Z_OK)throw new Error(o[r]);if(this.header=new u,i.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=s.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=i.inflateSetDictionary(this.strm,t.dictionary))!==a.Z_OK))throw new Error(o[r])}function inflate(e,t){var r=new Inflate(t);if(r.push(e,!0),r.err)throw r.msg||o[r.err];return r.result}Inflate.prototype.push=function(e,t){var r,o,d,u,c,p=this.strm,h=this.options.chunkSize,y=this.options.dictionary,g=!1;if(this.ended)return!1;o=t===~~t?t:!0===t?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof e?p.input=s.binstring2buf(e):"[object ArrayBuffer]"===l.call(e)?p.input=new Uint8Array(e):p.input=e,p.next_in=0,p.avail_in=p.input.length;do{if(0===p.avail_out&&(p.output=new n.Buf8(h),p.next_out=0,p.avail_out=h),(r=i.inflate(p,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&y&&(r=i.inflateSetDictionary(this.strm,y)),r===a.Z_BUF_ERROR&&!0===g&&(r=a.Z_OK,g=!1),r!==a.Z_STREAM_END&&r!==a.Z_OK)return this.onEnd(r),this.ended=!0,!1;p.next_out&&(0!==p.avail_out&&r!==a.Z_STREAM_END&&(0!==p.avail_in||o!==a.Z_FINISH&&o!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(d=s.utf8border(p.output,p.next_out),u=p.next_out-d,c=s.buf2string(p.output,d),p.next_out=u,p.avail_out=h-u,u&&n.arraySet(p.output,p.output,d,u,0),this.onData(c)):this.onData(n.shrinkBuf(p.output,p.next_out)))),0===p.avail_in&&0===p.avail_out&&(g=!0)}while((p.avail_in>0||0===p.avail_out)&&r!==a.Z_STREAM_END);return r===a.Z_STREAM_END&&(o=a.Z_FINISH),o===a.Z_FINISH?(r=i.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===a.Z_OK):o!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),p.avail_out=0,!0)},Inflate.prototype.onData=function(e){this.chunks.push(e)},Inflate.prototype.onEnd=function(e){e===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=n.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Inflate=Inflate,t.inflate=inflate,t.inflateRaw=function inflateRaw(e,t){return(t=t||{}).raw=!0,inflate(e,t)},t.ungzip=inflate},1824:(e,t)=>{"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function _has(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var r=t.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(var i in r)_has(r,i)&&(e[i]=r[i])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,r,i,n){if(t.subarray&&e.subarray)e.set(t.subarray(r,r+i),n);else for(var s=0;s<i;s++)e[n+s]=t[r+s]},flattenChunks:function(e){var t,r,i,n,s,a;for(i=0,t=0,r=e.length;t<r;t++)i+=e[t].length;for(a=new Uint8Array(i),n=0,t=0,r=e.length;t<r;t++)s=e[t],a.set(s,n),n+=s.length;return a}},n={arraySet:function(e,t,r,i,n){for(var s=0;s<i;s++)e[n+s]=t[r+s]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,i)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,n))},t.setTyped(r)},5695:(e,t,r)=>{"use strict";var i=r(1824),n=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(e){n=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){s=!1}for(var a=new i.Buf8(256),o=0;o<256;o++)a[o]=o>=252?6:o>=248?5:o>=240?4:o>=224?3:o>=192?2:1;function buf2binstring(e,t){if(t<65534&&(e.subarray&&s||!e.subarray&&n))return String.fromCharCode.apply(null,i.shrinkBuf(e,t));for(var r="",a=0;a<t;a++)r+=String.fromCharCode(e[a]);return r}a[254]=a[254]=1,t.string2buf=function(e){var t,r,n,s,a,o=e.length,d=0;for(s=0;s<o;s++)55296==(64512&(r=e.charCodeAt(s)))&&s+1<o&&56320==(64512&(n=e.charCodeAt(s+1)))&&(r=65536+(r-55296<<10)+(n-56320),s++),d+=r<128?1:r<2048?2:r<65536?3:4;for(t=new i.Buf8(d),a=0,s=0;a<d;s++)55296==(64512&(r=e.charCodeAt(s)))&&s+1<o&&56320==(64512&(n=e.charCodeAt(s+1)))&&(r=65536+(r-55296<<10)+(n-56320),s++),r<128?t[a++]=r:r<2048?(t[a++]=192|r>>>6,t[a++]=128|63&r):r<65536?(t[a++]=224|r>>>12,t[a++]=128|r>>>6&63,t[a++]=128|63&r):(t[a++]=240|r>>>18,t[a++]=128|r>>>12&63,t[a++]=128|r>>>6&63,t[a++]=128|63&r);return t},t.buf2binstring=function(e){return buf2binstring(e,e.length)},t.binstring2buf=function(e){for(var t=new i.Buf8(e.length),r=0,n=t.length;r<n;r++)t[r]=e.charCodeAt(r);return t},t.buf2string=function(e,t){var r,i,n,s,o=t||e.length,d=new Array(2*o);for(i=0,r=0;r<o;)if((n=e[r++])<128)d[i++]=n;else if((s=a[n])>4)d[i++]=65533,r+=s-1;else{for(n&=2===s?31:3===s?15:7;s>1&&r<o;)n=n<<6|63&e[r++],s--;s>1?d[i++]=65533:n<65536?d[i++]=n:(n-=65536,d[i++]=55296|n>>10&1023,d[i++]=56320|1023&n)}return buf2binstring(d,i)},t.utf8border=function(e,t){var r;for((t=t||e.length)>e.length&&(t=e.length),r=t-1;r>=0&&128==(192&e[r]);)r--;return r<0||0===r?t:r+a[e[r]]>t?r:t}},6904:e=>{"use strict";e.exports=function adler32(e,t,r,i){for(var n=65535&e,s=e>>>16&65535,a=0;0!==r;){r-=a=r>2e3?2e3:r;do{s=s+(n=n+t[i++]|0)|0}while(--a);n%=65521,s%=65521}return n|s<<16}},7200:e=>{"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},2506:e=>{"use strict";var t=function makeTable(){for(var e,t=[],r=0;r<256;r++){e=r;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();e.exports=function crc32(e,r,i,n){var s=t,a=n+i;e^=-1;for(var o=n;o<a;o++)e=e>>>8^s[255&(e^r[o])];return~e}},6446:(e,t,r)=>{"use strict";var i,n=r(1824),s=r(9708),a=r(6904),o=r(2506),d=r(2817),u=0,l=4,c=0,p=-2,h=-1,y=4,g=2,m=8,b=9,v=286,_=30,w=19,E=2*v+1,T=15,A=3,M=258,O=M+A+1,x=42,k=103,I=113,C=666,B=1,N=2,P=3,D=4;function err(e,t){return e.msg=d[t],t}function rank(e){return(e<<1)-(e>4?9:0)}function zero(e){for(var t=e.length;--t>=0;)e[t]=0}function flush_pending(e){var t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(n.arraySet(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))}function flush_block_only(e,t){s._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,flush_pending(e.strm)}function put_byte(e,t){e.pending_buf[e.pending++]=t}function putShortMSB(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function longest_match(e,t){var r,i,n=e.max_chain_length,s=e.strstart,a=e.prev_length,o=e.nice_match,d=e.strstart>e.w_size-O?e.strstart-(e.w_size-O):0,u=e.window,l=e.w_mask,c=e.prev,p=e.strstart+M,h=u[s+a-1],y=u[s+a];e.prev_length>=e.good_match&&(n>>=2),o>e.lookahead&&(o=e.lookahead);do{if(u[(r=t)+a]===y&&u[r+a-1]===h&&u[r]===u[s]&&u[++r]===u[s+1]){s+=2,r++;do{}while(u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&s<p);if(i=M-(p-s),s=p-M,i>a){if(e.match_start=t,a=i,i>=o)break;h=u[s+a-1],y=u[s+a]}}}while((t=c[t&l])>d&&0!=--n);return a<=e.lookahead?a:e.lookahead}function fill_window(e){var t,r,i,s,d,u,l,c,p,h,y=e.w_size;do{if(s=e.window_size-e.lookahead-e.strstart,e.strstart>=y+(y-O)){n.arraySet(e.window,e.window,y,y,0),e.match_start-=y,e.strstart-=y,e.block_start-=y,t=r=e.hash_size;do{i=e.head[--t],e.head[t]=i>=y?i-y:0}while(--r);t=r=y;do{i=e.prev[--t],e.prev[t]=i>=y?i-y:0}while(--r);s+=y}if(0===e.strm.avail_in)break;if(u=e.strm,l=e.window,c=e.strstart+e.lookahead,p=s,h=void 0,(h=u.avail_in)>p&&(h=p),r=0===h?0:(u.avail_in-=h,n.arraySet(l,u.input,u.next_in,h,c),1===u.state.wrap?u.adler=a(u.adler,l,h,c):2===u.state.wrap&&(u.adler=o(u.adler,l,h,c)),u.next_in+=h,u.total_in+=h,h),e.lookahead+=r,e.lookahead+e.insert>=A)for(d=e.strstart-e.insert,e.ins_h=e.window[d],e.ins_h=(e.ins_h<<e.hash_shift^e.window[d+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[d+A-1])&e.hash_mask,e.prev[d&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=d,d++,e.insert--,!(e.lookahead+e.insert<A)););}while(e.lookahead<O&&0!==e.strm.avail_in)}function deflate_fast(e,t){for(var r,i;;){if(e.lookahead<O){if(fill_window(e),e.lookahead<O&&t===u)return B;if(0===e.lookahead)break}if(r=0,e.lookahead>=A&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+A-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-O&&(e.match_length=longest_match(e,r)),e.match_length>=A)if(i=s._tr_tally(e,e.strstart-e.match_start,e.match_length-A),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=A){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+A-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else i=s._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(flush_block_only(e,!1),0===e.strm.avail_out))return B}return e.insert=e.strstart<A-1?e.strstart:A-1,t===l?(flush_block_only(e,!0),0===e.strm.avail_out?P:D):e.last_lit&&(flush_block_only(e,!1),0===e.strm.avail_out)?B:N}function deflate_slow(e,t){for(var r,i,n;;){if(e.lookahead<O){if(fill_window(e),e.lookahead<O&&t===u)return B;if(0===e.lookahead)break}if(r=0,e.lookahead>=A&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+A-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=A-1,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-O&&(e.match_length=longest_match(e,r),e.match_length<=5&&(1===e.strategy||e.match_length===A&&e.strstart-e.match_start>4096)&&(e.match_length=A-1)),e.prev_length>=A&&e.match_length<=e.prev_length){n=e.strstart+e.lookahead-A,i=s._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-A),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=n&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+A-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=A-1,e.strstart++,i&&(flush_block_only(e,!1),0===e.strm.avail_out))return B}else if(e.match_available){if((i=s._tr_tally(e,0,e.window[e.strstart-1]))&&flush_block_only(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return B}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=s._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<A-1?e.strstart:A-1,t===l?(flush_block_only(e,!0),0===e.strm.avail_out?P:D):e.last_lit&&(flush_block_only(e,!1),0===e.strm.avail_out)?B:N}function Config(e,t,r,i,n){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=i,this.func=n}function DeflateState(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=m,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new n.Buf16(2*E),this.dyn_dtree=new n.Buf16(2*(2*_+1)),this.bl_tree=new n.Buf16(2*(2*w+1)),zero(this.dyn_ltree),zero(this.dyn_dtree),zero(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new n.Buf16(T+1),this.heap=new n.Buf16(2*v+1),zero(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new n.Buf16(2*v+1),zero(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function deflateResetKeep(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=g,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?x:I,e.adler=2===t.wrap?0:1,t.last_flush=u,s._tr_init(t),c):err(e,p)}function deflateReset(e){var t=deflateResetKeep(e);return t===c&&function lm_init(e){e.window_size=2*e.w_size,zero(e.head),e.max_lazy_match=i[e.level].max_lazy,e.good_match=i[e.level].good_length,e.nice_match=i[e.level].nice_length,e.max_chain_length=i[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=A-1,e.match_available=0,e.ins_h=0}(e.state),t}function deflateInit2(e,t,r,i,s,a){if(!e)return p;var o=1;if(t===h&&(t=6),i<0?(o=0,i=-i):i>15&&(o=2,i-=16),s<1||s>b||r!==m||i<8||i>15||t<0||t>9||a<0||a>y)return err(e,p);8===i&&(i=9);var d=new DeflateState;return e.state=d,d.strm=e,d.wrap=o,d.gzhead=null,d.w_bits=i,d.w_size=1<<d.w_bits,d.w_mask=d.w_size-1,d.hash_bits=s+7,d.hash_size=1<<d.hash_bits,d.hash_mask=d.hash_size-1,d.hash_shift=~~((d.hash_bits+A-1)/A),d.window=new n.Buf8(2*d.w_size),d.head=new n.Buf16(d.hash_size),d.prev=new n.Buf16(d.w_size),d.lit_bufsize=1<<s+6,d.pending_buf_size=4*d.lit_bufsize,d.pending_buf=new n.Buf8(d.pending_buf_size),d.d_buf=1*d.lit_bufsize,d.l_buf=3*d.lit_bufsize,d.level=t,d.strategy=a,d.method=r,deflateReset(e)}i=[new Config(0,0,0,0,(function deflate_stored(e,t){var r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(fill_window(e),0===e.lookahead&&t===u)return B;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var i=e.block_start+r;if((0===e.strstart||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,flush_block_only(e,!1),0===e.strm.avail_out))return B;if(e.strstart-e.block_start>=e.w_size-O&&(flush_block_only(e,!1),0===e.strm.avail_out))return B}return e.insert=0,t===l?(flush_block_only(e,!0),0===e.strm.avail_out?P:D):(e.strstart>e.block_start&&(flush_block_only(e,!1),e.strm.avail_out),B)})),new Config(4,4,8,4,deflate_fast),new Config(4,5,16,8,deflate_fast),new Config(4,6,32,32,deflate_fast),new Config(4,4,16,16,deflate_slow),new Config(8,16,32,32,deflate_slow),new Config(8,16,128,128,deflate_slow),new Config(8,32,128,256,deflate_slow),new Config(32,128,258,1024,deflate_slow),new Config(32,258,258,4096,deflate_slow)],t.deflateInit=function deflateInit(e,t){return deflateInit2(e,t,m,15,8,0)},t.deflateInit2=deflateInit2,t.deflateReset=deflateReset,t.deflateResetKeep=deflateResetKeep,t.deflateSetHeader=function deflateSetHeader(e,t){return e&&e.state?2!==e.state.wrap?p:(e.state.gzhead=t,c):p},t.deflate=function deflate(e,t){var r,n,a,d;if(!e||!e.state||t>5||t<0)return e?err(e,p):p;if(n=e.state,!e.output||!e.input&&0!==e.avail_in||n.status===C&&t!==l)return err(e,0===e.avail_out?-5:p);if(n.strm=e,r=n.last_flush,n.last_flush=t,n.status===x)if(2===n.wrap)e.adler=0,put_byte(n,31),put_byte(n,139),put_byte(n,8),n.gzhead?(put_byte(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),put_byte(n,255&n.gzhead.time),put_byte(n,n.gzhead.time>>8&255),put_byte(n,n.gzhead.time>>16&255),put_byte(n,n.gzhead.time>>24&255),put_byte(n,9===n.level?2:n.strategy>=2||n.level<2?4:0),put_byte(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(put_byte(n,255&n.gzhead.extra.length),put_byte(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=o(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69):(put_byte(n,0),put_byte(n,0),put_byte(n,0),put_byte(n,0),put_byte(n,0),put_byte(n,9===n.level?2:n.strategy>=2||n.level<2?4:0),put_byte(n,3),n.status=I);else{var h=m+(n.w_bits-8<<4)<<8;h|=(n.strategy>=2||n.level<2?0:n.level<6?1:6===n.level?2:3)<<6,0!==n.strstart&&(h|=32),h+=31-h%31,n.status=I,putShortMSB(n,h),0!==n.strstart&&(putShortMSB(n,e.adler>>>16),putShortMSB(n,65535&e.adler)),e.adler=1}if(69===n.status)if(n.gzhead.extra){for(a=n.pending;n.gzindex<(65535&n.gzhead.extra.length)&&(n.pending!==n.pending_buf_size||(n.gzhead.hcrc&&n.pending>a&&(e.adler=o(e.adler,n.pending_buf,n.pending-a,a)),flush_pending(e),a=n.pending,n.pending!==n.pending_buf_size));)put_byte(n,255&n.gzhead.extra[n.gzindex]),n.gzindex++;n.gzhead.hcrc&&n.pending>a&&(e.adler=o(e.adler,n.pending_buf,n.pending-a,a)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=73)}else n.status=73;if(73===n.status)if(n.gzhead.name){a=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>a&&(e.adler=o(e.adler,n.pending_buf,n.pending-a,a)),flush_pending(e),a=n.pending,n.pending===n.pending_buf_size)){d=1;break}d=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,put_byte(n,d)}while(0!==d);n.gzhead.hcrc&&n.pending>a&&(e.adler=o(e.adler,n.pending_buf,n.pending-a,a)),0===d&&(n.gzindex=0,n.status=91)}else n.status=91;if(91===n.status)if(n.gzhead.comment){a=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>a&&(e.adler=o(e.adler,n.pending_buf,n.pending-a,a)),flush_pending(e),a=n.pending,n.pending===n.pending_buf_size)){d=1;break}d=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,put_byte(n,d)}while(0!==d);n.gzhead.hcrc&&n.pending>a&&(e.adler=o(e.adler,n.pending_buf,n.pending-a,a)),0===d&&(n.status=k)}else n.status=k;if(n.status===k&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&flush_pending(e),n.pending+2<=n.pending_buf_size&&(put_byte(n,255&e.adler),put_byte(n,e.adler>>8&255),e.adler=0,n.status=I)):n.status=I),0!==n.pending){if(flush_pending(e),0===e.avail_out)return n.last_flush=-1,c}else if(0===e.avail_in&&rank(t)<=rank(r)&&t!==l)return err(e,-5);if(n.status===C&&0!==e.avail_in)return err(e,-5);if(0!==e.avail_in||0!==n.lookahead||t!==u&&n.status!==C){var y=2===n.strategy?function deflate_huff(e,t){for(var r;;){if(0===e.lookahead&&(fill_window(e),0===e.lookahead)){if(t===u)return B;break}if(e.match_length=0,r=s._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(flush_block_only(e,!1),0===e.strm.avail_out))return B}return e.insert=0,t===l?(flush_block_only(e,!0),0===e.strm.avail_out?P:D):e.last_lit&&(flush_block_only(e,!1),0===e.strm.avail_out)?B:N}(n,t):3===n.strategy?function deflate_rle(e,t){for(var r,i,n,a,o=e.window;;){if(e.lookahead<=M){if(fill_window(e),e.lookahead<=M&&t===u)return B;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=A&&e.strstart>0&&(i=o[n=e.strstart-1])===o[++n]&&i===o[++n]&&i===o[++n]){a=e.strstart+M;do{}while(i===o[++n]&&i===o[++n]&&i===o[++n]&&i===o[++n]&&i===o[++n]&&i===o[++n]&&i===o[++n]&&i===o[++n]&&n<a);e.match_length=M-(a-n),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=A?(r=s._tr_tally(e,1,e.match_length-A),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=s._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(flush_block_only(e,!1),0===e.strm.avail_out))return B}return e.insert=0,t===l?(flush_block_only(e,!0),0===e.strm.avail_out?P:D):e.last_lit&&(flush_block_only(e,!1),0===e.strm.avail_out)?B:N}(n,t):i[n.level].func(n,t);if(y!==P&&y!==D||(n.status=C),y===B||y===P)return 0===e.avail_out&&(n.last_flush=-1),c;if(y===N&&(1===t?s._tr_align(n):5!==t&&(s._tr_stored_block(n,0,0,!1),3===t&&(zero(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),flush_pending(e),0===e.avail_out))return n.last_flush=-1,c}return t!==l?c:n.wrap<=0?1:(2===n.wrap?(put_byte(n,255&e.adler),put_byte(n,e.adler>>8&255),put_byte(n,e.adler>>16&255),put_byte(n,e.adler>>24&255),put_byte(n,255&e.total_in),put_byte(n,e.total_in>>8&255),put_byte(n,e.total_in>>16&255),put_byte(n,e.total_in>>24&255)):(putShortMSB(n,e.adler>>>16),putShortMSB(n,65535&e.adler)),flush_pending(e),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?c:1)},t.deflateEnd=function deflateEnd(e){var t;return e&&e.state?(t=e.state.status)!==x&&69!==t&&73!==t&&91!==t&&t!==k&&t!==I&&t!==C?err(e,p):(e.state=null,t===I?err(e,-3):c):p},t.deflateSetDictionary=function deflateSetDictionary(e,t){var r,i,s,o,d,u,l,h,y=t.length;if(!e||!e.state)return p;if(2===(o=(r=e.state).wrap)||1===o&&r.status!==x||r.lookahead)return p;for(1===o&&(e.adler=a(e.adler,t,y,0)),r.wrap=0,y>=r.w_size&&(0===o&&(zero(r.head),r.strstart=0,r.block_start=0,r.insert=0),h=new n.Buf8(r.w_size),n.arraySet(h,t,y-r.w_size,r.w_size,0),t=h,y=r.w_size),d=e.avail_in,u=e.next_in,l=e.input,e.avail_in=y,e.next_in=0,e.input=t,fill_window(r);r.lookahead>=A;){i=r.strstart,s=r.lookahead-(A-1);do{r.ins_h=(r.ins_h<<r.hash_shift^r.window[i+A-1])&r.hash_mask,r.prev[i&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=i,i++}while(--s);r.strstart=i,r.lookahead=A-1,fill_window(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=A-1,r.match_available=0,e.next_in=u,e.input=l,e.avail_in=d,r.wrap=o,c},t.deflateInfo="pako deflate (from Nodeca project)"},6153:e=>{"use strict";e.exports=function GZheader(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},2128:e=>{"use strict";e.exports=function inflate_fast(e,t){var r,i,n,s,a,o,d,u,l,c,p,h,y,g,m,b,v,_,w,E,T,A,M,O,x;r=e.state,i=e.next_in,O=e.input,n=i+(e.avail_in-5),s=e.next_out,x=e.output,a=s-(t-e.avail_out),o=s+(e.avail_out-257),d=r.dmax,u=r.wsize,l=r.whave,c=r.wnext,p=r.window,h=r.hold,y=r.bits,g=r.lencode,m=r.distcode,b=(1<<r.lenbits)-1,v=(1<<r.distbits)-1;e:do{y<15&&(h+=O[i++]<<y,y+=8,h+=O[i++]<<y,y+=8),_=g[h&b];t:for(;;){if(h>>>=w=_>>>24,y-=w,0===(w=_>>>16&255))x[s++]=65535&_;else{if(!(16&w)){if(64&w){if(32&w){r.mode=12;break e}e.msg="invalid literal/length code",r.mode=30;break e}_=g[(65535&_)+(h&(1<<w)-1)];continue t}for(E=65535&_,(w&=15)&&(y<w&&(h+=O[i++]<<y,y+=8),E+=h&(1<<w)-1,h>>>=w,y-=w),y<15&&(h+=O[i++]<<y,y+=8,h+=O[i++]<<y,y+=8),_=m[h&v];;){if(h>>>=w=_>>>24,y-=w,16&(w=_>>>16&255)){if(T=65535&_,y<(w&=15)&&(h+=O[i++]<<y,(y+=8)<w&&(h+=O[i++]<<y,y+=8)),(T+=h&(1<<w)-1)>d){e.msg="invalid distance too far back",r.mode=30;break e}if(h>>>=w,y-=w,T>(w=s-a)){if((w=T-w)>l&&r.sane){e.msg="invalid distance too far back",r.mode=30;break e}if(A=0,M=p,0===c){if(A+=u-w,w<E){E-=w;do{x[s++]=p[A++]}while(--w);A=s-T,M=x}}else if(c<w){if(A+=u+c-w,(w-=c)<E){E-=w;do{x[s++]=p[A++]}while(--w);if(A=0,c<E){E-=w=c;do{x[s++]=p[A++]}while(--w);A=s-T,M=x}}}else if(A+=c-w,w<E){E-=w;do{x[s++]=p[A++]}while(--w);A=s-T,M=x}for(;E>2;)x[s++]=M[A++],x[s++]=M[A++],x[s++]=M[A++],E-=3;E&&(x[s++]=M[A++],E>1&&(x[s++]=M[A++]))}else{A=s-T;do{x[s++]=x[A++],x[s++]=x[A++],x[s++]=x[A++],E-=3}while(E>2);E&&(x[s++]=x[A++],E>1&&(x[s++]=x[A++]))}break}if(64&w){e.msg="invalid distance code",r.mode=30;break e}_=m[(65535&_)+(h&(1<<w)-1)]}}break}}while(i<n&&s<o);i-=E=y>>3,h&=(1<<(y-=E<<3))-1,e.next_in=i,e.next_out=s,e.avail_in=i<n?n-i+5:5-(i-n),e.avail_out=s<o?o-s+257:257-(s-o),r.hold=h,r.bits=y}},8142:(e,t,r)=>{"use strict";var i=r(1824),n=r(6904),s=r(2506),a=r(2128),o=r(9673),d=1,u=2,l=0,c=-2,p=1,h=12,y=30,g=852,m=592;function zswap32(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function InflateState(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function inflateResetKeep(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=p,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new i.Buf32(g),t.distcode=t.distdyn=new i.Buf32(m),t.sane=1,t.back=-1,l):c}function inflateReset(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,inflateResetKeep(e)):c}function inflateReset2(e,t){var r,i;return e&&e.state?(i=e.state,t<0?(r=0,t=-t):(r=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?c:(null!==i.window&&i.wbits!==t&&(i.window=null),i.wrap=r,i.wbits=t,inflateReset(e))):c}function inflateInit2(e,t){var r,i;return e?(i=new InflateState,e.state=i,i.window=null,(r=inflateReset2(e,t))!==l&&(e.state=null),r):c}var b,v,_=!0;function fixedtables(e){if(_){var t;for(b=new i.Buf32(512),v=new i.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(o(d,e.lens,0,288,b,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;o(u,e.lens,0,32,v,0,e.work,{bits:5}),_=!1}e.lencode=b,e.lenbits=9,e.distcode=v,e.distbits=5}function updatewindow(e,t,r,n){var s,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new i.Buf8(a.wsize)),n>=a.wsize?(i.arraySet(a.window,t,r-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((s=a.wsize-a.wnext)>n&&(s=n),i.arraySet(a.window,t,r-n,s,a.wnext),(n-=s)?(i.arraySet(a.window,t,r-n,n,0),a.wnext=n,a.whave=a.wsize):(a.wnext+=s,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=s))),0}t.inflateReset=inflateReset,t.inflateReset2=inflateReset2,t.inflateResetKeep=inflateResetKeep,t.inflateInit=function inflateInit(e){return inflateInit2(e,15)},t.inflateInit2=inflateInit2,t.inflate=function inflate(e,t){var r,g,m,b,v,_,w,E,T,A,M,O,x,k,I,C,B,N,P,D,q,L,j,F,U=0,z=new i.Buf8(4),H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return c;(r=e.state).mode===h&&(r.mode=13),v=e.next_out,m=e.output,w=e.avail_out,b=e.next_in,g=e.input,_=e.avail_in,E=r.hold,T=r.bits,A=_,M=w,L=l;e:for(;;)switch(r.mode){case p:if(0===r.wrap){r.mode=13;break}for(;T<16;){if(0===_)break e;_--,E+=g[b++]<<T,T+=8}if(2&r.wrap&&35615===E){r.check=0,z[0]=255&E,z[1]=E>>>8&255,r.check=s(r.check,z,2,0),E=0,T=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&E)<<8)+(E>>8))%31){e.msg="incorrect header check",r.mode=y;break}if(8!=(15&E)){e.msg="unknown compression method",r.mode=y;break}if(T-=4,q=8+(15&(E>>>=4)),0===r.wbits)r.wbits=q;else if(q>r.wbits){e.msg="invalid window size",r.mode=y;break}r.dmax=1<<q,e.adler=r.check=1,r.mode=512&E?10:h,E=0,T=0;break;case 2:for(;T<16;){if(0===_)break e;_--,E+=g[b++]<<T,T+=8}if(r.flags=E,8!=(255&r.flags)){e.msg="unknown compression method",r.mode=y;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=y;break}r.head&&(r.head.text=E>>8&1),512&r.flags&&(z[0]=255&E,z[1]=E>>>8&255,r.check=s(r.check,z,2,0)),E=0,T=0,r.mode=3;case 3:for(;T<32;){if(0===_)break e;_--,E+=g[b++]<<T,T+=8}r.head&&(r.head.time=E),512&r.flags&&(z[0]=255&E,z[1]=E>>>8&255,z[2]=E>>>16&255,z[3]=E>>>24&255,r.check=s(r.check,z,4,0)),E=0,T=0,r.mode=4;case 4:for(;T<16;){if(0===_)break e;_--,E+=g[b++]<<T,T+=8}r.head&&(r.head.xflags=255&E,r.head.os=E>>8),512&r.flags&&(z[0]=255&E,z[1]=E>>>8&255,r.check=s(r.check,z,2,0)),E=0,T=0,r.mode=5;case 5:if(1024&r.flags){for(;T<16;){if(0===_)break e;_--,E+=g[b++]<<T,T+=8}r.length=E,r.head&&(r.head.extra_len=E),512&r.flags&&(z[0]=255&E,z[1]=E>>>8&255,r.check=s(r.check,z,2,0)),E=0,T=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&((O=r.length)>_&&(O=_),O&&(r.head&&(q=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),i.arraySet(r.head.extra,g,b,O,q)),512&r.flags&&(r.check=s(r.check,g,O,b)),_-=O,b+=O,r.length-=O),r.length))break e;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===_)break e;O=0;do{q=g[b+O++],r.head&&q&&r.length<65536&&(r.head.name+=String.fromCharCode(q))}while(q&&O<_);if(512&r.flags&&(r.check=s(r.check,g,O,b)),_-=O,b+=O,q)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===_)break e;O=0;do{q=g[b+O++],r.head&&q&&r.length<65536&&(r.head.comment+=String.fromCharCode(q))}while(q&&O<_);if(512&r.flags&&(r.check=s(r.check,g,O,b)),_-=O,b+=O,q)break e}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;T<16;){if(0===_)break e;_--,E+=g[b++]<<T,T+=8}if(E!==(65535&r.check)){e.msg="header crc mismatch",r.mode=y;break}E=0,T=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=h;break;case 10:for(;T<32;){if(0===_)break e;_--,E+=g[b++]<<T,T+=8}e.adler=r.check=zswap32(E),E=0,T=0,r.mode=11;case 11:if(0===r.havedict)return e.next_out=v,e.avail_out=w,e.next_in=b,e.avail_in=_,r.hold=E,r.bits=T,2;e.adler=r.check=1,r.mode=h;case h:if(5===t||6===t)break e;case 13:if(r.last){E>>>=7&T,T-=7&T,r.mode=27;break}for(;T<3;){if(0===_)break e;_--,E+=g[b++]<<T,T+=8}switch(r.last=1&E,T-=1,3&(E>>>=1)){case 0:r.mode=14;break;case 1:if(fixedtables(r),r.mode=20,6===t){E>>>=2,T-=2;break e}break;case 2:r.mode=17;break;case 3:e.msg="invalid block type",r.mode=y}E>>>=2,T-=2;break;case 14:for(E>>>=7&T,T-=7&T;T<32;){if(0===_)break e;_--,E+=g[b++]<<T,T+=8}if((65535&E)!=(E>>>16^65535)){e.msg="invalid stored block lengths",r.mode=y;break}if(r.length=65535&E,E=0,T=0,r.mode=15,6===t)break e;case 15:r.mode=16;case 16:if(O=r.length){if(O>_&&(O=_),O>w&&(O=w),0===O)break e;i.arraySet(m,g,b,O,v),_-=O,b+=O,w-=O,v+=O,r.length-=O;break}r.mode=h;break;case 17:for(;T<14;){if(0===_)break e;_--,E+=g[b++]<<T,T+=8}if(r.nlen=257+(31&E),E>>>=5,T-=5,r.ndist=1+(31&E),E>>>=5,T-=5,r.ncode=4+(15&E),E>>>=4,T-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=y;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;T<3;){if(0===_)break e;_--,E+=g[b++]<<T,T+=8}r.lens[H[r.have++]]=7&E,E>>>=3,T-=3}for(;r.have<19;)r.lens[H[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,j={bits:r.lenbits},L=o(0,r.lens,0,19,r.lencode,0,r.work,j),r.lenbits=j.bits,L){e.msg="invalid code lengths set",r.mode=y;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;C=(U=r.lencode[E&(1<<r.lenbits)-1])>>>16&255,B=65535&U,!((I=U>>>24)<=T);){if(0===_)break e;_--,E+=g[b++]<<T,T+=8}if(B<16)E>>>=I,T-=I,r.lens[r.have++]=B;else{if(16===B){for(F=I+2;T<F;){if(0===_)break e;_--,E+=g[b++]<<T,T+=8}if(E>>>=I,T-=I,0===r.have){e.msg="invalid bit length repeat",r.mode=y;break}q=r.lens[r.have-1],O=3+(3&E),E>>>=2,T-=2}else if(17===B){for(F=I+3;T<F;){if(0===_)break e;_--,E+=g[b++]<<T,T+=8}T-=I,q=0,O=3+(7&(E>>>=I)),E>>>=3,T-=3}else{for(F=I+7;T<F;){if(0===_)break e;_--,E+=g[b++]<<T,T+=8}T-=I,q=0,O=11+(127&(E>>>=I)),E>>>=7,T-=7}if(r.have+O>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=y;break}for(;O--;)r.lens[r.have++]=q}}if(r.mode===y)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=y;break}if(r.lenbits=9,j={bits:r.lenbits},L=o(d,r.lens,0,r.nlen,r.lencode,0,r.work,j),r.lenbits=j.bits,L){e.msg="invalid literal/lengths set",r.mode=y;break}if(r.distbits=6,r.distcode=r.distdyn,j={bits:r.distbits},L=o(u,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,j),r.distbits=j.bits,L){e.msg="invalid distances set",r.mode=y;break}if(r.mode=20,6===t)break e;case 20:r.mode=21;case 21:if(_>=6&&w>=258){e.next_out=v,e.avail_out=w,e.next_in=b,e.avail_in=_,r.hold=E,r.bits=T,a(e,M),v=e.next_out,m=e.output,w=e.avail_out,b=e.next_in,g=e.input,_=e.avail_in,E=r.hold,T=r.bits,r.mode===h&&(r.back=-1);break}for(r.back=0;C=(U=r.lencode[E&(1<<r.lenbits)-1])>>>16&255,B=65535&U,!((I=U>>>24)<=T);){if(0===_)break e;_--,E+=g[b++]<<T,T+=8}if(C&&!(240&C)){for(N=I,P=C,D=B;C=(U=r.lencode[D+((E&(1<<N+P)-1)>>N)])>>>16&255,B=65535&U,!(N+(I=U>>>24)<=T);){if(0===_)break e;_--,E+=g[b++]<<T,T+=8}E>>>=N,T-=N,r.back+=N}if(E>>>=I,T-=I,r.back+=I,r.length=B,0===C){r.mode=26;break}if(32&C){r.back=-1,r.mode=h;break}if(64&C){e.msg="invalid literal/length code",r.mode=y;break}r.extra=15&C,r.mode=22;case 22:if(r.extra){for(F=r.extra;T<F;){if(0===_)break e;_--,E+=g[b++]<<T,T+=8}r.length+=E&(1<<r.extra)-1,E>>>=r.extra,T-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;C=(U=r.distcode[E&(1<<r.distbits)-1])>>>16&255,B=65535&U,!((I=U>>>24)<=T);){if(0===_)break e;_--,E+=g[b++]<<T,T+=8}if(!(240&C)){for(N=I,P=C,D=B;C=(U=r.distcode[D+((E&(1<<N+P)-1)>>N)])>>>16&255,B=65535&U,!(N+(I=U>>>24)<=T);){if(0===_)break e;_--,E+=g[b++]<<T,T+=8}E>>>=N,T-=N,r.back+=N}if(E>>>=I,T-=I,r.back+=I,64&C){e.msg="invalid distance code",r.mode=y;break}r.offset=B,r.extra=15&C,r.mode=24;case 24:if(r.extra){for(F=r.extra;T<F;){if(0===_)break e;_--,E+=g[b++]<<T,T+=8}r.offset+=E&(1<<r.extra)-1,E>>>=r.extra,T-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=y;break}r.mode=25;case 25:if(0===w)break e;if(O=M-w,r.offset>O){if((O=r.offset-O)>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=y;break}O>r.wnext?(O-=r.wnext,x=r.wsize-O):x=r.wnext-O,O>r.length&&(O=r.length),k=r.window}else k=m,x=v-r.offset,O=r.length;O>w&&(O=w),w-=O,r.length-=O;do{m[v++]=k[x++]}while(--O);0===r.length&&(r.mode=21);break;case 26:if(0===w)break e;m[v++]=r.length,w--,r.mode=21;break;case 27:if(r.wrap){for(;T<32;){if(0===_)break e;_--,E|=g[b++]<<T,T+=8}if(M-=w,e.total_out+=M,r.total+=M,M&&(e.adler=r.check=r.flags?s(r.check,m,M,v-M):n(r.check,m,M,v-M)),M=w,(r.flags?E:zswap32(E))!==r.check){e.msg="incorrect data check",r.mode=y;break}E=0,T=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;T<32;){if(0===_)break e;_--,E+=g[b++]<<T,T+=8}if(E!==(4294967295&r.total)){e.msg="incorrect length check",r.mode=y;break}E=0,T=0}r.mode=29;case 29:L=1;break e;case y:L=-3;break e;case 31:return-4;default:return c}return e.next_out=v,e.avail_out=w,e.next_in=b,e.avail_in=_,r.hold=E,r.bits=T,(r.wsize||M!==e.avail_out&&r.mode<y&&(r.mode<27||4!==t))&&updatewindow(e,e.output,e.next_out,M-e.avail_out)?(r.mode=31,-4):(A-=e.avail_in,M-=e.avail_out,e.total_in+=A,e.total_out+=M,r.total+=M,r.wrap&&M&&(e.adler=r.check=r.flags?s(r.check,m,M,e.next_out-M):n(r.check,m,M,e.next_out-M)),e.data_type=r.bits+(r.last?64:0)+(r.mode===h?128:0)+(20===r.mode||15===r.mode?256:0),(0===A&&0===M||4===t)&&L===l&&(L=-5),L)},t.inflateEnd=function inflateEnd(e){if(!e||!e.state)return c;var t=e.state;return t.window&&(t.window=null),e.state=null,l},t.inflateGetHeader=function inflateGetHeader(e,t){var r;return e&&e.state&&2&(r=e.state).wrap?(r.head=t,t.done=!1,l):c},t.inflateSetDictionary=function inflateSetDictionary(e,t){var r,i=t.length;return e&&e.state?0!==(r=e.state).wrap&&11!==r.mode?c:11===r.mode&&n(1,t,i,0)!==r.check?-3:updatewindow(e,t,i,i)?(r.mode=31,-4):(r.havedict=1,l):c},t.inflateInfo="pako inflate (from Nodeca project)"},9673:(e,t,r)=>{"use strict";var i=r(1824),n=15,s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],d=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function inflate_table(e,t,r,u,l,c,p,h){var y,g,m,b,v,_,w,E,T,A=h.bits,M=0,O=0,x=0,k=0,I=0,C=0,B=0,N=0,P=0,D=0,q=null,L=0,j=new i.Buf16(16),F=new i.Buf16(16),U=null,z=0;for(M=0;M<=n;M++)j[M]=0;for(O=0;O<u;O++)j[t[r+O]]++;for(I=A,k=n;k>=1&&0===j[k];k--);if(I>k&&(I=k),0===k)return l[c++]=20971520,l[c++]=20971520,h.bits=1,0;for(x=1;x<k&&0===j[x];x++);for(I<x&&(I=x),N=1,M=1;M<=n;M++)if(N<<=1,(N-=j[M])<0)return-1;if(N>0&&(0===e||1!==k))return-1;for(F[1]=0,M=1;M<n;M++)F[M+1]=F[M]+j[M];for(O=0;O<u;O++)0!==t[r+O]&&(p[F[t[r+O]]++]=O);if(0===e?(q=U=p,_=19):1===e?(q=s,L-=257,U=a,z-=257,_=256):(q=o,U=d,_=-1),D=0,O=0,M=x,v=c,C=I,B=0,m=-1,b=(P=1<<I)-1,1===e&&P>852||2===e&&P>592)return 1;for(;;){w=M-B,p[O]<_?(E=0,T=p[O]):p[O]>_?(E=U[z+p[O]],T=q[L+p[O]]):(E=96,T=0),y=1<<M-B,x=g=1<<C;do{l[v+(D>>B)+(g-=y)]=w<<24|E<<16|T}while(0!==g);for(y=1<<M-1;D&y;)y>>=1;if(0!==y?(D&=y-1,D+=y):D=0,O++,0==--j[M]){if(M===k)break;M=t[r+p[O]]}if(M>I&&(D&b)!==m){for(0===B&&(B=I),v+=x,N=1<<(C=M-B);C+B<k&&!((N-=j[C+B])<=0);)C++,N<<=1;if(P+=1<<C,1===e&&P>852||2===e&&P>592)return 1;l[m=D&b]=I<<24|C<<16|v-c}}return 0!==D&&(l[v+D]=M-B<<24|64<<16),h.bits=I,0}},2817:e=>{"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},9708:(e,t,r)=>{"use strict";var i=r(1824),n=0,s=1;function zero(e){for(var t=e.length;--t>=0;)e[t]=0}var a=0,o=29,d=256,u=d+1+o,l=30,c=19,p=2*u+1,h=15,y=16,g=7,m=256,b=16,v=17,_=18,w=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],E=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],T=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],A=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],M=new Array(2*(u+2));zero(M);var O=new Array(2*l);zero(O);var x=new Array(512);zero(x);var k=new Array(256);zero(k);var I=new Array(o);zero(I);var C,B,N,P=new Array(l);function StaticTreeDesc(e,t,r,i,n){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=i,this.max_length=n,this.has_stree=e&&e.length}function TreeDesc(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function d_code(e){return e<256?x[e]:x[256+(e>>>7)]}function put_short(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function send_bits(e,t,r){e.bi_valid>y-r?(e.bi_buf|=t<<e.bi_valid&65535,put_short(e,e.bi_buf),e.bi_buf=t>>y-e.bi_valid,e.bi_valid+=r-y):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}function send_code(e,t,r){send_bits(e,r[2*t],r[2*t+1])}function bi_reverse(e,t){var r=0;do{r|=1&e,e>>>=1,r<<=1}while(--t>0);return r>>>1}function gen_codes(e,t,r){var i,n,s=new Array(h+1),a=0;for(i=1;i<=h;i++)s[i]=a=a+r[i-1]<<1;for(n=0;n<=t;n++){var o=e[2*n+1];0!==o&&(e[2*n]=bi_reverse(s[o]++,o))}}function init_block(e){var t;for(t=0;t<u;t++)e.dyn_ltree[2*t]=0;for(t=0;t<l;t++)e.dyn_dtree[2*t]=0;for(t=0;t<c;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*m]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function bi_windup(e){e.bi_valid>8?put_short(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function smaller(e,t,r,i){var n=2*t,s=2*r;return e[n]<e[s]||e[n]===e[s]&&i[t]<=i[r]}function pqdownheap(e,t,r){for(var i=e.heap[r],n=r<<1;n<=e.heap_len&&(n<e.heap_len&&smaller(t,e.heap[n+1],e.heap[n],e.depth)&&n++,!smaller(t,i,e.heap[n],e.depth));)e.heap[r]=e.heap[n],r=n,n<<=1;e.heap[r]=i}function compress_block(e,t,r){var i,n,s,a,o=0;if(0!==e.last_lit)do{i=e.pending_buf[e.d_buf+2*o]<<8|e.pending_buf[e.d_buf+2*o+1],n=e.pending_buf[e.l_buf+o],o++,0===i?send_code(e,n,t):(send_code(e,(s=k[n])+d+1,t),0!==(a=w[s])&&send_bits(e,n-=I[s],a),send_code(e,s=d_code(--i),r),0!==(a=E[s])&&send_bits(e,i-=P[s],a))}while(o<e.last_lit);send_code(e,m,t)}function build_tree(e,t){var r,i,n,s=t.dyn_tree,a=t.stat_desc.static_tree,o=t.stat_desc.has_stree,d=t.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=p,r=0;r<d;r++)0!==s[2*r]?(e.heap[++e.heap_len]=u=r,e.depth[r]=0):s[2*r+1]=0;for(;e.heap_len<2;)s[2*(n=e.heap[++e.heap_len]=u<2?++u:0)]=1,e.depth[n]=0,e.opt_len--,o&&(e.static_len-=a[2*n+1]);for(t.max_code=u,r=e.heap_len>>1;r>=1;r--)pqdownheap(e,s,r);n=d;do{r=e.heap[1],e.heap[1]=e.heap[e.heap_len--],pqdownheap(e,s,1),i=e.heap[1],e.heap[--e.heap_max]=r,e.heap[--e.heap_max]=i,s[2*n]=s[2*r]+s[2*i],e.depth[n]=(e.depth[r]>=e.depth[i]?e.depth[r]:e.depth[i])+1,s[2*r+1]=s[2*i+1]=n,e.heap[1]=n++,pqdownheap(e,s,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function gen_bitlen(e,t){var r,i,n,s,a,o,d=t.dyn_tree,u=t.max_code,l=t.stat_desc.static_tree,c=t.stat_desc.has_stree,y=t.stat_desc.extra_bits,g=t.stat_desc.extra_base,m=t.stat_desc.max_length,b=0;for(s=0;s<=h;s++)e.bl_count[s]=0;for(d[2*e.heap[e.heap_max]+1]=0,r=e.heap_max+1;r<p;r++)(s=d[2*d[2*(i=e.heap[r])+1]+1]+1)>m&&(s=m,b++),d[2*i+1]=s,i>u||(e.bl_count[s]++,a=0,i>=g&&(a=y[i-g]),o=d[2*i],e.opt_len+=o*(s+a),c&&(e.static_len+=o*(l[2*i+1]+a)));if(0!==b){do{for(s=m-1;0===e.bl_count[s];)s--;e.bl_count[s]--,e.bl_count[s+1]+=2,e.bl_count[m]--,b-=2}while(b>0);for(s=m;0!==s;s--)for(i=e.bl_count[s];0!==i;)(n=e.heap[--r])>u||(d[2*n+1]!==s&&(e.opt_len+=(s-d[2*n+1])*d[2*n],d[2*n+1]=s),i--)}}(e,t),gen_codes(s,u,e.bl_count)}function scan_tree(e,t,r){var i,n,s=-1,a=t[1],o=0,d=7,u=4;for(0===a&&(d=138,u=3),t[2*(r+1)+1]=65535,i=0;i<=r;i++)n=a,a=t[2*(i+1)+1],++o<d&&n===a||(o<u?e.bl_tree[2*n]+=o:0!==n?(n!==s&&e.bl_tree[2*n]++,e.bl_tree[2*b]++):o<=10?e.bl_tree[2*v]++:e.bl_tree[2*_]++,o=0,s=n,0===a?(d=138,u=3):n===a?(d=6,u=3):(d=7,u=4))}function send_tree(e,t,r){var i,n,s=-1,a=t[1],o=0,d=7,u=4;for(0===a&&(d=138,u=3),i=0;i<=r;i++)if(n=a,a=t[2*(i+1)+1],!(++o<d&&n===a)){if(o<u)do{send_code(e,n,e.bl_tree)}while(0!=--o);else 0!==n?(n!==s&&(send_code(e,n,e.bl_tree),o--),send_code(e,b,e.bl_tree),send_bits(e,o-3,2)):o<=10?(send_code(e,v,e.bl_tree),send_bits(e,o-3,3)):(send_code(e,_,e.bl_tree),send_bits(e,o-11,7));o=0,s=n,0===a?(d=138,u=3):n===a?(d=6,u=3):(d=7,u=4)}}zero(P);var D=!1;function _tr_stored_block(e,t,r,n){send_bits(e,(a<<1)+(n?1:0),3),function copy_block(e,t,r,n){bi_windup(e),n&&(put_short(e,r),put_short(e,~r)),i.arraySet(e.pending_buf,e.window,t,r,e.pending),e.pending+=r}(e,t,r,!0)}t._tr_init=function _tr_init(e){D||(!function tr_static_init(){var e,t,r,i,n,s=new Array(h+1);for(r=0,i=0;i<o-1;i++)for(I[i]=r,e=0;e<1<<w[i];e++)k[r++]=i;for(k[r-1]=i,n=0,i=0;i<16;i++)for(P[i]=n,e=0;e<1<<E[i];e++)x[n++]=i;for(n>>=7;i<l;i++)for(P[i]=n<<7,e=0;e<1<<E[i]-7;e++)x[256+n++]=i;for(t=0;t<=h;t++)s[t]=0;for(e=0;e<=143;)M[2*e+1]=8,e++,s[8]++;for(;e<=255;)M[2*e+1]=9,e++,s[9]++;for(;e<=279;)M[2*e+1]=7,e++,s[7]++;for(;e<=287;)M[2*e+1]=8,e++,s[8]++;for(gen_codes(M,u+1,s),e=0;e<l;e++)O[2*e+1]=5,O[2*e]=bi_reverse(e,5);C=new StaticTreeDesc(M,w,d+1,u,h),B=new StaticTreeDesc(O,E,0,l,h),N=new StaticTreeDesc(new Array(0),T,0,c,g)}(),D=!0),e.l_desc=new TreeDesc(e.dyn_ltree,C),e.d_desc=new TreeDesc(e.dyn_dtree,B),e.bl_desc=new TreeDesc(e.bl_tree,N),e.bi_buf=0,e.bi_valid=0,init_block(e)},t._tr_stored_block=_tr_stored_block,t._tr_flush_block=function _tr_flush_block(e,t,r,i){var a,o,u=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function detect_data_type(e){var t,r=4093624447;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return n;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return s;for(t=32;t<d;t++)if(0!==e.dyn_ltree[2*t])return s;return n}(e)),build_tree(e,e.l_desc),build_tree(e,e.d_desc),u=function build_bl_tree(e){var t;for(scan_tree(e,e.dyn_ltree,e.l_desc.max_code),scan_tree(e,e.dyn_dtree,e.d_desc.max_code),build_tree(e,e.bl_desc),t=c-1;t>=3&&0===e.bl_tree[2*A[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),a=e.opt_len+3+7>>>3,(o=e.static_len+3+7>>>3)<=a&&(a=o)):a=o=r+5,r+4<=a&&-1!==t?_tr_stored_block(e,t,r,i):4===e.strategy||o===a?(send_bits(e,2+(i?1:0),3),compress_block(e,M,O)):(send_bits(e,4+(i?1:0),3),function send_all_trees(e,t,r,i){var n;for(send_bits(e,t-257,5),send_bits(e,r-1,5),send_bits(e,i-4,4),n=0;n<i;n++)send_bits(e,e.bl_tree[2*A[n]+1],3);send_tree(e,e.dyn_ltree,t-1),send_tree(e,e.dyn_dtree,r-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,u+1),compress_block(e,e.dyn_ltree,e.dyn_dtree)),init_block(e),i&&bi_windup(e)},t._tr_tally=function _tr_tally(e,t,r){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&r,e.last_lit++,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[2*(k[r]+d+1)]++,e.dyn_dtree[2*d_code(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function _tr_align(e){send_bits(e,2,3),send_code(e,m,M),function bi_flush(e){16===e.bi_valid?(put_short(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},2495:e=>{"use strict";e.exports=function ZStream(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},958:(e,t,r)=>{"use strict";e.exports=r(8054)},5931:(e,t,r)=>{"use strict";var i=t,n=r(8118),s=r(8723);function genValuePartial_fromObject(e,t,r,i){if(t.resolvedType)if(t.resolvedType instanceof n){e("switch(d%s){",i);for(var s=t.resolvedType.values,a=Object.keys(s),o=0;o<a.length;++o)t.repeated&&s[a[o]]===t.typeDefault&&e("default:"),e("case%j:",a[o])("case %i:",s[a[o]])("m%s=%j",i,s[a[o]])("break");e("}")}else e('if(typeof d%s!=="object")',i)("throw TypeError(%j)",t.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",i,r,i);else{var d=!1;switch(t.type){case"double":case"float":e("m%s=Number(d%s)",i,i);break;case"uint32":case"fixed32":e("m%s=d%s>>>0",i,i);break;case"int32":case"sint32":case"sfixed32":e("m%s=d%s|0",i,i);break;case"uint64":d=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",i,i,d)('else if(typeof d%s==="string")',i)("m%s=parseInt(d%s,10)",i,i)('else if(typeof d%s==="number")',i)("m%s=d%s",i,i)('else if(typeof d%s==="object")',i)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",i,i,i,d?"true":"");break;case"bytes":e('if(typeof d%s==="string")',i)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",i,i,i)("else if(d%s.length)",i)("m%s=d%s",i,i);break;case"string":e("m%s=String(d%s)",i,i);break;case"bool":e("m%s=Boolean(d%s)",i,i)}}return e}function genValuePartial_toObject(e,t,r,i){if(t.resolvedType)t.resolvedType instanceof n?e("d%s=o.enums===String?types[%i].values[m%s]:m%s",i,r,i,i):e("d%s=types[%i].toObject(m%s,o)",i,r,i);else{var s=!1;switch(t.type){case"double":case"float":e("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",i,i,i,i);break;case"uint64":s=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e('if(typeof m%s==="number")',i)("d%s=o.longs===String?String(m%s):m%s",i,i,i)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",i,i,i,i,s?"true":"",i);break;case"bytes":e("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",i,i,i,i,i);break;default:e("d%s=m%s",i,i)}}return e}i.fromObject=function fromObject(e){var t=e.fieldsArray,r=s.codegen(["d"],e.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!t.length)return r("return new this.ctor");r("var m=new this.ctor");for(var i=0;i<t.length;++i){var a=t[i].resolve(),o=s.safeProp(a.name);a.map?(r("if(d%s){",o)('if(typeof d%s!=="object")',o)("throw TypeError(%j)",a.fullName+": object expected")("m%s={}",o)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",o),genValuePartial_fromObject(r,a,i,o+"[ks[i]]")("}")("}")):a.repeated?(r("if(d%s){",o)("if(!Array.isArray(d%s))",o)("throw TypeError(%j)",a.fullName+": array expected")("m%s=[]",o)("for(var i=0;i<d%s.length;++i){",o),genValuePartial_fromObject(r,a,i,o+"[i]")("}")("}")):(a.resolvedType instanceof n||r("if(d%s!=null){",o),genValuePartial_fromObject(r,a,i,o),a.resolvedType instanceof n||r("}"))}return r("return m")},i.toObject=function toObject(e){var t=e.fieldsArray.slice().sort(s.compareFieldsById);if(!t.length)return s.codegen()("return {}");for(var r=s.codegen(["m","o"],e.name+"$toObject")("if(!o)")("o={}")("var d={}"),i=[],a=[],o=[],d=0;d<t.length;++d)t[d].partOf||(t[d].resolve().repeated?i:t[d].map?a:o).push(t[d]);if(i.length){for(r("if(o.arrays||o.defaults){"),d=0;d<i.length;++d)r("d%s=[]",s.safeProp(i[d].name));r("}")}if(a.length){for(r("if(o.objects||o.defaults){"),d=0;d<a.length;++d)r("d%s={}",s.safeProp(a[d].name));r("}")}if(o.length){for(r("if(o.defaults){"),d=0;d<o.length;++d){var u=o[d],l=s.safeProp(u.name);if(u.resolvedType instanceof n)r("d%s=o.enums===String?%j:%j",l,u.resolvedType.valuesById[u.typeDefault],u.typeDefault);else if(u.long)r("if(util.Long){")("var n=new util.Long(%i,%i,%j)",u.typeDefault.low,u.typeDefault.high,u.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",l)("}else")("d%s=o.longs===String?%j:%i",l,u.typeDefault.toString(),u.typeDefault.toNumber());else if(u.bytes){var c="["+Array.prototype.slice.call(u.typeDefault).join(",")+"]";r("if(o.bytes===String)d%s=%j",l,String.fromCharCode.apply(String,u.typeDefault))("else{")("d%s=%s",l,c)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",l,l)("}")}else r("d%s=%j",l,u.typeDefault)}r("}")}var p=!1;for(d=0;d<t.length;++d){u=t[d];var h=e._fieldsArray.indexOf(u);l=s.safeProp(u.name);u.map?(p||(p=!0,r("var ks2")),r("if(m%s&&(ks2=Object.keys(m%s)).length){",l,l)("d%s={}",l)("for(var j=0;j<ks2.length;++j){"),genValuePartial_toObject(r,u,h,l+"[ks2[j]]")("}")):u.repeated?(r("if(m%s&&m%s.length){",l,l)("d%s=[]",l)("for(var j=0;j<m%s.length;++j){",l),genValuePartial_toObject(r,u,h,l+"[j]")("}")):(r("if(m%s!=null&&m.hasOwnProperty(%j)){",l,u.name),genValuePartial_toObject(r,u,h,l),u.partOf&&r("if(o.oneofs)")("d%s=%j",s.safeProp(u.partOf.name),u.name)),r("}")}return r("return d")}},4455:(e,t,r)=>{"use strict";e.exports=function decoder(e){var t=s.codegen(["r","l"],e.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(e.fieldsArray.filter((function(e){return e.map})).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()");e.group&&t("if((t&7)===4)")("break");t("switch(t>>>3){");for(var r=0;r<e.fieldsArray.length;++r){var a=e._fieldsArray[r].resolve(),o=a.resolvedType instanceof i?"int32":a.type,d="m"+s.safeProp(a.name);t("case %i:",a.id),a.map?(t("if(%s===util.emptyObject)",d)("%s={}",d)("var c2 = r.uint32()+r.pos"),void 0!==n.defaults[a.keyType]?t("k=%j",n.defaults[a.keyType]):t("k=null"),void 0!==n.defaults[o]?t("value=%j",n.defaults[o]):t("value=null"),t("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",a.keyType)("case 2:"),void 0===n.basic[o]?t("value=types[%i].decode(r,r.uint32())",r):t("value=r.%s()",o),t("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),void 0!==n.long[a.keyType]?t('%s[typeof k==="object"?util.longToHash(k):k]=value',d):t("%s[k]=value",d)):a.repeated?(t("if(!(%s&&%s.length))",d,d)("%s=[]",d),void 0!==n.packed[o]&&t("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",d,o)("}else"),void 0===n.basic[o]?t(a.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",d,r):t("%s.push(r.%s())",d,o)):void 0===n.basic[o]?t(a.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",d,r):t("%s=r.%s()",d,o),t("break")}for(t("default:")("r.skipType(t&7)")("break")("}")("}"),r=0;r<e._fieldsArray.length;++r){var u=e._fieldsArray[r];u.required&&t("if(!m.hasOwnProperty(%j))",u.name)("throw util.ProtocolError(%j,{instance:m})",missing(u))}return t("return m")};var i=r(8118),n=r(5594),s=r(8723);function missing(e){return"missing required '"+e.name+"'"}},7471:(e,t,r)=>{"use strict";e.exports=function encoder(e){for(var t,r=s.codegen(["m","w"],e.name+"$encode")("if(!w)")("w=Writer.create()"),a=e.fieldsArray.slice().sort(s.compareFieldsById),o=0;o<a.length;++o){var d=a[o].resolve(),u=e._fieldsArray.indexOf(d),l=d.resolvedType instanceof i?"int32":d.type,c=n.basic[l];t="m"+s.safeProp(d.name),d.map?(r("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",t,d.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",t)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(d.id<<3|2)>>>0,8|n.mapKey[d.keyType],d.keyType),void 0===c?r("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",u,t):r(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|c,l,t),r("}")("}")):d.repeated?(r("if(%s!=null&&%s.length){",t,t),d.packed&&void 0!==n.packed[l]?r("w.uint32(%i).fork()",(d.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",t)("w.%s(%s[i])",l,t)("w.ldelim()"):(r("for(var i=0;i<%s.length;++i)",t),void 0===c?genTypePartial(r,d,u,t+"[i]"):r("w.uint32(%i).%s(%s[i])",(d.id<<3|c)>>>0,l,t)),r("}")):(d.optional&&r("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",t,d.name),void 0===c?genTypePartial(r,d,u,t):r("w.uint32(%i).%s(%s)",(d.id<<3|c)>>>0,l,t))}return r("return w")};var i=r(8118),n=r(5594),s=r(8723);function genTypePartial(e,t,r,i){return t.resolvedType.group?e("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",r,i,(t.id<<3|3)>>>0,(t.id<<3|4)>>>0):e("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",r,i,(t.id<<3|2)>>>0)}},8118:(e,t,r)=>{"use strict";e.exports=Enum;var i=r(7812);((Enum.prototype=Object.create(i.prototype)).constructor=Enum).className="Enum";var n=r(4060),s=r(8723);function Enum(e,t,r,n,s){if(i.call(this,e,r),t&&"object"!=typeof t)throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=n,this.comments=s||{},this.reserved=void 0,t)for(var a=Object.keys(t),o=0;o<a.length;++o)"number"==typeof t[a[o]]&&(this.valuesById[this.values[a[o]]=t[a[o]]]=a[o])}Enum.fromJSON=function fromJSON(e,t){var r=new Enum(e,t.values,t.options,t.comment,t.comments);return r.reserved=t.reserved,r},Enum.prototype.toJSON=function toJSON(e){var t=!!e&&Boolean(e.keepComments);return s.toObject(["options",this.options,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",t?this.comment:void 0,"comments",t?this.comments:void 0])},Enum.prototype.add=function add(e,t,r){if(!s.isString(e))throw TypeError("name must be a string");if(!s.isInteger(t))throw TypeError("id must be an integer");if(void 0!==this.values[e])throw Error("duplicate name '"+e+"' in "+this);if(this.isReservedId(t))throw Error("id "+t+" is reserved in "+this);if(this.isReservedName(e))throw Error("name '"+e+"' is reserved in "+this);if(void 0!==this.valuesById[t]){if(!this.options||!this.options.allow_alias)throw Error("duplicate id "+t+" in "+this);this.values[e]=t}else this.valuesById[this.values[e]=t]=e;return this.comments[e]=r||null,this},Enum.prototype.remove=function remove(e){if(!s.isString(e))throw TypeError("name must be a string");var t=this.values[e];if(null==t)throw Error("name '"+e+"' does not exist in "+this);return delete this.valuesById[t],delete this.values[e],delete this.comments[e],this},Enum.prototype.isReservedId=function isReservedId(e){return n.isReservedId(this.reserved,e)},Enum.prototype.isReservedName=function isReservedName(e){return n.isReservedName(this.reserved,e)}},4243:(e,t,r)=>{"use strict";e.exports=Field;var i=r(7812);((Field.prototype=Object.create(i.prototype)).constructor=Field).className="Field";var n,s=r(8118),a=r(5594),o=r(8723),d=/^required|optional|repeated$/;function Field(e,t,r,n,s,u,l){if(o.isObject(n)?(l=s,u=n,n=s=void 0):o.isObject(s)&&(l=u,u=s,s=void 0),i.call(this,e,u),!o.isInteger(t)||t<0)throw TypeError("id must be a non-negative integer");if(!o.isString(r))throw TypeError("type must be a string");if(void 0!==n&&!d.test(n=n.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(void 0!==s&&!o.isString(s))throw TypeError("extend must be a string");"proto3_optional"===n&&(n="optional"),this.rule=n&&"optional"!==n?n:void 0,this.type=r,this.id=t,this.extend=s||void 0,this.required="required"===n,this.optional=!this.required,this.repeated="repeated"===n,this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=!!o.Long&&void 0!==a.long[r],this.bytes="bytes"===r,this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=l}Field.fromJSON=function fromJSON(e,t){return new Field(e,t.id,t.type,t.rule,t.extend,t.options,t.comment)},Object.defineProperty(Field.prototype,"packed",{get:function(){return null===this._packed&&(this._packed=!1!==this.getOption("packed")),this._packed}}),Field.prototype.setOption=function setOption(e,t,r){return"packed"===e&&(this._packed=null),i.prototype.setOption.call(this,e,t,r)},Field.prototype.toJSON=function toJSON(e){var t=!!e&&Boolean(e.keepComments);return o.toObject(["rule","optional"!==this.rule&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])},Field.prototype.resolve=function resolve(){if(this.resolved)return this;if(void 0===(this.typeDefault=a.defaults[this.type])&&(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof n?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]),this.options&&null!=this.options.default&&(this.typeDefault=this.options.default,this.resolvedType instanceof s&&"string"==typeof this.typeDefault&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(!0!==this.options.packed&&(void 0===this.options.packed||!this.resolvedType||this.resolvedType instanceof s)||delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=o.Long.fromNumber(this.typeDefault,"u"===this.type.charAt(0)),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&"string"==typeof this.typeDefault){var e;o.base64.test(this.typeDefault)?o.base64.decode(this.typeDefault,e=o.newBuffer(o.base64.length(this.typeDefault)),0):o.utf8.write(this.typeDefault,e=o.newBuffer(o.utf8.length(this.typeDefault)),0),this.typeDefault=e}return this.map?this.defaultValue=o.emptyObject:this.repeated?this.defaultValue=o.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof n&&(this.parent.ctor.prototype[this.name]=this.defaultValue),i.prototype.resolve.call(this)},Field.d=function decorateField(e,t,r,i){return"function"==typeof t?t=o.decorateType(t).name:t&&"object"==typeof t&&(t=o.decorateEnum(t).name),function fieldDecorator(n,s){o.decorateType(n.constructor).add(new Field(s,e,t,r,{default:i}))}},Field._configure=function configure(e){n=e}},8054:(e,t,r)=>{"use strict";var i=e.exports=r(5953);i.build="light",i.load=function load(e,t,r){return"function"==typeof t?(r=t,t=new i.Root):t||(t=new i.Root),t.load(e,r)},i.loadSync=function loadSync(e,t){return t||(t=new i.Root),t.loadSync(e)},i.encoder=r(7471),i.decoder=r(4455),i.verifier=r(3777),i.converter=r(5931),i.ReflectionObject=r(7812),i.Namespace=r(4060),i.Root=r(7207),i.Enum=r(8118),i.Type=r(1311),i.Field=r(4243),i.OneOf=r(7166),i.MapField=r(4341),i.Service=r(3712),i.Method=r(7082),i.Message=r(9348),i.wrappers=r(1359),i.types=r(5594),i.util=r(8723),i.ReflectionObject._configure(i.Root),i.Namespace._configure(i.Type,i.Service,i.Enum),i.Root._configure(i.Type),i.Field._configure(i.Type)},5953:(e,t,r)=>{"use strict";var i=t;function configure(){i.util._configure(),i.Writer._configure(i.BufferWriter),i.Reader._configure(i.BufferReader)}i.build="minimal",i.Writer=r(3108),i.BufferWriter=r(2533),i.Reader=r(6344),i.BufferReader=r(2777),i.util=r(5099),i.rpc=r(7080),i.roots=r(4738),i.configure=configure,configure()},4341:(e,t,r)=>{"use strict";e.exports=MapField;var i=r(4243);((MapField.prototype=Object.create(i.prototype)).constructor=MapField).className="MapField";var n=r(5594),s=r(8723);function MapField(e,t,r,n,a,o){if(i.call(this,e,t,n,void 0,void 0,a,o),!s.isString(r))throw TypeError("keyType must be a string");this.keyType=r,this.resolvedKeyType=null,this.map=!0}MapField.fromJSON=function fromJSON(e,t){return new MapField(e,t.id,t.keyType,t.type,t.options,t.comment)},MapField.prototype.toJSON=function toJSON(e){var t=!!e&&Boolean(e.keepComments);return s.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])},MapField.prototype.resolve=function resolve(){if(this.resolved)return this;if(void 0===n.mapKey[this.keyType])throw Error("invalid key type: "+this.keyType);return i.prototype.resolve.call(this)},MapField.d=function decorateMapField(e,t,r){return"function"==typeof r?r=s.decorateType(r).name:r&&"object"==typeof r&&(r=s.decorateEnum(r).name),function mapFieldDecorator(i,n){s.decorateType(i.constructor).add(new MapField(n,e,t,r))}}},9348:(e,t,r)=>{"use strict";e.exports=Message;var i=r(5099);function Message(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)this[t[r]]=e[t[r]]}Message.create=function create(e){return this.$type.create(e)},Message.encode=function encode(e,t){return this.$type.encode(e,t)},Message.encodeDelimited=function encodeDelimited(e,t){return this.$type.encodeDelimited(e,t)},Message.decode=function decode(e){return this.$type.decode(e)},Message.decodeDelimited=function decodeDelimited(e){return this.$type.decodeDelimited(e)},Message.verify=function verify(e){return this.$type.verify(e)},Message.fromObject=function fromObject(e){return this.$type.fromObject(e)},Message.toObject=function toObject(e,t){return this.$type.toObject(e,t)},Message.prototype.toJSON=function toJSON(){return this.$type.toObject(this,i.toJSONOptions)}},7082:(e,t,r)=>{"use strict";e.exports=Method;var i=r(7812);((Method.prototype=Object.create(i.prototype)).constructor=Method).className="Method";var n=r(8723);function Method(e,t,r,s,a,o,d,u,l){if(n.isObject(a)?(d=a,a=o=void 0):n.isObject(o)&&(d=o,o=void 0),void 0!==t&&!n.isString(t))throw TypeError("type must be a string");if(!n.isString(r))throw TypeError("requestType must be a string");if(!n.isString(s))throw TypeError("responseType must be a string");i.call(this,e,d),this.type=t||"rpc",this.requestType=r,this.requestStream=!!a||void 0,this.responseType=s,this.responseStream=!!o||void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=u,this.parsedOptions=l}Method.fromJSON=function fromJSON(e,t){return new Method(e,t.type,t.requestType,t.responseType,t.requestStream,t.responseStream,t.options,t.comment,t.parsedOptions)},Method.prototype.toJSON=function toJSON(e){var t=!!e&&Boolean(e.keepComments);return n.toObject(["type","rpc"!==this.type&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",t?this.comment:void 0,"parsedOptions",this.parsedOptions])},Method.prototype.resolve=function resolve(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),i.prototype.resolve.call(this))}},4060:(e,t,r)=>{"use strict";e.exports=Namespace;var i=r(7812);((Namespace.prototype=Object.create(i.prototype)).constructor=Namespace).className="Namespace";var n,s,a,o=r(4243),d=r(7166),u=r(8723);function arrayToJSON(e,t){if(e&&e.length){for(var r={},i=0;i<e.length;++i)r[e[i].name]=e[i].toJSON(t);return r}}function Namespace(e,t){i.call(this,e,t),this.nested=void 0,this._nestedArray=null}function clearCache(e){return e._nestedArray=null,e}Namespace.fromJSON=function fromJSON(e,t){return new Namespace(e,t.options).addJSON(t.nested)},Namespace.arrayToJSON=arrayToJSON,Namespace.isReservedId=function isReservedId(e,t){if(e)for(var r=0;r<e.length;++r)if("string"!=typeof e[r]&&e[r][0]<=t&&e[r][1]>t)return!0;return!1},Namespace.isReservedName=function isReservedName(e,t){if(e)for(var r=0;r<e.length;++r)if(e[r]===t)return!0;return!1},Object.defineProperty(Namespace.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=u.toArray(this.nested))}}),Namespace.prototype.toJSON=function toJSON(e){return u.toObject(["options",this.options,"nested",arrayToJSON(this.nestedArray,e)])},Namespace.prototype.addJSON=function addJSON(e){if(e)for(var t,r=Object.keys(e),i=0;i<r.length;++i)t=e[r[i]],this.add((void 0!==t.fields?n.fromJSON:void 0!==t.values?a.fromJSON:void 0!==t.methods?s.fromJSON:void 0!==t.id?o.fromJSON:Namespace.fromJSON)(r[i],t));return this},Namespace.prototype.get=function get(e){return this.nested&&this.nested[e]||null},Namespace.prototype.getEnum=function getEnum(e){if(this.nested&&this.nested[e]instanceof a)return this.nested[e].values;throw Error("no such enum: "+e)},Namespace.prototype.add=function add(e){if(!(e instanceof o&&void 0!==e.extend||e instanceof n||e instanceof a||e instanceof s||e instanceof Namespace||e instanceof d))throw TypeError("object must be a valid nested object");if(this.nested){var t=this.get(e.name);if(t){if(!(t instanceof Namespace&&e instanceof Namespace)||t instanceof n||t instanceof s)throw Error("duplicate name '"+e.name+"' in "+this);for(var r=t.nestedArray,i=0;i<r.length;++i)e.add(r[i]);this.remove(t),this.nested||(this.nested={}),e.setOptions(t.options,!0)}}else this.nested={};return this.nested[e.name]=e,e.onAdd(this),clearCache(this)},Namespace.prototype.remove=function remove(e){if(!(e instanceof i))throw TypeError("object must be a ReflectionObject");if(e.parent!==this)throw Error(e+" is not a member of "+this);return delete this.nested[e.name],Object.keys(this.nested).length||(this.nested=void 0),e.onRemove(this),clearCache(this)},Namespace.prototype.define=function define(e,t){if(u.isString(e))e=e.split(".");else if(!Array.isArray(e))throw TypeError("illegal path");if(e&&e.length&&""===e[0])throw Error("path must be relative");for(var r=this;e.length>0;){var i=e.shift();if(r.nested&&r.nested[i]){if(!((r=r.nested[i])instanceof Namespace))throw Error("path conflicts with non-namespace objects")}else r.add(r=new Namespace(i))}return t&&r.addJSON(t),r},Namespace.prototype.resolveAll=function resolveAll(){for(var e=this.nestedArray,t=0;t<e.length;)e[t]instanceof Namespace?e[t++].resolveAll():e[t++].resolve();return this.resolve()},Namespace.prototype.lookup=function lookup(e,t,r){if("boolean"==typeof t?(r=t,t=void 0):t&&!Array.isArray(t)&&(t=[t]),u.isString(e)&&e.length){if("."===e)return this.root;e=e.split(".")}else if(!e.length)return this;if(""===e[0])return this.root.lookup(e.slice(1),t);var i=this.get(e[0]);if(i){if(1===e.length){if(!t||t.indexOf(i.constructor)>-1)return i}else if(i instanceof Namespace&&(i=i.lookup(e.slice(1),t,!0)))return i}else for(var n=0;n<this.nestedArray.length;++n)if(this._nestedArray[n]instanceof Namespace&&(i=this._nestedArray[n].lookup(e,t,!0)))return i;return null===this.parent||r?null:this.parent.lookup(e,t)},Namespace.prototype.lookupType=function lookupType(e){var t=this.lookup(e,[n]);if(!t)throw Error("no such type: "+e);return t},Namespace.prototype.lookupEnum=function lookupEnum(e){var t=this.lookup(e,[a]);if(!t)throw Error("no such Enum '"+e+"' in "+this);return t},Namespace.prototype.lookupTypeOrEnum=function lookupTypeOrEnum(e){var t=this.lookup(e,[n,a]);if(!t)throw Error("no such Type or Enum '"+e+"' in "+this);return t},Namespace.prototype.lookupService=function lookupService(e){var t=this.lookup(e,[s]);if(!t)throw Error("no such Service '"+e+"' in "+this);return t},Namespace._configure=function(e,t,r){n=e,s=t,a=r}},7812:(e,t,r)=>{"use strict";e.exports=ReflectionObject,ReflectionObject.className="ReflectionObject";var i,n=r(8723);function ReflectionObject(e,t){if(!n.isString(e))throw TypeError("name must be a string");if(t&&!n.isObject(t))throw TypeError("options must be an object");this.options=t,this.parsedOptions=null,this.name=e,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(ReflectionObject.prototype,{root:{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}},fullName:{get:function(){for(var e=[this.name],t=this.parent;t;)e.unshift(t.name),t=t.parent;return e.join(".")}}}),ReflectionObject.prototype.toJSON=function toJSON(){throw Error()},ReflectionObject.prototype.onAdd=function onAdd(e){this.parent&&this.parent!==e&&this.parent.remove(this),this.parent=e,this.resolved=!1;var t=e.root;t instanceof i&&t._handleAdd(this)},ReflectionObject.prototype.onRemove=function onRemove(e){var t=e.root;t instanceof i&&t._handleRemove(this),this.parent=null,this.resolved=!1},ReflectionObject.prototype.resolve=function resolve(){return this.resolved||this.root instanceof i&&(this.resolved=!0),this},ReflectionObject.prototype.getOption=function getOption(e){if(this.options)return this.options[e]},ReflectionObject.prototype.setOption=function setOption(e,t,r){return r&&this.options&&void 0!==this.options[e]||((this.options||(this.options={}))[e]=t),this},ReflectionObject.prototype.setParsedOption=function setParsedOption(e,t,r){this.parsedOptions||(this.parsedOptions=[]);var i=this.parsedOptions;if(r){var s=i.find((function(t){return Object.prototype.hasOwnProperty.call(t,e)}));if(s){var a=s[e];n.setProperty(a,r,t)}else(s={})[e]=n.setProperty({},r,t),i.push(s)}else{var o={};o[e]=t,i.push(o)}return this},ReflectionObject.prototype.setOptions=function setOptions(e,t){if(e)for(var r=Object.keys(e),i=0;i<r.length;++i)this.setOption(r[i],e[r[i]],t);return this},ReflectionObject.prototype.toString=function toString(){var e=this.constructor.className,t=this.fullName;return t.length?e+" "+t:e},ReflectionObject._configure=function(e){i=e}},7166:(e,t,r)=>{"use strict";e.exports=OneOf;var i=r(7812);((OneOf.prototype=Object.create(i.prototype)).constructor=OneOf).className="OneOf";var n=r(4243),s=r(8723);function OneOf(e,t,r,n){if(Array.isArray(t)||(r=t,t=void 0),i.call(this,e,r),void 0!==t&&!Array.isArray(t))throw TypeError("fieldNames must be an Array");this.oneof=t||[],this.fieldsArray=[],this.comment=n}function addFieldsToParent(e){if(e.parent)for(var t=0;t<e.fieldsArray.length;++t)e.fieldsArray[t].parent||e.parent.add(e.fieldsArray[t])}OneOf.fromJSON=function fromJSON(e,t){return new OneOf(e,t.oneof,t.options,t.comment)},OneOf.prototype.toJSON=function toJSON(e){var t=!!e&&Boolean(e.keepComments);return s.toObject(["options",this.options,"oneof",this.oneof,"comment",t?this.comment:void 0])},OneOf.prototype.add=function add(e){if(!(e instanceof n))throw TypeError("field must be a Field");return e.parent&&e.parent!==this.parent&&e.parent.remove(e),this.oneof.push(e.name),this.fieldsArray.push(e),e.partOf=this,addFieldsToParent(this),this},OneOf.prototype.remove=function remove(e){if(!(e instanceof n))throw TypeError("field must be a Field");var t=this.fieldsArray.indexOf(e);if(t<0)throw Error(e+" is not a member of "+this);return this.fieldsArray.splice(t,1),(t=this.oneof.indexOf(e.name))>-1&&this.oneof.splice(t,1),e.partOf=null,this},OneOf.prototype.onAdd=function onAdd(e){i.prototype.onAdd.call(this,e);for(var t=0;t<this.oneof.length;++t){var r=e.get(this.oneof[t]);r&&!r.partOf&&(r.partOf=this,this.fieldsArray.push(r))}addFieldsToParent(this)},OneOf.prototype.onRemove=function onRemove(e){for(var t,r=0;r<this.fieldsArray.length;++r)(t=this.fieldsArray[r]).parent&&t.parent.remove(t);i.prototype.onRemove.call(this,e)},OneOf.d=function decorateOneOf(){for(var e=new Array(arguments.length),t=0;t<arguments.length;)e[t]=arguments[t++];return function oneOfDecorator(t,r){s.decorateType(t.constructor).add(new OneOf(r,e)),Object.defineProperty(t,r,{get:s.oneOfGetter(e),set:s.oneOfSetter(e)})}}},6344:(e,t,r)=>{"use strict";e.exports=Reader;var i,n=r(5099),s=n.LongBits,a=n.utf8;function indexOutOfRange(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function Reader(e){this.buf=e,this.pos=0,this.len=e.length}var o="undefined"!=typeof Uint8Array?function create_typed_array(e){if(e instanceof Uint8Array||Array.isArray(e))return new Reader(e);throw Error("illegal buffer")}:function create_array(e){if(Array.isArray(e))return new Reader(e);throw Error("illegal buffer")},d=function create(){return n.Buffer?function create_buffer_setup(e){return(Reader.create=function create_buffer(e){return n.Buffer.isBuffer(e)?new i(e):o(e)})(e)}:o};function readLongVarint(){var e=new s(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw indexOutOfRange(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw indexOutOfRange(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function readFixed32_end(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function readFixed64(){if(this.pos+8>this.len)throw indexOutOfRange(this,8);return new s(readFixed32_end(this.buf,this.pos+=4),readFixed32_end(this.buf,this.pos+=4))}Reader.create=d(),Reader.prototype._slice=n.Array.prototype.subarray||n.Array.prototype.slice,Reader.prototype.uint32=function read_uint32_setup(){var e=4294967295;return function read_uint32(){if(e=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return e;if((this.pos+=5)>this.len)throw this.pos=this.len,indexOutOfRange(this,10);return e}}(),Reader.prototype.int32=function read_int32(){return 0|this.uint32()},Reader.prototype.sint32=function read_sint32(){var e=this.uint32();return e>>>1^-(1&e)},Reader.prototype.bool=function read_bool(){return 0!==this.uint32()},Reader.prototype.fixed32=function read_fixed32(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)},Reader.prototype.sfixed32=function read_sfixed32(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return 0|readFixed32_end(this.buf,this.pos+=4)},Reader.prototype.float=function read_float(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);var e=n.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},Reader.prototype.double=function read_double(){if(this.pos+8>this.len)throw indexOutOfRange(this,4);var e=n.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},Reader.prototype.bytes=function read_bytes(){var e=this.uint32(),t=this.pos,r=this.pos+e;if(r>this.len)throw indexOutOfRange(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,r):t===r?new this.buf.constructor(0):this._slice.call(this.buf,t,r)},Reader.prototype.string=function read_string(){var e=this.bytes();return a.read(e,0,e.length)},Reader.prototype.skip=function skip(e){if("number"==typeof e){if(this.pos+e>this.len)throw indexOutOfRange(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw indexOutOfRange(this)}while(128&this.buf[this.pos++]);return this},Reader.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},Reader._configure=function(e){i=e,Reader.create=d(),i._configure();var t=n.Long?"toLong":"toNumber";n.merge(Reader.prototype,{int64:function read_int64(){return readLongVarint.call(this)[t](!1)},uint64:function read_uint64(){return readLongVarint.call(this)[t](!0)},sint64:function read_sint64(){return readLongVarint.call(this).zzDecode()[t](!1)},fixed64:function read_fixed64(){return readFixed64.call(this)[t](!0)},sfixed64:function read_sfixed64(){return readFixed64.call(this)[t](!1)}})}},2777:(e,t,r)=>{"use strict";e.exports=BufferReader;var i=r(6344);(BufferReader.prototype=Object.create(i.prototype)).constructor=BufferReader;var n=r(5099);function BufferReader(e){i.call(this,e)}BufferReader._configure=function(){n.Buffer&&(BufferReader.prototype._slice=n.Buffer.prototype.slice)},BufferReader.prototype.string=function read_string_buffer(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},BufferReader._configure()},7207:(e,t,r)=>{"use strict";e.exports=Root;var i=r(4060);((Root.prototype=Object.create(i.prototype)).constructor=Root).className="Root";var n,s,a,o=r(4243),d=r(8118),u=r(7166),l=r(8723);function Root(e){i.call(this,"",e),this.deferred=[],this.files=[]}function SYNC(){}Root.fromJSON=function fromJSON(e,t){return t||(t=new Root),e.options&&t.setOptions(e.options),t.addJSON(e.nested)},Root.prototype.resolvePath=l.path.resolve,Root.prototype.fetch=l.fetch,Root.prototype.load=function load(e,t,r){"function"==typeof t&&(r=t,t=void 0);var i=this;if(!r)return l.asPromise(load,i,e,t);var n=r===SYNC;function finish(e,t){if(r){var i=r;if(r=null,n)throw e;i(e,t)}}function getBundledFileName(e){var t=e.lastIndexOf("google/protobuf/");if(t>-1){var r=e.substring(t);if(r in a)return r}return null}function process(e,r){try{if(l.isString(r)&&"{"===r.charAt(0)&&(r=JSON.parse(r)),l.isString(r)){s.filename=e;var a,d=s(r,i,t),u=0;if(d.imports)for(;u<d.imports.length;++u)(a=getBundledFileName(d.imports[u])||i.resolvePath(e,d.imports[u]))&&fetch(a);if(d.weakImports)for(u=0;u<d.weakImports.length;++u)(a=getBundledFileName(d.weakImports[u])||i.resolvePath(e,d.weakImports[u]))&&fetch(a,!0)}else i.setOptions(r.options).addJSON(r.nested)}catch(e){finish(e)}n||o||finish(null,i)}function fetch(e,t){if(!(i.files.indexOf(e)>-1))if(i.files.push(e),e in a)n?process(e,a[e]):(++o,setTimeout((function(){--o,process(e,a[e])})));else if(n){var s;try{s=l.fs.readFileSync(e).toString("utf8")}catch(e){return void(t||finish(e))}process(e,s)}else++o,i.fetch(e,(function(n,s){--o,r&&(n?t?o||finish(null,i):finish(n):process(e,s))}))}var o=0;l.isString(e)&&(e=[e]);for(var d,u=0;u<e.length;++u)(d=i.resolvePath("",e[u]))&&fetch(d);if(n)return i;o||finish(null,i)},Root.prototype.loadSync=function loadSync(e,t){if(!l.isNode)throw Error("not supported");return this.load(e,t,SYNC)},Root.prototype.resolveAll=function resolveAll(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map((function(e){return"'extend "+e.extend+"' in "+e.parent.fullName})).join(", "));return i.prototype.resolveAll.call(this)};var c=/^[A-Z]/;function tryHandleExtension(e,t){var r=t.parent.lookup(t.extend);if(r){var i=new o(t.fullName,t.id,t.type,t.rule,void 0,t.options);return i.declaringField=t,t.extensionField=i,r.add(i),!0}return!1}Root.prototype._handleAdd=function _handleAdd(e){if(e instanceof o)void 0===e.extend||e.extensionField||tryHandleExtension(0,e)||this.deferred.push(e);else if(e instanceof d)c.test(e.name)&&(e.parent[e.name]=e.values);else if(!(e instanceof u)){if(e instanceof n)for(var t=0;t<this.deferred.length;)tryHandleExtension(0,this.deferred[t])?this.deferred.splice(t,1):++t;for(var r=0;r<e.nestedArray.length;++r)this._handleAdd(e._nestedArray[r]);c.test(e.name)&&(e.parent[e.name]=e)}},Root.prototype._handleRemove=function _handleRemove(e){if(e instanceof o){if(void 0!==e.extend)if(e.extensionField)e.extensionField.parent.remove(e.extensionField),e.extensionField=null;else{var t=this.deferred.indexOf(e);t>-1&&this.deferred.splice(t,1)}}else if(e instanceof d)c.test(e.name)&&delete e.parent[e.name];else if(e instanceof i){for(var r=0;r<e.nestedArray.length;++r)this._handleRemove(e._nestedArray[r]);c.test(e.name)&&delete e.parent[e.name]}},Root._configure=function(e,t,r){n=e,s=t,a=r}},4738:e=>{"use strict";e.exports={}},7080:(e,t,r)=>{"use strict";t.Service=r(1604)},1604:(e,t,r)=>{"use strict";e.exports=Service;var i=r(5099);function Service(e,t,r){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");i.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(r)}(Service.prototype=Object.create(i.EventEmitter.prototype)).constructor=Service,Service.prototype.rpcCall=function rpcCall(e,t,r,n,s){if(!n)throw TypeError("request must be specified");var a=this;if(!s)return i.asPromise(rpcCall,a,e,t,r,n);if(a.rpcImpl)try{return a.rpcImpl(e,t[a.requestDelimited?"encodeDelimited":"encode"](n).finish(),(function rpcCallback(t,i){if(t)return a.emit("error",t,e),s(t);if(null!==i){if(!(i instanceof r))try{i=r[a.responseDelimited?"decodeDelimited":"decode"](i)}catch(t){return a.emit("error",t,e),s(t)}return a.emit("data",i,e),s(null,i)}a.end(!0)}))}catch(t){return a.emit("error",t,e),void setTimeout((function(){s(t)}),0)}else setTimeout((function(){s(Error("already ended"))}),0)},Service.prototype.end=function end(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},3712:(e,t,r)=>{"use strict";e.exports=Service;var i=r(4060);((Service.prototype=Object.create(i.prototype)).constructor=Service).className="Service";var n=r(7082),s=r(8723),a=r(7080);function Service(e,t){i.call(this,e,t),this.methods={},this._methodsArray=null}function clearCache(e){return e._methodsArray=null,e}Service.fromJSON=function fromJSON(e,t){var r=new Service(e,t.options);if(t.methods)for(var i=Object.keys(t.methods),s=0;s<i.length;++s)r.add(n.fromJSON(i[s],t.methods[i[s]]));return t.nested&&r.addJSON(t.nested),r.comment=t.comment,r},Service.prototype.toJSON=function toJSON(e){var t=i.prototype.toJSON.call(this,e),r=!!e&&Boolean(e.keepComments);return s.toObject(["options",t&&t.options||void 0,"methods",i.arrayToJSON(this.methodsArray,e)||{},"nested",t&&t.nested||void 0,"comment",r?this.comment:void 0])},Object.defineProperty(Service.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=s.toArray(this.methods))}}),Service.prototype.get=function get(e){return this.methods[e]||i.prototype.get.call(this,e)},Service.prototype.resolveAll=function resolveAll(){for(var e=this.methodsArray,t=0;t<e.length;++t)e[t].resolve();return i.prototype.resolve.call(this)},Service.prototype.add=function add(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);return e instanceof n?(this.methods[e.name]=e,e.parent=this,clearCache(this)):i.prototype.add.call(this,e)},Service.prototype.remove=function remove(e){if(e instanceof n){if(this.methods[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.methods[e.name],e.parent=null,clearCache(this)}return i.prototype.remove.call(this,e)},Service.prototype.create=function create(e,t,r){for(var i,n=new a.Service(e,t,r),o=0;o<this.methodsArray.length;++o){var d=s.lcFirst((i=this._methodsArray[o]).resolve().name).replace(/[^$\w_]/g,"");n[d]=s.codegen(["r","c"],s.isReserved(d)?d+"_":d)("return this.rpcCall(m,q,s,r,c)")({m:i,q:i.resolvedRequestType.ctor,s:i.resolvedResponseType.ctor})}return n}},1311:(e,t,r)=>{"use strict";e.exports=Type;var i=r(4060);((Type.prototype=Object.create(i.prototype)).constructor=Type).className="Type";var n=r(8118),s=r(7166),a=r(4243),o=r(4341),d=r(3712),u=r(9348),l=r(6344),c=r(3108),p=r(8723),h=r(7471),y=r(4455),g=r(3777),m=r(5931),b=r(1359);function Type(e,t){i.call(this,e,t),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}function clearCache(e){return e._fieldsById=e._fieldsArray=e._oneofsArray=null,delete e.encode,delete e.decode,delete e.verify,e}Object.defineProperties(Type.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var e=Object.keys(this.fields),t=0;t<e.length;++t){var r=this.fields[e[t]],i=r.id;if(this._fieldsById[i])throw Error("duplicate id "+i+" in "+this);this._fieldsById[i]=r}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=p.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=p.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=Type.generateConstructor(this)())},set:function(e){var t=e.prototype;t instanceof u||((e.prototype=new u).constructor=e,p.merge(e.prototype,t)),e.$type=e.prototype.$type=this,p.merge(e,u,!0),this._ctor=e;for(var r=0;r<this.fieldsArray.length;++r)this._fieldsArray[r].resolve();var i={};for(r=0;r<this.oneofsArray.length;++r)i[this._oneofsArray[r].resolve().name]={get:p.oneOfGetter(this._oneofsArray[r].oneof),set:p.oneOfSetter(this._oneofsArray[r].oneof)};r&&Object.defineProperties(e.prototype,i)}}}),Type.generateConstructor=function generateConstructor(e){for(var t,r=p.codegen(["p"],e.name),i=0;i<e.fieldsArray.length;++i)(t=e._fieldsArray[i]).map?r("this%s={}",p.safeProp(t.name)):t.repeated&&r("this%s=[]",p.safeProp(t.name));return r("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")},Type.fromJSON=function fromJSON(e,t){var r=new Type(e,t.options);r.extensions=t.extensions,r.reserved=t.reserved;for(var u=Object.keys(t.fields),l=0;l<u.length;++l)r.add((void 0!==t.fields[u[l]].keyType?o.fromJSON:a.fromJSON)(u[l],t.fields[u[l]]));if(t.oneofs)for(u=Object.keys(t.oneofs),l=0;l<u.length;++l)r.add(s.fromJSON(u[l],t.oneofs[u[l]]));if(t.nested)for(u=Object.keys(t.nested),l=0;l<u.length;++l){var c=t.nested[u[l]];r.add((void 0!==c.id?a.fromJSON:void 0!==c.fields?Type.fromJSON:void 0!==c.values?n.fromJSON:void 0!==c.methods?d.fromJSON:i.fromJSON)(u[l],c))}return t.extensions&&t.extensions.length&&(r.extensions=t.extensions),t.reserved&&t.reserved.length&&(r.reserved=t.reserved),t.group&&(r.group=!0),t.comment&&(r.comment=t.comment),r},Type.prototype.toJSON=function toJSON(e){var t=i.prototype.toJSON.call(this,e),r=!!e&&Boolean(e.keepComments);return p.toObject(["options",t&&t.options||void 0,"oneofs",i.arrayToJSON(this.oneofsArray,e),"fields",i.arrayToJSON(this.fieldsArray.filter((function(e){return!e.declaringField})),e)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",t&&t.nested||void 0,"comment",r?this.comment:void 0])},Type.prototype.resolveAll=function resolveAll(){for(var e=this.fieldsArray,t=0;t<e.length;)e[t++].resolve();var r=this.oneofsArray;for(t=0;t<r.length;)r[t++].resolve();return i.prototype.resolveAll.call(this)},Type.prototype.get=function get(e){return this.fields[e]||this.oneofs&&this.oneofs[e]||this.nested&&this.nested[e]||null},Type.prototype.add=function add(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);if(e instanceof a&&void 0===e.extend){if(this._fieldsById?this._fieldsById[e.id]:this.fieldsById[e.id])throw Error("duplicate id "+e.id+" in "+this);if(this.isReservedId(e.id))throw Error("id "+e.id+" is reserved in "+this);if(this.isReservedName(e.name))throw Error("name '"+e.name+"' is reserved in "+this);return e.parent&&e.parent.remove(e),this.fields[e.name]=e,e.message=this,e.onAdd(this),clearCache(this)}return e instanceof s?(this.oneofs||(this.oneofs={}),this.oneofs[e.name]=e,e.onAdd(this),clearCache(this)):i.prototype.add.call(this,e)},Type.prototype.remove=function remove(e){if(e instanceof a&&void 0===e.extend){if(!this.fields||this.fields[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.fields[e.name],e.parent=null,e.onRemove(this),clearCache(this)}if(e instanceof s){if(!this.oneofs||this.oneofs[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.oneofs[e.name],e.parent=null,e.onRemove(this),clearCache(this)}return i.prototype.remove.call(this,e)},Type.prototype.isReservedId=function isReservedId(e){return i.isReservedId(this.reserved,e)},Type.prototype.isReservedName=function isReservedName(e){return i.isReservedName(this.reserved,e)},Type.prototype.create=function create(e){return new this.ctor(e)},Type.prototype.setup=function setup(){for(var e=this.fullName,t=[],r=0;r<this.fieldsArray.length;++r)t.push(this._fieldsArray[r].resolve().resolvedType);this.encode=h(this)({Writer:c,types:t,util:p}),this.decode=y(this)({Reader:l,types:t,util:p}),this.verify=g(this)({types:t,util:p}),this.fromObject=m.fromObject(this)({types:t,util:p}),this.toObject=m.toObject(this)({types:t,util:p});var i=b[e];if(i){var n=Object.create(this);n.fromObject=this.fromObject,this.fromObject=i.fromObject.bind(n),n.toObject=this.toObject,this.toObject=i.toObject.bind(n)}return this},Type.prototype.encode=function encode_setup(e,t){return this.setup().encode(e,t)},Type.prototype.encodeDelimited=function encodeDelimited(e,t){return this.encode(e,t&&t.len?t.fork():t).ldelim()},Type.prototype.decode=function decode_setup(e,t){return this.setup().decode(e,t)},Type.prototype.decodeDelimited=function decodeDelimited(e){return e instanceof l||(e=l.create(e)),this.decode(e,e.uint32())},Type.prototype.verify=function verify_setup(e){return this.setup().verify(e)},Type.prototype.fromObject=function fromObject(e){return this.setup().fromObject(e)},Type.prototype.toObject=function toObject(e,t){return this.setup().toObject(e,t)},Type.d=function decorateType(e){return function typeDecorator(t){p.decorateType(t,e)}}},5594:(e,t,r)=>{"use strict";var i=t,n=r(8723),s=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function bake(e,t){var r=0,i={};for(t|=0;r<e.length;)i[s[r+t]]=e[r++];return i}i.basic=bake([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),i.defaults=bake([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",n.emptyArray,null]),i.long=bake([0,0,0,1,1],7),i.mapKey=bake([0,0,0,5,5,0,0,0,1,1,0,2],2),i.packed=bake([1,5,0,0,0,5,5,0,0,0,1,1,0])},8723:(e,t,r)=>{"use strict";var i,n,s=e.exports=r(5099),a=r(4738);s.codegen=r(4132),s.fetch=r(177),s.path=r(1080),s.fs=s.inquire("fs"),s.toArray=function toArray(e){if(e){for(var t=Object.keys(e),r=new Array(t.length),i=0;i<t.length;)r[i]=e[t[i++]];return r}return[]},s.toObject=function toObject(e){for(var t={},r=0;r<e.length;){var i=e[r++],n=e[r++];void 0!==n&&(t[i]=n)}return t};var o=/\\/g,d=/"/g;s.isReserved=function isReserved(e){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(e)},s.safeProp=function safeProp(e){return!/^[$\w_]+$/.test(e)||s.isReserved(e)?'["'+e.replace(o,"\\\\").replace(d,'\\"')+'"]':"."+e},s.ucFirst=function ucFirst(e){return e.charAt(0).toUpperCase()+e.substring(1)};var u=/_([a-z])/g;s.camelCase=function camelCase(e){return e.substring(0,1)+e.substring(1).replace(u,(function(e,t){return t.toUpperCase()}))},s.compareFieldsById=function compareFieldsById(e,t){return e.id-t.id},s.decorateType=function decorateType(e,t){if(e.$type)return t&&e.$type.name!==t&&(s.decorateRoot.remove(e.$type),e.$type.name=t,s.decorateRoot.add(e.$type)),e.$type;i||(i=r(1311));var n=new i(t||e.name);return s.decorateRoot.add(n),n.ctor=e,Object.defineProperty(e,"$type",{value:n,enumerable:!1}),Object.defineProperty(e.prototype,"$type",{value:n,enumerable:!1}),n};var l=0;s.decorateEnum=function decorateEnum(e){if(e.$type)return e.$type;n||(n=r(8118));var t=new n("Enum"+l++,e);return s.decorateRoot.add(t),Object.defineProperty(e,"$type",{value:t,enumerable:!1}),t},s.setProperty=function setProperty(e,t,r){if("object"!=typeof e)throw TypeError("dst must be an object");if(!t)throw TypeError("path must be specified");return function setProp(e,t,r){var i=t.shift();if("__proto__"===i)return e;if(t.length>0)e[i]=setProp(e[i]||{},t,r);else{var n=e[i];n&&(r=[].concat(n).concat(r)),e[i]=r}return e}(e,t=t.split("."),r)},Object.defineProperty(s,"decorateRoot",{get:function(){return a.decorated||(a.decorated=new(r(7207)))}})},5904:(e,t,r)=>{"use strict";e.exports=LongBits;var i=r(5099);function LongBits(e,t){this.lo=e>>>0,this.hi=t>>>0}var n=LongBits.zero=new LongBits(0,0);n.toNumber=function(){return 0},n.zzEncode=n.zzDecode=function(){return this},n.length=function(){return 1};var s=LongBits.zeroHash="\0\0\0\0\0\0\0\0";LongBits.fromNumber=function fromNumber(e){if(0===e)return n;var t=e<0;t&&(e=-e);var r=e>>>0,i=(e-r)/4294967296>>>0;return t&&(i=~i>>>0,r=~r>>>0,++r>4294967295&&(r=0,++i>4294967295&&(i=0))),new LongBits(r,i)},LongBits.from=function from(e){if("number"==typeof e)return LongBits.fromNumber(e);if(i.isString(e)){if(!i.Long)return LongBits.fromNumber(parseInt(e,10));e=i.Long.fromString(e)}return e.low||e.high?new LongBits(e.low>>>0,e.high>>>0):n},LongBits.prototype.toNumber=function toNumber(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,r=~this.hi>>>0;return t||(r=r+1>>>0),-(t+4294967296*r)}return this.lo+4294967296*this.hi},LongBits.prototype.toLong=function toLong(e){return i.Long?new i.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var a=String.prototype.charCodeAt;LongBits.fromHash=function fromHash(e){return e===s?n:new LongBits((a.call(e,0)|a.call(e,1)<<8|a.call(e,2)<<16|a.call(e,3)<<24)>>>0,(a.call(e,4)|a.call(e,5)<<8|a.call(e,6)<<16|a.call(e,7)<<24)>>>0)},LongBits.prototype.toHash=function toHash(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},LongBits.prototype.zzEncode=function zzEncode(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},LongBits.prototype.zzDecode=function zzDecode(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},LongBits.prototype.length=function length(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return 0===r?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:r<128?9:10}},5099:function(e,t,r){"use strict";var i=t;function merge(e,t,r){for(var i=Object.keys(t),n=0;n<i.length;++n)void 0!==e[i[n]]&&r||(e[i[n]]=t[i[n]]);return e}function newError(e){function CustomError(e,t){if(!(this instanceof CustomError))return new CustomError(e,t);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,CustomError):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),t&&merge(this,t)}return(CustomError.prototype=Object.create(Error.prototype)).constructor=CustomError,Object.defineProperty(CustomError.prototype,"name",{get:function(){return e}}),CustomError.prototype.toString=function toString(){return this.name+": "+this.message},CustomError}i.asPromise=r(3808),i.base64=r(3320),i.EventEmitter=r(2149),i.float=r(1727),i.inquire=r(3768),i.utf8=r(5184),i.pool=r(2461),i.LongBits=r(5904),i.isNode=Boolean(void 0!==r.g&&r.g&&r.g.process&&r.g.process.versions&&r.g.process.versions.node),i.global=i.isNode&&r.g||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,i.emptyArray=Object.freeze?Object.freeze([]):[],i.emptyObject=Object.freeze?Object.freeze({}):{},i.isInteger=Number.isInteger||function isInteger(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},i.isString=function isString(e){return"string"==typeof e||e instanceof String},i.isObject=function isObject(e){return e&&"object"==typeof e},i.isset=i.isSet=function isSet(e,t){var r=e[t];return!(null==r||!e.hasOwnProperty(t))&&("object"!=typeof r||(Array.isArray(r)?r.length:Object.keys(r).length)>0)},i.Buffer=function(){try{var e=i.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),i._Buffer_from=null,i._Buffer_allocUnsafe=null,i.newBuffer=function newBuffer(e){return"number"==typeof e?i.Buffer?i._Buffer_allocUnsafe(e):new i.Array(e):i.Buffer?i._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},i.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,i.Long=i.global.dcodeIO&&i.global.dcodeIO.Long||i.global.Long||i.inquire("long"),i.key2Re=/^true|false|0|1$/,i.key32Re=/^-?(?:0|[1-9][0-9]*)$/,i.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,i.longToHash=function longToHash(e){return e?i.LongBits.from(e).toHash():i.LongBits.zeroHash},i.longFromHash=function longFromHash(e,t){var r=i.LongBits.fromHash(e);return i.Long?i.Long.fromBits(r.lo,r.hi,t):r.toNumber(Boolean(t))},i.merge=merge,i.lcFirst=function lcFirst(e){return e.charAt(0).toLowerCase()+e.substring(1)},i.newError=newError,i.ProtocolError=newError("ProtocolError"),i.oneOfGetter=function getOneOf(e){for(var t={},r=0;r<e.length;++r)t[e[r]]=1;return function(){for(var e=Object.keys(this),r=e.length-1;r>-1;--r)if(1===t[e[r]]&&void 0!==this[e[r]]&&null!==this[e[r]])return e[r]}},i.oneOfSetter=function setOneOf(e){return function(t){for(var r=0;r<e.length;++r)e[r]!==t&&delete this[e[r]]}},i.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},i._configure=function(){var e=i.Buffer;e?(i._Buffer_from=e.from!==Uint8Array.from&&e.from||function Buffer_from(t,r){return new e(t,r)},i._Buffer_allocUnsafe=e.allocUnsafe||function Buffer_allocUnsafe(t){return new e(t)}):i._Buffer_from=i._Buffer_allocUnsafe=null}},3777:(e,t,r)=>{"use strict";e.exports=function verifier(e){var t=n.codegen(["m"],e.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),r=e.oneofsArray,i={};r.length&&t("var p={}");for(var s=0;s<e.fieldsArray.length;++s){var a=e._fieldsArray[s].resolve(),o="m"+n.safeProp(a.name);if(a.optional&&t("if(%s!=null&&m.hasOwnProperty(%j)){",o,a.name),a.map)t("if(!util.isObject(%s))",o)("return%j",invalid(a,"object"))("var k=Object.keys(%s)",o)("for(var i=0;i<k.length;++i){"),genVerifyKey(t,a,"k[i]"),genVerifyValue(t,a,s,o+"[k[i]]")("}");else if(a.repeated)t("if(!Array.isArray(%s))",o)("return%j",invalid(a,"array"))("for(var i=0;i<%s.length;++i){",o),genVerifyValue(t,a,s,o+"[i]")("}");else{if(a.partOf){var d=n.safeProp(a.partOf.name);1===i[a.partOf.name]&&t("if(p%s===1)",d)("return%j",a.partOf.name+": multiple values"),i[a.partOf.name]=1,t("p%s=1",d)}genVerifyValue(t,a,s,o)}a.optional&&t("}")}return t("return null")};var i=r(8118),n=r(8723);function invalid(e,t){return e.name+": "+t+(e.repeated&&"array"!==t?"[]":e.map&&"object"!==t?"{k:"+e.keyType+"}":"")+" expected"}function genVerifyValue(e,t,r,n){if(t.resolvedType)if(t.resolvedType instanceof i){e("switch(%s){",n)("default:")("return%j",invalid(t,"enum value"));for(var s=Object.keys(t.resolvedType.values),a=0;a<s.length;++a)e("case %i:",t.resolvedType.values[s[a]]);e("break")("}")}else e("{")("var e=types[%i].verify(%s);",r,n)("if(e)")("return%j+e",t.name+".")("}");else switch(t.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.isInteger(%s))",n)("return%j",invalid(t,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",n,n,n,n)("return%j",invalid(t,"integer|Long"));break;case"float":case"double":e('if(typeof %s!=="number")',n)("return%j",invalid(t,"number"));break;case"bool":e('if(typeof %s!=="boolean")',n)("return%j",invalid(t,"boolean"));break;case"string":e("if(!util.isString(%s))",n)("return%j",invalid(t,"string"));break;case"bytes":e('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',n,n,n)("return%j",invalid(t,"buffer"))}return e}function genVerifyKey(e,t,r){switch(t.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.key32Re.test(%s))",r)("return%j",invalid(t,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.key64Re.test(%s))",r)("return%j",invalid(t,"integer|Long key"));break;case"bool":e("if(!util.key2Re.test(%s))",r)("return%j",invalid(t,"boolean key"))}return e}},1359:(e,t,r)=>{"use strict";var i=t,n=r(9348);i[".google.protobuf.Any"]={fromObject:function(e){if(e&&e["@type"]){var t=e["@type"].substring(e["@type"].lastIndexOf("/")+1),r=this.lookup(t);if(r){var i="."===e["@type"].charAt(0)?e["@type"].substr(1):e["@type"];return-1===i.indexOf("/")&&(i="/"+i),this.create({type_url:i,value:r.encode(r.fromObject(e)).finish()})}}return this.fromObject(e)},toObject:function(e,t){var r="",i="";if(t&&t.json&&e.type_url&&e.value){i=e.type_url.substring(e.type_url.lastIndexOf("/")+1),r=e.type_url.substring(0,e.type_url.lastIndexOf("/")+1);var s=this.lookup(i);s&&(e=s.decode(e.value))}if(!(e instanceof this.ctor)&&e instanceof n){var a=e.$type.toObject(e,t);return""===r&&(r="type.googleapis.com/"),i=r+("."===e.$type.fullName[0]?e.$type.fullName.substr(1):e.$type.fullName),a["@type"]=i,a}return this.toObject(e,t)}}},3108:(e,t,r)=>{"use strict";e.exports=Writer;var i,n=r(5099),s=n.LongBits,a=n.base64,o=n.utf8;function Op(e,t,r){this.fn=e,this.len=t,this.next=void 0,this.val=r}function noop(){}function State(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function Writer(){this.len=0,this.head=new Op(noop,0,0),this.tail=this.head,this.states=null}var d=function create(){return n.Buffer?function create_buffer_setup(){return(Writer.create=function create_buffer(){return new i})()}:function create_array(){return new Writer}};function writeByte(e,t,r){t[r]=255&e}function VarintOp(e,t){this.len=e,this.next=void 0,this.val=t}function writeVarint64(e,t,r){for(;e.hi;)t[r++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[r++]=127&e.lo|128,e.lo=e.lo>>>7;t[r++]=e.lo}function writeFixed32(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}Writer.create=d(),Writer.alloc=function alloc(e){return new n.Array(e)},n.Array!==Array&&(Writer.alloc=n.pool(Writer.alloc,n.Array.prototype.subarray)),Writer.prototype._push=function push(e,t,r){return this.tail=this.tail.next=new Op(e,t,r),this.len+=t,this},VarintOp.prototype=Object.create(Op.prototype),VarintOp.prototype.fn=function writeVarint32(e,t,r){for(;e>127;)t[r++]=127&e|128,e>>>=7;t[r]=e},Writer.prototype.uint32=function write_uint32(e){return this.len+=(this.tail=this.tail.next=new VarintOp((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},Writer.prototype.int32=function write_int32(e){return e<0?this._push(writeVarint64,10,s.fromNumber(e)):this.uint32(e)},Writer.prototype.sint32=function write_sint32(e){return this.uint32((e<<1^e>>31)>>>0)},Writer.prototype.uint64=function write_uint64(e){var t=s.from(e);return this._push(writeVarint64,t.length(),t)},Writer.prototype.int64=Writer.prototype.uint64,Writer.prototype.sint64=function write_sint64(e){var t=s.from(e).zzEncode();return this._push(writeVarint64,t.length(),t)},Writer.prototype.bool=function write_bool(e){return this._push(writeByte,1,e?1:0)},Writer.prototype.fixed32=function write_fixed32(e){return this._push(writeFixed32,4,e>>>0)},Writer.prototype.sfixed32=Writer.prototype.fixed32,Writer.prototype.fixed64=function write_fixed64(e){var t=s.from(e);return this._push(writeFixed32,4,t.lo)._push(writeFixed32,4,t.hi)},Writer.prototype.sfixed64=Writer.prototype.fixed64,Writer.prototype.float=function write_float(e){return this._push(n.float.writeFloatLE,4,e)},Writer.prototype.double=function write_double(e){return this._push(n.float.writeDoubleLE,8,e)};var u=n.Array.prototype.set?function writeBytes_set(e,t,r){t.set(e,r)}:function writeBytes_for(e,t,r){for(var i=0;i<e.length;++i)t[r+i]=e[i]};Writer.prototype.bytes=function write_bytes(e){var t=e.length>>>0;if(!t)return this._push(writeByte,1,0);if(n.isString(e)){var r=Writer.alloc(t=a.length(e));a.decode(e,r,0),e=r}return this.uint32(t)._push(u,t,e)},Writer.prototype.string=function write_string(e){var t=o.length(e);return t?this.uint32(t)._push(o.write,t,e):this._push(writeByte,1,0)},Writer.prototype.fork=function fork(){return this.states=new State(this),this.head=this.tail=new Op(noop,0,0),this.len=0,this},Writer.prototype.reset=function reset(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Op(noop,0,0),this.len=0),this},Writer.prototype.ldelim=function ldelim(){var e=this.head,t=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=e.next,this.tail=t,this.len+=r),this},Writer.prototype.finish=function finish(){for(var e=this.head.next,t=this.constructor.alloc(this.len),r=0;e;)e.fn(e.val,t,r),r+=e.len,e=e.next;return t},Writer._configure=function(e){i=e,Writer.create=d(),i._configure()}},2533:(e,t,r)=>{"use strict";e.exports=BufferWriter;var i=r(3108);(BufferWriter.prototype=Object.create(i.prototype)).constructor=BufferWriter;var n=r(5099);function BufferWriter(){i.call(this)}function writeStringBuffer(e,t,r){e.length<40?n.utf8.write(e,t,r):t.utf8Write?t.utf8Write(e,r):t.write(e,r)}BufferWriter._configure=function(){BufferWriter.alloc=n._Buffer_allocUnsafe,BufferWriter.writeBytesBuffer=n.Buffer&&n.Buffer.prototype instanceof Uint8Array&&"set"===n.Buffer.prototype.set.name?function writeBytesBuffer_set(e,t,r){t.set(e,r)}:function writeBytesBuffer_copy(e,t,r){if(e.copy)e.copy(t,r,0,e.length);else for(var i=0;i<e.length;)t[r++]=e[i++]}},BufferWriter.prototype.bytes=function write_bytes_buffer(e){n.isString(e)&&(e=n._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(BufferWriter.writeBytesBuffer,t,e),this},BufferWriter.prototype.string=function write_string_buffer(e){var t=n.Buffer.byteLength(e);return this.uint32(t),t&&this._push(writeStringBuffer,t,e),this},BufferWriter._configure()},5699:e=>{"use strict";var t={};function createErrorType(e,r,i){i||(i=Error);var n=function(e){function NodeError(t,i,n){return e.call(this,function getMessage(e,t,i){return"string"==typeof r?r:r(e,t,i)}(t,i,n))||this}return function _inheritsLoose(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(NodeError,e),NodeError}(i);n.prototype.name=i.name,n.prototype.code=e,t[e]=n}function oneOf(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}createErrorType("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),createErrorType("ERR_INVALID_ARG_TYPE",(function(e,t,r){var i,n;if("string"==typeof t&&function startsWith(e,t,r){return e.substr(!r||r<0?0:+r,t.length)===t}(t,"not ")?(i="must not be",t=t.replace(/^not /,"")):i="must be",function endsWith(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))n="The ".concat(e," ").concat(i," ").concat(oneOf(t,"type"));else{var s=function includes(e,t,r){return"number"!=typeof r&&(r=0),!(r+t.length>e.length)&&-1!==e.indexOf(t,r)}(e,".")?"property":"argument";n='The "'.concat(e,'" ').concat(s," ").concat(i," ").concat(oneOf(t,"type"))}return n+=". Received type ".concat(typeof r)}),TypeError),createErrorType("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),createErrorType("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),createErrorType("ERR_STREAM_PREMATURE_CLOSE","Premature close"),createErrorType("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),createErrorType("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),createErrorType("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),createErrorType("ERR_STREAM_WRITE_AFTER_END","write after end"),createErrorType("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),createErrorType("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),createErrorType("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.F=t},1265:(e,t,r)=>{"use strict";var i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=Duplex;var n=r(8199),s=r(5291);r(5615)(Duplex,n);for(var a=i(s.prototype),o=0;o<a.length;o++){var d=a[o];Duplex.prototype[d]||(Duplex.prototype[d]=s.prototype[d])}function Duplex(e){if(!(this instanceof Duplex))return new Duplex(e);n.call(this,e),s.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",onend)))}function onend(){this._writableState.ended||{env:{ONEKEY_PROXY:void 0,NODE_ENV:"production",TAMAGUI_TARGET:"web"}}.nextTick(onEndNT,this)}function onEndNT(e){e.end()}Object.defineProperty(Duplex.prototype,"writableHighWaterMark",{enumerable:!1,get:function get(){return this._writableState.highWaterMark}}),Object.defineProperty(Duplex.prototype,"writableBuffer",{enumerable:!1,get:function get(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(Duplex.prototype,"writableLength",{enumerable:!1,get:function get(){return this._writableState.length}}),Object.defineProperty(Duplex.prototype,"destroyed",{enumerable:!1,get:function get(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function set(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},4421:(e,t,r)=>{"use strict";e.exports=PassThrough;var i=r(9415);function PassThrough(e){if(!(this instanceof PassThrough))return new PassThrough(e);i.call(this,e)}r(5615)(PassThrough,i),PassThrough.prototype._transform=function(e,t,r){r(null,e)}},8199:(e,t,r)=>{"use strict";var i;e.exports=Readable,Readable.ReadableState=ReadableState;r(46).EventEmitter;var n=function EElistenerCount(e,t){return e.listeners(t).length},s=r(4856),a=r(1048).Buffer,o=(void 0!==r.g?r.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var d,u=r(3951);d=u&&u.debuglog?u.debuglog("stream"):function debug(){};var l,c,p,h=r(82),y=r(6527),g=r(9952).getHighWaterMark,m=r(5699).F,b=m.ERR_INVALID_ARG_TYPE,v=m.ERR_STREAM_PUSH_AFTER_EOF,_=m.ERR_METHOD_NOT_IMPLEMENTED,w=m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(5615)(Readable,s);var E=y.errorOrDestroy,T=["error","close","destroy","pause","resume"];function ReadableState(e,t,n){i=i||r(1265),e=e||{},"boolean"!=typeof n&&(n=t instanceof i),this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=g(this,e,"readableHighWaterMark",n),this.buffer=new h,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(l||(l=r(5157).I),this.decoder=new l(e.encoding),this.encoding=e.encoding)}function Readable(e){if(i=i||r(1265),!(this instanceof Readable))return new Readable(e);var t=this instanceof i;this._readableState=new ReadableState(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),s.call(this)}function readableAddChunk(e,t,r,i,n){d("readableAddChunk",t);var s,u=e._readableState;if(null===t)u.reading=!1,function onEofChunk(e,t){if(d("onEofChunk"),t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?emitReadable(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,emitReadable_(e)))}(e,u);else if(n||(s=function chunkInvalid(e,t){var r;(function _isUint8Array(e){return a.isBuffer(e)||e instanceof o})(t)||"string"==typeof t||void 0===t||e.objectMode||(r=new b("chunk",["string","Buffer","Uint8Array"],t));return r}(u,t)),s)E(e,s);else if(u.objectMode||t&&t.length>0)if("string"==typeof t||u.objectMode||Object.getPrototypeOf(t)===a.prototype||(t=function _uint8ArrayToBuffer(e){return a.from(e)}(t)),i)u.endEmitted?E(e,new w):addChunk(e,u,t,!0);else if(u.ended)E(e,new v);else{if(u.destroyed)return!1;u.reading=!1,u.decoder&&!r?(t=u.decoder.write(t),u.objectMode||0!==t.length?addChunk(e,u,t,!1):maybeReadMore(e,u)):addChunk(e,u,t,!1)}else i||(u.reading=!1,maybeReadMore(e,u));return!u.ended&&(u.length<u.highWaterMark||0===u.length)}function addChunk(e,t,r,i){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,i?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&emitReadable(e)),maybeReadMore(e,t)}Object.defineProperty(Readable.prototype,"destroyed",{enumerable:!1,get:function get(){return void 0!==this._readableState&&this._readableState.destroyed},set:function set(e){this._readableState&&(this._readableState.destroyed=e)}}),Readable.prototype.destroy=y.destroy,Readable.prototype._undestroy=y.undestroy,Readable.prototype._destroy=function(e,t){t(e)},Readable.prototype.push=function(e,t){var r,i=this._readableState;return i.objectMode?r=!0:"string"==typeof e&&((t=t||i.defaultEncoding)!==i.encoding&&(e=a.from(e,t),t=""),r=!0),readableAddChunk(this,e,t,!1,r)},Readable.prototype.unshift=function(e){return readableAddChunk(this,e,null,!0,!1)},Readable.prototype.isPaused=function(){return!1===this._readableState.flowing},Readable.prototype.setEncoding=function(e){l||(l=r(5157).I);var t=new l(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var i=this._readableState.buffer.head,n="";null!==i;)n+=t.write(i.data),i=i.next;return this._readableState.buffer.clear(),""!==n&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var A=1073741824;function howMuchToRead(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function computeNewHighWaterMark(e){return e>=A?e=A:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function emitReadable(e){var t=e._readableState;d("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(d("emitReadable",t.flowing),t.emittedReadable=!0,{env:{ONEKEY_PROXY:void 0,NODE_ENV:"production",TAMAGUI_TARGET:"web"}}.nextTick(emitReadable_,e))}function emitReadable_(e){var t=e._readableState;d("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,flow(e)}function maybeReadMore(e,t){t.readingMore||(t.readingMore=!0,{env:{ONEKEY_PROXY:void 0,NODE_ENV:"production",TAMAGUI_TARGET:"web"}}.nextTick(maybeReadMore_,e,t))}function maybeReadMore_(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(d("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function updateReadableListening(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function nReadingNextTick(e){d("readable nexttick read 0"),e.read(0)}function resume_(e,t){d("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),flow(e),t.flowing&&!t.reading&&e.read(0)}function flow(e){var t=e._readableState;for(d("flow",t.flowing);t.flowing&&null!==e.read(););}function fromList(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function endReadable(e){var t=e._readableState;d("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,{env:{ONEKEY_PROXY:void 0,NODE_ENV:"production",TAMAGUI_TARGET:"web"}}.nextTick(endReadableNT,t,e))}function endReadableNT(e,t){if(d("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function indexOf(e,t){for(var r=0,i=e.length;r<i;r++)if(e[r]===t)return r;return-1}Readable.prototype.read=function(e){d("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return d("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?endReadable(this):emitReadable(this),null;if(0===(e=howMuchToRead(e,t))&&t.ended)return 0===t.length&&endReadable(this),null;var i,n=t.needReadable;return d("need readable",n),(0===t.length||t.length-e<t.highWaterMark)&&d("length less than watermark",n=!0),t.ended||t.reading?d("reading or ended",n=!1):n&&(d("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=howMuchToRead(r,t))),null===(i=e>0?fromList(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&endReadable(this)),null!==i&&this.emit("data",i),i},Readable.prototype._read=function(e){E(this,new _("_read()"))},Readable.prototype.pipe=function(e,t){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,d("pipe count=%d opts=%j",i.pipesCount,t);var s=(!t||!1!==t.end)&&e!=={env:{ONEKEY_PROXY:void 0,NODE_ENV:"production",TAMAGUI_TARGET:"web"}}.stdout&&e!=={env:{ONEKEY_PROXY:void 0,NODE_ENV:"production",TAMAGUI_TARGET:"web"}}.stderr?onend:unpipe;function onunpipe(t,n){d("onunpipe"),t===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,function cleanup(){d("cleanup"),e.removeListener("close",onclose),e.removeListener("finish",onfinish),e.removeListener("drain",a),e.removeListener("error",onerror),e.removeListener("unpipe",onunpipe),r.removeListener("end",onend),r.removeListener("end",unpipe),r.removeListener("data",ondata),o=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||a()}())}function onend(){d("onend"),e.end()}i.endEmitted?{env:{ONEKEY_PROXY:void 0,NODE_ENV:"production",TAMAGUI_TARGET:"web"}}.nextTick(s):r.once("end",s),e.on("unpipe",onunpipe);var a=function pipeOnDrain(e){return function pipeOnDrainFunctionResult(){var t=e._readableState;d("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&n(e,"data")&&(t.flowing=!0,flow(e))}}(r);e.on("drain",a);var o=!1;function ondata(t){d("ondata");var n=e.write(t);d("dest.write",n),!1===n&&((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==indexOf(i.pipes,e))&&!o&&(d("false write response, pause",i.awaitDrain),i.awaitDrain++),r.pause())}function onerror(t){d("onerror",t),unpipe(),e.removeListener("error",onerror),0===n(e,"error")&&E(e,t)}function onclose(){e.removeListener("finish",onfinish),unpipe()}function onfinish(){d("onfinish"),e.removeListener("close",onclose),unpipe()}function unpipe(){d("unpipe"),r.unpipe(e)}return r.on("data",ondata),function prependListener(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",onerror),e.once("close",onclose),e.once("finish",onfinish),e.emit("pipe",r),i.flowing||(d("pipe resume"),r.resume()),e},Readable.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var i=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var s=0;s<n;s++)i[s].emit("unpipe",this,{hasUnpiped:!1});return this}var a=indexOf(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},Readable.prototype.on=function(e,t){var r=s.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,d("on readable",i.length,i.reading),i.length?emitReadable(this):i.reading||{env:{ONEKEY_PROXY:void 0,NODE_ENV:"production",TAMAGUI_TARGET:"web"}}.nextTick(nReadingNextTick,this))),r},Readable.prototype.addListener=Readable.prototype.on,Readable.prototype.removeListener=function(e,t){var r=s.prototype.removeListener.call(this,e,t);return"readable"===e&&{env:{ONEKEY_PROXY:void 0,NODE_ENV:"production",TAMAGUI_TARGET:"web"}}.nextTick(updateReadableListening,this),r},Readable.prototype.removeAllListeners=function(e){var t=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||{env:{ONEKEY_PROXY:void 0,NODE_ENV:"production",TAMAGUI_TARGET:"web"}}.nextTick(updateReadableListening,this),t},Readable.prototype.resume=function(){var e=this._readableState;return e.flowing||(d("resume"),e.flowing=!e.readableListening,function resume(e,t){t.resumeScheduled||(t.resumeScheduled=!0,{env:{ONEKEY_PROXY:void 0,NODE_ENV:"production",TAMAGUI_TARGET:"web"}}.nextTick(resume_,e,t))}(this,e)),e.paused=!1,this},Readable.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},Readable.prototype.wrap=function(e){var t=this,r=this._readableState,i=!1;for(var n in e.on("end",(function(){if(d("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(n){(d("wrapped data"),r.decoder&&(n=r.decoder.write(n)),r.objectMode&&null==n)||(r.objectMode||n&&n.length)&&(t.push(n)||(i=!0,e.pause()))})),e)void 0===this[n]&&"function"==typeof e[n]&&(this[n]=function methodWrap(t){return function methodWrapReturnFunction(){return e[t].apply(e,arguments)}}(n));for(var s=0;s<T.length;s++)e.on(T[s],this.emit.bind(this,T[s]));return this._read=function(t){d("wrapped _read",t),i&&(i=!1,e.resume())},this},"function"==typeof Symbol&&(Readable.prototype[Symbol.asyncIterator]=function(){return void 0===c&&(c=r(534)),c(this)}),Object.defineProperty(Readable.prototype,"readableHighWaterMark",{enumerable:!1,get:function get(){return this._readableState.highWaterMark}}),Object.defineProperty(Readable.prototype,"readableBuffer",{enumerable:!1,get:function get(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(Readable.prototype,"readableFlowing",{enumerable:!1,get:function get(){return this._readableState.flowing},set:function set(e){this._readableState&&(this._readableState.flowing=e)}}),Readable._fromList=fromList,Object.defineProperty(Readable.prototype,"readableLength",{enumerable:!1,get:function get(){return this._readableState.length}}),"function"==typeof Symbol&&(Readable.from=function(e,t){return void 0===p&&(p=r(1260)),p(Readable,e,t)})},9415:(e,t,r)=>{"use strict";e.exports=Transform;var i=r(5699).F,n=i.ERR_METHOD_NOT_IMPLEMENTED,s=i.ERR_MULTIPLE_CALLBACK,a=i.ERR_TRANSFORM_ALREADY_TRANSFORMING,o=i.ERR_TRANSFORM_WITH_LENGTH_0,d=r(1265);function afterTransform(e,t){var r=this._transformState;r.transforming=!1;var i=r.writecb;if(null===i)return this.emit("error",new s);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),i(e);var n=this._readableState;n.reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}function Transform(e){if(!(this instanceof Transform))return new Transform(e);d.call(this,e),this._transformState={afterTransform:afterTransform.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",prefinish)}function prefinish(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?done(this,null,null):this._flush((function(t,r){done(e,t,r)}))}function done(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new o;if(e._transformState.transforming)throw new a;return e.push(null)}r(5615)(Transform,d),Transform.prototype.push=function(e,t){return this._transformState.needTransform=!1,d.prototype.push.call(this,e,t)},Transform.prototype._transform=function(e,t,r){r(new n("_transform()"))},Transform.prototype._write=function(e,t,r){var i=this._transformState;if(i.writecb=r,i.writechunk=e,i.writeencoding=t,!i.transforming){var n=this._readableState;(i.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}},Transform.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},Transform.prototype._destroy=function(e,t){d.prototype._destroy.call(this,e,(function(e){t(e)}))}},5291:(e,t,r)=>{"use strict";function CorkedRequest(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function onCorkedFinish(e,t,r){var i=e.entry;e.entry=null;for(;i;){var n=i.callback;t.pendingcb--,n(r),i=i.next}t.corkedRequestsFree.next=e}(t,e)}}var i;e.exports=Writable,Writable.WritableState=WritableState;var n={deprecate:r(6732)},s=r(4856),a=r(1048).Buffer,o=(void 0!==r.g?r.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var d,u=r(6527),l=r(9952).getHighWaterMark,c=r(5699).F,p=c.ERR_INVALID_ARG_TYPE,h=c.ERR_METHOD_NOT_IMPLEMENTED,y=c.ERR_MULTIPLE_CALLBACK,g=c.ERR_STREAM_CANNOT_PIPE,m=c.ERR_STREAM_DESTROYED,b=c.ERR_STREAM_NULL_VALUES,v=c.ERR_STREAM_WRITE_AFTER_END,_=c.ERR_UNKNOWN_ENCODING,w=u.errorOrDestroy;function nop(){}function WritableState(e,t,n){i=i||r(1265),e=e||{},"boolean"!=typeof n&&(n=t instanceof i),this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=l(this,e,"writableHighWaterMark",n),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===e.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function onwrite(e,t){var r=e._writableState,i=r.sync,n=r.writecb;if("function"!=typeof n)throw new y;if(function onwriteStateUpdate(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function onwriteError(e,t,r,i,n){--t.pendingcb,r?({env:{ONEKEY_PROXY:void 0,NODE_ENV:"production",TAMAGUI_TARGET:"web"}}.nextTick(n,i),{env:{ONEKEY_PROXY:void 0,NODE_ENV:"production",TAMAGUI_TARGET:"web"}}.nextTick(finishMaybe,e,t),e._writableState.errorEmitted=!0,w(e,i)):(n(i),e._writableState.errorEmitted=!0,w(e,i),finishMaybe(e,t))}(e,r,i,t,n);else{var s=needFinish(r)||e.destroyed;s||r.corked||r.bufferProcessing||!r.bufferedRequest||clearBuffer(e,r),i?{env:{ONEKEY_PROXY:void 0,NODE_ENV:"production",TAMAGUI_TARGET:"web"}}.nextTick(afterWrite,e,r,s,n):afterWrite(e,r,s,n)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new CorkedRequest(this)}function Writable(e){var t=this instanceof(i=i||r(1265));if(!t&&!d.call(Writable,this))return new Writable(e);this._writableState=new WritableState(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),s.call(this)}function doWrite(e,t,r,i,n,s,a){t.writelen=i,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new m("write")):r?e._writev(n,t.onwrite):e._write(n,s,t.onwrite),t.sync=!1}function afterWrite(e,t,r,i){r||function onwriteDrain(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,i(),finishMaybe(e,t)}function clearBuffer(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var i=t.bufferedRequestCount,n=new Array(i),s=t.corkedRequestsFree;s.entry=r;for(var a=0,o=!0;r;)n[a]=r,r.isBuf||(o=!1),r=r.next,a+=1;n.allBuffers=o,doWrite(e,t,!0,t.length,n,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new CorkedRequest(t),t.bufferedRequestCount=0}else{for(;r;){var d=r.chunk,u=r.encoding,l=r.callback;if(doWrite(e,t,!1,t.objectMode?1:d.length,d,u,l),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function needFinish(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function callFinal(e,t){e._final((function(r){t.pendingcb--,r&&w(e,r),t.prefinished=!0,e.emit("prefinish"),finishMaybe(e,t)}))}function finishMaybe(e,t){var r=needFinish(t);if(r&&(function prefinish(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,{env:{ONEKEY_PROXY:void 0,NODE_ENV:"production",TAMAGUI_TARGET:"web"}}.nextTick(callFinal,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var i=e._readableState;(!i||i.autoDestroy&&i.endEmitted)&&e.destroy()}return r}r(5615)(Writable,s),WritableState.prototype.getBuffer=function getBuffer(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(WritableState.prototype,"buffer",{get:n.deprecate((function writableStateBufferGetter(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(d=Function.prototype[Symbol.hasInstance],Object.defineProperty(Writable,Symbol.hasInstance,{value:function value(e){return!!d.call(this,e)||this===Writable&&(e&&e._writableState instanceof WritableState)}})):d=function realHasInstance(e){return e instanceof this},Writable.prototype.pipe=function(){w(this,new g)},Writable.prototype.write=function(e,t,r){var i=this._writableState,n=!1,s=!i.objectMode&&function _isUint8Array(e){return a.isBuffer(e)||e instanceof o}(e);return s&&!a.isBuffer(e)&&(e=function _uint8ArrayToBuffer(e){return a.from(e)}(e)),"function"==typeof t&&(r=t,t=null),s?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof r&&(r=nop),i.ending?function writeAfterEnd(e,t){var r=new v;w(e,r),{env:{ONEKEY_PROXY:void 0,NODE_ENV:"production",TAMAGUI_TARGET:"web"}}.nextTick(t,r)}(this,r):(s||function validChunk(e,t,r,i){var n;return null===r?n=new b:"string"==typeof r||t.objectMode||(n=new p("chunk",["string","Buffer"],r)),!n||(w(e,n),{env:{ONEKEY_PROXY:void 0,NODE_ENV:"production",TAMAGUI_TARGET:"web"}}.nextTick(i,n),!1)}(this,i,e,r))&&(i.pendingcb++,n=function writeOrBuffer(e,t,r,i,n,s){if(!r){var o=function decodeChunk(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=a.from(t,r));return t}(t,i,n);i!==o&&(r=!0,n="buffer",i=o)}var d=t.objectMode?1:i.length;t.length+=d;var u=t.length<t.highWaterMark;u||(t.needDrain=!0);if(t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:i,encoding:n,isBuf:r,callback:s,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else doWrite(e,t,!1,d,i,n,s);return u}(this,i,s,e,t,r)),n},Writable.prototype.cork=function(){this._writableState.corked++},Writable.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||clearBuffer(this,e))},Writable.prototype.setDefaultEncoding=function setDefaultEncoding(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new _(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(Writable.prototype,"writableBuffer",{enumerable:!1,get:function get(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(Writable.prototype,"writableHighWaterMark",{enumerable:!1,get:function get(){return this._writableState.highWaterMark}}),Writable.prototype._write=function(e,t,r){r(new h("_write()"))},Writable.prototype._writev=null,Writable.prototype.end=function(e,t,r){var i=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||function endWritable(e,t,r){t.ending=!0,finishMaybe(e,t),r&&(t.finished?{env:{ONEKEY_PROXY:void 0,NODE_ENV:"production",TAMAGUI_TARGET:"web"}}.nextTick(r):e.once("finish",r));t.ended=!0,e.writable=!1}(this,i,r),this},Object.defineProperty(Writable.prototype,"writableLength",{enumerable:!1,get:function get(){return this._writableState.length}}),Object.defineProperty(Writable.prototype,"destroyed",{enumerable:!1,get:function get(){return void 0!==this._writableState&&this._writableState.destroyed},set:function set(e){this._writableState&&(this._writableState.destroyed=e)}}),Writable.prototype.destroy=u.destroy,Writable.prototype._undestroy=u.undestroy,Writable.prototype._destroy=function(e,t){t(e)}},534:(e,t,r)=>{"use strict";var i;function _defineProperty(e,t,r){return(t=function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var n=r(4869),s=Symbol("lastResolve"),a=Symbol("lastReject"),o=Symbol("error"),d=Symbol("ended"),u=Symbol("lastPromise"),l=Symbol("handlePromise"),c=Symbol("stream");function createIterResult(e,t){return{value:e,done:t}}function readAndResolve(e){var t=e[s];if(null!==t){var r=e[c].read();null!==r&&(e[u]=null,e[s]=null,e[a]=null,t(createIterResult(r,!1)))}}function onReadable(e){({env:{ONEKEY_PROXY:void 0,NODE_ENV:"production",TAMAGUI_TARGET:"web"}}).nextTick(readAndResolve,e)}var p=Object.getPrototypeOf((function(){})),h=Object.setPrototypeOf((_defineProperty(i={get stream(){return this[c]},next:function next(){var e=this,t=this[o];if(null!==t)return Promise.reject(t);if(this[d])return Promise.resolve(createIterResult(void 0,!0));if(this[c].destroyed)return new Promise((function(t,r){({env:{ONEKEY_PROXY:void 0,NODE_ENV:"production",TAMAGUI_TARGET:"web"}}).nextTick((function(){e[o]?r(e[o]):t(createIterResult(void 0,!0))}))}));var r,i=this[u];if(i)r=new Promise(function wrapForNext(e,t){return function(r,i){e.then((function(){t[d]?r(createIterResult(void 0,!0)):t[l](r,i)}),i)}}(i,this));else{var n=this[c].read();if(null!==n)return Promise.resolve(createIterResult(n,!1));r=new Promise(this[l])}return this[u]=r,r}},Symbol.asyncIterator,(function(){return this})),_defineProperty(i,"return",(function _return(){var e=this;return new Promise((function(t,r){e[c].destroy(null,(function(e){e?r(e):t(createIterResult(void 0,!0))}))}))})),i),p);e.exports=function createReadableStreamAsyncIterator(e){var t,r=Object.create(h,(_defineProperty(t={},c,{value:e,writable:!0}),_defineProperty(t,s,{value:null,writable:!0}),_defineProperty(t,a,{value:null,writable:!0}),_defineProperty(t,o,{value:null,writable:!0}),_defineProperty(t,d,{value:e._readableState.endEmitted,writable:!0}),_defineProperty(t,l,{value:function value(e,t){var i=r[c].read();i?(r[u]=null,r[s]=null,r[a]=null,e(createIterResult(i,!1))):(r[s]=e,r[a]=t)},writable:!0}),t));return r[u]=null,n(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[a];return null!==t&&(r[u]=null,r[s]=null,r[a]=null,t(e)),void(r[o]=e)}var i=r[s];null!==i&&(r[u]=null,r[s]=null,r[a]=null,i(createIterResult(void 0,!0))),r[d]=!0})),e.on("readable",onReadable.bind(null,r)),r}},82:(e,t,r)=>{"use strict";function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _defineProperty(e,t,r){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,_toPropertyKey(i.key),i)}}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var i=r(1048).Buffer,n=r(3011).inspect,s=n&&n.custom||"inspect";e.exports=function(){function BufferList(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BufferList),this.head=null,this.tail=null,this.length=0}return function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(BufferList,[{key:"push",value:function push(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function unshift(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function shift(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function clear(){this.head=this.tail=null,this.length=0}},{key:"join",value:function join(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function concat(e){if(0===this.length)return i.alloc(0);for(var t,r,n,s=i.allocUnsafe(e>>>0),a=this.head,o=0;a;)t=a.data,r=s,n=o,i.prototype.copy.call(t,r,n),o+=a.data.length,a=a.next;return s}},{key:"consume",value:function consume(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function first(){return this.head.data}},{key:"_getString",value:function _getString(e){var t=this.head,r=1,i=t.data;for(e-=i.length;t=t.next;){var n=t.data,s=e>n.length?n.length:e;if(s===n.length?i+=n:i+=n.slice(0,e),0===(e-=s)){s===n.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=n.slice(s));break}++r}return this.length-=r,i}},{key:"_getBuffer",value:function _getBuffer(e){var t=i.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var s=r.data,a=e>s.length?s.length:e;if(s.copy(t,t.length-e,0,a),0===(e-=a)){a===s.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=s.slice(a));break}++n}return this.length-=n,t}},{key:s,value:function value(e,t){return n(this,_objectSpread(_objectSpread({},t),{},{depth:0,customInspect:!1}))}}]),BufferList}()},6527:e=>{"use strict";function emitErrorAndCloseNT(e,t){emitErrorNT(e,t),emitCloseNT(e)}function emitCloseNT(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function emitErrorNT(e,t){e.emit("error",t)}e.exports={destroy:function destroy(e,t){var r=this,i=this._readableState&&this._readableState.destroyed,n=this._writableState&&this._writableState.destroyed;return i||n?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,{env:{ONEKEY_PROXY:void 0,NODE_ENV:"production",TAMAGUI_TARGET:"web"}}.nextTick(emitErrorNT,this,e)):{env:{ONEKEY_PROXY:void 0,NODE_ENV:"production",TAMAGUI_TARGET:"web"}}.nextTick(emitErrorNT,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?r._writableState?r._writableState.errorEmitted?{env:{ONEKEY_PROXY:void 0,NODE_ENV:"production",TAMAGUI_TARGET:"web"}}.nextTick(emitCloseNT,r):(r._writableState.errorEmitted=!0,{env:{ONEKEY_PROXY:void 0,NODE_ENV:"production",TAMAGUI_TARGET:"web"}}.nextTick(emitErrorAndCloseNT,r,e)):{env:{ONEKEY_PROXY:void 0,NODE_ENV:"production",TAMAGUI_TARGET:"web"}}.nextTick(emitErrorAndCloseNT,r,e):t?({env:{ONEKEY_PROXY:void 0,NODE_ENV:"production",TAMAGUI_TARGET:"web"}}.nextTick(emitCloseNT,r),t(e)):{env:{ONEKEY_PROXY:void 0,NODE_ENV:"production",TAMAGUI_TARGET:"web"}}.nextTick(emitCloseNT,r)})),this)},undestroy:function undestroy(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function errorOrDestroy(e,t){var r=e._readableState,i=e._writableState;r&&r.autoDestroy||i&&i.autoDestroy?e.destroy(t):e.emit("error",t)}}},4869:(e,t,r)=>{"use strict";var i=r(5699).F.ERR_STREAM_PREMATURE_CLOSE;function noop(){}e.exports=function eos(e,t,r){if("function"==typeof t)return eos(e,null,t);t||(t={}),r=function once(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];e.apply(this,i)}}}(r||noop);var n=t.readable||!1!==t.readable&&e.readable,s=t.writable||!1!==t.writable&&e.writable,a=function onlegacyfinish(){e.writable||d()},o=e._writableState&&e._writableState.finished,d=function onfinish(){s=!1,o=!0,n||r.call(e)},u=e._readableState&&e._readableState.endEmitted,l=function onend(){n=!1,u=!0,s||r.call(e)},c=function onerror(t){r.call(e,t)},p=function onclose(){var t;return n&&!u?(e._readableState&&e._readableState.ended||(t=new i),r.call(e,t)):s&&!o?(e._writableState&&e._writableState.ended||(t=new i),r.call(e,t)):void 0},h=function onrequest(){e.req.on("finish",d)};return!function isRequest(e){return e.setHeader&&"function"==typeof e.abort}(e)?s&&!e._writableState&&(e.on("end",a),e.on("close",a)):(e.on("complete",d),e.on("abort",p),e.req?h():e.on("request",h)),e.on("end",l),e.on("finish",d),!1!==t.error&&e.on("error",c),e.on("close",p),function(){e.removeListener("complete",d),e.removeListener("abort",p),e.removeListener("request",h),e.req&&e.req.removeListener("finish",d),e.removeListener("end",a),e.removeListener("close",a),e.removeListener("finish",d),e.removeListener("end",l),e.removeListener("error",c),e.removeListener("close",p)}}},1260:e=>{e.exports=function(){throw new Error("Readable.from is not available in the browser")}},6815:(e,t,r)=>{"use strict";var i;var n=r(5699).F,s=n.ERR_MISSING_ARGS,a=n.ERR_STREAM_DESTROYED;function noop(e){if(e)throw e}function call(e){e()}function pipe(e,t){return e.pipe(t)}e.exports=function pipeline(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o,d=function popCallback(e){return e.length?"function"!=typeof e[e.length-1]?noop:e.pop():noop}(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new s("streams");var u=t.map((function(e,n){var s=n<t.length-1;return function destroyer(e,t,n,s){s=function once(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(s);var o=!1;e.on("close",(function(){o=!0})),void 0===i&&(i=r(4869)),i(e,{readable:t,writable:n},(function(e){if(e)return s(e);o=!0,s()}));var d=!1;return function(t){if(!o&&!d)return d=!0,function isRequest(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void s(t||new a("pipe"))}}(e,s,n>0,(function(e){o||(o=e),e&&u.forEach(call),s||(u.forEach(call),d(o))}))}));return t.reduce(pipe)}},9952:(e,t,r)=>{"use strict";var i=r(5699).F.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function getHighWaterMark(e,t,r,n){var s=function highWaterMarkFrom(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,n,r);if(null!=s){if(!isFinite(s)||Math.floor(s)!==s||s<0)throw new i(n?r:"highWaterMark",s);return Math.floor(s)}return e.objectMode?16:16384}}},4856:(e,t,r)=>{e.exports=r(46).EventEmitter},5157:(e,t,r)=>{"use strict";var i=r(5636).Buffer,n=i.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function StringDecoder(e){var t;switch(this.encoding=function normalizeEncoding(e){var t=function _normalizeEncoding(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(i.isEncoding===n||!n(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=utf16Text,this.end=utf16End,t=4;break;case"utf8":this.fillLast=utf8FillLast,t=4;break;case"base64":this.text=base64Text,this.end=base64End,t=3;break;default:return this.write=simpleWrite,void(this.end=simpleEnd)}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(t)}function utf8CheckByte(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function utf8FillLast(e){var t=this.lastTotal-this.lastNeed,r=function utf8CheckExtraBytes(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function utf16Text(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var i=r.charCodeAt(r.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function utf16End(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function base64Text(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function base64End(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function simpleWrite(e){return e.toString(this.encoding)}function simpleEnd(e){return e&&e.length?this.write(e):""}t.I=StringDecoder,StringDecoder.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},StringDecoder.prototype.end=function utf8End(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},StringDecoder.prototype.text=function utf8Text(e,t){var r=function utf8CheckIncomplete(e,t,r){var i=t.length-1;if(i<r)return 0;var n=utf8CheckByte(t[i]);if(n>=0)return n>0&&(e.lastNeed=n-1),n;if(--i<r||-2===n)return 0;if(n=utf8CheckByte(t[i]),n>=0)return n>0&&(e.lastNeed=n-2),n;if(--i<r||-2===n)return 0;if(n=utf8CheckByte(t[i]),n>=0)return n>0&&(2===n?n=0:e.lastNeed=n-3),n;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var i=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,i),e.toString("utf8",t,i)},StringDecoder.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},4156:(e,t,r)=>{(t=e.exports=r(8199)).Stream=t,t.Readable=t,t.Writable=r(5291),t.Duplex=r(1265),t.Transform=r(9415),t.PassThrough=r(4421),t.finished=r(4869),t.pipeline=r(6815)},5586:(e,t,r)=>{"use strict";var i=r(1048).Buffer,n=r(5615),s=r(1848),a=new Array(16),o=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],d=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],u=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],l=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],c=[0,1518500249,1859775393,2400959708,2840853838],p=[1352829926,1548603684,1836072691,2053994217,0];function RIPEMD160(){s.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function rotl(e,t){return e<<t|e>>>32-t}function fn1(e,t,r,i,n,s,a,o){return rotl(e+(t^r^i)+s+a|0,o)+n|0}function fn2(e,t,r,i,n,s,a,o){return rotl(e+(t&r|~t&i)+s+a|0,o)+n|0}function fn3(e,t,r,i,n,s,a,o){return rotl(e+((t|~r)^i)+s+a|0,o)+n|0}function fn4(e,t,r,i,n,s,a,o){return rotl(e+(t&i|r&~i)+s+a|0,o)+n|0}function fn5(e,t,r,i,n,s,a,o){return rotl(e+(t^(r|~i))+s+a|0,o)+n|0}n(RIPEMD160,s),RIPEMD160.prototype._update=function(){for(var e=a,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);for(var r=0|this._a,i=0|this._b,n=0|this._c,s=0|this._d,h=0|this._e,y=0|this._a,g=0|this._b,m=0|this._c,b=0|this._d,v=0|this._e,_=0;_<80;_+=1){var w,E;_<16?(w=fn1(r,i,n,s,h,e[o[_]],c[0],u[_]),E=fn5(y,g,m,b,v,e[d[_]],p[0],l[_])):_<32?(w=fn2(r,i,n,s,h,e[o[_]],c[1],u[_]),E=fn4(y,g,m,b,v,e[d[_]],p[1],l[_])):_<48?(w=fn3(r,i,n,s,h,e[o[_]],c[2],u[_]),E=fn3(y,g,m,b,v,e[d[_]],p[2],l[_])):_<64?(w=fn4(r,i,n,s,h,e[o[_]],c[3],u[_]),E=fn2(y,g,m,b,v,e[d[_]],p[3],l[_])):(w=fn5(r,i,n,s,h,e[o[_]],c[4],u[_]),E=fn1(y,g,m,b,v,e[d[_]],p[4],l[_])),r=h,h=s,s=rotl(n,10),n=i,i=w,y=v,v=b,b=rotl(m,10),m=g,g=E}var T=this._b+n+b|0;this._b=this._c+s+v|0,this._c=this._d+h+y|0,this._d=this._e+r+g|0,this._e=this._a+i+m|0,this._a=T},RIPEMD160.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=i.alloc?i.alloc(20):new i(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e},e.exports=RIPEMD160},3044:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(9499),n=r(3194);t.default=class Sha512{constructor(){this.hash=i.sha512()}add(e){return this.hash.update(e),this}addU32(e){return this.add([e>>>24&255,e>>>16&255,e>>>8&255,255&e])}finish(){return this.hash.digest()}first256(){return this.finish().slice(0,32)}first256BN(){return new n(this.first256())}}},7732:(e,t,r)=>{"use strict";const i=r(6093),n=r(7048),s=r(9499),a=r(3360),o=r(3872),d=r(7680),u=r(5885),l=a.eddsa("ed25519"),c=a.ec("secp256k1"),{hexToBytes:p}=u,{bytesToHex:h}=u;function hash(e){return s.sha512().update(e).digest().slice(0,32)}const y={deriveKeypair(e,t){const r="00"+(0,d.derivePrivateKey)(e,t).toString(16,64).toUpperCase(),i=h(c.keyFromPrivate(r.slice(2)).getPublic().encodeCompressed());return{privateKey:r,publicKey:i}},sign:(e,t)=>h(c.sign(hash(e),p(t),{canonical:!0}).toDER()),verify:(e,t,r)=>c.verify(hash(e),t,p(r))},g={deriveKeypair(e){const t=hash(e);return{privateKey:"ED"+h(t),publicKey:"ED"+h(l.keyFromSecret(t).pubBytes())}},sign:(e,t)=>(i.ok(Array.isArray(e),"message must be array of octets"),h(l.sign(e,p(t).slice(1)).toBytes())),verify:(e,t,r)=>l.verify(e,p(t),p(r).slice(1))};function select(e){return{"ecdsa-secp256k1":y,ed25519:g}[e]}function getAlgorithmFromKey(e){const t=p(e);return 33===t.length&&237===t[0]?"ed25519":"ecdsa-secp256k1"}function deriveAddressFromBytes(e){return o.encodeAccountID(u.computePublicKeyHash(e))}const{decodeSeed:m}=o;e.exports={generateSeed:function generateSeed(e={}){i.ok(!e.entropy||e.entropy.length>=16,"entropy too short");const t=e.entropy?e.entropy.slice(0,16):n(16),r="ed25519"===e.algorithm?"ed25519":"secp256k1";return o.encodeSeed(Buffer.from(t),r)},deriveKeypair:function deriveKeypair(e,t){const r=o.decodeSeed(e),i=select("ed25519"===r.type?"ed25519":"ecdsa-secp256k1"),n=i.deriveKeypair(r.bytes,t),s=hash("This test message should verify."),a=i.sign(s,n.privateKey);if(!0!==i.verify(s,a,n.publicKey))throw new Error("derived keypair did not generate verifiable signature");return n},sign:function sign(e,t){return select(getAlgorithmFromKey(t)).sign(p(e),t)},verify:function verify(e,t,r){return select(getAlgorithmFromKey(r)).verify(p(e),t,r)},deriveAddress:function deriveAddress(e){return deriveAddressFromBytes(Buffer.from(p(e)))},deriveNodeAddress:function deriveNodeAddress(e){const t=o.decodeNodePublic(e);return deriveAddressFromBytes((0,d.accountPublicFromPublicGenerator)(t))},decodeSeed:m}},7680:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.accountPublicFromPublicGenerator=t.derivePrivateKey=void 0;const i=r(3360),n=r(3044),s=i.ec("secp256k1");function deriveScalar(e,t){const r=s.curve.n;for(let i=0;i<=4294967295;i++){const s=(new n.default).add(e);void 0!==t&&s.addU32(t),s.addU32(i);const a=s.first256BN();if(a.cmpn(0)>0&&a.cmp(r)<0)return a}throw new Error("impossible unicorn ;)")}t.derivePrivateKey=function derivePrivateKey(e,t={}){const r=t.validator,i=s.curve.n,n=deriveScalar(e);if(r)return n;const a=s.g.mul(n),o=t.accountIndex||0;return deriveScalar(a.encodeCompressed(),o).add(n).mod(i)},t.accountPublicFromPublicGenerator=function accountPublicFromPublicGenerator(e){const t=s.curve.decodePoint(e),r=deriveScalar(e,0),i=s.g.mul(r);return t.add(i).encodeCompressed()}},5885:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.computePublicKeyHash=t.hexToBytes=t.bytesToHex=void 0;const i=r(6093),n=r(9499),s=r(3194);t.bytesToHex=function bytesToHex(e){return Array.from(e,(e=>{const t=e.toString(16).toUpperCase();return t.length>1?t:`0${t}`})).join("")},t.hexToBytes=function hexToBytes(e){return i.ok(e.length%2==0),0===e.length?[]:new s(e,16).toArray(null,e.length/2)},t.computePublicKeyHash=function computePublicKeyHash(e){const t=n.sha256().update(e).digest(),r=n.ripemd160().update(t).digest();return Buffer.from(r)}},4450:(e,t,r)=>{"use strict";var i=r(5636).Buffer;e.exports=function base(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var n=0;n<e.length;n++){var s=e.charAt(n),a=s.charCodeAt(0);if(255!==t[a])throw new TypeError(s+" is ambiguous");t[a]=n}var o=e.length,d=e.charAt(0),u=Math.log(o)/Math.log(256),l=Math.log(256)/Math.log(o);function decodeUnsafe(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return i.alloc(0);for(var r=0,n=0,s=0;e[r]===d;)n++,r++;for(var a=(e.length-r)*u+1>>>0,l=new Uint8Array(a);e[r];){var c=t[e.charCodeAt(r)];if(255===c)return;for(var p=0,h=a-1;(0!==c||p<s)&&-1!==h;h--,p++)c+=o*l[h]>>>0,l[h]=c%256>>>0,c=c/256>>>0;if(0!==c)throw new Error("Non-zero carry");s=p,r++}for(var y=a-s;y!==a&&0===l[y];)y++;var g=i.allocUnsafe(n+(a-y));g.fill(0,0,n);for(var m=n;y!==a;)g[m++]=l[y++];return g}return{encode:function encode(t){if((Array.isArray(t)||t instanceof Uint8Array)&&(t=i.from(t)),!i.isBuffer(t))throw new TypeError("Expected Buffer");if(0===t.length)return"";for(var r=0,n=0,s=0,a=t.length;s!==a&&0===t[s];)s++,r++;for(var u=(a-s)*l+1>>>0,c=new Uint8Array(u);s!==a;){for(var p=t[s],h=0,y=u-1;(0!==p||h<n)&&-1!==y;y--,h++)p+=256*c[y]>>>0,c[y]=p%o>>>0,p=p/o>>>0;if(0!==p)throw new Error("Non-zero carry");n=h,s++}for(var g=u-n;g!==u&&0===c[g];)g++;for(var m=d.repeat(r);g<u;++g)m+=e.charAt(c[g]);return m},decodeUnsafe,decode:function decode(e){var t=decodeUnsafe(e);if(t)return t;throw new Error("Non-base"+o+" character")}}}},3194:function(e,t,r){!function(e,t){"use strict";function assert(e,t){if(!e)throw new Error(t||"Assertion failed")}function inherits(e,t){e.super_=t;var TempCtor=function(){};TempCtor.prototype=t.prototype,e.prototype=new TempCtor,e.prototype.constructor=e}function BN(e,t,r){if(BN.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var i;"object"==typeof e?e.exports=BN:t.BN=BN,BN.BN=BN,BN.wordSize=26;try{i="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(8232).Buffer}catch(e){}function parseHex4Bits(e,t){var r=e.charCodeAt(t);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void assert(!1,"Invalid character in "+e)}function parseHexByte(e,t,r){var i=parseHex4Bits(e,r);return r-1>=t&&(i|=parseHex4Bits(e,r-1)<<4),i}function parseBase(e,t,r,i){for(var n=0,s=0,a=Math.min(e.length,r),o=t;o<a;o++){var d=e.charCodeAt(o)-48;n*=i,s=d>=49?d-49+10:d>=17?d-17+10:d,assert(d>=0&&s<i,"Invalid character"),n+=s}return n}function move(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(BN.isBN=function isBN(e){return e instanceof BN||null!==e&&"object"==typeof e&&e.constructor.wordSize===BN.wordSize&&Array.isArray(e.words)},BN.max=function max(e,t){return e.cmp(t)>0?e:t},BN.min=function min(e,t){return e.cmp(t)<0?e:t},BN.prototype._init=function init(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),assert(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,r):(this._parseBase(e,t,i),"le"===r&&this._initArray(this.toArray(),t,r)))},BN.prototype._initNumber=function _initNumber(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(assert(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},BN.prototype._initArray=function _initArray(e,t,r){if(assert("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var n,s,a=0;if("be"===r)for(i=e.length-1,n=0;i>=0;i-=3)s=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[n]|=s<<a&67108863,this.words[n+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,n++);else if("le"===r)for(i=0,n=0;i<e.length;i+=3)s=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[n]|=s<<a&67108863,this.words[n+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,n++);return this._strip()},BN.prototype._parseHex=function _parseHex(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var n,s=0,a=0;if("be"===r)for(i=e.length-1;i>=t;i-=2)n=parseHexByte(e,t,i)<<s,this.words[a]|=67108863&n,s>=18?(s-=18,a+=1,this.words[a]|=n>>>26):s+=8;else for(i=(e.length-t)%2==0?t+1:t;i<e.length;i+=2)n=parseHexByte(e,t,i)<<s,this.words[a]|=67108863&n,s>=18?(s-=18,a+=1,this.words[a]|=n>>>26):s+=8;this._strip()},BN.prototype._parseBase=function _parseBase(e,t,r){this.words=[0],this.length=1;for(var i=0,n=1;n<=67108863;n*=t)i++;i--,n=n/t|0;for(var s=e.length-r,a=s%i,o=Math.min(s,s-a)+r,d=0,u=r;u<o;u+=i)d=parseBase(e,u,u+i,t),this.imuln(n),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if(0!==a){var l=1;for(d=parseBase(e,u,e.length,t),u=0;u<a;u++)l*=t;this.imuln(l),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}this._strip()},BN.prototype.copy=function copy(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},BN.prototype._move=function _move(e){move(e,this)},BN.prototype.clone=function clone(){var e=new BN(null);return this.copy(e),e},BN.prototype._expand=function _expand(e){for(;this.length<e;)this.words[this.length++]=0;return this},BN.prototype._strip=function strip(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},BN.prototype._normSign=function _normSign(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{BN.prototype[Symbol.for("nodejs.util.inspect.custom")]=inspect}catch(e){BN.prototype.inspect=inspect}else BN.prototype.inspect=inspect;function inspect(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var n=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],s=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],a=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];BN.prototype.toString=function toString(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var i=0,o=0,d=0;d<this.length;d++){var u=this.words[d],l=(16777215&(u<<i|o)).toString(16);o=u>>>24-i&16777215,(i+=2)>=26&&(i-=26,d--),r=0!==o||d!==this.length-1?n[6-l.length]+l+r:l+r}for(0!==o&&(r=o.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var c=s[e],p=a[e];r="";var h=this.clone();for(h.negative=0;!h.isZero();){var y=h.modrn(p).toString(e);r=(h=h.idivn(p)).isZero()?y+r:n[c-y.length]+y+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}assert(!1,"Base should be between 2 and 36")},BN.prototype.toNumber=function toNumber(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&assert(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},BN.prototype.toJSON=function toJSON(){return this.toString(16,2)},i&&(BN.prototype.toBuffer=function toBuffer(e,t){return this.toArrayLike(i,e,t)}),BN.prototype.toArray=function toArray(e,t){return this.toArrayLike(Array,e,t)};function smallMulTo(e,t,r){r.negative=t.negative^e.negative;var i=e.length+t.length|0;r.length=i,i=i-1|0;var n=0|e.words[0],s=0|t.words[0],a=n*s,o=67108863&a,d=a/67108864|0;r.words[0]=o;for(var u=1;u<i;u++){for(var l=d>>>26,c=67108863&d,p=Math.min(u,t.length-1),h=Math.max(0,u-e.length+1);h<=p;h++){var y=u-h|0;l+=(a=(n=0|e.words[y])*(s=0|t.words[h])+c)/67108864|0,c=67108863&a}r.words[u]=0|c,d=0|l}return 0!==d?r.words[u]=0|d:r.length--,r._strip()}BN.prototype.toArrayLike=function toArrayLike(e,t,r){this._strip();var i=this.byteLength(),n=r||Math.max(1,i);assert(i<=n,"byte array longer than desired length"),assert(n>0,"Requested array length <= 0");var s=function allocate(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)}(e,n);return this["_toArrayLike"+("le"===t?"LE":"BE")](s,i),s},BN.prototype._toArrayLikeLE=function _toArrayLikeLE(e,t){for(var r=0,i=0,n=0,s=0;n<this.length;n++){var a=this.words[n]<<s|i;e[r++]=255&a,r<e.length&&(e[r++]=a>>8&255),r<e.length&&(e[r++]=a>>16&255),6===s?(r<e.length&&(e[r++]=a>>24&255),i=0,s=0):(i=a>>>24,s+=2)}if(r<e.length)for(e[r++]=i;r<e.length;)e[r++]=0},BN.prototype._toArrayLikeBE=function _toArrayLikeBE(e,t){for(var r=e.length-1,i=0,n=0,s=0;n<this.length;n++){var a=this.words[n]<<s|i;e[r--]=255&a,r>=0&&(e[r--]=a>>8&255),r>=0&&(e[r--]=a>>16&255),6===s?(r>=0&&(e[r--]=a>>24&255),i=0,s=0):(i=a>>>24,s+=2)}if(r>=0)for(e[r--]=i;r>=0;)e[r--]=0},Math.clz32?BN.prototype._countBits=function _countBits(e){return 32-Math.clz32(e)}:BN.prototype._countBits=function _countBits(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},BN.prototype._zeroBits=function _zeroBits(e){if(0===e)return 26;var t=e,r=0;return 8191&t||(r+=13,t>>>=13),127&t||(r+=7,t>>>=7),15&t||(r+=4,t>>>=4),3&t||(r+=2,t>>>=2),1&t||r++,r},BN.prototype.bitLength=function bitLength(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},BN.prototype.zeroBits=function zeroBits(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},BN.prototype.byteLength=function byteLength(){return Math.ceil(this.bitLength()/8)},BN.prototype.toTwos=function toTwos(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},BN.prototype.fromTwos=function fromTwos(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},BN.prototype.isNeg=function isNeg(){return 0!==this.negative},BN.prototype.neg=function neg(){return this.clone().ineg()},BN.prototype.ineg=function ineg(){return this.isZero()||(this.negative^=1),this},BN.prototype.iuor=function iuor(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},BN.prototype.ior=function ior(e){return assert(!(this.negative|e.negative)),this.iuor(e)},BN.prototype.or=function or(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},BN.prototype.uor=function uor(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},BN.prototype.iuand=function iuand(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this._strip()},BN.prototype.iand=function iand(e){return assert(!(this.negative|e.negative)),this.iuand(e)},BN.prototype.and=function and(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},BN.prototype.uand=function uand(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},BN.prototype.iuxor=function iuxor(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var i=0;i<r.length;i++)this.words[i]=t.words[i]^r.words[i];if(this!==t)for(;i<t.length;i++)this.words[i]=t.words[i];return this.length=t.length,this._strip()},BN.prototype.ixor=function ixor(e){return assert(!(this.negative|e.negative)),this.iuxor(e)},BN.prototype.xor=function xor(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},BN.prototype.uxor=function uxor(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},BN.prototype.inotn=function inotn(e){assert("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},BN.prototype.notn=function notn(e){return this.clone().inotn(e)},BN.prototype.setn=function setn(e,t){assert("number"==typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<i:this.words[r]&~(1<<i),this._strip()},BN.prototype.iadd=function iadd(e){var t,r,i;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,i=e):(r=e,i=this);for(var n=0,s=0;s<i.length;s++)t=(0|r.words[s])+(0|i.words[s])+n,this.words[s]=67108863&t,n=t>>>26;for(;0!==n&&s<r.length;s++)t=(0|r.words[s])+n,this.words[s]=67108863&t,n=t>>>26;if(this.length=r.length,0!==n)this.words[this.length]=n,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},BN.prototype.add=function add(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},BN.prototype.isub=function isub(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,i,n=this.cmp(e);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;n>0?(r=this,i=e):(r=e,i=this);for(var s=0,a=0;a<i.length;a++)s=(t=(0|r.words[a])-(0|i.words[a])+s)>>26,this.words[a]=67108863&t;for(;0!==s&&a<r.length;a++)s=(t=(0|r.words[a])+s)>>26,this.words[a]=67108863&t;if(0===s&&a<r.length&&r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this.length=Math.max(this.length,a),r!==this&&(this.negative=1),this._strip()},BN.prototype.sub=function sub(e){return this.clone().isub(e)};var o=function comb10MulTo(e,t,r){var i,n,s,a=e.words,o=t.words,d=r.words,u=0,l=0|a[0],c=8191&l,p=l>>>13,h=0|a[1],y=8191&h,g=h>>>13,m=0|a[2],b=8191&m,v=m>>>13,_=0|a[3],w=8191&_,E=_>>>13,T=0|a[4],A=8191&T,M=T>>>13,O=0|a[5],x=8191&O,k=O>>>13,I=0|a[6],C=8191&I,B=I>>>13,N=0|a[7],P=8191&N,D=N>>>13,q=0|a[8],L=8191&q,j=q>>>13,F=0|a[9],U=8191&F,z=F>>>13,H=0|o[0],G=8191&H,W=H>>>13,V=0|o[1],$=8191&V,Y=V>>>13,X=0|o[2],J=8191&X,Z=X>>>13,Q=0|o[3],ee=8191&Q,te=Q>>>13,re=0|o[4],ie=8191&re,ne=re>>>13,se=0|o[5],ae=8191&se,oe=se>>>13,de=0|o[6],ue=8191&de,le=de>>>13,ce=0|o[7],pe=8191&ce,he=ce>>>13,fe=0|o[8],ye=8191&fe,ge=fe>>>13,me=0|o[9],be=8191&me,ve=me>>>13;r.negative=e.negative^t.negative,r.length=19;var _e=(u+(i=Math.imul(c,G))|0)+((8191&(n=(n=Math.imul(c,W))+Math.imul(p,G)|0))<<13)|0;u=((s=Math.imul(p,W))+(n>>>13)|0)+(_e>>>26)|0,_e&=67108863,i=Math.imul(y,G),n=(n=Math.imul(y,W))+Math.imul(g,G)|0,s=Math.imul(g,W);var we=(u+(i=i+Math.imul(c,$)|0)|0)+((8191&(n=(n=n+Math.imul(c,Y)|0)+Math.imul(p,$)|0))<<13)|0;u=((s=s+Math.imul(p,Y)|0)+(n>>>13)|0)+(we>>>26)|0,we&=67108863,i=Math.imul(b,G),n=(n=Math.imul(b,W))+Math.imul(v,G)|0,s=Math.imul(v,W),i=i+Math.imul(y,$)|0,n=(n=n+Math.imul(y,Y)|0)+Math.imul(g,$)|0,s=s+Math.imul(g,Y)|0;var Ee=(u+(i=i+Math.imul(c,J)|0)|0)+((8191&(n=(n=n+Math.imul(c,Z)|0)+Math.imul(p,J)|0))<<13)|0;u=((s=s+Math.imul(p,Z)|0)+(n>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,i=Math.imul(w,G),n=(n=Math.imul(w,W))+Math.imul(E,G)|0,s=Math.imul(E,W),i=i+Math.imul(b,$)|0,n=(n=n+Math.imul(b,Y)|0)+Math.imul(v,$)|0,s=s+Math.imul(v,Y)|0,i=i+Math.imul(y,J)|0,n=(n=n+Math.imul(y,Z)|0)+Math.imul(g,J)|0,s=s+Math.imul(g,Z)|0;var Te=(u+(i=i+Math.imul(c,ee)|0)|0)+((8191&(n=(n=n+Math.imul(c,te)|0)+Math.imul(p,ee)|0))<<13)|0;u=((s=s+Math.imul(p,te)|0)+(n>>>13)|0)+(Te>>>26)|0,Te&=67108863,i=Math.imul(A,G),n=(n=Math.imul(A,W))+Math.imul(M,G)|0,s=Math.imul(M,W),i=i+Math.imul(w,$)|0,n=(n=n+Math.imul(w,Y)|0)+Math.imul(E,$)|0,s=s+Math.imul(E,Y)|0,i=i+Math.imul(b,J)|0,n=(n=n+Math.imul(b,Z)|0)+Math.imul(v,J)|0,s=s+Math.imul(v,Z)|0,i=i+Math.imul(y,ee)|0,n=(n=n+Math.imul(y,te)|0)+Math.imul(g,ee)|0,s=s+Math.imul(g,te)|0;var Se=(u+(i=i+Math.imul(c,ie)|0)|0)+((8191&(n=(n=n+Math.imul(c,ne)|0)+Math.imul(p,ie)|0))<<13)|0;u=((s=s+Math.imul(p,ne)|0)+(n>>>13)|0)+(Se>>>26)|0,Se&=67108863,i=Math.imul(x,G),n=(n=Math.imul(x,W))+Math.imul(k,G)|0,s=Math.imul(k,W),i=i+Math.imul(A,$)|0,n=(n=n+Math.imul(A,Y)|0)+Math.imul(M,$)|0,s=s+Math.imul(M,Y)|0,i=i+Math.imul(w,J)|0,n=(n=n+Math.imul(w,Z)|0)+Math.imul(E,J)|0,s=s+Math.imul(E,Z)|0,i=i+Math.imul(b,ee)|0,n=(n=n+Math.imul(b,te)|0)+Math.imul(v,ee)|0,s=s+Math.imul(v,te)|0,i=i+Math.imul(y,ie)|0,n=(n=n+Math.imul(y,ne)|0)+Math.imul(g,ie)|0,s=s+Math.imul(g,ne)|0;var Ae=(u+(i=i+Math.imul(c,ae)|0)|0)+((8191&(n=(n=n+Math.imul(c,oe)|0)+Math.imul(p,ae)|0))<<13)|0;u=((s=s+Math.imul(p,oe)|0)+(n>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,i=Math.imul(C,G),n=(n=Math.imul(C,W))+Math.imul(B,G)|0,s=Math.imul(B,W),i=i+Math.imul(x,$)|0,n=(n=n+Math.imul(x,Y)|0)+Math.imul(k,$)|0,s=s+Math.imul(k,Y)|0,i=i+Math.imul(A,J)|0,n=(n=n+Math.imul(A,Z)|0)+Math.imul(M,J)|0,s=s+Math.imul(M,Z)|0,i=i+Math.imul(w,ee)|0,n=(n=n+Math.imul(w,te)|0)+Math.imul(E,ee)|0,s=s+Math.imul(E,te)|0,i=i+Math.imul(b,ie)|0,n=(n=n+Math.imul(b,ne)|0)+Math.imul(v,ie)|0,s=s+Math.imul(v,ne)|0,i=i+Math.imul(y,ae)|0,n=(n=n+Math.imul(y,oe)|0)+Math.imul(g,ae)|0,s=s+Math.imul(g,oe)|0;var Me=(u+(i=i+Math.imul(c,ue)|0)|0)+((8191&(n=(n=n+Math.imul(c,le)|0)+Math.imul(p,ue)|0))<<13)|0;u=((s=s+Math.imul(p,le)|0)+(n>>>13)|0)+(Me>>>26)|0,Me&=67108863,i=Math.imul(P,G),n=(n=Math.imul(P,W))+Math.imul(D,G)|0,s=Math.imul(D,W),i=i+Math.imul(C,$)|0,n=(n=n+Math.imul(C,Y)|0)+Math.imul(B,$)|0,s=s+Math.imul(B,Y)|0,i=i+Math.imul(x,J)|0,n=(n=n+Math.imul(x,Z)|0)+Math.imul(k,J)|0,s=s+Math.imul(k,Z)|0,i=i+Math.imul(A,ee)|0,n=(n=n+Math.imul(A,te)|0)+Math.imul(M,ee)|0,s=s+Math.imul(M,te)|0,i=i+Math.imul(w,ie)|0,n=(n=n+Math.imul(w,ne)|0)+Math.imul(E,ie)|0,s=s+Math.imul(E,ne)|0,i=i+Math.imul(b,ae)|0,n=(n=n+Math.imul(b,oe)|0)+Math.imul(v,ae)|0,s=s+Math.imul(v,oe)|0,i=i+Math.imul(y,ue)|0,n=(n=n+Math.imul(y,le)|0)+Math.imul(g,ue)|0,s=s+Math.imul(g,le)|0;var Re=(u+(i=i+Math.imul(c,pe)|0)|0)+((8191&(n=(n=n+Math.imul(c,he)|0)+Math.imul(p,pe)|0))<<13)|0;u=((s=s+Math.imul(p,he)|0)+(n>>>13)|0)+(Re>>>26)|0,Re&=67108863,i=Math.imul(L,G),n=(n=Math.imul(L,W))+Math.imul(j,G)|0,s=Math.imul(j,W),i=i+Math.imul(P,$)|0,n=(n=n+Math.imul(P,Y)|0)+Math.imul(D,$)|0,s=s+Math.imul(D,Y)|0,i=i+Math.imul(C,J)|0,n=(n=n+Math.imul(C,Z)|0)+Math.imul(B,J)|0,s=s+Math.imul(B,Z)|0,i=i+Math.imul(x,ee)|0,n=(n=n+Math.imul(x,te)|0)+Math.imul(k,ee)|0,s=s+Math.imul(k,te)|0,i=i+Math.imul(A,ie)|0,n=(n=n+Math.imul(A,ne)|0)+Math.imul(M,ie)|0,s=s+Math.imul(M,ne)|0,i=i+Math.imul(w,ae)|0,n=(n=n+Math.imul(w,oe)|0)+Math.imul(E,ae)|0,s=s+Math.imul(E,oe)|0,i=i+Math.imul(b,ue)|0,n=(n=n+Math.imul(b,le)|0)+Math.imul(v,ue)|0,s=s+Math.imul(v,le)|0,i=i+Math.imul(y,pe)|0,n=(n=n+Math.imul(y,he)|0)+Math.imul(g,pe)|0,s=s+Math.imul(g,he)|0;var Oe=(u+(i=i+Math.imul(c,ye)|0)|0)+((8191&(n=(n=n+Math.imul(c,ge)|0)+Math.imul(p,ye)|0))<<13)|0;u=((s=s+Math.imul(p,ge)|0)+(n>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,i=Math.imul(U,G),n=(n=Math.imul(U,W))+Math.imul(z,G)|0,s=Math.imul(z,W),i=i+Math.imul(L,$)|0,n=(n=n+Math.imul(L,Y)|0)+Math.imul(j,$)|0,s=s+Math.imul(j,Y)|0,i=i+Math.imul(P,J)|0,n=(n=n+Math.imul(P,Z)|0)+Math.imul(D,J)|0,s=s+Math.imul(D,Z)|0,i=i+Math.imul(C,ee)|0,n=(n=n+Math.imul(C,te)|0)+Math.imul(B,ee)|0,s=s+Math.imul(B,te)|0,i=i+Math.imul(x,ie)|0,n=(n=n+Math.imul(x,ne)|0)+Math.imul(k,ie)|0,s=s+Math.imul(k,ne)|0,i=i+Math.imul(A,ae)|0,n=(n=n+Math.imul(A,oe)|0)+Math.imul(M,ae)|0,s=s+Math.imul(M,oe)|0,i=i+Math.imul(w,ue)|0,n=(n=n+Math.imul(w,le)|0)+Math.imul(E,ue)|0,s=s+Math.imul(E,le)|0,i=i+Math.imul(b,pe)|0,n=(n=n+Math.imul(b,he)|0)+Math.imul(v,pe)|0,s=s+Math.imul(v,he)|0,i=i+Math.imul(y,ye)|0,n=(n=n+Math.imul(y,ge)|0)+Math.imul(g,ye)|0,s=s+Math.imul(g,ge)|0;var xe=(u+(i=i+Math.imul(c,be)|0)|0)+((8191&(n=(n=n+Math.imul(c,ve)|0)+Math.imul(p,be)|0))<<13)|0;u=((s=s+Math.imul(p,ve)|0)+(n>>>13)|0)+(xe>>>26)|0,xe&=67108863,i=Math.imul(U,$),n=(n=Math.imul(U,Y))+Math.imul(z,$)|0,s=Math.imul(z,Y),i=i+Math.imul(L,J)|0,n=(n=n+Math.imul(L,Z)|0)+Math.imul(j,J)|0,s=s+Math.imul(j,Z)|0,i=i+Math.imul(P,ee)|0,n=(n=n+Math.imul(P,te)|0)+Math.imul(D,ee)|0,s=s+Math.imul(D,te)|0,i=i+Math.imul(C,ie)|0,n=(n=n+Math.imul(C,ne)|0)+Math.imul(B,ie)|0,s=s+Math.imul(B,ne)|0,i=i+Math.imul(x,ae)|0,n=(n=n+Math.imul(x,oe)|0)+Math.imul(k,ae)|0,s=s+Math.imul(k,oe)|0,i=i+Math.imul(A,ue)|0,n=(n=n+Math.imul(A,le)|0)+Math.imul(M,ue)|0,s=s+Math.imul(M,le)|0,i=i+Math.imul(w,pe)|0,n=(n=n+Math.imul(w,he)|0)+Math.imul(E,pe)|0,s=s+Math.imul(E,he)|0,i=i+Math.imul(b,ye)|0,n=(n=n+Math.imul(b,ge)|0)+Math.imul(v,ye)|0,s=s+Math.imul(v,ge)|0;var ke=(u+(i=i+Math.imul(y,be)|0)|0)+((8191&(n=(n=n+Math.imul(y,ve)|0)+Math.imul(g,be)|0))<<13)|0;u=((s=s+Math.imul(g,ve)|0)+(n>>>13)|0)+(ke>>>26)|0,ke&=67108863,i=Math.imul(U,J),n=(n=Math.imul(U,Z))+Math.imul(z,J)|0,s=Math.imul(z,Z),i=i+Math.imul(L,ee)|0,n=(n=n+Math.imul(L,te)|0)+Math.imul(j,ee)|0,s=s+Math.imul(j,te)|0,i=i+Math.imul(P,ie)|0,n=(n=n+Math.imul(P,ne)|0)+Math.imul(D,ie)|0,s=s+Math.imul(D,ne)|0,i=i+Math.imul(C,ae)|0,n=(n=n+Math.imul(C,oe)|0)+Math.imul(B,ae)|0,s=s+Math.imul(B,oe)|0,i=i+Math.imul(x,ue)|0,n=(n=n+Math.imul(x,le)|0)+Math.imul(k,ue)|0,s=s+Math.imul(k,le)|0,i=i+Math.imul(A,pe)|0,n=(n=n+Math.imul(A,he)|0)+Math.imul(M,pe)|0,s=s+Math.imul(M,he)|0,i=i+Math.imul(w,ye)|0,n=(n=n+Math.imul(w,ge)|0)+Math.imul(E,ye)|0,s=s+Math.imul(E,ge)|0;var Ie=(u+(i=i+Math.imul(b,be)|0)|0)+((8191&(n=(n=n+Math.imul(b,ve)|0)+Math.imul(v,be)|0))<<13)|0;u=((s=s+Math.imul(v,ve)|0)+(n>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,i=Math.imul(U,ee),n=(n=Math.imul(U,te))+Math.imul(z,ee)|0,s=Math.imul(z,te),i=i+Math.imul(L,ie)|0,n=(n=n+Math.imul(L,ne)|0)+Math.imul(j,ie)|0,s=s+Math.imul(j,ne)|0,i=i+Math.imul(P,ae)|0,n=(n=n+Math.imul(P,oe)|0)+Math.imul(D,ae)|0,s=s+Math.imul(D,oe)|0,i=i+Math.imul(C,ue)|0,n=(n=n+Math.imul(C,le)|0)+Math.imul(B,ue)|0,s=s+Math.imul(B,le)|0,i=i+Math.imul(x,pe)|0,n=(n=n+Math.imul(x,he)|0)+Math.imul(k,pe)|0,s=s+Math.imul(k,he)|0,i=i+Math.imul(A,ye)|0,n=(n=n+Math.imul(A,ge)|0)+Math.imul(M,ye)|0,s=s+Math.imul(M,ge)|0;var Ce=(u+(i=i+Math.imul(w,be)|0)|0)+((8191&(n=(n=n+Math.imul(w,ve)|0)+Math.imul(E,be)|0))<<13)|0;u=((s=s+Math.imul(E,ve)|0)+(n>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,i=Math.imul(U,ie),n=(n=Math.imul(U,ne))+Math.imul(z,ie)|0,s=Math.imul(z,ne),i=i+Math.imul(L,ae)|0,n=(n=n+Math.imul(L,oe)|0)+Math.imul(j,ae)|0,s=s+Math.imul(j,oe)|0,i=i+Math.imul(P,ue)|0,n=(n=n+Math.imul(P,le)|0)+Math.imul(D,ue)|0,s=s+Math.imul(D,le)|0,i=i+Math.imul(C,pe)|0,n=(n=n+Math.imul(C,he)|0)+Math.imul(B,pe)|0,s=s+Math.imul(B,he)|0,i=i+Math.imul(x,ye)|0,n=(n=n+Math.imul(x,ge)|0)+Math.imul(k,ye)|0,s=s+Math.imul(k,ge)|0;var Be=(u+(i=i+Math.imul(A,be)|0)|0)+((8191&(n=(n=n+Math.imul(A,ve)|0)+Math.imul(M,be)|0))<<13)|0;u=((s=s+Math.imul(M,ve)|0)+(n>>>13)|0)+(Be>>>26)|0,Be&=67108863,i=Math.imul(U,ae),n=(n=Math.imul(U,oe))+Math.imul(z,ae)|0,s=Math.imul(z,oe),i=i+Math.imul(L,ue)|0,n=(n=n+Math.imul(L,le)|0)+Math.imul(j,ue)|0,s=s+Math.imul(j,le)|0,i=i+Math.imul(P,pe)|0,n=(n=n+Math.imul(P,he)|0)+Math.imul(D,pe)|0,s=s+Math.imul(D,he)|0,i=i+Math.imul(C,ye)|0,n=(n=n+Math.imul(C,ge)|0)+Math.imul(B,ye)|0,s=s+Math.imul(B,ge)|0;var Ne=(u+(i=i+Math.imul(x,be)|0)|0)+((8191&(n=(n=n+Math.imul(x,ve)|0)+Math.imul(k,be)|0))<<13)|0;u=((s=s+Math.imul(k,ve)|0)+(n>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,i=Math.imul(U,ue),n=(n=Math.imul(U,le))+Math.imul(z,ue)|0,s=Math.imul(z,le),i=i+Math.imul(L,pe)|0,n=(n=n+Math.imul(L,he)|0)+Math.imul(j,pe)|0,s=s+Math.imul(j,he)|0,i=i+Math.imul(P,ye)|0,n=(n=n+Math.imul(P,ge)|0)+Math.imul(D,ye)|0,s=s+Math.imul(D,ge)|0;var Pe=(u+(i=i+Math.imul(C,be)|0)|0)+((8191&(n=(n=n+Math.imul(C,ve)|0)+Math.imul(B,be)|0))<<13)|0;u=((s=s+Math.imul(B,ve)|0)+(n>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,i=Math.imul(U,pe),n=(n=Math.imul(U,he))+Math.imul(z,pe)|0,s=Math.imul(z,he),i=i+Math.imul(L,ye)|0,n=(n=n+Math.imul(L,ge)|0)+Math.imul(j,ye)|0,s=s+Math.imul(j,ge)|0;var De=(u+(i=i+Math.imul(P,be)|0)|0)+((8191&(n=(n=n+Math.imul(P,ve)|0)+Math.imul(D,be)|0))<<13)|0;u=((s=s+Math.imul(D,ve)|0)+(n>>>13)|0)+(De>>>26)|0,De&=67108863,i=Math.imul(U,ye),n=(n=Math.imul(U,ge))+Math.imul(z,ye)|0,s=Math.imul(z,ge);var qe=(u+(i=i+Math.imul(L,be)|0)|0)+((8191&(n=(n=n+Math.imul(L,ve)|0)+Math.imul(j,be)|0))<<13)|0;u=((s=s+Math.imul(j,ve)|0)+(n>>>13)|0)+(qe>>>26)|0,qe&=67108863;var Le=(u+(i=Math.imul(U,be))|0)+((8191&(n=(n=Math.imul(U,ve))+Math.imul(z,be)|0))<<13)|0;return u=((s=Math.imul(z,ve))+(n>>>13)|0)+(Le>>>26)|0,Le&=67108863,d[0]=_e,d[1]=we,d[2]=Ee,d[3]=Te,d[4]=Se,d[5]=Ae,d[6]=Me,d[7]=Re,d[8]=Oe,d[9]=xe,d[10]=ke,d[11]=Ie,d[12]=Ce,d[13]=Be,d[14]=Ne,d[15]=Pe,d[16]=De,d[17]=qe,d[18]=Le,0!==u&&(d[19]=u,r.length++),r};function bigMulTo(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var i=0,n=0,s=0;s<r.length-1;s++){var a=n;n=0;for(var o=67108863&i,d=Math.min(s,t.length-1),u=Math.max(0,s-e.length+1);u<=d;u++){var l=s-u,c=(0|e.words[l])*(0|t.words[u]),p=67108863&c;o=67108863&(p=p+o|0),n+=(a=(a=a+(c/67108864|0)|0)+(p>>>26)|0)>>>26,a&=67108863}r.words[s]=o,i=a,a=n}return 0!==i?r.words[s]=i:r.length--,r._strip()}function jumboMulTo(e,t,r){return bigMulTo(e,t,r)}function FFTM(e,t){this.x=e,this.y=t}Math.imul||(o=smallMulTo),BN.prototype.mulTo=function mulTo(e,t){var r=this.length+e.length;return 10===this.length&&10===e.length?o(this,e,t):r<63?smallMulTo(this,e,t):r<1024?bigMulTo(this,e,t):jumboMulTo(this,e,t)},FFTM.prototype.makeRBT=function makeRBT(e){for(var t=new Array(e),r=BN.prototype._countBits(e)-1,i=0;i<e;i++)t[i]=this.revBin(i,r,e);return t},FFTM.prototype.revBin=function revBin(e,t,r){if(0===e||e===r-1)return e;for(var i=0,n=0;n<t;n++)i|=(1&e)<<t-n-1,e>>=1;return i},FFTM.prototype.permute=function permute(e,t,r,i,n,s){for(var a=0;a<s;a++)i[a]=t[e[a]],n[a]=r[e[a]]},FFTM.prototype.transform=function transform(e,t,r,i,n,s){this.permute(s,e,t,r,i,n);for(var a=1;a<n;a<<=1)for(var o=a<<1,d=Math.cos(2*Math.PI/o),u=Math.sin(2*Math.PI/o),l=0;l<n;l+=o)for(var c=d,p=u,h=0;h<a;h++){var y=r[l+h],g=i[l+h],m=r[l+h+a],b=i[l+h+a],v=c*m-p*b;b=c*b+p*m,m=v,r[l+h]=y+m,i[l+h]=g+b,r[l+h+a]=y-m,i[l+h+a]=g-b,h!==o&&(v=d*c-u*p,p=d*p+u*c,c=v)}},FFTM.prototype.guessLen13b=function guessLen13b(e,t){var r=1|Math.max(t,e),i=1&r,n=0;for(r=r/2|0;r;r>>>=1)n++;return 1<<n+1+i},FFTM.prototype.conjugate=function conjugate(e,t,r){if(!(r<=1))for(var i=0;i<r/2;i++){var n=e[i];e[i]=e[r-i-1],e[r-i-1]=n,n=t[i],t[i]=-t[r-i-1],t[r-i-1]=-n}},FFTM.prototype.normalize13b=function normalize13b(e,t){for(var r=0,i=0;i<t/2;i++){var n=8192*Math.round(e[2*i+1]/t)+Math.round(e[2*i]/t)+r;e[i]=67108863&n,r=n<67108864?0:n/67108864|0}return e},FFTM.prototype.convert13b=function convert13b(e,t,r,i){for(var n=0,s=0;s<t;s++)n+=0|e[s],r[2*s]=8191&n,n>>>=13,r[2*s+1]=8191&n,n>>>=13;for(s=2*t;s<i;++s)r[s]=0;assert(0===n),assert(!(-8192&n))},FFTM.prototype.stub=function stub(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},FFTM.prototype.mulp=function mulp(e,t,r){var i=2*this.guessLen13b(e.length,t.length),n=this.makeRBT(i),s=this.stub(i),a=new Array(i),o=new Array(i),d=new Array(i),u=new Array(i),l=new Array(i),c=new Array(i),p=r.words;p.length=i,this.convert13b(e.words,e.length,a,i),this.convert13b(t.words,t.length,u,i),this.transform(a,s,o,d,i,n),this.transform(u,s,l,c,i,n);for(var h=0;h<i;h++){var y=o[h]*l[h]-d[h]*c[h];d[h]=o[h]*c[h]+d[h]*l[h],o[h]=y}return this.conjugate(o,d,i),this.transform(o,d,p,s,i,n),this.conjugate(p,s,i),this.normalize13b(p,i),r.negative=e.negative^t.negative,r.length=e.length+t.length,r._strip()},BN.prototype.mul=function mul(e){var t=new BN(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},BN.prototype.mulf=function mulf(e){var t=new BN(null);return t.words=new Array(this.length+e.length),jumboMulTo(this,e,t)},BN.prototype.imul=function imul(e){return this.clone().mulTo(e,this)},BN.prototype.imuln=function imuln(e){var t=e<0;t&&(e=-e),assert("number"==typeof e),assert(e<67108864);for(var r=0,i=0;i<this.length;i++){var n=(0|this.words[i])*e,s=(67108863&n)+(67108863&r);r>>=26,r+=n/67108864|0,r+=s>>>26,this.words[i]=67108863&s}return 0!==r&&(this.words[i]=r,this.length++),t?this.ineg():this},BN.prototype.muln=function muln(e){return this.clone().imuln(e)},BN.prototype.sqr=function sqr(){return this.mul(this)},BN.prototype.isqr=function isqr(){return this.imul(this.clone())},BN.prototype.pow=function pow(e){var t=function toBitArray(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var i=r/26|0,n=r%26;t[r]=e.words[i]>>>n&1}return t}(e);if(0===t.length)return new BN(1);for(var r=this,i=0;i<t.length&&0===t[i];i++,r=r.sqr());if(++i<t.length)for(var n=r.sqr();i<t.length;i++,n=n.sqr())0!==t[i]&&(r=r.mul(n));return r},BN.prototype.iushln=function iushln(e){assert("number"==typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,n=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(t=0;t<this.length;t++){var a=this.words[t]&n,o=(0|this.words[t])-a<<r;this.words[t]=o|s,s=a>>>26-r}s&&(this.words[t]=s,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this._strip()},BN.prototype.ishln=function ishln(e){return assert(0===this.negative),this.iushln(e)},BN.prototype.iushrn=function iushrn(e,t,r){var i;assert("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var n=e%26,s=Math.min((e-n)/26,this.length),a=67108863^67108863>>>n<<n,o=r;if(i-=s,i=Math.max(0,i),o){for(var d=0;d<s;d++)o.words[d]=this.words[d];o.length=s}if(0===s);else if(this.length>s)for(this.length-=s,d=0;d<this.length;d++)this.words[d]=this.words[d+s];else this.words[0]=0,this.length=1;var u=0;for(d=this.length-1;d>=0&&(0!==u||d>=i);d--){var l=0|this.words[d];this.words[d]=u<<26-n|l>>>n,u=l&a}return o&&0!==u&&(o.words[o.length++]=u),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},BN.prototype.ishrn=function ishrn(e,t,r){return assert(0===this.negative),this.iushrn(e,t,r)},BN.prototype.shln=function shln(e){return this.clone().ishln(e)},BN.prototype.ushln=function ushln(e){return this.clone().iushln(e)},BN.prototype.shrn=function shrn(e){return this.clone().ishrn(e)},BN.prototype.ushrn=function ushrn(e){return this.clone().iushrn(e)},BN.prototype.testn=function testn(e){assert("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,i=1<<t;return!(this.length<=r)&&!!(this.words[r]&i)},BN.prototype.imaskn=function imaskn(e){assert("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(assert(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this._strip()},BN.prototype.maskn=function maskn(e){return this.clone().imaskn(e)},BN.prototype.iaddn=function iaddn(e){return assert("number"==typeof e),assert(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},BN.prototype._iaddn=function _iaddn(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},BN.prototype.isubn=function isubn(e){if(assert("number"==typeof e),assert(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},BN.prototype.addn=function addn(e){return this.clone().iaddn(e)},BN.prototype.subn=function subn(e){return this.clone().isubn(e)},BN.prototype.iabs=function iabs(){return this.negative=0,this},BN.prototype.abs=function abs(){return this.clone().iabs()},BN.prototype._ishlnsubmul=function _ishlnsubmul(e,t,r){var i,n,s=e.length+r;this._expand(s);var a=0;for(i=0;i<e.length;i++){n=(0|this.words[i+r])+a;var o=(0|e.words[i])*t;a=((n-=67108863&o)>>26)-(o/67108864|0),this.words[i+r]=67108863&n}for(;i<this.length-r;i++)a=(n=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&n;if(0===a)return this._strip();for(assert(-1===a),a=0,i=0;i<this.length;i++)a=(n=-(0|this.words[i])+a)>>26,this.words[i]=67108863&n;return this.negative=1,this._strip()},BN.prototype._wordDiv=function _wordDiv(e,t){var r=(this.length,e.length),i=this.clone(),n=e,s=0|n.words[n.length-1];0!==(r=26-this._countBits(s))&&(n=n.ushln(r),i.iushln(r),s=0|n.words[n.length-1]);var a,o=i.length-n.length;if("mod"!==t){(a=new BN(null)).length=o+1,a.words=new Array(a.length);for(var d=0;d<a.length;d++)a.words[d]=0}var u=i.clone()._ishlnsubmul(n,1,o);0===u.negative&&(i=u,a&&(a.words[o]=1));for(var l=o-1;l>=0;l--){var c=67108864*(0|i.words[n.length+l])+(0|i.words[n.length+l-1]);for(c=Math.min(c/s|0,67108863),i._ishlnsubmul(n,c,l);0!==i.negative;)c--,i.negative=0,i._ishlnsubmul(n,1,l),i.isZero()||(i.negative^=1);a&&(a.words[l]=c)}return a&&a._strip(),i._strip(),"div"!==t&&0!==r&&i.iushrn(r),{div:a||null,mod:i}},BN.prototype.divmod=function divmod(e,t,r){return assert(!e.isZero()),this.isZero()?{div:new BN(0),mod:new BN(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(i=s.div.neg()),"div"!==t&&(n=s.mod.neg(),r&&0!==n.negative&&n.iadd(e)),{div:i,mod:n}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(i=s.div.neg()),{div:i,mod:s.mod}):this.negative&e.negative?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(n=s.mod.neg(),r&&0!==n.negative&&n.isub(e)),{div:s.div,mod:n}):e.length>this.length||this.cmp(e)<0?{div:new BN(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new BN(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new BN(this.modrn(e.words[0]))}:this._wordDiv(e,t);var i,n,s},BN.prototype.div=function div(e){return this.divmod(e,"div",!1).div},BN.prototype.mod=function mod(e){return this.divmod(e,"mod",!1).mod},BN.prototype.umod=function umod(e){return this.divmod(e,"mod",!0).mod},BN.prototype.divRound=function divRound(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,i=e.ushrn(1),n=e.andln(1),s=r.cmp(i);return s<0||1===n&&0===s?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},BN.prototype.modrn=function modrn(e){var t=e<0;t&&(e=-e),assert(e<=67108863);for(var r=(1<<26)%e,i=0,n=this.length-1;n>=0;n--)i=(r*i+(0|this.words[n]))%e;return t?-i:i},BN.prototype.modn=function modn(e){return this.modrn(e)},BN.prototype.idivn=function idivn(e){var t=e<0;t&&(e=-e),assert(e<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var n=(0|this.words[i])+67108864*r;this.words[i]=n/e|0,r=n%e}return this._strip(),t?this.ineg():this},BN.prototype.divn=function divn(e){return this.clone().idivn(e)},BN.prototype.egcd=function egcd(e){assert(0===e.negative),assert(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new BN(1),n=new BN(0),s=new BN(0),a=new BN(1),o=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++o;for(var d=r.clone(),u=t.clone();!t.isZero();){for(var l=0,c=1;!(t.words[0]&c)&&l<26;++l,c<<=1);if(l>0)for(t.iushrn(l);l-- >0;)(i.isOdd()||n.isOdd())&&(i.iadd(d),n.isub(u)),i.iushrn(1),n.iushrn(1);for(var p=0,h=1;!(r.words[0]&h)&&p<26;++p,h<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(s.isOdd()||a.isOdd())&&(s.iadd(d),a.isub(u)),s.iushrn(1),a.iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(s),n.isub(a)):(r.isub(t),s.isub(i),a.isub(n))}return{a:s,b:a,gcd:r.iushln(o)}},BN.prototype._invmp=function _invmp(e){assert(0===e.negative),assert(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,n=new BN(1),s=new BN(0),a=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var o=0,d=1;!(t.words[0]&d)&&o<26;++o,d<<=1);if(o>0)for(t.iushrn(o);o-- >0;)n.isOdd()&&n.iadd(a),n.iushrn(1);for(var u=0,l=1;!(r.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(r.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(a),s.iushrn(1);t.cmp(r)>=0?(t.isub(r),n.isub(s)):(r.isub(t),s.isub(n))}return(i=0===t.cmpn(1)?n:s).cmpn(0)<0&&i.iadd(e),i},BN.prototype.gcd=function gcd(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var i=0;t.isEven()&&r.isEven();i++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var n=t.cmp(r);if(n<0){var s=t;t=r,r=s}else if(0===n||0===r.cmpn(1))break;t.isub(r)}return r.iushln(i)},BN.prototype.invm=function invm(e){return this.egcd(e).a.umod(e)},BN.prototype.isEven=function isEven(){return!(1&this.words[0])},BN.prototype.isOdd=function isOdd(){return!(1&~this.words[0])},BN.prototype.andln=function andln(e){return this.words[0]&e},BN.prototype.bincn=function bincn(e){assert("number"==typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var n=i,s=r;0!==n&&s<this.length;s++){var a=0|this.words[s];n=(a+=n)>>>26,a&=67108863,this.words[s]=a}return 0!==n&&(this.words[s]=n,this.length++),this},BN.prototype.isZero=function isZero(){return 1===this.length&&0===this.words[0]},BN.prototype.cmpn=function cmpn(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)t=1;else{r&&(e=-e),assert(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},BN.prototype.cmp=function cmp(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},BN.prototype.ucmp=function ucmp(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var i=0|this.words[r],n=0|e.words[r];if(i!==n){i<n?t=-1:i>n&&(t=1);break}}return t},BN.prototype.gtn=function gtn(e){return 1===this.cmpn(e)},BN.prototype.gt=function gt(e){return 1===this.cmp(e)},BN.prototype.gten=function gten(e){return this.cmpn(e)>=0},BN.prototype.gte=function gte(e){return this.cmp(e)>=0},BN.prototype.ltn=function ltn(e){return-1===this.cmpn(e)},BN.prototype.lt=function lt(e){return-1===this.cmp(e)},BN.prototype.lten=function lten(e){return this.cmpn(e)<=0},BN.prototype.lte=function lte(e){return this.cmp(e)<=0},BN.prototype.eqn=function eqn(e){return 0===this.cmpn(e)},BN.prototype.eq=function eq(e){return 0===this.cmp(e)},BN.red=function red(e){return new Red(e)},BN.prototype.toRed=function toRed(e){return assert(!this.red,"Already a number in reduction context"),assert(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},BN.prototype.fromRed=function fromRed(){return assert(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},BN.prototype._forceRed=function _forceRed(e){return this.red=e,this},BN.prototype.forceRed=function forceRed(e){return assert(!this.red,"Already a number in reduction context"),this._forceRed(e)},BN.prototype.redAdd=function redAdd(e){return assert(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},BN.prototype.redIAdd=function redIAdd(e){return assert(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},BN.prototype.redSub=function redSub(e){return assert(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},BN.prototype.redISub=function redISub(e){return assert(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},BN.prototype.redShl=function redShl(e){return assert(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},BN.prototype.redMul=function redMul(e){return assert(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},BN.prototype.redIMul=function redIMul(e){return assert(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},BN.prototype.redSqr=function redSqr(){return assert(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},BN.prototype.redISqr=function redISqr(){return assert(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},BN.prototype.redSqrt=function redSqrt(){return assert(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},BN.prototype.redInvm=function redInvm(){return assert(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},BN.prototype.redNeg=function redNeg(){return assert(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},BN.prototype.redPow=function redPow(e){return assert(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var d={k256:null,p224:null,p192:null,p25519:null};function MPrime(e,t){this.name=e,this.p=new BN(t,16),this.n=this.p.bitLength(),this.k=new BN(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function K256(){MPrime.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function P224(){MPrime.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function P192(){MPrime.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function P25519(){MPrime.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function Red(e){if("string"==typeof e){var t=BN._prime(e);this.m=t.p,this.prime=t}else assert(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function Mont(e){Red.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new BN(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}MPrime.prototype._tmp=function _tmp(){var e=new BN(null);return e.words=new Array(Math.ceil(this.n/13)),e},MPrime.prototype.ireduce=function ireduce(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var i=t<this.n?-1:r.ucmp(this.p);return 0===i?(r.words[0]=0,r.length=1):i>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},MPrime.prototype.split=function split(e,t){e.iushrn(this.n,0,t)},MPrime.prototype.imulK=function imulK(e){return e.imul(this.k)},inherits(K256,MPrime),K256.prototype.split=function split(e,t){for(var r=4194303,i=Math.min(e.length,9),n=0;n<i;n++)t.words[n]=e.words[n];if(t.length=i,e.length<=9)return e.words[0]=0,void(e.length=1);var s=e.words[9];for(t.words[t.length++]=s&r,n=10;n<e.length;n++){var a=0|e.words[n];e.words[n-10]=(a&r)<<4|s>>>22,s=a}s>>>=22,e.words[n-10]=s,0===s&&e.length>10?e.length-=10:e.length-=9},K256.prototype.imulK=function imulK(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var i=0|e.words[r];t+=977*i,e.words[r]=67108863&t,t=64*i+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},inherits(P224,MPrime),inherits(P192,MPrime),inherits(P25519,MPrime),P25519.prototype.imulK=function imulK(e){for(var t=0,r=0;r<e.length;r++){var i=19*(0|e.words[r])+t,n=67108863&i;i>>>=26,e.words[r]=n,t=i}return 0!==t&&(e.words[e.length++]=t),e},BN._prime=function prime(e){if(d[e])return d[e];var prime;if("k256"===e)prime=new K256;else if("p224"===e)prime=new P224;else if("p192"===e)prime=new P192;else{if("p25519"!==e)throw new Error("Unknown prime "+e);prime=new P25519}return d[e]=prime,prime},Red.prototype._verify1=function _verify1(e){assert(0===e.negative,"red works only with positives"),assert(e.red,"red works only with red numbers")},Red.prototype._verify2=function _verify2(e,t){assert(!(e.negative|t.negative),"red works only with positives"),assert(e.red&&e.red===t.red,"red works only with red numbers")},Red.prototype.imod=function imod(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(move(e,e.umod(this.m)._forceRed(this)),e)},Red.prototype.neg=function neg(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},Red.prototype.add=function add(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},Red.prototype.iadd=function iadd(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},Red.prototype.sub=function sub(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},Red.prototype.isub=function isub(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},Red.prototype.shl=function shl(e,t){return this._verify1(e),this.imod(e.ushln(t))},Red.prototype.imul=function imul(e,t){return this._verify2(e,t),this.imod(e.imul(t))},Red.prototype.mul=function mul(e,t){return this._verify2(e,t),this.imod(e.mul(t))},Red.prototype.isqr=function isqr(e){return this.imul(e,e.clone())},Red.prototype.sqr=function sqr(e){return this.mul(e,e)},Red.prototype.sqrt=function sqrt(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(assert(t%2==1),3===t){var r=this.m.add(new BN(1)).iushrn(2);return this.pow(e,r)}for(var i=this.m.subn(1),n=0;!i.isZero()&&0===i.andln(1);)n++,i.iushrn(1);assert(!i.isZero());var s=new BN(1).toRed(this),a=s.redNeg(),o=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new BN(2*d*d).toRed(this);0!==this.pow(d,o).cmp(a);)d.redIAdd(a);for(var u=this.pow(d,i),l=this.pow(e,i.addn(1).iushrn(1)),c=this.pow(e,i),p=n;0!==c.cmp(s);){for(var h=c,y=0;0!==h.cmp(s);y++)h=h.redSqr();assert(y<p);var g=this.pow(u,new BN(1).iushln(p-y-1));l=l.redMul(g),u=g.redSqr(),c=c.redMul(u),p=y}return l},Red.prototype.invm=function invm(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},Red.prototype.pow=function pow(e,t){if(t.isZero())return new BN(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new BN(1).toRed(this),r[1]=e;for(var i=2;i<r.length;i++)r[i]=this.mul(r[i-1],e);var n=r[0],s=0,a=0,o=t.bitLength()%26;for(0===o&&(o=26),i=t.length-1;i>=0;i--){for(var d=t.words[i],u=o-1;u>=0;u--){var l=d>>u&1;n!==r[0]&&(n=this.sqr(n)),0!==l||0!==s?(s<<=1,s|=l,(4===++a||0===i&&0===u)&&(n=this.mul(n,r[s]),a=0,s=0)):a=0}o=26}return n},Red.prototype.convertTo=function convertTo(e){var t=e.umod(this.m);return t===e?t.clone():t},Red.prototype.convertFrom=function convertFrom(e){var t=e.clone();return t.red=null,t},BN.mont=function mont(e){return new Mont(e)},inherits(Mont,Red),Mont.prototype.convertTo=function convertTo(e){return this.imod(e.ushln(this.shift))},Mont.prototype.convertFrom=function convertFrom(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},Mont.prototype.imul=function imul(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),s=n;return n.cmp(this.m)>=0?s=n.isub(this.m):n.cmpn(0)<0&&(s=n.iadd(this.m)),s._forceRed(this)},Mont.prototype.mul=function mul(e,t){if(e.isZero()||t.isZero())return new BN(0)._forceRed(this);var r=e.mul(t),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),s=n;return n.cmp(this.m)>=0?s=n.isub(this.m):n.cmpn(0)<0&&(s=n.iadd(this.m)),s._forceRed(this)},Mont.prototype.invm=function invm(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=r.nmd(e),this)},3872:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isValidXAddress=t.decodeXAddress=t.xAddressToClassicAddress=t.encodeXAddress=t.classicAddressToXAddress=t.isValidClassicAddress=t.decodeAccountPublic=t.encodeAccountPublic=t.decodeNodePublic=t.encodeNodePublic=t.decodeAccountID=t.encodeAccountID=t.decodeSeed=t.encodeSeed=t.codec=void 0;const i=r(6093),n=r(8141);Object.defineProperty(t,"codec",{enumerable:!0,get:function(){return n.codec}}),Object.defineProperty(t,"encodeSeed",{enumerable:!0,get:function(){return n.encodeSeed}}),Object.defineProperty(t,"decodeSeed",{enumerable:!0,get:function(){return n.decodeSeed}}),Object.defineProperty(t,"encodeAccountID",{enumerable:!0,get:function(){return n.encodeAccountID}}),Object.defineProperty(t,"decodeAccountID",{enumerable:!0,get:function(){return n.decodeAccountID}}),Object.defineProperty(t,"encodeNodePublic",{enumerable:!0,get:function(){return n.encodeNodePublic}}),Object.defineProperty(t,"decodeNodePublic",{enumerable:!0,get:function(){return n.decodeNodePublic}}),Object.defineProperty(t,"encodeAccountPublic",{enumerable:!0,get:function(){return n.encodeAccountPublic}}),Object.defineProperty(t,"decodeAccountPublic",{enumerable:!0,get:function(){return n.decodeAccountPublic}}),Object.defineProperty(t,"isValidClassicAddress",{enumerable:!0,get:function(){return n.isValidClassicAddress}});const s={main:Buffer.from([5,68]),test:Buffer.from([4,147])},a=4294967295;function encodeXAddress(e,t,r){if(20!==e.length)throw new Error("Account ID must be 20 bytes");if(t>a)throw new Error("Invalid tag");const i=t||0,o=!1===t||null==t?0:1,d=Buffer.concat([r?s.test:s.main,e,Buffer.from([o,255&i,i>>8&255,i>>16&255,i>>24&255,0,0,0,0])]);return n.codec.encodeChecked(d)}function decodeXAddress(e){const t=n.codec.decodeChecked(e),r=function isBufferForTestAddress(e){const t=e.slice(0,2);if(s.main.equals(t))return!1;if(s.test.equals(t))return!0;throw new Error("Invalid X-address: bad prefix")}(t);return{accountId:t.slice(2,22),tag:function tagFromBuffer(e){const t=e[22];if(t>=2)throw new Error("Unsupported X-address");if(1===t)return e[23]+256*e[24]+65536*e[25]+16777216*e[26];return i.strictEqual(t,0,"flag must be zero to indicate no tag"),i.ok(Buffer.from("0000000000000000","hex").equals(e.slice(23,31)),"remaining bytes must be zero"),!1}(t),test:r}}t.classicAddressToXAddress=function classicAddressToXAddress(e,t,r){return encodeXAddress((0,n.decodeAccountID)(e),t,r)},t.encodeXAddress=encodeXAddress,t.xAddressToClassicAddress=function xAddressToClassicAddress(e){const{accountId:t,tag:r,test:i}=decodeXAddress(e);return{classicAddress:(0,n.encodeAccountID)(t),tag:r,test:i}},t.decodeXAddress=decodeXAddress,t.isValidXAddress=function isValidXAddress(e){try{decodeXAddress(e)}catch(e){return!1}return!0}},9241:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.concatArgs=t.seqEqual=void 0,t.seqEqual=function seqEqual(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0},t.concatArgs=function concatArgs(...e){const t=[];return e.forEach((e=>{if(function isSequence(e){return"number"!=typeof e}(e))for(const r of e)t.push(r);else t.push(e)})),t}},8141:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isValidClassicAddress=t.decodeAccountPublic=t.encodeAccountPublic=t.encodeNodePublic=t.decodeNodePublic=t.decodeAddress=t.decodeAccountID=t.encodeAddress=t.encodeAccountID=t.decodeSeed=t.encodeSeed=t.codec=void 0;const i=r(4450),n=r(3257),s=r(9241);const a=0,o=[1,225,75],d={sha256:e=>n("sha256").update(Buffer.from(e)).digest(),alphabet:"rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz"},u=new class Codec{constructor(e){this._sha256=e.sha256,this._alphabet=e.alphabet,this._codec=i(this._alphabet)}encode(e,t){const r=t.versions;return this._encodeVersioned(e,r,t.expectedLength)}decode(e,t){var r;const i=t.versions,n=t.versionTypes,a=this.decodeChecked(e);if(i.length>1&&!t.expectedLength)throw new Error("expectedLength is required because there are >= 2 possible versions");const o="number"==typeof i[0]?1:i[0].length,d=null!==(r=t.expectedLength)&&void 0!==r?r:a.length-o,u=a.slice(0,-d),l=a.slice(-d);for(let e=0;e<i.length;e++){const t=Array.isArray(i[e])?i[e]:[i[e]];if((0,s.seqEqual)(u,t))return{version:t,bytes:l,type:n?n[e]:null}}throw new Error("version_invalid: version bytes do not match any of the provided version(s)")}encodeChecked(e){const t=this._sha256(this._sha256(e)).slice(0,4);return this._encodeRaw(Buffer.from((0,s.concatArgs)(e,t)))}decodeChecked(e){const t=this._decodeRaw(e);if(t.length<5)throw new Error("invalid_input_size: decoded data must have length >= 5");if(!this._verifyCheckSum(t))throw new Error("checksum_invalid");return t.slice(0,-4)}_encodeVersioned(e,t,r){if(r&&e.length!==r)throw new Error("unexpected_payload_length: bytes.length does not match expectedLength. Ensure that the bytes are a Buffer.");return this.encodeChecked(Buffer.from((0,s.concatArgs)(t,e)))}_encodeRaw(e){return this._codec.encode(e)}_decodeRaw(e){return this._codec.decode(e)}_verifyCheckSum(e){const t=this._sha256(this._sha256(e.slice(0,-4))).slice(0,4),r=e.slice(-4);return(0,s.seqEqual)(t,r)}}(d);function encodeAccountID(e){const t={versions:[a],expectedLength:20};return u.encode(e,t)}function decodeAccountID(e){const t={versions:[a],expectedLength:20};return u.decode(e,t).bytes}t.codec=u,t.encodeSeed=function encodeSeed(e,t){if(16!==e.length)throw new Error("entropy must have length 16");const r={expectedLength:16,versions:"ed25519"===t?o:[33]};return u.encode(e,r)},t.decodeSeed=function decodeSeed(e,t={versionTypes:["ed25519","secp256k1"],versions:[o,33],expectedLength:16}){return u.decode(e,t)},t.encodeAccountID=encodeAccountID,t.encodeAddress=encodeAccountID,t.decodeAccountID=decodeAccountID,t.decodeAddress=decodeAccountID,t.decodeNodePublic=function decodeNodePublic(e){const t={versions:[28],expectedLength:33};return u.decode(e,t).bytes},t.encodeNodePublic=function encodeNodePublic(e){const t={versions:[28],expectedLength:33};return u.encode(e,t)},t.encodeAccountPublic=function encodeAccountPublic(e){const t={versions:[35],expectedLength:33};return u.encode(e,t)},t.decodeAccountPublic=function decodeAccountPublic(e){const t={versions:[35],expectedLength:33};return u.decode(e,t).bytes},t.isValidClassicAddress=function isValidClassicAddress(e){try{decodeAccountID(e)}catch(e){return!1}return!0}},5636:(e,t,r)=>{var i=r(1048),n=i.Buffer;function copyProps(e,t){for(var r in e)t[r]=e[r]}function SafeBuffer(e,t,r){return n(e,t,r)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=i:(copyProps(i,t),t.Buffer=SafeBuffer),SafeBuffer.prototype=Object.create(n.prototype),copyProps(n,SafeBuffer),SafeBuffer.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return n(e,t,r)},SafeBuffer.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var i=n(e);return void 0!==t?"string"==typeof r?i.fill(t,r):i.fill(t):i.fill(0),i},SafeBuffer.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n(e)},SafeBuffer.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i.SlowBuffer(e)}},1565:(e,t,r)=>{const i=Symbol("SemVer ANY");class Comparator{static get ANY(){return i}constructor(e,t){if(t=n(t),e instanceof Comparator){if(e.loose===!!t.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),d("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===i?this.value="":this.value=this.operator+this.semver.version,d("comp",this)}parse(e){const t=this.options.loose?s[a.COMPARATORLOOSE]:s[a.COMPARATOR],r=e.match(t);if(!r)throw new TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==r[1]?r[1]:"","="===this.operator&&(this.operator=""),r[2]?this.semver=new u(r[2],this.options.loose):this.semver=i}toString(){return this.value}test(e){if(d("Comparator.test",e,this.options.loose),this.semver===i||e===i)return!0;if("string"==typeof e)try{e=new u(e,this.options)}catch(e){return!1}return o(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof Comparator))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new l(e.value,t).test(this.value):""===e.operator?""===e.value||new l(this.value,t).test(e.semver):(!(t=n(t)).includePrerelease||"<0.0.0-0"!==this.value&&"<0.0.0-0"!==e.value)&&(!(!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0")))&&(!(!this.operator.startsWith(">")||!e.operator.startsWith(">"))||(!(!this.operator.startsWith("<")||!e.operator.startsWith("<"))||(!(this.semver.version!==e.semver.version||!this.operator.includes("=")||!e.operator.includes("="))||(!!(o(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<"))||!!(o(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))))))}}e.exports=Comparator;const n=r(3990),{safeRe:s,t:a}=r(2841),o=r(4004),d=r(1361),u=r(4517),l=r(7476)},7476:(e,t,r)=>{class Range{constructor(e,t){if(t=n(t),e instanceof Range)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new Range(e.raw,t);if(e instanceof s)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map((e=>this.parseRange(e.trim()))).filter((e=>e.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter((e=>!isNullSet(e[0]))),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&isAny(e[0])){this.set=[e];break}}this.format()}format(){return this.range=this.set.map((e=>e.join(" ").trim())).join("||").trim(),this.range}toString(){return this.range}parseRange(e){const t=((this.options.includePrerelease&&h)|(this.options.loose&&y))+":"+e,r=i.get(t);if(r)return r;const n=this.options.loose,o=n?d[u.HYPHENRANGELOOSE]:d[u.HYPHENRANGE];e=e.replace(o,hyphenReplace(this.options.includePrerelease)),a("hyphen replace",e),e=e.replace(d[u.COMPARATORTRIM],l),a("comparator trim",e),e=e.replace(d[u.TILDETRIM],c),a("tilde trim",e),e=e.replace(d[u.CARETTRIM],p),a("caret trim",e);let g=e.split(" ").map((e=>parseComparator(e,this.options))).join(" ").split(/\s+/).map((e=>replaceGTE0(e,this.options)));n&&(g=g.filter((e=>(a("loose invalid filter",e,this.options),!!e.match(d[u.COMPARATORLOOSE]))))),a("range list",g);const m=new Map,b=g.map((e=>new s(e,this.options)));for(const e of b){if(isNullSet(e))return[e];m.set(e.value,e)}m.size>1&&m.has("")&&m.delete("");const v=[...m.values()];return i.set(t,v),v}intersects(e,t){if(!(e instanceof Range))throw new TypeError("a Range is required");return this.set.some((r=>isSatisfiable(r,t)&&e.set.some((e=>isSatisfiable(e,t)&&r.every((r=>e.every((e=>r.intersects(e,t)))))))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new o(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(testSet(this.set[t],e,this.options))return!0;return!1}}e.exports=Range;const i=new(r(3624))({max:1e3}),n=r(3990),s=r(1565),a=r(1361),o=r(4517),{safeRe:d,t:u,comparatorTrimReplace:l,tildeTrimReplace:c,caretTrimReplace:p}=r(2841),{FLAG_INCLUDE_PRERELEASE:h,FLAG_LOOSE:y}=r(9543),isNullSet=e=>"<0.0.0-0"===e.value,isAny=e=>""===e.value,isSatisfiable=(e,t)=>{let r=!0;const i=e.slice();let n=i.pop();for(;r&&i.length;)r=i.every((e=>n.intersects(e,t))),n=i.pop();return r},parseComparator=(e,t)=>(a("comp",e,t),e=replaceCarets(e,t),a("caret",e),e=replaceTildes(e,t),a("tildes",e),e=replaceXRanges(e,t),a("xrange",e),e=replaceStars(e,t),a("stars",e),e),isX=e=>!e||"x"===e.toLowerCase()||"*"===e,replaceTildes=(e,t)=>e.trim().split(/\s+/).map((e=>replaceTilde(e,t))).join(" "),replaceTilde=(e,t)=>{const r=t.loose?d[u.TILDELOOSE]:d[u.TILDE];return e.replace(r,((t,r,i,n,s)=>{let o;return a("tilde",e,t,r,i,n,s),isX(r)?o="":isX(i)?o=`>=${r}.0.0 <${+r+1}.0.0-0`:isX(n)?o=`>=${r}.${i}.0 <${r}.${+i+1}.0-0`:s?(a("replaceTilde pr",s),o=`>=${r}.${i}.${n}-${s} <${r}.${+i+1}.0-0`):o=`>=${r}.${i}.${n} <${r}.${+i+1}.0-0`,a("tilde return",o),o}))},replaceCarets=(e,t)=>e.trim().split(/\s+/).map((e=>replaceCaret(e,t))).join(" "),replaceCaret=(e,t)=>{a("caret",e,t);const r=t.loose?d[u.CARETLOOSE]:d[u.CARET],i=t.includePrerelease?"-0":"";return e.replace(r,((t,r,n,s,o)=>{let d;return a("caret",e,t,r,n,s,o),isX(r)?d="":isX(n)?d=`>=${r}.0.0${i} <${+r+1}.0.0-0`:isX(s)?d="0"===r?`>=${r}.${n}.0${i} <${r}.${+n+1}.0-0`:`>=${r}.${n}.0${i} <${+r+1}.0.0-0`:o?(a("replaceCaret pr",o),d="0"===r?"0"===n?`>=${r}.${n}.${s}-${o} <${r}.${n}.${+s+1}-0`:`>=${r}.${n}.${s}-${o} <${r}.${+n+1}.0-0`:`>=${r}.${n}.${s}-${o} <${+r+1}.0.0-0`):(a("no pr"),d="0"===r?"0"===n?`>=${r}.${n}.${s}${i} <${r}.${n}.${+s+1}-0`:`>=${r}.${n}.${s}${i} <${r}.${+n+1}.0-0`:`>=${r}.${n}.${s} <${+r+1}.0.0-0`),a("caret return",d),d}))},replaceXRanges=(e,t)=>(a("replaceXRanges",e,t),e.split(/\s+/).map((e=>replaceXRange(e,t))).join(" ")),replaceXRange=(e,t)=>{e=e.trim();const r=t.loose?d[u.XRANGELOOSE]:d[u.XRANGE];return e.replace(r,((r,i,n,s,o,d)=>{a("xRange",e,r,i,n,s,o,d);const u=isX(n),l=u||isX(s),c=l||isX(o),p=c;return"="===i&&p&&(i=""),d=t.includePrerelease?"-0":"",u?r=">"===i||"<"===i?"<0.0.0-0":"*":i&&p?(l&&(s=0),o=0,">"===i?(i=">=",l?(n=+n+1,s=0,o=0):(s=+s+1,o=0)):"<="===i&&(i="<",l?n=+n+1:s=+s+1),"<"===i&&(d="-0"),r=`${i+n}.${s}.${o}${d}`):l?r=`>=${n}.0.0${d} <${+n+1}.0.0-0`:c&&(r=`>=${n}.${s}.0${d} <${n}.${+s+1}.0-0`),a("xRange return",r),r}))},replaceStars=(e,t)=>(a("replaceStars",e,t),e.trim().replace(d[u.STAR],"")),replaceGTE0=(e,t)=>(a("replaceGTE0",e,t),e.trim().replace(d[t.includePrerelease?u.GTE0PRE:u.GTE0],"")),hyphenReplace=e=>(t,r,i,n,s,a,o,d,u,l,c,p,h)=>`${r=isX(i)?"":isX(n)?`>=${i}.0.0${e?"-0":""}`:isX(s)?`>=${i}.${n}.0${e?"-0":""}`:a?`>=${r}`:`>=${r}${e?"-0":""}`} ${d=isX(u)?"":isX(l)?`<${+u+1}.0.0-0`:isX(c)?`<${u}.${+l+1}.0-0`:p?`<=${u}.${l}.${c}-${p}`:e?`<${u}.${l}.${+c+1}-0`:`<=${d}`}`.trim(),testSet=(e,t,r)=>{for(let r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let r=0;r<e.length;r++)if(a(e[r].semver),e[r].semver!==s.ANY&&e[r].semver.prerelease.length>0){const i=e[r].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0}},4517:(e,t,r)=>{const i=r(1361),{MAX_LENGTH:n,MAX_SAFE_INTEGER:s}=r(9543),{safeRe:a,t:o}=r(2841),d=r(3990),{compareIdentifiers:u}=r(3806);class SemVer{constructor(e,t){if(t=d(t),e instanceof SemVer){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>n)throw new TypeError(`version is longer than ${n} characters`);i("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const r=e.trim().match(t.loose?a[o.LOOSE]:a[o.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>s||this.major<0)throw new TypeError("Invalid major version");if(this.minor>s||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>s||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<s)return t}return e})):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(i("SemVer.compare",this.version,this.options,e),!(e instanceof SemVer)){if("string"==typeof e&&e===this.version)return 0;e=new SemVer(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof SemVer||(e=new SemVer(e,this.options)),u(this.major,e.major)||u(this.minor,e.minor)||u(this.patch,e.patch)}comparePre(e){if(e instanceof SemVer||(e=new SemVer(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const r=this.prerelease[t],n=e.prerelease[t];if(i("prerelease compare",t,r,n),void 0===r&&void 0===n)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(r!==n)return u(r,n)}while(++t)}compareBuild(e){e instanceof SemVer||(e=new SemVer(e,this.options));let t=0;do{const r=this.build[t],n=e.build[t];if(i("prerelease compare",t,r,n),void 0===r&&void 0===n)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(r!==n)return u(r,n)}while(++t)}inc(e,t,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,r),this.inc("pre",t,r);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,r),this.inc("pre",t,r);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(r)?1:0;if(!t&&!1===r)throw new Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[e];else{let i=this.prerelease.length;for(;--i>=0;)"number"==typeof this.prerelease[i]&&(this.prerelease[i]++,i=-2);if(-1===i){if(t===this.prerelease.join(".")&&!1===r)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let i=[t,e];!1===r&&(i=[t]),0===u(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=i):this.prerelease=i}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}e.exports=SemVer},2281:(e,t,r)=>{const i=r(3955);e.exports=(e,t)=>{const r=i(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null}},4004:(e,t,r)=>{const i=r(8848),n=r(8220),s=r(9761),a=r(2386),o=r(1262),d=r(9639);e.exports=(e,t,r,u)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return i(e,r,u);case"!=":return n(e,r,u);case">":return s(e,r,u);case">=":return a(e,r,u);case"<":return o(e,r,u);case"<=":return d(e,r,u);default:throw new TypeError(`Invalid operator: ${t}`)}}},6783:(e,t,r)=>{const i=r(4517),n=r(3955),{safeRe:s,t:a}=r(2841);e.exports=(e,t)=>{if(e instanceof i)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let r=null;if((t=t||{}).rtl){const i=t.includePrerelease?s[a.COERCERTLFULL]:s[a.COERCERTL];let n;for(;(n=i.exec(e))&&(!r||r.index+r[0].length!==e.length);)r&&n.index+n[0].length===r.index+r[0].length||(r=n),i.lastIndex=n.index+n[1].length+n[2].length;i.lastIndex=-1}else r=e.match(t.includePrerelease?s[a.COERCEFULL]:s[a.COERCE]);if(null===r)return null;const o=r[2],d=r[3]||"0",u=r[4]||"0",l=t.includePrerelease&&r[5]?`-${r[5]}`:"",c=t.includePrerelease&&r[6]?`+${r[6]}`:"";return n(`${o}.${d}.${u}${l}${c}`,t)}},6106:(e,t,r)=>{const i=r(4517);e.exports=(e,t,r)=>{const n=new i(e,r),s=new i(t,r);return n.compare(s)||n.compareBuild(s)}},2132:(e,t,r)=>{const i=r(7851);e.exports=(e,t)=>i(e,t,!0)},7851:(e,t,r)=>{const i=r(4517);e.exports=(e,t,r)=>new i(e,r).compare(new i(t,r))},3269:(e,t,r)=>{const i=r(3955);e.exports=(e,t)=>{const r=i(e,null,!0),n=i(t,null,!0),s=r.compare(n);if(0===s)return null;const a=s>0,o=a?r:n,d=a?n:r,u=!!o.prerelease.length;if(!!d.prerelease.length&&!u)return d.patch||d.minor?o.patch?"patch":o.minor?"minor":"major":"major";const l=u?"pre":"";return r.major!==n.major?l+"major":r.minor!==n.minor?l+"minor":r.patch!==n.patch?l+"patch":"prerelease"}},8848:(e,t,r)=>{const i=r(7851);e.exports=(e,t,r)=>0===i(e,t,r)},9761:(e,t,r)=>{const i=r(7851);e.exports=(e,t,r)=>i(e,t,r)>0},2386:(e,t,r)=>{const i=r(7851);e.exports=(e,t,r)=>i(e,t,r)>=0},8868:(e,t,r)=>{const i=r(4517);e.exports=(e,t,r,n,s)=>{"string"==typeof r&&(s=n,n=r,r=void 0);try{return new i(e instanceof i?e.version:e,r).inc(t,n,s).version}catch(e){return null}}},1262:(e,t,r)=>{const i=r(7851);e.exports=(e,t,r)=>i(e,t,r)<0},9639:(e,t,r)=>{const i=r(7851);e.exports=(e,t,r)=>i(e,t,r)<=0},6381:(e,t,r)=>{const i=r(4517);e.exports=(e,t)=>new i(e,t).major},1353:(e,t,r)=>{const i=r(4517);e.exports=(e,t)=>new i(e,t).minor},8220:(e,t,r)=>{const i=r(7851);e.exports=(e,t,r)=>0!==i(e,t,r)},3955:(e,t,r)=>{const i=r(4517);e.exports=(e,t,r=!1)=>{if(e instanceof i)return e;try{return new i(e,t)}catch(e){if(!r)return null;throw e}}},6082:(e,t,r)=>{const i=r(4517);e.exports=(e,t)=>new i(e,t).patch},9428:(e,t,r)=>{const i=r(3955);e.exports=(e,t)=>{const r=i(e,t);return r&&r.prerelease.length?r.prerelease:null}},7555:(e,t,r)=>{const i=r(7851);e.exports=(e,t,r)=>i(t,e,r)},3810:(e,t,r)=>{const i=r(6106);e.exports=(e,t)=>e.sort(((e,r)=>i(r,e,t)))},7229:(e,t,r)=>{const i=r(7476);e.exports=(e,t,r)=>{try{t=new i(t,r)}catch(e){return!1}return t.test(e)}},4042:(e,t,r)=>{const i=r(6106);e.exports=(e,t)=>e.sort(((e,r)=>i(e,r,t)))},8474:(e,t,r)=>{const i=r(3955);e.exports=(e,t)=>{const r=i(e,t);return r?r.version:null}},2722:(e,t,r)=>{const i=r(2841),n=r(9543),s=r(4517),a=r(3806),o=r(3955),d=r(8474),u=r(2281),l=r(8868),c=r(3269),p=r(6381),h=r(1353),y=r(6082),g=r(9428),m=r(7851),b=r(7555),v=r(2132),_=r(6106),w=r(4042),E=r(3810),T=r(9761),A=r(1262),M=r(8848),O=r(8220),x=r(2386),k=r(9639),I=r(4004),C=r(6783),B=r(1565),N=r(7476),P=r(7229),D=r(6364),q=r(5039),L=r(5357),j=r(1280),F=r(7403),U=r(8854),z=r(7226),H=r(7183),G=r(8623),W=r(6486),V=r(583);e.exports={parse:o,valid:d,clean:u,inc:l,diff:c,major:p,minor:h,patch:y,prerelease:g,compare:m,rcompare:b,compareLoose:v,compareBuild:_,sort:w,rsort:E,gt:T,lt:A,eq:M,neq:O,gte:x,lte:k,cmp:I,coerce:C,Comparator:B,Range:N,satisfies:P,toComparators:D,maxSatisfying:q,minSatisfying:L,minVersion:j,validRange:F,outside:U,gtr:z,ltr:H,intersects:G,simplifyRange:W,subset:V,SemVer:s,re:i.re,src:i.src,tokens:i.t,SEMVER_SPEC_VERSION:n.SEMVER_SPEC_VERSION,RELEASE_TYPES:n.RELEASE_TYPES,compareIdentifiers:a.compareIdentifiers,rcompareIdentifiers:a.rcompareIdentifiers}},9543:e=>{const t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:t,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},1361:e=>{const t={ONEKEY_PROXY:void 0,NODE_ENV:"production",TAMAGUI_TARGET:"web"}.NODE_DEBUG&&/\bsemver\b/i.test({ONEKEY_PROXY:void 0,NODE_ENV:"production",TAMAGUI_TARGET:"web"}.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=t},3806:e=>{const t=/^[0-9]+$/,compareIdentifiers=(e,r)=>{const i=t.test(e),n=t.test(r);return i&&n&&(e=+e,r=+r),e===r?0:i&&!n?-1:n&&!i?1:e<r?-1:1};e.exports={compareIdentifiers,rcompareIdentifiers:(e,t)=>compareIdentifiers(t,e)}},3990:e=>{const t=Object.freeze({loose:!0}),r=Object.freeze({});e.exports=e=>e?"object"!=typeof e?t:e:r},2841:(e,t,r)=>{const{MAX_SAFE_COMPONENT_LENGTH:i,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:s}=r(9543),a=r(1361),o=(t=e.exports={}).re=[],d=t.safeRe=[],u=t.src=[],l=t.t={};let c=0;const p="[a-zA-Z0-9-]",h=[["\\s",1],["\\d",s],[p,n]],createToken=(e,t,r)=>{const i=(e=>{for(const[t,r]of h)e=e.split(`${t}*`).join(`${t}{0,${r}}`).split(`${t}+`).join(`${t}{1,${r}}`);return e})(t),n=c++;a(e,n,t),l[e]=n,u[n]=t,o[n]=new RegExp(t,r?"g":void 0),d[n]=new RegExp(i,r?"g":void 0)};createToken("NUMERICIDENTIFIER","0|[1-9]\\d*"),createToken("NUMERICIDENTIFIERLOOSE","\\d+"),createToken("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${p}*`),createToken("MAINVERSION",`(${u[l.NUMERICIDENTIFIER]})\\.(${u[l.NUMERICIDENTIFIER]})\\.(${u[l.NUMERICIDENTIFIER]})`),createToken("MAINVERSIONLOOSE",`(${u[l.NUMERICIDENTIFIERLOOSE]})\\.(${u[l.NUMERICIDENTIFIERLOOSE]})\\.(${u[l.NUMERICIDENTIFIERLOOSE]})`),createToken("PRERELEASEIDENTIFIER",`(?:${u[l.NUMERICIDENTIFIER]}|${u[l.NONNUMERICIDENTIFIER]})`),createToken("PRERELEASEIDENTIFIERLOOSE",`(?:${u[l.NUMERICIDENTIFIERLOOSE]}|${u[l.NONNUMERICIDENTIFIER]})`),createToken("PRERELEASE",`(?:-(${u[l.PRERELEASEIDENTIFIER]}(?:\\.${u[l.PRERELEASEIDENTIFIER]})*))`),createToken("PRERELEASELOOSE",`(?:-?(${u[l.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${u[l.PRERELEASEIDENTIFIERLOOSE]})*))`),createToken("BUILDIDENTIFIER",`${p}+`),createToken("BUILD",`(?:\\+(${u[l.BUILDIDENTIFIER]}(?:\\.${u[l.BUILDIDENTIFIER]})*))`),createToken("FULLPLAIN",`v?${u[l.MAINVERSION]}${u[l.PRERELEASE]}?${u[l.BUILD]}?`),createToken("FULL",`^${u[l.FULLPLAIN]}$`),createToken("LOOSEPLAIN",`[v=\\s]*${u[l.MAINVERSIONLOOSE]}${u[l.PRERELEASELOOSE]}?${u[l.BUILD]}?`),createToken("LOOSE",`^${u[l.LOOSEPLAIN]}$`),createToken("GTLT","((?:<|>)?=?)"),createToken("XRANGEIDENTIFIERLOOSE",`${u[l.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),createToken("XRANGEIDENTIFIER",`${u[l.NUMERICIDENTIFIER]}|x|X|\\*`),createToken("XRANGEPLAIN",`[v=\\s]*(${u[l.XRANGEIDENTIFIER]})(?:\\.(${u[l.XRANGEIDENTIFIER]})(?:\\.(${u[l.XRANGEIDENTIFIER]})(?:${u[l.PRERELEASE]})?${u[l.BUILD]}?)?)?`),createToken("XRANGEPLAINLOOSE",`[v=\\s]*(${u[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[l.XRANGEIDENTIFIERLOOSE]})(?:${u[l.PRERELEASELOOSE]})?${u[l.BUILD]}?)?)?`),createToken("XRANGE",`^${u[l.GTLT]}\\s*${u[l.XRANGEPLAIN]}$`),createToken("XRANGELOOSE",`^${u[l.GTLT]}\\s*${u[l.XRANGEPLAINLOOSE]}$`),createToken("COERCEPLAIN",`(^|[^\\d])(\\d{1,${i}})(?:\\.(\\d{1,${i}}))?(?:\\.(\\d{1,${i}}))?`),createToken("COERCE",`${u[l.COERCEPLAIN]}(?:$|[^\\d])`),createToken("COERCEFULL",u[l.COERCEPLAIN]+`(?:${u[l.PRERELEASE]})?`+`(?:${u[l.BUILD]})?(?:$|[^\\d])`),createToken("COERCERTL",u[l.COERCE],!0),createToken("COERCERTLFULL",u[l.COERCEFULL],!0),createToken("LONETILDE","(?:~>?)"),createToken("TILDETRIM",`(\\s*)${u[l.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",createToken("TILDE",`^${u[l.LONETILDE]}${u[l.XRANGEPLAIN]}$`),createToken("TILDELOOSE",`^${u[l.LONETILDE]}${u[l.XRANGEPLAINLOOSE]}$`),createToken("LONECARET","(?:\\^)"),createToken("CARETTRIM",`(\\s*)${u[l.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",createToken("CARET",`^${u[l.LONECARET]}${u[l.XRANGEPLAIN]}$`),createToken("CARETLOOSE",`^${u[l.LONECARET]}${u[l.XRANGEPLAINLOOSE]}$`),createToken("COMPARATORLOOSE",`^${u[l.GTLT]}\\s*(${u[l.LOOSEPLAIN]})$|^$`),createToken("COMPARATOR",`^${u[l.GTLT]}\\s*(${u[l.FULLPLAIN]})$|^$`),createToken("COMPARATORTRIM",`(\\s*)${u[l.GTLT]}\\s*(${u[l.LOOSEPLAIN]}|${u[l.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",createToken("HYPHENRANGE",`^\\s*(${u[l.XRANGEPLAIN]})\\s+-\\s+(${u[l.XRANGEPLAIN]})\\s*$`),createToken("HYPHENRANGELOOSE",`^\\s*(${u[l.XRANGEPLAINLOOSE]})\\s+-\\s+(${u[l.XRANGEPLAINLOOSE]})\\s*$`),createToken("STAR","(<|>)?=?\\s*\\*"),createToken("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),createToken("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},7226:(e,t,r)=>{const i=r(8854);e.exports=(e,t,r)=>i(e,t,">",r)},8623:(e,t,r)=>{const i=r(7476);e.exports=(e,t,r)=>(e=new i(e,r),t=new i(t,r),e.intersects(t,r))},7183:(e,t,r)=>{const i=r(8854);e.exports=(e,t,r)=>i(e,t,"<",r)},5039:(e,t,r)=>{const i=r(4517),n=r(7476);e.exports=(e,t,r)=>{let s=null,a=null,o=null;try{o=new n(t,r)}catch(e){return null}return e.forEach((e=>{o.test(e)&&(s&&-1!==a.compare(e)||(s=e,a=new i(s,r)))})),s}},5357:(e,t,r)=>{const i=r(4517),n=r(7476);e.exports=(e,t,r)=>{let s=null,a=null,o=null;try{o=new n(t,r)}catch(e){return null}return e.forEach((e=>{o.test(e)&&(s&&1!==a.compare(e)||(s=e,a=new i(s,r)))})),s}},1280:(e,t,r)=>{const i=r(4517),n=r(7476),s=r(9761);e.exports=(e,t)=>{e=new n(e,t);let r=new i("0.0.0");if(e.test(r))return r;if(r=new i("0.0.0-0"),e.test(r))return r;r=null;for(let t=0;t<e.set.length;++t){const n=e.set[t];let a=null;n.forEach((e=>{const t=new i(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":a&&!s(t,a)||(a=t);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${e.operator}`)}})),!a||r&&!s(r,a)||(r=a)}return r&&e.test(r)?r:null}},8854:(e,t,r)=>{const i=r(4517),n=r(1565),{ANY:s}=n,a=r(7476),o=r(7229),d=r(9761),u=r(1262),l=r(9639),c=r(2386);e.exports=(e,t,r,p)=>{let h,y,g,m,b;switch(e=new i(e,p),t=new a(t,p),r){case">":h=d,y=l,g=u,m=">",b=">=";break;case"<":h=u,y=c,g=d,m="<",b="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(o(e,t,p))return!1;for(let r=0;r<t.set.length;++r){const i=t.set[r];let a=null,o=null;if(i.forEach((e=>{e.semver===s&&(e=new n(">=0.0.0")),a=a||e,o=o||e,h(e.semver,a.semver,p)?a=e:g(e.semver,o.semver,p)&&(o=e)})),a.operator===m||a.operator===b)return!1;if((!o.operator||o.operator===m)&&y(e,o.semver))return!1;if(o.operator===b&&g(e,o.semver))return!1}return!0}},6486:(e,t,r)=>{const i=r(7229),n=r(7851);e.exports=(e,t,r)=>{const s=[];let a=null,o=null;const d=e.sort(((e,t)=>n(e,t,r)));for(const e of d){i(e,t,r)?(o=e,a||(a=e)):(o&&s.push([a,o]),o=null,a=null)}a&&s.push([a,null]);const u=[];for(const[e,t]of s)e===t?u.push(e):t||e!==d[0]?t?e===d[0]?u.push(`<=${t}`):u.push(`${e} - ${t}`):u.push(`>=${e}`):u.push("*");const l=u.join(" || "),c="string"==typeof t.raw?t.raw:String(t);return l.length<c.length?l:t}},583:(e,t,r)=>{const i=r(7476),n=r(1565),{ANY:s}=n,a=r(7229),o=r(7851),d=[new n(">=0.0.0-0")],u=[new n(">=0.0.0")],simpleSubset=(e,t,r)=>{if(e===t)return!0;if(1===e.length&&e[0].semver===s){if(1===t.length&&t[0].semver===s)return!0;e=r.includePrerelease?d:u}if(1===t.length&&t[0].semver===s){if(r.includePrerelease)return!0;t=u}const i=new Set;let n,l,c,p,h,y,g;for(const t of e)">"===t.operator||">="===t.operator?n=higherGT(n,t,r):"<"===t.operator||"<="===t.operator?l=lowerLT(l,t,r):i.add(t.semver);if(i.size>1)return null;if(n&&l){if(c=o(n.semver,l.semver,r),c>0)return null;if(0===c&&(">="!==n.operator||"<="!==l.operator))return null}for(const e of i){if(n&&!a(e,String(n),r))return null;if(l&&!a(e,String(l),r))return null;for(const i of t)if(!a(e,String(i),r))return!1;return!0}let m=!(!l||r.includePrerelease||!l.semver.prerelease.length)&&l.semver,b=!(!n||r.includePrerelease||!n.semver.prerelease.length)&&n.semver;m&&1===m.prerelease.length&&"<"===l.operator&&0===m.prerelease[0]&&(m=!1);for(const e of t){if(g=g||">"===e.operator||">="===e.operator,y=y||"<"===e.operator||"<="===e.operator,n)if(b&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===b.major&&e.semver.minor===b.minor&&e.semver.patch===b.patch&&(b=!1),">"===e.operator||">="===e.operator){if(p=higherGT(n,e,r),p===e&&p!==n)return!1}else if(">="===n.operator&&!a(n.semver,String(e),r))return!1;if(l)if(m&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===m.major&&e.semver.minor===m.minor&&e.semver.patch===m.patch&&(m=!1),"<"===e.operator||"<="===e.operator){if(h=lowerLT(l,e,r),h===e&&h!==l)return!1}else if("<="===l.operator&&!a(l.semver,String(e),r))return!1;if(!e.operator&&(l||n)&&0!==c)return!1}return!(n&&y&&!l&&0!==c)&&(!(l&&g&&!n&&0!==c)&&(!b&&!m))},higherGT=(e,t,r)=>{if(!e)return t;const i=o(e.semver,t.semver,r);return i>0?e:i<0||">"===t.operator&&">="===e.operator?t:e},lowerLT=(e,t,r)=>{if(!e)return t;const i=o(e.semver,t.semver,r);return i<0?e:i>0||"<"===t.operator&&"<="===e.operator?t:e};e.exports=(e,t,r={})=>{if(e===t)return!0;e=new i(e,r),t=new i(t,r);let n=!1;e:for(const i of e.set){for(const e of t.set){const t=simpleSubset(i,e,r);if(n=n||null!==t,t)continue e}if(n)return!1}return!0}},6364:(e,t,r)=>{const i=r(7476);e.exports=(e,t)=>new i(e,t).set.map((e=>e.map((e=>e.value)).join(" ").trim().split(" ")))},7403:(e,t,r)=>{const i=r(7476);e.exports=(e,t)=>{try{return new i(e,t).range||"*"}catch(e){return null}}},6108:(e,t,r)=>{"use strict";var i=r(528),n=r(686),s=r(7239)(),a=r(9336),o=i("%TypeError%"),d=i("%Math.floor%");e.exports=function setFunctionLength(e,t){if("function"!=typeof e)throw new o("`fn` is not a function");if("number"!=typeof t||t<0||t>4294967295||d(t)!==t)throw new o("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],i=!0,u=!0;if("length"in e&&a){var l=a(e,"length");l&&!l.configurable&&(i=!1),l&&!l.writable&&(u=!1)}return(i||u||!r)&&(s?n(e,"length",t,!0,!0):n(e,"length",t)),e}},766:function(e,t,r){!function(e,t){"use strict";if(!e.setImmediate){var r,i=1,n={},s=!1,a=e.document,o=Object.getPrototypeOf&&Object.getPrototypeOf(e);o=o&&o.setTimeout?o:e,"[object process]"==={}.toString.call(e.process)?function installNextTickImplementation(){r=function(e){({env:{ONEKEY_PROXY:t,NODE_ENV:"production",TAMAGUI_TARGET:"web"}}).nextTick((function(){runIfPresent(e)}))}}():!function canUsePostMessage(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?e.MessageChannel?function installMessageChannelImplementation(){var e=new MessageChannel;e.port1.onmessage=function(e){runIfPresent(e.data)},r=function(t){e.port2.postMessage(t)}}():a&&"onreadystatechange"in a.createElement("script")?function installReadyStateChangeImplementation(){var e=a.documentElement;r=function(t){var r=a.createElement("script");r.onreadystatechange=function(){runIfPresent(t),r.onreadystatechange=null,e.removeChild(r),r=null},e.appendChild(r)}}():function installSetTimeoutImplementation(){r=function(e){setTimeout(runIfPresent,0,e)}}():function installPostMessageImplementation(){var t="setImmediate$"+Math.random()+"$",onGlobalMessage=function(r){r.source===e&&"string"==typeof r.data&&0===r.data.indexOf(t)&&runIfPresent(+r.data.slice(t.length))};e.addEventListener?e.addEventListener("message",onGlobalMessage,!1):e.attachEvent("onmessage",onGlobalMessage),r=function(r){e.postMessage(t+r,"*")}}(),o.setImmediate=function setImmediate(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),s=0;s<t.length;s++)t[s]=arguments[s+1];var a={callback:e,args:t};return n[i]=a,r(i),i++},o.clearImmediate=clearImmediate}function clearImmediate(e){delete n[e]}function runIfPresent(e){if(s)setTimeout(runIfPresent,0,e);else{var r=n[e];if(r){s=!0;try{!function run(e){var r=e.callback,i=e.args;switch(i.length){case 0:r();break;case 1:r(i[0]);break;case 2:r(i[0],i[1]);break;case 3:r(i[0],i[1],i[2]);break;default:r.apply(t,i)}}(r)}finally{clearImmediate(e),s=!1}}}}}("undefined"==typeof self?void 0===r.g?this:r.g:self)},1229:(e,t,r)=>{var i=r(5636).Buffer;function Hash(e,t){this._block=i.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}Hash.prototype.update=function(e,t){"string"==typeof e&&(t=t||"utf8",e=i.from(e,t));for(var r=this._block,n=this._blockSize,s=e.length,a=this._len,o=0;o<s;){for(var d=a%n,u=Math.min(s-o,n-d),l=0;l<u;l++)r[d+l]=e[o+l];o+=u,(a+=u)%n==0&&this._update(r)}return this._len+=s,this},Hash.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=8*this._len;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var i=(4294967295&r)>>>0,n=(r-i)/4294967296;this._block.writeUInt32BE(n,this._blockSize-8),this._block.writeUInt32BE(i,this._blockSize-4)}this._update(this._block);var s=this._hash();return e?s.toString(e):s},Hash.prototype._update=function(){throw new Error("_update must be implemented by subclass")},e.exports=Hash},3229:(e,t,r)=>{var i=e.exports=function SHA(e){e=e.toLowerCase();var t=i[e];if(!t)throw new Error(e+" is not supported (we accept pull requests)");return new t};i.sha=r(3675),i.sha1=r(8980),i.sha224=r(947),i.sha256=r(2826),i.sha384=r(9922),i.sha512=r(3699)},3675:(e,t,r)=>{var i=r(5615),n=r(1229),s=r(5636).Buffer,a=[1518500249,1859775393,-1894007588,-899497514],o=new Array(80);function Sha(){this.init(),this._w=o,n.call(this,64,56)}function rotl30(e){return e<<30|e>>>2}function ft(e,t,r,i){return 0===e?t&r|~t&i:2===e?t&r|t&i|r&i:t^r^i}i(Sha,n),Sha.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},Sha.prototype._update=function(e){for(var t,r=this._w,i=0|this._a,n=0|this._b,s=0|this._c,o=0|this._d,d=0|this._e,u=0;u<16;++u)r[u]=e.readInt32BE(4*u);for(;u<80;++u)r[u]=r[u-3]^r[u-8]^r[u-14]^r[u-16];for(var l=0;l<80;++l){var c=~~(l/20),p=0|((t=i)<<5|t>>>27)+ft(c,n,s,o)+d+r[l]+a[c];d=o,o=s,s=rotl30(n),n=i,i=p}this._a=i+this._a|0,this._b=n+this._b|0,this._c=s+this._c|0,this._d=o+this._d|0,this._e=d+this._e|0},Sha.prototype._hash=function(){var e=s.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=Sha},8980:(e,t,r)=>{var i=r(5615),n=r(1229),s=r(5636).Buffer,a=[1518500249,1859775393,-1894007588,-899497514],o=new Array(80);function Sha1(){this.init(),this._w=o,n.call(this,64,56)}function rotl5(e){return e<<5|e>>>27}function rotl30(e){return e<<30|e>>>2}function ft(e,t,r,i){return 0===e?t&r|~t&i:2===e?t&r|t&i|r&i:t^r^i}i(Sha1,n),Sha1.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},Sha1.prototype._update=function(e){for(var t,r=this._w,i=0|this._a,n=0|this._b,s=0|this._c,o=0|this._d,d=0|this._e,u=0;u<16;++u)r[u]=e.readInt32BE(4*u);for(;u<80;++u)r[u]=(t=r[u-3]^r[u-8]^r[u-14]^r[u-16])<<1|t>>>31;for(var l=0;l<80;++l){var c=~~(l/20),p=rotl5(i)+ft(c,n,s,o)+d+r[l]+a[c]|0;d=o,o=s,s=rotl30(n),n=i,i=p}this._a=i+this._a|0,this._b=n+this._b|0,this._c=s+this._c|0,this._d=o+this._d|0,this._e=d+this._e|0},Sha1.prototype._hash=function(){var e=s.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=Sha1},947:(e,t,r)=>{var i=r(5615),n=r(2826),s=r(1229),a=r(5636).Buffer,o=new Array(64);function Sha224(){this.init(),this._w=o,s.call(this,64,56)}i(Sha224,n),Sha224.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},Sha224.prototype._hash=function(){var e=a.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e},e.exports=Sha224},2826:(e,t,r)=>{var i=r(5615),n=r(1229),s=r(5636).Buffer,a=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],o=new Array(64);function Sha256(){this.init(),this._w=o,n.call(this,64,56)}function ch(e,t,r){return r^e&(t^r)}function maj(e,t,r){return e&t|r&(e|t)}function sigma0(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function sigma1(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function gamma0(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}i(Sha256,n),Sha256.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},Sha256.prototype._update=function(e){for(var t,r=this._w,i=0|this._a,n=0|this._b,s=0|this._c,o=0|this._d,d=0|this._e,u=0|this._f,l=0|this._g,c=0|this._h,p=0;p<16;++p)r[p]=e.readInt32BE(4*p);for(;p<64;++p)r[p]=0|(((t=r[p-2])>>>17|t<<15)^(t>>>19|t<<13)^t>>>10)+r[p-7]+gamma0(r[p-15])+r[p-16];for(var h=0;h<64;++h){var y=c+sigma1(d)+ch(d,u,l)+a[h]+r[h]|0,g=sigma0(i)+maj(i,n,s)|0;c=l,l=u,u=d,d=o+y|0,o=s,s=n,n=i,i=y+g|0}this._a=i+this._a|0,this._b=n+this._b|0,this._c=s+this._c|0,this._d=o+this._d|0,this._e=d+this._e|0,this._f=u+this._f|0,this._g=l+this._g|0,this._h=c+this._h|0},Sha256.prototype._hash=function(){var e=s.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},e.exports=Sha256},9922:(e,t,r)=>{var i=r(5615),n=r(3699),s=r(1229),a=r(5636).Buffer,o=new Array(160);function Sha384(){this.init(),this._w=o,s.call(this,128,112)}i(Sha384,n),Sha384.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},Sha384.prototype._hash=function(){var e=a.allocUnsafe(48);function writeInt64BE(t,r,i){e.writeInt32BE(t,i),e.writeInt32BE(r,i+4)}return writeInt64BE(this._ah,this._al,0),writeInt64BE(this._bh,this._bl,8),writeInt64BE(this._ch,this._cl,16),writeInt64BE(this._dh,this._dl,24),writeInt64BE(this._eh,this._el,32),writeInt64BE(this._fh,this._fl,40),e},e.exports=Sha384},3699:(e,t,r)=>{var i=r(5615),n=r(1229),s=r(5636).Buffer,a=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],o=new Array(160);function Sha512(){this.init(),this._w=o,n.call(this,128,112)}function Ch(e,t,r){return r^e&(t^r)}function maj(e,t,r){return e&t|r&(e|t)}function sigma0(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function sigma1(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function Gamma0(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function Gamma0l(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function Gamma1(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function Gamma1l(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function getCarry(e,t){return e>>>0<t>>>0?1:0}i(Sha512,n),Sha512.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},Sha512.prototype._update=function(e){for(var t=this._w,r=0|this._ah,i=0|this._bh,n=0|this._ch,s=0|this._dh,o=0|this._eh,d=0|this._fh,u=0|this._gh,l=0|this._hh,c=0|this._al,p=0|this._bl,h=0|this._cl,y=0|this._dl,g=0|this._el,m=0|this._fl,b=0|this._gl,v=0|this._hl,_=0;_<32;_+=2)t[_]=e.readInt32BE(4*_),t[_+1]=e.readInt32BE(4*_+4);for(;_<160;_+=2){var w=t[_-30],E=t[_-30+1],T=Gamma0(w,E),A=Gamma0l(E,w),M=Gamma1(w=t[_-4],E=t[_-4+1]),O=Gamma1l(E,w),x=t[_-14],k=t[_-14+1],I=t[_-32],C=t[_-32+1],B=A+k|0,N=T+x+getCarry(B,A)|0;N=(N=N+M+getCarry(B=B+O|0,O)|0)+I+getCarry(B=B+C|0,C)|0,t[_]=N,t[_+1]=B}for(var P=0;P<160;P+=2){N=t[P],B=t[P+1];var D=maj(r,i,n),q=maj(c,p,h),L=sigma0(r,c),j=sigma0(c,r),F=sigma1(o,g),U=sigma1(g,o),z=a[P],H=a[P+1],G=Ch(o,d,u),W=Ch(g,m,b),V=v+U|0,$=l+F+getCarry(V,v)|0;$=($=($=$+G+getCarry(V=V+W|0,W)|0)+z+getCarry(V=V+H|0,H)|0)+N+getCarry(V=V+B|0,B)|0;var Y=j+q|0,X=L+D+getCarry(Y,j)|0;l=u,v=b,u=d,b=m,d=o,m=g,o=s+$+getCarry(g=y+V|0,y)|0,s=n,y=h,n=i,h=p,i=r,p=c,r=$+X+getCarry(c=V+Y|0,V)|0}this._al=this._al+c|0,this._bl=this._bl+p|0,this._cl=this._cl+h|0,this._dl=this._dl+y|0,this._el=this._el+g|0,this._fl=this._fl+m|0,this._gl=this._gl+b|0,this._hl=this._hl+v|0,this._ah=this._ah+r+getCarry(this._al,c)|0,this._bh=this._bh+i+getCarry(this._bl,p)|0,this._ch=this._ch+n+getCarry(this._cl,h)|0,this._dh=this._dh+s+getCarry(this._dl,y)|0,this._eh=this._eh+o+getCarry(this._el,g)|0,this._fh=this._fh+d+getCarry(this._fl,m)|0,this._gh=this._gh+u+getCarry(this._gl,b)|0,this._hh=this._hh+l+getCarry(this._hl,v)|0},Sha512.prototype._hash=function(){var e=s.allocUnsafe(64);function writeInt64BE(t,r,i){e.writeInt32BE(t,i),e.writeInt32BE(r,i+4)}return writeInt64BE(this._ah,this._al,0),writeInt64BE(this._bh,this._bl,8),writeInt64BE(this._ch,this._cl,16),writeInt64BE(this._dh,this._dl,24),writeInt64BE(this._eh,this._el,32),writeInt64BE(this._fh,this._fl,40),writeInt64BE(this._gh,this._gl,48),writeInt64BE(this._hh,this._hl,56),e},e.exports=Sha512},1983:(e,t,r)=>{e.exports=Stream;var i=r(46).EventEmitter;function Stream(){i.call(this)}r(5615)(Stream,i),Stream.Readable=r(8199),Stream.Writable=r(5291),Stream.Duplex=r(1265),Stream.Transform=r(9415),Stream.PassThrough=r(4421),Stream.finished=r(4869),Stream.pipeline=r(6815),Stream.Stream=Stream,Stream.prototype.pipe=function(e,t){var r=this;function ondata(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function ondrain(){r.readable&&r.resume&&r.resume()}r.on("data",ondata),e.on("drain",ondrain),e._isStdio||t&&!1===t.end||(r.on("end",onend),r.on("close",onclose));var n=!1;function onend(){n||(n=!0,e.end())}function onclose(){n||(n=!0,"function"==typeof e.destroy&&e.destroy())}function onerror(e){if(cleanup(),0===i.listenerCount(this,"error"))throw e}function cleanup(){r.removeListener("data",ondata),e.removeListener("drain",ondrain),r.removeListener("end",onend),r.removeListener("close",onclose),r.removeListener("error",onerror),e.removeListener("error",onerror),r.removeListener("end",cleanup),r.removeListener("close",cleanup),e.removeListener("close",cleanup)}return r.on("error",onerror),e.on("error",onerror),r.on("end",cleanup),r.on("close",cleanup),e.on("close",cleanup),e.emit("pipe",r),e}},6296:(e,t,r)=>{var i=r(1048).Buffer,n=i.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};var s=t.I=function(e){switch(this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,""),function assertEncoding(e){if(e&&!n(e))throw new Error("Unknown encoding: "+e)}(e),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=utf16DetectIncompleteChar;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=base64DetectIncompleteChar;break;default:return void(this.write=passThroughWrite)}this.charBuffer=new i(6),this.charReceived=0,this.charLength=0};function passThroughWrite(e){return e.toString(this.encoding)}function utf16DetectIncompleteChar(e){this.charReceived=e.length%2,this.charLength=this.charReceived?2:0}function base64DetectIncompleteChar(e){this.charReceived=e.length%3,this.charLength=this.charReceived?3:0}s.prototype.write=function(e){for(var t="";this.charLength;){var r=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,0,r),this.charReceived+=r,this.charReceived<this.charLength)return"";if(e=e.slice(r,e.length),!((n=(t=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(t.length-1))>=55296&&n<=56319)){if(this.charReceived=this.charLength=0,0===e.length)return t;break}this.charLength+=this.surrogateSize,t=""}this.detectIncompleteChar(e);var i=e.length;this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,i),i-=this.charReceived);var n;i=(t+=e.toString(this.encoding,0,i)).length-1;if((n=t.charCodeAt(i))>=55296&&n<=56319){var s=this.surrogateSize;return this.charLength+=s,this.charReceived+=s,this.charBuffer.copy(this.charBuffer,s,0,s),e.copy(this.charBuffer,0,0,s),t.substring(0,i)}return t},s.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var r=e[e.length-t];if(1==t&&r>>5==6){this.charLength=2;break}if(t<=2&&r>>4==14){this.charLength=3;break}if(t<=3&&r>>3==30){this.charLength=4;break}}this.charReceived=t},s.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var r=this.charReceived,i=this.charBuffer,n=this.encoding;t+=i.slice(0,r).toString(n)}return t}},6732:(e,t,r)=>{function config(e){try{if(!r.g.localStorage)return!1}catch(e){return!1}var t=r.g.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}e.exports=function deprecate(e,t){if(config("noDeprecation"))return e;var r=!1;return function deprecated(){if(!r){if(config("throwDeprecation"))throw new Error(t);config("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}},5272:e=>{e.exports=function isBuffer(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},1531:(e,t,r)=>{"use strict";var i=r(5387),n=r(2625),s=r(2730),a=r(5943);function uncurryThis(e){return e.call.bind(e)}var o="undefined"!=typeof BigInt,d="undefined"!=typeof Symbol,u=uncurryThis(Object.prototype.toString),l=uncurryThis(Number.prototype.valueOf),c=uncurryThis(String.prototype.valueOf),p=uncurryThis(Boolean.prototype.valueOf);if(o)var h=uncurryThis(BigInt.prototype.valueOf);if(d)var y=uncurryThis(Symbol.prototype.valueOf);function checkBoxedPrimitive(e,t){if("object"!=typeof e)return!1;try{return t(e),!0}catch(e){return!1}}function isMapToString(e){return"[object Map]"===u(e)}function isSetToString(e){return"[object Set]"===u(e)}function isWeakMapToString(e){return"[object WeakMap]"===u(e)}function isWeakSetToString(e){return"[object WeakSet]"===u(e)}function isArrayBufferToString(e){return"[object ArrayBuffer]"===u(e)}function isArrayBuffer(e){return"undefined"!=typeof ArrayBuffer&&(isArrayBufferToString.working?isArrayBufferToString(e):e instanceof ArrayBuffer)}function isDataViewToString(e){return"[object DataView]"===u(e)}function isDataView(e){return"undefined"!=typeof DataView&&(isDataViewToString.working?isDataViewToString(e):e instanceof DataView)}t.isArgumentsObject=i,t.isGeneratorFunction=n,t.isTypedArray=a,t.isPromise=function isPromise(e){return"undefined"!=typeof Promise&&e instanceof Promise||null!==e&&"object"==typeof e&&"function"==typeof e.then&&"function"==typeof e.catch},t.isArrayBufferView=function isArrayBufferView(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):a(e)||isDataView(e)},t.isUint8Array=function isUint8Array(e){return"Uint8Array"===s(e)},t.isUint8ClampedArray=function isUint8ClampedArray(e){return"Uint8ClampedArray"===s(e)},t.isUint16Array=function isUint16Array(e){return"Uint16Array"===s(e)},t.isUint32Array=function isUint32Array(e){return"Uint32Array"===s(e)},t.isInt8Array=function isInt8Array(e){return"Int8Array"===s(e)},t.isInt16Array=function isInt16Array(e){return"Int16Array"===s(e)},t.isInt32Array=function isInt32Array(e){return"Int32Array"===s(e)},t.isFloat32Array=function isFloat32Array(e){return"Float32Array"===s(e)},t.isFloat64Array=function isFloat64Array(e){return"Float64Array"===s(e)},t.isBigInt64Array=function isBigInt64Array(e){return"BigInt64Array"===s(e)},t.isBigUint64Array=function isBigUint64Array(e){return"BigUint64Array"===s(e)},isMapToString.working="undefined"!=typeof Map&&isMapToString(new Map),t.isMap=function isMap(e){return"undefined"!=typeof Map&&(isMapToString.working?isMapToString(e):e instanceof Map)},isSetToString.working="undefined"!=typeof Set&&isSetToString(new Set),t.isSet=function isSet(e){return"undefined"!=typeof Set&&(isSetToString.working?isSetToString(e):e instanceof Set)},isWeakMapToString.working="undefined"!=typeof WeakMap&&isWeakMapToString(new WeakMap),t.isWeakMap=function isWeakMap(e){return"undefined"!=typeof WeakMap&&(isWeakMapToString.working?isWeakMapToString(e):e instanceof WeakMap)},isWeakSetToString.working="undefined"!=typeof WeakSet&&isWeakSetToString(new WeakSet),t.isWeakSet=function isWeakSet(e){return isWeakSetToString(e)},isArrayBufferToString.working="undefined"!=typeof ArrayBuffer&&isArrayBufferToString(new ArrayBuffer),t.isArrayBuffer=isArrayBuffer,isDataViewToString.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&isDataViewToString(new DataView(new ArrayBuffer(1),0,1)),t.isDataView=isDataView;var g="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function isSharedArrayBufferToString(e){return"[object SharedArrayBuffer]"===u(e)}function isSharedArrayBuffer(e){return void 0!==g&&(void 0===isSharedArrayBufferToString.working&&(isSharedArrayBufferToString.working=isSharedArrayBufferToString(new g)),isSharedArrayBufferToString.working?isSharedArrayBufferToString(e):e instanceof g)}function isNumberObject(e){return checkBoxedPrimitive(e,l)}function isStringObject(e){return checkBoxedPrimitive(e,c)}function isBooleanObject(e){return checkBoxedPrimitive(e,p)}function isBigIntObject(e){return o&&checkBoxedPrimitive(e,h)}function isSymbolObject(e){return d&&checkBoxedPrimitive(e,y)}t.isSharedArrayBuffer=isSharedArrayBuffer,t.isAsyncFunction=function isAsyncFunction(e){return"[object AsyncFunction]"===u(e)},t.isMapIterator=function isMapIterator(e){return"[object Map Iterator]"===u(e)},t.isSetIterator=function isSetIterator(e){return"[object Set Iterator]"===u(e)},t.isGeneratorObject=function isGeneratorObject(e){return"[object Generator]"===u(e)},t.isWebAssemblyCompiledModule=function isWebAssemblyCompiledModule(e){return"[object WebAssembly.Module]"===u(e)},t.isNumberObject=isNumberObject,t.isStringObject=isStringObject,t.isBooleanObject=isBooleanObject,t.isBigIntObject=isBigIntObject,t.isSymbolObject=isSymbolObject,t.isBoxedPrimitive=function isBoxedPrimitive(e){return isNumberObject(e)||isStringObject(e)||isBooleanObject(e)||isBigIntObject(e)||isSymbolObject(e)},t.isAnyArrayBuffer=function isAnyArrayBuffer(e){return"undefined"!=typeof Uint8Array&&(isArrayBuffer(e)||isSharedArrayBuffer(e))},["isProxy","isExternal","isModuleNamespaceObject"].forEach((function(e){Object.defineProperty(t,e,{enumerable:!1,value:function(){throw new Error(e+" is not supported in userland")}})}))},9208:(e,t,r)=>{var i=Object.getOwnPropertyDescriptors||function getOwnPropertyDescriptors(e){for(var t=Object.keys(e),r={},i=0;i<t.length;i++)r[t[i]]=Object.getOwnPropertyDescriptor(e,t[i]);return r},n=/%[sdj%]/g;t.format=function(e){if(!isString(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(inspect(arguments[r]));return t.join(" ")}r=1;for(var i=arguments,s=i.length,a=String(e).replace(n,(function(e){if("%%"===e)return"%";if(r>=s)return e;switch(e){case"%s":return String(i[r++]);case"%d":return Number(i[r++]);case"%j":try{return JSON.stringify(i[r++])}catch(e){return"[Circular]"}default:return e}})),o=i[r];r<s;o=i[++r])isNull(o)||!isObject(o)?a+=" "+o:a+=" "+inspect(o);return a},t.deprecate=function(e,t){if(!0==={env:{ONEKEY_PROXY:void 0,NODE_ENV:"production",TAMAGUI_TARGET:"web"}}.noDeprecation)return e;var r=!1;return function deprecated(){if(!r){if({env:{ONEKEY_PROXY:void 0,NODE_ENV:"production",TAMAGUI_TARGET:"web"}}.throwDeprecation)throw new Error(t);!{env:{ONEKEY_PROXY:void 0,NODE_ENV:"production",TAMAGUI_TARGET:"web"}}.traceDeprecation?console.error(t):console.trace(t),r=!0}return e.apply(this,arguments)}};var s={},a=/^$/;if({ONEKEY_PROXY:void 0,NODE_ENV:"production",TAMAGUI_TARGET:"web"}.NODE_DEBUG){var o={ONEKEY_PROXY:void 0,NODE_ENV:"production",TAMAGUI_TARGET:"web"}.NODE_DEBUG;o=o.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),a=new RegExp("^"+o+"$","i")}function inspect(e,r){var i={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(i.depth=arguments[2]),arguments.length>=4&&(i.colors=arguments[3]),isBoolean(r)?i.showHidden=r:r&&t._extend(i,r),isUndefined(i.showHidden)&&(i.showHidden=!1),isUndefined(i.depth)&&(i.depth=2),isUndefined(i.colors)&&(i.colors=!1),isUndefined(i.customInspect)&&(i.customInspect=!0),i.colors&&(i.stylize=stylizeWithColor),formatValue(i,e,i.depth)}function stylizeWithColor(e,t){var r=inspect.styles[t];return r?"["+inspect.colors[r][0]+"m"+e+"["+inspect.colors[r][1]+"m":e}function stylizeNoColor(e,t){return e}function formatValue(e,r,i){if(e.customInspect&&r&&isFunction(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var n=r.inspect(i,e);return isString(n)||(n=formatValue(e,n,i)),n}var s=function formatPrimitive(e,t){if(isUndefined(t))return e.stylize("undefined","undefined");if(isString(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(isNumber(t))return e.stylize(""+t,"number");if(isBoolean(t))return e.stylize(""+t,"boolean");if(isNull(t))return e.stylize("null","null")}(e,r);if(s)return s;var a=Object.keys(r),o=function arrayToHash(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(r)),isError(r)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return formatError(r);if(0===a.length){if(isFunction(r)){var d=r.name?": "+r.name:"";return e.stylize("[Function"+d+"]","special")}if(isRegExp(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(isDate(r))return e.stylize(Date.prototype.toString.call(r),"date");if(isError(r))return formatError(r)}var u,l="",c=!1,p=["{","}"];(isArray(r)&&(c=!0,p=["[","]"]),isFunction(r))&&(l=" [Function"+(r.name?": "+r.name:"")+"]");return isRegExp(r)&&(l=" "+RegExp.prototype.toString.call(r)),isDate(r)&&(l=" "+Date.prototype.toUTCString.call(r)),isError(r)&&(l=" "+formatError(r)),0!==a.length||c&&0!=r.length?i<0?isRegExp(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special"):(e.seen.push(r),u=c?function formatArray(e,t,r,i,n){for(var s=[],a=0,o=t.length;a<o;++a)hasOwnProperty(t,String(a))?s.push(formatProperty(e,t,r,i,String(a),!0)):s.push("");return n.forEach((function(n){n.match(/^\d+$/)||s.push(formatProperty(e,t,r,i,n,!0))})),s}(e,r,i,o,a):a.map((function(t){return formatProperty(e,r,i,o,t,c)})),e.seen.pop(),function reduceToSingleString(e,t,r){var i=e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0);if(i>60)return r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1];return r[0]+t+" "+e.join(", ")+" "+r[1]}(u,l,p)):p[0]+l+p[1]}function formatError(e){return"["+Error.prototype.toString.call(e)+"]"}function formatProperty(e,t,r,i,n,s){var a,o,d;if((d=Object.getOwnPropertyDescriptor(t,n)||{value:t[n]}).get?o=d.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):d.set&&(o=e.stylize("[Setter]","special")),hasOwnProperty(i,n)||(a="["+n+"]"),o||(e.seen.indexOf(d.value)<0?(o=isNull(r)?formatValue(e,d.value,null):formatValue(e,d.value,r-1)).indexOf("\n")>-1&&(o=s?o.split("\n").map((function(e){return"  "+e})).join("\n").slice(2):"\n"+o.split("\n").map((function(e){return"   "+e})).join("\n")):o=e.stylize("[Circular]","special")),isUndefined(a)){if(s&&n.match(/^\d+$/))return o;(a=JSON.stringify(""+n)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.slice(1,-1),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+o}function isArray(e){return Array.isArray(e)}function isBoolean(e){return"boolean"==typeof e}function isNull(e){return null===e}function isNumber(e){return"number"==typeof e}function isString(e){return"string"==typeof e}function isUndefined(e){return void 0===e}function isRegExp(e){return isObject(e)&&"[object RegExp]"===objectToString(e)}function isObject(e){return"object"==typeof e&&null!==e}function isDate(e){return isObject(e)&&"[object Date]"===objectToString(e)}function isError(e){return isObject(e)&&("[object Error]"===objectToString(e)||e instanceof Error)}function isFunction(e){return"function"==typeof e}function objectToString(e){return Object.prototype.toString.call(e)}function pad(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(e=e.toUpperCase(),!s[e])if(a.test(e)){var r={env:{ONEKEY_PROXY:void 0,NODE_ENV:"production",TAMAGUI_TARGET:"web"}}.pid;s[e]=function(){var i=t.format.apply(t,arguments);console.error("%s %d: %s",e,r,i)}}else s[e]=function(){};return s[e]},t.inspect=inspect,inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.types=r(1531),t.isArray=isArray,t.isBoolean=isBoolean,t.isNull=isNull,t.isNullOrUndefined=function isNullOrUndefined(e){return null==e},t.isNumber=isNumber,t.isString=isString,t.isSymbol=function isSymbol(e){return"symbol"==typeof e},t.isUndefined=isUndefined,t.isRegExp=isRegExp,t.types.isRegExp=isRegExp,t.isObject=isObject,t.isDate=isDate,t.types.isDate=isDate,t.isError=isError,t.types.isNativeError=isError,t.isFunction=isFunction,t.isPrimitive=function isPrimitive(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=r(5272);var d=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function hasOwnProperty(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",function timestamp(){var e=new Date,t=[pad(e.getHours()),pad(e.getMinutes()),pad(e.getSeconds())].join(":");return[e.getDate(),d[e.getMonth()],t].join(" ")}(),t.format.apply(t,arguments))},t.inherits=r(5615),t._extend=function(e,t){if(!t||!isObject(t))return e;for(var r=Object.keys(t),i=r.length;i--;)e[r[i]]=t[r[i]];return e};var u="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function callbackifyOnRejected(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}t.promisify=function promisify(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(u&&e[u]){var t;if("function"!=typeof(t=e[u]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,u,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,r,i=new Promise((function(e,i){t=e,r=i})),n=[],s=0;s<arguments.length;s++)n.push(arguments[s]);n.push((function(e,i){e?r(e):t(i)}));try{e.apply(this,n)}catch(e){r(e)}return i}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),u&&Object.defineProperty(t,u,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,i(e))},t.promisify.custom=u,t.callbackify=function callbackify(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function callbackified(){for(var t=[],r=0;r<arguments.length;r++)t.push(arguments[r]);var i=t.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var n=this,cb=function(){return i.apply(n,arguments)};e.apply(this,t).then((function(e){({env:{ONEKEY_PROXY:void 0,NODE_ENV:"production",TAMAGUI_TARGET:"web"}}).nextTick(cb.bind(null,null,e))}),(function(e){({env:{ONEKEY_PROXY:void 0,NODE_ENV:"production",TAMAGUI_TARGET:"web"}}).nextTick(callbackifyOnRejected.bind(null,e,cb))}))}return Object.setPrototypeOf(callbackified,Object.getPrototypeOf(e)),Object.defineProperties(callbackified,i(e)),callbackified}},2730:(e,t,r)=>{"use strict";var i=r(705),n=r(4834),s=r(8498),a=r(9818),o=r(9336),d=a("Object.prototype.toString"),u=r(1913)(),l="undefined"==typeof globalThis?r.g:globalThis,c=n(),p=a("String.prototype.slice"),h=Object.getPrototypeOf,y=a("Array.prototype.indexOf",!0)||function indexOf(e,t){for(var r=0;r<e.length;r+=1)if(e[r]===t)return r;return-1},g={__proto__:null};i(c,u&&o&&h?function(e){var t=new l[e];if(Symbol.toStringTag in t){var r=h(t),i=o(r,Symbol.toStringTag);if(!i){var n=h(r);i=o(n,Symbol.toStringTag)}g["$"+e]=s(i.get)}}:function(e){var t=new l[e],r=t.slice||t.set;r&&(g["$"+e]=s(r))});e.exports=function whichTypedArray(e){if(!e||"object"!=typeof e)return!1;if(!u){var t=p(d(e),8,-1);return y(c,t)>-1?t:"Object"===t&&function tryAllSlices(e){var t=!1;return i(g,(function(r,i){if(!t)try{r(e),t=p(i,1)}catch(e){}})),t}(e)}return o?function tryAllTypedArrays(e){var t=!1;return i(g,(function(r,i){if(!t)try{"$"+r(e)===i&&(t=p(i,1))}catch(e){}})),t}(e):null}},7047:e=>{"use strict";e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},222:(e,t,r)=>{"use strict";function Yallist(e){var t=this;if(t instanceof Yallist||(t=new Yallist),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var r=0,i=arguments.length;r<i;r++)t.push(arguments[r]);return t}function insert(e,t,r){var i=t===e.head?new Node(r,null,t,e):new Node(r,t,t.next,e);return null===i.next&&(e.tail=i),null===i.prev&&(e.head=i),e.length++,i}function push(e,t){e.tail=new Node(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function unshift(e,t){e.head=new Node(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function Node(e,t,r,i){if(!(this instanceof Node))return new Node(e,t,r,i);this.list=i,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}e.exports=Yallist,Yallist.Node=Node,Yallist.create=Yallist,Yallist.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t},Yallist.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},Yallist.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},Yallist.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)push(this,arguments[e]);return this.length},Yallist.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)unshift(this,arguments[e]);return this.length},Yallist.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},Yallist.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},Yallist.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,i=0;null!==r;i++)e.call(t,r.value,i,this),r=r.next},Yallist.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,i=this.length-1;null!==r;i--)e.call(t,r.value,i,this),r=r.prev},Yallist.prototype.get=function(e){for(var t=0,r=this.head;null!==r&&t<e;t++)r=r.next;if(t===e&&null!==r)return r.value},Yallist.prototype.getReverse=function(e){for(var t=0,r=this.tail;null!==r&&t<e;t++)r=r.prev;if(t===e&&null!==r)return r.value},Yallist.prototype.map=function(e,t){t=t||this;for(var r=new Yallist,i=this.head;null!==i;)r.push(e.call(t,i.value,this)),i=i.next;return r},Yallist.prototype.mapReverse=function(e,t){t=t||this;for(var r=new Yallist,i=this.tail;null!==i;)r.push(e.call(t,i.value,this)),i=i.prev;return r},Yallist.prototype.reduce=function(e,t){var r,i=this.head;if(arguments.length>1)r=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");i=this.head.next,r=this.head.value}for(var n=0;null!==i;n++)r=e(r,i.value,n),i=i.next;return r},Yallist.prototype.reduceReverse=function(e,t){var r,i=this.tail;if(arguments.length>1)r=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");i=this.tail.prev,r=this.tail.value}for(var n=this.length-1;null!==i;n--)r=e(r,i.value,n),i=i.prev;return r},Yallist.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;null!==r;t++)e[t]=r.value,r=r.next;return e},Yallist.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;null!==r;t++)e[t]=r.value,r=r.prev;return e},Yallist.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new Yallist;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=0,n=this.head;null!==n&&i<e;i++)n=n.next;for(;null!==n&&i<t;i++,n=n.next)r.push(n.value);return r},Yallist.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new Yallist;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=this.length,n=this.tail;null!==n&&i>t;i--)n=n.prev;for(;null!==n&&i>e;i--,n=n.prev)r.push(n.value);return r},Yallist.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var i=0,n=this.head;null!==n&&i<e;i++)n=n.next;var s=[];for(i=0;n&&i<t;i++)s.push(n.value),n=this.removeNode(n);null===n&&(n=this.tail),n!==this.head&&n!==this.tail&&(n=n.prev);for(i=0;i<r.length;i++)n=insert(this,n,r[i]);return s},Yallist.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;null!==r;r=r.prev){var i=r.prev;r.prev=r.next,r.next=i}return this.head=t,this.tail=e,this};try{r(7047)(Yallist)}catch(e){}},1629:(e,t)=>{"use strict";function number(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function bool(e){if("boolean"!=typeof e)throw new Error(`Expected boolean, not ${e}`)}function bytes(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function hash(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");number(e.outputLen),number(e.blockLen)}function exists(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function output(e,t){bytes(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}Object.defineProperty(t,"__esModule",{value:!0}),t.output=t.exists=t.hash=t.bytes=t.bool=t.number=void 0,t.number=number,t.bool=bool,t.bytes=bytes,t.hash=hash,t.exists=exists,t.output=output;const r={number,bool,bytes,hash,exists,output};t.default=r},3070:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BLAKE2=t.SIGMA=void 0;const i=r(1629),n=r(3599);t.SIGMA=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3]);class BLAKE2 extends n.Hash{constructor(e,t,r={},s,a,o){if(super(),this.blockLen=e,this.outputLen=t,this.length=0,this.pos=0,this.finished=!1,this.destroyed=!1,(0,i.number)(e),(0,i.number)(t),(0,i.number)(s),t<0||t>s)throw new Error("outputLen bigger than keyLen");if(void 0!==r.key&&(r.key.length<1||r.key.length>s))throw new Error(`key must be up 1..${s} byte long or undefined`);if(void 0!==r.salt&&r.salt.length!==a)throw new Error(`salt must be ${a} byte long or undefined`);if(void 0!==r.personalization&&r.personalization.length!==o)throw new Error(`personalization must be ${o} byte long or undefined`);this.buffer32=(0,n.u32)(this.buffer=new Uint8Array(e))}update(e){(0,i.exists)(this);const{blockLen:t,buffer:r,buffer32:s}=this,a=(e=(0,n.toBytes)(e)).length,o=e.byteOffset,d=e.buffer;for(let i=0;i<a;){this.pos===t&&(this.compress(s,0,!1),this.pos=0);const n=Math.min(t-this.pos,a-i),u=o+i;if(n!==t||u%4||!(i+n<a))r.set(e.subarray(i,i+n),this.pos),this.pos+=n,this.length+=n,i+=n;else{const e=new Uint32Array(d,u,Math.floor((a-i)/4));for(let r=0;i+t<a;r+=s.length,i+=t)this.length+=t,this.compress(e,r,!1)}}return this}digestInto(e){(0,i.exists)(this),(0,i.output)(e,this);const{pos:t,buffer32:r}=this;this.finished=!0,this.buffer.subarray(t).fill(0),this.compress(r,0,!0);const s=(0,n.u32)(e);this.get().forEach(((e,t)=>s[t]=e))}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){const{buffer:t,length:r,finished:i,destroyed:n,outputLen:s,pos:a}=this;return e||(e=new this.constructor({dkLen:s})),e.set(...this.get()),e.length=r,e.finished=i,e.destroyed=n,e.outputLen=s,e.buffer.set(t),e.pos=a,e}}t.BLAKE2=BLAKE2},9659:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SHA2=void 0;const i=r(1629),n=r(3599);class SHA2 extends n.Hash{constructor(e,t,r,i){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,n.createView)(this.buffer)}update(e){(0,i.exists)(this);const{view:t,buffer:r,blockLen:s}=this,a=(e=(0,n.toBytes)(e)).length;for(let i=0;i<a;){const o=Math.min(s-this.pos,a-i);if(o!==s)r.set(e.subarray(i,i+o),this.pos),this.pos+=o,i+=o,this.pos===s&&(this.process(t,0),this.pos=0);else{const t=(0,n.createView)(e);for(;s<=a-i;i+=s)this.process(t,i)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,i.exists)(this),(0,i.output)(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:s,isLE:a}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let e=o;e<s;e++)t[e]=0;!function setBigUint64(e,t,r,i){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,i);const n=BigInt(32),s=BigInt(4294967295),a=Number(r>>n&s),o=Number(r&s),d=i?4:0,u=i?0:4;e.setUint32(t+d,a,i),e.setUint32(t+u,o,i)}(r,s-8,BigInt(8*this.length),a),this.process(r,0);const d=(0,n.createView)(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=u/4,c=this.get();if(l>c.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<l;e++)d.setUint32(4*e,c[e],a)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:i,finished:n,destroyed:s,pos:a}=this;return e.length=i,e.pos=a,e.finished=n,e.destroyed=s,i%t&&e.buffer.set(r),e}}t.SHA2=SHA2},4614:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.add5L=t.add5H=t.add4H=t.add4L=t.add3H=t.add3L=t.add=t.rotlBL=t.rotlBH=t.rotlSL=t.rotlSH=t.rotr32L=t.rotr32H=t.rotrBL=t.rotrBH=t.rotrSL=t.rotrSH=t.shrSL=t.shrSH=t.toBig=t.split=t.fromBig=void 0;const r=BigInt(2**32-1),i=BigInt(32);function fromBig(e,t=!1){return t?{h:Number(e&r),l:Number(e>>i&r)}:{h:0|Number(e>>i&r),l:0|Number(e&r)}}function split(e,t=!1){let r=new Uint32Array(e.length),i=new Uint32Array(e.length);for(let n=0;n<e.length;n++){const{h:s,l:a}=fromBig(e[n],t);[r[n],i[n]]=[s,a]}return[r,i]}t.fromBig=fromBig,t.split=split;const toBig=(e,t)=>BigInt(e>>>0)<<i|BigInt(t>>>0);t.toBig=toBig;const shrSH=(e,t,r)=>e>>>r;t.shrSH=shrSH;const shrSL=(e,t,r)=>e<<32-r|t>>>r;t.shrSL=shrSL;const rotrSH=(e,t,r)=>e>>>r|t<<32-r;t.rotrSH=rotrSH;const rotrSL=(e,t,r)=>e<<32-r|t>>>r;t.rotrSL=rotrSL;const rotrBH=(e,t,r)=>e<<64-r|t>>>r-32;t.rotrBH=rotrBH;const rotrBL=(e,t,r)=>e>>>r-32|t<<64-r;t.rotrBL=rotrBL;const rotr32H=(e,t)=>t;t.rotr32H=rotr32H;const rotr32L=(e,t)=>e;t.rotr32L=rotr32L;const rotlSH=(e,t,r)=>e<<r|t>>>32-r;t.rotlSH=rotlSH;const rotlSL=(e,t,r)=>t<<r|e>>>32-r;t.rotlSL=rotlSL;const rotlBH=(e,t,r)=>t<<r-32|e>>>64-r;t.rotlBH=rotlBH;const rotlBL=(e,t,r)=>e<<r-32|t>>>64-r;function add(e,t,r,i){const n=(t>>>0)+(i>>>0);return{h:e+r+(n/2**32|0)|0,l:0|n}}t.rotlBL=rotlBL,t.add=add;const add3L=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0);t.add3L=add3L;const add3H=(e,t,r,i)=>t+r+i+(e/2**32|0)|0;t.add3H=add3H;const add4L=(e,t,r,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(i>>>0);t.add4L=add4L;const add4H=(e,t,r,i,n)=>t+r+i+n+(e/2**32|0)|0;t.add4H=add4H;const add5L=(e,t,r,i,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(i>>>0)+(n>>>0);t.add5L=add5L;const add5H=(e,t,r,i,n,s)=>t+r+i+n+s+(e/2**32|0)|0;t.add5H=add5H;const n={fromBig,split,toBig,shrSH,shrSL,rotrSH,rotrSL,rotrBH,rotrBL,rotr32H,rotr32L,rotlSH,rotlSL,rotlBH,rotlBL,add,add3L,add3H,add4L,add4H,add5H,add5L};t.default=n},311:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.blake2b=void 0;const i=r(3070),n=r(4614),s=r(3599),a=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),o=new Uint32Array(32);function G1(e,t,r,i,s,a){const d=s[a],u=s[a+1];let l=o[2*e],c=o[2*e+1],p=o[2*t],h=o[2*t+1],y=o[2*r],g=o[2*r+1],m=o[2*i],b=o[2*i+1],v=n.default.add3L(l,p,d);c=n.default.add3H(v,c,h,u),l=0|v,({Dh:b,Dl:m}={Dh:b^c,Dl:m^l}),({Dh:b,Dl:m}={Dh:n.default.rotr32H(b,m),Dl:n.default.rotr32L(b,m)}),({h:g,l:y}=n.default.add(g,y,b,m)),({Bh:h,Bl:p}={Bh:h^g,Bl:p^y}),({Bh:h,Bl:p}={Bh:n.default.rotrSH(h,p,24),Bl:n.default.rotrSL(h,p,24)}),o[2*e]=l,o[2*e+1]=c,o[2*t]=p,o[2*t+1]=h,o[2*r]=y,o[2*r+1]=g,o[2*i]=m,o[2*i+1]=b}function G2(e,t,r,i,s,a){const d=s[a],u=s[a+1];let l=o[2*e],c=o[2*e+1],p=o[2*t],h=o[2*t+1],y=o[2*r],g=o[2*r+1],m=o[2*i],b=o[2*i+1],v=n.default.add3L(l,p,d);c=n.default.add3H(v,c,h,u),l=0|v,({Dh:b,Dl:m}={Dh:b^c,Dl:m^l}),({Dh:b,Dl:m}={Dh:n.default.rotrSH(b,m,16),Dl:n.default.rotrSL(b,m,16)}),({h:g,l:y}=n.default.add(g,y,b,m)),({Bh:h,Bl:p}={Bh:h^g,Bl:p^y}),({Bh:h,Bl:p}={Bh:n.default.rotrBH(h,p,63),Bl:n.default.rotrBL(h,p,63)}),o[2*e]=l,o[2*e+1]=c,o[2*t]=p,o[2*t+1]=h,o[2*r]=y,o[2*r+1]=g,o[2*i]=m,o[2*i+1]=b}class BLAKE2b extends i.BLAKE2{constructor(e={}){super(128,void 0===e.dkLen?64:e.dkLen,e,64,16,16),this.v0l=0|a[0],this.v0h=0|a[1],this.v1l=0|a[2],this.v1h=0|a[3],this.v2l=0|a[4],this.v2h=0|a[5],this.v3l=0|a[6],this.v3h=0|a[7],this.v4l=0|a[8],this.v4h=0|a[9],this.v5l=0|a[10],this.v5h=0|a[11],this.v6l=0|a[12],this.v6h=0|a[13],this.v7l=0|a[14],this.v7h=0|a[15];const t=e.key?e.key.length:0;if(this.v0l^=this.outputLen|t<<8|65536|1<<24,e.salt){const t=(0,s.u32)((0,s.toBytes)(e.salt));this.v4l^=t[0],this.v4h^=t[1],this.v5l^=t[2],this.v5h^=t[3]}if(e.personalization){const t=(0,s.u32)((0,s.toBytes)(e.personalization));this.v6l^=t[0],this.v6h^=t[1],this.v7l^=t[2],this.v7h^=t[3]}if(e.key){const t=new Uint8Array(this.blockLen);t.set((0,s.toBytes)(e.key)),this.update(t)}}get(){let{v0l:e,v0h:t,v1l:r,v1h:i,v2l:n,v2h:s,v3l:a,v3h:o,v4l:d,v4h:u,v5l:l,v5h:c,v6l:p,v6h:h,v7l:y,v7h:g}=this;return[e,t,r,i,n,s,a,o,d,u,l,c,p,h,y,g]}set(e,t,r,i,n,s,a,o,d,u,l,c,p,h,y,g){this.v0l=0|e,this.v0h=0|t,this.v1l=0|r,this.v1h=0|i,this.v2l=0|n,this.v2h=0|s,this.v3l=0|a,this.v3h=0|o,this.v4l=0|d,this.v4h=0|u,this.v5l=0|l,this.v5h=0|c,this.v6l=0|p,this.v6h=0|h,this.v7l=0|y,this.v7h=0|g}compress(e,t,r){this.get().forEach(((e,t)=>o[t]=e)),o.set(a,16);let{h:s,l:d}=n.default.fromBig(BigInt(this.length));o[24]=a[8]^d,o[25]=a[9]^s,r&&(o[28]=~o[28],o[29]=~o[29]);let u=0;const l=i.SIGMA;for(let r=0;r<12;r++)G1(0,4,8,12,e,t+2*l[u++]),G2(0,4,8,12,e,t+2*l[u++]),G1(1,5,9,13,e,t+2*l[u++]),G2(1,5,9,13,e,t+2*l[u++]),G1(2,6,10,14,e,t+2*l[u++]),G2(2,6,10,14,e,t+2*l[u++]),G1(3,7,11,15,e,t+2*l[u++]),G2(3,7,11,15,e,t+2*l[u++]),G1(0,5,10,15,e,t+2*l[u++]),G2(0,5,10,15,e,t+2*l[u++]),G1(1,6,11,12,e,t+2*l[u++]),G2(1,6,11,12,e,t+2*l[u++]),G1(2,7,8,13,e,t+2*l[u++]),G2(2,7,8,13,e,t+2*l[u++]),G1(3,4,9,14,e,t+2*l[u++]),G2(3,4,9,14,e,t+2*l[u++]);this.v0l^=o[0]^o[16],this.v0h^=o[1]^o[17],this.v1l^=o[2]^o[18],this.v1h^=o[3]^o[19],this.v2l^=o[4]^o[20],this.v2h^=o[5]^o[21],this.v3l^=o[6]^o[22],this.v3h^=o[7]^o[23],this.v4l^=o[8]^o[24],this.v4h^=o[9]^o[25],this.v5l^=o[10]^o[26],this.v5h^=o[11]^o[27],this.v6l^=o[12]^o[28],this.v6h^=o[13]^o[29],this.v7l^=o[14]^o[30],this.v7h^=o[15]^o[31],o.fill(0)}destroy(){this.destroyed=!0,this.buffer32.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}t.blake2b=(0,s.wrapConstructorWithOpts)((e=>new BLAKE2b(e)))},4368:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.blake2s=t.compress=t.IV=void 0;const i=r(3070),n=r(4614),s=r(3599);function G1(e,t,r,i,n){return e=e+t+n|0,r=r+(i=(0,s.rotr)(i^e,16))|0,{a:e,b:t=(0,s.rotr)(t^r,12),c:r,d:i}}function G2(e,t,r,i,n){return e=e+t+n|0,r=r+(i=(0,s.rotr)(i^e,8))|0,{a:e,b:t=(0,s.rotr)(t^r,7),c:r,d:i}}function compress(e,t,r,i,n,s,a,o,d,u,l,c,p,h,y,g,m,b,v,_){let w=0;for(let E=0;E<i;E++)({a:n,b:d,c:p,d:m}=G1(n,d,p,m,r[t+e[w++]])),({a:n,b:d,c:p,d:m}=G2(n,d,p,m,r[t+e[w++]])),({a:s,b:u,c:h,d:b}=G1(s,u,h,b,r[t+e[w++]])),({a:s,b:u,c:h,d:b}=G2(s,u,h,b,r[t+e[w++]])),({a,b:l,c:y,d:v}=G1(a,l,y,v,r[t+e[w++]])),({a,b:l,c:y,d:v}=G2(a,l,y,v,r[t+e[w++]])),({a:o,b:c,c:g,d:_}=G1(o,c,g,_,r[t+e[w++]])),({a:o,b:c,c:g,d:_}=G2(o,c,g,_,r[t+e[w++]])),({a:n,b:u,c:y,d:_}=G1(n,u,y,_,r[t+e[w++]])),({a:n,b:u,c:y,d:_}=G2(n,u,y,_,r[t+e[w++]])),({a:s,b:l,c:g,d:m}=G1(s,l,g,m,r[t+e[w++]])),({a:s,b:l,c:g,d:m}=G2(s,l,g,m,r[t+e[w++]])),({a,b:c,c:p,d:b}=G1(a,c,p,b,r[t+e[w++]])),({a,b:c,c:p,d:b}=G2(a,c,p,b,r[t+e[w++]])),({a:o,b:d,c:h,d:v}=G1(o,d,h,v,r[t+e[w++]])),({a:o,b:d,c:h,d:v}=G2(o,d,h,v,r[t+e[w++]]));return{v0:n,v1:s,v2:a,v3:o,v4:d,v5:u,v6:l,v7:c,v8:p,v9:h,v10:y,v11:g,v12:m,v13:b,v14:v,v15:_}}t.IV=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),t.compress=compress;class BLAKE2s extends i.BLAKE2{constructor(e={}){super(64,void 0===e.dkLen?32:e.dkLen,e,32,8,8),this.v0=0|t.IV[0],this.v1=0|t.IV[1],this.v2=0|t.IV[2],this.v3=0|t.IV[3],this.v4=0|t.IV[4],this.v5=0|t.IV[5],this.v6=0|t.IV[6],this.v7=0|t.IV[7];const r=e.key?e.key.length:0;if(this.v0^=this.outputLen|r<<8|65536|1<<24,e.salt){const t=(0,s.u32)((0,s.toBytes)(e.salt));this.v4^=t[0],this.v5^=t[1]}if(e.personalization){const t=(0,s.u32)((0,s.toBytes)(e.personalization));this.v6^=t[0],this.v7^=t[1]}if(e.key){const t=new Uint8Array(this.blockLen);t.set((0,s.toBytes)(e.key)),this.update(t)}}get(){const{v0:e,v1:t,v2:r,v3:i,v4:n,v5:s,v6:a,v7:o}=this;return[e,t,r,i,n,s,a,o]}set(e,t,r,i,n,s,a,o){this.v0=0|e,this.v1=0|t,this.v2=0|r,this.v3=0|i,this.v4=0|n,this.v5=0|s,this.v6=0|a,this.v7=0|o}compress(e,r,s){const{h:a,l:o}=(0,n.fromBig)(BigInt(this.length)),{v0:d,v1:u,v2:l,v3:c,v4:p,v5:h,v6:y,v7:g,v8:m,v9:b,v10:v,v11:_,v12:w,v13:E,v14:T,v15:A}=compress(i.SIGMA,r,e,10,this.v0,this.v1,this.v2,this.v3,this.v4,this.v5,this.v6,this.v7,t.IV[0],t.IV[1],t.IV[2],t.IV[3],o^t.IV[4],a^t.IV[5],s?~t.IV[6]:t.IV[6],t.IV[7]);this.v0^=d^m,this.v1^=u^b,this.v2^=l^v,this.v3^=c^_,this.v4^=p^w,this.v5^=h^E,this.v6^=y^T,this.v7^=g^A}destroy(){this.destroyed=!0,this.buffer32.fill(0),this.set(0,0,0,0,0,0,0,0)}}t.blake2s=(0,s.wrapConstructorWithOpts)((e=>new BLAKE2s(e)))},9217:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.crypto=void 0,t.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0},3063:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sha224=t.sha256=void 0;const i=r(9659),n=r(3599),Maj=(e,t,r)=>e&t^e&r^t&r,s=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),a=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),o=new Uint32Array(64);class SHA256 extends i.SHA2{constructor(){super(64,32,8,!1),this.A=0|a[0],this.B=0|a[1],this.C=0|a[2],this.D=0|a[3],this.E=0|a[4],this.F=0|a[5],this.G=0|a[6],this.H=0|a[7]}get(){const{A:e,B:t,C:r,D:i,E:n,F:s,G:a,H:o}=this;return[e,t,r,i,n,s,a,o]}set(e,t,r,i,n,s,a,o){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|i,this.E=0|n,this.F=0|s,this.G=0|a,this.H=0|o}process(e,t){for(let r=0;r<16;r++,t+=4)o[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=o[e-15],r=o[e-2],i=(0,n.rotr)(t,7)^(0,n.rotr)(t,18)^t>>>3,s=(0,n.rotr)(r,17)^(0,n.rotr)(r,19)^r>>>10;o[e]=s+o[e-7]+i+o[e-16]|0}let{A:r,B:i,C:a,D:d,E:u,F:l,G:c,H:p}=this;for(let e=0;e<64;e++){const t=p+((0,n.rotr)(u,6)^(0,n.rotr)(u,11)^(0,n.rotr)(u,25))+((h=u)&l^~h&c)+s[e]+o[e]|0,y=((0,n.rotr)(r,2)^(0,n.rotr)(r,13)^(0,n.rotr)(r,22))+Maj(r,i,a)|0;p=c,c=l,l=u,u=d+t|0,d=a,a=i,i=r,r=t+y|0}var h;r=r+this.A|0,i=i+this.B|0,a=a+this.C|0,d=d+this.D|0,u=u+this.E|0,l=l+this.F|0,c=c+this.G|0,p=p+this.H|0,this.set(r,i,a,d,u,l,c,p)}roundClean(){o.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class SHA224 extends SHA256{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}t.sha256=(0,n.wrapConstructor)((()=>new SHA256)),t.sha224=(0,n.wrapConstructor)((()=>new SHA224))},6899:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shake256=t.shake128=t.keccak_512=t.keccak_384=t.keccak_256=t.keccak_224=t.sha3_512=t.sha3_384=t.sha3_256=t.sha3_224=t.Keccak=t.keccakP=void 0;const i=r(1629),n=r(4614),s=r(3599),[a,o,d]=[[],[],[]],u=BigInt(0),l=BigInt(1),c=BigInt(2),p=BigInt(7),h=BigInt(256),y=BigInt(113);for(let e=0,t=l,r=1,i=0;e<24;e++){[r,i]=[i,(2*r+3*i)%5],a.push(2*(5*i+r)),o.push((e+1)*(e+2)/2%64);let n=u;for(let e=0;e<7;e++)t=(t<<l^(t>>p)*y)%h,t&c&&(n^=l<<(l<<BigInt(e))-l);d.push(n)}const[g,m]=(0,n.split)(d,!0),rotlH=(e,t,r)=>r>32?(0,n.rotlBH)(e,t,r):(0,n.rotlSH)(e,t,r),rotlL=(e,t,r)=>r>32?(0,n.rotlBL)(e,t,r):(0,n.rotlSL)(e,t,r);function keccakP(e,t=24){const r=new Uint32Array(10);for(let i=24-t;i<24;i++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){const i=(t+8)%10,n=(t+2)%10,s=r[n],a=r[n+1],o=rotlH(s,a,1)^r[i],d=rotlL(s,a,1)^r[i+1];for(let r=0;r<50;r+=10)e[t+r]^=o,e[t+r+1]^=d}let t=e[2],n=e[3];for(let r=0;r<24;r++){const i=o[r],s=rotlH(t,n,i),d=rotlL(t,n,i),u=a[r];t=e[u],n=e[u+1],e[u]=s,e[u+1]=d}for(let t=0;t<50;t+=10){for(let i=0;i<10;i++)r[i]=e[t+i];for(let i=0;i<10;i++)e[t+i]^=~r[(i+2)%10]&r[(i+4)%10]}e[0]^=g[i],e[1]^=m[i]}r.fill(0)}t.keccakP=keccakP;class Keccak extends s.Hash{constructor(e,t,r,n=!1,a=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=n,this.rounds=a,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,i.number)(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,s.u32)(this.state)}keccak(){keccakP(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){(0,i.exists)(this);const{blockLen:t,state:r}=this,n=(e=(0,s.toBytes)(e)).length;for(let i=0;i<n;){const s=Math.min(t-this.pos,n-i);for(let t=0;t<s;t++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:i}=this;e[r]^=t,128&t&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){(0,i.exists)(this,!1),(0,i.bytes)(e),this.finish();const t=this.state,{blockLen:r}=this;for(let i=0,n=e.length;i<n;){this.posOut>=r&&this.keccak();const s=Math.min(r-this.posOut,n-i);e.set(t.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,i.number)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,i.output)(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:i,rounds:n,enableXOF:s}=this;return e||(e=new Keccak(t,r,i,s,n)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=n,e.suffix=r,e.outputLen=i,e.enableXOF=s,e.destroyed=this.destroyed,e}}t.Keccak=Keccak;const gen=(e,t,r)=>(0,s.wrapConstructor)((()=>new Keccak(t,e,r)));t.sha3_224=gen(6,144,28),t.sha3_256=gen(6,136,32),t.sha3_384=gen(6,104,48),t.sha3_512=gen(6,72,64),t.keccak_224=gen(1,144,28),t.keccak_256=gen(1,136,32),t.keccak_384=gen(1,104,48),t.keccak_512=gen(1,72,64);const genShake=(e,t,r)=>(0,s.wrapXOFConstructorWithOpts)(((i={})=>new Keccak(t,e,void 0===i.dkLen?r:i.dkLen,!0)));t.shake128=genShake(31,168,16),t.shake256=genShake(31,136,32)},3599:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.randomBytes=t.wrapXOFConstructorWithOpts=t.wrapConstructorWithOpts=t.wrapConstructor=t.checkOpts=t.Hash=t.concatBytes=t.toBytes=t.utf8ToBytes=t.asyncLoop=t.nextTick=t.hexToBytes=t.bytesToHex=t.isLE=t.rotr=t.createView=t.u32=t.u8=void 0;const i=r(9217),u8a=e=>e instanceof Uint8Array;t.u8=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength);t.u32=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));t.createView=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);if(t.rotr=(e,t)=>e<<32-t|e>>>t,t.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!t.isLE)throw new Error("Non little-endian hardware is not supported");const n=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));t.bytesToHex=function bytesToHex(e){if(!u8a(e))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=n[e[r]];return t},t.hexToBytes=function hexToBytes(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(t/2);for(let t=0;t<r.length;t++){const i=2*t,n=e.slice(i,i+2),s=Number.parseInt(n,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");r[t]=s}return r};function utf8ToBytes(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function toBytes(e){if("string"==typeof e&&(e=utf8ToBytes(e)),!u8a(e))throw new Error("expected Uint8Array, got "+typeof e);return e}t.nextTick=async()=>{},t.asyncLoop=async function asyncLoop(e,r,i){let n=Date.now();for(let s=0;s<e;s++){i(s);const e=Date.now()-n;e>=0&&e<r||(await(0,t.nextTick)(),n+=e)}},t.utf8ToBytes=utf8ToBytes,t.toBytes=toBytes,t.concatBytes=function concatBytes(...e){const t=new Uint8Array(e.reduce(((e,t)=>e+t.length),0));let r=0;return e.forEach((e=>{if(!u8a(e))throw new Error("Uint8Array expected");t.set(e,r),r+=e.length})),t};t.Hash=class Hash{clone(){return this._cloneInto()}};const s={}.toString;t.checkOpts=function checkOpts(e,t){if(void 0!==t&&"[object Object]"!==s.call(t))throw new Error("Options should be object or undefined");return Object.assign(e,t)},t.wrapConstructor=function wrapConstructor(e){const hashC=t=>e().update(toBytes(t)).digest(),t=e();return hashC.outputLen=t.outputLen,hashC.blockLen=t.blockLen,hashC.create=()=>e(),hashC},t.wrapConstructorWithOpts=function wrapConstructorWithOpts(e){const hashC=(t,r)=>e(r).update(toBytes(t)).digest(),t=e({});return hashC.outputLen=t.outputLen,hashC.blockLen=t.blockLen,hashC.create=t=>e(t),hashC},t.wrapXOFConstructorWithOpts=function wrapXOFConstructorWithOpts(e){const hashC=(t,r)=>e(r).update(toBytes(t)).digest(),t=e({});return hashC.outputLen=t.outputLen,hashC.blockLen=t.blockLen,hashC.create=t=>e(t),hashC},t.randomBytes=function randomBytes(e=32){if(i.crypto&&"function"==typeof i.crypto.getRandomValues)return i.crypto.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}},7170:function(e,t,r){var i;!function(n){"use strict";var s,a=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,o=Math.ceil,d=Math.floor,u="[BigNumber Error] ",l=u+"Number primitive has more than 15 significant digits: ",c=1e14,p=14,h=9007199254740991,y=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],g=1e7,m=1e9;function bitFloor(e){var t=0|e;return e>0||e===t?t:t-1}function coeffToString(e){for(var t,r,i=1,n=e.length,s=e[0]+"";i<n;){for(t=e[i++]+"",r=p-t.length;r--;t="0"+t);s+=t}for(n=s.length;48===s.charCodeAt(--n););return s.slice(0,n+1||1)}function compare(e,t){var r,i,n=e.c,s=t.c,a=e.s,o=t.s,d=e.e,u=t.e;if(!a||!o)return null;if(r=n&&!n[0],i=s&&!s[0],r||i)return r?i?0:-o:a;if(a!=o)return a;if(r=a<0,i=d==u,!n||!s)return i?0:!n^r?1:-1;if(!i)return d>u^r?1:-1;for(o=(d=n.length)<(u=s.length)?d:u,a=0;a<o;a++)if(n[a]!=s[a])return n[a]>s[a]^r?1:-1;return d==u?0:d>u^r?1:-1}function intCheck(e,t,r,i){if(e<t||e>r||e!==d(e))throw Error(u+(i||"Argument")+("number"==typeof e?e<t||e>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function isOdd(e){var t=e.c.length-1;return bitFloor(e.e/p)==t&&e.c[t]%2!=0}function toExponential(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function toFixedPoint(e,t,r){var i,n;if(t<0){for(n=r+".";++t;n+=r);e=n+e}else if(++t>(i=e.length)){for(n=r,t-=i;--t;n+=r);e+=n}else t<i&&(e=e.slice(0,t)+"."+e.slice(t));return e}s=function clone(e){var t,r,i,n,s,b,v,_,w,E,T=BigNumber.prototype={constructor:BigNumber,toString:null,valueOf:null},A=new BigNumber(1),M=20,O=4,x=-7,k=21,I=-1e7,C=1e7,B=!1,N=1,P=0,D={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},q="0123456789abcdefghijklmnopqrstuvwxyz",L=!0;function BigNumber(e,t){var n,s,o,u,c,y,g,m,b=this;if(!(b instanceof BigNumber))return new BigNumber(e,t);if(null==t){if(e&&!0===e._isBigNumber)return b.s=e.s,void(!e.c||e.e>C?b.c=b.e=null:e.e<I?b.c=[b.e=0]:(b.e=e.e,b.c=e.c.slice()));if((y="number"==typeof e)&&0*e==0){if(b.s=1/e<0?(e=-e,-1):1,e===~~e){for(u=0,c=e;c>=10;c/=10,u++);return void(u>C?b.c=b.e=null:(b.e=u,b.c=[e]))}m=String(e)}else{if(!a.test(m=String(e)))return i(b,m,y);b.s=45==m.charCodeAt(0)?(m=m.slice(1),-1):1}(u=m.indexOf("."))>-1&&(m=m.replace(".","")),(c=m.search(/e/i))>0?(u<0&&(u=c),u+=+m.slice(c+1),m=m.substring(0,c)):u<0&&(u=m.length)}else{if(intCheck(t,2,q.length,"Base"),10==t&&L)return round(b=new BigNumber(e),M+b.e+1,O);if(m=String(e),y="number"==typeof e){if(0*e!=0)return i(b,m,y,t);if(b.s=1/e<0?(m=m.slice(1),-1):1,BigNumber.DEBUG&&m.replace(/^0\.0*|\./,"").length>15)throw Error(l+e)}else b.s=45===m.charCodeAt(0)?(m=m.slice(1),-1):1;for(n=q.slice(0,t),u=c=0,g=m.length;c<g;c++)if(n.indexOf(s=m.charAt(c))<0){if("."==s){if(c>u){u=g;continue}}else if(!o&&(m==m.toUpperCase()&&(m=m.toLowerCase())||m==m.toLowerCase()&&(m=m.toUpperCase()))){o=!0,c=-1,u=0;continue}return i(b,String(e),y,t)}y=!1,(u=(m=r(m,t,10,b.s)).indexOf("."))>-1?m=m.replace(".",""):u=m.length}for(c=0;48===m.charCodeAt(c);c++);for(g=m.length;48===m.charCodeAt(--g););if(m=m.slice(c,++g)){if(g-=c,y&&BigNumber.DEBUG&&g>15&&(e>h||e!==d(e)))throw Error(l+b.s*e);if((u=u-c-1)>C)b.c=b.e=null;else if(u<I)b.c=[b.e=0];else{if(b.e=u,b.c=[],c=(u+1)%p,u<0&&(c+=p),c<g){for(c&&b.c.push(+m.slice(0,c)),g-=p;c<g;)b.c.push(+m.slice(c,c+=p));c=p-(m=m.slice(c)).length}else c-=g;for(;c--;m+="0");b.c.push(+m)}}else b.c=[b.e=0]}function format(e,t,r,i){var n,s,a,o,d;if(null==r?r=O:intCheck(r,0,8),!e.c)return e.toString();if(n=e.c[0],a=e.e,null==t)d=coeffToString(e.c),d=1==i||2==i&&(a<=x||a>=k)?toExponential(d,a):toFixedPoint(d,a,"0");else if(s=(e=round(new BigNumber(e),t,r)).e,o=(d=coeffToString(e.c)).length,1==i||2==i&&(t<=s||s<=x)){for(;o<t;d+="0",o++);d=toExponential(d,s)}else if(t-=a,d=toFixedPoint(d,s,"0"),s+1>o){if(--t>0)for(d+=".";t--;d+="0");}else if((t+=s-o)>0)for(s+1==o&&(d+=".");t--;d+="0");return e.s<0&&n?"-"+d:d}function maxOrMin(e,t){for(var r,i=1,n=new BigNumber(e[0]);i<e.length;i++){if(!(r=new BigNumber(e[i])).s){n=r;break}t.call(n,r)&&(n=r)}return n}function normalise(e,t,r){for(var i=1,n=t.length;!t[--n];t.pop());for(n=t[0];n>=10;n/=10,i++);return(r=i+r*p-1)>C?e.c=e.e=null:r<I?e.c=[e.e=0]:(e.e=r,e.c=t),e}function round(e,t,r,i){var n,s,a,u,l,h,g,m=e.c,b=y;if(m){e:{for(n=1,u=m[0];u>=10;u/=10,n++);if((s=t-n)<0)s+=p,a=t,g=(l=m[h=0])/b[n-a-1]%10|0;else if((h=o((s+1)/p))>=m.length){if(!i)break e;for(;m.length<=h;m.push(0));l=g=0,n=1,a=(s%=p)-p+1}else{for(l=u=m[h],n=1;u>=10;u/=10,n++);g=(a=(s%=p)-p+n)<0?0:l/b[n-a-1]%10|0}if(i=i||t<0||null!=m[h+1]||(a<0?l:l%b[n-a-1]),i=r<4?(g||i)&&(0==r||r==(e.s<0?3:2)):g>5||5==g&&(4==r||i||6==r&&(s>0?a>0?l/b[n-a]:0:m[h-1])%10&1||r==(e.s<0?8:7)),t<1||!m[0])return m.length=0,i?(t-=e.e+1,m[0]=b[(p-t%p)%p],e.e=-t||0):m[0]=e.e=0,e;if(0==s?(m.length=h,u=1,h--):(m.length=h+1,u=b[p-s],m[h]=a>0?d(l/b[n-a]%b[a])*u:0),i)for(;;){if(0==h){for(s=1,a=m[0];a>=10;a/=10,s++);for(a=m[0]+=u,u=1;a>=10;a/=10,u++);s!=u&&(e.e++,m[0]==c&&(m[0]=1));break}if(m[h]+=u,m[h]!=c)break;m[h--]=0,u=1}for(s=m.length;0===m[--s];m.pop());}e.e>C?e.c=e.e=null:e.e<I&&(e.c=[e.e=0])}return e}function valueOf(e){var t,r=e.e;return null===r?e.toString():(t=coeffToString(e.c),t=r<=x||r>=k?toExponential(t,r):toFixedPoint(t,r,"0"),e.s<0?"-"+t:t)}return BigNumber.clone=clone,BigNumber.ROUND_UP=0,BigNumber.ROUND_DOWN=1,BigNumber.ROUND_CEIL=2,BigNumber.ROUND_FLOOR=3,BigNumber.ROUND_HALF_UP=4,BigNumber.ROUND_HALF_DOWN=5,BigNumber.ROUND_HALF_EVEN=6,BigNumber.ROUND_HALF_CEIL=7,BigNumber.ROUND_HALF_FLOOR=8,BigNumber.EUCLID=9,BigNumber.config=BigNumber.set=function(e){var t,r;if(null!=e){if("object"!=typeof e)throw Error(u+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(intCheck(r=e[t],0,m,t),M=r),e.hasOwnProperty(t="ROUNDING_MODE")&&(intCheck(r=e[t],0,8,t),O=r),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((r=e[t])&&r.pop?(intCheck(r[0],-m,0,t),intCheck(r[1],0,m,t),x=r[0],k=r[1]):(intCheck(r,-m,m,t),x=-(k=r<0?-r:r))),e.hasOwnProperty(t="RANGE"))if((r=e[t])&&r.pop)intCheck(r[0],-m,-1,t),intCheck(r[1],1,m,t),I=r[0],C=r[1];else{if(intCheck(r,-m,m,t),!r)throw Error(u+t+" cannot be zero: "+r);I=-(C=r<0?-r:r)}if(e.hasOwnProperty(t="CRYPTO")){if((r=e[t])!==!!r)throw Error(u+t+" not true or false: "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw B=!r,Error(u+"crypto unavailable");B=r}else B=r}if(e.hasOwnProperty(t="MODULO_MODE")&&(intCheck(r=e[t],0,9,t),N=r),e.hasOwnProperty(t="POW_PRECISION")&&(intCheck(r=e[t],0,m,t),P=r),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(r=e[t]))throw Error(u+t+" not an object: "+r);D=r}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(r=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(r))throw Error(u+t+" invalid: "+r);L="0123456789"==r.slice(0,10),q=r}}return{DECIMAL_PLACES:M,ROUNDING_MODE:O,EXPONENTIAL_AT:[x,k],RANGE:[I,C],CRYPTO:B,MODULO_MODE:N,POW_PRECISION:P,FORMAT:D,ALPHABET:q}},BigNumber.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!BigNumber.DEBUG)return!0;var t,r,i=e.c,n=e.e,s=e.s;e:if("[object Array]"=={}.toString.call(i)){if((1===s||-1===s)&&n>=-m&&n<=m&&n===d(n)){if(0===i[0]){if(0===n&&1===i.length)return!0;break e}if((t=(n+1)%p)<1&&(t+=p),String(i[0]).length==t){for(t=0;t<i.length;t++)if((r=i[t])<0||r>=c||r!==d(r))break e;if(0!==r)return!0}}}else if(null===i&&null===n&&(null===s||1===s||-1===s))return!0;throw Error(u+"Invalid BigNumber: "+e)},BigNumber.maximum=BigNumber.max=function(){return maxOrMin(arguments,T.lt)},BigNumber.minimum=BigNumber.min=function(){return maxOrMin(arguments,T.gt)},BigNumber.random=(n=9007199254740992,s=Math.random()*n&2097151?function(){return d(Math.random()*n)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,r,i,n,a,l=0,c=[],h=new BigNumber(A);if(null==e?e=M:intCheck(e,0,m),n=o(e/p),B)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(n*=2));l<n;)(a=131072*t[l]+(t[l+1]>>>11))>=9e15?(r=crypto.getRandomValues(new Uint32Array(2)),t[l]=r[0],t[l+1]=r[1]):(c.push(a%1e14),l+=2);l=n/2}else{if(!crypto.randomBytes)throw B=!1,Error(u+"crypto unavailable");for(t=crypto.randomBytes(n*=7);l<n;)(a=281474976710656*(31&t[l])+1099511627776*t[l+1]+4294967296*t[l+2]+16777216*t[l+3]+(t[l+4]<<16)+(t[l+5]<<8)+t[l+6])>=9e15?crypto.randomBytes(7).copy(t,l):(c.push(a%1e14),l+=7);l=n/7}if(!B)for(;l<n;)(a=s())<9e15&&(c[l++]=a%1e14);for(n=c[--l],e%=p,n&&e&&(a=y[p-e],c[l]=d(n/a)*a);0===c[l];c.pop(),l--);if(l<0)c=[i=0];else{for(i=-1;0===c[0];c.splice(0,1),i-=p);for(l=1,a=c[0];a>=10;a/=10,l++);l<p&&(i-=p-l)}return h.e=i,h.c=c,h}),BigNumber.sum=function(){for(var e=1,t=arguments,r=new BigNumber(t[0]);e<t.length;)r=r.plus(t[e++]);return r},r=function(){var e="0123456789";function toBaseOut(e,t,r,i){for(var n,s,a=[0],o=0,d=e.length;o<d;){for(s=a.length;s--;a[s]*=t);for(a[0]+=i.indexOf(e.charAt(o++)),n=0;n<a.length;n++)a[n]>r-1&&(null==a[n+1]&&(a[n+1]=0),a[n+1]+=a[n]/r|0,a[n]%=r)}return a.reverse()}return function(r,i,n,s,a){var o,d,u,l,c,p,h,y,g=r.indexOf("."),m=M,b=O;for(g>=0&&(l=P,P=0,r=r.replace(".",""),p=(y=new BigNumber(i)).pow(r.length-g),P=l,y.c=toBaseOut(toFixedPoint(coeffToString(p.c),p.e,"0"),10,n,e),y.e=y.c.length),u=l=(h=toBaseOut(r,i,n,a?(o=q,e):(o=e,q))).length;0==h[--l];h.pop());if(!h[0])return o.charAt(0);if(g<0?--u:(p.c=h,p.e=u,p.s=s,h=(p=t(p,y,m,b,n)).c,c=p.r,u=p.e),g=h[d=u+m+1],l=n/2,c=c||d<0||null!=h[d+1],c=b<4?(null!=g||c)&&(0==b||b==(p.s<0?3:2)):g>l||g==l&&(4==b||c||6==b&&1&h[d-1]||b==(p.s<0?8:7)),d<1||!h[0])r=c?toFixedPoint(o.charAt(1),-m,o.charAt(0)):o.charAt(0);else{if(h.length=d,c)for(--n;++h[--d]>n;)h[d]=0,d||(++u,h=[1].concat(h));for(l=h.length;!h[--l];);for(g=0,r="";g<=l;r+=o.charAt(h[g++]));r=toFixedPoint(r,u,o.charAt(0))}return r}}(),t=function(){function multiply(e,t,r){var i,n,s,a,o=0,d=e.length,u=t%g,l=t/g|0;for(e=e.slice();d--;)o=((n=u*(s=e[d]%g)+(i=l*s+(a=e[d]/g|0)*u)%g*g+o)/r|0)+(i/g|0)+l*a,e[d]=n%r;return o&&(e=[o].concat(e)),e}function compare(e,t,r,i){var n,s;if(r!=i)s=r>i?1:-1;else for(n=s=0;n<r;n++)if(e[n]!=t[n]){s=e[n]>t[n]?1:-1;break}return s}function subtract(e,t,r,i){for(var n=0;r--;)e[r]-=n,n=e[r]<t[r]?1:0,e[r]=n*i+e[r]-t[r];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(e,t,r,i,n){var s,a,o,u,l,h,y,g,m,b,v,_,w,E,T,A,M,O=e.s==t.s?1:-1,x=e.c,k=t.c;if(!(x&&x[0]&&k&&k[0]))return new BigNumber(e.s&&t.s&&(x?!k||x[0]!=k[0]:k)?x&&0==x[0]||!k?0*O:O/0:NaN);for(m=(g=new BigNumber(O)).c=[],O=r+(a=e.e-t.e)+1,n||(n=c,a=bitFloor(e.e/p)-bitFloor(t.e/p),O=O/p|0),o=0;k[o]==(x[o]||0);o++);if(k[o]>(x[o]||0)&&a--,O<0)m.push(1),u=!0;else{for(E=x.length,A=k.length,o=0,O+=2,(l=d(n/(k[0]+1)))>1&&(k=multiply(k,l,n),x=multiply(x,l,n),A=k.length,E=x.length),w=A,v=(b=x.slice(0,A)).length;v<A;b[v++]=0);M=k.slice(),M=[0].concat(M),T=k[0],k[1]>=n/2&&T++;do{if(l=0,(s=compare(k,b,A,v))<0){if(_=b[0],A!=v&&(_=_*n+(b[1]||0)),(l=d(_/T))>1)for(l>=n&&(l=n-1),y=(h=multiply(k,l,n)).length,v=b.length;1==compare(h,b,y,v);)l--,subtract(h,A<y?M:k,y,n),y=h.length,s=1;else 0==l&&(s=l=1),y=(h=k.slice()).length;if(y<v&&(h=[0].concat(h)),subtract(b,h,v,n),v=b.length,-1==s)for(;compare(k,b,A,v)<1;)l++,subtract(b,A<v?M:k,v,n),v=b.length}else 0===s&&(l++,b=[0]);m[o++]=l,b[0]?b[v++]=x[w]||0:(b=[x[w]],v=1)}while((w++<E||null!=b[0])&&O--);u=null!=b[0],m[0]||m.splice(0,1)}if(n==c){for(o=1,O=m[0];O>=10;O/=10,o++);round(g,r+(g.e=o+a*p-1)+1,i,u)}else g.e=a,g.r=+u;return g}}(),b=/^(-?)0([xbo])(?=\w[\w.]*$)/i,v=/^([^.]+)\.$/,_=/^\.([^.]+)$/,w=/^-?(Infinity|NaN)$/,E=/^\s*\+(?=[\w.])|^\s+|\s+$/g,i=function(e,t,r,i){var n,s=r?t:t.replace(E,"");if(w.test(s))e.s=isNaN(s)?null:s<0?-1:1;else{if(!r&&(s=s.replace(b,(function(e,t,r){return n="x"==(r=r.toLowerCase())?16:"b"==r?2:8,i&&i!=n?e:t})),i&&(n=i,s=s.replace(v,"$1").replace(_,"0.$1")),t!=s))return new BigNumber(s,n);if(BigNumber.DEBUG)throw Error(u+"Not a"+(i?" base "+i:"")+" number: "+t);e.s=null}e.c=e.e=null},T.absoluteValue=T.abs=function(){var e=new BigNumber(this);return e.s<0&&(e.s=1),e},T.comparedTo=function(e,t){return compare(this,new BigNumber(e,t))},T.decimalPlaces=T.dp=function(e,t){var r,i,n,s=this;if(null!=e)return intCheck(e,0,m),null==t?t=O:intCheck(t,0,8),round(new BigNumber(s),e+s.e+1,t);if(!(r=s.c))return null;if(i=((n=r.length-1)-bitFloor(this.e/p))*p,n=r[n])for(;n%10==0;n/=10,i--);return i<0&&(i=0),i},T.dividedBy=T.div=function(e,r){return t(this,new BigNumber(e,r),M,O)},T.dividedToIntegerBy=T.idiv=function(e,r){return t(this,new BigNumber(e,r),0,1)},T.exponentiatedBy=T.pow=function(e,t){var r,i,n,s,a,l,c,h,y=this;if((e=new BigNumber(e)).c&&!e.isInteger())throw Error(u+"Exponent not an integer: "+valueOf(e));if(null!=t&&(t=new BigNumber(t)),a=e.e>14,!y.c||!y.c[0]||1==y.c[0]&&!y.e&&1==y.c.length||!e.c||!e.c[0])return h=new BigNumber(Math.pow(+valueOf(y),a?2-isOdd(e):+valueOf(e))),t?h.mod(t):h;if(l=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new BigNumber(NaN);(i=!l&&y.isInteger()&&t.isInteger())&&(y=y.mod(t))}else{if(e.e>9&&(y.e>0||y.e<-1||(0==y.e?y.c[0]>1||a&&y.c[1]>=24e7:y.c[0]<8e13||a&&y.c[0]<=9999975e7)))return s=y.s<0&&isOdd(e)?-0:0,y.e>-1&&(s=1/s),new BigNumber(l?1/s:s);P&&(s=o(P/p+2))}for(a?(r=new BigNumber(.5),l&&(e.s=1),c=isOdd(e)):c=(n=Math.abs(+valueOf(e)))%2,h=new BigNumber(A);;){if(c){if(!(h=h.times(y)).c)break;s?h.c.length>s&&(h.c.length=s):i&&(h=h.mod(t))}if(n){if(0===(n=d(n/2)))break;c=n%2}else if(round(e=e.times(r),e.e+1,1),e.e>14)c=isOdd(e);else{if(0===(n=+valueOf(e)))break;c=n%2}y=y.times(y),s?y.c&&y.c.length>s&&(y.c.length=s):i&&(y=y.mod(t))}return i?h:(l&&(h=A.div(h)),t?h.mod(t):s?round(h,P,O,undefined):h)},T.integerValue=function(e){var t=new BigNumber(this);return null==e?e=O:intCheck(e,0,8),round(t,t.e+1,e)},T.isEqualTo=T.eq=function(e,t){return 0===compare(this,new BigNumber(e,t))},T.isFinite=function(){return!!this.c},T.isGreaterThan=T.gt=function(e,t){return compare(this,new BigNumber(e,t))>0},T.isGreaterThanOrEqualTo=T.gte=function(e,t){return 1===(t=compare(this,new BigNumber(e,t)))||0===t},T.isInteger=function(){return!!this.c&&bitFloor(this.e/p)>this.c.length-2},T.isLessThan=T.lt=function(e,t){return compare(this,new BigNumber(e,t))<0},T.isLessThanOrEqualTo=T.lte=function(e,t){return-1===(t=compare(this,new BigNumber(e,t)))||0===t},T.isNaN=function(){return!this.s},T.isNegative=function(){return this.s<0},T.isPositive=function(){return this.s>0},T.isZero=function(){return!!this.c&&0==this.c[0]},T.minus=function(e,t){var r,i,n,s,a=this,o=a.s;if(t=(e=new BigNumber(e,t)).s,!o||!t)return new BigNumber(NaN);if(o!=t)return e.s=-t,a.plus(e);var d=a.e/p,u=e.e/p,l=a.c,h=e.c;if(!d||!u){if(!l||!h)return l?(e.s=-t,e):new BigNumber(h?a:NaN);if(!l[0]||!h[0])return h[0]?(e.s=-t,e):new BigNumber(l[0]?a:3==O?-0:0)}if(d=bitFloor(d),u=bitFloor(u),l=l.slice(),o=d-u){for((s=o<0)?(o=-o,n=l):(u=d,n=h),n.reverse(),t=o;t--;n.push(0));n.reverse()}else for(i=(s=(o=l.length)<(t=h.length))?o:t,o=t=0;t<i;t++)if(l[t]!=h[t]){s=l[t]<h[t];break}if(s&&(n=l,l=h,h=n,e.s=-e.s),(t=(i=h.length)-(r=l.length))>0)for(;t--;l[r++]=0);for(t=c-1;i>o;){if(l[--i]<h[i]){for(r=i;r&&!l[--r];l[r]=t);--l[r],l[i]+=c}l[i]-=h[i]}for(;0==l[0];l.splice(0,1),--u);return l[0]?normalise(e,l,u):(e.s=3==O?-1:1,e.c=[e.e=0],e)},T.modulo=T.mod=function(e,r){var i,n,s=this;return e=new BigNumber(e,r),!s.c||!e.s||e.c&&!e.c[0]?new BigNumber(NaN):!e.c||s.c&&!s.c[0]?new BigNumber(s):(9==N?(n=e.s,e.s=1,i=t(s,e,0,3),e.s=n,i.s*=n):i=t(s,e,0,N),(e=s.minus(i.times(e))).c[0]||1!=N||(e.s=s.s),e)},T.multipliedBy=T.times=function(e,t){var r,i,n,s,a,o,d,u,l,h,y,m,b,v,_,w=this,E=w.c,T=(e=new BigNumber(e,t)).c;if(!(E&&T&&E[0]&&T[0]))return!w.s||!e.s||E&&!E[0]&&!T||T&&!T[0]&&!E?e.c=e.e=e.s=null:(e.s*=w.s,E&&T?(e.c=[0],e.e=0):e.c=e.e=null),e;for(i=bitFloor(w.e/p)+bitFloor(e.e/p),e.s*=w.s,(d=E.length)<(h=T.length)&&(b=E,E=T,T=b,n=d,d=h,h=n),n=d+h,b=[];n--;b.push(0));for(v=c,_=g,n=h;--n>=0;){for(r=0,y=T[n]%_,m=T[n]/_|0,s=n+(a=d);s>n;)r=((u=y*(u=E[--a]%_)+(o=m*u+(l=E[a]/_|0)*y)%_*_+b[s]+r)/v|0)+(o/_|0)+m*l,b[s--]=u%v;b[s]=r}return r?++i:b.splice(0,1),normalise(e,b,i)},T.negated=function(){var e=new BigNumber(this);return e.s=-e.s||null,e},T.plus=function(e,t){var r,i=this,n=i.s;if(t=(e=new BigNumber(e,t)).s,!n||!t)return new BigNumber(NaN);if(n!=t)return e.s=-t,i.minus(e);var s=i.e/p,a=e.e/p,o=i.c,d=e.c;if(!s||!a){if(!o||!d)return new BigNumber(n/0);if(!o[0]||!d[0])return d[0]?e:new BigNumber(o[0]?i:0*n)}if(s=bitFloor(s),a=bitFloor(a),o=o.slice(),n=s-a){for(n>0?(a=s,r=d):(n=-n,r=o),r.reverse();n--;r.push(0));r.reverse()}for((n=o.length)-(t=d.length)<0&&(r=d,d=o,o=r,t=n),n=0;t;)n=(o[--t]=o[t]+d[t]+n)/c|0,o[t]=c===o[t]?0:o[t]%c;return n&&(o=[n].concat(o),++a),normalise(e,o,a)},T.precision=T.sd=function(e,t){var r,i,n,s=this;if(null!=e&&e!==!!e)return intCheck(e,1,m),null==t?t=O:intCheck(t,0,8),round(new BigNumber(s),e,t);if(!(r=s.c))return null;if(i=(n=r.length-1)*p+1,n=r[n]){for(;n%10==0;n/=10,i--);for(n=r[0];n>=10;n/=10,i++);}return e&&s.e+1>i&&(i=s.e+1),i},T.shiftedBy=function(e){return intCheck(e,-9007199254740991,h),this.times("1e"+e)},T.squareRoot=T.sqrt=function(){var e,r,i,n,s,a=this,o=a.c,d=a.s,u=a.e,l=M+4,c=new BigNumber("0.5");if(1!==d||!o||!o[0])return new BigNumber(!d||d<0&&(!o||o[0])?NaN:o?a:1/0);if(0==(d=Math.sqrt(+valueOf(a)))||d==1/0?(((r=coeffToString(o)).length+u)%2==0&&(r+="0"),d=Math.sqrt(+r),u=bitFloor((u+1)/2)-(u<0||u%2),i=new BigNumber(r=d==1/0?"5e"+u:(r=d.toExponential()).slice(0,r.indexOf("e")+1)+u)):i=new BigNumber(d+""),i.c[0])for((d=(u=i.e)+l)<3&&(d=0);;)if(s=i,i=c.times(s.plus(t(a,s,l,1))),coeffToString(s.c).slice(0,d)===(r=coeffToString(i.c)).slice(0,d)){if(i.e<u&&--d,"9999"!=(r=r.slice(d-3,d+1))&&(n||"4999"!=r)){+r&&(+r.slice(1)||"5"!=r.charAt(0))||(round(i,i.e+M+2,1),e=!i.times(i).eq(a));break}if(!n&&(round(s,s.e+M+2,0),s.times(s).eq(a))){i=s;break}l+=4,d+=4,n=1}return round(i,i.e+M+1,O,e)},T.toExponential=function(e,t){return null!=e&&(intCheck(e,0,m),e++),format(this,e,t,1)},T.toFixed=function(e,t){return null!=e&&(intCheck(e,0,m),e=e+this.e+1),format(this,e,t)},T.toFormat=function(e,t,r){var i,n=this;if(null==r)null!=e&&t&&"object"==typeof t?(r=t,t=null):e&&"object"==typeof e?(r=e,e=t=null):r=D;else if("object"!=typeof r)throw Error(u+"Argument not an object: "+r);if(i=n.toFixed(e,t),n.c){var s,a=i.split("."),o=+r.groupSize,d=+r.secondaryGroupSize,l=r.groupSeparator||"",c=a[0],p=a[1],h=n.s<0,y=h?c.slice(1):c,g=y.length;if(d&&(s=o,o=d,d=s,g-=s),o>0&&g>0){for(s=g%o||o,c=y.substr(0,s);s<g;s+=o)c+=l+y.substr(s,o);d>0&&(c+=l+y.slice(s)),h&&(c="-"+c)}i=p?c+(r.decimalSeparator||"")+((d=+r.fractionGroupSize)?p.replace(new RegExp("\\d{"+d+"}\\B","g"),"$&"+(r.fractionGroupSeparator||"")):p):c}return(r.prefix||"")+i+(r.suffix||"")},T.toFraction=function(e){var r,i,n,s,a,o,d,l,c,h,g,m,b=this,v=b.c;if(null!=e&&(!(d=new BigNumber(e)).isInteger()&&(d.c||1!==d.s)||d.lt(A)))throw Error(u+"Argument "+(d.isInteger()?"out of range: ":"not an integer: ")+valueOf(d));if(!v)return new BigNumber(b);for(r=new BigNumber(A),c=i=new BigNumber(A),n=l=new BigNumber(A),m=coeffToString(v),a=r.e=m.length-b.e-1,r.c[0]=y[(o=a%p)<0?p+o:o],e=!e||d.comparedTo(r)>0?a>0?r:c:d,o=C,C=1/0,d=new BigNumber(m),l.c[0]=0;h=t(d,r,0,1),1!=(s=i.plus(h.times(n))).comparedTo(e);)i=n,n=s,c=l.plus(h.times(s=c)),l=s,r=d.minus(h.times(s=r)),d=s;return s=t(e.minus(i),n,0,1),l=l.plus(s.times(c)),i=i.plus(s.times(n)),l.s=c.s=b.s,g=t(c,n,a*=2,O).minus(b).abs().comparedTo(t(l,i,a,O).minus(b).abs())<1?[c,n]:[l,i],C=o,g},T.toNumber=function(){return+valueOf(this)},T.toPrecision=function(e,t){return null!=e&&intCheck(e,1,m),format(this,e,t,2)},T.toString=function(e){var t,i=this,n=i.s,s=i.e;return null===s?n?(t="Infinity",n<0&&(t="-"+t)):t="NaN":(null==e?t=s<=x||s>=k?toExponential(coeffToString(i.c),s):toFixedPoint(coeffToString(i.c),s,"0"):10===e&&L?t=toFixedPoint(coeffToString((i=round(new BigNumber(i),M+s+1,O)).c),i.e,"0"):(intCheck(e,2,q.length,"Base"),t=r(toFixedPoint(coeffToString(i.c),s,"0"),10,e,n,!0)),n<0&&i.c[0]&&(t="-"+t)),t},T.valueOf=T.toJSON=function(){return valueOf(this)},T._isBigNumber=!0,null!=e&&BigNumber.set(e),BigNumber}(),s.default=s.BigNumber=s,void 0===(i=function(){return s}.call(t,r,t,e))||(e.exports=i)}()},8379:()=>{},3553:()=>{},3011:()=>{},3951:()=>{},8232:()=>{},4834:(e,t,r)=>{"use strict";var i=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],n="undefined"==typeof globalThis?r.g:globalThis;e.exports=function availableTypedArrays(){for(var e=[],t=0;t<i.length;t++)"function"==typeof n[i[t]]&&(e[e.length]=i[t]);return e}},183:e=>{"use strict";e.exports={rE:"6.5.4"}},5698:e=>{"use strict";e.exports=JSON.parse('{"name":"@onekeyfe/hd-core","version":"1.0.12","description":"> TODO: description","author":"OneKey","homepage":"https://github.com/OneKeyHQ/hardware-js-sdk#readme","license":"ISC","main":"dist/index.js","types":"dist/index.d.ts","repository":{"type":"git","url":"git+https://github.com/OneKeyHQ/hardware-js-sdk.git"},"publishConfig":{"access":"public"},"scripts":{"dev":"rimraf dist && rollup -c ../../build/rollup.config.js -w","build":"rimraf dist && rollup -c ../../build/rollup.config.js","lint":"eslint .","lint:fix":"eslint . --fix","test":"jest"},"bugs":{"url":"https://github.com/OneKeyHQ/hardware-js-sdk/issues"},"dependencies":{"@onekeyfe/hd-shared":"^1.0.12","@onekeyfe/hd-transport":"^1.0.12","axios":"^0.27.2","bignumber.js":"^9.0.2","bytebuffer":"^5.0.1","jszip":"^3.10.1","parse-uri":"^1.0.7","semver":"^7.3.7"},"peerDependencies":{"@noble/hashes":"^1.1.3","ripple-keypairs":"^1.1.4"},"devDependencies":{"@noble/hashes":"^1.1.3","@types/parse-uri":"^1.0.0","@types/semver":"^7.3.9","ripple-keypairs":"^1.1.4"}}')}},__webpack_module_cache__={};function __nested_webpack_require_3197225__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(r.exports,r,r.exports,__nested_webpack_require_3197225__),r.loaded=!0,r.exports}__nested_webpack_require_3197225__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __nested_webpack_require_3197225__.d(t,{a:t}),t},__nested_webpack_require_3197225__.d=(e,t)=>{for(var r in t)__nested_webpack_require_3197225__.o(t,r)&&!__nested_webpack_require_3197225__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__nested_webpack_require_3197225__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__nested_webpack_require_3197225__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__nested_webpack_require_3197225__.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var __nested_webpack_exports__={};return(()=>{"use strict";__nested_webpack_require_3197225__.d(__nested_webpack_exports__,{default:()=>Y});var e=__nested_webpack_require_3197225__(46),t=__nested_webpack_require_3197225__.n(e),r=__nested_webpack_require_3197225__(4362),i=__nested_webpack_require_3197225__(8492);let n,s,a=(0,i.createDeferred)(),o=0;const init=async e=>{a=(0,i.createDeferred)();const t=document.getElementById("onekey-connect");t?n=t:(n=document.createElement("iframe"),n.frameBorder="0",n.width="0px",n.height="0px",n.style.position="absolute",n.style.display="none",n.style.border="0px",n.style.width="0px",n.style.height="0px",n.id="onekey-connect","webusb"===e.env&&(n.allow="usb"));const r=`${e.iframeSrc}`;n.setAttribute("src",r),s=(e=>{if("string"!=typeof e)return"unknown";if(0===e.indexOf("file://"))return"file://";const t=e.match(/^.+\:\/\/[^\/]+/);return Array.isArray(t)&&t.length>0?t[0]:"unknown"})(n.src),o=window.setTimeout((()=>{a.reject(i.ERRORS.TypedError(i.HardwareErrorCode.IframeTimeout))}),1e4);const onLoad=()=>{var t;n?(null===(t=n.contentWindow)||void 0===t||t.postMessage({type:"iframe-init",payload:{settings:{...e}}},s),n.onload=null):a.reject(i.ERRORS.TypedError(i.HardwareErrorCode.IframeBlocked))};n.attachEvent?n.attachEvent("onload",onLoad):n.onload=onLoad,document.body&&document.body.appendChild(n);try{await a.promise}catch(e){throw n&&(n.parentNode&&n.parentNode.removeChild(n),n=null),e}finally{window.clearTimeout(o),o=0}},d={iframeName:"onekey-iframe",hostName:"onekey-host",channel:"onekey-js-sdk",scope:"$hardware_sdk"};var u=__nested_webpack_require_3197225__(5434);function safeApply(e,t,r){try{Reflect.apply(e,t,r)}catch(e){setTimeout((()=>{throw e}))}}class EventEmitterProxy extends u{emit(e,...t){return super.emit(e,...t)}addListener(e,t){return super.addListener(e,t),this}on(e,t){return super.on(e,t),this}once(e,t){return super.once(e,t),this}removeListener(e,t){return super.removeListener(e,t),this}off(e,t){return super.off(e,t),this}removeAllListeners(e){return super.removeAllListeners(e),this}setMaxListeners(e){return super.setMaxListeners(e),this}getMaxListeners(){return super.getMaxListeners()}listeners(e){return super.listeners(e)}rawListeners(e){return super.rawListeners(e)}listenerCount(e){return super.listenerCount(e)}prependListener(e,t){return super.prependListener(e,t),this}prependOnceListener(e,t){return super.prependOnceListener(e,t),this}eventNames(){return super.eventNames()}}class CrossEventEmitter extends EventEmitterProxy{emit(e,...t){let r="error"===e;const i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){let e;if(t.length>0&&([e]=t),e instanceof Error)throw e;const r=new Error("Unhandled error."+(e?` (${e.message})`:""));throw r.context=e,r}const n=i[e];if(void 0===n)return!1;if("function"==typeof n)safeApply(n,this,t);else{const e=n.length,r=function arrayClone(e){const t=e.length,r=new Array(t);for(let i=0;i<t;i+=1)r[i]=e[i];return r}(n);for(let i=0;i<e;i+=1)safeApply(r[i],this,t)}return!0}}var l=__nested_webpack_require_3197225__(8360),c=__nested_webpack_require_3197225__(8138),p=__nested_webpack_require_3197225__(7250),__awaiter=function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function fulfilled(e){try{step(i.next(e))}catch(e){s(e)}}function rejected(e){try{step(i.throw(e))}catch(e){s(e)}}function step(e){e.done?n(e.value):function adopt(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,t||[])).next())}))};const h=function setup(e){return __awaiter(this,void 0,void 0,(function*(){function createDebug(e){let t,r,i,n=null;function debug(...e){if(!debug.enabled)return;const r=debug,i=Number(new Date),n=i-(t||i);r.diff=n,r.prev=t,r.curr=i,t=i,e[0]=createDebug.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((t,i)=>{if("%%"===t)return"%";s++;const n=createDebug.formatters[i];if("function"==typeof n){const i=e[s];t=n.call(r,i),e.splice(s,1),s--}return t})),createDebug.formatArgs.call(r,e);(r.log||createDebug.log).apply(r,e)}return debug.namespace=e,debug.useColors=createDebug.useColors(),debug.color=createDebug.selectColor(e),debug.extend=extend,debug.destroy=createDebug.destroy,Object.defineProperty(debug,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==n?n:(r!==createDebug.namespaces&&(r=createDebug.namespaces,i=createDebug.enabled(e)),i),set:e=>{n=e}}),"function"==typeof createDebug.init&&createDebug.init(debug),debug}function extend(e,t){const r=createDebug(this.namespace+(void 0===t?":":t)+e);return r.log=this.log,r}function toNamespace(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}createDebug.debug=createDebug,createDebug.default=createDebug,createDebug.coerce=function coerce(e){if(e instanceof Error)return e.stack||e.message;return e},createDebug.disable=function disable(){const e=[...createDebug.names.map(toNamespace),...createDebug.skips.map(toNamespace).map((e=>`-${e}`))].join(",");return createDebug.enable(""),e},createDebug.enable=function enable(e){return __awaiter(this,void 0,void 0,(function*(){let t;yield createDebug.save(e),createDebug.namespaces=e,createDebug.names=[],createDebug.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),i=r.length;for(t=0;t<i;t++)r[t]&&("-"===(e=r[t].replace(/\*/g,".*?"))[0]?createDebug.skips.push(new RegExp(`^${e.substr(1)}$`)):createDebug.names.push(new RegExp(`^${e}$`)))}))},createDebug.enabled=function enabled(e){if("*"===e[e.length-1])return!0;let t,r;for(t=0,r=createDebug.skips.length;t<r;t++)if(createDebug.skips[t].test(e))return!1;for(t=0,r=createDebug.names.length;t<r;t++)if(createDebug.names[t].test(e))return!0;return!1},createDebug.humanize=p,createDebug.destroy=function destroy(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((t=>{createDebug[t]=e[t]})),createDebug.names=[],createDebug.skips=[],createDebug.formatters={j(e){try{return JSON.stringify(e)}catch(e){return`[UnexpectedJSONParseError]: ${e.message}`}}},createDebug.selectColor=function selectColor(e){let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return createDebug.colors[Math.abs(t)%createDebug.colors.length]};const t=yield createDebug.load();return yield createDebug.enable(t),createDebug}))},y="$$ONEKEY_DEBUG_LOGGER";var browser_awaiter=function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function fulfilled(e){try{step(i.next(e))}catch(e){s(e)}}function rejected(e){try{step(i.throw(e))}catch(e){s(e)}}function step(e){e.done?n(e.value):function adopt(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,t||[])).next())}))};const g=y,m={};m.formatArgs=function formatArgs(e){if(e[0]=`${(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")}+${m.humanize(this.diff)}`,!this.useColors)return;const t=`color: ${this.color}`;e.splice(1,0,t,"color: inherit");let r=0,i=0;e[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(r+=1,"%c"===e&&(i=r))})),e.splice(i,0,t)},m.save=function save(e){return browser_awaiter(this,void 0,void 0,(function*(){try{e?yield m.storage.setItem(g,e):yield m.storage.removeItem(g)}catch(e){console.error("debug logger storage error",e)}}))},m.load=function load(){return browser_awaiter(this,void 0,void 0,(function*(){let e;try{e=yield m.storage.getItem(g)}catch(e){console.error("debug logger storage error",e)}return!e&&"env"in{env:{ONEKEY_PROXY:void 0,NODE_ENV:"production",TAMAGUI_TARGET:"web"}}&&(e={ONEKEY_PROXY:void 0,NODE_ENV:"production",TAMAGUI_TARGET:"web"}.DEBUG),e}))},m.useColors=function useColors(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},m.storage=function customLocalStorage(){try{return void 0!==__webpack_require__.g&&__webpack_require__.g.$$onekeyAppStorage?__webpack_require__.g.$$onekeyAppStorage:"undefined"!=typeof window&&window.localStorage?window.localStorage:(console.warn("debugLogger init warning, neither `global.$$onekeyAppStorage` nor `window.localStorage` found."),{getItem(){return browser_awaiter(this,void 0,void 0,(function*(){return""}))},setItem(){return browser_awaiter(this,void 0,void 0,(function*(){}))},removeItem(){return browser_awaiter(this,void 0,void 0,(function*(){}))}})}catch(e){console.error("debug logger storage error",e)}}(),m.humanize=p,m.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),m.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],m.log=(...e)=>{console.debug?console.debug(...e):console.log&&console.log(...e)};const b=m;var debug_awaiter=function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function fulfilled(e){try{step(i.next(e))}catch(e){s(e)}}function rejected(e){try{step(i.throw(e))}catch(e){s(e)}}function step(e){e.done?n(e.value):function adopt(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,t||[])).next())}))};const v=function createDebugAsync(){return debug_awaiter(this,void 0,void 0,(function*(){return h(b)}))};function loggers_consoleErrorInDev(...e){"undefined"!=typeof localStorage&&localStorage.getItem(y)&&console.error(...e)}const _={_isFakeLogger:!0,log:(...e)=>{},warn:(...e)=>{},error:(...e)=>{},debug:(...e)=>{},info:(...e)=>{},trace:(...e)=>{}};var w;!function(e){e.jsBridge="jsBridge",e.providerBase="providerBase",e.extInjected="extInjected",e.extContentScripts="extContentScripts",e.webview="webview",e.desktopInjected="desktopInjected",e.ethereum="ethereum"}(w||(w={}));class FakeDebugLogger extends CrossEventEmitter{constructor(){super(),this.jsBridge=(...e)=>null,this.providerBase=(...e)=>null,this.extInjected=(...e)=>null,this.extContentScripts=(...e)=>null,this.webview=(...e)=>null,this.desktopInjected=(...e)=>null,this.ethereum=(...e)=>null,this._debug={enable(e){}},this._externalLogger=_,this._createExternalLog=e=>(...t)=>{var r,i;return this.once("debugReady",(()=>{var r;null===(r=this[e])||void 0===r||r.call(this,...t)})),null===(i=null===(r=this._externalLogger)||void 0===r?void 0:r.log)||void 0===i?void 0:i.call(r,`${e} >>> `,...t)},this.initExternalLogInstances()}initExternalLogInstances(){Object.keys(w).forEach((e=>{this[e]=this._createExternalLog(e)}))}isDebugReady(){return this._debug&&"function"==typeof this._debug}_attachExternalLogger(e){e&&(this._externalLogger=e)}_createDebugInstance(e){}}new FakeDebugLogger;const E=new class AppDebugLogger extends FakeDebugLogger{constructor(){super(),this._debugInstanceCreatedMap={},v().then((e=>{this._debug=e,this.initDebugInstances(),this.emit("debugReady")}))}initDebugInstances(){this.isDebugReady()&&Object.keys(w).forEach((e=>{this[e]=this._debug(e)}))}_createDebugInstance(e){if(!this._debugInstanceCreatedMap[e]&&(this._debugInstanceCreatedMap[e]=!0,e&&this._debug&&"function"==typeof this._debug)){const t=this._debug(e),r=this[e];this[e]=(...e)=>{t(...e),r&&"function"==typeof r&&r(...e)}}}};var T,A;!function(e){e.RESPONSE="RESPONSE",e.REQUEST="REQUEST"}(T||(T={})),function(e){e.ethereum="ethereum",e.conflux="conflux",e.solana="solana",e.starcoin="starcoin",e.sollet="sollet",e.near="near",e.$private="$private",e.$hardware_sdk="$hardware_sdk"}(A||(A={}));var M=__nested_webpack_require_3197225__(282);class classes_Web3RpcError extends Error{constructor(e,t,r){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!t||"string"!=typeof t)throw new Error('"message" must be a nonempty string.');super(t),this.code=e,void 0!==r&&(this.data=r)}serialize(){const e={code:this.code,message:this.message};return void 0!==this.data&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return M(this.serialize(),stringifyReplacer,2)}}class Web3ProviderError extends classes_Web3RpcError{constructor(e,t,r){if(!function isValidWeb3ProviderCode(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,t,r)}}function stringifyReplacer(e,t){if("[Circular]"!==t)return t}const O={invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},x={userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901,requestTimeout:4500},k={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Web3 provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."},4500:{standard:"",message:"The request by this Web3 provider is timeout."}},I=O.internal,C="Unspecified error message. This is a bug, please report it.",B=(getMessageFromCode(I),"Unspecified server error.");function getMessageFromCode(e,t=C){if(Number.isInteger(e)){const t=e.toString();if(hasKey(k,t))return k[t].message;if(isJsonRpcServerError(e))return B}return t}function isJsonRpcServerError(e){return e>=-32099&&e<=-32e3}function hasKey(e,t){return Object.prototype.hasOwnProperty.call(e,t)}const N={userRejectedRequest:e=>getWeb3ProviderError(x.userRejectedRequest,e),unauthorized:e=>getWeb3ProviderError(x.unauthorized,e),unsupportedMethod:e=>getWeb3ProviderError(x.unsupportedMethod,e),disconnected:e=>getWeb3ProviderError(x.disconnected,e),chainDisconnected:e=>getWeb3ProviderError(x.chainDisconnected,e),requestTimeout:e=>getWeb3ProviderError(x.requestTimeout,e),custom:e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw new Error("Web3 Provider custom errors must provide single object argument.");const{code:t,message:r,data:i}=e;if(!r||"string"!=typeof r)throw new Error('"message" must be a nonempty string');return new Web3ProviderError(t,r,i)}};function getWeb3ProviderError(e,t){const[r,i]=parseOpts(t);return new Web3ProviderError(e,r||getMessageFromCode(e),i)}function parseOpts(e){if(e){if("string"==typeof e)return[e];if("object"==typeof e&&!Array.isArray(e)){const{message:t,data:r}=e;if(t&&"string"!=typeof t)throw new Error("Must specify string message.");return[t||void 0,r]}}return[]}const P="0.0.17";var JsBridgeBase_awaiter=function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function fulfilled(e){try{step(i.next(e))}catch(e){s(e)}}function rejected(e){try{step(i.throw(e))}catch(e){s(e)}}function step(e){e.done?n(e.value):function adopt(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((i=i.apply(e,t||[])).next())}))};const D="undefined"!=typeof window?window:__webpack_require__.g,q="message",L="error";class JsBridgeBase extends CrossEventEmitter{constructor(e={}){var t,r;super(),this._requestPayloadCache={},this.isExtUi=!1,this.isInjected=!1,this.sendAsString=!0,this.globalOnMessageEnabled=!0,this.providersHub={},this.globalOnMessage=e=>JsBridgeBase_awaiter(this,void 0,void 0,(function*(){try{if(this.config.receiveHandler&&this.globalOnMessageEnabled){const t=yield this.config.receiveHandler(e,this);e.id&&this.response({id:e.id,scope:e.scope,remoteId:e.remoteId,data:t})}}catch(t){e.id&&e.type===T.REQUEST&&this.responseError({id:e.id,scope:e.scope,remoteId:e.remoteId,error:t}),this.emit(L,t)}})),this.version=P,this.remoteInfo={origin:"",remoteId:""},this.callbacksExpireTimeout=6e5,this.debugLogger=E,this.callbacks=[],this.callbackId=1,this.config=e,this.callbacksExpireTimeout=null!==(t=e.timeout)&&void 0!==t?t:this.callbacksExpireTimeout,this.debugLogger=e.debugLogger||E,this.sendAsString=null!==(r=e.sendAsString)&&void 0!==r?r:this.sendAsString,this.config.receiveHandler&&this.on(q,this.globalOnMessage),this.on(L,(e=>{var t;loggers_consoleErrorInDev("JsBridge ERROR: ",e,{code:null===(t=e)||void 0===t?void 0:t.code})})),this.rejectExpiredCallbacks()}attachProviderInstance(e){var t;const r=e.providerName;r&&(this.providersHub[r]=null!==(t=this.providersHub[r])&&void 0!==t?t:[],this.providersHub[r].push(e))}createCallbackId(){return this.callbackId+=1,this.callbackId}createPayload(e,{resolve:t,reject:r}){const{id:i,type:n}=e;if(t&&r&&i&&n===T.REQUEST){if(this.callbacks[i])throw new Error(`JsBridge ERROR: callback exists, id=${i}`);this.callbacks[i]={id:i,resolve:t,reject:r,created:Date.now()}}if(e.error){const t=e.error;e.error=function toPlainError(e){return{name:e.name,message:e.message,stack:e.stack,code:e.code,data:e.data,key:e.key,info:e.info,className:e.className}}(t)}return null==e||delete e.resolve,null==e||delete e.reject,e}send({type:e,data:t,error:r,id:i,remoteId:n,sync:s=!1,scope:a}){const executor=(o,d)=>{var u,l,c;let p=i;s||e!==T.REQUEST||(p=this.createCallbackId());try{const i=this.createPayload({id:p,data:t,error:r,type:e,origin:(null===(u=null==D?void 0:D.location)||void 0===u?void 0:u.origin)||"",remoteId:n,scope:a},{resolve:o,reject:d});let s=i;this.sendAsString&&(s=JSON.stringify(i)),(null===(l=this.debugLogger.jsBridge)||void 0===l?void 0:l.enabled)&&i&&i.id&&i.type===T.REQUEST&&(this._requestPayloadCache[i.id]=i,i.id%100==0&&(this._requestPayloadCache={})),this.debugLogger.jsBridge("send",i,"\r\n ------\x3e ",i.data,"\r\n ------\x3e ",null===(c=i.data)||void 0===c?void 0:c.result),this.sendPayload(s)}catch(e){p?this.rejectCallback(p,e):this.emit(L,e)}};if(!s)return new Promise(executor);executor()}rejectCallback(e,t){this.processCallback({method:"reject",id:e,error:t})}resolveCallback(e,t){this.processCallback({method:"resolve",id:e,data:t})}processCallback({method:e,id:t,data:r,error:i}){const n=this.callbacks[t];n&&("reject"===e&&(n.reject&&n.reject(i),this.emit(L,i)),"resolve"===e&&n.resolve&&n.resolve(r),this.clearCallbackCache(t))}rejectExpiredCallbacks(){if(!this.callbacksExpireTimeout)return;const e=Date.now();for(const t in this.callbacks){const r=this.callbacks[t];if(r&&r.created&&e-r.created>this.callbacksExpireTimeout){const e=N.requestTimeout();this.rejectCallback(t,e)}}setTimeout((()=>{this.rejectExpiredCallbacks()}),this.callbacksExpireTimeout)}clearCallbackCache(e){delete this.callbacks[e]}receive(e="",t){var r,i,n,s,a;let o={data:null};if(l(e)&&(o=e),c(e))try{o=JSON.parse(e)}catch(y){throw this.emit(L,y),new Error("JsBridge ERROR: JSON.parse payloadReceived failed")}if(o.origin=null==t?void 0:t.origin,o.internal=Boolean(null==t?void 0:t.internal),(null==t?void 0:t.internal)&&this.isExtUi&&function isLegacyExtMessage(e){const t=e;return Boolean(t.name)&&["onekey-provider-eth","onekey-provider-cfx","publicConfig"].includes(t.name)}(o))return;if(!o.origin&&!this.isInjected)throw loggers_consoleErrorInDev(null===(r=null==this?void 0:this.constructor)||void 0===r?void 0:r.name,"[payload.origin] is missing.",this),new Error("JsBridge ERROR: receive message [payload.origin] is required.");if(!o.internal&&!o.scope)throw new Error("JsBridge ERROR: receive message [payload.scope] is required for non-internal method call.");const d=null!==(n=this._requestPayloadCache[null!==(i=null==o?void 0:o.id)&&void 0!==i?i:""])&&void 0!==n?n:null;this.debugLogger.jsBridge("receive",o,{sender:t},"\r\n -----\x3e ",null!==(a=null===(s=o.data)||void 0===s?void 0:s.result)&&void 0!==a?a:o.data,"\r\n <----- ",null==d?void 0:d.data);const{type:u,id:p,data:h,error:y,origin:g,remoteId:m}=o;if(this.remoteInfo={origin:g,remoteId:m},u===T.RESPONSE){if(null==p)throw new Error("JsBridge ERROR: parameter [id] is required in JsBridge.receive() when REQUEST type message");if(this.callbacks[p])try{y?this.rejectCallback(p,y):this.resolveCallback(p,h)}catch(e){this.emit(L,e)}}else{if(u!==T.REQUEST)throw new Error(`JsBridge ERROR: payload type not support yet (type=${u||"undefined"})`);{const e=Object.assign(Object.assign({},o),{created:Date.now()});this.emit(q,e)}}}requestSync({data:e,scope:t,remoteId:r}){this.send({id:void 0,type:T.REQUEST,scope:t,data:e,remoteId:r,sync:!0})}request(e){const{data:t,remoteId:r,scope:i}=e;return void 0===t&&console.warn("JsBridge ERROR: data required. Call like `bridge.request({ data: {...} });`"),this.send({type:T.REQUEST,data:t,remoteId:r,sync:!1,scope:i})}response({id:e,data:t,remoteId:r,scope:i}){this.send({type:T.RESPONSE,data:t,id:e,remoteId:r,scope:i,sync:!0})}responseError({id:e,error:t,scope:r,remoteId:i}){this.send({type:T.RESPONSE,error:t,id:e,remoteId:i,scope:r,sync:!0})}}__nested_webpack_require_3197225__(3655);let j=!1;class JsBridgeIframe extends JsBridgeBase{constructor(e){var t;super(e),this.sendAsString=!1,this.isInjected=!0,this.bridgeConfig=e,this.targetOrigin=null!==(t=e.targetOrigin)&&void 0!==t?t:window.location.origin,function setupPostMessageListener(e={}){j||(j=!0,window.addEventListener("message",(t=>{var r,i,n;const s=t.data,a=null===(r=e.bridge)||void 0===r?void 0:r.bridgeConfig;if(a&&s.channel===a.channel&&s.frameName===a.remoteFrameName){const t=s.payload,r=null!==(i=e.bridge)&&void 0!==i?i:null===(n=null===window||void 0===window?void 0:window.$onekey)||void 0===n?void 0:n.jsBridge;r&&r.receive(t)}}),!1))}({debugLogger:this.debugLogger,bridge:this,origin:this.targetOrigin})}sendPayload(e){const t={channel:this.bridgeConfig.channel,frameName:this.bridgeConfig.selfFrameName,payload:e,direction:""};this.bridgeConfig.remoteFrame.postMessage(t,this.targetOrigin)}}var F=__nested_webpack_require_3197225__(5250);let U,z;const H=(0,r.tZ)(r.d3.SendMessage),resetListenerFlag=()=>function setPostMessageListenerFlag(e){j=e}(!1),sendMessage=async(e,t=!0)=>{const n=t?z:U;try{const t=r.Qk.has((0,F.get)(e,"type"))?e.type:void 0;"LOG_EVENT"!==e.event&&(t?H.debug("request: ",t):H.debug("request: ",e));const i=await(null==n?void 0:n.request({scope:d.scope,data:{...e}}));return"LOG_EVENT"!==e.event&&(t?H.debug("request result: ",t):H.debug("request result: ",i)),i}catch(e){throw H.error(e),i.ERRORS.CreateErrorByMessage(e.message)}},G=new(t()),W=(0,r.tZ)(r.d3.Connect);let V=(0,r.h1)();const handleMessage=async e=>{switch(e.event){case r.y2:if(e.type===r.P3.INIT_BRIDGE)return a.resolve(),Promise.resolve({success:!0,payload:"JSBridge Handshake Success"});G.emit(e.event,e),G.emit(e.type,e.payload);break;case r.i3:case r.zi:G.emit(e.event,e);break;case r._4:[r.db.CONNECT,r.db.DISCONNECT,r.db.FEATURES,r.db.SUPPORT_FEATURES].includes(e.type)&&G.emit(e.type,e.payload);break;default:W.warn("No need to be captured message",e.event)}};function checkTrust(e){const t=(e=>{const t=(e=>{if("string"!=typeof e)return;const[,,t]=e.match(/^(https?):\/\/([^:/]+)?/i)??[];if(t){const e=t.split(".");return e.length>2?e.slice(e.length-2,e.length).join("."):t}})(e);return r.qX.find((r=>r.origin===e||r.origin===t))})(e.parentOrigin??"")||(e.extension,!0);if(!t)throw i.ERRORS.TypedError(i.HardwareErrorCode.IframeDistrust,JSON.stringify(e))}const src_dispose=()=>{checkTrust(V),G.removeAllListeners(),(()=>{if(n&&n.parentNode)try{n.parentNode.removeChild(n)}catch(e){}n=null,o=0})(),V=(0,r.h1)(),window.removeEventListener("message",createJSBridge)},uiResponse=e=>{if(!n)throw i.ERRORS.TypedError(i.HardwareErrorCode.IFrameNotInitialized);const{type:t,payload:s}=e;sendMessage({event:r.y2,type:t,payload:s})},cancel=e=>{sendMessage({event:r.P3.CANCEL,type:r.P3.CANCEL,payload:{connectId:e}})};let $=null;const createJSBridge=e=>{var t,i,a;e.origin===s&&(z&&$===(null===(t=n)||void 0===t?void 0:t.contentWindow)||(resetListenerFlag(),(e=>{const t=new JsBridgeIframe(e);e.isHost?z=t:U=t})({isHost:!0,remoteFrame:null===(i=n)||void 0===i?void 0:i.contentWindow,remoteFrameName:d.iframeName,selfFrameName:d.hostName,channel:d.channel,targetOrigin:s,receiveHandler:async e=>{const t=(0,r.vY)(e);"LOG_EVENT"!==t.event&&(["DEVICE_EVENT","FIRMWARE_EVENT"].includes(t.event),W.debug("Host Bridge Receive message: ",t));const i=await handleMessage(t);return"LOG_EVENT"!==t.event&&(["DEVICE_EVENT","FIRMWARE_EVENT"].includes(t.event),W.debug("Host Bridge response: ",t)),i}}),$=null===(a=n)||void 0===a?void 0:a.contentWindow))},src_init=async e=>{if(n)throw i.ERRORS.TypedError(i.HardwareErrorCode.IFrameAleradyInitialized);V=(0,r.h1)({...V,...e}),checkTrust(V),(0,r.sp)(!!e.debug),(0,r.ao)(handleMessage),W.debug("init"),window.addEventListener("message",createJSBridge),window.addEventListener("unload",src_dispose);try{return await init({...V,version:"1.0.12"}),!0}catch(e){return console.log("init error: ",e),!1}},call=async e=>{if(W.debug("call : ",e),!n&&!o){V=(0,r.h1)(V),checkTrust(V),W.debug("Try to recreate iframe if it's initialize failed: ",V);try{if(!await src_init(V))return W.debug("Recreate iframe failed"),(0,r.Gy)(i.ERRORS.TypedError(i.HardwareErrorCode.IFrameLoadFail));W.debug("Recreate iframe success")}catch(e){return W.debug("Recreate iframe failed: ",e),(0,r.Gy)(e)}}if(o)return(0,r.Gy)(i.ERRORS.TypedError(i.HardwareErrorCode.IFrameLoadFail));try{const t=await sendMessage({event:r.P3.CALL,type:r.P3.CALL,payload:e});return t||(0,r.Gy)(i.ERRORS.TypedError(i.HardwareErrorCode.CallMethodNotResponse))}catch(e){W.error("__call error: ",e);let t=e;return t instanceof i.HardwareError||(t=i.ERRORS.CreateErrorByMessage(e.message)),(0,r.Gy)(t)}},updateSettings=async e=>{if(n)throw i.ERRORS.TypedError(i.HardwareErrorCode.IFrameAleradyInitialized);return checkTrust(V),W.debug("updateSettings API Called =>: old settings: ",V),V=(0,r.h1)({...V,...e}),W.debug("updateSettings API Called =>: new settings: ",V),Promise.resolve(!0)},Y={HardwareSDKLowLevel:(0,r.NH)({eventEmitter:G,init:src_init,call,cancel,dispose:src_dispose,addHardwareGlobalEventListener:e=>{[r.y2,r.i3,r.zi,r.db.CONNECT,r.db.DISCONNECT,r.db.FEATURES,r.db.SUPPORT_FEATURES,r.Pr.FIRMWARE_PROGRESS,r.Pr.FIRMWARE_TIP,r.Pr.PREVIOUS_ADDRESS_RESULT].forEach((t=>{G.on(t,(r=>{let i=r;r.event||r.type||(i={...r,event:t,type:t}),null==e||e(i)}))}))},uiResponse,updateSettings}),HardwareSDKTopLevel:(0,r.O3)(),HardwareWebSdk:(0,r.Ay)({eventEmitter:G,init:src_init,call,cancel,dispose:src_dispose,uiResponse,updateSettings})}})(),__nested_webpack_exports__=__nested_webpack_exports__.default,__nested_webpack_exports__})()))}}]);