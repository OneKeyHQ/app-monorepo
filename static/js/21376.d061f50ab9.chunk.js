"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[21376],{793437:(e,n,t)=>{t.d(n,{X:()=>OpenInAppButton});var s=t(586330),a=t(514041),i=t(908867),o=t(17617),r=t(490343),l=t(889949),c=t(726130),u=t(334439),d=t(663522),p=t(117746),h=t(911998),f=t(831085);function OpenInAppButton({buildDeepLinkUrl:e,buildFullUrl:n}){var t=(0,i.A)(),{result:g}=(0,h.yk)((0,s.A)((function*(){var n=e();return(yield p.Ay.linkingCanOpenURL(n))?n:""})),[e]),b=((0,a.useMemo)((function(){return d.Ay.isWebMobile?d.Ay.isWebMobileAndroid?"Open by OneKey Android":d.Ay.isWebMobileIOS?"Open by OneKey iOS":void 0:"Open by OneKey Desktop"}),[]),(0,a.useCallback)((0,s.A)((function*(){var e=yield n();r.Dialog.show({title:t.formatMessage({id:u.ETranslations.open_in_mobile_app}),floatingPanelProps:{overflow:"hidden"},renderContent:(0,f.jsxs)(r.Stack,{children:[(0,f.jsx)(r.Stack,{alignItems:"center",justifyContent:"center",overflow:"hidden",children:(0,f.jsx)(r.Stack,{p:"$4",borderRadius:"$6",borderCurve:"continuous",borderWidth:o.A.hairlineWidth,borderColor:"$borderSubdued",children:(0,f.jsx)(r.QRCode,{value:e,logo:l,logoSize:40,size:224})})}),(0,f.jsxs)(r.XStack,{m:"$-5",mt:"$5",py:"$4",px:"$5",backgroundColor:"$bgSubdued",alignItems:"center",children:[(0,f.jsx)(r.SizableText,{size:"$bodyMd",color:"$textSubdued",flex:1,children:t.formatMessage({id:u.ETranslations.dont_have_mobile_app_yet})}),(0,f.jsx)(r.Button,{size:"small",onPress:function(){(0,p.Dr)(c.A8)},children:t.formatMessage({id:u.ETranslations.global_download})})]})]}),showFooter:!1})})),[n,t]));return(0,f.jsx)(r.Button,{size:"small",onPress:b,children:t.formatMessage({id:u.ETranslations.open_in_mobile_app})})}},660823:(e,n,t)=>{t.d(n,{i:()=>TabPageHeader});var s=t(514041),a=t(490343),i=t(901976),o=t(162616),r=t(208257),l=t(325809),c=t(586330),u=t(908867),d=t(334439),p=t(392097),h=t(595346),f=t(714191),g=t(317522),b=t(812979),m=t(831085);function HeaderLeft({sceneName:e}){var n,t=(0,u.A)(),{tourTimes:i,tourVisited:o}=(0,b.c1)(h.A.switchDappAccount),[r,x]=(0,s.useState)(!1);(0,g.A)(p.V4.Home,(n=(0,c.A)((function*(e,n){x(!n&&e)})),function(e,t){return n.apply(this,arguments)}));var A=(0,s.useMemo)((function(){return 1===i&&r}),[r,i]),j=(0,s.useMemo)((function(){return e===f.Zs.homeUrlAccount?(0,m.jsx)(a.Page.Close,{children:(0,m.jsx)(a.NavBackButton,{})}):(0,m.jsx)(l.Qt,{num:0,spotlightProps:{visible:A,content:(0,m.jsx)(a.SizableText,{size:"$bodyMd",children:t.formatMessage({id:d.ETranslations.spotlight_account_alignment_desc})}),onConfirm:function(){o(2)},childrenPaddingVertical:0}},"accountSelectorTrigger")}),[t,e,A,o]);return(0,m.jsx)(l.b8,{enabledNum:[0],config:{sceneName:e,sceneUrl:""},children:j})}var x=t(896666),A=t(384013),j=t(259227),y=t(948675),S=t(663522),k=t(251039),v=t(596020),w=t(610421),P=t(498356),M=t(793437),$=t(211129),C=t(491180),T=t(796151),_=t(826339);function OpenInAppButtonContainer(){var{activeAccount:{account:e,network:n}}=(0,o.LH)({num:0}),t=(0,s.useCallback)((function(){return e&&n?T.Ay.buildDeepLinkUrl({path:$.oO.url_account,query:{networkCode:n.code,address:e.address}}):""}),[e,n]),a=(0,s.useCallback)((0,c.A)((function*(){return e&&n?(0,_.Hw)({account:e,network:n}):"n"})),[e,n]);return e?.address&&n?.id?(0,m.jsx)(M.X,{buildDeepLinkUrl:t,buildFullUrl:a}):null}function ShareButton(){var{activeAccount:{account:e,network:n}}=(0,o.LH)({num:0}),{shareText:t}=(0,a.useShare)();return e?.address&&n?.id?(0,m.jsx)(a.HeaderIconButton,{onPress:(0,c.A)((function*(){var s=yield(0,_.Hw)({account:e,network:n});yield t(s)})),icon:"ShareOutline"}):null}var O={Address:function Address(){var{activeAccount:{account:e}}=(0,o.LH)({num:0});return(0,a.useMedia)(),(0,m.jsxs)(a.XStack,{alignItems:"center",children:[(0,m.jsx)(a.SizableText,{size:"$headingLg",children:C.A.shortenAddress({address:e?.address})}),null]})},OpenInApp:function OpenInApp(){return(0,m.jsx)(l.b8,{config:{sceneName:f.Zs.homeUrlAccount,sceneUrl:""},enabledNum:[0],children:(0,m.jsx)(OpenInAppButtonContainer,{})})},Share:function Share(){return(0,m.jsx)(l.b8,{config:{sceneName:f.Zs.homeUrlAccount,sceneUrl:""},enabledNum:[0],children:(0,m.jsx)(ShareButton,{})})}},N=t(834015),E=t(390574),H=t(506851);function UniversalSearchInput(){var e=(0,u.A)(),n=(0,P.A)(),t=(0,s.useCallback)((function(){n.pushModal(p.ry.UniversalSearchModal,{screen:E.j.UniversalSearch,params:{filterType:H.j.Address}})}),[n]);return(0,m.jsxs)(a.XStack,{w:280,children:[(0,m.jsx)(a.Input,{leftIconName:"SearchOutline",containerProps:{w:"100%"},size:"small",placeholder:e.formatMessage({id:d.ETranslations.global_search_address})},"searchInput"),(0,m.jsx)(a.View,{position:"absolute",top:0,left:0,right:0,bottom:0,onPress:t})]})}function HeaderRight({sceneName:e}){var n=(0,u.A)(),t=(0,P.A)(),i=(0,N.A)(),[{firstTimeGuideOpened:r,badge:l}]=(0,j.useNotificationsAtom)(),{activeAccount:{account:h}}=(0,o.LH)({num:0}),[g]=(0,A.RI)(),[b]=(0,A.D4)(),M=(0,s.useCallback)((function(){t.pushModal(p.ry.SettingModal,{screen:p.Pj.SettingListModal})}),[t]),$=(0,s.useCallback)((function(){return i.start({handlers:i.PARSE_HANDLER_NAMES.all,autoHandleResult:!0,account:h,tokens:{data:g.tokens,keys:g.keys,map:b}})}),[i,h,g,b]),C=(0,a.useMedia)(),T=(0,s.useCallback)((0,c.A)((function*(){t.pushModal(p.ry.NotificationsModal,{screen:k.f.NotificationList})})),[t]),_=(0,s.useMemo)((function(){var t,s,i,o=(0,m.jsx)(x.v$,{title:n.formatMessage({id:d.ETranslations.settings_settings}),icon:"SettingsOutline",testID:"setting",onPress:M},"setting"),u={routes:""},p=(0,m.jsx)(a.ActionList,{title:n.formatMessage({id:d.ETranslations.global_layout}),items:[S.Ay.isExtensionUiPopup?{label:n.formatMessage({id:d.ETranslations.open_as_sidebar}),icon:"LayoutRightOutline",onPress:(i=(0,c.A)((function*(){y.U.account.wallet.openSidePanel(),yield v.Ay.openPanelOnActionClick(!0),yield v.Ay.openSidePanel(u),window.close()})),function onPress(){return i.apply(this,arguments)})}:{label:n.formatMessage({id:d.ETranslations.open_as_popup}),icon:"LayoutTopOutline",onPress:(s=(0,c.A)((function*(){yield v.Ay.openPanelOnActionClick(!1),window.close()})),function onPress(){return s.apply(this,arguments)})},{label:n.formatMessage({id:d.ETranslations.global_expand_view}),icon:"ExpandOutline",onPress:(t=(0,c.A)((function*(){y.U.account.wallet.openExpandView(),window.close(),yield w.A.serviceApp.openExtensionExpandTab(u)})),function onPress(){return t.apply(this,arguments)})}],renderTrigger:(0,m.jsx)(x.v$,{title:n.formatMessage({id:d.ETranslations.global_layout}),icon:"LayoutRightOutline"},"layoutRightView")},"layoutExtView"),h=(0,m.jsx)(x.v$,{title:n.formatMessage({id:d.ETranslations.scan_scan_qr_code}),icon:"ScanOutline",onPress:$},"scan"),g=(0,m.jsxs)(a.Stack,{children:[(0,m.jsx)(x.v$,{title:n.formatMessage({id:d.ETranslations.global_notifications}),icon:"BellOutline",onPress:T}),!r||l?(0,m.jsx)(a.Stack,{position:"absolute",right:"$-2.5",top:"$-2",alignItems:"flex-end",w:"$10",pointerEvents:"none",children:(0,m.jsx)(a.Stack,{bg:"$bgApp",borderRadius:"$full",borderWidth:2,borderColor:"$transparent",children:(0,m.jsx)(a.Stack,{px:"$1",borderRadius:"$full",bg:"$bgCriticalStrong",minWidth:"$4",height:"$4",alignItems:"center",justifyContent:"center",children:r?(0,m.jsx)(a.SizableText,{color:"$textOnColor",size:"$bodySm",children:l&&l>99?"99+":l}):(0,m.jsx)(a.Stack,{width:"$1",height:"$1",backgroundColor:"white",borderRadius:"$full"})})})}):null]},"notifications"),b=C.gtMd?(0,m.jsx)(UniversalSearchInput,{},"searchInput"):null;return e===f.Zs.homeUrlAccount?[(0,m.jsx)(O.OpenInApp,{},"urlAccountOpenInApp"),(0,m.jsx)(O.Share,{},"urlAccountShare")].filter(Boolean):S.Ay.isExtensionUiPopup||S.Ay.isExtensionUiSidePanel?[p,g,o].filter(Boolean):[h,g=null,o,b].filter(Boolean)}),[n,M,$,T,l,r,C.gtMd,e]);return(0,m.jsx)(x.bE,{testID:"Wallet-Page-Header-Right",className:"app-region-no-drag",children:_})}function HeaderTitle({sceneName:e}){var n=(0,s.useMemo)((function(){if(e===f.Zs.homeUrlAccount)return(0,m.jsx)(O.Address,{},"urlAccountNavHeaderAddress")}),[e]);return(0,m.jsx)(l.b8,{enabledNum:[0],config:{sceneName:e,sceneUrl:""},children:n})}function TabPageHeader({sceneName:e,showHeaderRight:n}){(0,i.e)({name:`web TabPageHeader:${e}:${String(n)}`});var t=(0,s.useCallback)((function(){return(0,m.jsx)(HeaderLeft,{sceneName:e})}),[e]),{config:c}=(0,o.H9)(),u=(0,s.useCallback)((function(){return n&&c?(0,m.jsx)(r.p,{children:(0,m.jsx)(l.b8,{enabledNum:[0],config:c,children:(0,m.jsx)(HeaderRight,{sceneName:e})})}):null}),[c,e,n]),d=(0,s.useCallback)((function(){return(0,m.jsx)(HeaderTitle,{sceneName:e})}),[e]);return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(a.Page.Header,{headerTitle:d,headerLeft:t,headerRight:u})})}},321376:(e,n,t)=>{t.r(n),t.d(n,{default:()=>views_Swap});var s=t(901976),a=t(714191),i=t(325809),o=t(490343),r=t(660823),l=t(797791),c=t(831085);const pages_SwapPageContainer=function(){return(0,s.e)({name:"SwapPageContainer"}),(0,c.jsxs)(o.Page,{fullPage:!0,children:[(0,c.jsx)(r.i,{sceneName:a.Zs.swap,showHeaderRight:!1}),(0,c.jsx)(o.Page.Body,{children:(0,c.jsx)(l.A,{})})]})};const views_Swap=function(){return(0,s.e)({name:"SwapRoutePage"}),(0,c.jsx)(i.b8,{config:{sceneName:a.Zs.swap,sceneUrl:""},enabledNum:[0,1],children:(0,c.jsx)(pages_SwapPageContainer,{})})}}}]);