"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[26172],{326745:(e,t,r)=>{r.d(t,{u:()=>useAppRoute});var n=r(654266);function useAppRoute(){return(0,n.lq)()}},138584:(e,t,r)=>{r.d(t,{Py:()=>SimpleSpinnerSkeleton,am:()=>isLoadingState,bU:()=>PageFrame,o0:()=>isErrorState});var n=r(908867),a=r(490343),i=r(791088),s=r(334439),o=r(831085),PageErrOccurred=function({onPress:e}){var t=(0,n.A)();return(0,o.jsx)(a.Empty,{pt:"$32",icon:"ErrorOutline",title:t.formatMessage({id:s.ETranslations.global_an_error_occurred}),description:t.formatMessage({id:s.ETranslations.global_an_error_occurred_desc}),buttonProps:{onPress:e,children:t.formatMessage({id:s.ETranslations.global_refresh})}})},SimpleSpinnerSkeleton=function(){return(0,o.jsxs)(a.Stack,{children:[(0,o.jsx)(a.Stack,{px:"$5",py:"$2",children:(0,o.jsx)(a.Skeleton.HeadingSm,{})}),Array.from({length:3}).map((function(e,t){return(0,o.jsxs)(i.c,{children:[(0,o.jsx)(a.Skeleton,{h:"$10",w:"$10",radius:"round"}),(0,o.jsxs)(a.Stack,{children:[(0,o.jsx)(a.Skeleton.BodyLg,{}),(0,o.jsx)(a.Skeleton.BodyMd,{})]})]},t)}))]})},isLoadingState=function({result:e,isLoading:t}){return Boolean(void 0===e&&(void 0===t||!0===t))},isErrorState=function({result:e,isLoading:t}){return Boolean(void 0===e&&!1===t)},PageFrame=function({children:e,loading:t,LoadingSkeleton:r,error:n,onRefresh:a}){return t?r?(0,o.jsx)(r,{}):null:n?(0,o.jsx)(PageErrOccurred,{onPress:a}):(0,o.jsx)(o.Fragment,{children:e})}},726172:(e,t,r)=>{r.r(t),r.d(t,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var n=r(586330),a=r(514041),i=r(908867),s=r(17617),o=r(490343),l=r(610421),d=r(391944),c=r(326745),u=r(911998),m=r(639563),f=r(259227),g=r(334439),h=r(491180),x=r(567807),b=r(138584),w=r(544577),p=r(831085),PortfolioItem=function({item:e,network:t}){var r,l,u,b=(0,c.u)(),_=(0,w.Bt)(),{networkId:v}=b.params,k=(0,a.useCallback)((0,n.A)((function*(){yield(0,m.oV)({networkId:v,txid:e.txId})})),[e,v]),j=Math.floor(Math.max(1,(null!=(r=e.endTime)?r:0)-(null!=(l=e.startTime)?l:0))/864e5),S=(0,x.Yq)(new Date(Number(e.startTime)),{hideTimeForever:!0}),y=(0,x.Yq)(new Date(Number(e.endTime)),{hideTimeForever:!0}),[{currencyInfo:{symbol:T}}]=(0,f.useSettingsPersistAtom)(),I={active:"success",withdraw_requested:"warning",overflow:"critical",claimable:"info",claimed:"default",local_pending_activation:"default"},M=(0,i.A)();return(0,p.jsx)(o.Stack,{px:20,children:(0,p.jsxs)(o.Stack,{borderWidth:s.A.hairlineWidth,borderColor:"$borderSubdued",borderRadius:"$3",children:[(0,p.jsxs)(o.XStack,{px:14,pt:14,justifyContent:"space-between",children:[(0,p.jsx)(o.XStack,{gap:"$1",children:(0,w.rR)(e).map((function(e){var t;return(0,p.jsx)(o.Badge,{badgeType:null!=(t=I[e])?t:"default",children:_[e]},e)}))}),e.txId?(0,p.jsx)(o.Button,{onPress:k,size:"small",variant:"tertiary",iconAfter:"OpenOutline",children:h.A.shortenAddress({address:e.txId})}):null]}),(0,p.jsxs)(o.XStack,{p:14,alignItems:"center",children:[(0,p.jsx)(o.Stack,{pr:12,children:(0,p.jsx)(d.o,{tokenImageUri:t?.logoURI})}),(0,p.jsxs)(o.Stack,{children:[(0,p.jsxs)(o.SizableText,{size:"$headingLg",children:[e.amount," ",null!=(u=t?.symbol)?u:""]}),e.fiatValue?(0,p.jsx)(o.NumberSizeableText,{size:"$bodyMd",color:"$textSubdued",formatter:"value",formatterOptions:{currency:T},children:e.fiatValue}):null]})]}),e.startTime&&e.endTime?(0,p.jsxs)(o.XStack,{p:14,bg:"$bgSubdued",alignItems:"center",children:[(0,p.jsx)(o.Icon,{width:20,height:20,name:"Calendar2Outline",color:"$iconSubdued"}),(0,p.jsx)(o.XStack,{w:"$1.5"}),(0,p.jsx)(o.SizableText,{size:"$bodyMd",children:`${M.formatMessage({id:g.ETranslations.earn_number_day},{number:j})} â€¢ ${S} - ${y}`})]}):null]})})},ItemSeparatorComponent=function(){return(0,p.jsx)(o.Stack,{h:"$4"})};const __WEBPACK_DEFAULT_EXPORT__=function(){var e=(0,c.u)(),t=(0,i.A)(),{accountId:r,networkId:n,symbol:s,provider:d}=e.params,{result:m,isLoading:f,run:h}=(0,u.yk)((function(){return Promise.all([l.A.serviceStaking.getPortfolioList({accountId:r,networkId:n,symbol:s,provider:d}),l.A.serviceNetwork.getNetworkSafe({networkId:n}),l.A.serviceStaking.getPendingActivationPortfolioList({accountId:r,networkId:n})])}),[r,n,s,d],{watchLoading:!0}),x=(0,a.useCallback)((function({item:e}){return(0,p.jsx)(PortfolioItem,{item:e,network:m?.[1]})}),[m]),w=(0,a.useMemo)((function(){if(!m)return[];var[e,,t]=m;return[...t,...e]}),[m]);return(0,p.jsxs)(o.Page,{scrollEnabled:!0,children:[(0,p.jsx)(o.Page.Header,{title:t.formatMessage({id:g.ETranslations.earn_portfolio_details})}),(0,p.jsx)(o.Page.Body,{children:(0,p.jsx)(b.bU,{LoadingSkeleton:b.Py,error:(0,b.o0)({result:m,isLoading:f}),loading:(0,b.am)({result:m,isLoading:f}),onRefresh:h,children:m?(0,p.jsx)(o.ListView,{estimatedItemSize:164,data:w,renderItem:x,ListFooterComponent:(0,p.jsx)(o.Stack,{h:"$2"}),ItemSeparatorComponent,ListEmptyComponent:(0,p.jsx)(o.Empty,{icon:"ClockTimeHistoryOutline",title:t.formatMessage({id:g.ETranslations.global_no_transactions_yet}),description:t.formatMessage({id:g.ETranslations.global_no_transactions_yet_desc})})}):null})})]})}},544577:(e,t,r)=>{r.d(t,{Bt:()=>useBabylonStatusMap,U4:()=>getBabylonPortfolioStatus,rR:()=>getBabylonPortfolioTags});var n=r(514041),a=r(908867),i=r(334439),getBabylonPortfolioStatus=function(e){return e.isOverflow?"overflow":e.status},useBabylonStatusMap=function(){var e=(0,a.A)();return(0,n.useMemo)((function(){return{active:e.formatMessage({id:i.ETranslations.earn_active}),withdraw_requested:e.formatMessage({id:i.ETranslations.earn_withdrawal_requested}),overflow:e.formatMessage({id:i.ETranslations.earn_overflow}),claimable:e.formatMessage({id:i.ETranslations.earn_claimable}),claimed:e.formatMessage({id:i.ETranslations.earn_claimed}),local_pending_activation:e.formatMessage({id:i.ETranslations.earn_pending_activation})}}),[e])},getBabylonPortfolioTags=function(e){if(!e.isOverflow)switch(e.status){case"active":return["active"];case"withdraw_requested":return["active","withdraw_requested"];case"claimable":return["claimable"];case"claimed":return["claimed"];case"local_pending_activation":return["local_pending_activation"];default:return[]}switch(e.status){case"active":return["overflow"];case"withdraw_requested":return["withdraw_requested"];case"claimable":return["claimable"];case"claimed":return["claimed"];case"local_pending_activation":return["local_pending_activation"];default:return[]}}}}]);