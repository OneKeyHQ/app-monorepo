"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[13427],{413427:(e,n,t)=>{t.r(n),t.d(n,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var s=t(586330),a=t(514041),r=t(490343),i=t(610421),c=t(162616),o=t(714191),d=t(161024),u=t(465732),l=t(325809),f=t(831085),SignMessageButton=function(){var e=(0,a.useRef)(0),n=(0,a.useCallback)((0,s.A)((function*(){r.Dialog.show({title:"Sign Message",confirmButtonProps:{variant:"destructive"},onConfirm:function(){e.current+=1,i.A.serviceSignature.addSignedMessage({networkId:"evm--1",address:"0x76f3f64cb3cD19debEE51436dF630a342B736C24",message:"hello world",contentType:"text",title:`Sign Message Test ${e.current}`})}})})),[]);return(0,f.jsx)(r.Button,{onPress:n,children:"Sign Message"})},SignTransactionButton=function(){var e=(0,a.useRef)(0),n=(0,a.useCallback)((0,s.A)((function*(){r.Dialog.show({title:"Sign Transaction",confirmButtonProps:{variant:"destructive"},onConfirm:function(){e.current+=1,i.A.serviceSignature.addSignedTransaction({networkId:"evm--1",title:`OneKey Wallet ${e.current}`,hash:"0x866c4749db18695e4359f4e3f121a835d7715638315427e5521bcd078724d0d1",address:"0x76f3f64cb3cD19debEE51436dF630a342B736C24",data:{type:u.w.SEND,amount:"100000",token:{name:"USD Coin",symbol:"USDC",address:"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48"}}})}})})),[]);return(0,f.jsx)(r.Button,{onPress:n,children:"Sign Transaction"})},ConnectSiteButton=function(){var e=(0,a.useCallback)((0,s.A)((function*(){r.Dialog.show({title:"Connect Site",confirmButtonProps:{variant:"destructive"},onConfirm:function(){i.A.serviceSignature.addConnectedSite({url:"https://app.uniswap.org/swap",items:[{networkId:"evm--1",address:"0x76f3f64cb3cD19debEE51436dF630a342B736C24"},{networkId:"evm--56",address:"0x76f3f64cb3cD19debEE51436dF630a342B736C24"}]})}})})),[]);return(0,f.jsx)(r.Button,{onPress:e,children:"Connected Site"})},CustomSignMessage=function({num:e}){var[n,t]=(0,a.useState)(""),[o,u]=(0,a.useState)(!1),{activeAccount:{account:l,network:g}}=(0,c.LH)({num:e}),b=(0,a.useCallback)((0,s.A)((function*(){if(l&&g)try{u(!0),yield i.A.serviceDApp.openSignMessageModal({accountId:l.id,networkId:g.id,request:{origin:"https://www.onekey.so",scope:"ethereum"},unsignedMessage:{type:d.$.PERSONAL_SIGN,message:n}})}finally{u(!1)}})),[n,l,g]);return(0,f.jsxs)(r.YStack,{gap:"$4",children:[(0,f.jsx)(r.Input,{value:n,onChangeText:t,placeholder:"message"}),(0,f.jsx)(r.Button,{onPress:b,loading:o,disabled:!n.trim(),children:"Sign Message"})]})};const __WEBPACK_DEFAULT_EXPORT__=function(){return(0,f.jsx)(r.Page,{children:(0,f.jsxs)(r.YStack,{px:"$4",gap:"$4",children:[(0,f.jsx)(SignMessageButton,{}),(0,f.jsx)(SignTransactionButton,{}),(0,f.jsx)(ConnectSiteButton,{}),(0,f.jsx)(l.b8,{config:{sceneName:o.Zs.home,sceneUrl:""},enabledNum:[0],children:(0,f.jsx)(CustomSignMessage,{num:0})})]})})}}}]);