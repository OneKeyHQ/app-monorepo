
## ğŸŒ ç¯å¢ƒé…ç½®

1. å®‰è£… [node.js LTS ç‰ˆæœ¬ï¼ˆ>= 16ï¼‰](https://nodejs.org/en/)
2. å®‰è£… [yarn åŒ…ç®¡ç†å·¥å…·](https://yarnpkg.com/) 1.18.0 ç‰ˆæœ¬ã€‚ï¼ˆå®‰è£…å®Œæˆæœ€æ–°ç‰ˆæœ¬çš„ yarn ä¹‹åï¼Œæ ¹ç›®å½•æ‰§è¡Œ `yarn policies set-version 1.18.0`ï¼‰
3. å®‰è£… [git lfs](https://git-lfs.github.com/)ï¼ˆéƒ¨åˆ†äºŒè¿›åˆ¶æ–‡ä»¶åœ¨æ‹‰å–å’Œæ›´æ–°æ—¶éœ€è¦ï¼‰
4. å¯åŠ¨ iOS é¡¹ç›®éœ€ç¡®ä¿æœ¬åœ° XCode ç‰ˆæœ¬å¤§äºç­‰äº 13.3
5. å¯åŠ¨ Android é¡¹ç›®éœ€ç¡®ä¿æœ¬åœ° JDK ç‰ˆæœ¬å¤§äºç­‰äº 11

```
# å®‰è£…æ‰€æœ‰ JS ä¾èµ–åŠå­æ¨¡å—ä¾èµ–

yarn

# å…¨å±€å®‰è£… expo å‘½ä»¤è¡Œå·¥å…·

npm install -g expo-cli
```

## ğŸ›  å¼€å‘

åœ¨æ ¹ç›®å½•æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œä»è€Œå¼€å‘ä¸åŒçš„ä¸šåŠ¡ä»£ç 

- `yarn web`: å¼€å‘ç½‘é¡µæ¨¡å¼ï¼Œä¼šå¯åŠ¨é™æ€æœåŠ¡å™¨åœ¨æœ¬åœ° 3000 ç«¯å£
- `yarn ios`: é€šè¿‡ USB è¿æ¥ iphone è®¾å¤‡è¿›è¡Œå¼€å‘è°ƒè¯•
- `yarn android`: è°ƒè¯•å®‰å“
- `yarn desktop`: å¼€å‘æ¡Œé¢ç«¯æ¨¡å¼
- `yarn ext`: å¼€å‘æµè§ˆå™¨æ’ä»¶

### Android é¡¹ç›®é…ç½®

#### ç¬¬ä¸€ç§æ–¹å¼ï¼šé€‚ç”¨äºç¤¾åŒºå¼€å‘äººå‘˜

åœ¨ `packages/app/android/lib-keys-secret/src/main/cpp/keys.c` ä¸­é…ç½®ç›¸å…³ keyï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨é»˜è®¤é€‰é¡¹ã€‚å¯èƒ½ä¸€äº› API ä¼šæœ‰é™åˆ¶ã€‚

#### ç¬¬äºŒç§æ–¹å¼ï¼šé€‚ç”¨äºå®˜æ–¹å¼€å‘äººå‘˜

1. å‰å¾€åŠ å¯†ä»“åº“è·å– `debug.keystore` æ–‡ä»¶ï¼Œæ”¾å…¥ `packages/app/android/keystores` ç›®å½•ä¸­ï¼Œæ²¡æœ‰è¯¥ç›®å½•è¯·è‡ªè¡Œåˆ›å»ºã€‚
2. å‰å¾€åŠ å¯†ä»“åº“è·å– `keys.secret` æ–‡ä»¶ï¼Œæ”¾å…¥ `packages/app/android` ç›®å½•ä¸­ã€‚

## ğŸ—‚ å¤šä»“åº“ç›®å½•ç»“æ„

ä»“åº“ä½¿ç”¨ monorepo æ¨¡å¼è¿›è¡Œç»„ç»‡ï¼Œåœ¨ä¿è¯ä¸åŒç«¯çš„ä»£ç é›†ä¸­ä¸”äº’ç›¸ä¸å½±å“çš„å¤§å‰æä¸‹ï¼Œåˆå°½å¯èƒ½çš„åœ¨æ‰“åŒ…å’Œç¼–è¯‘è¿‡ç¨‹ä¸­è®©ä»£ç å¤ç”¨

- `packages/components` å­˜æ”¾ UI ç»„ä»¶
- `packages/kit` å­˜æ”¾å¯å¤ç”¨é¡µé¢çº§åˆ« UI å†…å®¹
- `packages/app` APP ä»£ç 
- `packages/desktop` æ¡Œé¢ç«¯ electron ä»£ç 
- `packages/web` ç½‘é¡µç«¯ä»£ç 
- `packages/ext` æ’ä»¶ç«¯ä»£ç 

## ğŸ§² å®‰è£…ä¾èµ–

`packages/` ç›®å½•ä¸‹çš„æ¯ä¸€ä¸ªå­ç›®å½•å³ä¸€ä¸ªç‹¬ç«‹çš„é¡¹ç›®ï¼Œå¯¹åº”åœ¨ monorepo åç§°å³ä¸ºå¯¹åº”ç›®å½•ä¸­ **package.json** çš„ `name` å­—æ®µçš„å€¼ã€‚

å½“éœ€è¦ç»™æŸä¸€ä¸ªå­ç›®å½•å®‰è£…ä¾èµ–æ—¶ï¼Œåªéœ€è¦ä½¿ç”¨ `yarn workspace @onekeyhq/web add axios`ã€‚é€šè¿‡ `yarn workspace @onekeyhq/web` è¿™æ ·çš„å‰ç¼€ï¼Œæœ€ç»ˆå¯ä»¥åœ¨æ ¹ç›®å½•æŠŠ axios æ¨¡å—å®‰è£…åˆ° web è¿™ä¸ªå­é¡¹ç›®å½“ä¸­ã€‚

éƒ¨åˆ†ä¾èµ–æœ‰åŸç”Ÿéƒ¨åˆ†ï¼Œæ‰€ä»¥æ‰§è¡Œå®‰è£…å®Œ JS ä¾èµ–åéœ€è¦è¿›å…¥ `packages/app/ios` ç›®å½•ä¸‹æ‰§è¡Œ `pod install`ã€‚

## ğŸ˜· å¸¸è§é—®é¢˜

1. app æ— æ³•å¯åŠ¨åŠå„ç±»ç¯å¢ƒå¯åŠ¨é—®é¢˜

ä»»ä½•å¯åŠ¨é˜¶æ®µçš„ç¯å¢ƒï¼Œæ¨¡å—åŠä¾èµ–é—®é¢˜ï¼Œéƒ½æ¨èå…ˆä½¿ç”¨æ ¹ç›®å½•ä¸‹å‘½ä»¤ `yarn clean`ã€‚å‘½ä»¤ä¸­ä¼šæ¸…é™¤æ‰€æœ‰å­ä¾èµ–ï¼ŒåŒæ—¶æ¸…é™¤ yarn çš„æ¨¡å—ç¼“å­˜ï¼Œmetro / babel ç­‰å·¥å…·ç¼“å­˜ï¼Œä¹‹åé‡æ–°å¯åŠ¨é¡¹ç›®å°è¯•ã€‚

2. yarn å®‰è£…ä¾èµ–è¿‡ç¨‹ä¸­æˆ–æ–°å¢ä¾èµ–æ—¶ï¼Œæç¤º **error An unexpected error occurred: "expected workspace package to exist for**

å‚è€ƒ https://github.com/yarnpkg/yarn/issues/7807ï¼Œé€šè¿‡å‘½ä»¤ `yarn policies set-version 1.18.0` è®¾ç½®å½“å‰ç¯å¢ƒ yarn ç‰ˆæœ¬ä¸º 1.18.0