!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var r=t();for(var n in r)("object"==typeof exports?exports:e)[n]=r[n]}}(window,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=89)}([function(e,t,r){e.exports=r(48)},function(e,t,r){"use strict";function n(e){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";function n(e,t,r,n,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void r(e)}c.done?t(s):Promise.resolve(s).then(n,o)}function o(e){return function(){var t=this,r=arguments;return new Promise((function(o,i){var a=e.apply(t,r);function c(e){n(a,o,i,c,s,"next",e)}function s(e){n(a,o,i,c,s,"throw",e)}c(void 0)}))}}r.d(t,"a",(function(){return o}))},function(e,t,r){"use strict";function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";var n,o;r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return o})),function(e){e.RESPONSE="RESPONSE",e.REQUEST="REQUEST"}(n||(n={})),function(e){e.ethereum="ethereum",e.conflux="conflux",e.solana="solana",e.sollet="sollet",e.$private="$private"}(o||(o={}))},function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}r.d(t,"a",(function(){return o}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(37),o=r.n(n),i=r(3);function a(e,t){if(t&&("object"===o()(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Object(i.a)(e)}},function(e,t,r){"use strict";function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}r.d(t,"a",(function(){return o}))},function(e,t,r){"use strict";(function(e){r.d(t,"e",(function(){return o})),r.d(t,"c",(function(){return a})),r.d(t,"b",(function(){return c})),r.d(t,"d",(function(){return s})),r.d(t,"f",(function(){return d})),r.d(t,"a",(function(){return p}));var n=r(22),o=function(){return void 0!==e.env.JEST_WORKER_ID},i=function(){return"undefined"!=typeof window},a=function(){return"undefined"!=typeof InstallTrigger},c=function(){return!1},s=function(){return!0},u=function(){return c()&&i()&&window.location.pathname.startsWith("/background.html")},l=function(){return c()&&!i()&&Boolean(global.serviceWorker)&&global.serviceWorker instanceof ServiceWorker},f=function(){return c()&&i()&&window.location.pathname.startsWith("/ui-")},d=function(){return c()&&3===chrome.runtime.getManifest().manifest_version},p=function(){return!1},h=function(){return"ios"===n.Platform.OS},v=function(){return"android"===n.Platform.OS},y={isMac:void 0!==e&&("darwin"===e.platform||"undefined"!=typeof navigator&&["Macintosh","MacIntel","MacPPC","Mac68K"].includes(navigator.platform)),isWindows:"undefined"!=typeof navigator&&["Win32","Win64","Windows","WinCE"].includes(navigator.platform),isLinux:"undefined"!=typeof navigator&&/Linux/.test(navigator.platform),isWeb:!1,isDesktop:!1,isManifestV3:d(),isExtension:c(),isExtensionBackground:u()||l(),isExtensionBackgroundHtml:u(),isExtensionBackgroundServiceWorker:l(),isExtensionUi:f(),isExtensionUiPopup:f()&&window.location.pathname.startsWith("/ui-popup.html"),isExtensionUiExpandTab:f()&&window.location.pathname.startsWith("/ui-expand-tab.html"),isExtensionUiStandaloneWindow:f()&&window.location.pathname.startsWith("/ui-standalone-window.html"),isNative:v()||h(),isInjected:s(),isMAS:!!e.env.IS_MAS,isDev:p(),isBrowser:i(),isFirefox:a(),isIOS:h(),isAndroid:v()};p()&&(global.$$platformEnv=y)}).call(this,r(27))},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const n=r(20);Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return n.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return n.EthereumProviderError}});const o=r(36);Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return o.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return o.getMessageFromCode}});const i=r(85);Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return i.ethErrors}});const a=r(21);Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return a.errorCodes}})},function(e,t,r){"use strict";var n=r(2),o=r(0),i=r.n(o),a=(r(24),r(9)),c=r(38),s=r.n(c);function u(){var e;if(!Object(a.e)()){console.warn("debugLogger not ready yet, fallback to console.log()");for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];(e=console).log.apply(e,["[debugLogger]: "].concat(r))}}var l={http:u,jsBridge:u,webview:u,desktopInjected:u,ethereum:u,backgroundApi:u,extContentScripts:u,extInjected:u};function f(){return(f=Object(n.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s()();case 2:t=e.sent,Object.assign(l,{debug:t,http:t("http"),jsBridge:t("jsBridge"),webview:t("webview"),desktopInjected:t("desktopInjected"),ethereum:t("ethereum"),extContentScripts:t("extContentScripts"),extInjected:t("extInjected"),backgroundApi:t("backgroundApi")});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){f.apply(this,arguments)}(),Object(a.d)()?(global.$onekey=global.$onekey||{},global.$onekey.debugLogger=l):Object(a.a)()&&(global.$$debugLogger=l),t.a=l},function(e,t){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(e,t){var r=e.exports={version:"2.6.12"};"number"==typeof __e&&(__e=r)},function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty,o="~";function i(){}function a(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function c(e,t,r,n,i){if("function"!=typeof r)throw new TypeError("The listener must be a function");var c=new a(r,n||e,i),s=o?o+t:t;return e._events[s]?e._events[s].fn?e._events[s]=[e._events[s],c]:e._events[s].push(c):(e._events[s]=c,e._eventsCount++),e}function s(e,t){0==--e._eventsCount?e._events=new i:delete e._events[t]}function u(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(o=!1)),u.prototype.eventNames=function(){var e,t,r=[];if(0===this._eventsCount)return r;for(t in e=this._events)n.call(e,t)&&r.push(o?t.slice(1):t);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},u.prototype.listeners=function(e){var t=o?o+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var n=0,i=r.length,a=new Array(i);n<i;n++)a[n]=r[n].fn;return a},u.prototype.listenerCount=function(e){var t=o?o+e:e,r=this._events[t];return r?r.fn?1:r.length:0},u.prototype.emit=function(e,t,r,n,i,a){var c=o?o+e:e;if(!this._events[c])return!1;var s,u,l=this._events[c],f=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),f){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,r),!0;case 4:return l.fn.call(l.context,t,r,n),!0;case 5:return l.fn.call(l.context,t,r,n,i),!0;case 6:return l.fn.call(l.context,t,r,n,i,a),!0}for(u=1,s=new Array(f-1);u<f;u++)s[u-1]=arguments[u];l.fn.apply(l.context,s)}else{var d,p=l.length;for(u=0;u<p;u++)switch(l[u].once&&this.removeListener(e,l[u].fn,void 0,!0),f){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,t);break;case 3:l[u].fn.call(l[u].context,t,r);break;case 4:l[u].fn.call(l[u].context,t,r,n);break;default:if(!s)for(d=1,s=new Array(f-1);d<f;d++)s[d-1]=arguments[d];l[u].fn.apply(l[u].context,s)}}return!0},u.prototype.on=function(e,t,r){return c(this,e,t,r,!1)},u.prototype.once=function(e,t,r){return c(this,e,t,r,!0)},u.prototype.removeListener=function(e,t,r,n){var i=o?o+e:e;if(!this._events[i])return this;if(!t)return s(this,i),this;var a=this._events[i];if(a.fn)a.fn!==t||n&&!a.once||r&&a.context!==r||s(this,i);else{for(var c=0,u=[],l=a.length;c<l;c++)(a[c].fn!==t||n&&!a[c].once||r&&a[c].context!==r)&&u.push(a[c]);u.length?this._events[i]=1===u.length?u[0]:u:s(this,i)}return this},u.prototype.removeAllListeners=function(e){var t;return e?(t=o?o+e:e,this._events[t]&&s(this,t)):(this._events=new i,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=o,u.EventEmitter=u,e.exports=u},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,r){e.exports=!r(26)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t){function r(e,t,r,n,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void r(e)}c.done?t(s):Promise.resolve(s).then(n,o)}e.exports=function(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var a=e.apply(t,n);function c(e){r(a,o,i,c,s,"next",e)}function s(e){r(a,o,i,c,s,"throw",e)}c(void 0)}))}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,r){var n=r(30),o=r(75),i=r(76),a=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?o(e):i(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EthereumProviderError=t.EthereumRpcError=void 0;const n=r(84);class o extends Error{constructor(e,t,r){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!t||"string"!=typeof t)throw new Error('"message" must be a nonempty string.');super(t),this.code=e,void 0!==r&&(this.data=r)}serialize(){const e={code:this.code,message:this.message};return void 0!==this.data&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return n.default(this.serialize(),i,2)}}t.EthereumRpcError=o;function i(e,t){if("[Circular]"!==t)return t}t.EthereumProviderError=class extends o{constructor(e,t,r){if(!function(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,t,r)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.errorValues=t.errorCodes=void 0,t.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},t.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}}},function(e,t){e.exports={Platform:{OS:"web"}}},function(e,t,r){"use strict";r.d(t,"c",(function(){return n})),r.d(t,"b",(function(){return o})),r.d(t,"a",(function(){return i}));var n="JS_BRIDGE_MESSAGE_IPC_CHANNEL",o="JS_BRIDGE_MESSAGE_EXT_CHANNEL",i={HOST_TO_INPAGE:"HOST_TO_INPAGE",INPAGE_TO_HOST:"INPAGE_TO_HOST"}},function(e,t,r){r(49),e.exports=r(14).global},function(e,t,r){var n=r(51),o=r(56);e.exports=r(17)?function(e,t,r){return n.f(e,t,o(1,r))}:function(e,t,r){return e[t]=r,e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){var r,n,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function c(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var s,u=[],l=!1,f=-1;function d(){l&&s&&(l=!1,s.length?u=s.concat(u):f=-1,u.length&&p())}function p(){if(!l){var e=c(d);l=!0;for(var t=u.length;t;){for(s=u,u=[];++f<t;)s&&s[f].run();f=-1,t=u.length}s=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function v(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new h(e,t)),1!==u.length||l||c(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){var r=1e3,n=6e4,o=60*n,i=24*o;function a(e,t,r,n){var o=t>=1.5*r;return Math.round(e/r)+" "+n+(o?"s":"")}e.exports=function(e,t){t=t||{};var c=typeof e;if("string"===c&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var a=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"weeks":case"week":case"w":return 6048e5*a;case"days":case"day":case"d":return a*i;case"hours":case"hour":case"hrs":case"hr":case"h":return a*o;case"minutes":case"minute":case"mins":case"min":case"m":return a*n;case"seconds":case"second":case"secs":case"sec":case"s":return a*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}(e);if("number"===c&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=i)return a(e,t,i,"day");if(t>=o)return a(e,t,o,"hour");if(t>=n)return a(e,t,n,"minute");if(t>=r)return a(e,t,r,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=i)return Math.round(e/i)+"d";if(t>=o)return Math.round(e/o)+"h";if(t>=n)return Math.round(e/n)+"m";if(t>=r)return Math.round(e/r)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,r){var n=r(73).Symbol;e.exports=n},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,r){"use strict";var n=r(81),o="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),i=Object.prototype.toString,a=Array.prototype.concat,c=Object.defineProperty,s=c&&function(){var e={};try{for(var t in c(e,"x",{enumerable:!1,value:e}),e)return!1;return e.x===e}catch(e){return!1}}(),u=function(e,t,r,n){var o;(!(t in e)||"function"==typeof(o=n)&&"[object Function]"===i.call(o)&&n())&&(s?c(e,t,{configurable:!0,enumerable:!1,value:r,writable:!0}):e[t]=r)},l=function(e,t){var r=arguments.length>2?arguments[2]:{},i=n(t);o&&(i=a.call(i,Object.getOwnPropertySymbols(t)));for(var c=0;c<i.length;c+=1)u(e,i[c],t[i[c]],r[i[c]])};l.supportsDescriptors=!!s,e.exports=l},function(e,t,r){"use strict";var n=Object.prototype.toString;e.exports=function(e){var t=n.call(e),r="[object Arguments]"===t;return r||(r="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===n.call(e.callee)),r}},function(e,t,r){"use strict";e.exports=global},function(e,t,r){"use strict";var n=r(34);e.exports=function(){return"object"==typeof global&&global&&global.Math===Math&&global.Array===Array?global:n}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const n=r(21),o=r(20),i=n.errorCodes.rpc.internal,a={code:i,message:c(i)};function c(e,r="Unspecified error message. This is a bug, please report it."){if(Number.isInteger(e)){const r=e.toString();if(f(n.errorValues,r))return n.errorValues[r].message;if(u(e))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return r}function s(e){if(!Number.isInteger(e))return!1;const t=e.toString();return!!n.errorValues[t]||!!u(e)}function u(e){return e>=-32099&&e<=-32e3}function l(e){return e&&"object"==typeof e&&!Array.isArray(e)?Object.assign({},e):e}function f(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.",t.getMessageFromCode=c,t.isValidCode=s,t.serializeError=function(e,{fallbackError:t=a,shouldIncludeStack:r=!1}={}){var n,i;if(!t||!Number.isInteger(t.code)||"string"!=typeof t.message)throw new Error("Must provide fallback error with integer number code and string message.");if(e instanceof o.EthereumRpcError)return e.serialize();const u={};if(e&&"object"==typeof e&&!Array.isArray(e)&&f(e,"code")&&s(e.code)){const t=e;u.code=t.code,t.message&&"string"==typeof t.message?(u.message=t.message,f(t,"data")&&(u.data=t.data)):(u.message=c(u.code),u.data={originalError:l(e)})}else{u.code=t.code;const r=null===(n=e)||void 0===n?void 0:n.message;u.message=r&&"string"==typeof r?r:t.message,u.data={originalError:l(e)}}const d=null===(i=e)||void 0===i?void 0:i.stack;return r&&e&&d&&"string"==typeof d&&(u.stack=d),u}},function(e,t){function r(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(e.exports=r=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=r=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),r(t)}e.exports=r,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,r){var n=r(0),o=r(18),i=r(65),a=r(71);function c(){return(c=o(n.mark((function e(){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i(a));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}e.exports=function(){return c.apply(this,arguments)}},function(e,t,r){"use strict";const n=r(72),{hasOwnProperty:o}=Object.prototype,{propertyIsEnumerable:i}=Object,a=(e,t,r)=>Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0}),c=this,s={concatArrays:!1,ignoreUndefined:!1},u=e=>{const t=[];for(const r in e)o.call(e,r)&&t.push(r);if(Object.getOwnPropertySymbols){const r=Object.getOwnPropertySymbols(e);for(const n of r)i.call(e,n)&&t.push(n)}return t};function l(e){return Array.isArray(e)?function(e){const t=e.slice(0,0);return u(e).forEach(r=>{a(t,r,l(e[r]))}),t}(e):n(e)?function(e){const t=null===Object.getPrototypeOf(e)?Object.create(null):{};return u(e).forEach(r=>{a(t,r,l(e[r]))}),t}(e):e}const f=(e,t,r,n)=>(r.forEach(r=>{void 0===t[r]&&n.ignoreUndefined||(r in e&&e[r]!==Object.getPrototypeOf(e)?a(e,r,d(e[r],t[r],n)):a(e,r,l(t[r])))}),e);function d(e,t,r){return r.concatArrays&&Array.isArray(e)&&Array.isArray(t)?((e,t,r)=>{let n=e.slice(0,0),i=0;return[e,t].forEach(t=>{const c=[];for(let r=0;r<t.length;r++)o.call(t,r)&&(c.push(String(r)),a(n,i++,t===e?t[r]:l(t[r])));n=f(n,t,u(t).filter(e=>!c.includes(e)),r)}),n})(e,t,r):n(t)&&n(e)?f(e,t,u(t),r):l(t)}e.exports=function(...e){const t=d(l(s),this!==c&&this||{},s);let r={_:{}};for(const o of e)if(void 0!==o){if(!n(o))throw new TypeError("`"+o+"` is not an Option Object");r=d(r,{_:o},t)}return r._}},function(e,t,r){"use strict";var n=r(10),o=r(2),i=r(4),a=r(6),c=r(8),s=r(7),u=r(1),l=r(0),f=r.n(l),d=(r(24),r(15)),p=r.n(d),h=r(41),v=r.n(h),y=r(42),g=r.n(y),m=r(12),b=r(5);function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var o=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var x=function(e){Object(c.a)(r,e);var t=j(r);function r(){var e,n,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{debug:!1};return Object(i.a)(this,r),(n=t.call(this)).isInjected=!1,n.sendAsString=!0,n.globalOnMessageEnabled=!0,n.globalOnMessage=function(){var e=Object(o.a)(f.a.mark((function e(t){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!n.config.receiveHandler||!n.globalOnMessageEnabled){e.next=6;break}return e.next=4,n.config.receiveHandler(t);case 4:r=e.sent,t.id&&n.response({id:t.id,scope:t.scope,remoteId:t.remoteId,data:r});case 6:e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),t.id&&t.type===b.b.REQUEST&&n.responseError({id:t.id,remoteId:t.remoteId,error:e.t0}),n.emit("error",e.t0);case 12:return e.prev=12,e.finish(12);case 14:case"end":return e.stop()}}),e,null,[[0,8,12,14]])})));return function(t){return e.apply(this,arguments)}}(),n.remoteInfo={origin:"",remoteId:""},n.callbacks=[],n.callbackId=1,n.config=a,n.sendAsString=null!==(e=a.sendAsString)&&void 0!==e?e:n.sendAsString,n.version="1.0.1",n.config.receiveHandler&&n.on("message",n.globalOnMessage),n.on("error",(function(e){return console.error("OneKey JsBridge ERROR: ",e)})),n}return Object(a.a)(r,[{key:"createCallbackId",value:function(){return this.callbackId+=1,this.callbackId}},{key:"createPayload",value:function(e,t){var r=t.resolve,n=t.reject,o=e.id,i=e.type;if(r&&n&&o&&i===b.b.REQUEST){if(this.callbacks[o])throw new Error("JsBridgeError: callback exists, id=".concat(o));this.callbacks[o]={id:o,resolve:r,reject:n,created:Date.now()}}return e.error&&(e.error={code:e.error.code,message:e.error.message,stack:e.error.stack}),e}},{key:"send",value:function(e){var t=this,r=e.type,n=e.data,o=e.error,i=e.id,a=e.remoteId,c=e.sync,s=void 0!==c&&c,u=e.scope,l=function(e,c){var l,f,d=i;s||r!==b.b.REQUEST||(d=t.createCallbackId());var p=t.createPayload({id:d,data:n,error:o,type:r,origin:(null===(l=global)||void 0===l||null===(f=l.location)||void 0===f?void 0:f.origin)||"",remoteId:a,scope:u},{resolve:e,reject:c}),h=p;t.sendAsString&&(h=JSON.stringify(p)),m.a.jsBridge("send",p.data,p),t.sendPayload(h)};if(!s)return new Promise(l);l()}},{key:"receive",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,r={data:null};if(v()(e)&&(r=e),g()(e)&&(r=JSON.parse(e)),r.origin=null==t?void 0:t.origin,r.internal=Boolean(null==t?void 0:t.internal),!r.origin&&!this.isInjected)throw new Error("JsBridge receive message [payload.origin] is required.");if(!r.internal&&!r.scope)throw new Error("JsBridge receive message [payload.scope] is required for non-internal method call.");m.a.jsBridge("receive",r.data,r,t);var n=r,o=n.type,i=n.id,a=n.data,c=n.error,s=n.origin,u=n.remoteId;if(this.remoteInfo={origin:s,remoteId:u},o===b.b.RESPONSE){if(null==i)throw new Error("id is required in JsBridge receive() REQUEST type message");var l=this.callbacks[i];if(l)try{c?(l.reject&&l.reject(c),this.emit("error",c)):l.resolve&&l.resolve(a)}catch(e){this.emit("error",e)}finally{delete this.callbacks[i]}}else{if(o!==b.b.REQUEST)throw new Error("JsBridge payload type not support yet (type=".concat(o||"undefined",")"));var f=O(O({},r),{},{created:Date.now()});this.emit("message",f)}}},{key:"requestSync",value:function(e){var t=e.data,r=e.scope,n=e.remoteId;this.send({type:b.b.REQUEST,scope:r,data:t,remoteId:n,sync:!0})}},{key:"request",value:function(e){var t=e.data,r=e.remoteId,n=e.scope;return this.send({type:b.b.REQUEST,data:t,remoteId:r,sync:!1,scope:n})}},{key:"response",value:function(e){var t=e.id,r=e.data,n=e.remoteId,o=e.scope;this.send({type:b.b.RESPONSE,data:r,id:t,remoteId:n,scope:o,sync:!0})}},{key:"responseError",value:function(e){var t=e.id,r=e.error,n=e.remoteId;this.send({type:b.b.RESPONSE,error:r,id:t,remoteId:n,sync:!0})}}]),r}(p.a);t.a=x},function(e,t,r){var n=r(19),o=r(77),i=r(31),a=Function.prototype,c=Object.prototype,s=a.toString,u=c.hasOwnProperty,l=s.call(Object);e.exports=function(e){if(!i(e)||"[object Object]"!=n(e))return!1;var t=o(e);if(null===t)return!0;var r=u.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&s.call(r)==l}},function(e,t,r){var n=r(19),o=r(79),i=r(31);e.exports=function(e){return"string"==typeof e||!o(e)&&i(e)&&"[object String]"==n(e)}},function(e,t,r){"use strict";t.a=function(e){var t=window.$onekey,r=e.scope;console.log("injectedProviderReceiveHandler onMessage from (".concat(r,")"),e);var n=e.data;if(!r)throw new Error("providerName (scope) is required in injectedProviderReceiveHandler.");var o=t[r];if(!o)throw new Error("[".concat(r,"] provider is NOT injected to document."));o.bridge.emit("notification",n)}},function(e,t,r){"use strict";t.a=function(e){var t,n;window.global=window.global||window||window.globalThis,r(80),window.global=window.global||window||window.globalThis,null!==(t=window)&&void 0!==t&&null!==(n=t.$onekey)&&void 0!==n&&n.jsBridge||(window.$onekey=window.$onekey||{},window.$onekey.jsBridge=e),console.log("===== OneKey jsBridge injected success! 897 >>>>> ",performance.now())}},function(e,t,r){"use strict";e.exports=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;var n,o,i;if(Array.isArray(t)){if((n=t.length)!=r.length)return!1;for(o=n;0!=o--;)if(!e(t[o],r[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((n=(i=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(o=n;0!=o--;)if(!Object.prototype.hasOwnProperty.call(r,i[o]))return!1;for(o=n;0!=o--;){var a=i[o];if(!e(t[a],r[a]))return!1}return!0}return t!=t&&r!=r}},function(e,t,r){var n=r(19),o=r(86);e.exports=function(e){if(!o(e))return!1;var t=n(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t,r){"use strict";var n=r(10),o=r(4),i=r(8),a=r(7),c=r(1),s=r(2),u=r(6),l=r(3),f=r(0),d=r.n(f),p=r(11),h=r(45),v=r.n(h),y=r(12),g=r(5),m=r(15),b=r.n(m),w=r(46),O=r.n(w);function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var o=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(a.a)(this,r)}}var x=function(e){Object(i.a)(n,e);var t,r=j(n);function n(e){var t;return Object(o.a)(this,n),(t=r.call(this)).isOneKey=!0,t.config=e,t.bridge=e.bridge,t}return Object(u.a)(n,[{key:"bridgeRequest",value:(t=Object(s.a)(d.a.mark((function e(t,r){var n,o,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!1,r&&O()(r)&&(n=!0),e.prev=2,e.next=5,this.bridge.request({data:null!=t?t:{},scope:this.providerName});case 5:return o=e.sent,i=o?o.result:void 0,r&&n&&r(null,i),e.abrupt("return",i);case 11:throw e.prev=11,e.t0=e.catch(2),r&&n&&r(e.t0),e.t0;case 15:case"end":return e.stop()}}),e,this,[[2,11]])}))),function(e,r){return t.apply(this,arguments)})}]),n}(b.a),_={errors:{disconnected:function(){return"MetaMask: Disconnected from chain. Attempting to connect."},permanentlyDisconnected:function(){return"MetaMask: Disconnected from MetaMask background. Page reload required."},sendSiteMetadata:function(){return"MetaMask: Failed to send site metadata. This is an internal error, please report this bug."},unsupportedSync:function(e){return"MetaMask: The MetaMask Ethereum provider does not support synchronous methods like ".concat(e," without a callback parameter.")},invalidDuplexStream:function(){return"Must provide a Node.js-style duplex stream."},invalidRequestArgs:function(){return"Expected a single, non-array, object argument."},invalidRequestMethod:function(){return"'args.method' must be a non-empty string."},invalidRequestParams:function(){return"'args.params' must be an object or array if provided."},invalidLoggerObject:function(){return"'args.logger' must be an object if provided."},invalidLoggerMethod:function(e){return"'args.logger' must include required method '".concat(e,"'.")}},info:{connected:function(e){return'MetaMask: Connected to chain with ID "'.concat(e,'".')}},warnings:{enableDeprecation:"MetaMask: 'ethereum.enable()' is deprecated and may be removed in the future. Please use the 'eth_requestAccounts' RPC method instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1102",sendDeprecation:"MetaMask: 'ethereum.send(...)' is deprecated and may be removed in the future. Please use 'ethereum.sendAsync(...)' or 'ethereum.request(...)' instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193",events:{close:"MetaMask: The event 'close' is deprecated and may be removed in the future. Please use 'disconnect' instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193#disconnect",data:"MetaMask: The event 'data' is deprecated and will be removed in the future. Use 'message' instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193#message",networkChanged:"MetaMask: The event 'networkChanged' is deprecated and may be removed in the future. Use 'chainChanged' instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193#chainchanged",notification:"MetaMask: The event 'notification' is deprecated and may be removed in the future. Use 'message' instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193#message"},experimentalMethods:"MetaMask: 'ethereum._metamask' exposes non-standard, experimental methods. They may be removed or changed without warning."}};var k=function(){},E=["eth_subscription"];function C(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return S(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var o=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(a.a)(this,r)}}var A=function(e){Object(i.a)(f,e);var t,r,a,c=R(f);function f(e){var t,r;Object(o.a)(this,f),(r=c.call(this,e)).providerName=g.a.ethereum,r.isMetaMask=!0,r._log=null!==(t=e.logger)&&void 0!==t?t:window.console,r._state=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},f._defaultState),r.selectedAddress=null,r.chainId=null,r._handleAccountsChanged=r._handleAccountsChanged.bind(Object(l.a)(r)),r._handleConnect=r._handleConnect.bind(Object(l.a)(r)),r._handleChainChanged=r._handleChainChanged.bind(Object(l.a)(r)),r._handleDisconnect=r._handleDisconnect.bind(Object(l.a)(r)),r._handleStreamDisconnect=r._handleStreamDisconnect.bind(Object(l.a)(r)),r._handleUnlockStateChanged=r._handleUnlockStateChanged.bind(Object(l.a)(r)),r._rpcRequest=r._rpcRequest.bind(Object(l.a)(r)),r.request=r.request.bind(Object(l.a)(r));r._handleStreamDisconnect.bind(Object(l.a)(r),"OneKey");r.on("connect",(function(){r._state.isConnected=!0}));r._handleStreamDisconnect.bind(Object(l.a)(r),"OneKey RpcProvider");return r._initializeState(),r.bridge.on("notification",(function(e){var t=e.method,n=e.params;if("metamask_accountsChanged"===t)r._handleAccountsChanged(n);else if("metamask_unlockStateChanged"===t)r._handleUnlockStateChanged(n);else if("metamask_chainChanged"===t)r._handleChainChanged(n);else if(E.includes(t))r.emit("message",{type:t,data:n});else if("METAMASK_STREAM_FAILURE"===t)new Error(_.errors.permanentlyDisconnected())})),r}return Object(u.a)(f,[{key:"isConnected",value:function(){return this._state.isConnected}},{key:"request",value:(a=Object(s.a)(d.a.mark((function e(t){var r,n,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y.a.ethereum("request",t),t&&"object"==typeof t&&!Array.isArray(t)){e.next=3;break}throw p.ethErrors.rpc.invalidRequest({message:_.errors.invalidRequestArgs(),data:t});case 3:if(r=t.method,n=t.params,r&&"string"==typeof r&&0!==r.length){e.next=6;break}throw p.ethErrors.rpc.invalidRequest({message:_.errors.invalidRequestMethod(),data:t});case 6:if(void 0===n||Array.isArray(n)||"object"==typeof n&&null!==n){e.next=8;break}throw p.ethErrors.rpc.invalidRequest({message:_.errors.invalidRequestParams(),data:t});case 8:return e.next=10,this._rpcRequest({method:r,params:n});case 10:return o=e.sent,y.a.ethereum("request->response","\n",t,"\n ---\x3e ",o),e.abrupt("return",o);case 13:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"_initializeState",value:(r=Object(s.a)(d.a.mark((function e(){var t,r,n,o,i,a,c,s,u,l,f;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.request({method:"metamask_getProviderState"});case 3:i=e.sent,c=(a=i).accounts,s=a.chainId,u=a.isUnlocked,l=a.networkVersion,f=a.debugLoggerSettings,null!==(t=window)&&void 0!==t&&null!==(r=t.$onekey)&&void 0!==r&&null!==(n=r.debugLogger)&&void 0!==n&&null!==(o=n.debug)&&void 0!==o&&o.enable&&window.$onekey.debugLogger.debug.enable(f||""),this.emit("connect",{chainId:s}),this._handleChainChanged({chainId:s,networkVersion:l}),this._handleUnlockStateChanged({accounts:c,isUnlocked:u}),this._handleAccountsChanged(c),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),this._log.error("MetaMask: Failed to get initial state. Please report this bug.",e.t0);case 15:return e.prev=15,this._state.initialized=!0,this.emit("_initialized"),e.finish(15);case 19:case"end":return e.stop()}}),e,this,[[0,12,15,19]])}))),function(){return r.apply(this,arguments)})},{key:"_rpcRequest",value:(t=Object(s.a)(d.a.mark((function e(t,r){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Array.isArray(t)){e.next=7;break}return t.jsonrpc||(t.jsonrpc="2.0"),e.next=4,this.bridgeRequest(t,r);case 4:return n=e.sent,"eth_accounts"!==t.method&&"eth_requestAccounts"!==t.method||this._handleAccountsChanged(n||[],"eth_accounts"===t.method),e.abrupt("return",n);case 7:return e.abrupt("return",this.bridgeRequest(t,r));case 8:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})},{key:"_handleConnect",value:function(e){this._state.isConnected||(this._state.isConnected=!0,this.emit("connect",{chainId:e}),this._log.debug(_.info.connected(e)))}},{key:"_handleDisconnect",value:function(e,t){var r;(this._state.isConnected||!this._state.isPermanentlyDisconnected&&!e)&&(this._state.isConnected=!1,e?(r=new p.EthereumRpcError(1013,t||_.errors.disconnected()),this._log.debug(r)):(r=new p.EthereumRpcError(1011,t||_.errors.permanentlyDisconnected()),this._log.error(r),this.chainId=null,this._state.accounts=null,this.selectedAddress=null,this._state.isUnlocked=!1,this._state.isPermanentlyDisconnected=!0),this.emit("disconnect",r))}},{key:"_handleStreamDisconnect",value:function(e,t){!function(e,t,r,n){var o='MetaMask: Lost connection to "'.concat(t,'".');null!=r&&r.stack&&(o+="\n".concat(r.stack)),e.warn(o),n&&n.listenerCount("error")>0&&n.emit("error",o)}(this._log,e,t,this),this._handleDisconnect(!1,t?t.message:void 0)}},{key:"_handleChainChanged",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.chainId,r=e.networkVersion;t&&"string"==typeof t&&t.startsWith("0x")&&r&&"string"==typeof r?"loading"===r?this._handleDisconnect(!0):(this._handleConnect(t),t!==this.chainId&&(this.chainId=t,this._state.initialized&&this.emit("chainChanged",this.chainId))):this._log.error("MetaMask: Received invalid network parameters. Please report this bug.",{chainId:t,networkVersion:r})}},{key:"_handleAccountsChanged",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e;Array.isArray(e)||(this._log.error("MetaMask: Received invalid accounts parameter. Please report this bug.",e),r=[]);var n,o=C(e);try{for(o.s();!(n=o.n()).done;){var i=n.value;if("string"!=typeof i){this._log.error("MetaMask: Received non-string account. Please report this bug.",e),r=[];break}}}catch(e){o.e(e)}finally{o.f()}v()(this._state.accounts,r)||(t&&null!==this._state.accounts&&this._log.error("MetaMask: 'eth_accounts' unexpectedly updated accounts. Please report this bug.",r),this._state.accounts=r,this.selectedAddress!==r[0]&&(this.selectedAddress=r[0]||null),this._state.initialized&&this.emit("accountsChanged",r))}},{key:"_handleUnlockStateChanged",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.accounts,r=e.isUnlocked;"boolean"==typeof r?r!==this._state.isUnlocked&&(this._state.isUnlocked=r,this._handleAccountsChanged(t||[])):this._log.error("MetaMask: Received invalid isUnlocked parameter. Please report this bug.")}}]),f}(x);function I(e,t,r){return(I="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Object(c.a)(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function M(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return F(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function T(e,t){return L.apply(this,arguments)}function L(){return(L=Object(s.a)(d.a.mark((function e(t,r){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N();case 3:n=e.sent,t.request({scope:g.a.ethereum,data:{jsonrpc:"2.0",id:1,method:"metamask_sendDomainMetadata",params:n}}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),r.error({message:_.errors.sendSiteMetadata(),originalError:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function N(){return D.apply(this,arguments)}function D(){return(D=Object(s.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=q(window),e.next=3,$(window);case 3:return e.t1=e.sent,e.abrupt("return",{name:e.t0,icon:e.t1});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(e){var t=e.document,r=t.querySelector('head > meta[property="og:site_name"]');if(r)return r.content;var n=t.querySelector('head > meta[name="title"]');return n?n.content:t.title&&t.title.length>0?t.title:window.location.hostname}function $(e){return U.apply(this,arguments)}function U(){return(U=Object(s.a)(d.a.mark((function e(t){var r,n,o,i,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.document,n=r.querySelectorAll('head > link[rel~="icon"]'),o=M(n),e.prev=4,o.s();case 6:if((i=o.n()).done){e.next=17;break}if(a=i.value,e.t0=a,!e.t0){e.next=13;break}return e.next=12,B(a.href);case 12:e.t0=e.sent;case 13:if(!e.t0){e.next=15;break}return e.abrupt("return",a.href);case 15:e.next=6;break;case 17:e.next=22;break;case 19:e.prev=19,e.t1=e.catch(4),o.e(e.t1);case 22:return e.prev=22,o.f(),e.finish(22);case 25:return e.abrupt("return",null);case 26:case"end":return e.stop()}}),e,null,[[4,19,22,25]])})))).apply(this,arguments)}function B(e){return new Promise((function(t,r){try{var n=document.createElement("img");n.onload=function(){return t(!0)},n.onerror=function(){return t(!1)},n.src=e}catch(e){r(e)}}))}function J(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var o=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(a.a)(this,r)}}A._defaultState={accounts:null,isConnected:!1,isUnlocked:!1,initialized:!1,isPermanentlyDisconnected:!1};var z=function(e){Object(i.a)(n,e);var t,r=J(n);function n(e){var t,i;Object(o.a)(this,n),(i=r.call(this,e))._sentWarnings={enable:!1,experimentalMethods:!1,send:!1,events:{close:!1,data:!1,networkChanged:!1,notification:!1}};var a=null===(t=e.shouldSendMetadata)||void 0===t||t;if(i.networkVersion=null,i.isMetaMask=!0,i._sendSync=i._sendSync.bind(Object(l.a)(i)),i.enable=i.enable.bind(Object(l.a)(i)),i.send=i.send.bind(Object(l.a)(i)),i.sendAsync=i.sendAsync.bind(Object(l.a)(i)),i._warnOfDeprecation=i._warnOfDeprecation.bind(Object(l.a)(i)),i._metamask=i._getExperimentalApi(),i.bridge.on("notification",(function(e){var t=e.method;if(E.includes(t)){i.emit("data",e);var r=e.params;i.emit("notification",r.result)}})),a)if("complete"===document.readyState)T(i.bridge,i._log);else{window.addEventListener("DOMContentLoaded",(function e(){T(i.bridge,i._log),window.removeEventListener("DOMContentLoaded",e)}))}return i}return Object(u.a)(n,[{key:"sendAsync",value:function(e,t){this._rpcRequest(e,t)}},{key:"addListener",value:function(e,t){return this._warnOfDeprecation(e),I(Object(c.a)(n.prototype),"addListener",this).call(this,e,t)}},{key:"on",value:function(e,t){return this._warnOfDeprecation(e),I(Object(c.a)(n.prototype),"on",this).call(this,e,t)}},{key:"once",value:function(e,t){return this._warnOfDeprecation(e),I(Object(c.a)(n.prototype),"once",this).call(this,e,t)}},{key:"prependListener",value:function(e,t){return this._warnOfDeprecation(e),I(Object(c.a)(n.prototype),"addListener",this).call(this,e,t)}},{key:"prependOnceListener",value:function(e,t){return this._warnOfDeprecation(e),I(Object(c.a)(n.prototype),"once",this).call(this,e,t)}},{key:"_handleDisconnect",value:function(e,t){I(Object(c.a)(n.prototype),"_handleDisconnect",this).call(this,e,t),this.networkVersion&&!e&&(this.networkVersion=null)}},{key:"_warnOfDeprecation",value:function(e){var t;!1===(null===(t=this._sentWarnings)||void 0===t?void 0:t.events[e])&&(this._log.warn(_.warnings.events[e]),this._sentWarnings.events[e]=!0)}},{key:"enable",value:(t=Object(s.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._sentWarnings.enable||(this._log.warn(_.warnings.enableDeprecation),this._sentWarnings.enable=!0),e.next=3,this._rpcRequest({method:"eth_requestAccounts",params:[]});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"send",value:function(e,t){return this._sentWarnings.send||(this._log.warn(_.warnings.sendDeprecation),this._sentWarnings.send=!0),"string"!=typeof e||t&&!Array.isArray(t)?e&&"object"==typeof e&&"function"==typeof t?this._rpcRequest(e,t):this._sendSync(e):this._rpcRequest({method:e,params:t})}},{key:"_sendSync",value:function(e){var t;switch(e.method){case"eth_accounts":t=this.selectedAddress?[this.selectedAddress]:[];break;case"eth_coinbase":t=this.selectedAddress||null;break;case"eth_uninstallFilter":this._rpcRequest(e,k),t=!0;break;case"net_version":t=this.networkVersion||null;break;default:throw new Error(_.errors.unsupportedSync(e.method))}return{id:e.id,jsonrpc:e.jsonrpc,result:t}}},{key:"_getExperimentalApi",value:function(){var e,t,r=this;return new Proxy({isUnlocked:(t=Object(s.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r._state.initialized){e.next=3;break}return e.next=3,new Promise((function(e){r.on("_initialized",(function(){return e()}))}));case 3:return e.abrupt("return",r._state.isUnlocked);case 4:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)}),requestBatch:(e=Object(s.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Array.isArray(t)){e.next=2;break}throw p.ethErrors.rpc.invalidRequest({message:"Batch requests must be made with an array of request objects.",data:t});case 2:return e.abrupt("return",r._rpcRequest(t));case 3:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)})},{get:function(e,t){r._sentWarnings.experimentalMethods||(r._log.warn(_.warnings.experimentalMethods),r._sentWarnings.experimentalMethods=!0);for(var n=arguments.length,o=new Array(n>2?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i];return Reflect.get.apply(Reflect,[e,t].concat(o))}})}},{key:"_handleChainChanged",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.chainId,r=e.networkVersion;I(Object(c.a)(n.prototype),"_handleChainChanged",this).call(this,{chainId:t,networkVersion:r}),r&&"loading"!==r&&r!==this.networkVersion&&(this.networkVersion=r,this._state.initialized&&this.emit("networkChanged",this.networkVersion))}}]),n}(A);function G(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var o=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(a.a)(this,r)}}var W=function(e){Object(i.a)(r,e);var t=G(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return r}(z);function V(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var o=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(a.a)(this,r)}}var H=function(e){Object(i.a)(r,e);var t=V(r);function r(){var e;Object(o.a)(this,r);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).providerName=g.a.$private,e}return Object(u.a)(r,[{key:"request",value:function(e){return this.bridgeRequest(e)}}]),r}(x);function K(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?K(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.a=function(){var e,t,r,n;if(null===(e=window)||void 0===e||null===(t=e.$onekey)||void 0===t||!t.jsBridge)throw new Error("OneKey jsBridge not found.");var o=null===(r=window)||void 0===r||null===(n=r.$onekey)||void 0===n?void 0:n.jsBridge,i=new W({bridge:o}),a=new H({bridge:o}),c=Q(Q({},window.$onekey),{},{jsBridge:o,ethereum:i,$private:a,solana:null,conflux:null,sollet:null});return window.$onekey=c,window.ethereum=i,window.dispatchEvent(new Event("ethereum#initialized")),c}},function(e,t,r){var n=function(e){"use strict";var t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,i=Object.create(o.prototype),a=new x(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return k()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=w(a,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(e,t,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(e,r,a),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var l={};function f(){}function d(){}function p(){}var h={};c(h,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(_([])));y&&y!==t&&r.call(y,o)&&(h=y);var g=p.prototype=f.prototype=Object.create(h);function m(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var n;this._invoke=function(o,i){function a(){return new t((function(n,a){!function n(o,i,a,c){var s=u(e[o],e,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,a,c)}),(function(e){n("throw",e,a,c)})):t.resolve(f).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,c)}))}c(s.arg)}(o,i,n,a)}))}return n=n?n.then(a,a):a()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,l;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function _(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=p,c(g,"constructor",p),c(p,"constructor",d),d.displayName=c(p,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,a,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},m(b.prototype),c(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new b(s(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},m(g),c(g,a,"Generator"),c(g,o,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=_,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:_(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},e}(e.exports);try{regeneratorRuntime=n}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},function(e,t,r){var n=r(50);n(n.G,{global:r(13)})},function(e,t,r){var n=r(13),o=r(14),i=r(25),a=r(57),c=r(63),s=function(e,t,r){var u,l,f,d,p=e&s.F,h=e&s.G,v=e&s.S,y=e&s.P,g=e&s.B,m=h?n:v?n[t]||(n[t]={}):(n[t]||{}).prototype,b=h?o:o[t]||(o[t]={}),w=b.prototype||(b.prototype={});for(u in h&&(r=t),r)f=((l=!p&&m&&void 0!==m[u])?m:r)[u],d=g&&l?c(f,n):y&&"function"==typeof f?c(Function.call,f):f,m&&a(m,u,f,e&s.U),b[u]!=f&&i(b,u,d),y&&w[u]!=f&&(w[u]=f)};n.core=o,s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,e.exports=s},function(e,t,r){var n=r(52),o=r(53),i=r(55),a=Object.defineProperty;t.f=r(17)?Object.defineProperty:function(e,t,r){if(n(e),t=i(t,!0),n(r),o)try{return a(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},function(e,t,r){var n=r(16);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t,r){e.exports=!r(17)&&!r(26)((function(){return 7!=Object.defineProperty(r(54)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,r){var n=r(16),o=r(13).document,i=n(o)&&n(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},function(e,t,r){var n=r(16);e.exports=function(e,t){if(!n(e))return e;var r,o;if(t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;if("function"==typeof(r=e.valueOf)&&!n(o=r.call(e)))return o;if(!t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,r){var n=r(13),o=r(25),i=r(58),a=r(59)("src"),c=r(60),s=(""+c).split("toString");r(14).inspectSource=function(e){return c.call(e)},(e.exports=function(e,t,r,c){var u="function"==typeof r;u&&(i(r,"name")||o(r,"name",t)),e[t]!==r&&(u&&(i(r,a)||o(r,a,e[t]?""+e[t]:s.join(String(t)))),e===n?e[t]=r:c?e[t]?e[t]=r:o(e,t,r):(delete e[t],o(e,t,r)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[a]||c.call(this)}))},function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},function(e,t){var r=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+n).toString(36))}},function(e,t,r){e.exports=r(61)("native-function-to-string",Function.toString)},function(e,t,r){var n=r(14),o=r(13),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:r(62)?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports=!1},function(e,t,r){var n=r(64);e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,o){return e.call(t,r,n,o)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,r){var n=r(0),o=r(66),i=r(18);function a(){return(a=i(n.mark((function e(t){var a,c,s,u,l,f,d,p,h,v;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},h=function(e){return e instanceof Error?e.stack||e.message:e},p=function(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")},d=function(e){if("*"===e[e.length-1])return!0;var t,r;for(t=0,r=c.skips.length;t<r;t++)if(c.skips[t].test(e))return!1;for(t=0,r=c.names.length;t<r;t++)if(c.names[t].test(e))return!0;return!1},f=function(){var e=[].concat(o(c.names.map(p)),o(c.skips.map(p).map((function(e){return"-".concat(e)})))).join(",");return c.enable(""),e},l=function(){return(l=i(n.mark((function e(t){var r,o,i;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.save(t);case 2:c.namespaces=t,c.names=[],c.skips=[],o=("string"==typeof t?t:"").split(/[\s,]+/),i=o.length,r=0;case 8:if(!(r<i)){e.next=16;break}if(o[r]){e.next=11;break}return e.abrupt("continue",13);case 11:"-"===(t=o[r].replace(/\*/g,".*?"))[0]?c.skips.push(new RegExp("^".concat(t.substr(1),"$"))):c.names.push(new RegExp("^".concat(t,"$")));case 13:r++,e.next=8;break;case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)},u=function(e){return l.apply(this,arguments)},s=function(e,t){var r=c(this.namespace+(void 0===t?":":t)+e);return r.log=this.log,r},a=function(e){for(var t=0,r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return c.colors[Math.abs(t)%c.colors.length]},(c=function(e){var t,r,n,o=null;function i(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(i.enabled){var o=i,a=Number(new Date),s=a-(t||a);o.diff=s,o.prev=t,o.curr=a,t=a,r[0]=c.coerce(r[0]),"string"!=typeof r[0]&&r.unshift("%O");var u=0;r[0]=r[0].replace(/%([a-zA-Z%])/g,(function(e,t){if("%%"===e)return"%";u++;var n=c.formatters[t];if("function"==typeof n){var i=r[u];e=n.call(o,i),r.splice(u,1),u--}return e})),c.formatArgs.call(o,r);var l=o.log||c.log;l.apply(o,r)}}return i.namespace=e,i.useColors=c.useColors(),i.color=c.selectColor(e),i.extend=s,i.destroy=c.destroy,Object.defineProperty(i,"enabled",{enumerable:!0,configurable:!1,get:function(){return null!==o?o:(r!==c.namespaces&&(r=c.namespaces,n=c.enabled(e)),n)},set:function(e){o=e}}),"function"==typeof c.init&&c.init(i),i}).debug=c,c.default=c,c.coerce=h,c.disable=f,c.enable=u,c.enabled=d,c.humanize=r(29),c.destroy=v,Object.keys(t).forEach((function(e){c[e]=t[e]})),c.names=[],c.skips=[],c.formatters={j:function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: ".concat(e.message)}}},c.selectColor=a,e.t0=c,e.next=26,c.load();case 26:return e.t1=e.sent,e.next=29,e.t0.enable.call(e.t0,e.t1);case 29:return e.abrupt("return",c);case 30:case"end":return e.stop()}}),e)})))).apply(this,arguments)}e.exports=function(e){return a.apply(this,arguments)}},function(e,t,r){var n=r(67),o=r(68),i=r(69),a=r(70);e.exports=function(e){return n(e)||o(e)||i(e)||a()},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,r){var n=r(28);e.exports=function(e){if(Array.isArray(e))return n(e)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,r){var n=r(28);e.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,r){(function(n){var o,i=r(0),a=r(18),c="$$ONEKEY_DEBUG_LOGGER",s=r(87);function u(){return(u=a(i.mark((function e(r){return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!r){e.next=6;break}return e.next=4,t.storage.setItem(c,r);case 4:e.next=8;break;case 6:return e.next=8,t.storage.removeItem(c);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("debug logger storage error",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function l(){return(l=a(i.mark((function e(){var r;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.storage.getItem(c);case 3:r=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("debug logger storage error",e.t0);case 9:return!r&&void 0!==n&&"env"in n&&(r=n.env.DEBUG),e.abrupt("return",r);case 11:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}t.formatArgs=function(t){if(t[0]="".concat((this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" "),"+").concat(e.exports.humanize(this.diff)),!this.useColors)return;var r="color: ".concat(this.color);t.splice(1,0,r,"color: inherit");var n=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(n+=1,"%c"===e&&(o=n))})),t.splice(o,0,r)},t.save=function(e){return u.apply(this,arguments)},t.load=function(){return l.apply(this,arguments)},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return s.default}catch(e){console.error("debug logger storage error",e)}}(),t.humanize=r(29),t.destroy=(o=!1,function(){o||(o=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=function(){var e;if(console.debug)(e=console).debug.apply(e,arguments);else if(console.log){var t;(t=console).log.apply(t,arguments)}},e.exports=t}).call(this,r(27))},function(e,t,r){"use strict";e.exports=e=>{if("[object Object]"!==Object.prototype.toString.call(e))return!1;const t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}},function(e,t,r){var n=r(74),o="object"==typeof self&&self&&self.Object===Object&&self,i=n||o||Function("return this")();e.exports=i},function(e,t){var r="object"==typeof global&&global&&global.Object===Object&&global;e.exports=r},function(e,t,r){var n=r(30),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,c=n?n.toStringTag:void 0;e.exports=function(e){var t=i.call(e,c),r=e[c];try{e[c]=void 0;var n=!0}catch(e){}var o=a.call(e);return n&&(t?e[c]=r:delete e[c]),o}},function(e,t){var r=Object.prototype.toString;e.exports=function(e){return r.call(e)}},function(e,t,r){var n=r(78)(Object.getPrototypeOf,Object);e.exports=n},function(e,t){e.exports=function(e,t){return function(r){return e(t(r))}}},function(e,t){var r=Array.isArray;e.exports=r},function(e,t,r){"use strict";var n=r(32),o=r(34),i=r(35),a=r(83),c=i(),s=function(){return c};n(s,{getPolyfill:i,implementation:o,shim:a}),e.exports=s},function(e,t,r){"use strict";var n=Array.prototype.slice,o=r(33),i=Object.keys,a=i?function(e){return i(e)}:r(82),c=Object.keys;a.shim=function(){Object.keys?function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2)||(Object.keys=function(e){return o(e)?c(n.call(e)):c(e)}):Object.keys=a;return Object.keys||a},e.exports=a},function(e,t,r){"use strict";var n;if(!Object.keys){var o=Object.prototype.hasOwnProperty,i=Object.prototype.toString,a=r(33),c=Object.prototype.propertyIsEnumerable,s=!c.call({toString:null},"toString"),u=c.call((function(){}),"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],f=function(e){var t=e.constructor;return t&&t.prototype===e},d={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},p=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!d["$"+e]&&o.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{f(window[e])}catch(e){return!0}}catch(e){return!0}return!1}();n=function(e){var t=null!==e&&"object"==typeof e,r="[object Function]"===i.call(e),n=a(e),c=t&&"[object String]"===i.call(e),d=[];if(!t&&!r&&!n)throw new TypeError("Object.keys called on a non-object");var h=u&&r;if(c&&e.length>0&&!o.call(e,0))for(var v=0;v<e.length;++v)d.push(String(v));if(n&&e.length>0)for(var y=0;y<e.length;++y)d.push(String(y));else for(var g in e)h&&"prototype"===g||!o.call(e,g)||d.push(String(g));if(s)for(var m=function(e){if("undefined"==typeof window||!p)return f(e);try{return f(e)}catch(e){return!1}}(e),b=0;b<l.length;++b)m&&"constructor"===l[b]||!o.call(e,l[b])||d.push(l[b]);return d}}e.exports=n},function(e,t,r){"use strict";var n=r(32),o=r(35);e.exports=function(){var e=o();if(n.supportsDescriptors){var t=Object.getOwnPropertyDescriptor(e,"globalThis");(!t||t.configurable&&(t.enumerable||t.writable||globalThis!==e))&&Object.defineProperty(e,"globalThis",{configurable:!0,enumerable:!1,value:e,writable:!1})}else"object"==typeof globalThis&&globalThis===e||(e.globalThis=e);return e}},function(e,t){e.exports=i,i.default=i,i.stable=s,i.stableStringify=s;var r=[],n=[];function o(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function i(e,t,i,c){var s;void 0===c&&(c=o()),function e(t,r,n,o,i,c,s){var u;if(c+=1,"object"==typeof t&&null!==t){for(u=0;u<o.length;u++)if(o[u]===t)return void a("[Circular]",t,r,i);if(void 0!==s.depthLimit&&c>s.depthLimit)return void a("[...]",t,r,i);if(void 0!==s.edgesLimit&&n+1>s.edgesLimit)return void a("[...]",t,r,i);if(o.push(t),Array.isArray(t))for(u=0;u<t.length;u++)e(t[u],u,u,o,t,c,s);else{var l=Object.keys(t);for(u=0;u<l.length;u++){var f=l[u];e(t[f],f,u,o,t,c,s)}}o.pop()}}(e,"",0,[],void 0,0,c);try{s=0===n.length?JSON.stringify(e,t,i):JSON.stringify(e,u(t),i)}catch(e){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==r.length;){var l=r.pop();4===l.length?Object.defineProperty(l[0],l[1],l[3]):l[0][l[1]]=l[2]}}return s}function a(e,t,o,i){var a=Object.getOwnPropertyDescriptor(i,o);void 0!==a.get?a.configurable?(Object.defineProperty(i,o,{value:e}),r.push([i,o,t,a])):n.push([t,o,e]):(i[o]=e,r.push([i,o,t]))}function c(e,t){return e<t?-1:e>t?1:0}function s(e,t,i,s){void 0===s&&(s=o());var l,f=function e(t,n,o,i,s,u,l){var f;if(u+=1,"object"==typeof t&&null!==t){for(f=0;f<i.length;f++)if(i[f]===t)return void a("[Circular]",t,n,s);try{if("function"==typeof t.toJSON)return}catch(e){return}if(void 0!==l.depthLimit&&u>l.depthLimit)return void a("[...]",t,n,s);if(void 0!==l.edgesLimit&&o+1>l.edgesLimit)return void a("[...]",t,n,s);if(i.push(t),Array.isArray(t))for(f=0;f<t.length;f++)e(t[f],f,f,i,t,u,l);else{var d={},p=Object.keys(t).sort(c);for(f=0;f<p.length;f++){var h=p[f];e(t[h],h,f,i,t,u,l),d[h]=t[h]}if(void 0===s)return d;r.push([s,n,t]),s[n]=d}i.pop()}}(e,"",0,[],void 0,0,s)||e;try{l=0===n.length?JSON.stringify(f,t,i):JSON.stringify(f,u(t),i)}catch(e){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==r.length;){var d=r.pop();4===d.length?Object.defineProperty(d[0],d[1],d[3]):d[0][d[1]]=d[2]}}return l}function u(e){return e=void 0!==e?e:function(e,t){return t},function(t,r){if(n.length>0)for(var o=0;o<n.length;o++){var i=n[o];if(i[1]===t&&i[0]===r){r=i[2],n.splice(o,1);break}}return e.call(this,t,r)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ethErrors=void 0;const n=r(20),o=r(36),i=r(21);function a(e,t){const[r,i]=s(t);return new n.EthereumRpcError(e,r||o.getMessageFromCode(e),i)}function c(e,t){const[r,i]=s(t);return new n.EthereumProviderError(e,r||o.getMessageFromCode(e),i)}function s(e){if(e){if("string"==typeof e)return[e];if("object"==typeof e&&!Array.isArray(e)){const{message:t,data:r}=e;if(t&&"string"!=typeof t)throw new Error("Must specify string message.");return[t||void 0,r]}}return[]}t.ethErrors={rpc:{parse:e=>a(i.errorCodes.rpc.parse,e),invalidRequest:e=>a(i.errorCodes.rpc.invalidRequest,e),invalidParams:e=>a(i.errorCodes.rpc.invalidParams,e),methodNotFound:e=>a(i.errorCodes.rpc.methodNotFound,e),internal:e=>a(i.errorCodes.rpc.internal,e),server:e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:t}=e;if(!Number.isInteger(t)||t>-32005||t<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return a(t,e)},invalidInput:e=>a(i.errorCodes.rpc.invalidInput,e),resourceNotFound:e=>a(i.errorCodes.rpc.resourceNotFound,e),resourceUnavailable:e=>a(i.errorCodes.rpc.resourceUnavailable,e),transactionRejected:e=>a(i.errorCodes.rpc.transactionRejected,e),methodNotSupported:e=>a(i.errorCodes.rpc.methodNotSupported,e),limitExceeded:e=>a(i.errorCodes.rpc.limitExceeded,e)},provider:{userRejectedRequest:e=>c(i.errorCodes.provider.userRejectedRequest,e),unauthorized:e=>c(i.errorCodes.provider.unauthorized,e),unsupportedMethod:e=>c(i.errorCodes.provider.unsupportedMethod,e),disconnected:e=>c(i.errorCodes.provider.disconnected,e),chainDisconnected:e=>c(i.errorCodes.provider.chainDisconnected,e),custom:e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:t,message:r,data:o}=e;if(!r||"string"!=typeof r)throw new Error('"message" must be a nonempty string');return new n.EthereumProviderError(t,r,o)}}}},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,r){"use strict";r.r(t);var n=r(39);const o=r.n(n).a.bind({concatArrays:!0,ignoreUndefined:!0}),i=(e,t)=>new Promise((r,n)=>{try{const n=e();t&&t(null,n),r(n)}catch(e){t&&t(e),n(e)}}),a=(e,t,r)=>Promise.all(e).then(e=>{const n=r?r(e):null;return t&&t(null,n),Promise.resolve(n)},e=>(t&&t(e),Promise.reject(e)));class c{static getItem(e,t){return i(()=>window.localStorage.getItem(e),t)}static setItem(e,t,r){return i(()=>{window.localStorage.setItem(e,t)},r)}static removeItem(e,t){return i(()=>window.localStorage.removeItem(e),t)}static mergeItem(e,t,r){return i(()=>{((e,t)=>{const r=window.localStorage.getItem(e),n=JSON.parse(r),i=JSON.parse(t),a=JSON.stringify(o(n,i));window.localStorage.setItem(e,a)})(e,t)},r)}static clear(e){return i(()=>{window.localStorage.clear()},e)}static getAllKeys(e){return i(()=>{const e=window.localStorage.length,t=[];for(let r=0;r<e;r+=1){const e=window.localStorage.key(r);t.push(e)}return t},e)}static flushGetRequests(){}static multiGet(e,t){const r=e.map(e=>c.getItem(e));return a(r,t,t=>t.map((t,r)=>[e[r],t]))}static multiSet(e,t){const r=e.map(e=>c.setItem(e[0],e[1]));return a(r,t)}static multiRemove(e,t){const r=e.map(e=>c.removeItem(e));return a(r,t)}static multiMerge(e,t){const r=e.map(e=>c.mergeItem(e[0],e[1]));return a(r,t)}}var s=c,u=r(9),l=r(2),f=r(10),d=r(4),p=r(6),h=r(0),v=r.n(h),y=function(){function e(){Object(d.a)(this,e),this.browserApi=Object(u.c)()||!Object(u.f)()?global.browser:global.chrome}var t,r;return Object(p.a)(e,[{key:"setItem",value:function(e,t){return this.browserApi.storage.local.set(Object(f.a)({},e,t))}},{key:"getItem",value:(r=Object(l.a)(v.a.mark((function e(t){var r,n,o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.browserApi.storage.local.get(t);case 2:if(e.t1=r=e.sent,e.t0=null!==e.t1,!e.t0){e.next=6;break}e.t0=void 0!==r;case 6:if(!e.t0){e.next=10;break}e.t2=r,e.next=11;break;case 10:e.t2={};case 11:return n=e.t2,o=n[t],e.abrupt("return",o);case 14:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"removeItem",value:(t=Object(l.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.browserApi.storage.local.remove(t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"clear",value:function(e){return Promise.resolve(void 0)}},{key:"getAllKeys",value:function(e){return Promise.resolve([])}},{key:"mergeItem",value:function(e,t,r){return Promise.resolve(void 0)}},{key:"multiGet",value:function(e,t){return Promise.resolve([])}},{key:"multiMerge",value:function(e,t){return Promise.resolve(void 0)}},{key:"multiRemove",value:function(e,t){return Promise.resolve(void 0)}},{key:"multiSet",value:function(e,t){return Promise.resolve(void 0)}}]),e}(),g=Object(u.b)()?new y:s;Object(u.a)()&&(global.$$appStorage=g);t.default=g},function(e,t){e.exports=require("electron")},function(e,t,r){"use strict";r.r(t);var n=r(4),o=r(6),i=r(8),a=r(7),c=r(1),s=r(88),u=r(12),l=r(23);function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(c.a)(e);if(t){var o=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(a.a)(this,r)}}var d=function(e){Object(i.a)(r,e);var t=f(r);function r(){var e;Object(n.a)(this,r);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).sendAsString=!0,e.isInjected=!0,e}return Object(o.a)(r,[{key:"sendPayload",value:function(e){s.ipcRenderer.sendToHost(l.c,e),u.a.desktopInjected("ipcRenderer.sendToHost",l.c,e)}}]),r}(r(40).a),p=r(43),h=r(44),v=r(47),y=new d({receiveHandler:p.a});Object(h.a)(y),Object(v.a)()}])}));